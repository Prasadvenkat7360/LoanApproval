var oldBrowser=document.all&&!document.addEventListener;oldBrowser||function(g,v){var i,t,x=g.document,e=(g.location,g.navigator),s=g.JQXLite,r=g.$,n=Array.prototype.push,w=Array.prototype.slice,o=Array.prototype.indexOf,a=Object.prototype.toString,l=Object.prototype.hasOwnProperty,d=String.prototype.trim,ve=function(e,t){return new ve.fn.init(e,t,i)},h=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,c=/\S/,p=/\s+/,u=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,m=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,f=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,y=/^[\],:{}\s]*$/,b=/(?:^|:|,)(?:\s*\[)+/g,_=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,j=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,q=/^-ms-/,T=/-([\da-z])/gi,C=function(e,t){return(t+"").toUpperCase()},S=function(){x.addEventListener?(x.removeEventListener("DOMContentLoaded",S,!1),ve.ready()):"complete"===x.readyState&&(x.detachEvent("onreadystatechange",S),ve.ready())},k={};ve.fn=ve.prototype={constructor:ve,init:function(e,t,i){var s,r,n;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(!(s="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:m.exec(e))||!s[1]&&t)return!t||t.jqx?(t||i).find(e):this.constructor(t).find(e);if(s[1])return n=(t=t instanceof ve?t[0]:t)&&t.nodeType?t.ownerDocument||t:x,e=ve.parseHTML(s[1],n,!0),f.test(s[1])&&ve.isPlainObject(t)&&this.attr.call(e,t,!0),ve.merge(this,e);if((r=x.getElementById(s[2]))&&r.parentNode){if(r.id!==s[2])return i.find(e);this.length=1,this[0]=r}return this.context=x,this.selector=e,this}return ve.isFunction(e)?i.ready(e):(e.selector!==v&&(this.selector=e.selector,this.context=e.context),ve.makeArray(e,this))},selector:"",jqx:"4.5.0",length:0,size:function(){return this.length},toArray:function(){return w.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,i){var s=ve.merge(this.constructor(),e);return s.prevObject=this,s.context=this.context,"find"===t?s.selector=this.selector+(this.selector?" ":"")+i:t&&(s.selector=this.selector+"."+t+"("+i+")"),s},each:function(e,t){return ve.each(this,e,t)},ready:function(e){return ve.ready.promise().done(e),this},eq:function(e){return-1===(e=+e)?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(w.apply(this,arguments),"slice",w.call(arguments).join(","))},map:function(i){return this.pushStack(ve.map(this,function(e,t){return i.call(e,t,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:n,sort:[].sort,splice:[].splice},ve.fn.init.prototype=ve.fn,ve.extend=ve.fn.extend=function(){var e,t,i,s,r,n,o=arguments[0]||{},a=1,l=arguments.length,d=!1;for("boolean"==typeof o&&(d=o,o=arguments[1]||{},a=2),"object"==typeof o||ve.isFunction(o)||(o={}),l===a&&(o=this,--a);a<l;a++)if(null!=(e=arguments[a]))for(t in e)i=o[t],o!==(s=e[t])&&(d&&s&&(ve.isPlainObject(s)||(r=ve.isArray(s)))?(r?(r=!1,n=i&&ve.isArray(i)?i:[]):n=i&&ve.isPlainObject(i)?i:{},o[t]=ve.extend(d,n,s)):s!==v&&(o[t]=s));return o},ve.extend({noConflict:function(e){return g.$===ve&&(g.$=r),e&&g.JQXLite===ve&&(g.JQXLite=s),ve},isReady:!1,readyWait:1,holdReady:function(e){e?ve.readyWait++:ve.ready(!0)},ready:function(e){if(!0===e?!--ve.readyWait:!ve.isReady){if(!x.body)return setTimeout(ve.ready,1);(ve.isReady=!0)!==e&&0<--ve.readyWait||(t.resolveWith(x,[ve]),ve.fn.trigger&&ve(x).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===ve.type(e)},isArray:Array.isArray||function(e){return"array"===ve.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):k[a.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==ve.type(e)||e.nodeType||ve.isWindow(e))return!1;try{if(e.constructor&&!l.call(e,"constructor")&&!l.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e);return t===v||l.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,i){var s;return e&&"string"==typeof e?("boolean"==typeof t&&(i=t,t=0),t=t||x,(s=f.exec(e))?[t.createElement(s[1])]:(s=ve.buildFragment([e],t,i?null:[]),ve.merge([],(s.cacheable?ve.clone(s.fragment):s.fragment).childNodes))):null},parseJSON:function(e){return e&&"string"==typeof e?(e=ve.trim(e),g.JSON&&g.JSON.parse?g.JSON.parse(e):y.test(e.replace(_,"@").replace(j,"]").replace(b,""))?new Function("return "+e)():void ve.error("Invalid JSON: "+e)):null},parseXML:function(e){var t;if(!e||"string"!=typeof e)return null;try{g.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(e){t=v}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||ve.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){e&&c.test(e)&&(g.execScript||function(e){g.eval.call(g,e)})(e)},camelCase:function(e){return e.replace(q,"ms-").replace(T,C)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var s,r=0,n=e.length,o=n===v||ve.isFunction(e);if(i)if(o){for(s in e)if(!1===t.apply(e[s],i))break}else for(;r<n&&!1!==t.apply(e[r++],i););else if(o){for(s in e)if(!1===t.call(e[s],s,e[s]))break}else for(;r<n&&!1!==t.call(e[r],r,e[r++]););return e},trim:d&&!d.call("\ufeffÂ ")?function(e){return null==e?"":d.call(e)}:function(e){return null==e?"":(e+"").replace(u,"")},makeArray:function(e,t){var i,s=t||[];return null!=e&&(i=ve.type(e),null==e.length||"string"===i||"function"===i||"regexp"===i||ve.isWindow(e)?n.call(s,e):ve.merge(s,e)),s},inArray:function(e,t,i){var s;if(t){if(o)return o.call(t,e,i);for(s=t.length,i=i?i<0?Math.max(0,s+i):i:0;i<s;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){var i=t.length,s=e.length,r=0;if("number"==typeof i)for(;r<i;r++)e[s++]=t[r];else for(;t[r]!==v;)e[s++]=t[r++];return e.length=s,e},grep:function(e,t,i){var s=[],r=0,n=e.length;for(i=!!i;r<n;r++)i!==!!t(e[r],r)&&s.push(e[r]);return s},map:function(e,t,i){var s,r,n=[],o=0,a=e.length;if(e instanceof ve||a!==v&&"number"==typeof a&&(0<a&&e[0]&&e[a-1]||0===a||ve.isArray(e)))for(;o<a;o++)null!=(s=t(e[o],o,i))&&(n[n.length]=s);else for(r in e)null!=(s=t(e[r],r,i))&&(n[n.length]=s);return n.concat.apply([],n)},guid:1,proxy:function(e,t){var i,s,r;return"string"==typeof t&&(i=e[t],t=e,e=i),ve.isFunction(e)?(s=w.call(arguments,2),(r=function(){return e.apply(t,s.concat(w.call(arguments)))}).guid=e.guid=e.guid||ve.guid++,r):v},access:function(e,t,i,s,r,n,o){var a,l=null==i,d=0,h=e.length;if(i&&"object"==typeof i){for(d in i)ve.access(e,t,d,i[d],1,n,s);r=1}else if(s!==v){if(a=o===v&&ve.isFunction(s),l&&(a?(a=t,t=function(e,t,i){return a.call(ve(e),i)}):(t.call(e,s),t=null)),t)for(;d<h;d++)t(e[d],i,a?s.call(e[d],d,t(e[d],i)):s,o);r=1}return r?e:l?t.call(e):h?t(e[0],i):n},now:function(){return(new Date).getTime()}}),ve.ready.promise=function(e){if(!t)if(t=ve.Deferred(),"complete"===x.readyState)setTimeout(ve.ready,1);else if(x.addEventListener)x.addEventListener("DOMContentLoaded",S,!1),g.addEventListener("load",ve.ready,!1);else{x.attachEvent("onreadystatechange",S),g.attachEvent("onload",ve.ready);var i=!1;try{i=null==g.frameElement&&x.documentElement}catch(e){}i&&i.doScroll&&function t(){if(!ve.isReady){try{i.doScroll("left")}catch(e){return setTimeout(t,50)}ve.ready()}}()}return t.promise(e)},ve.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){k["[object "+t+"]"]=t.toLowerCase()}),i=ve(x);var I={};ve.Callbacks=function(r){var e,i;r="string"==typeof r?I[r]||(i=I[e=r]={},ve.each(e.split(p),function(e,t){i[t]=!0}),i):ve.extend({},r);var t,s,n,o,a,l,d=[],h=!r.once&&[],c=function(e){for(t=r.memory&&e,s=!0,l=o||0,o=0,a=d.length,n=!0;d&&l<a;l++)if(!1===d[l].apply(e[0],e[1])&&r.stopOnFalse){t=!1;break}n=!1,d&&(h?h.length&&c(h.shift()):t?d=[]:u.disable())},u={add:function(){if(d){var e=d.length;!function s(e){ve.each(e,function(e,t){var i=ve.type(t);"function"===i?r.unique&&u.has(t)||d.push(t):t&&t.length&&"string"!==i&&s(t)})}(arguments),n?a=d.length:t&&(o=e,c(t))}return this},remove:function(){return d&&ve.each(arguments,function(e,t){for(var i;-1<(i=ve.inArray(t,d,i));)d.splice(i,1),n&&(i<=a&&a--,i<=l&&l--)}),this},has:function(e){return-1<ve.inArray(e,d)},empty:function(){return d=[],this},disable:function(){return d=h=t=v,this},disabled:function(){return!d},lock:function(){return h=v,t||u.disable(),this},locked:function(){return!h},fireWith:function(e,t){return t=[e,(t=t||[]).slice?t.slice():t],!d||s&&!h||(n?h.push(t):c(t)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!s}};return u},ve.extend({Deferred:function(e){var o=[["resolve","done",ve.Callbacks("once memory"),"resolved"],["reject","fail",ve.Callbacks("once memory"),"rejected"],["notify","progress",ve.Callbacks("memory")]],r="pending",n={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var n=arguments;return ve.Deferred(function(r){ve.each(o,function(e,t){var i=t[0],s=n[e];a[t[1]](ve.isFunction(s)?function(){var e=s.apply(this,arguments);e&&ve.isFunction(e.promise)?e.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[i+"With"](this===a?r:this,[e])}:r[i])}),n=null}).promise()},promise:function(e){return null!=e?ve.extend(e,n):n}},a={};return n.pipe=n.then,ve.each(o,function(e,t){var i=t[2],s=t[3];n[t[1]]=i.add,s&&i.add(function(){r=s},o[1^e][2].disable,o[2][2].lock),a[t[0]]=i.fire,a[t[0]+"With"]=i.fireWith}),n.promise(a),e&&e.call(a,a),a},when:function(e){var r,t,i,s=0,n=w.call(arguments),o=n.length,a=1!==o||e&&ve.isFunction(e.promise)?o:0,l=1===a?e:ve.Deferred(),d=function(t,i,s){return function(e){i[t]=this,s[t]=1<arguments.length?w.call(arguments):e,s===r?l.notifyWith(i,s):--a||l.resolveWith(i,s)}};if(1<o)for(r=new Array(o),t=new Array(o),i=new Array(o);s<o;s++)n[s]&&ve.isFunction(n[s].promise)?n[s].promise().done(d(s,i,n)).fail(l.reject).progress(d(s,t,r)):--a;return a||l.resolveWith(i,n),l.promise()}}),ve.support=function(){var o,e,t,i,s,r,n,a,l,d,h,c=x.createElement("div");if(c.setAttribute("className","t"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=c.getElementsByTagName("*"),t=c.getElementsByTagName("a")[0],!e||!t||!e.length)return{};s=(i=x.createElement("select")).appendChild(x.createElement("option")),r=c.getElementsByTagName("input")[0],t.style.cssText="top:1px;float:left;opacity:.5",o={leadingWhitespace:3===c.firstChild.nodeType,tbody:!c.getElementsByTagName("tbody").length,htmlSerialize:!!c.getElementsByTagName("link").length,style:/top/.test(t.getAttribute("style")),hrefNormalized:"/a"===t.getAttribute("href"),opacity:/^0.5/.test(t.style.opacity),cssFloat:!!t.style.cssFloat,checkOn:"on"===r.value,optSelected:s.selected,getSetAttribute:"t"!==c.className,enctype:!!x.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==x.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===x.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},r.checked=!0,o.noCloneChecked=r.cloneNode(!0).checked,i.disabled=!0,o.optDisabled=!s.disabled;try{delete c.test}catch(e){o.deleteExpando=!1}if(!c.addEventListener&&c.attachEvent&&c.fireEvent&&(c.attachEvent("onclick",h=function(){o.noCloneEvent=!1}),c.cloneNode(!0).fireEvent("onclick"),c.detachEvent("onclick",h)),(r=x.createElement("input")).value="t",r.setAttribute("type","radio"),o.radioValue="t"===r.value,r.setAttribute("checked","checked"),r.setAttribute("name","t"),c.appendChild(r),(n=x.createDocumentFragment()).appendChild(c.lastChild),o.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked,o.appendChecked=r.checked,n.removeChild(r),n.appendChild(c),c.attachEvent)for(l in{submit:!0,change:!0,focusin:!0})(d=(a="on"+l)in c)||(c.setAttribute(a,"return;"),d="function"==typeof c[a]),o[l+"Bubbles"]=d;return ve(function(){var e,t,i,s,r="padding:0;margin:0;border:0;display:block;overflow:hidden;",n=x.getElementsByTagName("body")[0];n&&((e=x.createElement("div")).style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",n.insertBefore(e,n.firstChild),t=x.createElement("div"),e.appendChild(t),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(i=t.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",d=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",o.reliableHiddenOffsets=d&&0===i[0].offsetHeight,t.innerHTML="",t.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",o.boxSizing=4===t.offsetWidth,o.doesNotIncludeMarginInBodyOffset=1!==n.offsetTop,g.getComputedStyle&&(o.pixelPosition="1%"!==(g.getComputedStyle(t,null)||{}).top,o.boxSizingReliable="4px"===(g.getComputedStyle(t,null)||{width:"4px"}).width,(s=x.createElement("div")).style.cssText=t.style.cssText=r,s.style.marginRight=s.style.width="0",t.style.width="1px",t.appendChild(s),o.reliableMarginRight=!parseFloat((g.getComputedStyle(s,null)||{}).marginRight)),void 0!==t.style.zoom&&(t.innerHTML="",t.style.cssText=r+"width:1px;padding:1px;display:inline;zoom:1",o.inlineBlockNeedsLayout=3===t.offsetWidth,t.style.display="block",t.style.overflow="visible",t.innerHTML="<div></div>",t.firstChild.style.width="5px",o.shrinkWrapBlocks=3!==t.offsetWidth,e.style.zoom=1),n.removeChild(e),e=t=i=s=null)}),n.removeChild(c),e=t=i=s=r=n=c=null,o}();var D=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;function A(e,t,i){if(i===v&&1===e.nodeType){var s="data-"+t.replace(P,"-$1").toLowerCase();if("string"==typeof(i=e.getAttribute(s))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:D.test(i)?ve.parseJSON(i):i)}catch(e){}ve.data(e,t,i)}else i=v}return i}function M(e){var t;for(t in e)if(("data"!==t||!ve.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}ve.extend({cache:{},deletedIds:[],uuid:0,expando:"JQXLite"+(ve.fn.jqx+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return!!(e=e.nodeType?ve.cache[e[ve.expando]]:e[ve.expando])&&!M(e)},data:function(e,t,i,s){if(ve.acceptData(e)){var r,n,o=ve.expando,a="string"==typeof t,l=e.nodeType,d=l?ve.cache:e,h=l?e[o]:e[o]&&o;if(h&&d[h]&&(s||d[h].data)||!a||i!==v)return h||(l?e[o]=h=ve.deletedIds.pop()||ve.guid++:h=o),d[h]||(d[h]={},l||(d[h].toJSON=ve.noop)),"object"!=typeof t&&"function"!=typeof t||(s?d[h]=ve.extend(d[h],t):d[h].data=ve.extend(d[h].data,t)),r=d[h],s||(r.data||(r.data={}),r=r.data),i!==v&&(r[ve.camelCase(t)]=i),a?null==(n=r[t])&&(n=r[ve.camelCase(t)]):n=r,n}},removeData:function(e,t,i){if(ve.acceptData(e)){var s,r,n,o=e.nodeType,a=o?ve.cache:e,l=o?e[ve.expando]:ve.expando;if(a[l]){if(t&&(s=i?a[l]:a[l].data)){ve.isArray(t)||(t=t in s?[t]:(t=ve.camelCase(t))in s?[t]:t.split(" "));for(r=0,n=t.length;r<n;r++)delete s[t[r]];if(!(i?M:ve.isEmptyObject)(s))return}(i||(delete a[l].data,M(a[l])))&&(o?ve.cleanData([e],!0):ve.support.deleteExpando||a!=a.window?delete a[l]:a[l]=null)}}},_data:function(e,t,i){return ve.data(e,t,i,!0)},acceptData:function(e){var t=e.nodeName&&ve.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),ve.fn.extend({data:function(i,e){var s,r,t,n,o,a=this[0],l=0,d=null;if(i===v){if(this.length&&(d=ve.data(a),1===a.nodeType&&!ve._data(a,"parsedAttrs"))){for(o=(t=a.attributes).length;l<o;l++)(n=t[l].name).indexOf("data-")||(n=ve.camelCase(n.substring(5)),A(a,n,d[n]));ve._data(a,"parsedAttrs",!0)}return d}return"object"==typeof i?this.each(function(){ve.data(this,i)}):((s=i.split(".",2))[1]=s[1]?"."+s[1]:"",r=s[1]+"!",ve.access(this,function(t){if(t===v)return(d=this.triggerHandler("getData"+r,[s[0]]))===v&&a&&(d=ve.data(a,i),d=A(a,i,d)),d===v&&s[1]?this.data(s[0]):d;s[1]=t,this.each(function(){var e=ve(this);e.triggerHandler("setData"+r,s),ve.data(this,i,t),e.triggerHandler("changeData"+r,s)})},null,e,1<arguments.length,null,!1))},removeData:function(e){return this.each(function(){ve.removeData(this,e)})}}),ve.extend({queue:function(e,t,i){var s;if(e)return t=(t||"fx")+"queue",s=ve._data(e,t),i&&(!s||ve.isArray(i)?s=ve._data(e,t,ve.makeArray(i)):s.push(i)),s||[]},dequeue:function(e,t){t=t||"fx";var i=ve.queue(e,t),s=i.length,r=i.shift(),n=ve._queueHooks(e,t);"inprogress"===r&&(r=i.shift(),s--),r&&("fx"===t&&i.unshift("inprogress"),delete n.stop,r.call(e,function(){ve.dequeue(e,t)},n)),!s&&n&&n.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return ve._data(e,i)||ve._data(e,i,{empty:ve.Callbacks("once memory").add(function(){ve.removeData(e,t+"queue",!0),ve.removeData(e,i,!0)})})}}),ve.fn.extend({queue:function(t,i){var e=2;return"string"!=typeof t&&(i=t,t="fx",e--),arguments.length<e?ve.queue(this[0],t):i===v?this:this.each(function(){var e=ve.queue(this,t,i);ve._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&ve.dequeue(this,t)})},dequeue:function(e){return this.each(function(){ve.dequeue(this,e)})},delay:function(s,e){return s=ve.fx&&ve.fx.speeds[s]||s,e=e||"fx",this.queue(e,function(e,t){var i=setTimeout(e,s);t.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,s=1,r=ve.Deferred(),n=this,o=this.length,a=function(){--s||r.resolveWith(n,[n])};for("string"!=typeof e&&(t=e,e=v),e=e||"fx";o--;)(i=ve._data(n[o],e+"queueHooks"))&&i.empty&&(s++,i.empty.add(a));return a(),r.promise(t)}});var B,H,z=/[\t\r\n]/g,E=/\r/g,O=/^(?:button|input)$/i,N=/^(?:button|input|object|select|textarea)$/i,L=/^a(?:rea|)$/i,R=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,F=ve.support.getSetAttribute;ve.fn.extend({attr:function(e,t){return ve.access(this,ve.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){ve.removeAttr(this,e)})},prop:function(e,t){return ve.access(this,ve.prop,e,t,1<arguments.length)},removeProp:function(e){return e=ve.propFix[e]||e,this.each(function(){try{this[e]=v,delete this[e]}catch(e){}})},addClass:function(t){var e,i,s,r,n,o,a;if(ve.isFunction(t))return this.each(function(e){ve(this).addClass(t.call(this,e,this.className))});if(t&&"string"==typeof t)for(e=t.split(p),i=0,s=this.length;i<s;i++)if(1===(r=this[i]).nodeType)if(r.className||1!==e.length){for(n=" "+r.className+" ",o=0,a=e.length;o<a;o++)n.indexOf(" "+e[o]+" ")<0&&(n+=e[o]+" ");r.className=ve.trim(n)}else r.className=t;return this},removeClass:function(t){var e,i,s,r,n,o,a;if(ve.isFunction(t))return this.each(function(e){ve(this).removeClass(t.call(this,e,this.className))});if(t&&"string"==typeof t||t===v)for(e=(t||"").split(p),o=0,a=this.length;o<a;o++)if(1===(s=this[o]).nodeType&&s.className){for(i=(" "+s.className+" ").replace(z," "),r=0,n=e.length;r<n;r++)for(;0<=i.indexOf(" "+e[r]+" ");)i=i.replace(" "+e[r]+" "," ");s.className=t?ve.trim(i):""}return this},toggleClass:function(n,o){var a=typeof n,l="boolean"==typeof o;return ve.isFunction(n)?this.each(function(e){ve(this).toggleClass(n.call(this,e,this.className,o),o)}):this.each(function(){if("string"===a)for(var e,t=0,i=ve(this),s=o,r=n.split(p);e=r[t++];)s=l?s:!i.hasClass(e),i[s?"addClass":"removeClass"](e);else"undefined"!==a&&"boolean"!==a||(this.className&&ve._data(this,"__className__",this.className),this.className=this.className||!1===n?"":ve._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,s=this.length;i<s;i++)if(1===this[i].nodeType&&0<=(" "+this[i].className+" ").replace(z," ").indexOf(t))return!0;return!1},val:function(s){var r,e,n,t=this[0];return arguments.length?(n=ve.isFunction(s),this.each(function(e){var t,i=ve(this);1===this.nodeType&&(null==(t=n?s.call(this,e,i.val()):s)?t="":"number"==typeof t?t+="":ve.isArray(t)&&(t=ve.map(t,function(e){return null==e?"":e+""})),(r=ve.valHooks[this.type]||ve.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&r.set(this,t,"value")!==v||(this.value=t))})):t?(r=ve.valHooks[t.type]||ve.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&(e=r.get(t,"value"))!==v?e:"string"==typeof(e=t.value)?e.replace(E,""):null==e?"":e:void 0}}),ve.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,i,s=e.options,r=e.selectedIndex,n="select-one"===e.type||r<0,o=n?null:[],a=n?r+1:s.length,l=r<0?a:n?r:0;l<a;l++)if(((i=s[l]).selected||l===r)&&(ve.support.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!ve.nodeName(i.parentNode,"optgroup"))){if(t=ve(i).val(),n)return t;o.push(t)}return o},set:function(e,t){var i=ve.makeArray(t);return ve(e).find("option").each(function(){this.selected=0<=ve.inArray(ve(this).val(),i)}),i.length||(e.selectedIndex=-1),i}}},attrFn:{},attr:function(e,t,i,s){var r,n,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return s&&ve.isFunction(ve.fn[t])?ve(e)[t](i):void 0===e.getAttribute?ve.prop(e,t,i):((o=1!==a||!ve.isXMLDoc(e))&&(t=t.toLowerCase(),n=ve.attrHooks[t]||(R.test(t)?H:B)),i!==v?null===i?void ve.removeAttr(e,t):n&&"set"in n&&o&&(r=n.set(e,i,t))!==v?r:(e.setAttribute(t,i+""),i):n&&"get"in n&&o&&null!==(r=n.get(e,t))?r:null===(r=e.getAttribute(t))?v:r)},removeAttr:function(e,t){var i,s,r,n,o=0;if(t&&1===e.nodeType)for(s=t.split(p);o<s.length;o++)(r=s[o])&&(i=ve.propFix[r]||r,(n=R.test(r))||ve.attr(e,r,""),e.removeAttribute(F?r:i),n&&i in e&&(e[i]=!1))},attrHooks:{type:{set:function(e,t){if(O.test(e.nodeName)&&e.parentNode)ve.error("type property can't be changed");else if(!ve.support.radioValue&&"radio"===t&&ve.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}},value:{get:function(e,t){return t in e?e.value:null},set:function(e,t,i){e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,t,i){var s,r,n=e.nodeType;if(e&&3!==n&&8!==n&&2!==n)return(1!==n||!ve.isXMLDoc(e))&&(t=ve.propFix[t]||t,r=ve.propHooks[t]),i!==v?r&&"set"in r&&(s=r.set(e,i,t))!==v?s:e[t]=i:r&&"get"in r&&null!==(s=r.get(e,t))?s:e[t]},propHooks:{tabIndex:{get:function(e){var t=e.getAttributeNode("tabindex");return t&&t.specified?parseInt(t.value,10):N.test(e.nodeName)||L.test(e.nodeName)&&e.href?0:v}}}}),H={get:function(e,t){var i,s=ve.prop(e,t);return!0===s||"boolean"!=typeof s&&(i=e.getAttributeNode(t))&&!1!==i.nodeValue?t.toLowerCase():v},set:function(e,t,i){var s;return!1===t?ve.removeAttr(e,i):((s=ve.propFix[i]||i)in e&&(e[s]=!0),e.setAttribute(i,i.toLowerCase())),i}},ve.support.enctype||(ve.propFix.enctype="encoding");var W=/^([^\.]*|)(?:\.(.+)|)$/,V=/(?:^|\s)hover(\.\S+|)\b/,G=/^key/,U=/^(?:mouse|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,K=function(e){return ve.event.special.hover?e:e.replace(V,"mouseenter$1 mouseleave$1")};function X(){return!1}function $(){return!0}ve.event={add:function(e,t,i,s,r){var n,o,a,l,d,h,c,u,p,m,f;if(3!==e.nodeType&&8!==e.nodeType&&t&&i&&(n=ve._data(e))){for(i.handler&&(i=(p=i).handler,r=p.selector),i.guid||(i.guid=ve.guid++),(a=n.events)||(n.events=a={}),(o=n.handle)||(n.handle=o=function(e){return void 0===ve||e&&ve.event.triggered===e.type?v:ve.event.dispatch.apply(o.elem,arguments)},o.elem=e),t=ve.trim(K(t)).split(" "),l=0;l<t.length;l++)h=(d=W.exec(t[l])||[])[1],c=(d[2]||"").split(".").sort(),f=ve.event.special[h]||{},h=(r?f.delegateType:f.bindType)||h,f=ve.event.special[h]||{},u=ve.extend({type:h,origType:d[1],data:s,handler:i,guid:i.guid,selector:r,needsContext:r&&ve.expr.match.needsContext.test(r),namespace:c.join(".")},p),(m=a[h])||((m=a[h]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,s,c,o)||(e.addEventListener?e.addEventListener(h,o,!1):e.attachEvent&&e.attachEvent("on"+h,o))),f.add&&(f.add.call(e,u),u.handler.guid||(u.handler.guid=i.guid)),r?m.splice(m.delegateCount++,0,u):m.push(u),ve.event.global[h]=!0;e=null}},global:{},remove:function(e,t,i,s,r){var n,o,a,l,d,h,c,u,p,m,f,g=ve.hasData(e)&&ve._data(e);if(g&&(u=g.events)){for(t=ve.trim(K(t||"")).split(" "),n=0;n<t.length;n++)if(a=l=(o=W.exec(t[n])||[])[1],d=o[2],a){for(p=ve.event.special[a]||{},h=(m=u[a=(s?p.delegateType:p.bindType)||a]||[]).length,d=d?new RegExp("(^|\\.)"+d.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c=0;c<m.length;c++)f=m[c],!r&&l!==f.origType||i&&i.guid!==f.guid||d&&!d.test(f.namespace)||s&&s!==f.selector&&("**"!==s||!f.selector)||(m.splice(c--,1),f.selector&&m.delegateCount--,p.remove&&p.remove.call(e,f));0===m.length&&h!==m.length&&(p.teardown&&!1!==p.teardown.call(e,d,g.handle)||ve.removeEvent(e,a,g.handle),delete u[a])}else for(a in u)ve.event.remove(e,a+t[n],i,s,!0);ve.isEmptyObject(u)&&(delete g.handle,ve.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(e,t,i,s){if(!i||3!==i.nodeType&&8!==i.nodeType){var r,n,o,a,l,d,h,c,u,p,m=e.type||e,f=[];if(!Y.test(m+ve.event.triggered)&&(0<=m.indexOf("!")&&(m=m.slice(0,-1),n=!0),0<=m.indexOf(".")&&(m=(f=m.split(".")).shift(),f.sort()),i&&!ve.event.customEvent[m]||ve.event.global[m]))if((e="object"==typeof e?e[ve.expando]?e:new ve.Event(m,e):new ve.Event(m)).type=m,e.isTrigger=!0,e.exclusive=n,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=m.indexOf(":")<0?"on"+m:"",i){if(e.result=v,e.target||(e.target=i),(t=null!=t?ve.makeArray(t):[]).unshift(e),!(h=ve.event.special[m]||{}).trigger||!1!==h.trigger.apply(i,t)){if(u=[[i,h.bindType||m]],!s&&!h.noBubble&&!ve.isWindow(i)){for(p=h.delegateType||m,a=Y.test(p+m)?i:i.parentNode,l=i;a;a=a.parentNode)u.push([a,p]),l=a;l===(i.ownerDocument||x)&&u.push([l.defaultView||l.parentWindow||g,p])}for(o=0;o<u.length&&!e.isPropagationStopped();o++)a=u[o][0],e.type=u[o][1],(c=(ve._data(a,"events")||{})[e.type]&&ve._data(a,"handle"))&&c.apply(a,t),(c=d&&a[d])&&ve.acceptData(a)&&c.apply&&!1===c.apply(a,t)&&e.preventDefault();return e.type=m,s||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(i.ownerDocument,t)||"click"===m&&ve.nodeName(i,"a")||!ve.acceptData(i)||d&&i[m]&&("focus"!==m&&"blur"!==m||0!==e.target.offsetWidth)&&!ve.isWindow(i)&&((l=i[d])&&(i[d]=null),i[ve.event.triggered=m](),ve.event.triggered=v,l&&(i[d]=l)),e.result}}else for(o in r=ve.cache)r[o].events&&r[o].events[m]&&ve.event.trigger(e,t,r[o].handle.elem,!0)}},dispatch:function(e){e=ve.event.fix(e||g.event);var t,i,s,r,n,o,a,l,d,h=(ve._data(this,"events")||{})[e.type]||[],c=h.delegateCount,u=w.call(arguments),p=!e.exclusive&&!e.namespace,m=ve.event.special[e.type]||{},f=[];if((u[0]=e).delegateTarget=this,!m.preDispatch||!1!==m.preDispatch.call(this,e)){if(c&&(!e.button||"click"!==e.type))for(s=e.target;s!=this;s=s.parentNode||this)if(!0!==s.disabled||"click"!==e.type){for(n={},a=[],t=0;t<c;t++)n[d=(l=h[t]).selector]===v&&(n[d]=l.needsContext?0<=ve(d,this).index(s):ve.find(d,this,null,[s]).length),n[d]&&a.push(l);a.length&&f.push({elem:s,matches:a})}for(h.length>c&&f.push({elem:this,matches:h.slice(c)}),t=0;t<f.length&&!e.isPropagationStopped();t++)for(o=f[t],e.currentTarget=o.elem,i=0;i<o.matches.length&&!e.isImmediatePropagationStopped();i++)l=o.matches[i],(p||!e.namespace&&!l.namespace||e.namespace_re&&e.namespace_re.test(l.namespace))&&(e.data=l.data,e.handleObj=l,(r=((ve.event.special[l.origType]||{}).handle||l.handler).apply(o.elem,u))!==v&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return m.postDispatch&&m.postDispatch.call(this,e),e.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,s,r,n=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(s=(i=e.target.ownerDocument||x).documentElement,r=i.body,e.pageX=t.clientX+(s&&s.scrollLeft||r&&r.scrollLeft||0)-(s&&s.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(s&&s.scrollTop||r&&r.scrollTop||0)-(s&&s.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||n===v||(e.which=1&n?1:2&n?3:4&n?2:0),e}},fix:function(e){if(e[ve.expando])return e;var t,i,s=e,r=ve.event.fixHooks[e.type]||{},n=r.props?this.props.concat(r.props):this.props;for(e=ve.Event(s),t=n.length;t;)e[i=n[--t]]=s[i];return e.target||(e.target=s.srcElement||x),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,s):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,i){ve.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,i,s){var r=ve.extend(new ve.Event,i,{type:e,isSimulated:!0,originalEvent:{}});s?ve.event.trigger(r,null,t):ve.event.dispatch.call(t,r),r.isDefaultPrevented()&&i.preventDefault()}},ve.event.handle=ve.event.dispatch,ve.removeEvent=x.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var s="on"+t;e.detachEvent&&(void 0===e[s]&&(e[s]=null),e.detachEvent(s,i))},ve.Event=function(e,t){if(!(this instanceof ve.Event))return new ve.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?$:X):this.type=e,t&&ve.extend(this,t),this.timeStamp=e&&e.timeStamp||ve.now(),this[ve.expando]=!0},ve.Event.prototype={preventDefault:function(){this.isDefaultPrevented=$;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=$;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=$,this.stopPropagation()},isDefaultPrevented:X,isPropagationStopped:X,isImmediatePropagationStopped:X},ve.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,r){ve.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,i=e.relatedTarget,s=e.handleObj;s.selector;return i&&(i===this||ve.contains(this,i))||(e.type=s.origType,t=s.handler.apply(this,arguments),e.type=r),t}}}),ve.fn.extend({on:function(e,t,i,s,r){var n,o;if("object"==typeof e){for(o in"string"!=typeof t&&(i=i||t,t=v),e)this.on(o,t,i,e[o],r);return this}if(null==i&&null==s?(s=t,i=t=v):null==s&&("string"==typeof t?(s=i,i=v):(s=i,i=t,t=v)),!1===s)s=X;else if(!s)return this;return 1===r&&(n=s,(s=function(e){return ve().off(e),n.apply(this,arguments)}).guid=n.guid||(n.guid=ve.guid++)),this.each(function(){ve.event.add(this,e,s,i,t)})},off:function(e,t,i){var s,r;if(e&&e.preventDefault&&e.handleObj)return s=e.handleObj,ve(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=v),!1===i&&(i=X),this.each(function(){ve.event.remove(this,e,i,t)})},delegate:function(e,t,i,s){return this.on(t,e,i,s)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},trigger:function(e,t){return this.each(function(){ve.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return ve.event.trigger(e,t,this[0],!0)},toggle:function(i){var s=arguments,e=i.guid||ve.guid++,r=0,t=function(e){var t=(ve._data(this,"lastToggle"+i.guid)||0)%r;return ve._data(this,"lastToggle"+i.guid,t+1),e.preventDefault(),s[t].apply(this,arguments)||!1};for(t.guid=e;r<s.length;)s[r++].guid=e;return this.click(t)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ve.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,i){ve.fn[i]=function(e,t){return null==t&&(t=e,e=null),0<arguments.length?this.on(i,null,e,t):this.trigger(i)},G.test(i)&&(ve.event.fixHooks[i]=ve.event.keyHooks),U.test(i)&&(ve.event.fixHooks[i]=ve.event.mouseHooks)}),function(e,t){var b,i,_,n,d,h,c,o,u,j,a,s,p,m,r,f,l,g,v="undefined",q=("sizcache"+Math.random()).replace(".",""),x=String,T=e.document,w=T.documentElement,C=0,y=0,S=[].pop,k=[].push,I=[].slice,D=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1},P=function(e,t){return e[q]=null==t||t,e},A=function(){var i={},s=[];return P(function(e,t){return s.push(e)>_.cacheLength&&delete i[s.shift()],i[e+" "]=t},i)},M=A(),B=A(),H=A(),z="[\\x20\\t\\r\\n\\f]",E="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",O=E.replace("w","w#"),N="\\["+z+"*("+E+")"+z+"*(?:([*^$|!~]?=)"+z+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+O+")|)|)"+z+"*\\]",L=":("+E+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+N+")|[^:]|\\\\.)*|.*))\\)|)",R=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+z+"*((?:-\\d)?\\d*)"+z+"*\\)|)(?=[^-]|$)",F=new RegExp("^"+z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+z+"+$","g"),W=new RegExp("^"+z+"*,"+z+"*"),V=new RegExp("^"+z+"*([\\x20\\t\\r\\n\\f>+~])"+z+"*"),G=new RegExp(L),U=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,Y=/[\x20\t\r\n\f]*[+~]/,K=/h\d/i,X=/input|select|textarea|button/i,$=/\\(?!\\)/g,Z={ID:new RegExp("^#("+E+")"),CLASS:new RegExp("^\\.("+E+")"),NAME:new RegExp("^\\[name=['\"]?("+E+")['\"]?\\]"),TAG:new RegExp("^("+E.replace("w","w*")+")"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+L),POS:new RegExp(R,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+z+"*(even|odd|(([+-]|)(\\d*)n|)"+z+"*(?:([+-]|)"+z+"*(\\d+)|))"+z+"*\\)|)","i"),needsContext:new RegExp("^"+z+"*[>+~]|"+R,"i")},J=function(e){var t=T.createElement("div");try{return e(t)}catch(e){return!1}finally{t=null}},Q=J(function(e){return e.appendChild(T.createComment("")),!e.getElementsByTagName("*").length}),ee=J(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==v&&"#"===e.firstChild.getAttribute("href")}),te=J(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),ie=J(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!e.getElementsByClassName||!e.getElementsByClassName("e").length)&&(e.lastChild.className="e",2===e.getElementsByClassName("e").length)}),se=J(function(e){e.id=q+0,e.innerHTML="<a name='"+q+"'></a><div name='"+q+"'></div>",w.insertBefore(e,w.firstChild);var t=T.getElementsByName&&T.getElementsByName(q).length===2+T.getElementsByName(q+0).length;return i=!T.getElementById(q),w.removeChild(e),t});try{I.call(w.childNodes,0)[0].nodeType}catch(e){I=function(e){for(var t,i=[];t=this[e];e++)i.push(t);return i}}function re(e,t,i,s){i=i||[];var r,n,o,a,l=(t=t||T).nodeType;if(!e||"string"!=typeof e)return i;if(1!==l&&9!==l)return[];if(!(o=d(t))&&!s&&(r=U.exec(e)))if(a=r[1]){if(9===l){if(!(n=t.getElementById(a))||!n.parentNode)return i;if(n.id===a)return i.push(n),i}else if(t.ownerDocument&&(n=t.ownerDocument.getElementById(a))&&h(t,n)&&n.id===a)return i.push(n),i}else{if(r[2])return k.apply(i,I.call(t.getElementsByTagName(e),0)),i;if((a=r[3])&&ie&&t.getElementsByClassName)return k.apply(i,I.call(t.getElementsByClassName(a),0)),i}return fe(e.replace(F,"$1"),t,i,s,o)}function ne(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function oe(i){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===i}}function ae(o){return P(function(n){return n=+n,P(function(e,t){for(var i,s=o([],e.length,n),r=s.length;r--;)e[i=s[r]]&&(e[i]=!(t[i]=e[i]))})})}function le(e,t,i){if(e===t)return i;for(var s=e.nextSibling;s;){if(s===t)return-1;s=s.nextSibling}return 1}function de(e,t){var i,s,r,n,o,a,l,d=B[q][e+" "];if(d)return t?0:d.slice(0);for(o=e,a=[],l=_.preFilter;o;){for(n in i&&!(s=W.exec(o))||(s&&(o=o.slice(s[0].length)||o),a.push(r=[])),i=!1,(s=V.exec(o))&&(r.push(i=new x(s.shift())),o=o.slice(i.length),i.type=s[0].replace(F," ")),_.filter)!(s=Z[n].exec(o))||l[n]&&!(s=l[n](s))||(r.push(i=new x(s.shift())),o=o.slice(i.length),i.type=n,i.matches=s);if(!i)break}return t?o.length:o?re.error(e):B(e,a).slice(0)}function he(o,e,t){var a=e.dir,l=t&&"parentNode"===e.dir,d=y++;return e.first?function(e,t,i){for(;e=e[a];)if(l||1===e.nodeType)return o(e,t,i)}:function(e,t,i){if(i){for(;e=e[a];)if((l||1===e.nodeType)&&o(e,t,i))return e}else for(var s,r=C+" "+d+" ",n=r+b;e=e[a];)if(l||1===e.nodeType){if((s=e[q])===n)return e.sizset;if("string"==typeof s&&0===s.indexOf(r)){if(e.sizset)return e}else{if(e[q]=n,o(e,t,i))return e.sizset=!0,e;e.sizset=!1}}}}function ce(r){return 1<r.length?function(e,t,i){for(var s=r.length;s--;)if(!r[s](e,t,i))return!1;return!0}:r[0]}function ue(e,t,i,s,r){for(var n,o=[],a=0,l=e.length,d=null!=t;a<l;a++)(n=e[a])&&(i&&!i(n,s,r)||(o.push(n),d&&t.push(a)));return o}function pe(p,m,f,g,v,e){return g&&!g[q]&&(g=pe(g)),v&&!v[q]&&(v=pe(v,e)),P(function(e,t,i,s){var r,n,o,a=[],l=[],d=t.length,h=e||function(e,t,i){for(var s=0,r=t.length;s<r;s++)re(e,t[s],i);return i}(m||"*",i.nodeType?[i]:i,[]),c=!p||!e&&m?h:ue(h,a,p,i,s),u=f?v||(e?p:d||g)?[]:t:c;if(f&&f(c,u,i,s),g)for(r=ue(u,l),g(r,[],i,s),n=r.length;n--;)(o=r[n])&&(u[l[n]]=!(c[l[n]]=o));if(e){if(v||p){if(v){for(r=[],n=u.length;n--;)(o=u[n])&&r.push(c[n]=o);v(null,u=[],r,s)}for(n=u.length;n--;)(o=u[n])&&-1<(r=v?D.call(e,o):a[n])&&(e[r]=!(t[r]=o))}}else u=ue(u===t?u.splice(d,u.length):u),v?v(null,t,u,s):k.apply(t,u)})}function me(e){for(var s,t,i,r=e.length,n=_.relative[e[0].type],o=n||_.relative[" "],a=n?1:0,l=he(function(e){return e===s},o,!0),d=he(function(e){return-1<D.call(s,e)},o,!0),h=[function(e,t,i){return!n&&(i||t!==j)||((s=t).nodeType?l(e,t,i):d(e,t,i))}];a<r;a++)if(t=_.relative[e[a].type])h=[he(ce(h),t)];else{if((t=_.filter[e[a].type].apply(null,e[a].matches))[q]){for(i=++a;i<r&&!_.relative[e[i].type];i++);return pe(1<a&&ce(h),1<a&&e.slice(0,a-1).join("").replace(F,"$1"),t,a<i&&me(e.slice(a,i)),i<r&&me(e=e.slice(i)),i<r&&e.join(""))}h.push(t)}return ce(h)}function fe(e,t,i,s,r){var n,o,a,l,d,h=de(e);h.length;if(!s&&1===h.length){if(2<(o=h[0]=h[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&!r&&_.relative[o[1].type]){if(!(t=_.find.ID(a.matches[0].replace($,""),t,r)[0]))return i;e=e.slice(o.shift().length)}for(n=Z.POS.test(e)?-1:o.length-1;0<=n&&(a=o[n],!_.relative[l=a.type]);n--)if((d=_.find[l])&&(s=d(a.matches[0].replace($,""),Y.test(o[0].type)&&t.parentNode||t,r))){if(o.splice(n,1),!(e=s.length&&o.join("")))return k.apply(i,I.call(s,0)),i;break}}return c(e,h)(s,t,r,i,Y.test(e)),i}function ge(){}re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){return 0<re(t,null,null,[e]).length},n=re.getText=function(e){var t,i="",s=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=n(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[s];s++)i+=n(t);return i},d=re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=re.contains=w.contains?function(e,t){var i=9===e.nodeType?e.documentElement:e,s=t&&t.parentNode;return e===s||!!(s&&1===s.nodeType&&i.contains&&i.contains(s))}:w.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},re.attr=function(e,t){var i,s=d(e);return s||(t=t.toLowerCase()),(i=_.attrHandle[t])?i(e):s||te?e.getAttribute(t):(i=e.getAttributeNode(t))?"boolean"==typeof e[t]?e[t]?t:null:i.specified?i.value:null:null},_=re.selectors={cacheLength:50,createPseudo:P,match:Z,attrHandle:ee?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:i?function(e,t,i){if(typeof t.getElementById!==v&&!i){var s=t.getElementById(e);return s&&s.parentNode?[s]:[]}}:function(e,t,i){if(typeof t.getElementById!==v&&!i){var s=t.getElementById(e);return s?s.id===e||typeof s.getAttributeNode!==v&&s.getAttributeNode("id").value===e?[s]:void 0:[]}},TAG:Q?function(e,t){if(typeof t.getElementsByTagName!==v)return t.getElementsByTagName(e)}:function(e,t){var i=t.getElementsByTagName(e);if("*"===e){for(var s,r=[],n=0;s=i[n];n++)1===s.nodeType&&r.push(s);return r}return i},NAME:se&&function(e,t){if(typeof t.getElementsByName!==v)return t.getElementsByName(name)},CLASS:ie&&function(e,t,i){if(typeof t.getElementsByClassName!==v&&!i)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace($,""),e[3]=(e[4]||e[5]||"").replace($,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||re.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&re.error(e[0]),e},PSEUDO:function(e){var t,i;return Z.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(G.test(t)&&(i=de(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(t=t.slice(0,i),e[0]=e[0].slice(0,i)),e[2]=t),e.slice(0,3))}},filter:{ID:i?function(t){return t=t.replace($,""),function(e){return e.getAttribute("id")===t}}:function(i){return i=i.replace($,""),function(e){var t=typeof e.getAttributeNode!==v&&e.getAttributeNode("id");return t&&t.value===i}},TAG:function(t){return"*"===t?function(){return!0}:(t=t.replace($,"").toLowerCase(),function(e){return e.nodeName&&e.nodeName.toLowerCase()===t})},CLASS:function(e){var t=M[q][e+" "];return t||(t=new RegExp("(^|"+z+")"+e+"("+z+"|$)"))&&M(e,function(e){return t.test(e.className||typeof e.getAttribute!==v&&e.getAttribute("class")||"")})},ATTR:function(s,r,n){return function(e,t){var i=re.attr(e,s);return null==i?"!="===r:!r||(i+="","="===r?i===n:"!="===r?i!==n:"^="===r?n&&0===i.indexOf(n):"*="===r?n&&-1<i.indexOf(n):"$="===r?n&&i.substr(i.length-n.length)===n:"~="===r?-1<(" "+i+" ").indexOf(n):"|="===r&&(i===n||i.substr(0,n.length+1)===n+"-"))}},CHILD:function(i,e,r,n){return"nth"===i?function(e){var t,i,s=e.parentNode;if(1===r&&0===n)return!0;if(s)for(i=0,t=s.firstChild;t&&(1!==t.nodeType||(i++,e!==t));t=t.nextSibling);return(i-=n)===r||i%r==0&&0<=i/r}:function(e){var t=e;switch(i){case"only":case"first":for(;t=t.previousSibling;)if(1===t.nodeType)return!1;if("first"===i)return!0;t=e;case"last":for(;t=t.nextSibling;)if(1===t.nodeType)return!1;return!0}}},PSEUDO:function(e,n){var t,o=_.pseudos[e]||_.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return o[q]?o(n):1<o.length?(t=[e,e,"",n],_.setFilters.hasOwnProperty(e.toLowerCase())?P(function(e,t){for(var i,s=o(e,n),r=s.length;r--;)e[i=D.call(e,s[r])]=!(t[i]=s[r])}):function(e){return o(e,0,t)}):o}},pseudos:{not:P(function(e){var s=[],r=[],a=c(e.replace(F,"$1"));return a[q]?P(function(e,t,i,s){for(var r,n=a(e,null,s,[]),o=e.length;o--;)(r=n[o])&&(e[o]=!(t[o]=r))}):function(e,t,i){return s[0]=e,a(s,null,i,r),!r.pop()}}),has:P(function(t){return function(e){return 0<re(t,e).length}}),contains:P(function(t){return function(e){return-1<(e.textContent||e.innerText||n(e)).indexOf(t)}}),enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},parent:function(e){return!_.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if("@"<e.nodeName||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return K.test(e.nodeName)},text:function(e){var t,i;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(i=e.getAttribute("type"))||i.toLowerCase()===t)},radio:ne("radio"),checkbox:ne("checkbox"),file:ne("file"),password:ne("password"),image:ne("image"),submit:oe("submit"),reset:oe("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return X.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:ae(function(){return[0]}),last:ae(function(e,t){return[t-1]}),eq:ae(function(e,t,i){return[i<0?i+t:i]}),even:ae(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:ae(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:ae(function(e,t,i){for(var s=i<0?i+t:i;0<=--s;)e.push(s);return e}),gt:ae(function(e,t,i){for(var s=i<0?i+t:i;++s<t;)e.push(s);return e})}},o=w.compareDocumentPosition?function(e,t){return e===t?(u=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return u=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var i,s,r=[],n=[],o=e.parentNode,a=t.parentNode,l=o;if(o===a)return le(e,t);if(!o)return-1;if(!a)return 1;for(;l;)r.unshift(l),l=l.parentNode;for(l=a;l;)n.unshift(l),l=l.parentNode;i=r.length,s=n.length;for(var d=0;d<i&&d<s;d++)if(r[d]!==n[d])return le(r[d],n[d]);return d===i?le(e,n[d],-1):le(r[d],t,1)},[0,0].sort(o),a=!u,re.uniqueSort=function(e){var t,i=[],s=1,r=0;if(u=a,e.sort(o),u){for(;t=e[s];s++)t===e[s-1]&&(r=i.push(s));for(;r--;)e.splice(i[r],1)}return e},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},c=re.compile=function(e,t){var i,g,v,x,w,y,s=[],r=[],n=H[q][e+" "];if(!n){for(t||(t=de(e)),i=t.length;i--;)(n=me(t[i]))[q]?s.push(n):r.push(n);n=H(e,(g=r,x=0<(v=s).length,w=0<g.length,(y=function(e,t,i,s,r){var n,o,a,l=[],d=0,h="0",c=e&&[],u=null!=r,p=j,m=e||w&&_.find.TAG("*",r&&t.parentNode||t),f=C+=null==p?1:Math.E;for(u&&(j=t!==T&&t,b=y.el);null!=(n=m[h]);h++){if(w&&n){for(o=0;a=g[o];o++)if(a(n,t,i)){s.push(n);break}u&&(C=f,b=++y.el)}x&&((n=!a&&n)&&d--,e&&c.push(n))}if(d+=h,x&&h!==d){for(o=0;a=v[o];o++)a(c,l,t,i);if(e){if(0<d)for(;h--;)c[h]||l[h]||(l[h]=S.call(s));l=ue(l)}k.apply(s,l),u&&!e&&0<l.length&&1<d+v.length&&re.uniqueSort(s)}return u&&(C=f,j=p),c}).el=0,x?P(y):y))}return n},T.querySelectorAll&&(p=fe,m=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,f=[":focus"],l=[":active"],g=w.matchesSelector||w.mozMatchesSelector||w.webkitMatchesSelector||w.oMatchesSelector||w.msMatchesSelector,J(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||f.push("\\["+z+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||f.push(":checked")}),J(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&f.push("[*^$]="+z+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||f.push(":enabled",":disabled")}),f=new RegExp(f.join("|")),fe=function(e,t,i,s,r){if(!s&&!r&&!f.test(e)){var n,o,a=!0,l=q,d=t,h=9===t.nodeType&&e;if(1===t.nodeType&&"object"!==t.nodeName.toLowerCase()){for(n=de(e),(a=t.getAttribute("id"))?l=a.replace(m,"\\$&"):t.setAttribute("id",l),l="[id='"+l+"'] ",o=n.length;o--;)n[o]=l+n[o].join("");d=Y.test(e)&&t.parentNode||t,h=n.join(",")}if(h)try{return k.apply(i,I.call(d.querySelectorAll(h),0)),i}catch(e){}finally{a||t.removeAttribute("id")}}return p(e,t,i,s,r)},g&&(J(function(e){s=g.call(e,"div");try{g.call(e,"[test!='']:sizzle"),l.push("!=",L)}catch(e){}}),l=new RegExp(l.join("|")),re.matchesSelector=function(e,t){if(t=t.replace(r,"='$1']"),!d(e)&&!l.test(t)&&!f.test(t))try{var i=g.call(e,t);if(i||s||e.document&&11!==e.document.nodeType)return i}catch(e){}return 0<re(t,null,null,[e]).length})),_.pseudos.nth=_.pseudos.eq,_.filters=ge.prototype=_.pseudos,_.setFilters=new ge,re.attr=ve.attr,ve.find=re,ve.expr=re.selectors,ve.expr[":"]=ve.expr.pseudos,ve.unique=re.uniqueSort,ve.text=re.getText,ve.isXMLDoc=re.isXML,ve.contains=re.contains}(g);var Z=/Until$/,J=/^(?:parents|prev(?:Until|All))/,Q=/^.[^:#\[\.,]*$/,ee=ve.expr.match.needsContext,te={children:!0,contents:!0,next:!0,prev:!0};function ie(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function se(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function re(e,i,s){if(i=i||0,ve.isFunction(i))return ve.grep(e,function(e,t){return!!i.call(e,t,e)===s});if(i.nodeType)return ve.grep(e,function(e,t){return e===i===s});if("string"==typeof i){var t=ve.grep(e,function(e){return 1===e.nodeType});if(Q.test(i))return ve.filter(i,t,!s);i=ve.filter(i,t)}return ve.grep(e,function(e,t){return 0<=ve.inArray(e,i)===s})}function ne(e){var t=le.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}ve.fn.extend({find:function(e){var t,i,s,r,n,o,a=this;if("string"!=typeof e)return ve(e).filter(function(){for(t=0,i=a.length;t<i;t++)if(ve.contains(a[t],this))return!0});for(o=this.pushStack("","find",e),t=0,i=this.length;t<i;t++)if(s=o.length,ve.find(e,this[t],o),0<t)for(r=s;r<o.length;r++)for(n=0;n<s;n++)if(o[n]===o[r]){o.splice(r--,1);break}return o},has:function(e){var t,i=ve(e,this),s=i.length;return this.filter(function(){for(t=0;t<s;t++)if(ve.contains(this,i[t]))return!0})},not:function(e){return this.pushStack(re(this,e,!1),"not",e)},filter:function(e){return this.pushStack(re(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?ee.test(e)?0<=ve(e,this.context).index(this[0]):0<ve.filter(e,this).length:0<this.filter(e).length)},closest:function(e,t){for(var i,s=0,r=this.length,n=[],o=ee.test(e)||"string"!=typeof e?ve(e,t||this.context):0;s<r;s++)for(i=this[s];i&&i.ownerDocument&&i!==t&&11!==i.nodeType;){if(o?-1<o.index(i):ve.find.matchesSelector(i,e)){n.push(i);break}i=i.parentNode}return n=1<n.length?ve.unique(n):n,this.pushStack(n,"closest",e)},index:function(e){return e?"string"==typeof e?ve.inArray(this[0],ve(e)):ve.inArray(e.jqx?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var i="string"==typeof e?ve(e,t):ve.makeArray(e&&e.nodeType?[e]:e),s=ve.merge(this.get(),i);return this.pushStack(ie(i[0])||ie(s[0])?s:ve.unique(s))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ve.fn.andSelf=ve.fn.addBack,ve.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ve.dir(e,"parentNode")},parentsUntil:function(e,t,i){return ve.dir(e,"parentNode",i)},next:function(e){return se(e,"nextSibling")},prev:function(e){return se(e,"previousSibling")},nextAll:function(e){return ve.dir(e,"nextSibling")},prevAll:function(e){return ve.dir(e,"previousSibling")},nextUntil:function(e,t,i){return ve.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return ve.dir(e,"previousSibling",i)},siblings:function(e){return ve.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ve.sibling(e.firstChild)},contents:function(e){return ve.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ve.merge([],e.childNodes)}},function(s,r){ve.fn[s]=function(e,t){var i=ve.map(this,r,e);return Z.test(s)||(t=e),t&&"string"==typeof t&&(i=ve.filter(t,i)),i=1<this.length&&!te[s]?ve.unique(i):i,1<this.length&&J.test(s)&&(i=i.reverse()),this.pushStack(i,s,w.call(arguments).join(","))}}),ve.extend({filter:function(e,t,i){return i&&(e=":not("+e+")"),1===t.length?ve.find.matchesSelector(t[0],e)?[t[0]]:[]:ve.find.matches(e,t)},dir:function(e,t,i){for(var s=[],r=e[t];r&&9!==r.nodeType&&(i===v||1!==r.nodeType||!ve(r).is(i));)1===r.nodeType&&s.push(r),r=r[t];return s},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var oe,ae,le="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",de=/ JQXLite\d+="(?:null|\d+)"/g,he=/^\s+/,ce=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ue=/<([\w:]+)/,pe=/<tbody/i,me=/<|&#?\w+;/,fe=/<(?:script|style|link)/i,ge=/<(?:script|object|embed|option|style)/i,xe=new RegExp("<(?:"+le+")[\\s/>]","i"),we=/^(?:checkbox|radio)$/,ye=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,_e=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,je={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},qe=ne(x),Te=qe.appendChild(x.createElement("div"));function Ce(e,t){if(1===t.nodeType&&ve.hasData(e)){var i,s,r,n=ve._data(e),o=ve._data(t,n),a=n.events;if(a)for(i in delete o.handle,o.events={},a)for(s=0,r=a[i].length;s<r;s++)ve.event.add(t,i,a[i][s]);o.data&&(o.data=ve.extend({},o.data))}}function Se(e,t){var i;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),"object"===(i=t.nodeName.toLowerCase())?(t.parentNode&&(t.outerHTML=e.outerHTML),ve.support.html5Clone&&e.innerHTML&&!ve.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&we.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.selected=e.defaultSelected:"input"===i||"textarea"===i?t.defaultValue=e.defaultValue:"script"===i&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(ve.expando))}function ke(e){return void 0!==e.getElementsByTagName?e.getElementsByTagName("*"):void 0!==e.querySelectorAll?e.querySelectorAll("*"):[]}function Ie(e){we.test(e.type)&&(e.defaultChecked=e.checked)}je.optgroup=je.option,je.tbody=je.tfoot=je.colgroup=je.caption=je.thead,je.th=je.td,ve.support.htmlSerialize||(je._default=[1,"X<div>","</div>"]),ve.fn.extend({text:function(e){return ve.access(this,function(e){return e===v?ve.text(this):this.empty().append((this[0]&&this[0].ownerDocument||x).createTextNode(e))},null,e,arguments.length)},wrapAll:function(t){if(ve.isFunction(t))return this.each(function(e){ve(this).wrapAll(t.call(this,e))});if(this[0]){var e=ve(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(i){return ve.isFunction(i)?this.each(function(e){ve(this).wrapInner(i.call(this,e))}):this.each(function(){var e=ve(this),t=e.contents();t.length?t.wrapAll(i):e.append(i)})},wrap:function(t){var i=ve.isFunction(t);return this.each(function(e){ve(this).wrapAll(i?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){ve.nodeName(this,"body")||ve(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType||this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType||this.insertBefore(e,this.firstChild)})},before:function(){if(!ie(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=ve.clean(arguments);return this.pushStack(ve.merge(e,this),"before",this.selector)}},after:function(){if(!ie(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=ve.clean(arguments);return this.pushStack(ve.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var i,s=0;null!=(i=this[s]);s++)e&&!ve.filter(e,[i]).length||(t||1!==i.nodeType||(ve.cleanData(i.getElementsByTagName("*")),ve.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&ve.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ve.clone(this,e,t)})},html:function(e){return ve.access(this,function(e){var t=this[0]||{},i=0,s=this.length;if(e===v)return 1===t.nodeType?t.innerHTML.replace(de,""):v;if("string"==typeof e&&!fe.test(e)&&(ve.support.htmlSerialize||!xe.test(e))&&(ve.support.leadingWhitespace||!he.test(e))&&!je[(ue.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ce,"<$1></$2>");try{for(;i<s;i++)1===(t=this[i]||{}).nodeType&&(ve.cleanData(t.getElementsByTagName("*")),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(s){return ie(this[0])?this.length?this.pushStack(ve(ve.isFunction(s)?s():s),"replaceWith",s):this:ve.isFunction(s)?this.each(function(e){var t=ve(this),i=t.html();t.replaceWith(s.call(this,e,i))}):("string"!=typeof s&&(s=ve(s).detach()),this.each(function(){var e=this.nextSibling,t=this.parentNode;ve(this).remove(),e?ve(e).before(s):ve(t).append(s)}))},detach:function(e){return this.remove(e,!0)},domManip:function(i,s,r){var e,t,n,o,a,l,d=0,h=(i=[].concat.apply([],i))[0],c=[],u=this.length;if(!ve.support.checkClone&&1<u&&"string"==typeof h&&ye.test(h))return this.each(function(){ve(this).domManip(i,s,r)});if(ve.isFunction(h))return this.each(function(e){var t=ve(this);i[0]=h.call(this,e,s?t.html():v),t.domManip(i,s,r)});if(this[0]){if(t=(n=(e=ve.buildFragment(i,this,c)).fragment).firstChild,1===n.childNodes.length&&(n=t),t)for(s=s&&ve.nodeName(t,"tr"),o=e.cacheable||u-1;d<u;d++)r.call(s&&ve.nodeName(this[d],"table")?(a=this[d],l="tbody",a.getElementsByTagName(l)[0]||a.appendChild(a.ownerDocument.createElement(l))):this[d],d===o?n:ve.clone(n,!0,!0));n=t=null,c.length&&ve.each(c,function(e,t){t.src?ve.ajax?ve.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):ve.error("no ajax"):ve.globalEval((t.text||t.textContent||t.innerHTML||"").replace(_e,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),ve.buildFragment=function(e,t,i){var s,r,n,o=e[0];return t=(t=!(t=t||x).nodeType&&t[0]||t).ownerDocument||t,!(1===e.length&&"string"==typeof o&&o.length<512&&t===x&&"<"===o.charAt(0))||ge.test(o)||!ve.support.checkClone&&ye.test(o)||!ve.support.html5Clone&&xe.test(o)||(r=!0,n=(s=ve.fragments[o])!==v),s||(s=t.createDocumentFragment(),ve.clean(e,t,s,i),r&&(ve.fragments[o]=n&&s)),{fragment:s,cacheable:r}},ve.fragments={},ve.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,l){ve.fn[a]=function(e){var t,i=0,s=[],r=ve(e),n=r.length,o=1===this.length&&this[0].parentNode;if((null==o||o&&11===o.nodeType&&1===o.childNodes.length)&&1===n)return r[l](this[0]),this;for(;i<n;i++)t=(0<i?this.clone(!0):this).get(),ve(r[i])[l](t),s=s.concat(t);return this.pushStack(s,a,r.selector)}}),ve.extend({clone:function(e,t,i){var s,r,n,o;if(ve.support.html5Clone||ve.isXMLDoc(e)||!xe.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Te.innerHTML=e.outerHTML,Te.removeChild(o=Te.firstChild)),!(ve.support.noCloneEvent&&ve.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ve.isXMLDoc(e)))for(Se(e,o),s=ke(e),r=ke(o),n=0;s[n];++n)r[n]&&Se(s[n],r[n]);if(t&&(Ce(e,o),i))for(s=ke(e),r=ke(o),n=0;s[n];++n)Ce(s[n],r[n]);return s=r=null,o},clean:function(e,t,i,s){var r,n,o,a,l,d,h,c,u,p,m,f=t===x&&qe,g=[];for(t&&void 0!==t.createDocumentFragment||(t=x),r=0;null!=(o=e[r]);r++)if("number"==typeof o&&(o+=""),o){if("string"==typeof o)if(me.test(o)){for(f=f||ne(t),h=t.createElement("div"),f.appendChild(h),o=o.replace(ce,"<$1></$2>"),a=(ue.exec(o)||["",""])[1].toLowerCase(),d=(l=je[a]||je._default)[0],h.innerHTML=l[1]+o+l[2];d--;)h=h.lastChild;if(!ve.support.tbody)for(c=pe.test(o),n=(u="table"!==a||c?"<table>"!==l[1]||c?[]:h.childNodes:h.firstChild&&h.firstChild.childNodes).length-1;0<=n;--n)ve.nodeName(u[n],"tbody")&&!u[n].childNodes.length&&u[n].parentNode.removeChild(u[n]);!ve.support.leadingWhitespace&&he.test(o)&&h.insertBefore(t.createTextNode(he.exec(o)[0]),h.firstChild),o=h.childNodes,h.parentNode.removeChild(h)}else o=t.createTextNode(o);o.nodeType?g.push(o):ve.merge(g,o)}if(h&&(o=h=f=null),!ve.support.appendChecked)for(r=0;null!=(o=g[r]);r++)ve.nodeName(o,"input")?Ie(o):void 0!==o.getElementsByTagName&&ve.grep(o.getElementsByTagName("input"),Ie);if(i)for(p=function(e){if(!e.type||be.test(e.type))return s?s.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e)},r=0;null!=(o=g[r]);r++)ve.nodeName(o,"script")&&p(o)||(i.appendChild(o),void 0!==o.getElementsByTagName&&(m=ve.grep(ve.merge([],o.getElementsByTagName("script")),p),g.splice.apply(g,[r+1,0].concat(m)),r+=m.length));return g},cleanData:function(e,t){for(var i,s,r,n,o=0,a=ve.expando,l=ve.cache,d=ve.support.deleteExpando,h=ve.event.special;null!=(r=e[o]);o++)if((t||ve.acceptData(r))&&(i=(s=r[a])&&l[s])){if(i.events)for(n in i.events)h[n]?ve.event.remove(r,n):ve.removeEvent(r,n,i.handle);l[s]&&(delete l[s],d?delete r[a]:r.removeAttribute?r.removeAttribute(a):r[a]=null,ve.deletedIds.push(s))}}}),ve.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},ae={},(oe=ve.uaMatch(e.userAgent)).browser&&(ae[oe.browser]=!0,ae.version=oe.version),ae.chrome?ae.webkit=!0:ae.webkit&&(ae.safari=!0),ve.browser=ae,ve.sub=function(){function i(e,t){return new i.fn.init(e,t)}ve.extend(!0,i,this),i.superclass=this,((i.fn=i.prototype=this()).constructor=i).sub=this.sub,i.fn.init=function(e,t){return t&&t instanceof ve&&!(t instanceof i)&&(t=i(t)),ve.fn.init.call(this,e,t,s)},i.fn.init.prototype=i.fn;var s=i(x);return i};var De,Pe,Ae,Me=/alpha\([^)]*\)/i,Be=/opacity=([^)]*)/,He=/^(top|right|bottom|left)$/,ze=/^(none|table(?!-c[ea]).+)/,Ee=/^margin/,Oe=new RegExp("^("+h+")(.*)$","i"),Ne=new RegExp("^("+h+")(?!px)[a-z%]+$","i"),Le=new RegExp("^([-+])=("+h+")","i"),Re={BODY:"block"},Fe={position:"absolute",visibility:"hidden",display:"block"},We={letterSpacing:0,fontWeight:400},Ve=["Top","Right","Bottom","Left"],Ge=["Webkit","O","Moz","ms"],Ue=ve.fn.toggle;function Ye(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),s=t,r=Ge.length;r--;)if((t=Ge[r]+i)in e)return t;return s}function Ke(e,t){return e=t||e,"none"===ve.css(e,"display")||!ve.contains(e.ownerDocument,e)}function Xe(e,t){for(var i,s,r=[],n=0,o=e.length;n<o;n++)(i=e[n]).style&&(r[n]=ve._data(i,"olddisplay"),t?(r[n]||"none"!==i.style.display||(i.style.display=""),""===i.style.display&&Ke(i)&&(r[n]=ve._data(i,"olddisplay",Qe(i.nodeName)))):(s=De(i,"display"),r[n]||"none"===s||ve._data(i,"olddisplay",s)));for(n=0;n<o;n++)(i=e[n]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[n]||"":"none"));return e}function $e(e,t,i){var s=Oe.exec(t);return s?Math.max(0,s[1]-(i||0))+(s[2]||"px"):t}function Ze(e,t,i,s){for(var r=i===(s?"border":"content")?4:"width"===t?1:0,n=0;r<4;r+=2)"margin"===i&&(n+=ve.css(e,i+Ve[r],!0)),s?("content"===i&&(n-=parseFloat(De(e,"padding"+Ve[r]))||0),"margin"!==i&&(n-=parseFloat(De(e,"border"+Ve[r]+"Width"))||0)):(n+=parseFloat(De(e,"padding"+Ve[r]))||0,"padding"!==i&&(n+=parseFloat(De(e,"border"+Ve[r]+"Width"))||0));return n}function Je(e,t,i){var s="width"===t?e.offsetWidth:e.offsetHeight,r=!0,n=ve.support.boxSizing&&"border-box"===ve.css(e,"boxSizing");if(s<=0||null==s){if(((s=De(e,t))<0||null==s)&&(s=e.style[t]),Ne.test(s))return s;r=n&&(ve.support.boxSizingReliable||s===e.style[t]),s=parseFloat(s)||0}return s+Ze(e,t,i||(n?"border":"content"),r)+"px"}function Qe(e){if(Re[e])return Re[e];var t=ve("<"+e+">").appendTo(x.body),i=t.css("display");return t.remove(),"none"!==i&&""!==i||(Pe=x.body.appendChild(Pe||ve.extend(x.createElement("iframe"),{frameBorder:0,width:0,height:0})),Ae&&Pe.createElement||((Ae=(Pe.contentWindow||Pe.contentDocument).document).write("<!doctype html><html><body>"),Ae.close()),t=Ae.body.appendChild(Ae.createElement(e)),i=De(t,"display"),x.body.removeChild(Pe)),Re[e]=i}ve.fn.extend({css:function(e,t){return ve.access(this,function(e,t,i){return i!==v?ve.style(e,t,i):ve.css(e,t)},e,t,1<arguments.length)},show:function(){return Xe(this,!0)},hide:function(){return Xe(this)},toggle:function(e,t){var i="boolean"==typeof e;return ve.isFunction(e)&&ve.isFunction(t)?Ue.apply(this,arguments):this.each(function(){(i?e:Ke(this))?ve(this).show():ve(this).hide()})}}),ve.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=De(e,"opacity");return""===i?"1":i}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ve.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,s){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,n,o,a=ve.camelCase(t),l=e.style;if(t=ve.cssProps[a]||(ve.cssProps[a]=Ye(l,a)),o=ve.cssHooks[t]||ve.cssHooks[a],i===v)return o&&"get"in o&&(r=o.get(e,!1,s))!==v?r:l[t];if(!("string"===(n=typeof i)&&(r=Le.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(ve.css(e,t)),n="number"),null==i||"number"===n&&isNaN(i)||("number"!==n||ve.cssNumber[a]||(i+="px"),o&&"set"in o&&(i=o.set(e,i,s))===v)))try{l[t]=i}catch(e){}}},css:function(e,t,i,s){var r,n,o,a=ve.camelCase(t);return t=ve.cssProps[a]||(ve.cssProps[a]=Ye(e.style,a)),(o=ve.cssHooks[t]||ve.cssHooks[a])&&"get"in o&&(r=o.get(e,!0,s)),r===v&&(r=De(e,t)),"normal"===r&&t in We&&(r=We[t]),i||s!==v?(n=parseFloat(r),i||ve.isNumeric(n)?n||0:r):r},swap:function(e,t,i){var s,r,n={};for(r in t)n[r]=e.style[r],e.style[r]=t[r];for(r in s=i.call(e),t)e.style[r]=n[r];return s}}),g.getComputedStyle?De=function(e,t){var i,s,r,n,o=g.getComputedStyle(e,null),a=e.style;return o&&(""!==(i=o.getPropertyValue(t)||o[t])||ve.contains(e.ownerDocument,e)||(i=ve.style(e,t)),Ne.test(i)&&Ee.test(t)&&(s=a.width,r=a.minWidth,n=a.maxWidth,a.minWidth=a.maxWidth=a.width=i,i=o.width,a.width=s,a.minWidth=r,a.maxWidth=n)),i}:x.documentElement.currentStyle&&(De=function(e,t){var i,s,r=e.currentStyle&&e.currentStyle[t],n=e.style;return null==r&&n&&n[t]&&(r=n[t]),Ne.test(r)&&!He.test(t)&&(i=n.left,(s=e.runtimeStyle&&e.runtimeStyle.left)&&(e.runtimeStyle.left=e.currentStyle.left),n.left="fontSize"===t?"1em":r,r=n.pixelLeft+"px",n.left=i,s&&(e.runtimeStyle.left=s)),""===r?"auto":r}),ve.each(["height","width"],function(e,s){ve.cssHooks[s]={get:function(e,t,i){if(t)return 0===e.offsetWidth&&ze.test(De(e,"display"))?ve.swap(e,Fe,function(){return Je(e,s,i)}):Je(e,s,i)},set:function(e,t,i){return $e(0,t,i?Ze(e,s,i,ve.support.boxSizing&&"border-box"===ve.css(e,"boxSizing")):0)}}}),ve.support.opacity||(ve.cssHooks.opacity={get:function(e,t){return Be.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,s=e.currentStyle,r=ve.isNumeric(t)?"alpha(opacity="+100*t+")":"",n=s&&s.filter||i.filter||"";(i.zoom=1)<=t&&""===ve.trim(n.replace(Me,""))&&i.removeAttribute&&(i.removeAttribute("filter"),s&&!s.filter)||(i.filter=Me.test(n)?n.replace(Me,r):n+" "+r)}}),ve(function(){ve.support.reliableMarginRight||(ve.cssHooks.marginRight={get:function(e,t){return ve.swap(e,{display:"inline-block"},function(){if(t)return De(e,"marginRight")})}}),!ve.support.pixelPosition&&ve.fn.position&&ve.each(["top","left"],function(e,s){ve.cssHooks[s]={get:function(e,t){if(t){var i=De(e,s);return Ne.test(i)?ve(e).position()[s]+"px":i}}}})}),ve.expr&&ve.expr.filters&&(ve.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!ve.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||De(e,"display"))},ve.expr.filters.visible=function(e){return!ve.expr.filters.hidden(e)}),ve.each({margin:"",padding:"",border:"Width"},function(r,n){ve.cssHooks[r+n]={expand:function(e){var t,i="string"==typeof e?e.split(" "):[e],s={};for(t=0;t<4;t++)s[r+Ve[t]+n]=i[t]||i[t-2]||i[0];return s}},Ee.test(r)||(ve.cssHooks[r+n].set=$e)});var et=/%20/g,tt=/\[\]$/,it=/\r?\n/g,st=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,rt=/^(?:select|textarea)/i;function nt(i,e,s,r){var t;if(ve.isArray(e))ve.each(e,function(e,t){s||tt.test(i)?r(i,t):nt(i+"["+("object"==typeof t?e:"")+"]",t,s,r)});else if(s||"object"!==ve.type(e))r(i,e);else for(t in e)nt(i+"["+t+"]",e[t],s,r)}ve.fn.extend({serialize:function(){return ve.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?ve.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||rt.test(this.nodeName)||st.test(this.type))}).map(function(e,i){var t=ve(this).val();return null==t?null:ve.isArray(t)?ve.map(t,function(e,t){return{name:i.name,value:e.replace(it,"\r\n")}}):{name:i.name,value:t.replace(it,"\r\n")}}).get()}}),ve.param=function(e,t){var i,s=[],r=function(e,t){t=ve.isFunction(t)?t():null==t?"":t,s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===v&&(t=ve.ajaxSettings&&ve.ajaxSettings.traditional),ve.isArray(e)||e.jqx&&!ve.isPlainObject(e))ve.each(e,function(){r(this.name,this.value)});else for(i in e)nt(i,e[i],t,r);return s.join("&").replace(et,"+")},ve.support.ajax&&ve.ajaxTransport(function(h){var c;if(!h.crossDomain||ve.support.cors)return{send:function(e,a){var l,t,d=h.xhr();if(h.username?d.open(h.type,h.url,h.async,h.username,h.password):d.open(h.type,h.url,h.async),h.xhrFields)for(t in h.xhrFields)d[t]=h.xhrFields[t];h.mimeType&&d.overrideMimeType&&d.overrideMimeType(h.mimeType),h.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(t in e)d.setRequestHeader(t,e[t])}catch(e){}d.send(h.hasContent&&h.data||null),c=function(e,t){var i,s,r,n,o;try{if(c&&(t||4===d.readyState))if(c=v,l&&(d.onreadystatechange=ve.noop,xhrOnUnloadAbort&&delete xhrCallbacks[l]),t)4!==d.readyState&&d.abort();else{i=d.status,r=d.getAllResponseHeaders(),n={},(o=d.responseXML)&&o.documentElement&&(n.xml=o);try{n.text=d.responseText}catch(e){}try{s=d.statusText}catch(e){s=""}i||!h.isLocal||h.crossDomain?1223===i&&(i=204):i=n.text?200:404}}catch(e){t||a(-1,e)}n&&a(i,s,n,r)},h.async?4===d.readyState?setTimeout(c,0):(l=++xhrId,xhrOnUnloadAbort&&(xhrCallbacks||(xhrCallbacks={},ve(g).unload(xhrOnUnloadAbort)),xhrCallbacks[l]=c),d.onreadystatechange=c):c()},abort:function(){c&&c(0,1)}}});var ot,at,lt=/^(?:toggle|show|hide)$/,dt=new RegExp("^(?:([-+])=|)("+h+")([a-z%]*)$","i"),ht=/queueHooks$/,ct=[function(t,e,i){var s,r,n,o,a,l,d,h,c,u=this,p=t.style,m={},f=[],g=t.nodeType&&Ke(t);i.queue||(null==(h=ve._queueHooks(t,"fx")).unqueued&&(h.unqueued=0,c=h.empty.fire,h.empty.fire=function(){h.unqueued||c()}),h.unqueued++,u.always(function(){u.always(function(){h.unqueued--,ve.queue(t,"fx").length||h.empty.fire()})}));1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===ve.css(t,"display")&&"none"===ve.css(t,"float")&&(ve.support.inlineBlockNeedsLayout&&"inline"!==Qe(t.nodeName)?p.zoom=1:p.display="inline-block"));i.overflow&&(p.overflow="hidden",ve.support.shrinkWrapBlocks||u.done(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(s in e)if(n=e[s],lt.exec(n)){if(delete e[s],l=l||"toggle"===n,n===(g?"hide":"show"))continue;f.push(s)}if(o=f.length){"hidden"in(a=ve._data(t,"fxshow")||ve._data(t,"fxshow",{}))&&(g=a.hidden),l&&(a.hidden=!g),g?ve(t).show():u.done(function(){ve(t).hide()}),u.done(function(){var e;for(e in ve.removeData(t,"fxshow",!0),m)ve.style(t,e,m[e])});for(s=0;s<o;s++)r=f[s],d=u.createTween(r,g?a[r]:0),m[r]=a[r]||ve.style(t,r),r in a||(a[r]=d.start,g&&(d.end=d.start,d.start="width"===r||"height"===r?1:0))}}],ut={"*":[function(e,t){var i,s,r=this.createTween(e,t),n=dt.exec(t),o=r.cur(),a=+o||0,l=1,d=20;if(n){if(i=+n[2],"px"!==(s=n[3]||(ve.cssNumber[e]?"":"px"))&&a)for(a=ve.css(r.elem,e,!0)||i||1;a/=l=l||".5",ve.style(r.elem,e,a+s),l!==(l=r.cur()/o)&&1!==l&&--d;);r.unit=s,r.start=a,r.end=n[1]?a+(n[1]+1)*i:i}return r}]};function pt(){return setTimeout(function(){ot=v},0),ot=ve.now()}function mt(n,e,t){var i,o,s,r=0,a=ct.length,l=ve.Deferred().always(function(){delete d.elem}),d=function(){for(var e=ot||pt(),t=Math.max(0,h.startTime+h.duration-e),i=1-(t/h.duration||0),s=0,r=h.tweens.length;s<r;s++)h.tweens[s].run(i);return l.notifyWith(n,[h,i,t]),i<1&&r?t:(l.resolveWith(n,[h]),!1)},h=l.promise({elem:n,props:ve.extend({},e),opts:ve.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:ot||pt(),duration:t.duration,tweens:[],createTween:function(e,t,i){var s=ve.Tween(n,h.opts,e,t,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(s),s},stop:function(e){for(var t=0,i=e?h.tweens.length:0;t<i;t++)h.tweens[t].run(1);return e?l.resolveWith(n,[h,e]):l.rejectWith(n,[h,e]),this}}),c=h.props;for(!function(e,t){var i,s,r,n,o;for(i in e)if(s=ve.camelCase(i),r=t[s],n=e[i],ve.isArray(n)&&(r=n[1],n=e[i]=n[0]),i!==s&&(e[s]=n,delete e[i]),(o=ve.cssHooks[s])&&"expand"in o)for(i in n=o.expand(n),delete e[s],n)i in e||(e[i]=n[i],t[i]=r);else t[s]=r}(c,h.opts.specialEasing);r<a;r++)if(i=ct[r].call(h,n,c,h.opts))return i;return o=h,s=c,ve.each(s,function(e,t){for(var i=(ut[e]||[]).concat(ut["*"]),s=0,r=i.length;s<r;s++)if(i[s].call(o,e,t))return}),ve.isFunction(h.opts.start)&&h.opts.start.call(n,h),ve.fx.timer(ve.extend(d,{anim:h,queue:h.opts.queue,elem:n})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function ft(e,t,i,s,r){return new ft.prototype.init(e,t,i,s,r)}function gt(e,t){var i,s={height:e},r=0;for(t=t?1:0;r<4;r+=2-t)s["margin"+(i=Ve[r])]=s["padding"+i]=e;return t&&(s.opacity=s.width=e),s}ve.Animation=ve.extend(mt,{tweener:function(e,t){ve.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,s=0,r=e.length;s<r;s++)i=e[s],ut[i]=ut[i]||[],ut[i].unshift(t)},prefilter:function(e,t){t?ct.unshift(e):ct.push(e)}}),((ve.Tween=ft).prototype={constructor:ft,init:function(e,t,i,s,r,n){this.elem=e,this.prop=i,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=s,this.unit=n||(ve.cssNumber[i]?"":"px")},cur:function(){var e=ft.propHooks[this.prop];return e&&e.get?e.get(this):ft.propHooks._default.get(this)},run:function(e){var t,i=ft.propHooks[this.prop];return this.options.duration?this.pos=t=ve.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):ft.propHooks._default.set(this),this}}).init.prototype=ft.prototype,(ft.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ve.css(e.elem,e.prop,!1,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){ve.fx.step[e.prop]?ve.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ve.cssProps[e.prop]]||ve.cssHooks[e.prop])?ve.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}}).scrollTop=ft.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ve.each(["toggle","show","hide"],function(s,r){var n=ve.fn[r];ve.fn[r]=function(e,t,i){return null==e||"boolean"==typeof e||!s&&ve.isFunction(e)&&ve.isFunction(t)?n.apply(this,arguments):this.animate(gt(r,!0),e,t,i)}}),ve.fn.extend({fadeTo:function(e,t,i,s){return this.filter(Ke).css("opacity",0).show().end().animate({opacity:t},e,i,s)},animate:function(t,e,i,s){var r=ve.isEmptyObject(t),n=ve.speed(e,i,s),o=function(){var e=mt(this,ve.extend({},t),n);r&&e.stop(!0)};return r||!1===n.queue?this.each(o):this.queue(n.queue,o)},stop:function(r,e,n){var o=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof r&&(n=e,e=r,r=v),e&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",i=ve.timers,s=ve._data(this);if(t)s[t]&&s[t].stop&&o(s[t]);else for(t in s)s[t]&&s[t].stop&&ht.test(t)&&o(s[t]);for(t=i.length;t--;)i[t].elem!==this||null!=r&&i[t].queue!==r||(i[t].anim.stop(n),e=!1,i.splice(t,1));!e&&n||ve.dequeue(this,r)})}}),ve.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,s){ve.fn[e]=function(e,t,i){return this.animate(s,e,t,i)}}),ve.speed=function(e,t,i){var s=e&&"object"==typeof e?ve.extend({},e):{complete:i||!i&&t||ve.isFunction(e)&&e,duration:e,easing:i&&t||t&&!ve.isFunction(t)&&t};return s.duration=ve.fx.off?0:"number"==typeof s.duration?s.duration:s.duration in ve.fx.speeds?ve.fx.speeds[s.duration]:ve.fx.speeds._default,null!=s.queue&&!0!==s.queue||(s.queue="fx"),s.old=s.complete,s.complete=function(){ve.isFunction(s.old)&&s.old.call(this),s.queue&&ve.dequeue(this,s.queue)},s},ve.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ve.timers=[],ve.fx=ft.prototype.init,ve.fx.tick=function(){var e,t=ve.timers,i=0;for(ot=ve.now();i<t.length;i++)(e=t[i])()||t[i]!==e||t.splice(i--,1);t.length||ve.fx.stop(),ot=v},ve.fx.timer=function(e){e()&&ve.timers.push(e)&&!at&&(at=setInterval(ve.fx.tick,ve.fx.interval))},ve.fx.interval=13,ve.fx.stop=function(){clearInterval(at),at=null},ve.fx.speeds={slow:600,fast:200,_default:400},ve.fx.step={},ve.expr&&ve.expr.filters&&(ve.expr.filters.animated=function(t){return ve.grep(ve.timers,function(e){return t===e.elem}).length});var vt=/^(?:body|html)$/i;function xt(e){return ve.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}ve.fn.offset=function(t){if(arguments.length)return t===v?this:this.each(function(e){ve.offset.setOffset(this,t,e)});var e,i,s,r,n,o,a,l={top:0,left:0},d=this[0],h=d&&d.ownerDocument;return h?(i=h.body)===d?ve.offset.bodyOffset(d):(e=h.documentElement,ve.contains(e,d)?(void 0!==d.getBoundingClientRect&&(l=d.getBoundingClientRect()),s=xt(h),r=e.clientTop||i.clientTop||0,n=e.clientLeft||i.clientLeft||0,o=s.pageYOffset||e.scrollTop,a=s.pageXOffset||e.scrollLeft,{top:l.top+o-r,left:l.left+a-n}):l):void 0},ve.offset={bodyOffset:function(e){var t=e.offsetTop,i=e.offsetLeft;return ve.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(ve.css(e,"marginTop"))||0,i+=parseFloat(ve.css(e,"marginLeft"))||0),{top:t,left:i}},setOffset:function(e,t,i){var s=ve.css(e,"position");"static"===s&&(e.style.position="relative");var r,n,o=ve(e),a=o.offset(),l=ve.css(e,"top"),d=ve.css(e,"left"),h={},c={};("absolute"===s||"fixed"===s)&&-1<ve.inArray("auto",[l,d])?(r=(c=o.position()).top,n=c.left):(r=parseFloat(l)||0,n=parseFloat(d)||0),ve.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(h.top=t.top-a.top+r),null!=t.left&&(h.left=t.left-a.left+n),"using"in t?t.using.call(e,h):o.css(h)}},ve.fn.extend({isRendered:function(){var e=this[0];return null!=e.parentNode&&0!==e.offsetWidth&&0!==e.offsetHeight},getSizeFromStyle:function(){var e,t=null,i=null,s=this[0];return s.style.width&&(t=s.style.width),s.style.height&&(i=s.style.height),(e=g.getComputedStyle?getComputedStyle(s,null):s.currentStyle)&&(e.width&&(t=e.width),e.height&&(i=e.height)),"0px"===t&&(t=0),"0px"===i&&(i=0),null===t&&(t=0),null===i&&(i=0),{width:t,height:i}},initAnimate:function(){},sizeStyleChanged:function(e){var i,s=this;i={element:s[0],offsetWidth:s[0].offsetWidth,offsetHeight:s[0].offsetHeight,callback:e};try{s.elementStyleObserver||(s.elementStyleObserver=new MutationObserver(function(e){var t=i;e&&e[0]&&"style"===e[0].attributeName&&"attributes"===e[0].type&&(t.element.offsetWidth===t.offsetWidth&&t.element.offsetHeight===t.offsetHeight||(t.offsetWidth=t.element.offsetWidth,t.offsetHeight=t.element.offsetHeight,s.isRendered()&&t.callback()))}),s.elementStyleObserver.observe(s[0],{attributes:!0,childList:!1,characterData:!1}))}catch(e){}},position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),i=this.offset(),s=vt.test(t[0].nodeName)?{top:0,left:0}:t.offset();return i.top-=parseFloat(ve.css(e,"marginTop"))||0,i.left-=parseFloat(ve.css(e,"marginLeft"))||0,s.top+=parseFloat(ve.css(t[0],"borderTopWidth"))||0,s.left+=parseFloat(ve.css(t[0],"borderLeftWidth"))||0,{top:i.top-s.top,left:i.left-s.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||x.body;e&&!vt.test(e.nodeName)&&"static"===ve.css(e,"position");)e=e.offsetParent;return e||x.body})}}),ve.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var n=/Y/.test(r);ve.fn[t]=function(e){return ve.access(this,function(e,t,i){var s=xt(e);if(i===v)return s?r in s?s[r]:s.document.documentElement[t]:e[t];s?s.scrollTo(n?ve(s).scrollLeft():i,n?i:ve(s).scrollTop()):e[t]=i},t,e,arguments.length,null)}}),ve.each({Height:"height",Width:"width"},function(n,o){ve.each({padding:"inner"+n,content:o,"":"outer"+n},function(s,e){ve.fn[e]=function(e,t){var i=arguments.length&&(s||"boolean"!=typeof e),r=s||(!0===e||!0===t?"margin":"border");return ve.access(this,function(e,t,i){var s;return ve.isWindow(e)?e.document.documentElement["client"+n]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+n],s["scroll"+n],e.body["offset"+n],s["offset"+n],s["client"+n])):i===v?ve.css(e,t,i,r):ve.style(e,t,i,r)},o,i?e:v,i,null)}})}),g.JQXLite=g.jqxHelper=ve,"function"==typeof define&&define.amd&&define.amd.JQXLite&&define("jqx",[],function(){return ve})}(window),function(e){e.jQuery?e.minQuery=e.JQXLite=e.jQuery:e.$?e.minQuery=e.JQXLite=e.$:e.$=e.minQuery=e.JQXLite}(window),JQXLite.generateID=function(){for(var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},t="";t="jqx"+e()+e()+e(),0<$("#"+t).length;);return t};var jqxBaseFramework=window.jqxBaseFramework=window.minQuery||window.jQuery;!function(G){var r,n,o,a;G.jqx=G.jqx||{},window.jqx=G.jqx,jqwidgets={createInstance:function(e,t,i){if("jqxDataAdapter"==t){var s=i[0],r=i[1]||{};return new G.jqx.dataAdapter(s,r)}return G(e)[t](i||{}),G(e)[t]("getInstance")}},G.jqx.define=function(e,t,i){e[t]=function(){this.baseType&&(this.base=new e[this.baseType],this.base.defineInstance()),this.defineInstance(),this.metaInfo()},e[t].prototype.defineInstance=function(){},e[t].prototype.metaInfo=function(){},e[t].prototype.base=null,e[t].prototype.baseType=void 0,i&&e[i]&&(e[t].prototype.baseType=i)},G.jqx.invoke=function(e,t){if(0!=t.length){for(var i=typeof t==Array||0<t.length?t[0]:t,s=typeof t==Array||1<t.length?Array.prototype.slice.call(t,1):G({}).toArray();null==e[i]&&null!=e.base;){if(null!=e[i]&&G.isFunction(e[i]))return e[i].apply(e,s);var r;if("string"==typeof i)if(null!=e[r=i.toLowerCase()]&&G.isFunction(e[r]))return e[r].apply(e,s);e=e.base}if(null!=e[i]&&G.isFunction(e[i]))return e[i].apply(e,s);if("string"==typeof i)if(null!=e[r=i.toLowerCase()]&&G.isFunction(e[r]))return e[r].apply(e,s)}},G.jqx.getByPriority=function(e){for(var t=void 0,i=0;i<e.length&&null==t;i++)null==t&&null!=e[i]&&(t=e[i]);return t},G.jqx.hasProperty=function(e,t){if("object"==typeof t)for(var i in t){for(var s=e;s;){if(s.hasOwnProperty(i))return!0;if(s.hasOwnProperty(i.toLowerCase()))return!0;s=s.base}return!1}else for(;e;){if(e.hasOwnProperty(t))return!0;if(e.hasOwnProperty(t.toLowerCase()))return!0;e=e.base}return!1},G.jqx.hasFunction=function(e,t){if(0==t.length)return!1;if(null==e)return!1;var i=typeof t==Array||0<t.length?t[0]:t;for((typeof t==Array||1<t.length)&&Array.prototype.slice.call(t,1);null==e[i]&&null!=e.base;){if(e[i]&&G.isFunction(e[i]))return!0;var s;if("string"==typeof i)if(e[s=i.toLowerCase()]&&G.isFunction(e[s]))return!0;e=e.base}if(e[i]&&G.isFunction(e[i]))return!0;if("string"==typeof i&&(e[s=i.toLowerCase()]&&G.isFunction(e[s])))return!0;return!1},G.jqx.isPropertySetter=function(e,t){return 1==t.length&&"object"==typeof t[0]||2==t.length&&"string"==typeof t[0]&&!G.jqx.hasFunction(e,t)},G.jqx.validatePropertySetter=function(e,t,i){if(!G.jqx.propertySetterValidation)return!0;if(1==t.length&&"object"==typeof t[0]){for(var s in t[0]){for(var r=e;!r.hasOwnProperty(s)&&r.base;)r=r.base;if(!r||!r.hasOwnProperty(s)){if(!i){if(r.hasOwnProperty(s.toString().toLowerCase()))return!0;throw"Invalid property: "+s}return!1}}return!0}if(2!=t.length){if(!i)throw 0<="Invalid property: "+t.length?t[0]:"";return!1}for(;!e.hasOwnProperty(t[0])&&e.base;)e=e.base;if(!e||!e.hasOwnProperty(t[0])){if(!i)throw"Invalid property: "+t[0];return!1}return!0},Object.keys||(Object.keys=(r=Object.prototype.hasOwnProperty,n=!{toString:null}.propertyIsEnumerable("toString"),a=(o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var t,i,s=[];for(t in e)r.call(e,t)&&s.push(t);if(n)for(i=0;i<a;i++)r.call(e,o[i])&&s.push(o[i]);return s})),G.jqx.set=function(s,e){var r=0;if(1==e.length&&"object"==typeof e[0]){if(s.isInitialized&&Object.keys&&1<Object.keys(e[0]).length){var t=s.base?s.base.element:s.element,i=G.data(t,s.widgetName).initArgs;if(i&&JSON&&JSON.stringify&&e[0]&&i[0])try{if(JSON.stringify(e[0])==JSON.stringify(i[0])){var n=!0;if(G.each(e[0],function(e,t){if(s[e]!=t)return n=!1}),n)return}}catch(e){}s.batchUpdate=e[0];var o={},a={};G.each(e[0],function(e,t){for(var i=s;!i.hasOwnProperty(e)&&null!=i.base;)i=i.base;i.hasOwnProperty(e)?s[e]!=t&&(o[e]=s[e],a[e]=t,r++):i.hasOwnProperty(e.toLowerCase())&&s[e.toLowerCase()]!=t&&(o[e.toLowerCase()]=s[e.toLowerCase()],a[e.toLowerCase()]=t,r++)}),r<2&&(s.batchUpdate=null)}G.each(e[0],function(e,t){for(var i=s;!i.hasOwnProperty(e)&&null!=i.base;)i=i.base;if(i.hasOwnProperty(e))G.jqx.setvalueraiseevent(i,e,t);else if(i.hasOwnProperty(e.toLowerCase()))G.jqx.setvalueraiseevent(i,e.toLowerCase(),t);else if(G.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+e+"'"}),null!=s.batchUpdate&&(s.batchUpdate=null,s.propertiesChangedHandler&&1<r&&s.propertiesChangedHandler(s,o,a))}else if(2==e.length){for(;!s.hasOwnProperty(e[0])&&s.base;)s=s.base;if(s.hasOwnProperty(e[0]))G.jqx.setvalueraiseevent(s,e[0],e[1]);else if(s.hasOwnProperty(e[0].toLowerCase()))G.jqx.setvalueraiseevent(s,e[0].toLowerCase(),e[1]);else if(G.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+e[0]+"'"}},G.jqx.setvalueraiseevent=function(e,t,i){var s=e[t];e[t]=i,e.isInitialized&&(null!=e.propertyChangedHandler&&e.propertyChangedHandler(e,t,s,i),null!=e.propertyChangeMap&&null!=e.propertyChangeMap[t]&&e.propertyChangeMap[t](e,t,s,i))},G.jqx.get=function(e,t){if(null!=t&&null!=t){if(e.propertyMap){var i=e.propertyMap(t);if(null!=i)return i}if(e.hasOwnProperty(t))return e[t];if(e.hasOwnProperty(t.toLowerCase()))return e[t.toLowerCase()];var s=void 0;if(typeof t==Array){if(1!=t.length)return;s=t[0]}else"string"==typeof t&&(s=t);for(;!e.hasOwnProperty(s)&&e.base;)e=e.base;return e?e[s]:void 0}},G.jqx.serialize=function(e){var t="";if(G.isArray(e)){t="[";for(var i=0;i<e.length;i++)0<i&&(t+=", "),t+=G.jqx.serialize(e[i]);t+="]"}else if("object"==typeof e){t="{";var s=0;for(var i in e)0<s++&&(t+=", "),t+=i+": "+G.jqx.serialize(e[i]);t+="}"}else t=e.toString();return t},G.jqx.propertySetterValidation=!0,G.jqx.jqxWidgetProxy=function(e,t,i){G(t);var s=G.data(t,e);if(null!=s){var r=s.instance;if(G.jqx.hasFunction(r,i))return G.jqx.invoke(r,i);if(G.jqx.isPropertySetter(r,i)){if(G.jqx.validatePropertySetter(r,i))return void G.jqx.set(r,i)}else{if("object"==typeof i&&0==i.length)return;if("object"==typeof i&&1==i.length&&G.jqx.hasProperty(r,i[0]))return G.jqx.get(r,i[0]);if("string"==typeof i&&G.jqx.hasProperty(r,i[0]))return G.jqx.get(r,i)}throw"jqxCore: Invalid parameter '"+G.jqx.serialize(i)+"' does not exist."}},G.jqx.applyWidget=function(e,t,i,s){var r=!1;try{r=null!=window.MSApp}catch(e){}var n=G(e);s?(s.host=n,s.element=e):s=new G.jqx["_"+t],""==e.id&&(e.id=G.jqx.utilities.createId());var o={host:n,element:e,instance:s,initArgs:i};s.widgetName=t,G.data(e,t,o),G.data(e,"jqxWidget",o.instance);var a=new Array;for(s=o.instance;s;)s.isInitialized=!1,a.push(s),s=s.base;for(var l in a.reverse(),a[0].theme=G.jqx.theme||"",G.jqx.jqxWidgetProxy(t,e,i),a)s=a[l],0==l&&(s.host=n,s.element=e,s.WinJS=r),null!=s&&(s.definedInstance&&s.definedInstance(),null!=s.createInstance&&(r?MSApp.execUnsafeLocalFunction(function(){s.createInstance(i)}):s.createInstance(i)));for(var l in a)null!=a[l]&&(a[l].isInitialized=!0);r?MSApp.execUnsafeLocalFunction(function(){o.instance.refresh(!0)}):o.instance.refresh(!0)},G.jqx.jqxWidget=function(e,t,i){try{jqxArgs=Array.prototype.slice.call(i,0)}catch(e){jqxArgs=""}try{null!=window.MSApp}catch(e){}var d=e,s="";t&&(s="_"+t),G.jqx.define(G.jqx,"_"+d,s);var h=new Array;if(!window[d]){var c=function(e){if(null==e)return"";switch(G.type(e)){case"string":case"number":case"date":case"boolean":case"bool":return null===e?"":e.toString()}var n="";return G.each(e,function(e,t){var i=t;0<e&&(n+=", "),n+="[";var s=0;if("object"==G.type(i))for(var r in i)0<s&&(n+=", "),n+="{"+r+":"+i[r]+"}",s++;else 0<s&&(n+=", "),n+="{"+e+":"+i+"}",s++;n+="]"}),n};jqwidgets[d]=window[d]=function(e,i){var n=[];i||(i={}),n.push(i);var o=e;if("object"===G.type(o)&&e[0]?""===(o=e[0].id)&&(o=e[0].id=G.jqx.utilities.createId()):"object"===G.type(e)&&e&&e.nodeName&&""===(o=e.id)&&(o=e.id=G.jqx.utilities.createId()),window.jqxWidgets&&window.jqxWidgets[o]){var t;if(i&&G.each(window.jqxWidgets[o],function(e){var t=G(this.element).data();t&&t.jqxWidget&&G(this.element)[d](i)}),1==window.jqxWidgets[o].length)if((t=G(window.jqxWidgets[o][0].widgetInstance.element).data())&&t.jqxWidget)return window.jqxWidgets[o][0];if((t=G(window.jqxWidgets[o][0].widgetInstance.element).data())&&t.jqxWidget)return window.jqxWidgets[o]}var a=G(e);0===a.length&&(a=G("<div></div>"),"jqxInput"!==d&&"jqxPasswordInput"!==d&&"jqxMaskedInput"!==d||(a=G("<input/>")),"jqxTextArea"===d&&(a=G("<textarea></textarea>")),"jqxButton"!==d&&"jqxRepeatButton"!==d&&"jqxToggleButton"!==d||(a=G("<button/>")),"jqxSplitter"===d&&(a=G("<div><div>Panel 1</div><div>Panel 2</div></div>")),"jqxTabs"===d&&(a=G("<div><ul><li>Tab 1</li><li>Tab 2</li></ul><div>Content 1</div><div>Content 2</div></div>")),"jqxRibbon"===d&&(a=G("<div><ul><li>Tab 1</li><li>Tab 2</li></ul><div><div>Content 1</div><div>Content 2</div></div></div>")),"jqxDocking"===d&&(a=G("<div><div><div><div>Title 1</div><div>Content 1</div></div></div></div>")),"jqxWindow"===d&&(a=G("<div><div>Title 1</div><div>Content 1</div></div>")));var l=[];return G.each(a,function(e){var t=a[e];if(G.jqx.applyWidget(t,d,n,void 0),!h[d]){var i=G.data(t,"jqxWidget"),s=G.jqx["_"+d].prototype.defineInstance();G.jqx["_"+d].prototype.metaInfo&&G.jqx["_"+d].prototype.metaInfo(),"jqxDockingLayout"==d&&(s=G.extend(s,G.jqx._jqxLayout.prototype.defineInstance())),"jqxToggleButton"!=d&&"jqxRepeatButton"!=d||(s=G.extend(s,G.jqx._jqxButton.prototype.defineInstance())),"jqxTreeGrid"==d&&(s=G.extend(s,G.jqx._jqxDataTable.prototype.defineInstance()));var r=function(e){var t=G.data(e,"jqxWidget");this.widgetInstance=t;var i=G.extend(this,t);for(var s in i.on=i.addEventListener=function(e,t){i.addHandler(i.base?i.base.host:i.host,e,t)},i.off=i.removeEventListener=function(e){i.removeHandler(i.base?i.base.host:i.host,e)},t)"function"==G.type(t[s])&&(i[s]=G.proxy(t[s],t));return i};h[d]=r,G.each(s,function(n,e){Object.defineProperty(r.prototype,n,{get:function(){return this.widgetInstance?this.widgetInstance[n]:e},set:function(e){if(this.widgetInstance&&(this.widgetInstance[n]!=e||"width"===n||"height"===n)){var t=this.widgetInstance[n],i=e,s=!1;if(G.type(t)==G.type(i)&&"source"!==n&&"width"!==n&&"height"!==n||(s=!0),s||c(t)!=c(i)){var r={};r[n]=e,this.widgetInstance.host?this.widgetInstance.host[d](r):this.widgetInstance.base.host[d](r),this.widgetInstance[n]=e,this.widgetInstance.propertyUpdated&&this.widgetInstance.propertyUpdated(n,t,e)}}}})})}i=new h[d](t);l.push(i),window.jqxWidgets||(window.jqxWidgets=new Array),window.jqxWidgets[o]||(window.jqxWidgets[o]=new Array),window.jqxWidgets[o].push(i)}),1===l.length?l[0]:l}}G.fn[d]=function(){var i=Array.prototype.slice.call(arguments,0);if(0==i.length||1==i.length&&"object"==typeof i[0]){if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");return this.each(function(){G(this);null==G.data(this,d)?G.jqx.applyWidget(this,d,i,void 0):G.jqx.jqxWidgetProxy(d,this,i)})}if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");var s=null,r=0;return this.each(function(){var e=G.jqx.jqxWidgetProxy(d,this,i);if(0==r)s=e,r++;else{if(1==r){var t=[];t.push(s),s=t}s.push(e)}}),s};try{G.extend(G.jqx["_"+d].prototype,Array.prototype.slice.call(i,0)[0])}catch(e){}G.extend(G.jqx["_"+d].prototype,{toThemeProperty:function(e,t){return G.jqx.toThemeProperty(this,e,t)}}),G.jqx["_"+d].prototype.refresh=function(){this.base&&this.base.refresh(!0)},G.jqx["_"+d].prototype.createInstance=function(){},G.jqx["_"+d].prototype.addEventHandler=function(e,t){this.host.on(e,t)},G.jqx["_"+d].prototype.removeEventHandler=function(e,t){this.host.off(e)},G.jqx["_"+d].prototype.applyTo=function(e,t){if(!(t instanceof Array)){var i=[];i.push(t),t=i}G.jqx.applyWidget(e,d,t,this)},G.jqx["_"+d].prototype.getInstance=function(){return this},G.jqx["_"+d].prototype.propertyChangeMap={},G.jqx["_"+d].prototype.addHandler=function(e,t,i,s){G.jqx.addHandler(G(e),t,i,s)},G.jqx["_"+d].prototype.removeHandler=function(e,t,i){G.jqx.removeHandler(G(e),t,i)},G.jqx["_"+d].prototype.setOptions=function(){if(this.host&&this.host.length&&1==this.host.length)return G.jqx.jqxWidgetProxy(d,this.host[0],arguments)}},G.jqx.toThemeProperty=function(e,t,i){if(""==e.theme)return t;for(var s=t.split(" "),r="",n=0;n<s.length;n++){0<n&&(r+=" ");var o=s[n];r+=null!=i&&i?o+"-"+e.theme:o+" "+o+"-"+e.theme}return r},G.jqx.addHandler=function(e,t,i,s){for(var r=t.split(" "),n=0;n<r.length;n++){var o=r[n];if(window.addEventListener)switch(o){case"mousewheel":G.jqx.browser.mozilla?e[0].addEventListener("DOMMouseScroll",i,!1):e[0].addEventListener("mousewheel",i,!1);continue;case"mousemove":if(!s){e[0].addEventListener("mousemove",i,!1);continue}}null==s||null==s?e.on?e.on(o,i):e.bind(o,i):e.on?e.on(o,s,i):e.bind(o,s,i)}},G.jqx.removeHandler=function(e,t,i){if(t)for(var s=t.split(" "),r=0;r<s.length;r++){var n=s[r];if(window.removeEventListener)switch(n){case"mousewheel":G.jqx.browser.mozilla?e[0].removeEventListener("DOMMouseScroll",i,!1):e[0].removeEventListener("mousewheel",i,!1);continue;case"mousemove":if(i){e[0].removeEventListener("mousemove",i,!1);continue}}null!=n?null==i?e.off?e.off(n):e.unbind(n):e.off?e.off(n,i):e.unbind(n,i):e.off?e.off():e.unbind()}else e.off?e.off():e.unbind()},G.jqx.theme=G.jqx.theme||"",G.jqx.scrollAnimation=G.jqx.scrollAnimation||!1,G.jqx.resizeDelay=G.jqx.resizeDelay||10,G.jqx.ready=function(){G(window).trigger("jqxReady")},G.jqx.init=function(){G.each(arguments[0],function(e,t){"theme"==e&&(G.jqx.theme=t),"scrollBarSize"==e&&(G.jqx.utilities.scrollBarSize=t),"touchScrollBarSize"==e&&(G.jqx.utilities.touchScrollBarSize=t),"scrollBarButtonsVisibility"==e&&(G.jqx.utilities.scrollBarButtonsVisibility=t)})},G.jqx.utilities=G.jqx.utilities||{},G.extend(G.jqx.utilities,{scrollBarSize:13,touchScrollBarSize:8,scrollBarButtonsVisibility:"visible",createId:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"jqxWidget"+e()+e()+e()},setTheme:function(e,t,i){if(void 0!==i&&i[0].className.split){for(var s=i[0].className.split(" "),r=[],n=[],o=i.children(),a=0;a<s.length;a+=1)0<=s[a].indexOf(e)&&(0<e.length?(r.push(s[a]),n.push(s[a].replace(e,t))):n.push(s[a].replace("-"+t,"")+"-"+t));this._removeOldClasses(r,i),this._addNewClasses(n,i);for(a=0;a<o.length;a+=1)this.setTheme(e,t,G(o[a]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},getOffset:function(e){var t=G.jqx.mobile.getLeftPos(e[0]);return{top:G.jqx.mobile.getTopPos(e[0]),left:t}},resize:function(e,t,i,s){void 0===s&&(s=!0);var r=-1,m=this,f=function(e){if(!m.hiddenWidgets)return-1;for(var t=-1,i=0;i<m.hiddenWidgets.length;i++)if(e.id){if(m.hiddenWidgets[i].id==e.id){t=i;break}}else if(m.hiddenWidgets[i].id==e[0].id){t=i;break}return t};if(this.resizeHandlers){for(var n=0;n<this.resizeHandlers.length;n++)if(e.id){if(this.resizeHandlers[n].id==e.id){r=n;break}}else if(this.resizeHandlers[n].id==e[0].id){r=n;break}if(!0===i){if(-1!=r&&this.resizeHandlers.splice(r,1),0==this.resizeHandlers.length)(a=G(window)).off?(a.off("resize.jqx"),a.off("orientationchange.jqx"),a.off("orientationchanged.jqx")):(a.unbind("resize.jqx"),a.unbind("orientationchange.jqx"),a.unbind("orientationchanged.jqx")),this.resizeHandlers=null;return void(-1!=(o=f(e))&&this.hiddenWidgets&&this.hiddenWidgets.splice(o,1))}}else{var o;if(!0===i)return void(-1!=(o=f(e))&&this.hiddenWidgets&&this.hiddenWidgets.splice(o,1))}m=this;var a,l=function(e,r){if(m.resizeHandlers){var n=function(e){for(var t=-1,i=e.parentNode;i;)t++,i=i.parentNode;return t},i=function(e,t){if(!e.widget||!t.widget)return 0;var i=n(e.widget[0]),s=n(t.widget[0]);try{if(i<s)return-1;if(s<i)return 1}catch(e){}return 0},t=function(e){if(0<m.hiddenWidgets.length){m.hiddenWidgets.sort(i);var t=function(){for(var e=!1,t=new Array,i=0;i<m.hiddenWidgets.length;i++){var s=m.hiddenWidgets[i];G.jqx.isHidden(s.widget)?(e=!0,t.push(s)):s.callback&&s.callback(r)}m.hiddenWidgets=t,e||clearInterval(m.__resizeInterval)};if(0==e)return t(),void(m.__resizeInterval&&clearInterval(m.__resizeInterval));m.__resizeInterval&&clearInterval(m.__resizeInterval),m.__resizeInterval=setInterval(function(){t()},100)}};m.hiddenWidgets&&0<m.hiddenWidgets.length&&t(!1),m.hiddenWidgets=new Array,m.resizeHandlers.sort(i);for(var s=0;s<m.resizeHandlers.length;s++){var o=m.resizeHandlers[s],a=o.widget,l=o.data;if(l&&l.jqxWidget){var d=l.jqxWidget.width,h=l.jqxWidget.height;l.jqxWidget.base&&(null==d&&(d=l.jqxWidget.base.width),null==h&&(h=l.jqxWidget.base.height)),void 0===d&&void 0===h&&(d=l.jqxWidget.element.style.width,h=l.jqxWidget.element.style.height);var c=!1;if(null!=d&&-1!=d.toString().indexOf("%")&&(c=!0),null!=h&&-1!=h.toString().indexOf("%")&&(c=!0),G.jqx.isHidden(a))-1===f(a)&&(c||!0===e)&&!0!==o.data.nestedWidget&&m.hiddenWidgets.push(o);else if(void 0===e||!0!==e){if(c){if(o.callback(r),m.watchedElementData)for(var u=0;u<m.watchedElementData.length;u++)if(m.watchedElementData[u].element==l.jqxWidget.element){m.watchedElementData[u].offsetWidth=l.jqxWidget.element.offsetWidth,m.watchedElementData[u].offsetHeight=l.jqxWidget.element.offsetHeight;break}0<=m.hiddenWidgets.indexOf(o)&&m.hiddenWidgets.splice(m.hiddenWidgets.indexOf(o),1)}if(l.jqxWidget.element){var p=l.jqxWidget.element.className;if(0<=p.indexOf("dropdownlist")||0<=p.indexOf("datetimeinput")||0<=p.indexOf("combobox")||0<=p.indexOf("menu"))if(l.jqxWidget.isOpened)if(l.jqxWidget.isOpened()){if(r&&"resize"==r&&G.jqx.mobile.isTouchDevice())continue;l.jqxWidget.close()}}}}}t()}};this.resizeHandlers||(this.resizeHandlers=new Array,(a=G(window)).on?(this._resizeTimer=null,this._initResize=null,a.on("resize.jqx",function(e){null!=m._resizeTimer&&clearTimeout(m._resizeTimer),m._initResize?m._resizeTimer=setTimeout(function(){l(null,"resize")},G.jqx.resizeDelay):(m._initResize=!0,l(null,"resize"))}),a.on("orientationchange.jqx",function(e){l(null,"orientationchange")}),a.on("orientationchanged.jqx",function(e){l(null,"orientationchange")})):(a.bind("resize.jqx",function(e){l(null,"orientationchange")}),a.bind("orientationchange.jqx",function(e){l(null,"orientationchange")}),a.bind("orientationchanged.jqx",function(e){l(null,"orientationchange")})));var d=e.data();s&&-1===r&&this.resizeHandlers.push({id:e[0].id,widget:e,callback:t,data:d});try{var h=d.jqxWidget.width,c=d.jqxWidget.height;d.jqxWidget.base&&(null==h&&(h=d.jqxWidget.base.width),null==c&&(c=d.jqxWidget.base.height)),void 0===h&&void 0===c&&(h=d.jqxWidget.element.style.width,c=d.jqxWidget.element.style.height);var u=!1;if(null!=h&&-1!=h.toString().indexOf("%")&&(u=!0),null!=c&&-1!=c.toString().indexOf("%")&&(u=!0),u){this.watchedElementData||(this.watchedElementData=[]);(m=this).watchedElementData.push({element:e[0],offsetWidth:e[0].offsetWidth,offsetHeight:e[0].offsetHeight,callback:t}),m.observer||(m.observer=new MutationObserver(function(e){m.watchedElementData.forEach&&m.watchedElementData.forEach(function(e){e.element.offsetWidth===e.offsetWidth&&e.element.offsetHeight===e.offsetHeight||(e.offsetWidth=e.element.offsetWidth,e.offsetHeight=e.element.offsetHeight,e.timer&&clearTimeout(e.timer),e.timer=setTimeout(function(){G.jqx.isHidden(G(e.element))?e.timer=setInterval(function(){G.jqx.isHidden(G(e.element))||(clearInterval(e.timer),e.callback())},100):e.callback()}))})}),m.observer.observe(document.body,{attributes:!0,childList:!0,characterData:!0}))}}catch(e){}G.jqx.isHidden(e)&&!0===s&&l(!0),G.jqx.resize=function(){l(null,"resize")}},parseJSON:function(e){if(!e||"string"!=typeof e)return null;if(e=G.trim(e),window.JSON&&window.JSON.parse)return window.JSON.parse(e);if(/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,"@").replace(/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return new Function("return "+e)();throw new Error("Invalid JSON: "+e)},html:function(n,t){if(!G(n).on)return G(n).html(t);try{return G.access(n,function(e){var t=n[0]||{},i=0,s=n.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(rinlinejQuery,""):void 0;var r=new RegExp("<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)[\\s/>]","i");if("string"==typeof e&&!/<(?:script|style|link)/i.test(e)&&(G.support.htmlSerialize||!r.test(e))&&(G.support.leadingWhitespace||!/^\s+/.test(e))&&!{option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]}[(/<([\w:]+)/.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>");try{for(;i<s;i++)1===(t=this[i]||{}).nodeType&&(G.cleanData(t.getElementsByTagName("*")),t.innerHTML=e);t=0}catch(e){}}t&&n.empty().append(e)},null,t,arguments.length)}catch(e){return G(n).html(t)}},hasTransform:function(e){var t="";if(""==(t=e.css("transform"))||"none"==t){if(""!=(t=e.parents().css("transform"))&&"none"!=t)return""!=t&&"none"!=t;var i=G.jqx.utilities.getBrowser();"msie"==i.browser?""!=(t=e.css("-ms-transform"))&&"none"!=t||(t=e.parents().css("-ms-transform")):"chrome"==i.browser?""!=(t=e.css("-webkit-transform"))&&"none"!=t||(t=e.parents().css("-webkit-transform")):"opera"==i.browser?""!=(t=e.css("-o-transform"))&&"none"!=t||(t=e.parents().css("-o-transform")):"mozilla"==i.browser&&(""!=(t=e.css("-moz-transform"))&&"none"!=t||(t=e.parents().css("-moz-transform")))}return""!=t&&"none"!=t||(t=G(document.body).css("transform")),""!=t&&"none"!=t&&null!=t},getBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],i={browser:t[1]||"",version:t[2]||"0"};return 0<=e.indexOf("rv:11.0")&&0<=e.indexOf(".net4.0c")&&(i.browser="msie",i.version="11",t[1]="msie"),0<=e.indexOf("edge")&&(i.browser="msie",i.version="12",t[1]="msie"),i[t[1]]=t[1],i}}),G.jqx.browser=G.jqx.utilities.getBrowser(),G.jqx.isHidden=function(e){if(!e||!e[0])return!1;var t=e[0].offsetWidth,i=e[0].offsetHeight;return 0===t||0===i},G.jqx.ariaEnabled=!0,G.jqx.aria=function(r,e,t){if(G.jqx.ariaEnabled)if(null==e)G.each(r.aria,function(e,t){if(null==(i=r.base?r.base.host.attr(e):r.host.attr(e))||G.isFunction(i)){var i=r[t.name];G.isFunction(i)&&(i=r[t.name]()),null==i&&(i="");try{r.base?r.base.host.attr(e,i.toString()):r.host.attr(e,i.toString())}catch(e){}}else{var s=i;switch(t.type){case"number":s=new Number(i),isNaN(s)&&(s=i);break;case"boolean":s="true"==i;break;case"date":("Invalid Date"==(s=new Date(i))||isNaN(s))&&(s=i)}r[t.name]=s}});else try{r.host?r.base?r.base.host?r.base.host.attr(e,t.toString()):r.attr(e,t.toString()):r.host?r.element.setAttribute?r.element.setAttribute(e,t.toString()):r.host.attr(e,t.toString()):r.attr(e,t.toString()):r.setAttribute&&r.setAttribute(e,t.toString())}catch(e){}},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,i=Number(arguments[1])||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=t);i<t;i++)if(i in this&&this[i]===e)return i;return-1}),G.jqx.mobile=G.jqx.mobile||{},G.jqx.position=function(e){var t=parseInt(e.pageX),i=parseInt(e.pageY);if(G.jqx.mobile.isTouchDevice()){var s=G.jqx.mobile.getTouches(e)[0];t=parseInt(s.pageX),i=parseInt(s.pageY)}return{left:t,top:i}},G.extend(G.jqx.mobile,{_touchListener:function(e,t){var i,s,r,n={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},o=(i=n[e.type],s=e,(r=document.createEvent("MouseEvents")).initMouseEvent(i,s.bubbles,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget),r._pageX=s.pageX,r._pageY=s.pageY,r);e.target.dispatchEvent(o);var a=e.target["on"+n[e.type]];"function"==typeof a&&a(e)},setMobileSimulator:function(t,e){if(!this.isTouchDevice()){this.simulatetouches=!0,0==e&&(this.simulatetouches=!1);var i={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},s=this;if(window.addEventListener){var r=function(){for(var e in i)t.addEventListener&&(t.removeEventListener(e,s._touchListener),t.addEventListener(e,s._touchListener,!1))};G.jqx.browser.msie,r()}}},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var e="Browser CodeName: "+navigator.appCodeName;if(e+="Browser Name: "+navigator.appName,e+="Browser Version: "+navigator.appVersion,e+="Platform: "+navigator.platform,-1!=(e+="User-agent header: "+navigator.userAgent).indexOf("Android"))return!0;if(-1!=e.indexOf("IEMobile"))return!0;if(-1!=e.indexOf("Windows Phone"))return!0;if(-1!=e.indexOf("WPDesktop"))return!0;if(-1!=e.indexOf("ZuneWP7"))return!0;if(-1!=e.indexOf("BlackBerry")&&-1!=e.indexOf("Mobile Safari"))return!0;if(-1!=e.indexOf("ipod"))return!0;if(-1!=e.indexOf("nokia")||-1!=e.indexOf("Nokia"))return!0;if(-1!=e.indexOf("Chrome/17"))return!1;if(-1!=e.indexOf("CrOS"))return!1;if(-1!=e.indexOf("Opera")&&-1==e.indexOf("Mobi")&&-1==e.indexOf("Mini")&&-1!=e.indexOf("Platform: Win"))return!1;if(-1!=e.indexOf("Opera")&&-1!=e.indexOf("Mobi")&&-1!=e.indexOf("Opera Mobi"))return!0;var t={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(null!=this.touchDevice)return this.touchDevice;for(i in this.touchDevice=!1,t)if(t.hasOwnProperty(i)&&(prefix=t[i],match=e.match(new RegExp("(?:"+prefix+")([^\\s;]+)")),match))return"blackberry"==i.toString()?this.touchDevice=!1:this.touchDevice=!0;var s=navigator.userAgent;if(-1!=navigator.platform.toLowerCase().indexOf("win")){if(0<=s.indexOf("Windows Phone")||0<=s.indexOf("WPDesktop")||0<=s.indexOf("IEMobile")||0<=s.indexOf("ZuneWP7"))return this.touchDevice=!0;if(0<=s.indexOf("Touch"))return"MSPointerDown"in window||"pointerdown"in window?this.touchDevice=!0:0<=s.indexOf("ARM")?this.touchDevice=!0:this.touchDevice=!1}return-1!=navigator.platform.toLowerCase().indexOf("win")?this.touchDevice=!1:(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.touchDevice=!0),this.touchDevice)}catch(e){return this.touchDevice=!1}},getLeftPos:function(e){for(var t=e.offsetLeft;null!=(e=e.offsetParent);)"HTML"!=e.tagName&&(t+=e.offsetLeft,document.all&&(t+=e.clientLeft));return t},getTopPos:function(e){for(var t=e.offsetTop,i=G(e).coord();null!=(e=e.offsetParent);)"HTML"!=e.tagName&&(t+=e.offsetTop-e.scrollTop,document.all&&(t+=e.clientTop));var s=navigator.userAgent.toLowerCase();return(-1!=s.indexOf("windows phone")||-1!=s.indexOf("WPDesktop")||-1!=s.indexOf("ZuneWP7")||-1!=s.indexOf("msie 9")||-1!=s.indexOf("msie 11")||-1!=s.indexOf("msie 10"))&&-1!=s.indexOf("touch")?i.top:this.isSafariMobileBrowser()?this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()?t:-1!=s.indexOf("version/7")?i.top:(-1==s.indexOf("version/6")&&-1==s.indexOf("version/5")||(t+=G(window).scrollTop()),/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)?t+G(window).scrollTop():/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)?t+G(window).scrollTop():i.top):t},isChromeMobileBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("android")},isOperaMiniMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("opera mini")||-1!=e.indexOf("opera mobi")},isOperaMiniBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("opera mini")},isNewSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/5")},isSafari4MobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/4")},isWindowsPhone:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("windows phone")||-1!=e.indexOf("WPDesktop")||-1!=e.indexOf("ZuneWP7")||-1!=e.indexOf("msie 9")||-1!=e.indexOf("msie 11")||-1!=e.indexOf("msie 10")&&-1!=e.indexOf("touch")},isSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return!!/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)||(!!/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)||(-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod")||-1!=e.indexOf("mobile safari")))},isIPadSafariMobileBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("ipad")},isMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("android")},getTouches:function(e){if(e.originalEvent){if(e.originalEvent.touches&&e.originalEvent.touches.length)return e.originalEvent.touches;if(e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length)return e.originalEvent.changedTouches}return e.touches||(e.touches=new Array,e.touches[0]=null!=e.originalEvent?e.originalEvent:e,null!=e.originalEvent&&e.pageX&&(e.touches[0]=e),"mousemove"==e.type&&(e.touches[0]=e)),e.touches},getTouchEventName:function(e){if(!this.isWindowsPhone())return e;if(-1!=navigator.userAgent.toLowerCase().indexOf("windows phone 7")){if(-1!=e.toLowerCase().indexOf("start"))return"MSPointerDown";if(-1!=e.toLowerCase().indexOf("move"))return"MSPointerMove";if(-1!=e.toLowerCase().indexOf("end"))return"MSPointerUp"}return-1!=e.toLowerCase().indexOf("start")?"pointerdown":-1!=e.toLowerCase().indexOf("move")?"pointermove":-1!=e.toLowerCase().indexOf("end")?"pointerup":void 0},dispatchMouseEvent:function(e,t,i){if(!this.simulatetouches){var s=document.createEvent("MouseEvent");s.initMouseEvent(e,!0,!0,t.view,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),null!=i&&i.dispatchEvent(s)}},getRootNode:function(e){for(;1!==e.nodeType;)e=e.parentNode;return e},setTouchScroll:function(e,t){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[t]=e},touchScroll:function(e,t,i,l,d,h){if(null!=e){var c=this,u=0,p=0,m=0,f=0;this.scrolling||(this.scrolling=[]);var g=this.scrolling[l]=!1,s=G(e),r=["select","input","textarea"];this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[l]=!0;l=l;var v,x,w,y,b,n,o,a,_,j,q,T,C,S,k=this.getTouchEventName("touchstart")+".touchScroll",I=this.getTouchEventName("touchend")+".touchScroll",D=this.getTouchEventName("touchmove")+".touchScroll";x=t,w=0,xoffset=0,initialOffset=0,initialXOffset=0,v=d.jqxScrollBar("max");var P=function(){var e,t,i;t=(e=Date.now())-a,a=e,i=w-o,xdelta=xoffset-xframe,o=w,xframe=xoffset,b=!0,xv=1e3*xdelta/(1+t),n=.8*(1e3*i/(1+t))+.2*n,xjqxAnimations=.8*xv+.2*xjqxAnimations},A=!(S=325),M=function(e){if(!c.enableScrolling[l])return!0;if(-1===G.inArray(e.target.tagName.toLowerCase(),r)){w=h.jqxScrollBar("value"),xoffset=d.jqxScrollBar("value");var t,i=c.getTouches(e),s=i[0];return 1==i.length&&c.dispatchMouseEvent("mousedown",s,c.getRootNode(s.target)),v=d.jqxScrollBar("max"),x=h.jqxScrollBar("max"),b=!(A=!1),y=R(t=e),C=F(t),n=j=xjqxAnimations=0,o=w,xframe=xoffset,a=Date.now(),clearInterval(_),_=setInterval(P,100),initialOffset=w,initialXOffset=xoffset,0<w&&w<x&&h[0].style.visibility,g=!1,p=s.pageY,f=s.pageX,c.simulatetouches&&null!=s._pageY&&(p=s._pageY,f=s._pageX),c.scrolling[l]=!0,!(m=u=0)}};s.on?s.on(k,M):s.bind(k,M);var B=function(e,t){return w=x<e?x:e<0?0:e,i(null,e,0,0,t),x<e?"max":e<0?"min":"value"},H=function(e,t){return xoffset=v<e?v:e<0?0:e,i(e,null,0,0,t),v<e?"max":e<0?"min":"value"},z=function(e){if(!c.enableScrolling[l])return!0;if(!c.scrolling[l])return!0;A&&(e.preventDefault(),e.stopPropagation());var t=c.getTouches(e);if(1<t.length)return!0;var i=t[0].pageY,s=t[0].pageX;c.simulatetouches&&null!=t[0]._pageY&&(i=t[0]._pageY,s=t[0]._pageX);var r=i-p,n=s-f;i,touchHorizontalEnd=s,r-u,n-m,g=!0,u=r,m=n;var o=null==d||"hidden"!=d[0].style.visibility,a=null==h||"hidden"!=h[0].style.visibility;(o||a)&&(o||a)&&function(e){var t,i,s;if(b){t=R(e),s=F(e),i=y-t,xdelta=C-s;var r="value";if(2<i||i<-2)return y=t,r=B(w+i,e),P(),"min"==r&&0===initialOffset||"max"==r&&initialOffset===x||!a||(e.preventDefault(),e.stopPropagation(),A=!0);if(2<xdelta||xdelta<-2)return C=s,r=H(xoffset+xdelta,e),P(),"min"==r&&0===initialXOffset||"max"==r&&initialXOffset===v||!o||(A=!0,e.preventDefault(),e.stopPropagation());e.preventDefault()}}(e)};s.on?s.on(D,z):s.bind(D,z);var E=function(e){if(!c.enableScrolling[l])return!0;var t=c.getTouches(e)[0];if(!c.scrolling[l])return!0;if(b=!1,clearInterval(_),10<n||n<-10?(j=.8*n,q=Math.round(w+j),a=Date.now(),requestAnimationFrame(W)):(10<xjqxAnimations||xjqxAnimations<-10)&&(j=.8*xjqxAnimations,T=Math.round(xoffset+j),a=Date.now(),requestAnimationFrame(V)),c.scrolling[l]=!1,!g){t=c.getTouches(e)[0];var i=c.getRootNode(t.target);return c.dispatchMouseEvent("mouseup",t,i),c.dispatchMouseEvent("click",t,i),!0}c.dispatchMouseEvent("mouseup",t,e.target)};if(this.simulatetouches){null!=G(window).on||G(window).bind;var O=function(e){try{E(e)}catch(e){}c.scrolling[l]=!1};if(null!=G(window).on?G(document).on("mouseup.touchScroll",O):G(document).bind("mouseup.touchScroll",O),window.frameElement&&null!=window.top){var N=function(e){try{E(e)}catch(e){}c.scrolling[l]=!1};window.top.document&&(G(window.top.document).on?G(window.top.document).on("mouseup",N):G(window.top.document).bind("mouseup",N))}null!=G(document).on||G(document).bind;var L=function(e){if(!c.scrolling[l])return!0;c.scrolling[l]=!1;var t=c.getTouches(e)[0],i=c.getRootNode(t.target);c.dispatchMouseEvent("mouseup",t,i),c.dispatchMouseEvent("click",t,i)};null!=G(document).on?G(document).on("touchend",L):G(document).bind("touchend",L)}s.on&&(s.on("dragstart",function(e){e.preventDefault()}),s.on("selectstart",function(e){e.preventDefault()})),s.on?s.on(I+" touchcancel.touchScroll",E):s.bind(I+" touchcancel.touchScroll",E)}function R(e){return e.targetTouches&&1<=e.targetTouches.length?e.targetTouches[0].clientY:e.originalEvent&&void 0!==e.originalEvent.clientY?e.originalEvent.clientY:c.getTouches(e)[0].clientY}function F(e){return e.targetTouches&&1<=e.targetTouches.length?e.targetTouches[0].clientX:e.originalEvent&&void 0!==e.originalEvent.clientX?e.originalEvent.clientX:c.getTouches(e)[0].clientX}function W(){var e,t;j&&(e=Date.now()-a,.5<(t=-j*Math.exp(-e/S))||t<-.5?(B(q+t),requestAnimationFrame(W)):B(q))}function V(){var e,t;j&&(e=Date.now()-a,.5<(t=-j*Math.exp(-e/S))||t<-.5?(H(T+t),requestAnimationFrame(V)):H(T))}}}),G.jqx.cookie=G.jqx.cookie||{},G.extend(G.jqx.cookie,{cookie:function(e,t,i){if(1<arguments.length&&"[object Object]"!==String(t)){if(i=G.extend({},i),null==t&&(i.expires=-1),"number"==typeof i.expires){var s=i.expires,r=i.expires=new Date;r.setDate(r.getDate()+s)}return t=String(t),document.cookie=[encodeURIComponent(e),"=",i.raw?t:encodeURIComponent(t),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}var n,o=(i=t||{}).raw?function(e){return e}:decodeURIComponent;return(n=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?o(n[1]):null}}),G.jqx.string=G.jqx.string||{},G.extend(G.jqx.string,{replace:function(e,t,i){if(t===i)return this;for(var s=e,r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s},contains:function(e,t){return null!=e&&null!=t&&-1!=e.indexOf(t)},containsIgnoreCase:function(e,t){return null!=e&&null!=t&&-1!=e.toString().toUpperCase().indexOf(t.toString().toUpperCase())},equals:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e),t.length==e.length&&e.slice(0,t.length)==t)},equalsIgnoreCase:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e),t.length==e.length&&e.toUpperCase().slice(0,t.length)==t.toUpperCase())},startsWith:function(e,t){return null!=e&&null!=t&&e.slice(0,t.length)==t},startsWithIgnoreCase:function(e,t){return null!=e&&null!=t&&e.toUpperCase().slice(0,t.length)==t.toUpperCase()},normalize:function(e){return 65279==e.charCodeAt(e.length-1)&&(e=e.substring(0,e.length-1)),e},endsWith:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e)).slice(-t.length)==t},endsWithIgnoreCase:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e)).toUpperCase().slice(-t.length)==t.toUpperCase()}}),G.extend(G.easing,{easeOutBack:function(e,t,i,s,r,n){return null==n&&(n=1.70158),s*((t=t/r-1)*t*((n+1)*t+n)+1)+i},easeInQuad:function(e,t,i,s,r){return s*(t/=r)*t+i},easeInOutCirc:function(e,t,i,s,r){return(t/=r/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+i:s/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInOutSine:function(e,t,i,s,r){return-s/2*(Math.cos(Math.PI*t/r)-1)+i},easeInCubic:function(e,t,i,s,r){return s*(t/=r)*t*t+i},easeOutCubic:function(e,t,i,s,r){return s*((t=t/r-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,s,r){return(t/=r/2)<1?s/2*t*t*t+i:s/2*((t-=2)*t*t+2)+i},easeInSine:function(e,t,i,s,r){return-s*Math.cos(t/r*(Math.PI/2))+s+i},easeOutSine:function(e,t,i,s,r){return s*Math.sin(t/r*(Math.PI/2))+i},easeInOutSine:function(e,t,i,s,r){return-s/2*(Math.cos(Math.PI*t/r)-1)+i}})}(jqxBaseFramework),function(c){c.event&&c.event.special&&c.extend(c.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}}),c.fn.extend&&c.fn.extend({ischildof:function(e){if(!c(this).parents)return e.element.contains(this.element);for(var t=c(this).parents().get(),i=0;i<t.length;i++)if("string"!=typeof e){var s=t[i];if(void 0!==e&&s==e[0])return!0}else if(void 0!==e&&c(t[i]).is(e))return!0;return!1}}),c.fn.jqxProxy=function(){var e=c(this).data().jqxWidget,t=Array.prototype.slice.call(arguments,0),i=e.element;return i||(i=e.base.element),c.jqx.jqxWidgetProxy(e.widgetName,i,t)};var i=this.originalVal=c.fn.val;c.fn.val=function(e){if(void 0===e){if(c(this).hasClass("jqx-widget"))if((t=c(this).data().jqxWidget)&&t.val)return t.val();if(this[0]&&0<=this[0].tagName.toLowerCase().indexOf("angular"))if((t=c(this).find(".jqx-widget").data().jqxWidget)&&t.val)return t.val();return i.call(this)}var t;return c(this).hasClass("jqx-widget")&&(t=c(this).data().jqxWidget)&&t.val?2!=arguments.length?t.val(e):t.val(e,arguments[1]):this[0]&&0<=this[0].tagName.toLowerCase().indexOf("angular")&&(t=c(this).find(".jqx-widget").data().jqxWidget)&&t.val?2!=arguments.length?t.val(e):t.val(e,arguments[1]):i.call(this,e)},c.fn.modal&&c.fn.modal.Constructor&&(c.fn.modal.Constructor.prototype.enforceFocus=function(){c(document).off("focusin.bs.modal").on("focusin.bs.modal",c.proxy(function(e){if(this.$element[0]!==e.target&&!this.$element.has(e.target).length){if(c(e.target).parents().hasClass("jqx-popup"))return!0;this.$element.trigger("focus")}},this))}),c.fn.coord=function(e){var t,i,s={top:0,left:0},r=this[0],n=r&&r.ownerDocument;if(n){if(t=n.documentElement,!c.contains(t,r))return s;void 0!==typeof r.getBoundingClientRect&&(s=r.getBoundingClientRect());var o;o=n,i=c.isWindow(o)?o:9===o.nodeType&&(o.defaultView||o.parentWindow);var a=0,l=0,d=navigator.userAgent.toLowerCase();if((-1!=d.indexOf("ipad")||-1!=d.indexOf("iphone"))&&(a=2),1==e&&"static"!=document.body.style.position&&""!=document.body.style.position){var h=c(document.body).coord();a=-h.left,l=-h.top}return{top:l+s.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:a+s.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}}}}(jqxBaseFramework),window.addResizeHandler=function(e,t){var i=document.createElement("div");i.className="jqx-resize-trigger-container",i.innerHTML='<div class="jqx-resize-trigger-container"><div class="jqx-resize-trigger"></div></div><div class="jqx-resize-trigger-container"><div class="jqx-resize-trigger-shrink"></div></div>';var s=e.widget.data().jqxWidget;(s.autoheight||null===s.height||"auto"===s.height)&&(i.style.height="0.1px",i.style.top="-1px"),e.appendChild(i);var r,n,o,a,l=(e.resizeTrigger=i).childNodes[0],d=l.childNodes[0],h=i.childNodes[1],c=function(){d.style.width="100000px",d.style.height="100000px",l.scrollLeft=1e5,l.scrollTop=1e5,h.scrollLeft=1e5,h.scrollTop=1e5},u=e.offsetWidth,p=e.offsetHeight;c(),e.resizeHandler=function(){o=e.offsetWidth,a=e.offsetHeight,(r=o!==u||a!==p)&&!n&&(n=requestAnimationFrame(function(){n=0,r&&(u=o,p=a,t())})),c()},l.addEventListener("scroll",e.resizeHandler),h.addEventListener("scroll",e.resizeHandler)},window.removeResizeHandler=function(e){var t=e.resizeTrigger,i=t.childNodes[0],s=t.childNodes[1];i.removeEventListener("scroll",e.resizeHandler),s.removeEventListener("scroll",e.resizeHandler),t.parentNode.removeChild(t),e.resizeHandler=null,e.resizeTrigger=null},function(C){C.jqx.elements||(C.jqx.elements=new Array),window.JQXElements={settings:{}},C.jqx.elements.push({name:"jqxCalendar",template:"<div></div>",attributeSync:!0,properties:{disabled:{attributeSync:!1},width:{type:"length"},height:{type:"length"},min:{type:"date"},max:{type:"date"},value:{type:"date"}}}),C.jqx.elements.push({name:"jqxButton",template:"<div></div>"}),C.jqx.elements.push({name:"jqxButtonGroup",template:"<div></div>"}),C.jqx.elements.push({name:"jqxBulletChart",template:"<div></div>"}),C.jqx.elements.push({name:"jqxRadioButton",template:"<div></div>"}),C.jqx.elements.push({name:"jqxCheckBox",template:"<div></div>"}),C.jqx.elements.push({name:"jqxRepeatButton",template:"<button></button>"}),C.jqx.elements.push({name:"jqxSwitchButton",template:"<div></div>"}),C.jqx.elements.push({name:"jqxLinkButton",template:"<a></a>"}),C.jqx.elements.push({name:"jqxToggleButton",template:"<button></button>"}),C.jqx.elements.push({name:"jqxBarGauge",template:"<div></div>"}),C.jqx.elements.push({name:"jqxChart",template:"<div></div>",properties:{source:{attributeSync:!1}}}),C.jqx.elements.push({name:"jqxColorPicker",template:"<div></div>"}),C.jqx.elements.push({name:"jqxComboBox",template:"<div></div>",properties:{source:{attributeSync:!1}}}),C.jqx.elements.push({name:"jqxComplexInput",template:"<div><input/><div></div></div>"}),C.jqx.elements.push({name:"jqxDraw",template:"<div></div>"}),C.jqx.elements.push({name:"jqxDataTable",template:"<div></div>",properties:{source:{attributeSync:!1}}}),C.jqx.elements.push({name:"jqxDateTimeInput",template:"<div></div>"}),C.jqx.elements.push({name:"jqxDocking",template:"<div></div>"}),C.jqx.elements.push({name:"jqxDockPanel",template:"<div></div>"}),C.jqx.elements.push({name:"jqxDragDrop",template:"<div></div>"}),C.jqx.elements.push({name:"jqxDropDownList",template:"<div></div>",properties:{source:{attributeSync:!1}}}),C.jqx.elements.push({name:"jqxDropDownButton",template:"<div></div>"}),C.jqx.elements.push({name:"jqxEditor",template:"<div></div>"}),C.jqx.elements.push({name:"jqxExpander",template:"<div></div>"}),C.jqx.elements.push({name:"jqxFileUpload",template:"<div></div>"}),C.jqx.elements.push({name:"jqxFormattedInput",template:"<div><input/><div></div></div>"}),C.jqx.elements.push({name:"jqxGauge",template:"<div></div>",propertyMap:{style:"backgroundStyle"}}),C.jqx.elements.push({name:"jqxLinearGauge",template:"<div></div>",propertyMap:{style:"backgroundStyle"}}),C.jqx.elements.push({name:"jqxGrid",template:"<div></div>",properties:{source:{attributeSync:!1}}}),C.jqx.elements.push({name:"jqxPivotGrid",template:"<div></div>",properties:{source:{attributeSync:!1}}}),C.jqx.elements.push({name:"jqxPivotDesigner",template:"<div></div>",properties:{source:{attributeSync:!1}}}),C.jqx.elements.push({name:"jqxInput",template:"<input/>",properties:{source:{attributeSync:!1}}}),C.jqx.elements.push({name:"jqxKanban",template:"<div></div>",properties:{source:{attributeSync:!1}}}),C.jqx.elements.push({name:"jqxKnob",template:"<div></div>"}),C.jqx.elements.push({name:"jqxLayout",template:"<div></div>"}),C.jqx.elements.push({name:"jqxDockingLayout",template:"<div></div>"}),C.jqx.elements.push({name:"jqxListBox",template:"<div></div>",properties:{source:{attributeSync:!1}}}),C.jqx.elements.push({name:"jqxListMenu",template:"<div></div>",properties:{source:{attributeSync:!1}}}),C.jqx.elements.push({name:"jqxLoader",template:"<div></div>"}),C.jqx.elements.push({name:"jqxMaskedInput",template:"<input/>"}),C.jqx.elements.push({name:"jqxMenu",template:"<div></div>",properties:{source:{attributeSync:!1}}}),C.jqx.elements.push({name:"jqxNavBar",template:"<div></div>"}),C.jqx.elements.push({name:"jqxNavigationBar",template:"<div></div>"}),C.jqx.elements.push({name:"jqxNotification",template:"<div></div>",properties:{appendContainer:{type:"string"}}}),C.jqx.elements.push({name:"jqxNumberInput",template:"<div></div>"}),C.jqx.elements.push({name:"jqxPanel",template:"<div></div>"}),C.jqx.elements.push({name:"jqxPasswordInput",template:"<input type='password'/>"}),C.jqx.elements.push({name:"jqxPopover",template:"<div></div>",properties:{title:{type:"string"},arrowOffsetValue:{type:"number"},offset:{type:"json"},selector:{type:"string"},initContent:{type:"object"}}}),C.jqx.elements.push({name:"jqxProgressBar",template:"<div></div>"}),C.jqx.elements.push({name:"jqxRangeSelector",template:"<div></div>"}),C.jqx.elements.push({name:"jqxRating",tagName:"jqx-rating",template:"<div></div>"}),C.jqx.elements.push({name:"jqxResponsivePanel",template:"<div></div>"}),C.jqx.elements.push({name:"jqxRibbon",template:"<div></div>"}),C.jqx.elements.push({name:"jqxScheduler",template:"<div></div>",properties:{source:{attributeSync:!1}}}),C.jqx.elements.push({name:"jqxSlider",template:"<div></div>"}),C.jqx.elements.push({name:"jqxScrollBar",template:"<div></div>"}),C.jqx.elements.push({name:"jqxScrollView",template:"<div></div>"}),C.jqx.elements.push({name:"jqxSortable",template:"<div></div>",propertyMap:{appendTo:"addTo"}}),C.jqx.elements.push({name:"jqxSplitter",template:"<div></div>",properties:{panels:{type:"array"}}}),C.jqx.elements.push({name:"jqxTabs",template:"<div></div>"}),C.jqx.elements.push({name:"jqxTagCloud",template:"<div></div>"}),C.jqx.elements.push({name:"jqxTextArea",template:"<div></div>"}),C.jqx.elements.push({name:"jqxToolBar",template:"<div></div>"}),C.jqx.elements.push({name:"jqxTooltip",tagName:"jqx-tool-tip",template:"<div></div>"}),C.jqx.elements.push({name:"jqxTree",template:"<div></div>",properties:{source:{attributeSync:!1}}}),C.jqx.elements.push({name:"jqxTreeGrid",template:"<div></div>",properties:{source:{attributeSync:!1}}}),C.jqx.elements.push({name:"jqxTreeMap",template:"<div></div>",properties:{source:{attributeSync:!1}}}),C.jqx.elements.push({name:"jqxValidator",template:"<div></div>"}),C.jqx.elements.push({name:"jqxWindow",template:"<div></div>"}),document.registerElement&&(Object.is||(Object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}),C(document).ready(function(){C.each(C.jqx.elements,function(){var j=this.name,q=this;q.tagName||(q.tagName=q.name.split(/(?=[A-Z])/).join("-").toLowerCase());var l=Object.create(HTMLElement.prototype);l.name=j,l.instances=new Array;var s,d={},T=(s={},{addAttributeConfig:function(e,t,i){void 0===s[e]&&(s[e]={}),s[e][t]=i},getAttributeConfig:function(e,t){return void 0===s[e]||void 0===s[e][t]?void 0:s[e][t]},getAttributeList:function(e){return s[e]}});if(!C.jqx["_"+j])return!0;var e=C.jqx["_"+j].prototype.defineInstance();if("jqxDockingLayout"==j&&(e=C.extend(e,C.jqx._jqxLayout.prototype.defineInstance())),"jqxToggleButton"!=j&&"jqxRepeatButton"!=j&&"jqxLinkButton"!=j||(e=C.extend(e,C.jqx._jqxButton.prototype.defineInstance())),"jqxTreeGrid"==j&&(e=C.extend(e,C.jqx._jqxDataTable.prototype.defineInstance())),l.initElement=function(){var i=this;e?C.each(e,function(e,t){i["_"+e]=t}):console.log(j+" is undefined")},e){C.each(e,function(r,e){if(q.properties||(q.properties=[]),0<=r.indexOf("_"))return!0;var t=q.properties[r],i=r.split(/(?=[A-Z])/).join("-").toLowerCase(),s=typeof e,n=t&&t.attributeSync||q.attributeSync;t||void 0!==q.attributeSync||(n=!0);var o="_"+r;"width"!==r&&"height"!==r||(s="length"),t&&t.type&&(s=t.type);var a={defaultValue:e,type:s,propertyName:r,attributeSync:n};T.addAttributeConfig(q.tagName,i,Object.freeze(a)),d[r]=i;q.propertyMap&&q.propertyMap[r]&&(r=q.propertyMap[r]),Object.defineProperty(l,r,{configurable:!1,enumerable:!0,get:function(){return this[o]},set:function(e){(function(e){if(this[o]=e,this.widget){q.propertyMap&&q.propertyMap[r]&&(r=q.propertyMap[r]);var t={};t[r]=e,this.widget[j](t);var i=d[r],s=T.getAttributeConfig(q.tagName,i);s.attributeSync&&(this.isUpdatingAttribute=!0,this.setAttributeTyped(i,s,e),this.isUpdatingAttribute=!1),this.propertyUpdated(r,e)}else this.initialSettings[r]=e}).call(this,e)}})}),l.getAttributeTyped=function(e,t){return this.attributeStringToTypedValue(e,t,this.getAttribute(e))},l.setAttributeTyped=function(e,t,i){var s;this.getAttributeTyped(e,t),void 0===(s=this.typedValueToAttributeString(i))?this.removeAttribute(e):this.setAttribute(e,s)},l.typedValueToAttributeString=function(e){var t=typeof e;return"boolean"===t?e?"":void 0:"number"===t?Object.is(e,-0)?"-0":e.toString():"string"===t||"length"===t?e:"object"===t?JSON.stringify(e,function(e,t){if("number"==typeof t){if(!1===isFinite(t))return t.toString();if(Object.is(t,-0))return"-0"}return t}):void 0},l.attributeStringToTypedValue=function(e,t,i){return"boolean"===t.type?""===i||i===e||"true"===i:"number"===t.type?null==i?void 0:parseFloat(i):"string"===t.type?null==i?void 0:i:"length"===t.type?null===i?null:null!==i&&0<=i.indexOf("px")?parseFloat(i):null!==i&&0<=i.indexOf("%")?i:isNaN(parseFloat(i))?i:parseFloat(i):"json"===t.type||"array"===t.type?JSON.parse(i.replace(/'/g,'"')):"object"===t.type?window.JQXElements.settings[i]||window[i]:void 0},l.createdCallback=function(){this.isReady=!1,this.initialSettings={},this.initElement()},l.setup=function(){if(!(f=this).isReady){f.isReady=!0;var p,m,e,f=this,g=null,v=null,x=[],w=!0,t=T.getAttributeList(q.tagName),y=f.settings||{},i=f.initialSettings,b=q.template;for(var s in t)if(t.hasOwnProperty(s)&&f.hasAttribute(s)){var r,n=t[s],o=f.getAttributeTyped(s,n);r=void 0===o?n.defaultValue:o,y[n.propertyName]=r}for(var s in e=f.attributes){var a=e[s];if(a&&a.name)if(0<=a.name.indexOf("on-")){var l="";0<=(d=a.value).indexOf("(")&&(l=d.substring(0,d.indexOf("("))),x.push({name:a.name.substring(3),handler:l})}else if("on"===a.name.substring(0,2)){l="";0<=(d=a.value).indexOf("(")&&(l=d.substring(0,d.indexOf("("))),x.push({name:a.name.substring(2),handler:l})}else if(0<=a.name.indexOf("(")){var d;l="";0<=(d=a.value).indexOf("(")&&(l=d.substring(0,d.indexOf("(")));var h=a.name.replace("(","").replace(")","");x.push({name:h,handler:l})}}var c=function(e){var t=document.createDocumentFragment(),i=document.createElement("div");t.appendChild(i);e=e.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>");(/<([\w:]+)/.exec(e)||["",""])[1].toLowerCase();var s=[0,"",""],r=s[0];for(i.innerHTML=s[1]+e+s[2];r--;)i=i.lastChild;return e=i.childNodes,i.parentNode.removeChild(i),c=e[0]}(b);p=c;var u=function(e){var i=!1;if("jqxDragDrop"!==j&&"jqxPopover"!==j&&"jqxResponsivePanel"!==j&&"jqxLoader"!==j&&"jqxWindow"!==j&&"jqxSortable"!==j&&"jqxDraw"!==j&&"jqxValidator"!==j||(i=!0,f.style.overflow="visible"),i)p=f;else{for(;f.childNodes.length;)p.appendChild(f.firstChild);f.appendChild(p)}"jqxScrollBar"!==j&&"jqxNotification"!==j||(f.style.overflow="visible",f.style.borderLeftWidth="0px",f.style.borderRightWidth="0px",f.style.borderTopWidth="0px",f.style.borderBottomWidth="0px"),C.extend(y,e);var t=j.toLowerCase();0<=b.indexOf("button")||1==b.indexOf("input")||0<=b.indexOf("textarea")||0<=t.indexOf("button")||0<=t.indexOf("checkbox")||0<=t.indexOf("radio")?f.style.display="inline-block":f.style.display="block";var s=function(e,t){w&&!i&&("string"==typeof t&&0<=t.indexOf("%")?f.style[e]=t:"string"==typeof t&&0<=t.indexOf("px")?f.style[e]=2+parseFloat(t)+"px":"auto"===t?f.style[e]=t:t?f.style[e]=2+t+"px":f.style[e]&&(f.style[e]=null))};y.width&&s("width",y.width),y.height&&s("height",y.height),(m=new jqxBaseFramework(f)).data(f,"jqxWidget",{element:f}),g=m.width(),v=m.height();"jqxPivotDesigner"===j||"jqxPivotGrid"===j||"jqxChart"===j||"jqxMenu"===j||"jqxToolBar"===j?p.style.width=p.style.height="100%":i||(g&&!y.width&&"auto"!==f.style.width&&("jqxButton"!==j&&"jqxCheckBox"!==j&&"jqxToggleButton"!==j&&"jqxRadioButton"!==j&&"jqxRepeatButton"!==j&&"jqxLinkButton"!==j||(g+=30),y.width=g-2),v&&!y.height&&"auto"!==f.style.height&&v!==f.firstChild.offsetHeight&&(y.height=v-2));var r={},n={},o=Object.getOwnPropertyNames(C.jqx["_"+j].prototype);for(var a in"jqxDockingLayout"==j&&(n=C.extend(n,Object.keys(C.jqx._jqxLayout.prototype)),r=C.extend(r,C.jqx._jqxLayout.prototype)),"jqxToggleButton"!=j&&"jqxRepeatButton"!=j&&"jqxLinkButton"!=j||(n=C.extend(n,Object.keys(C.jqx._jqxButton.prototype)),r=C.extend(r,C.jqx._jqxButton.prototype)),"jqxTreeGrid"==j&&(n=C.extend(n,Object.keys(C.jqx._jqxDataTable.prototype)),r=C.extend(r,C.jqx._jqxDataTable.prototype)),r=C.extend(r,C.jqx["_"+j].prototype),n=C.extend(n,Object.getOwnPropertyNames(r))){var l=n[a];if(!(0<=l.indexOf("_"))&&("base"!==l&&"baseType"!==l&&"resize"!==l&&"scrollWidth"!==l&&"scrollHeight"!==l&&"constructor"!==l&&"createInstance"!==l&&"defineInstance"!==l&&"function"==typeof r[l])){f[l]=function(i,s){var r=Array.prototype.slice.call(arguments,2),n=f;return function(){if(!n._isUpdating){if(n.widget){if(-1===o.indexOf(s))var e=i.apply(n.widget.data().jqxWidget.base,r.concat(Array.prototype.slice.call(arguments)));else e=i.apply(n.widget.data().jqxWidget,r.concat(Array.prototype.slice.call(arguments)));return n._isUpdating=!1,e}n._isUpdating=!0;var t=arguments;n.timer=setInterval(function(){n.widget&&(clearInterval(n.timer),i.apply(n.widget.data().jqxWidget,r.concat(Array.prototype.slice.call(t))),n._isUpdating=!1)},50)}}}(r[l],l)}}var d=f.widget=C(p)[j](y);if("jqxMaskedInput"!==j&&"jqxPasswordInput"!==j&&"jqxButton"!==j&&"jqxToggleButton"!==j&&"jqxRepeatButton"!==j||(f.firstChild.style.boxSizing="border-box"),f.propertyUpdated=function(e,t){"width"!==e&&"height"!==e||s(e,t)},!i){var h=d.data().jqxWidget;h.base?h.base.host.addClass("jqx-element-container"):h.host.addClass("jqx-element-container"),m.addClass("jqx-widget jqx-element"),m.addClass("jqx-element-no-border"),"jqxRangeSelector"!==j&&"jqxButtonGroup"!=j||m.css("overflow","visible")}for(var c=0;c<x.length;c++){var u=x[c];d.on(u.name,function(e){e.args||(e.args={}),window.JQXElements.settings[u.handler]&&e.args?window.JQXElements.settings[u.handler].apply(f,[e]):window[u.handler]&&e.args&&window[u.handler].apply(f,[e])})}i||addResizeHandler(f,function(){i||(w=!1,g=m.width(),v=m.height(),"jqxChart"===j||"jqxPivotGrid"===j||"jqxPivotDesigner"===j||"jqxDraw"===j?(d.element.style.width="100%",d.element.style.height="100%"):(parseInt(d.css("padding-left")),parseInt(d.css("padding-right")),parseInt(d.css("padding-top")),parseInt(d.css("padding-bottom")),d[j]({width:g-0}),d[j]({height:v-0})),w=!0)})};if(f.hasAttribute("settings")){var _=f.getAttribute("settings");i=window.JQXElements.settings[_]||window[_],C.each(i,function(e,t){f["_"+e]=t})}f.hasAttribute("delayed-create")?(f.isCreated=!1,f.createElement=function(){f.isCreated||(u(i),f.isCreated=!0)}):u(i)}};var i=l.addEventListener,r=l.addEventListener;return l.addEventListener=function(e,t){this.widget&&this.widget.on?"jqxDragDrop"===j||"jqxPopover"===j||"jqxResponsivePanel"===j||"jqxLoader"===j||"jqxWindow"===j||"jqxSortable"===j||"jqxDraw"===j||"jqxValidator"===j?JQXLite(this.parentNode).on(e,t):this.widget.on(e,t):i.apply(this,[e,t])},l.removeEventListener=function(e,t){this.widget&&this.widget.off?"jqxDragDrop"===j||"jqxPopover"===j||"jqxResponsivePanel"===j||"jqxLoader"===j||"jqxWindow"===j||"jqxSortable"===j||"jqxDraw"===j||"jqxValidator"===j?JQXLite(this.parentNode).off(e,t):this.widget.off(e,t):r.apply(this,[e,t])},l.attachedCallback=function(){this.setup()},l.attributeChangedCallback=function(e,t,i){var s=T.getAttributeConfig(q.tagName,e);if(!this.isUpdatingAttribute&&s){var r,n=this.getAttributeTyped(e,s);r=void 0===n?currAttrConfig.defaultValue:n,this[currAttrConfig.propertyName]=r}},document.registerElement(q.tagName,{prototype:l})}console.log(j+" is undefined")})}))}(jqxBaseFramework),function(N){N.jqx.observableArray=function(e,t){if("string"==typeof e&&(e=N.parseJSON(e)),!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var s=Object.defineProperty;Object.defineProperty=function(e,t,i){if(s)try{return s(e,t,i)}catch(e){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in i&&Object.prototype.__defineGetter__.call(e,t,i.get),Object.prototype.__defineSetter__&&"set"in i&&Object.prototype.__defineSetter__.call(e,t,i.set),"value"in i?e[t]=i.value:e[t]||(e[t]=i),e}}Array.prototype.forEach||(Array.prototype.forEach=function(e){if(null==this)throw TypeError();var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError();var s,r=arguments[1];for(s=0;s<i;s++)s in t&&e.call(r,t[s],s,t)}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i});var d,h=this,c=[];h.notifier=null,h.name="observableArray",h.observing=!0,h.changes=new Array;t=t;return h.observe=function(){h.observing=!0,1==arguments.length&&(t=arguments[0])},h.unobserve=function(){h.observing=!1},h.toArray=function(){return c.slice(0)},h.toJSON=function(r,e){var t=c;e&&(t=e);var i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function n(e){return'"'+e.replace(i,function(e){var t=s[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'}function o(e){return e<10?"0"+e:e}function a(e){switch(Object.prototype.toString.call(e)){case"[object Date]":return t=e,isFinite(t.valueOf())?t.getUTCFullYear()+"-"+o(t.getUTCMonth()+1)+"-"+o(t.getUTCDate())+"T"+o(t.getUTCHours())+":"+o(t.getUTCMinutes())+":"+o(t.getUTCSeconds())+'Z"':"null";case"[object Array]":return function(e){var t,i=e.length,s=[];for(t=0;t<i;t++)s.push(l(t,e)||"null");return"["+s.join(",")+"]"}(e)}var t;return function(e){var t,i,s=[];for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(""!=t&&r&&-1===r.indexOf(t))continue;(i=l(t,e))&&s.push(n(t)+":"+i)}return"{"+s.join(",")+"}"}(e)}function l(e,t){var i=t[e],s=typeof i;return i&&"object"==typeof i&&"function"==typeof i.toJSON&&(s=typeof(i=i.toJSON(e))),/(number|float|int|integer|string|boolean)/.test(s)||!i&&"object"===s?function(e,t){switch(t){case"string":return n(e);case"number":case"float":case"integer":case"int":return isFinite(e)?e:"null";case"boolean":return e}return"null"}(i,s):a(i)}return!r&&window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(t):l("",{"":t})},h.defineIndexProperty=function(i){if(!(i in h)){var n=function(e,o,t,s){var a=e[o],l=a,i=function(){return l},r=function(e){if(l!==(a=e)){var t=l;if(l=a,"function"==typeof d){var i=c.indexOf(s),r="",n=function(i,s){Object.getOwnPropertyNames(i).forEach(function(e){var t=N.type(i[e]);"array"==t||"object"==t?n(i[e],s+"."+e):o===e&&(r=s+"."+e)})};n(s,i),d({object:h,type:"update",path:r,index:i,name:o,newValue:a,oldValue:t})}}return l=a};null!=e[o]&&"length"!=o&&(Object.defineProperty?Object.defineProperty(e,o,{get:i,set:r}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(e,o,i),Object.prototype.__defineSetter__.call(e,o,r)))},o=function(i,s,r){var e=N.type(i);/(number|float|int|integer|string|boolean)/.test(e)||void 0!==i&&Object.getOwnPropertyNames(i).forEach(function(e){var t=N.type(i[e]);"array"==t||"object"==t?(n(i,e,0,r),o(i[e],s+"."+e,r)):n(i,e,0,r)})};Object.defineProperty(h,i,{configurable:!0,enumerable:!0,get:function(){return c[i]},set:function(e){var t=c[i];h.toJSON(null,t)!=h.toJSON(null,e)&&(c[i]=e,"function"==typeof d&&d({object:h,type:"update",path:i.toString(),index:i,name:"index",newValue:e,oldValue:t}),o(e,i,e))}}),o(h[i],i,h[i])}},h.push=function(){for(var e,t=0,i=arguments.length;t<i;t++)e=c.length,c.push(arguments[t]),h.defineIndexProperty(e),"function"==typeof d&&d({object:h,type:"add",name:"length",index:e,newValue:c.length,oldValue:e});return c.length},h.pop=function(){if(~c.length){var e=c.length-1,t=c.pop();return delete h[e],"function"==typeof d&&d({object:h,type:"delete",name:"length",index:e,newValue:c.length,oldValue:e}),t}},h.unshift=function(){for(var e=c.length,t=0,i=arguments.length;t<i;t++)c.splice(t,0,arguments[t]),h.defineIndexProperty(c.length-1);return"function"==typeof d&&d({object:h,type:"add",index:0,name:"length",newValue:c.length,oldValue:e}),c.length},h.shift=function(){var e=c.length;if(~c.length){var t=c.shift();return 0===c.length&&delete h[e],"function"==typeof d&&d({object:h,type:"delete",index:e,name:"length",newValue:c.length,oldValue:e}),t}},h.slice=function(e,t,i){var s=c.slice(e,t);return new N.jqx.observableArray(s,i)},h.splice=function(e,t,i){var s,r=[];for(e=~e?e:c.length-e,t=(null==t?c.length-e:t)||0;t--;)s=c.splice(e,1)[0],r.push(s),delete h[c.length],"function"==typeof d&&d({object:h,type:"delete",index:e,name:"length",newValue:-1,oldValue:e});for(var n=2,o=arguments.length;n<o;n++)c.splice(e,0,arguments[n]),defineIndexProperty(c.length-1),"function"==typeof d&&d({object:h,type:"add",index:e,name:"length",newValue:c.length-1,oldValue:e}),e++;return new N.jqx.observableArray(r,i)},Object.defineProperty(h,"length",{configurable:!1,enumerable:!0,get:function(){return c.length},set:function(e){var t=Number(e);if(!(t%1==0&&0<=t))throw new RangeError("Invalid array length");return t<c.length?h.splice(t):t>c.length&&h.push.apply(h,new Array(t-c.length)),e}}),N.jqx.observableArray.prototype.fromArray=function(e,t){return new N.jqx.observableArray(e,t)},N.jqx.observableArray.prototype.clone=function(){var e=new N.jqx.observableArray(c,t);return e.observing=h.observing,e.changes=h.changes,e.notifier=h.notifier,e},h.remove=function(e){if(e<0||e>=h.length)throw new Error("Invalid index : "+e);if(h.hasOwnProperty(e)){var t=h[e];return h[e]=void 0,c[e]=void 0,"function"==typeof d&&d({object:h,type:"delete",index:e,name:"index",newValue:void 0,oldValue:t}),!0}return!1},h.concat=function(e,t){var i=c.concat(e);return new N.jqx.observableArray(i,t)},Object.getOwnPropertyNames(Array.prototype).forEach(function(i){if(!(i in h)){Object.defineProperty(h,i,{configurable:!1,enumerable:!0,writeable:!1,value:function(){var e=h.observing;h.observing=!1;var t=c[i].apply(c,arguments);return h.observing=e,t}})}}),h.set=function(e,t){if("string"==N.type(e)&&1<e.split(".").length){for(var i=e.split("."),s=h,r=0;r<i.length;r++){if(0===r&&i[r]>=h.length)throw new Error("Invalid Index: "+e);r<i.length-1?s=s[i[r]]:s[i[r]]=t}return!0}return e>=h.length?h.push(t):h[e]=t,!0},h.get=function(e){return h[e]},e instanceof Array&&h.push.apply(h,e),d=function(){h.observing&&(arguments&&arguments[0]&&h.changes.push(arguments[0]),t&&t.apply(h,arguments),h.notifier&&h.notifier.apply(h,arguments))},h},N.jqx.formatDate=function(e,t,i){return N.jqx.dataFormat.formatdate(e,t,i)},N.jqx.formatNumber=function(e,t,i){return N.jqx.dataFormat.formatnumber(e,t,i)},N.jqx.dataAdapter=function(i,e){if(null!=i&&(void 0!==i.dataFields&&(i.datafields=i.dataFields),void 0!==i.dataType&&(i.datatype=i.dataType),void 0!==i.localData&&(i.localdata=i.localData),void 0!==i.sortColumn&&(i.sortcolumn=i.sortColumn),void 0!==i.sortDirection&&(i.sortdirection=i.sortDirection),void 0!==i.sortOrder&&(i.sortdirection=i.sortOrder),void 0!==i.formatData&&(i.formatdata=i.formatData),void 0!==i.processData&&(i.processdata=i.processData),void 0!==i.pageSize&&(i.pagesize=i.pageSize),void 0!==i.pageNum&&(i.pagenum=i.pageNum),void 0!==i.updateRow&&(i.updaterow=i.updateRow),void 0!==i.addRow&&(i.addrow=i.addRow),void 0!==i.deleteRow&&(i.deleterow=i.deleteRow),void 0!==i.contentType&&(i.contenttype=i.contentType),null!=i.totalRecords&&(i.totalrecords=i.totalRecords),null!=i.loadError&&(i.loadError=i.loadError),null!=i.sortComparer&&(i.sortcomparer=i.sortComparer)),this._source=i,this._options=e||{},null!=i.beforeLoadComplete&&(this._options.beforeLoadComplete=this._source.beforeLoadComplete),null!=i.downloadComplete&&(this._options.downloadComplete=this._source.downloadComplete),null!=i.loadComplete&&(this._options.loadComplete=this._source.loadComplete),null!=i.autoBind&&(this._options.downloadComplete=this._source.autoBind),null!=i.formatData&&(this._options.formatData=this._source.formatData),null!=i.loadError&&(this._options.loadError=this._source.loadError),null!=i.beforeSend&&(this._options.beforeSend=this._source.beforeSend),null!=i.contentType&&(this._options.contentType=this._source.contentType),null!=i.async&&(this._options.async=this._source.async),null!=i.loadServerData&&(this._options.loadServerData=this._source.loadServerData),null!=i.uniqueDataFields&&(this._options.uniqueDataFields=this._source.uniqueDataFields),this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,null!=i&&null!=i.localdata&&"function"==typeof i.localdata){var t=i.localdata();if(null!=t){i._localdata=i.localdata;var s=this;i._localdata.subscribe&&(s._oldlocaldata=[],i._localdata.subscribe(function(e){var t=function(e){return N.isArray(e)?N.makeArray(t(N(e))):N.extend(!0,{},e)};0!=s.suspendKO&&null!=s.suspendKO&&0!=s._oldlocaldata.length||(s._oldlocaldata=t(e))},i._localdata,"beforeChange"),i._localdata.subscribe(function(e){if(0==s.suspendKO||null==s.suspendKO){var t="";s._oldrecords=s.records,0==s._oldlocaldata.length&&(i.localdata=i._localdata()),0==s._oldlocaldata.length?t="change":e&&(s._oldlocaldata.length==e.length&&(t="update"),s._oldlocaldata.length>e.length&&(t="remove"),s._oldlocaldata.length<e.length&&(t="add")),s.dataBind(null,t)}},i._localdata,"change"),s._knockoutdatasource=!0),i.localdata=t}}1==this._options.autoBind&&this.dataBind()},N.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(e){this.isUpdating=!1,0!=e&&(this._changedrecords&&0<this._changedrecords.length?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(e,t,i){return N.jqx.dataFormat.formatdate(e,t,i)},formatNumber:function(e,t,i){return N.jqx.dataFormat.formatnumber(e,t,i)},dataBind:function(e,r){if(1!=this.isUpdating){var x=this._source;if(x){x.generatedfields&&(x.datafields=null,x.generatedfields=null),N.jqx.dataFormat.datescache=new Array,null!=x.dataFields&&(x.datafields=x.dataFields),null==x.recordstartindex&&(x.recordstartindex=0),null==x.recordendindex&&(x.recordendindex=0),null==x.loadallrecords&&(x.loadallrecords=!0),null==x.root&&(x.root=""),null==x.record&&(x.record=""),null!=x.sort&&(this.sort=x.sort),null!=x.filter?this.filter=x.filter:this.filter=null,null!=x.sortcolumn&&(this.sortcolumn=x.sortcolumn),null!=x.sortdirection&&(this.sortdirection=x.sortdirection),null!=x.sortcomparer&&(this.sortcomparer=x.sortcomparer),this.records=new Array;var a=this._options||{};if(this.virtualmode=null!=a.virtualmode&&a.virtualmode,this.totalrecords=null!=a.totalrecords?a.totalrecords:0,this.pageable=null!=a.pageable&&a.pageable,this.pagesize=null!=a.pagesize?a.pagesize:0,this.pagenum=null!=a.pagenum?a.pagenum:0,this.cachedrecords=null!=a.cachedrecords?a.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=null!=a.updaterow?a.updaterow:null,this.addrow=null!=a.addrow?a.addrow:null,this.deleterow=null!=a.deleterow?a.deleterow:null,this.cache=null!=a.cache&&a.cache,this.unboundmode=!1,null!=x.formatdata&&(a.formatData=x.formatdata),null!=x.data&&(null==a.data&&(a.data={}),N.extend(a.data,x.data)),null!=x.mapChar&&(x.mapchar=x.maxChar),null!=x.mapchar?this.mapChar=x.mapchar?x.mapchar:">":this.mapChar=a.mapChar?a.mapChar:">",(a.unboundmode||x.unboundmode)&&(this.unboundmode=a.unboundmode||x.unboundmode),null!=x.cache&&(this.cache=x.cache),this.koSubscriptions)for(var t=0;t<this.koSubscriptions.length;t++)this.koSubscriptions[t].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var w=this,l=x.datatype;"csv"!==x.datatype&&"tab"!==x.datatype&&"tsv"!==x.datatype&&"text"!=x.datatype||(l="text");var i=null==a.async||a.async;switch(null!=x.async&&(i=x.async),l){case"local":case"array":case"observablearray":case"observableArray":default:if(null==x.localdata&&x.length){x.localdata=new Array;for(var s=0;s<x.length;s++)x.localdata[x.localdata.length]=x[s],x[s].uid=s}x.beforeprocessing&&N.isFunction(x.beforeprocessing)&&x.beforeprocessing(x.localdata);var n=x.localdata.length;if(this.totalrecords=this.virtualmode&&x.totalrecords||n,this.unboundmode)if(this.totalrecords=this.unboundmode&&x.totalrecords||n,0<(y=x.datafields?x.datafields.length:0))for(s=0;s<this.totalrecords;s++){for(var o={},d=0;d<y;d++)o[x.datafields[d].name]="";o.uid=s,x.localdata[x.localdata.length]=o}null==this.totalrecords&&(this.totalrecords=0);var y=x.datafields?x.datafields.length:0,h=function(e,t){for(var i={},s=0;s<t;s++){var r=x.datafields?x.datafields[s]:{},n="";if(null!=r&&null!=r){if(r.map){if(N.isFunction(r.map))n=r.map(e);else{var o=r.map.split(w.mapChar);if(0<o.length){for(var a=e,l=0;l<o.length;l++)a&&(a=a[o[l]]);n=a}else n=e[r.map]}null!=n&&null!=n?n=n.toString():null==n&&null!=n&&(n="")}var d=!1;""==n&&(d=!0,null!=(n=e[r.name])&&null!=n&&(x._localdata&&n.subscribe?n=n():"array"!=r.type&&("date"===r.type?n&&n instanceof Date&&(n=n):n=n.toString()))),"[object Object]"==n&&r.map&&d&&(n=""),n=w.getvaluebytype(n,r),null!=r.displayname?i[r.displayname]=n:i[r.name]=n}}return i};if(x._localdata){this._changedrecords=[],this.records=new Array;var c=x._localdata();if(N.each(c,function(m,e){if("string"==typeof e)w.records.push(e);else{var f={},g=0,v=this;N.each(this,function(s,e){var t=null,i="string",r=s;if(0<y){for(var n=!1,o=!1,a=0;a<y;a++){var l=x.datafields[a];if(null!=l&&l.name==s){n=!0,t=l.map,i=l.type,r=l.name;break}if(null!=l&&l.map&&0<=l.map.indexOf(s)){n=!0,t=l.map,i=l.type,r=l.name,o=!0;var d=v[s];if(null!=t)if(0<(p=t.split(w.mapChar)).length){for(var h=v,c=0;c<p.length;c++)h=h[p[c]];d=h}else d=v[t];"string"!=i&&(d=w.getvaluebytype(d,{type:i})),f[r]=d,null!=f[r]&&(g+=f[r].toString().length+f[r].toString().substr(0,1))}}if(!n)return!0;if(o)return!0}if(N.isFunction(v[s])){d=v[s]();if("string"!=i&&(d=w.getvaluebytype(d,{type:i})),f[s]=d,v[s].subscribe){var u=m;w.koSubscriptions[w.koSubscriptions.length]=v[s].subscribe(function(e){var t=u;f[s]=e;var i={index:t,oldrecord:f,record:f};if(w._changedrecords.push(i),!w.isUpdating)return w.callBindingUpdate("update"),!(w._changedrecords=[])})}}else{var p;d=v[s];if(null!=t)if(0<(p=t.split(w.mapChar)).length){for(h=v,c=0;c<p.length;c++)h=h[p[c]];d=h}else d=v[t];"string"!=i&&(d=w.getvaluebytype(d,{type:i})),f[r]=d,null!=f[r]&&(g+=f[r].toString().length+f[r].toString().substr(0,1))}});var t=w.getid(x.id,v,m);if(f.uid=t,w.records.push(f),f._koindex=g,w._oldrecords){var i=w.records.length-1;if("update"==r&&w._oldrecords[i]._koindex!=g){var s={index:i,oldrecord:w._oldrecords[i],record:f};w._changedrecords.push(s)}}}}),"add"==r)for(n=w.records.length,s=0;s<n;s++){o=w.records[s];for(var u=!1,p=0;p<w._oldrecords.length;p++)if(w._oldrecords[p]._koindex===o._koindex){u=!0;break}u||w._changedrecords.push({index:s,oldrecord:null,record:o,position:0!=s?"last":"first"})}else if("remove"==r)for(n=w._oldrecords.length,s=0;s<n;s++){var m=w._oldrecords[s];w.records[s]?w.records[s]._koindex!=m._koindex&&w._changedrecords.push({index:s,oldrecord:m,record:null}):w._changedrecords.push({index:s,oldrecord:m,record:null})}}else if(N.isArray(x.localdata))if(0==y){f=0,g=new Array;N.each(x.localdata,function(e,t){var i=new Object(this);if("string"==typeof t)return w.records=x.localdata,!1;var s=w.getid(x.id,i,e);if("object"==typeof s&&(s=e),i.uid=s,0==e){for(var r in this){f++;var n=N.type(this[r]);g.push({name:r,type:n})}y=f,x.datafields=g,x.generatedfields=g}if(0<y){var o=h(i,y);o.uid=s,w.records[w.records.length]=o}else w.records[w.records.length]=i})}else N.each(x.localdata,function(e){var t,i=h(t=this,y),s=w.getid(x.id,i,e);"object"==typeof s&&(s=e),(t=new Object(i)).uid=s,w.records[w.records.length]=t});else{this.records=new Array;var f=0,g=new Array;N.each(x.localdata,function(e){var t=w.getid(x.id,this,e);if(0==y&&!("string"==typeof this||this instanceof String)){for(var i in this){f++;var s=N.type(this[i]);g.push({name:i,type:s})}y=f,x.datafields=g,x.generatedfields=g}if(0<y){var r=h(this,y);r.uid=t,w.records[w.records.length]=r}else this.uid=t,w.records[w.records.length]=this})}if(this.originaldata=x.localdata,this.cachedrecords=this.records,this.addForeignValues(x),a.uniqueDataFields){var v=this.getUniqueRecords(this.records,a.uniqueDataFields);this.records=v,this.cachedrecords=v}if(a.beforeLoadComplete)null!=(_=a.beforeLoadComplete(w.records,this.originaldata))&&(w.records=_,w.cachedrecords=_);if(a.autoSort&&a.autoSortField){var b=Object.prototype.toString;Object.prototype.toString="function"==typeof field?field:function(){return this[a.autoSortField]},w.records.sort(function(e,t){if(void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t)return 0;if(null===e&&null!==t)return 1;if(null!==e&&null===t)return-1;if(e=e.toString(),t=t.toString(),null===e&&null===t)return 0;if(null===e&&null!==t)return 1;if(null!==e&&null===t)return-1;if(N.jqx.dataFormat.isNumber(e)&&N.jqx.dataFormat.isNumber(t))return e<t?-1:t<e?1:0;if(N.jqx.dataFormat.isDate(e)&&N.jqx.dataFormat.isDate(t))return e<t?-1:t<e?1:0;N.jqx.dataFormat.isNumber(e)||N.jqx.dataFormat.isNumber(t)||(e=String(e).toLowerCase(),t=String(t).toLowerCase());try{if(e<t)return-1;if(t<e)return 1}catch(e){}return 0}),Object.prototype.toString=b}w.loadedData=x.localdata,w.buildHierarchy(),N.isFunction(a.loadComplete)&&a.loadComplete(x.localdata,w.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"ics":if(null!=x.localdata&&!x.url){if(N.isFunction(x.beforeprocessing)&&x.beforeprocessing(x.localdata),"xml"===x.datatype?w.loadxml(x.localdata,x.localdata,x):"text"===l?w.loadtext(x.localdata,x):"ics"===l?w.loadics(x.localdata,x):w.loadjson(x.localdata,x.localdata,x),w.addForeignValues(x),a.uniqueDataFields){v=w.getUniqueRecords(w.records,a.uniqueDataFields);w.records=v,w.cachedrecords=v}var _;if(a.beforeLoadComplete)null!=(_=a.beforeLoadComplete(w.records,this.originaldata))&&(w.records=_,w.cachedrecords=_);return w.loadedData=x.localdata,w.buildHierarchy.call(w),N.isFunction(a.loadComplete)&&a.loadComplete(x.localdata,w.records),void w.callBindingUpdate(r)}var j=null!=a.data?a.data:{};if(x.processdata&&x.processdata(j),N.isFunction(a.processData)&&a.processData(j),N.isFunction(a.formatData)){var q=a.formatData(j);null!=q&&(j=q)}var T="application/x-www-form-urlencoded";a.contentType&&(T=a.contentType);var C="GET";x.type&&(C=x.type),a.type&&(C=a.type);var S=l;if("ics"==l&&(S="text"),x.url&&0<x.url.length)N.isFunction(a.loadServerData)?w._requestData(j,x,a):this.xhr=N.jqx.data.ajax({dataType:S,cache:this.cache,type:C,url:x.url,async:i,timeout:x.timeout,contentType:T,data:j,success:function(e,t,i){var s;N.isFunction(x.beforeprocessing)&&(null!=(s=x.beforeprocessing(e,t,i))&&(e=s));N.isFunction(a.downloadComplete)&&(null!=(s=a.downloadComplete(e,t,i))&&(e=s));if(null==e)return w.records=new Array,w.cachedrecords=new Array,w.originaldata=new Array,w.callDownloadComplete(),void(N.isFunction(a.loadComplete)&&a.loadComplete(new Array));var r=e;if(e.records&&(r=e.records),null!=e.totalrecords?x.totalrecords=e.totalrecords:null!=e.totalRecords&&(x.totalrecords=e.totalRecords),"xml"===x.datatype?w.loadxml(null,r,x):"text"===l?w.loadtext(r,x):"ics"===l?w.loadics(r,x):w.loadjson(null,r,x),w.addForeignValues(x),a.uniqueDataFields){var n=w.getUniqueRecords(w.records,a.uniqueDataFields);w.records=n,w.cachedrecords=n}if(a.beforeLoadComplete){var o=a.beforeLoadComplete(w.records,e);null!=o&&(w.records=o,w.cachedrecords=o)}w.loadedData=e,w.buildHierarchy.call(w),w.callDownloadComplete(),N.isFunction(a.loadComplete)&&a.loadComplete(e,t,i,w.records)},error:function(e,t,i){N.isFunction(x.loaderror)&&x.loaderror(e,t,i),N.isFunction(a.loadError)&&a.loadError(e,t,i),e=null,w.callDownloadComplete()},beforeSend:function(e,t){N.isFunction(a.beforeSend)&&a.beforeSend(e,t),N.isFunction(x.beforesend)&&x.beforesend(e,t)}});else if(w.buildHierarchy(new Array),w.callDownloadComplete(),N.isFunction(a.loadComplete)){if(!k)var k={};a.loadComplete(k)}}this.callBindingUpdate(r)}}},buildHierarchy:function(e){var n=this._source,t=new Array;if(n.datafields){if(n.hierarchy&&!n.hierarchy.reservedNames)n.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};else if(n.hierarchy)(a=n.hierarchy.reservedNames).leaf||(a.leaf="leaf"),a.parent||(a.parent="parent"),a.expanded||(a.expanded="expanded"),a.checked||(a.checked="checked"),a.selected||(a.selected="selected"),a.level||(a.level="level"),a.data||(a.data="data");if(n.hierarchy){var o=this,a=n.hierarchy.reservedNames;if(n.hierarchy.root){if("xml"==n.dataType){t=this.getRecordsHierarchy("uid","parentuid","records",null,e);return this.hierarchy=t}this.hierarchy=this.records;for(var l=n.hierarchy.root,i=0;i<this.records.length;i++){var s=this.records[i];if(s){var d=function(e){if(n.hierarchy.record)e.records=e[l][n.hierarchy.record];else{var t=l.split(o.mapChar),i=null;if(1<t.length){for(var s=e,r=0;r<t.length;r++)null!=s&&(s=s[t[r]]);i=s}else i=e[l];e.records=i}(null==e.records||e.records&&0==e.records.length)&&(e[a.leaf]=!0)};d(s),s[a.level]=0;var r=this.getid(n.id,s,i);s.uid=r,s[a.parent]=null,void 0===(s[a.data]=s)[a.expanded]&&(s[a.expanded]=!1);var h=function(e,t){if(t)for(var i=0;i<t.length;i++){var s=t[i];if(s){d(s),s[a.level]=e[a.level]+1,s[a.parent]=e,s[a.data]=s;var r=o.getid(n.id,s,i);r==i&&null==n.id?s.uid=e.uid+"_"+r:s.uid=r,void 0===s[a.expanded]&&(s[a.expanded]=!1),h(s,s.records)}}else e.records=new Array};h(s,s.records)}}return this.hierarchy}if(n.hierarchy.keyDataField&&n.hierarchy.parentDataField){t=this.getRecordsHierarchy(n.hierarchy.keyDataField.name,n.hierarchy.parentDataField.name,"records",null,e);return this.hierarchy=t}if(n.hierarchy.groupingDataFields){var c=new Array;for(i=0;i<n.hierarchy.groupingDataFields.length;i++)c.push(n.hierarchy.groupingDataFields[i].name);t=this.getGroupedRecords(c,"records","label",null,"data",null,"parent",e);return this.hierarchy=t}}}},addRecord:function(r,n,o,e){var a=this;if(null!=r){if(null==o){if(this.hierarchy&&0<=this.hierarchy.length&&(this._source.hierarchy||e)){var t=a._source&&a._source.hierarchy?a._source.hierarchy.reservedNames:null;null==t&&(t={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}),r[t.level]=0,"last"==n?this.hierarchy.push(r):"number"==typeof n&&isFinite(n)?this.hierarchy.splice(n,0,r):this.hierarchy.splice(0,0,r)}else"last"==n?this.records.push(r):"number"==typeof n&&isFinite(n)?this.records.splice(n,0,r):this.records.splice(0,0,r);return!0}if(0<this.hierarchy.length){var l=function(e){if(e)for(var t=0;t<e.length;t++){var i=e[t];if(i.uid==o){var s=a._source&&a._source.hierarchy?a._source.hierarchy.reservedNames:null;return null==s&&(s={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}),r[s.parent]=i,r[s.level]=i[s.level]+1,i.records||(i.records=new Array),i[s.leaf]=!1,"last"==n?i.records.push(r):"number"==typeof n&&isFinite(n)?i.records.splice(n,0,r):i.records.splice(0,0,r),!0}i.records&&l(i.records)}};l(this.hierarchy)}}return!1},deleteRecord:function(n){var o=this;if(0<this.hierarchy.length){var a=function(e){if(e)for(var t=0;t<e.length;t++){if((s=e[t]).uid==n){e.splice(t,1),o.recordids[n]&&delete o.recordids[n];var r=function(e){for(var t=0;t<e.length;t++){for(var i=e[t].uid,s=0;s<o.records.length;s++){if(o.records[s].uid==i){o.records.splice(s,1);break}}e[t].records&&r(e[t].records)}};s.records&&r(s.records);for(var i=0;i<o.records.length;i++){var s;if((s=o.records[i]).uid==n){o.records.splice(i,1);break}}return!0}s.records&&a(s.records)}};a(this.hierarchy)}else for(var e=0;e<this.records.length;e++){if(this.records[e].uid==n)return this.records.splice(e,1),!0}return!1},addForeignValues:function(e){for(var t=this,i=e.datafields?e.datafields.length:0,s=0;s<i;s++){var r=e.datafields[s];if(null!=r)if(null!=r.values){null==r.value&&(r.value=r.name),null==r.values.value&&(r.values.value=r.value);var n,o,a=new Array;t.pageable&&t.virtualmode?(o=(n=t.pagenum*t.pagesize)+t.pagesize)>t.totalrecords&&(o=t.totalrecords):t.virtualmode?(n=e.recordstartindex,(o=e.recordendindex)>t.totalrecords&&(o=t.totalrecords)):(n=0,o=t.records.length);for(var l=n;l<o;l++){var d=t.records[l],h=r.name,c=d[r.value];if(null!=a[c])d[h]=a[c];else for(var u=0;u<r.values.source.length;u++){var p=r.values.source[u],m=p[r.values.value];if(null==m&&(m=p.uid),m==c){var f=p[r.values.name];d[h]=f,a[c]=f;break}}}}else if(null!=r.value)for(l=0;l<t.records.length;l++){(d=t.records[l])[r.name]=d[r.value]}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),me.callDownloadComplete())},_requestData:function(e,n,o){var a=this;o.loadServerData(e,n,function(e){if(e.totalrecords&&(n.totalrecords=e.totalrecords,a.totalrecords=e.totalrecords),e.records&&(a.records=e.records,a.cachedrecords=e.records),a.addForeignValues(n),o.uniqueDataFields){var t=a.getUniqueRecords(a.records,o.uniqueDataFields);a.records=t,a.cachedrecords=t}if(o.beforeLoadComplete){var i=o.beforeLoadComplete(a.records,data);null!=i&&(a.records=i,a.cachedrecords=i)}for(var s=0;s<a.records.length;s++){var r=a.records[s];null!=r&&null==r.uid&&(r.uid=a.getid(n.id,r,s))}a.buildHierarchy.call(a),N.isFunction(o.loadComplete)&&o.loadComplete(e),a.callDownloadComplete()})},getUniqueRecords:function(e,t){if(e&&t)for(var i=e.length,s=t.length,r=new Array,n=new Array,o=0;o<i;o++){var a=e[o],l="";if(null!=a){for(var d=0;d<s;d++){l+=a[t[d]]+"_"}n[l]||(r[r.length]=a),n[l]=!0}}return r},getAggregatedData:function(e,s,t,i){var l=t;l||(l=this.records);var d={},r=new Array,h=l.length;if(0!=h&&null!=h){for(var n=0;n<h;n++)for(var o=l[n],a=0;a<e.length;a++){var c=e[a],u=o[c.name];if(c.aggregates){d[c.name]=d[c.name]||{},r[c.name]=r[c.name]||0,r[c.name]++;var p=function(e){for(obj in e){var t=d[c.name][obj];null==t&&(t=d[c.name][obj]=0),N.isFunction(e[obj])&&(t=e[obj](t,u,c.name,o,i)),d[c.name][obj]=t}},m=parseFloat(u);(m=!isNaN(m))&&(u=parseFloat(u)),"number"==typeof u&&isFinite(u)?N.each(c.aggregates,function(){var e=d[c.name][this];if(null==e&&(e=0,"min"==this&&(e=9999999999999),"max"==this&&(e=-9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)e+=parseFloat(u);else if("product"==this)0==n?e=parseFloat(u):e*=parseFloat(u);else if("min"==this)e=Math.min(e,parseFloat(u));else if("max"==this)e=Math.max(e,parseFloat(u));else if("count"==this)e++;else if("object"==typeof this)return void p(this);d[c.name][this]=e}):N.each(c.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){if(null===u)return!0;var e=d[c.name][this];return null==e&&(e=0),d[c.name][this]=e,!0}"object"==typeof this&&p(this)})}}for(a=0;a<e.length;a++){c=e[a];if(d[c.name]||(d[c.name]={},N.each(c.aggregates,function(e){d[c.name][this]=0})),null!=d[c.name].avg){u=d[c.name].avg;var f=r[c.name];d[c.name].avg=0===f||null==f?0:u/f}else null!=d[c.name].count&&(d[c.name].count=h);(d[c.name].stdev||d[c.name].stdevp||d[c.name].var||d[c.name].varp)&&N.each(c.aggregates,function(e){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var t=d[c.name][this],i=h,s=t/h,r=0,n=0;n<h;n++){var o=l[n][c.name];r+=(o-s)*(o-s)}var a="stdevp"==this||"varp"==this?i:i-1;0==a&&(a=1),"var"==this||"varp"==this?d[c.name][this]=r/a:"stdevp"!=this&&"stdev"!=this||(d[c.name][this]=Math.sqrt(r/a))}}),c.formatStrings&&N.each(c.aggregates,function(e){var t=c.formatStrings[e];if(t)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var i=d[c.name][this];d[c.name][this]=N.jqx.dataFormat.formatnumber(i,t,s)}else if("object"==typeof this)for(obj in this){i=d[c.name][obj];d[c.name][obj]=N.jqx.dataFormat.formatnumber(i,t,s)}})}return d}},bindDownloadComplete:function(e,t){this._downloadComplete[this._downloadComplete.length]={id:e,func:t}},unbindDownloadComplete:function(e){for(var t=0;t<this._downloadComplete.length;t++)if(this._downloadComplete[t].id==e){this._downloadComplete[t].func=null,this._downloadComplete.splice(t,1);break}},callDownloadComplete:function(){for(var e=0;e<this._downloadComplete.length;e++){var t=this._downloadComplete[e];null!=t.func&&t.func()}},setSource:function(e){this._source=e},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getGroupedRecords:function(e,t,i,s,r,n,o,a,l){l||(l=0);for(var d=new Array,h=0;h<e.length;h++)d[h]=this.generatekey();t||(t="items"),i||(i="group"),r||(r="record"),o||(o="parentItem"),void 0===n&&(n="value");var c=new Array,u=0,p=new Array,m=e.length;new Array;if(!a)a=this.records;for(var f=a.length,g=function(e){var t=e;return s&&N.each(s,function(){this.name&&this.map&&(t[this.map]=t[this.name])}),t},v=0;v<f;v++){var x=g(a[v]);id=x[this.uniqueId];var w=new Array,y=0;for(h=0;h<m;h++){var b=x[e[h]];null!=b&&(w[y++]={value:b,hash:d[h]})}if(w.length!=m)break;for(var _=null,j="",q=0;q<w.length;q++){0;var T=w[q].value;if(null==p[j=j+"_"+w[q].hash+"_"+T]||null==p[j]){if(null==_){(_={level:0})[o]=null,_[i]=T,void 0!==(_[r]=x).expanded?_.expanded=x.expanded:_.expanded=!1,n&&(_[n]=x[n]),_[t]=new Array;var C=c.length+l;this._source.id&&"number"!=typeof x.uid&&!isFinite(x.uid)||(C="Row"+C),_.uid=C,c[u++]=_}else{var S={level:_.level+1};S[o]=_,S[i]=T,S[t]=new Array,void 0!==(S[r]=x).expanded?S.expanded=x.expanded:S.expanded=!1,n&&(S[n]=x[n]),S.uid=_.uid+"_"+_[t].length,_[t][_[t].length]=S,_=S}p[j]=_}else _=p[j]}x&&(x.leaf=!0),null!=_?(null==this._source.id&&(null==x.uid?x.uid=_.uid+"_"+_[t].length:-1==x.uid.toString().indexOf(_.uid)&&(x.uid=_.uid+"_"+x.uid)),x[o]=_,x.level=_.level+1,_[t][_[t].length]=x):null==x.uid&&(x.uid=this.generatekey())}return c},getRecordsHierarchy:function(e,t,i,s,r){var n=new Array,o=this.records;if(r&&(o=r),0==this.records.length)return null;for(var a=null!=i?i:"items",l=[],d=o,h=d.length,c=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,u=function(e){var t=e;return s&&N.each(s,function(){this.name&&this.map&&(t[this.map]=t[this.name])}),t},p=0;p<h;p++){var m=(g=N.extend({},d[p]))[t];l[f=g[e]]={parentid:m,item:g}}for(p=0;p<h;p++){m=(g=N.extend({},d[p]))[t];var f=g[e];if(null!=l[m]){var g={parentid:m,item:l[f].item},v=l[m].item;v[a]||(v[a]=[]);var x=v[a].length,w=g.item;c?null==w[c.parent]&&(w[c.parent]=v):null==w.parent&&(w.parent=v);var y=u(w);v[a][x]=y,l[m].item=v,l[f]=g}else{w=l[f].item;c?null==w[c.parent]&&(w[c.parent]=null):null==w.parent&&(w.parent=null);y=u(w);c?y[c.level]=0:y.level=0,n[n.length]=y}}if(0!=n.length){var b=function(e,t){for(var i=0;i<t.length;i++){c?t[i][c.level]=e:t[i].level=e;var s=t[i][a];s&&0<s.length?b(e+1,s):c?t[i][c.leaf]=!0:t[i].leaf=!0}};b(0,n)}return n},bindBindingUpdate:function(e,t){this._bindingUpdate[this._bindingUpdate.length]={id:e,func:t}},unbindBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++)if(this._bindingUpdate[t].id==e){this._bindingUpdate[t].func=null,this._bindingUpdate.splice(t,1);break}},callBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++){var i=this._bindingUpdate[t];null!=i.func&&i.func(e)}},getid:function(e,t,i){if(null==e||null==e.name||!e.name){if(0<N(e,t).length)return N(e,t).text();if(e&&0<e.toString().length){if(null!=(o=N(t).attr(e))&&0<o.toString().length)return N.trim(o).split(" ").join("").replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/@])/g,"");var s=e.split(this.mapChar);if(1<s.length){for(var r=t,n=0;n<s.length;n++)null!=r&&(r=r[s[n]]);if(null!=r)return r}else if(null!=t[e])return t[e]}return i}if(null!=(o=N(t).attr(e.name))&&0<o.toString().length)return o;if(e.map)try{var o;if(null!=(o=N(t).attr(e.map))&&0<o.toString().length)return o;if(0<N(e.map,t).length)return N(e.map,t).text();if(0<N(e.name,t).length)return N(e.name,t).text()}catch(e){return i}},loadjson:function(t,e,h){"string"==typeof t&&(t=N.parseJSON(t)),null==h.root&&(h.root=""),null==h.record&&(h.record=""),(t=t||e)||(t=[]);var c=this;if(""!=h.root)if(1<(_=h.root.split(c.mapChar)).length){for(var i=t,s=0;s<_.length;s++)null!=i&&(i=i[_[s]]);t=i}else{if(void 0!==t[h.root]?t=t[h.root]:t[0]&&void 0!==t[0][h.root]?t=t[0][h.root]:N.each(t,function(e){if(this==h.root)return t=this,!1;null!=this[h.root]&&(t=this[h.root])}),!t)if(0<(_=h.root.split(c.mapChar)).length){for(i=t,s=0;s<_.length;s++)null!=i&&(i=i[_[s]]);t=i}}else if(!t.length)for(obj in t)if(N.isArray(t[obj])){t=t[obj];break}if(null!=t&&null==t.length&&(t=N.makeArray(t)),null==t||null==t||"undefined"==t||null==t.length)throw new Error("jqxDataAdapter: JSON Parse error! Invalid JSON. Please, check your JSON or your jqxDataAdapter initialization!");if(0!=t.length){var r=t.length;this.totalrecords=this.virtualmode&&h.totalrecords||r,this.records=new Array,this.originaldata=new Array;var n=this.records,o=this.pageable?this.pagesize*this.pagenum:h.recordstartindex;this.recordids=new Array,h.loadallrecords&&(o=0,r=this.totalrecords);var a=0;this.virtualmode&&(a=o=this.pageable?this.pagesize*this.pagenum:h.recordstartindex,o=0,r=this.totalrecords);var u=h.datafields?h.datafields.length:0;if(0==u){var l=t[0],d=new Array;for(obj in l){var p=obj;d[d.length]={name:p}}h.datafields=d,h.generatedfields=h.datafields,u=d.length}for(var m=o,f=o;f<r;f++){var g=t[f];if(null==g)break;if(!h.record||""==h.record||null!=(g=g[h.record])){var v=this.getid(h.id,g,f);if("object"==typeof v&&(v=f),!this.recordids[v]){this.recordids[v]=g;for(var x={},w=0;w<u;w++){var y=h.datafields[w],b="";if(null!=y&&null!=y){if(y.map){var _;if(N.isFunction(y.map))b=y.map(g);else if(0<(_=y.map.split(c.mapChar)).length){var j=g;for(s=0;s<_.length;s++)null!=j&&(j=j[_[s]]);b=j}else b=g[y.map];null!=b&&null!=b?b=this.getvaluebytype(b,y):null==b&&null!=b&&(b="")}if(""==b&&!y.map&&(null==(b=g[y.name])&&null!=b&&(b=""),null!=y.value&&null!=b)){var q=b[y.value];null!=q&&(b=q)}if(b=this.getvaluebytype(b,y),null!=y.displayname?x[y.displayname]=b:x[y.name]=b,"array"===y.type){var T=function(e){if(e)for(var t=0;t<e.length;t++){var i=e[t];if(i)for(var s=0;s<u;s++){var r=h.datafields[s],n="";if(null!=r&&null!=r){if(r.map){if(N.isFunction(r.map))n=r.map(i);else{var o=r.map.split(c.mapChar);if(0<o.length){for(var a=i,l=0;l<o.length;l++)null!=a&&(a=a[o[l]]);n=a}else n=i[r.map]}null!=n&&null!=n?n=this.getvaluebytype(n,r):null==n&&null!=n&&(n="")}if(""==n&&!r.map&&(null==(n=i[r.name])&&null!=n&&(n=""),null!=r.value&&null!=n)){var d=n[r.value];null!=d&&(n=d)}n=this.getvaluebytype(n,r),null!=r.displayname?i[r.displayname]=n:i[r.name]=n,"array"===r.type&&T.call(this,n)}}}};T.call(this,b)}}}(h.recordendindex<=0||o<h.recordendindex)&&(n[a+m]=new Object(x),n[a+m].uid=v,this.originaldata[a+m]=new Object(n[f]),m++)}}}this.records=n,this.cachedrecords=this.records}else this.totalrecords=0},loadxml:function(e,t,i){"string"==typeof e&&(e=t=N(N.parseXML(e)),e=null),null==i.root&&(i.root=""),null==i.record&&(i.record=""),(e=N.jqx.browser.msie&&t&&null!=t.xml?N(i.root+" "+i.record,N.parseXML(t.xml)):e||N(i.root+" "+i.record,t))||(e=[]);var s=e.length;if(0!=e.length){this.totalrecords=this.virtualmode&&i.totalrecords||s,this.records=new Array,this.originaldata=new Array;var r=this.records,n=this.pageable?this.pagesize*this.pagenum:i.recordstartindex;this.recordids=new Array,i.loadallrecords&&(n=0,s=this.totalrecords);var o=0;this.virtualmode&&(o=n=this.pageable?this.pagesize*this.pagenum:i.recordstartindex,n=0,s=this.totalrecords);var a=i.datafields?i.datafields.length:0;if(0==a){var l=e[0],d=new Array;for(obj in l){var h=obj;d[d.length]={name:h}}i.datafields=d,i.generatedfields=i.datafields,a=d.length}for(var c=n,u=n;u<s;u++){if(null==(T=e[u]))break;var p=this.getid(i.id,T,u);if(!this.recordids[p]){this.recordids[p]=T;var m={},f=!1;i.hierarchy&&i.hierarchy.root&&(f=!0);for(var g=0;g<a;g++){var v=i.datafields[g],x="";if(null!=v&&null!=v){if(v.map)if(N.isFunction(v.map))x=v.map(T);else{var w=v.map.indexOf("[");if(w<0)if(1==(x=N(v.map,T)).length)x=x.text();else{!0;for(var y=new Array,b=0;b<x.length;b++)y.push(N(x[b]).text());x=y,f&&0<y.length&&(x=y[0])}else{var _=v.map.substring(0,w-1),j=v.map.indexOf("]"),q=v.map.substring(w+1,j);null==(x=N(_,T).attr(q))&&(x=N(T).attr(q)),null==x&&(x="")}""==x&&null==(x=N(T).attr(v.map))&&(x="")}if(""==x){if(1==(x=N(v.name,T)).length)x=x.text();else{for(y=new Array,b=0;b<x.length;b++)y.push(N(x[b]).text());x=y,f&&0<y.length&&(x=y[0])}""==x&&null==(x=N(T).attr(v.name))&&(x=""),""==x&&T.nodeName&&T.nodeName==v.name&&T.firstChild&&(x=N(T.firstChild).text())}x=this.getvaluebytype(x,v),null!=v.displayname?m[v.displayname]=x:m[v.name]=x}}(i.recordendindex<=0||n<i.recordendindex)&&(r[o+c]=N.extend({},m),r[o+c].uid=p,this.originaldata[o+c]=N.extend({},r[u]),c++)}}if(i.hierarchy&&i.hierarchy.root)for(u=n;u<s;u++){var T=e[u],C=r[u];if(0<N(T).parent().length){p=this.getid(i.id,N(T).parents(i.hierarchy.record+":first"));C.parentuid=p}else C.parentuid=null}this.records=r,this.cachedrecords=this.records}},loadics:function(e,t){if(null!=e){var i=t.rowDelimiter||this.rowDelimiter||"\n",s=e.split(i),r=s.length,n=e.split("\r");1==r&&1<n.length&&(r=(s=n).length),this.records=new Array,this.originaldata=new Array;var o=this.records;this.recordids=new Array;for(var a=function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/.exec(e);if(!t)throw new Error("Invalid UNTIL value: "+e);return new Date(Date.UTC(t[1],t[2]-1,t[3],t[5]||0,t[6]||0,t[7]||0))},l=0;l<r;l++){var d=s[l];if("BEGIN:VEVENT"!=d)if(0<=d.indexOf("SUMMARY"))c.SUMMARY=d.substring(d.indexOf("SUMMARY")+8);else if(0<=d.indexOf("LOCATION"))c.LOCATION=d.substring(d.indexOf("LOCATION")+9);else if(0<=d.indexOf("DESCRIPTION"))c.DESCRIPTION=d.substring(d.indexOf("DESCRIPTION")+12);else if(0<=d.indexOf("RRULE"))c.RRULE=d.substring(d.indexOf("RRULE")+6);else if(0<=d.indexOf("EXDATE")){var h=d.substring(d.indexOf("EXDATE")+7);c.EXDATE=h}else 0<=d.indexOf("DTEND")?c.DTEND=a(d.substring(d.indexOf("DTEND")+6)):0<=d.indexOf("DTSTART")?c.DTSTART=a(d.substring(d.indexOf("DTSTART")+8)):0<=d.indexOf("UID")?c.uid=c.UID=d.substring(d.indexOf("UID")+4):0<=d.indexOf("STATUS")?c.STATUS=d.substring(d.indexOf("STATUS")+7):"END:VEVENT"!=d||o.push(c);else var c={}}this.records=o,this.cachedrecords=this.records}},loadtext:function(e,t){if(null!=e){var i=t.rowDelimiter||this.rowDelimiter||"\n",s=e.split(i),r=s.length,n=e.split("\r");1==r&&1<n.length&&(r=(s=n).length),this.totalrecords=this.virtualmode&&t.totalrecords||r,this.records=new Array,this.originaldata=new Array;var o=this.records,a=this.pageable?this.pagesize*this.pagenum:t.recordstartindex;this.recordids=new Array,t.loadallrecords&&(a=0,r=this.totalrecords);var l=0;this.virtualmode&&(l=a=this.pageable?this.pagesize*this.pagenum:t.recordstartindex,a=0,r=this.totalrecords);var d=t.datafields.length,h=t.columnDelimiter||this.columnDelimiter;h||(h="tab"===t.datatype||"tsv"===t.datatype?"\t":",");for(var c=a;c<r;c++){var u=s[c],p=null;if(!this.recordids[p]){null==t.id&&(p=c,this.recordids[p]=u);for(var m={},f=s[c].split(h),g=0;g<d;g++)if(!(g>=f.length)){var v=t.datafields[g],x=f[g];v.map&&N.isFunction(v.map)&&(x=v.map(u)),v.type&&(x=this.getvaluebytype(x,v)),m[v.map||v.name||g.toString()]=x,null!=t.id&&t.id===v.name&&(p=x,this.recordids[p]=u)}null==p&&(p=c),o[l+c]=N.extend({},m),o[l+c].uid=p,this.originaldata[l+c]=N.extend({},o[c])}}this.records=o,this.cachedrecords=this.records}},getvaluebytype:function(e,t){var i=e;if(null==e)return e;if(N.isArray(e)&&"array"!=t.type){for(var s=0;s<e.length;s++)e[s]=this.getvaluebytype(e[s],t);return e}if("date"==t.type)if("NaN"==e)e="";else{if(e&&e instanceof Date)return e;var r=new Date(e);if("string"==typeof e&&t.format){var n=N.jqx.dataFormat.parsedate(e,t.format);null!=n&&(r=n)}null==(e=("NaN"==r.toString()||"Invalid Date"==r.toString())&&N.jqx.dataFormat?N.jqx.dataFormat.tryparsedate(e):r)&&(e=i)}else if("float"==t.type||"number"==t.type||"decimal"==t.type)if("NaN"==e)e="";else{e=parseFloat(e);isNaN(e)&&(e=i)}else if("int"==t.type||"integer"==t.type){e=parseInt(e);isNaN(e)&&(e=i)}else"bool"!=t.type&&"boolean"!=t.type||(null!=e&&null!=e.toLowerCase&&("false"==e.toLowerCase()?e=!1:"true"==e.toLowerCase()&&(e=!0)),e=1==e||(0!=e||""===e)&&"");return e}},N.jqx.dataFormat={},N.extend(N.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(e){return"boolean"==typeof e},isObject:function(e){return e&&("object"==typeof e||N.isFunction(e))||!1},isDate:function(e){return e instanceof Date},arrayIndexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,s=e.length;i<s;i++)if(e[i]===t)return i;return-1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNull:function(e){return null===e},isUndefined:function(e){return void 0===e},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(e){return!(!this.isString(e)&&this.isValue(e))&&(!this.isValue(e)||""===(e=N.trim(e).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"")))},startsWith:function(e,t){return 0===e.indexOf(t)},endsWith:function(e,t){return e.substr(e.length-t.length)===t},trim:function(e){return(e+"").replace(this.regexTrim,"")},isArray:function(e){return"[object Array]"===this.toString.call(e)},defaultcalendar:function(){return{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","}},expandFormat:function(e,t){t=t||"F";var i,s=e.patterns,r=t.length;if(1===r){if(!(i=s[t]))throw"Invalid date format string '"+t+"'.";t=i}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},getEra:function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var i,s=e.getTime(),r=0,n=t.length;r<n;r++)if(null===(i=t[r].start)||i<=s)return r;return 0},toUpper:function(e){return e.split("Â ").join(" ").toUpperCase()},toUpperArray:function(e){for(var t=[],i=0,s=e.length;i<s;i++)t[i]=this.toUpper(e[i]);return t},getEraYear:function(e,t,i,s){var r=e.getFullYear();return!s&&t.eras&&(r-=t.eras[i].offset),r},toUpper:function(e){return e?e.toUpperCase():""},getDayIndex:function(e,t,i){var s,r=e.days,n=e._upperDays;return n||(e._upperDays=n=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr),this.toUpperArray(r.namesShort)]),t=t.toUpperCase(),i?-1===(s=this.arrayIndexOf(n[1],t))&&(s=this.arrayIndexOf(n[2],t)):s=this.arrayIndexOf(n[0],t),s},getMonthIndex:function(e,t,i){var s=e.months,r=e.monthsGenitive||e.months,n=e._upperMonths,o=e._upperMonthsGen;n||(e._upperMonths=n=[this.toUpperArray(s.names),this.toUpperArray(s.namesAbbr)],e._upperMonthsGen=o=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr)]),t=this.toUpper(t);var a=this.arrayIndexOf(i?n[1]:n[0],t);return a<0&&(a=this.arrayIndexOf(i?o[1]:o[0],t)),a},appendPreOrPostMatch:function(e,t){for(var i=0,s=!1,r=0,n=e.length;r<n;r++){var o=e.charAt(r);switch(o){case"'":s?t.push("'"):i++,s=!1;break;case"\\":s&&t.push("\\"),s=!s;break;default:t.push(o),s=!1}}return i},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(e,t){var i="";return t&&t.target&&(i="target="+t.target),""!=i?"<a "+i+' href="'+e+'">'+e+"</a>":'<a href="'+e+'">'+e+"</a>"},formatemail:function(e){return'<a href="mailto:'+e+'">'+e+"</a>"},formatNumber:function(e,t,i){return this.formatnumber(e,t,i)},formatnumber:function(e,t,i){if(null!=i&&null!=i&&""!=i||(i=this.defaultcalendar()),""===t||null===t)return e;var s;this.isNumber(e)||(e*=1),1<t.length&&(s=parseInt(t.slice(1),10));var r={},n=t.charAt(0).toUpperCase();switch(r.thousandsSeparator=i.thousandsseparator,r.decimalSeparator=i.decimalseparator,n){case"D":case"d":case"F":case"f":r.decimalPlaces=s;break;case"N":case"n":r.decimalPlaces=0;break;case"C":case"c":r.decimalPlaces=s,"before"==i.currencysymbolposition?r.prefix=i.currencysymbol:r.suffix=i.currencysymbol;break;case"P":case"p":r.suffix=i.percentsymbol,r.decimalPlaces=s;break;default:throw"Bad number format specifier: "+n}if(this.isNumber(e)){var o,a=e<0,l=e+"",d=r.decimalSeparator?r.decimalSeparator:".";if(this.isNumber(r.decimalPlaces)){var h=r.decimalPlaces,c=Math.pow(10,h);if(o=(l=(e*c).toFixed(0)/c+"").lastIndexOf("."),0<h)for(o<0?o=(l+=d).length-1:"."!==d&&(l=l.replace(".",d));l.length-1-o<h;)l+="0"}else{0<(o=(l=e+"").lastIndexOf("."))&&null==h&&"."!==d&&(l=l.replace(".",d))}if(r.thousandsSeparator){var u=r.thousandsSeparator;o=-1<(o=l.lastIndexOf(d))?o:l.length;for(var p=l.substring(o),m=-1,f=o;0<f;f--)++m%3==0&&f!==o&&(!a||1<f)&&(p=u+p),p=l.charAt(f-1)+p;l=p}return l=r.prefix?r.prefix+l:l,l=r.suffix?l+r.suffix:l}return e},tryparsedate:function(e,t){null!=t&&null!=t||(t=this.defaultcalendar());var i,s;if(""==e)return null;if(null==e||e.substring||(e=e.toString()),null!=e&&"/Date("==e.substring(0,6)){if("Invalid Date"==(r=new Date(+e.replace(/\/Date\((\d+)\)\//,"$1")))){var r=null;(P=e.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/))&&(r=new Date(1*P[1]+36e5*P[2]+6e4*P[3]))}if(null==r||"Invalid Date"==r||isNaN(r)){var n=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/.exec(e);if(n){var o=new Date(parseInt(n[1]));if(n[2]){var a=parseInt(n[3]);"-"===n[2]&&(a=-a);var l=o.getUTCMinutes();o.setUTCMinutes(l-a)}if(!isNaN(o.valueOf()))return o}}return r}for(prop in patterns=t.patterns,patterns)if(r=this.parsedate(e,patterns[prop],t)){if("ISO"==prop)if(d=this.parsedate(e,patterns.ISO2,t))return d;return r}if(null!=e){for(var d=null,h=[":","/","-"],c=!0,u=0;u<h.length;u++)-1!=e.indexOf(h[u])&&(c=!1);if(c){var p=new Number(e);if(!isNaN(p))return new Date(p)}}if("string"===N.type(e)){var m=this;e=m.trim(e);var f=[":","/","-"," ",","];i=", ",s=",";var g="",v=e=e.replace(new RegExp(i,"g"),s);0<=e.indexOf(":")?(g=e.substring(e.indexOf(":")-2),g=m.trim(g),v=e.substring(0,e.indexOf(":")-2)):0<=e.toUpperCase().indexOf("AM")?(g=e.substring(e.toUpperCase().indexOf("AM")-2),g=m.trim(g),v=e.substring(0,e.toUpperCase().indexOf("AM")-2)):0<=e.toUpperCase().indexOf("PM")&&(g=e.substring(e.toUpperCase().indexOf("PM")-2),g=m.trim(g),v=e.substring(0,e.toUpperCase().indexOf("PM")-2));var x=new Date,w=!1;if(v){for(var y=0;y<f.length;y++)if(0<=v.indexOf(f[y])){h=v.split(f[y]);break}var b=new Array,_=new Array,j=new Array,q=null,T=null;for(y=0;y<h.length;y++){u=h[y];var C=m.parsedate(u,"d",t)||m.parsedate(u,"dd",t)||m.parsedate(u,"ddd",t)||m.parsedate(u,"dddd",t);if(C&&u.length<=2){q=y,b.push(C.getDate());break}}for(y=0;y<h.length;y++){u=h[y];var S=m.parsedate(u,"M",t)||m.parsedate(u,"MM",t)||m.parsedate(u,"MMM",t)||m.parsedate(u,"MMMM",t);if(S){if(null!=q&&q==y)continue;if(_.push(S.getMonth()),2<u.length){T=y;break}}}for(y=0;y<h.length;y++){u=h[y];var k=m.parsedate(u,"yyyy",t);if(k){if(null!=q&&q==y)continue;if(null!=T&&T==y)continue;j.push(k.getFullYear())}}for(var I=new Array,D=0;D<b.length;D++)for(var P=0;P<_.length;P++)for(var A=0;A<j.length;A++){o=new Date(j[A],_[P],b[D]);j[A]<1970&&o.setFullYear(j[A]),NaN!=o.getTime()&&I.push(o)}0<I.length&&(x=I[0],w=!0)}if(g){var M=0<=g.indexOf(":")?g.split(":"):g,B=m.parsedate(g,"h:mm tt",t)||m.parsedate(g,"h:mm:ss tt",t)||m.parsedate(g,"HH:mm:ss.fff",t)||m.parsedate(g,"HH:mm:ss.ff",t)||m.parsedate(g,"HH:mm:ss.tttt",t)||m.parsedate(g,"HH:mm:ss",t)||m.parsedate(g,"HH:mm",t)||m.parsedate(g,"HH",t),H=0,z=0,E=0,O=0;B&&NaN!=B.getTime()?(H=B.getHours(),z=B.getMinutes(),E=B.getSeconds(),O=B.getMilliseconds()):(1==M.length&&(H=parseInt(M[0])),2==M.length&&(H=parseInt(M[0]),z=parseInt(M[1])),3==M.length&&(H=parseInt(M[0]),z=parseInt(M[1]),0<=M[2].indexOf(".")?(E=parseInt(M[2].toString().split(".")[0]),O=parseInt(M[2].toString().split(".")[1])):E=parseInt(M[2])),4==M.length&&(H=parseInt(M[0]),z=parseInt(M[1]),E=parseInt(M[2]),O=parseInt(M[3]))),!x||isNaN(H)||isNaN(z)||isNaN(E)||isNaN(O)||(x.setHours(H,z,E,O),w=!0)}if(w)return x}return null},getparseregexp:function(e,t){var i=e._parseRegExp;if(i){var s=i[t];if(s)return s}else e._parseRegExp=i={};for(var r,n=this.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),o=["^"],a=[],l=0,d=0,h=this.getTokenRegExp();null!==(r=h.exec(n));){var c=n.slice(l,r.index);if(l=h.lastIndex,(d+=this.appendPreOrPostMatch(c,o))%2)o.push(r[0]);else{var u,p=r[0],m=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":u="(\\D+)";break;case"tt":case"t":u="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":u="(\\d{"+m+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":u="(\\d\\d?)";break;case"zzz":u="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":u="([+-]?\\d\\d?)";break;case"/":u="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+p+"'."}u&&o.push(u),a.push(r[0])}}this.appendPreOrPostMatch(n.slice(l),o),o.push("$");var f={regExp:o.join("").replace(/\s+/g,"\\s+"),groups:a};return i[t]=f},outOfRange:function(e,t,i){return e<t||i<e},expandYear:function(e,t){var i=new Date,s=this.getEra(i);if(t<100){var r=e.twoDigitYearMax;r="string"==typeof r?(new Date).getFullYear()%100+parseInt(r,10):r;var n=this.getEraYear(i,e,s);r<(t+=n-n%100)&&(t-=100)}return t},parsedate:function(e,t,i){null!=i&&null!=i||(i=this.defaultcalendar()),e=this.trim(e);var s=i,r=this.getparseregexp(s,t),n=new RegExp(r.regExp).exec(e);if(null===n)return null;for(var o,a=r.groups,l=null,d=null,h=null,c=null,u=null,p=0,m=0,f=0,g=0,v=null,x=!1,w=0,y=a.length;w<y;w++){var b=n[w+1];if(b){var _=a[w],j=_.length,q=parseInt(b,10);switch(_){case"dd":case"d":if(c=q,this.outOfRange(c,1,31))return null;break;case"MMM":case"MMMM":if(h=this.getMonthIndex(s,b,3===j),this.outOfRange(h,0,11))return null;break;case"M":case"MM":if(h=q-1,this.outOfRange(h,0,11))return null;break;case"y":case"yy":case"yyyy":if(d=j<4?this.expandYear(s,q):q,this.outOfRange(d,0,9999))return null;break;case"h":case"hh":if(12===(p=q)&&(p=0),this.outOfRange(p,0,11))return null;break;case"H":case"HH":if(p=q,this.outOfRange(p,0,23))return null;break;case"m":case"mm":if(m=q,this.outOfRange(m,0,59))return null;break;case"s":case"ss":if(f=q,this.outOfRange(f,0,59))return null;break;case"tt":case"t":if(!(x=s.PM&&(b===s.PM[0]||b===s.PM[1]||b===s.PM[2]))&&(!s.AM||b!==s.AM[0]&&b!==s.AM[1]&&b!==s.AM[2]))return null;break;case"f":case"ff":case"fff":if(g=q*Math.pow(10,3-j),this.outOfRange(g,0,999))return null;break;case"ddd":case"dddd":if(u=this.getDayIndex(s,b,3===j),this.outOfRange(u,0,6))return null;break;case"zzz":var T=b.split(/:/);if(2!==T.length)return null;if(o=parseInt(T[0],10),this.outOfRange(o,-12,13))return null;var C=parseInt(T[1],10);if(this.outOfRange(C,0,59))return null;v=60*o+(this.startsWith(b,"-")?-C:C);break;case"z":case"zz":if(o=q,this.outOfRange(o,-12,13))return null;v=60*o;break;case"g":case"gg":var S=b;if(!S||!s.eras)return null;S=trim(S.toLowerCase());for(var k=0,I=s.eras.length;k<I;k++)if(S===s.eras[k].name.toLowerCase()){l=k;break}if(null===l)return null}}}var D,P=new Date,A=s.convert;if(D=P.getFullYear(),null===d?d=D:s.eras&&(d+=s.eras[l||0].offset),null===h&&(h=0),null===c&&(c=1),A){if(null===(P=A.toGregorian(d,h,c)))return null}else{if(P.setFullYear(d,h,c),P.getDate()!==c)return null;if(null!==u&&P.getDay()!==u)return null}if(x&&p<12&&(p+=12),P.setHours(p,m,f,g),null!==v){var M=P.getMinutes()-(v+P.getTimezoneOffset());P.setHours(P.getHours()+parseInt(M/60,10),M%60)}return P},cleardatescache:function(){this.datescache=new Array},formatDate:function(e,t,i){return this.formatdate(e,t,i)},formatdate:function(e,t,i){if(null!=i&&null!=i||(i=this.defaultcalendar()),"string"==typeof e)return e;var s,r=e.toString()+"_"+t;if(this.datescache&&this.datescache[r]&&-1==t.indexOf("f"))return this.datescache[r];if(!t||!t.length||"i"===t)return s=this.formatDate(e,i.patterns.F,i);var n=i.eras,o="s"===t;t=this.expandFormat(i,t),s=[];var a,l,d=["0","00","000"],h=0,c=this.getTokenRegExp();function u(e,t){var i,s=e+"";return 1<t&&s.length<t?(i=d[t-2]+s).substr(i.length-t,t):i=s}function p(e,t){if(l)return l[t];if(null!=e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}for(;;){var m=c.lastIndex,f=c.exec(t),g=t.slice(m,f?f.index:t.length);if(h+=this.appendPreOrPostMatch(g,s),!f)break;if(h%2)s.push(f[0]);else{var v=f[0],x=v.length;switch(v){case"ddd":case"dddd":var w=3===x?i.days.namesAbbr:i.days.names;s.push(w[e.getDay()]);break;case"d":case"dd":!0,s.push(u(p(e,2),x));break;case"MMM":case"MMMM":var y=p(e,1);s.push(i.months[3===x?"namesAbbr":"names"][y]);break;case"M":case"MM":s.push(u(p(e,1)+1,x));break;case"y":case"yy":case"yyyy":y=this.getEraYear(e,i,this.getEra(e,n),o),x<4&&(y%=100),s.push(u(y,x));break;case"h":case"hh":0===(a=e.getHours()%12)&&(a=12),s.push(u(a,x));break;case"H":case"HH":s.push(u(e.getHours(),x));break;case"m":case"mm":s.push(u(e.getMinutes(),x));break;case"s":case"ss":s.push(u(e.getSeconds(),x));break;case"t":case"tt":y=e.getHours()<12?i.AM?i.AM[0]:" ":i.PM?i.PM[0]:" ",s.push(1===x?y.charAt(0):y);break;case"f":case"ff":case"fff":s.push(u(e.getMilliseconds(),3).substr(0,x));break;case"z":case"zz":a=e.getTimezoneOffset()/60,s.push((a<=0?"+":"-")+u(Math.floor(Math.abs(a)),x));break;case"zzz":a=e.getTimezoneOffset()/60,s.push((a<=0?"+":"-")+u(Math.floor(Math.abs(a)),2)+":"+u(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":i.eras&&s.push(i.eras[this.getEra(e,n)].name);break;case"/":s.push(i["/"]);break;default:throw"Invalid date format pattern '"+v+"'."}}}var b=s.join("");return this.datescache||(this.datescache=new Array),this.datescache[r]=b}}),N.jqx.data={};var q,t,T=/#.*$/,C=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,S=/^(?:GET|HEAD)$/,k=/^\/\//,I=/\?/,D=/([?&])_=[^&]*/,P=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,A=/\s+/,M=(N.fn.load,{}),B={},H=["*/"]+["*"];try{t=location.href}catch(e){(t=document.createElement("a")).href="",t=t.href}function e(a){return function(e,t){"string"!=typeof e&&(t=e,e="*");var i,s,r=e.toLowerCase().split(A),n=0,o=r.length;if(N.isFunction(t))for(;n<o;n++)i=r[n],(s=/^\+/.test(i))&&(i=i.substr(1)||"*"),(a[i]=a[i]||[])[s?"unshift":"push"](t)}}function z(e,t,i,s,r,n){(n=n||{})[r=r||t.dataTypes[0]]=!0;for(var o,a=e[r],l=0,d=a?a.length:0,h=e===M;l<d&&(h||!o);l++)"string"==typeof(o=a[l](t,i,s))&&(!h||n[o]?o=void 0:(t.dataTypes.unshift(o),o=z(e,t,i,s,o,n)));return!h&&o||n["*"]||(o=z(e,t,i,s,"*",n)),o}function i(e,t){var i,s,r=N.jqx.data.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:s||(s={}))[i]=t[i]);s&&N.extend(!0,e,s)}q=P.exec(t.toLowerCase())||[],N.extend(N.jqx.data,{ajaxSetup:function(e,t){return t?i(e,N.jqx.data.ajaxSettings):(t=e,e=N.jqx.data.ajaxSettings),i(e,t),e},ajaxSettings:{url:t,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(q[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":H},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":N.parseJSON,"text xml":N.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:e(M),ajaxTransport:e(B),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var h,c,i,u,p,s,m,r,f=N.jqx.data.ajaxSetup({},t),g=f.context||f,v=g!==f&&(g.nodeType||g instanceof N)?N(g):N.event,x=N.Deferred(),w=N.Callbacks("once memory"),y=f.statusCode||{},n={},o={},b=0,a="canceled",_={readyState:0,setRequestHeader:function(e,t){if(!b){var i=e.toLowerCase();e=o[i]=o[i]||e,n[e]=t}return this},getAllResponseHeaders:function(){return 2===b?c:null},getResponseHeader:function(e){var t;if(2===b){if(!i)for(i={};t=C.exec(c);)i[t[1].toLowerCase()]=t[2];t=i[e.toLowerCase()]}return void 0===t?null:t},overrideMimeType:function(e){return b||(f.mimeType=e),this},abort:function(e){return e=e||a,u&&u.abort(e),l(0,e),this}};function l(e,t,i,s){var r,n,o,a,l,d=t;2!==b&&(b=2,p&&clearTimeout(p),u=void 0,c=s||"",_.readyState=0<e?4:0,i&&(a=function(e,t,i){var s,r,n,o,a=e.contents,l=e.dataTypes,d=e.responseFields;for(r in d)r in i&&(t[d[r]]=i[r]);for(;"*"===l[0];)l.shift(),void 0===s&&(s=e.mimeType||t.getResponseHeader("content-type"));if(s)for(r in a)if(a[r]&&a[r].test(s)){l.unshift(r);break}if(l[0]in i)n=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){n=r;break}o||(o=r)}n=n||o}if(n)return n!==l[0]&&l.unshift(n),i[n]}(f,_,i)),200<=e&&e<300||304===e?(f.ifModified&&((l=_.getResponseHeader("Last-Modified"))&&(N.lastModified[h]=l),(l=_.getResponseHeader("Etag"))&&(N.etag[h]=l)),304===e?(d="notmodified",r=!0):(d=(r=function(e,t){var i,s,r,n,o=e.dataTypes.slice(),a=o[0],l={},d=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(o[1])for(i in e.converters)l[i.toLowerCase()]=e.converters[i];for(;r=o[++d];)if("*"!==r){if("*"!==a&&a!==r){if(!(i=l[a+" "+r]||l["* "+r]))for(s in l)if((n=s.split(" "))[1]===r&&(i=l[a+" "+n[0]]||l["* "+n[0]])){!0===i?i=l[s]:!0!==l[s]&&(r=n[0],o.splice(d--,0,r));break}if(!0!==i)if(i&&e.throws)t=i(t);else try{t=i(t)}catch(e){return{state:"parsererror",error:i?e:"No conversion from "+a+" to "+r}}}a=r}return{state:"success",data:t}}(f,a)).state,n=r.data,r=!(o=r.error))):(o=d)&&!e||(d="error",e<0&&(e=0)),_.status=e,_.statusText=(t||d)+"",r?x.resolveWith(g,[n,d,_]):x.rejectWith(g,[_,d,o]),_.statusCode(y),y=void 0,m&&v.trigger("ajax"+(r?"Success":"Error"),[_,f,r?n:o]),w.fireWith(g,[_,d]),m&&(v.trigger("ajaxComplete",[_,f]),--N.active||N.event.trigger("ajaxStop")))}if(x.promise(_),_.success=_.done,_.error=_.fail,_.complete=w.add,_.statusCode=function(e){var t;if(e)if(b<2)for(t in e)y[t]=[y[t],e[t]];else t=e[_.status],_.always(t);return this},f.url=((e||f.url)+"").replace(T,"").replace(k,q[1]+"//"),f.dataTypes=N.trim(f.dataType||"*").toLowerCase().split(A),null==f.crossDomain&&(s=P.exec(f.url.toLowerCase()),f.crossDomain=!(!s||s[1]===q[1]&&s[2]===q[2]&&(s[3]||("http:"===s[1]?80:443))==(q[3]||("http:"===q[1]?80:443)))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=N.param(f.data,f.traditional)),z(M,f,t,_),2===b)return _;if(m=f.global,f.type=f.type.toUpperCase(),f.hasContent=!S.test(f.type),m&&0==N.active++&&N.event.trigger("ajaxStart"),!f.hasContent&&(f.data&&(f.url+=(I.test(f.url)?"&":"?")+f.data,delete f.data),h=f.url,!1===f.cache)){var d=(new Date).getTime(),j=f.url.replace(D,"$1_="+d);f.url=j+(j===f.url?(I.test(f.url)?"&":"?")+"_="+d:"")}for(r in(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&_.setRequestHeader("Content-Type",f.contentType),f.ifModified&&(h=h||f.url,N.lastModified[h]&&_.setRequestHeader("If-Modified-Since",N.lastModified[h]),N.etag[h]&&_.setRequestHeader("If-None-Match",N.etag[h])),_.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+H+"; q=0.01":""):f.accepts["*"]),f.headers)_.setRequestHeader(r,f.headers[r]);if(f.beforeSend&&(!1===f.beforeSend.call(g,_,f)||2===b))return _.abort();for(r in a="abort",{success:1,error:1,complete:1})_[r](f[r]);if(u=z(B,f,t,_)){_.readyState=1,m&&v.trigger("ajaxSend",[_,f]),f.async&&0<f.timeout&&(p=setTimeout(function(){_.abort("timeout")},f.timeout));try{b=1,u.send(n,l)}catch(e){if(!(b<2))throw e;l(-1,e)}}else l(-1,"No Transport");return _},active:0,lastModified:{},etag:{}});var c=[],u=/\?/,p=/(=)\?(?=&|$)|\?\?/,s=(new Date).getTime();N.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=c.pop()||N.expando+"_"+s++;return this[e]=!0,e}}),N.jqx.data.ajaxPrefilter("json jsonp",function(e,t,i){var s,r,n,o=e.data,a=e.url,l=!1!==e.jsonp,d=l&&p.test(a),h=l&&!d&&"string"==typeof o&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&p.test(o);if("jsonp"===e.dataTypes[0]||d||h)return s=e.jsonpCallback=N.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,r=window[s],d?e.url=a.replace(p,"$1"+s):h?e.data=o.replace(p,"$1"+s):l&&(e.url+=(u.test(a)?"&":"?")+e.jsonp+"="+s),e.converters["script json"]=function(){return n||N.error(s+" was not called"),n[0]},e.dataTypes[0]="json",window[s]=function(){n=arguments},i.always(function(){window[s]=r,e[s]&&(e.jsonpCallback=t.jsonpCallback,c.push(s)),n&&N.isFunction(r)&&r(n[0]),n=r=void 0}),"script"}),N.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return N.globalEval(e),e}}}),N.jqx.data.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),N.jqx.data.ajaxTransport("script",function(t){if(t.crossDomain){var s,r=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(e,i){(s=document.createElement("script")).async="async",t.scriptCharset&&(s.charset=t.scriptCharset),s.src=t.url,s.onload=s.onreadystatechange=function(e,t){(t||!s.readyState||/loaded|complete/.test(s.readyState))&&(s.onload=s.onreadystatechange=null,r&&s.parentNode&&r.removeChild(s),s=void 0,t||i(200,"success"))},r.insertBefore(s,r.firstChild)},abort:function(){s&&s.onload(0,1)}}}});var m,r,f=!!window.ActiveXObject&&function(){for(var e in m)m[e](0,1)},n=0;function o(){try{return new window.XMLHttpRequest}catch(e){}}N.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&o()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:o,r=N.jqx.data.ajaxSettings.xhr(),N.extend(N.support,{ajax:!!r,cors:!!r&&"withCredentials"in r}),N.support||(N.support={ajax:!0}),N.support.ajax&&N.jqx.data.ajaxTransport(function(h){var c;if(!h.crossDomain||N.support.cors)return{send:function(e,a){var l,t,d=h.xhr();if(h.username?d.open(h.type,h.url,h.async,h.username,h.password):d.open(h.type,h.url,h.async),h.xhrFields)for(t in h.xhrFields)d[t]=h.xhrFields[t];h.mimeType&&d.overrideMimeType&&d.overrideMimeType(h.mimeType),h.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(t in e)d.setRequestHeader(t,e[t])}catch(e){}d.send(h.hasContent&&h.data||null),c=function(e,t){var i,s,r,n,o;try{if(c&&(t||4===d.readyState))if(c=void 0,l&&(d.onreadystatechange=function(){},f&&delete m[l]),t)4!==d.readyState&&d.abort();else{i=d.status,r=d.getAllResponseHeaders(),n={},(o=d.responseXML)&&o.documentElement&&(n.xml=o);try{n.text=d.responseText}catch(e){}try{s=d.statusText}catch(e){s=""}i||!h.isLocal||h.crossDomain?1223===i&&(i=204):i=n.text?200:404}}catch(e){t||a(-1,e)}n&&a(i,s,n,r)},h.async?4===d.readyState?setTimeout(c,0):(l=++n,f&&(m||(m={},N(window).unload(f)),m[l]=c),d.onreadystatechange=c):c()},abort:function(){c&&c(0,1)}}}),N.jqx.filter=function(){this.operator="and";var i=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],s=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],r=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],n=["EQUAL","NOT_EQUAL"],o=new Array,a=new Array;this.evaluate=function(e){for(var t=!0,i=0;i<o.length;i++){var s=o[i].evaluate(e);t=0==i?s:1==a[i]||"or"==a[i]?t||s:t&&s}return t},this.getfilterscount=function(){return o.length},this.setoperatorsbyfiltertype=function(e,t){switch(e){case"numericfilter":s=t;break;case"stringfilter":i=t;break;case"datefilter":r=t;break;case"booleanfilter":n=t}},this.getoperatorsbyfiltertype=function(e){var t=new Array;switch(e){case"numericfilter":t=s.slice(0);break;case"stringfilter":t=i.slice(0);break;case"datefilter":t=r.slice(0);break;case"booleanfilter":t=n.slice(0)}return t};var l=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+"-"+e()+"-"+e()};this.createfilter=function(e,t,i,s,r,n){if(null==e||null==e)return null;switch(e){case"numericfilter":return new c(t,i.toUpperCase());case"stringfilter":return new d(t,i.toUpperCase());case"datefilter":return new u(t,i.toUpperCase(),r,n);case"booleanfilter":return new h(t,i.toUpperCase());case"custom":return new p(t,i.toUpperCase(),s)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var e=new Array,t=0;t<o.length;t++){var i={value:o[t].filtervalue,condition:o[t].comparisonoperator,operator:a[t],type:o[t].type};o[t].data&&(i.id=o[t].data),e[t]=i}return e},this.addfilter=function(e,t){(o[o.length]=t).key=l(),a[a.length]=e},this.removefilter=function(e){for(var t=0;t<o.length;t++)if(o[t].key==e.key){o.splice(t,1),a.splice(t,1);break}},this.getoperatorat=function(e){return null==e||null==e?null:e<0||e>o.length?null:a[e]},this.setoperatorat=function(e,t){return null==e||null==e?null:e<0||e>o.length?null:void(a[t]=t)},this.getfilterat=function(e){return null==e||null==e?null:e<0||e>o.length?null:o[e]},this.setfilterat=function(e,t){return null==e||null==e?null:e<0||e>o.length?null:(t.key=l(),void(o[e]=t))},this.clear=function(){o=new Array,a=new Array};var d=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="stringfilter",this.evaluate=function(e){var t=this.filtervalue,i=this.comparisonoperator;if(null==e||null==e||""==e){if("NULL"==i)return!0;if("EQUAL"==i&&e==t)return!0;if("NOT_EQUAL"==i&&e!=t)return!0;if("EMPTY"!=i)return!1;if(""==e)return!0}var s="";try{s=e.toString()}catch(e){return!0}var r=function(e,t){switch(i){case"EQUAL":return N.jqx.string.equalsIgnoreCase(e,t);case"EQUAL_CASE_SENSITIVE":return N.jqx.string.equals(e,t);case"NOT_EQUAL":return!N.jqx.string.equalsIgnoreCase(e,t);case"NOT_EQUAL_CASE_SENSITIVE":return!N.jqx.string.equals(e,t);case"CONTAINS":return N.jqx.string.containsIgnoreCase(e,t);case"CONTAINS_CASE_SENSITIVE":return N.jqx.string.contains(e,t);case"DOES_NOT_CONTAIN":return!N.jqx.string.containsIgnoreCase(e,t);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!N.jqx.string.contains(e,t);case"EMPTY":return""==e;case"NOT_EMPTY":return""!=e;case"NOT_NULL":return null!=e;case"STARTS_WITH":return N.jqx.string.startsWithIgnoreCase(e,t);case"ENDS_WITH":return N.jqx.string.endsWithIgnoreCase(e,t);case"ENDS_WITH_CASE_SENSITIVE":return N.jqx.string.endsWith(e,t);case"STARTS_WITH_CASE_SENSITIVE":return N.jqx.string.startsWith(e,t);default:return!1}},n=new Array;if(t&&t.indexOf&&(0<=t.indexOf("|")||0<=t.indexOf(" AND ")||0<=t.indexOf(" OR ")||0<=t.indexOf(" and ")||0<=t.indexOf(" or "))){if(f=r(s,t))return f;var o=0<=t.indexOf(" AND ")?t.split(" AND "):new Array,a=0<=t.indexOf(" OR ")?t.split(" OR "):new Array,l=0<=t.indexOf(" and ")?t.split(" and "):new Array,d=0<=t.indexOf(" or ")?t.split(" or "):new Array,h=0<=t.indexOf("|")?t.split("|"):new Array;if(0<h.length)for(var c=0;c<h.length;c++)h[c]=N.trim(h[c]);var u=0<=t.indexOf(" ")?t.split(" "):new Array;if(0<u.length)for(c=0;c<u.length;c++)u[c]=N.trim(u[c]);if(o=(o=o.concat(u)).concat(l),a=(a=a.concat(h)).concat(d),0<o.length)for(c=0;c<o.length;c++)0<=!o[c].indexOf(" OR ")&&n.push(o[c]);if(0<a.length)for(c=0;c<a.length;c++)0<=!a[c].indexOf(" AND ")&&n.push(a[c]);for(var p=void 0,m=0;m<n.length;m++){var f=r(s,e=n[m]),g=m<o.length?"and":"or";p=null==p?f:"or"==g?p||f:p&&f}return p}return r(s,t)}},h=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="booleanfilter",this.evaluate=function(e){var t=this.filtervalue,i=this.comparisonoperator;if(null==e||null==e)return"NULL"==i;var s=e;switch(i){case"EQUAL":return s==t||s.toString()==t.toString();case"NOT_EQUAL":return s!=t&&s.toString()!=t.toString();default:return!1}}},c=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="numericfilter",this.evaluate=function(t){var e=this.filtervalue,i=this.comparisonoperator;if(null==t||""===t){if("NOT_NULL"==i)return!1;if("NULL"==i)return!0;switch(i){case"EQUAL":return t==e;case"NOT_EQUAL":return t!=e}return!1}if("NULL"==i)return!1;if("NOT_NULL"==i)return!0;var s=t;try{s=parseFloat(s)}catch(e){if(""!=t.toString())return!1}var r=function(e,t){switch(i){case"EQUAL":return e==t;case"NOT_EQUAL":return e!=t;case"GREATER_THAN":return t<e;case"GREATER_THAN_OR_EQUAL":return t<=e;case"LESS_THAN":return e<t;case"LESS_THAN_OR_EQUAL":return e<=t;case"STARTS_WITH":return N.jqx.string.startsWithIgnoreCase(e.toString(),t.toString());case"ENDS_WITH":return N.jqx.string.endsWithIgnoreCase(e.toString(),t.toString());case"ENDS_WITH_CASE_SENSITIVE":return N.jqx.string.endsWith(e.toString(),t.toString());case"STARTS_WITH_CASE_SENSITIVE":return N.jqx.string.startsWith(e.toString(),t.toString());case"CONTAINS":return N.jqx.string.containsIgnoreCase(e.toString(),t.toString());case"CONTAINS_CASE_SENSITIVE":return N.jqx.string.contains(e.toString(),t.toString());case"DOES_NOT_CONTAIN":return!N.jqx.string.containsIgnoreCase(e.toString(),t.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!N.jqx.string.contains(e.toString(),t.toString());default:return!0}},n=new Array;if(e&&e.indexOf&&(0<=e.indexOf("|")||0<=e.indexOf(" AND ")||0<=e.indexOf(" OR ")||0<=e.indexOf(" and ")||0<=e.indexOf(" or "))){if(f=r(s,e))return f;var o=0<=(e=e.toString()).indexOf(" AND ")?e.split(" AND "):new Array,a=0<=e.indexOf(" OR ")?e.split(" OR "):new Array,l=0<=e.indexOf(" and ")?e.split(" and "):new Array,d=0<=e.indexOf(" or ")?e.split(" or "):new Array;o=o.concat(l),a=a.concat(d);var h=0<=e.indexOf("|")?e.split("|"):new Array;if(0<h.length)for(var c=0;c<h.length;c++)h[c]=N.trim(h[c]);if(a=a.concat(h),0<o.length)for(c=0;c<o.length;c++)0<=!o[c].indexOf(" OR ")&&n.push(o[c]);if(0<a.length)for(c=0;c<a.length;c++)0<=!a[c].indexOf(" AND ")&&n.push(a[c]);for(var u=void 0,p=0;p<n.length;p++){if((t=n[p])&&t.indexOf&&0<=t.indexOf("..")){var m=t.toString().split("..");2==m.length&&(f=s>=m[0]&&s<=m[1])}else var f=r(s,t);var g=p<o.length?"and":"or";u=null==u?f:"or"==g?u||f:u&&f}return u}return e&&e.indexOf&&0<=e.indexOf("..")&&2==(n=e.toString().split("..")).length?s>=n[0]&&s<=n[1]:r(s,e)}},u=function(e,t,b,_){this.filtervalue=e,this.type="datefilter";var j=this;if(null!=b&&null!=_){var i=N.jqx.dataFormat.parsedate(e,b,_);if(null!=i)this.filterdate=i;else{var s=N.jqx.dataFormat.tryparsedate(e,_);null!=s&&(this.filterdate=s)}}else{var r;"NaN"==(r=new Date(e)).toString()||"Invalid Date"==r.toString()?this.filterdate=N.jqx.dataFormat.tryparsedate(e):this.filterdate=r}this.filterdate||("NaN"==(r=new Date(e)).toString()||"Invalid Date"==r.toString()?this.filterdate=N.jqx.dataFormat.tryparsedate(e):this.filterdate=r);this.comparisonoperator=t,this.evaluate=function(t){var e=this.filtervalue,i=this.comparisonoperator;if(null==t||null==t||""==t){if("NOT_NULL"==i)return!1;if("NULL"==i)return!0;switch(i){case"EQUAL":return t==e;case"NOT_EQUAL":return t!=e}return!1}if("NULL"==i)return!1;if("NOT_NULL"==i)return!0;var s=new Date;s.setFullYear(1900,0,1),s.setHours(12,0,0,0);try{var r=new Date(t);s=t="NaN"==r.toString()||"Invalid Date"==r.toString()?N.jqx.dataFormat.tryparsedate(t):r;var n=!1;if(null!=b&&null!=_)if(0<=b.indexOf("t")||0<=b.indexOf("T")||0<=b.indexOf(":")||0<=b.indexOf("f"))if(n=!0,e&&-1==e.toString().indexOf(":"))null!=(w=N.jqx.dataFormat.tryparsedate(e.toString()+":00",_))&&(j.filterdate=w);n||(s.setHours(0),s.setMinutes(0),s.setSeconds(0))}catch(e){if(""!=t.toString())return!1}if(null!=j.filterdate)e=j.filterdate;else if(e&&e.indexOf&&(-1!=e.indexOf(":")||!isNaN(parseInt(e)))){var o=new Date(s);o.setHours(12,0,0,0);for(var a=e.split(":"),l=0;l<a.length;l++)0==l&&o.setHours(a[l]),1==l&&o.setMinutes(a[l]),2==l&&o.setSeconds(a[l]);e=o}n&&e&&e.setFullYear&&s&&s.getFullYear&&-1==b.indexOf("d")&&-1==b.indexOf("M")&&-1==b.indexOf("y")&&e.setFullYear(s.getFullYear(),s.getMonth(),s.getDate());var d=function(e,t){switch(null==e&&(e=""),i){case"EQUAL":return e.toString()==t.toString();case"NOT_EQUAL":return e.toString()!=t.toString();case"GREATER_THAN":return t<e;case"GREATER_THAN_OR_EQUAL":return t<=e;case"LESS_THAN":return e<t;case"LESS_THAN_OR_EQUAL":return e<=t;case"STARTS_WITH":return N.jqx.string.startsWithIgnoreCase(e.toString(),t.toString());case"ENDS_WITH":return N.jqx.string.endsWithIgnoreCase(e.toString(),t.toString());case"ENDS_WITH_CASE_SENSITIVE":return N.jqx.string.endsWith(e.toString(),t.toString());case"STARTS_WITH_CASE_SENSITIVE":return N.jqx.string.startsWith(e.toString(),t.toString());case"CONTAINS":return N.jqx.string.containsIgnoreCase(e.toString(),t.toString());case"CONTAINS_CASE_SENSITIVE":return N.jqx.string.contains(e.toString(),t.toString());case"DOES_NOT_CONTAIN":return!N.jqx.string.containsIgnoreCase(e.toString(),t.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!N.jqx.string.contains(e.toString(),t.toString());default:return!0}},h=new Array;if(e&&e.indexOf&&(0<=e.indexOf("|")||0<=e.indexOf(" AND ")||0<=e.indexOf(" OR ")||0<=e.indexOf(" and ")||0<=e.indexOf(" or "))){if(w=d(s,e))return w;var c=0<=e.indexOf(" AND ")?e.split(" AND "):new Array,u=0<=e.indexOf(" OR ")?e.split(" OR "):new Array,p=0<=e.indexOf(" and ")?e.split(" and "):new Array,m=0<=e.indexOf(" or ")?e.split(" or "):new Array;c=c.concat(p),u=u.concat(m);var f=0<=e.indexOf("|")?e.split("|"):new Array;if(0<f.length)for(l=0;l<f.length;l++)f[l]=N.trim(f[l]);if(u=u.concat(f),0<c.length)for(l=0;l<c.length;l++)0<=!c[l].indexOf(" OR ")&&h.push(c[l]);if(0<u.length)for(l=0;l<u.length;l++)0<=!u[l].indexOf(" AND ")&&h.push(u[l]);for(var g=void 0,v=0;v<h.length;v++){if((t=h[v])&&t.indexOf&&0<=t.indexOf("..")){var x=t.toString().split("..");2==x.length&&(w=s>=x[0]&&s<=x[1])}else var w=d(s,t);var y=v<c.length?"and":"or";g=null==g?w:"or"==y?g||w:g&&w}return g}return e&&e.indexOf&&0<=e.indexOf("..")&&2==(h=e.toString().split("..")).length?s>=h[0]&&s<=h[1]:d(s,e)}},p=function(e,t,i){this.filtervalue=e,this.comparisonoperator=t,this.evaluate=function(e,t){return i(this.filtervalue,e,this.comparisonoperator)}}}}(jqxBaseFramework),function(G){var l=[{id:"Local",offset:0,offsetHours:0,displayName:"",supportsDaylightSavingTime:!(G.jqx.timeSpan=function(){G.extend(!0,this,{ticksPerMillisecond:1e4,millisecondsPerTick:1e-4,ticksPerSecond:1e7,secondsPerTick:1e-7,ticksPerMinute:6e8,minutesPerTick:1/6e8,ticksPerHour:36e9,hoursPerTick:1/36e9,ticksPerDay:864e9,daysPerTick:1/864e9,millisPerSecond:1e3,millisPerMinute:6e4,millisPerHour:36e5,millisPerDay:864e5,_ticks:0});var r=this;if(r.ticks=function(){return r._ticks},r.days=function(){return parseInt(r._ticks/r.ticksPerDay)},r.timeToMS=function(e,t,i,s){return parseInt((3600*e+60*t+i+s/1e3)*r.ticksPerSecond)},r.hours=function(){return parseInt(r._ticks/r.ticksPerHour)%24},r.milliseconds=function(){return parseInt(r._ticks/r.ticksPerMillisecond)%1e3},r.minutes=function(){return parseInt(r._ticks/r.ticksPerMinute)%60},r.seconds=function(){return parseInt(r._ticks/r.ticksPerSecond)%60},r.totalDays=function(){return parseInt(r._ticks*r.daysPerTick)},r.totalHours=function(){return parseInt(r._ticks*r.hoursPerTick)},r.totalMilliseconds=function(){var e=r._ticks*r.millisecondsPerTick;return parseInt(e)},r.totalMinutes=function(){return parseInt(r._ticks*r.minutesPerTick)},r.totalSeconds=function(){return parseInt(r._ticks*r.secondsPerTick)},1===arguments.length)r._ticks=arguments[0];else if(3===arguments.length)r._ticks=r.timeToMS(arguments[0],arguments[1],arguments[2]);else if(4===arguments.length){var e=1e3*(3600*arguments[0]*24+3600*arguments[1]+60*arguments[2]+arguments[3])+0;r._ticks=e*r.ticksPerMillisecond}else if(5===arguments.length){e=1e3*(3600*arguments[0]*24+3600*arguments[1]+60*arguments[2]+arguments[3])+arguments[4];r._ticks=e*r.ticksPerMillisecond}return r.add=function(e){var t=r._ticks+e._ticks;return new G.jqx.timeSpan(t)},r.substract=function(e){var t=_ticks-e._ticks;return new G.jqx.timeSpan(t)},r.duration=function(){return 0<=r._ticks?new G.jqx.timeSpan(r._ticks):new G.jqx.timeSpan(-r._ticks)},r.equals=function(e){return r._ticks==e._ticks},r.valueOf=function(){return r._ticks},r.compare=function(e,t){return e._ticks>t._ticks?1:e._ticks<t._ticks?-1:0},r.interval=function(e,t){var i=e*t+(0<=e?.5:-.5);return new G.jqx.timeSpan(i*r.ticksPerMillisecond)},r.fromDays=function(e){return r.interval(e,r.millisPerDay)},r.fromHours=function(e){return r.interval(e,r.millisPerHour)},r.fromMilliseconds=function(e){return r.interval(e,1)},r.fromMinutes=function(e){return r.interval(e,r.millisPerMinute)},r.fromSeconds=function(e){return r.interval(e,r.millisPerSecond)},r.fromTicks=function(e){return new G.jqx.timeSpan(e)},r})},{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}],d=[0,31,59,90,120,151,181,212,243,273,304,334,365],h=[0,31,60,91,121,152,182,213,244,274,305,335,366];G.jqx.date=function(){var V=this;if(V.ticksPerMillisecond=1e4,V.millisecondsPerTick=1e-4,V.ticksPerSecond=1e7,V.secondsPerTick=1e-7,V.ticksPerMinute=6e8,V.minutesPerTick=1/6e8,V.ticksPerHour=36e9,V.hoursPerTick=1/36e9,V.ticksPerDay=864e9,V.daysPerTick=1/864e9,V.millisPerSecond=1e3,V.millisPerMinute=6e4,V.millisPerHour=36e5,V.millisPerDay=864e5,V.daysPerYear=365,V.daysPer4Years=1461,V.daysPer100Years=36524,V.daysPer400Years=146097,V.daysTo1601=584388,V.daysTo1899=693593,V.daysTo10000=3652059,V.minTicks=0,V.maxTicks=3155378976e9,V.maxMillis=3155378976e5,V.datePartYear=0,V.datePartDayOfYear=1,V.datePartMonth=2,V.datePartDay=3,V.daysToMonth365=d,V.daysToMonth366=h,V.minValue=new Date(0),V.maxValue=new Date(3155378976e9),V.ticksMask=0x4000000000000000,V.flagsMask=0xc000000000000000,V.localMask=0x8000000000000000,V.ticksCeiling=0x4000000000000000,V.kindUnspecified=0,V.kindUtc=0x4000000000000000,V.kindLocal=0x8000000000000000,V.kindLocalAmbiguousDst=0xc000000000000000,V.kindShift=62,V.regexTrim=/^\s+|\s+$/g,V.regexInfinity=/^[+-]?infinity$/i,V.regexHex=/^0x[a-f0-9]+$/i,V.regexParseFloat=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,V.calendar={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","},V.dateData=0,V.timeZone=null,V.timeZones=l,V.internalMS=function(){return V.dateData},V.getDatePart=function(e){var t=V.internalMS(),i=parseInt(t/V.millisPerDay),s=parseInt(i/V.daysPer400Years);i-=s*V.daysPer400Years;var r=parseInt(i/V.daysPer100Years);4==r&&(r=3),i-=r*V.daysPer100Years;var n=parseInt(i/V.daysPer4Years);i-=n*V.daysPer4Years;var o=parseInt(i/V.daysPerYear);if(4==o&&(o=3),e==V.datePartYear)return parseInt(400*s+100*r+4*n+o+1);if(i-=o*V.daysPerYear,e==V.datePartDayOfYear)return parseInt(i+1);for(var a=3==o&&(24!=n||3==r)?V.daysToMonth366:V.daysToMonth365,l=i>>6;i>=a[l];)l++;return e==V.datePartMonth?parseInt(l):parseInt(i-a[l-1]+1)},V.dayOfWeek=function(){var e=V.dateData;return parseInt(e/V.millisPerDay+1)%7},V.dayOfYear=function(){return V.getDatePart(V.datePartDayOfYear)},V.weekOfYear=function(e){var t=V.toDate(),i=e||V.calendar.firstDay,s=new Date(t.getFullYear(),0,1),r=s.getDay()-i;r=0<=r?r:r+7;var n,o=Math.floor((t.getTime()-s.getTime()-6e4*(t.getTimezoneOffset()-s.getTimezoneOffset()))/864e5)+1;return r<4?52<(n=Math.floor((o+r-1)/7)+1)&&(nYear=new Date(t.getFullYear()+1,0,1),nday=nYear.getDay()-i,nday=0<=nday?nday:nday+7,n=nday<4?1:53):n=Math.floor((o+r-1)/7),n},V.subtract=function(e){return new G.jqx.timeSpan(V.dateData*V.ticksPerMillisecond-e.dateData*V.ticksPerMillisecond)},V.dateToMS=function(e,t,i){if(1<=e&&e<=9999&&1<=t&&t<=12){e=parseInt(e);var s=V.isLeapYear(e)?V.daysToMonth366:V.daysToMonth365;if(1<=i&&i<=s[t]-s[t-1]){var r=e-1;return(365*r+parseInt(r/4)-parseInt(r/100)+parseInt(r/400)+s[t-1]+i-1)*V.millisPerDay}}},V.isLeapYear=function(e){if(e<1||9999<e)throw new Error("Year out of Range");return e%4==0&&(e%100!=0||e%400==0)},V.timeToMS=function(e,t,i,s){if(0<=e&&e<24&&0<=t&&t<60&&0<=i&&i<60){var r=parseInt(3600*e+60*t+i);return 0<s&&s<1e3?r*V.millisPerSecond+s:r*V.millisPerSecond}},V.daysInMonth=function(e,t){if(t<1||12<t)throw new Error("Month out of Range");var i=V.isLeapYear(e)?V.daysToMonth366:V.daysToMonth365;return i[t]-i[t-1]},V.arrayIndexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,s=e.length;i<s;i++)if(e[i]===t)return i;return-1},V.startsWith=function(e,t){return 0===e.indexOf(t)},V.endsWith=function(e,t){return e.substr(e.length-t.length)===t},V.trim=function(e){return(e+"").replace(V.regexTrim,"")},V.expandFormat=function(e,t){t=t||"F";var i,s=e.patterns,r=t.length;if(1===r){if(!(i=s[t]))throw"Invalid date format string '"+t+"'.";t=i}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},V.getEra=function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var i,s=e.getTime(),r=0,n=t.length;r<n;r++)if(null===(i=t[r].start)||i<=s)return r;return 0},V.toUpper=function(e){return e.split("Â ").join(" ").toUpperCase()},V.toUpperArray=function(e){for(var t=[],i=0,s=e.length;i<s;i++)t[i]=V.toUpper(e[i]);return t},V.getEraYear=function(e,t,i,s){var r=e.getFullYear();return!s&&t.eras&&(r-=t.eras[i].offset),r},V.getDayIndex=function(e,t,i){var s,r=e.days,n=e._upperDays;return n||(e._upperDays=n=[V.toUpperArray(r.names),V.toUpperArray(r.namesAbbr),V.toUpperArray(r.namesShort)]),t=t.toUpperCase(),i?-1===(s=V.arrayIndexOf(n[1],t))&&(s=V.arrayIndexOf(n[2],t)):s=V.arrayIndexOf(n[0],t),s},V.getMonthIndex=function(e,t,i){var s=e.months,r=e.monthsGenitive||e.months,n=e._upperMonths,o=e._upperMonthsGen;n||(e._upperMonths=n=[V.toUpperArray(s.names),V.toUpperArray(s.namesAbbr)],e._upperMonthsGen=o=[V.toUpperArray(r.names),V.toUpperArray(r.namesAbbr)]),t=V.toUpper(t);var a=V.arrayIndexOf(i?n[1]:n[0],t);return a<0&&(a=V.arrayIndexOf(i?o[1]:o[0],t)),a},V.appendPreOrPostMatch=function(e,t){for(var i=0,s=!1,r=0,n=e.length;r<n;r++){var o=e.charAt(r);switch(o){case"'":s?t.push("'"):i++,s=!1;break;case"\\":s&&t.push("\\"),s=!s;break;default:t.push(o),s=!1}}return i},V.getTokenRegExp=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},V.tryparseDate=function(e,t,i){if(null==t||null==t)t=V.calendar;else if(null!=t&&t&&"string"===G.type(t)&&Globalize){var s=Globalize.cultures[t];s&&(t=s.calendar)}if(null!=i){if("array"===G.type(i))for(var r=0;r<i.length;r++){if(n=V.parseDate(e,i[r],t))return n}var n;if(n=V.parseDate(e,i,t))return n}if(""==e)return null;if(null==e||e.substring||(e=e.toString()),null!=e&&"/Date("==e.substring(0,6)){if("Invalid Date"==(o=new Date(+e.replace(/\/Date\((\d+)\)\//,"$1")))){var o=null;(A=e.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/))&&(o=new Date(1*A[1]+36e5*A[2]+6e4*A[3]))}if(null==o||"Invalid Date"==o||isNaN(o)){var a=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/.exec(e);if(a){var l=new Date(parseInt(a[1]));if(a[2]){var d=parseInt(a[3]);"-"===a[2]&&(d=-d);var h=l.getUTCMinutes();l.setUTCMinutes(h-d)}if(!isNaN(l.valueOf()))return l}}return o}var c={jqxdate:"yyyy-MM-dd HH:mm:ss",d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",ISO8601:"yyyy-MM-ddTHH:mm:ss.sssZ",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",d4:"MM.dd.yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",iso:"yyyy-MM-ddTHH:mm:ssZ",iso_date1:"yyyy-MM-dd",iso_date2:"yyyy-MM-dd",iso_date3:"yyyy-ddd",iso_date4:"yyyy-MM-dd HH:mm",iso_date5:"yyyy-MM-dd HH:mm Z",iso_date6:"yyyy-MMM-dd",iso_date7:"yyyy-MM",iso_date8:"yyyy-MMM",iso_date9:"yyyy-MMMM",iso_date10:"yyyy-MMMM-dd",iso_time1:"HH:mm:ss.tttt",iso_time2:"HH:mm:ss",iso_time3:"HH:mm",iso_time4:"HH",iso_time5:"yyyyyy-MM-dd",iso_time6:"yyyyyy-MM-dd"};for(var u in c)if(o=V.parseDate(e,c[u],t))return o;var p,m,f=t.patterns;for(u in f)if(o=V.parseDate(e,f[u],t)){if("ISO"==u)if(L=V.parseDate(e,f.ISO2,t))return L;return o}if("string"===G.type(e)){e=V.trim(e);var g=[":","/","-"," ",","];p=", ",m=",";var v="",x=e=e.replace(new RegExp(p,"g"),m);0<=e.indexOf(":")?(v=e.substring(e.indexOf(":")-2),v=V.trim(v),x=e.substring(0,e.indexOf(":")-2)):0<=e.toUpperCase().indexOf("AM")?(v=e.substring(e.toUpperCase().indexOf("AM")-2),v=V.trim(v),x=e.substring(0,e.toUpperCase().indexOf("AM")-2)):0<=e.toUpperCase().indexOf("PM")&&(v=e.substring(e.toUpperCase().indexOf("PM")-2),v=V.trim(v),x=e.substring(0,e.toUpperCase().indexOf("PM")-2));var w=new Date,y=!1;if(x){for(r=0;r<g.length;r++)if(0<=x.indexOf(g[r])){R=x.split(g[r]);break}var b=new Array,_=new Array,j=new Array,q=null,T=null;for(r=0;r<R.length;r++){var C=R[r],S=V.parseDate(C,"d",t)||V.parseDate(C,"dd",t)||V.parseDate(C,"ddd",t)||V.parseDate(C,"dddd",t);if(S&&(b.push(S.getDate()),2<C.length)){q=r;break}}for(r=0;r<R.length;r++){C=R[r];var k=V.parseDate(C,"M",t)||V.parseDate(C,"MM",t)||V.parseDate(C,"MMM",t)||V.parseDate(C,"MMMM",t);if(k){if(null!=q&&q==r)continue;if(_.push(k.getMonth()),2<C.length){T=r;break}}}for(r=0;r<R.length;r++){C=R[r];var I=V.parseDate(C,"yyyy",t);if(I){if(null!=q&&q==r)continue;if(null!=T&&T==r)continue;j.push(I.getFullYear())}}for(var D=new Array,P=0;P<b.length;P++)for(var A=0;A<_.length;A++)for(var M=0;M<j.length;M++){l=new Date(j[M],_[A],b[P]);j[M]<1970&&l.setFullYear(j[M]),NaN!=l.getTime()&&D.push(l)}0<D.length&&(w=D[0],y=!0)}if(v){var B=0<=v.indexOf(":")?v.split(":"):v,H=V.parseDate(v,"h:mm tt",t)||V.parseDate(v,"HH:mm:ss.fff",t)||V.parseDate(v,"HH:mm:ss.ff",t)||V.parseDate(v,"h:mm:ss tt",t)||V.parseDate(v,"HH:mm:ss.tttt",t)||V.parseDate(v,"HH:mm:ss",t)||V.parseDate(v,"HH:mm",t)||V.parseDate(v,"HH",t),z=0,E=0,O=0,N=0;H&&NaN!=H.getTime()?(z=H.getHours(),E=H.getMinutes(),O=H.getSeconds(),N=H.getMilliseconds()):(1==B.length&&(z=parseInt(B[0])),2==B.length&&(z=parseInt(B[0]),E=parseInt(B[1])),3==B.length&&(z=parseInt(B[0]),E=parseInt(B[1]),0<=B[2].indexOf(".")?(O=parseInt(B[2].toString().split(".")[0]),N=parseInt(B[2].toString().split(".")[1])):O=parseInt(B[2])),4==B.length&&(z=parseInt(B[0]),E=parseInt(B[1]),O=parseInt(B[2]),N=parseInt(B[3]))),!w||isNaN(z)||isNaN(E)||isNaN(O)||isNaN(N)||(w.setHours(z,E,O,N),y=!0)}if(y)return w}if(null!=e){var L=null,R=[":","/","-"],F=!0;for(C=0;C<R.length;C++)-1!=e.indexOf(R[C])&&(F=!1);if(F){var W=new Number(e);if(!isNaN(W))return new Date(W)}}return null},V.getParseRegExp=function(e,t){var i=e._parseRegExp;if(i){var s=i[t];if(s)return s}else e._parseRegExp=i={};for(var r,n=V.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),o=["^"],a=[],l=0,d=0,h=V.getTokenRegExp();null!==(r=h.exec(n));){var c=n.slice(l,r.index);if(l=h.lastIndex,(d+=V.appendPreOrPostMatch(c,o))%2)o.push(r[0]);else{var u,p=r[0],m=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":u="(\\D+)";break;case"tt":case"t":u="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":u="(\\d{"+m+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":u="(\\d\\d?)";break;case"zzz":u="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":u="([+-]?\\d\\d?)";break;case"/":u="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+p+"'."}u&&o.push(u),a.push(r[0])}}V.appendPreOrPostMatch(n.slice(l),o),o.push("$");var f={regExp:o.join("").replace(/\s+/g,"\\s+"),groups:a};return i[t]=f},V.outOfRange=function(e,t,i){return e<t||i<e},V.expandYear=function(e,t){var i=new Date,s=V.getEra(i);if(t<100){var r=e.twoDigitYearMax;r="string"==typeof r?(new Date).getFullYear()%100+parseInt(r,10):r;var n=V.getEraYear(i,e,s);r<(t+=n-n%100)&&(t-=100)}return t},V.parseDate=function(e,t,i){null!=i&&null!=i||(i=V.calendar),e=V.trim(e);var s=i,r=V.getParseRegExp(s,t),n=new RegExp(r.regExp).exec(e);if(null===n)return null;for(var o,a=r.groups,l=null,d=null,h=null,c=null,u=null,p=0,m=0,f=0,g=0,v=null,x=!1,w=0,y=a.length;w<y;w++){var b=n[w+1];if(b){var _=a[w],j=_.length,q=parseInt(b,10);switch(_){case"dd":case"d":if(c=q,V.outOfRange(c,1,31))return null;break;case"MMM":case"MMMM":case"MMMMM":case"MMMMMM":case"MMMMMMM":case"MMMMMMMM":if(h=V.getMonthIndex(s,b,3===j),V.outOfRange(h,0,11))return null;break;case"M":case"MM":if(h=q-1,V.outOfRange(h,0,11))return null;break;case"y":case"yy":case"yyyy":if(d=j<4?V.expandYear(s,q):q,V.outOfRange(d,0,9999))return null;break;case"h":case"hh":if(12===(p=q)&&(p=0),V.outOfRange(p,0,11))return null;break;case"H":case"HH":if(p=q,V.outOfRange(p,0,23))return null;break;case"m":case"mm":if(m=q,V.outOfRange(m,0,59))return null;break;case"s":case"ss":if(f=q,V.outOfRange(f,0,59))return null;break;case"tt":case"t":if(!(x=s.PM&&(b===s.PM[0]||b===s.PM[1]||b===s.PM[2]))&&(!s.AM||b!==s.AM[0]&&b!==s.AM[1]&&b!==s.AM[2]))return null;break;case"f":case"ff":case"fff":if(g=q*Math.pow(10,3-j),V.outOfRange(g,0,999))return null;break;case"ddd":case"dddd":if(u=V.getDayIndex(s,b,3===j),V.outOfRange(u,0,6))return null;break;case"zzz":var T=b.split(/:/);if(2!==T.length)return null;if(o=parseInt(T[0],10),V.outOfRange(o,-12,13))return null;var C=parseInt(T[1],10);if(V.outOfRange(C,0,59))return null;v=60*o+(V.startsWith(b,"-")?-C:C);break;case"z":case"zz":if(o=q,V.outOfRange(o,-12,13))return null;v=60*o;break;case"g":case"gg":var S=b;if(!S||!s.eras)return null;S=trim(eraNathat.toLowerCase());for(var k=0,I=s.eras.length;k<I;k++)if(S===s.eras[k].nathat.toLowerCase()){l=k;break}if(null===l)return null}}}var D,P=new Date,A=s.convert;if(D=P.getFullYear(),null===d?d=D:s.eras&&(d+=s.eras[l||0].offset),null===h&&(h=0),null===c&&(c=1),A){if(null===(P=A.toGregorian(d,h,c)))return null}else{if(P.setFullYear(d,h,c),P.getDate()!==c)return null;if(null!==u&&P.getDay()!==u)return null}if(x&&p<12&&(p+=12),P.setHours(p,m,f,g),null!==v){var M=P.getMinutes()-(v+P.getTimezoneOffset());P.setHours(P.getHours()+parseInt(M/60,10),M%60)}return P},V.toString=function(e,t){if(void 0===e&&(e="yyyy-MM-dd HH:mm:ss"),G.jqx.date.cache&&G.jqx.date.cache[V.dateData+e])return G.jqx.date.cache[V.dateData+e];if(t&&"string"===G.type(t)&&Globalize){var i=Globalize.cultures[t];i&&(t=i.calendar)}var s=V.toDate();if(null!=t&&null!=t||(t=V.calendar),"string"==typeof s)return s;var r;s.toString();if(!e||!e.length||"i"===e)return r=V.formatDate(s,t.patterns.F,t);var n=t.eras,o="s"===e;e=V.expandFormat(t,e),r=[];var a,l,d=["0","00","000"],h=0,c=V.getTokenRegExp();function u(e,t){var i,s=e+"";return 1<t&&s.length<t?(i=d[t-2]+s).substr(i.length-t,t):i=s}function p(e,t){if(l)return l[t];if(null!=e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}for(;;){var m=c.lastIndex,f=c.exec(e),g=e.slice(m,f?f.index:e.length);if(h+=V.appendPreOrPostMatch(g,r),!f)break;if(h%2)r.push(f[0]);else{var v=f[0],x=v.length;switch(v){case"ddd":case"dddd":var w=3===x?t.days.namesAbbr:t.days.names;r.push(w[s.getDay()]);break;case"d":case"dd":!0,r.push(u(p(s,2),x));break;case"MMM":case"MMMM":var y=p(s,1);r.push(t.months[3===x?"namesAbbr":"names"][y]);break;case"M":case"MM":r.push(u(p(s,1)+1,x));break;case"y":case"yy":case"yyyy":y=V.getEraYear(s,t,V.getEra(s,n),o),x<4&&(y%=100),r.push(u(y,x));break;case"h":case"hh":0===(a=s.getHours()%12)&&(a=12),r.push(u(a,x));break;case"H":case"HH":r.push(u(s.getHours(),x));break;case"m":case"mm":r.push(u(s.getMinutes(),x));break;case"s":case"ss":r.push(u(s.getSeconds(),x));break;case"t":case"tt":y=s.getHours()<12?t.AM?t.AM[0]:" ":t.PM?t.PM[0]:" ",r.push(1===x?y.charAt(0):y);break;case"f":case"ff":case"fff":r.push(u(s.getMilliseconds(),3).substr(0,x));break;case"z":case"zz":a=s.getTimezoneOffset()/60,r.push((a<=0?"+":"-")+u(Math.floor(Math.abs(a)),x));break;case"zzz":a=s.getTimezoneOffset()/60,r.push((a<=0?"+":"-")+u(Math.floor(Math.abs(a)),2)+":"+u(Math.abs(s.getTimezoneOffset()%60),2));break;case"g":case"gg":t.eras&&r.push(t.eras[V.getEra(s,n)].name);break;case"/":r.push(t["/"]);break;default:throw"Invalid date format pattern '"+v+"'."}}}var b=r.join("");return G.jqx.date.cache||(G.jqx.date.cache=new Array),G.jqx.date.cache[V.dateData+e]=b},V.add=function(e,t,i){var s=V.internalMS();if(void 0===t)return!1===i?(V.dateData=s+parseInt(e._ticks/V.ticksPerMillisecond),V):((r=new G.jqx.date(s+parseInt(e._ticks/V.ticksPerMillisecond))).timeZone=V.timeZone,r);var r,n=e*t;if(n<=-V.maxMillis||n>=V.maxMillis)throw new Error("Out of Range");return!1===i?(V.dateData=s+n,V):((r=new G.jqx.date(s+n)).timeZone=V.timeZone,r)},V.addDays=function(e,t){return V.add(e,V.millisPerDay,t)},V.clone=function(){var e=new G.jqx.date(V.dateData);return e.timeZone=V.timeZone,e},V.clearTime=function(){var e=V.month(),t=V.year(),i=V.day(),s=new G.jqx.date(t,e,i,0,0,0,0);return s.timeZone=V.timeZone,s},V.addHours=function(e,t){return V.add(e,V.millisPerHour,t)},V.addMilliseconds=function(e,t){return V.add(e,1,t)},V.addMinutes=function(e,t){return V.add(e,V.millisPerMinute,t)},V.addMonths=function(e,t){if(e<-12e4||12e4<e)throw new Error("Invalid Months Value");var i=parseInt(V.getDatePart(V.datePartYear)),s=parseInt(V.getDatePart(V.datePartMonth)),r=parseInt(V.getDatePart(V.datePartDay)),n=s-1+e;if(0<=n?(s=n%12+1,i+=n/12):(s=12+(n+1)%12,i+=(n-11)/12),(i=parseInt(i))<1||9999<i)throw new Error("Year out of range");var o=V.daysInMonth(i,s);if(o<r&&(r=o),!1===t)return V.dateData=V.dateToMS(i,s,r)+V.internalMS()%V.millisPerDay,V;var a=new G.jqx.date(V.dateToMS(i,s,r)+V.internalMS()%V.millisPerDay);return a.timeZone=V.timeZone,a},V.addSeconds=function(e,t){return V.add(e,V.millisPerSecond,t)},V.addYears=function(e,t){return V.addMonths(12*e,t)},V.getTimeZoneOffset=function(){var e=new Date,t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1),s=e.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),i.getTimezoneOffset());return{offset:-e.getTimezoneOffset()/60,dst:+s}},V.isInDaylightSavingTime=function(){var e=new Date,t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1);return V.date().getTimezoneOffset()<Math.max(t.getTimezoneOffset(),i.getTimezoneOffset())},V.supportsDaylightSavingTime=function(){var e=new Date,t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1);return t.getTimezoneOffset()!=i.getTimezoneOffset()},V.date=function(){var e=V.month(),t=V.year(),i=V.day(),s=new G.jqx.date(t,e,i);return s.timeZone=V.timeZone,s},V.isWeekend=function(){return 0==V.dayOfWeek()||6==V.dayOfWeek()},V.toDate=function(t){var e=V.month(),i=V.year(),s=V.day(),r=V.hour(),n=V.minute(),o=V.second(),a=V.millisecond(),l=new Date(i,e-1,s);if(i<1970&&l.setFullYear(i),l.setHours(r,n,o,a),t){var d=V.timeZones.filter(function(e){return e.id==t});if(d.length){var h=d[0].offset;"Local"==t&&(h=-l.getTimezoneOffset());var c=l.getTime(),u=60*l.getTimezoneOffset()*1e3;if(V.timeZone){var p=V.timeZones.filter(function(e){return e.id==V.timeZone});if(p.length)u=60*-p[0].offset*1e3}l=new Date(c+u+6e4*h)}}return l},V.toTimeZone=function(e){var t=e;null==t&&(t="Local");var i=V.toDate(t),s=new G.jqx.date(i);return s.timeZone=e,s},V.day=function(){return V.getDatePart(V.datePartDay)},V.month=function(){return V.getDatePart(V.datePartMonth)},V.year=function(){return V.getDatePart(V.datePartYear)},V.millisecond=function(){return parseInt(V.internalMS()%1e3)},V.hour=function(){return parseInt(V.internalMS()/V.millisPerHour%24)},V.minute=function(){return parseInt(V.internalMS()/V.millisPerMinute%60)},V.second=function(){return parseInt(V.internalMS()/V.millisPerSecond%60)},V.valueOf=function(){return V.dateData},V.equals=function(e){return V.dateData===e.dateData},0===arguments.length){var e=new Date;V.dateData=V.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+V.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else{if(1===arguments.length)if(null==arguments[0]&&(arguments[0]="todayDate"),"number"==typeof arguments[0]&&isFinite(arguments[0])||"string"!==G.type(arguments[0]))if("number"==typeof arguments[0])V.dateData=arguments[0];else if("date"==G.type(arguments[0])){e=arguments[0];V.dateData=V.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+V.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else void 0!==arguments[0].dateData?V.dateData=arguments[0].dateData:V.dateData=arguments[0];else if("today"===arguments[0]){var e=new Date;V.dateData=V.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+V.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else if("todayDate"===arguments[0]){(e=new Date).setHours(0,0,0,0),V.dateData=V.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+V.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else{e=V.tryparseDate(arguments[0]);V.dateData=V.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+V.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else if(2===arguments.length){if(null==arguments[0]&&(arguments[0]="todayDate"),"number"==typeof arguments[0]&&isFinite(arguments[0])||"string"!==G.type(arguments[0]))if("number"==typeof arguments[0])V.dateData=arguments[0];else if("date"==G.type(arguments[0])){e=arguments[0];V.dateData=V.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+V.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else void 0!==arguments[0].dateData?V.dateData=arguments[0].dateData:V.dateData=arguments[0];else if("today"===arguments[0]){e=new Date;V.dateData=V.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+V.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else if("todayDate"===arguments[0]){(e=new Date).setHours(0,0,0,0),V.dateData=V.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+V.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else{e=V.tryparseDate(arguments[0]);V.dateData=V.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+V.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}V.timeZone=arguments[1]}else if(2<arguments.length)if("string"===G.type(arguments[0])){e=V.tryparseDate(arguments[0],arguments[2],arguments[1]);V.dateData=V.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+V.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else{var t=arguments[0],i=arguments[1],s=arguments[2],r=arguments[3],n=arguments[4],o=arguments[5],a=arguments[6];void 0===r&&(r=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===a&&(a=0);e=new Date(t,--i,s,r,n,o,a);t<1970&&e.setFullYear(t),V.dateData=V.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+V.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}}return V}}(jqxBaseFramework),Array.prototype.filter||(Array.prototype.filter=function(e){if(null==this)throw new TypeError;var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var s=[],r=arguments[1],n=0;n<i;n++)if(n in t){var o=t[n];e.call(r,o,n,t)&&s.push(o)}return s}),function(s){var e=0;s.jqx.jqxWidget("jqxTouch","",{}),s.extend(s.jqx._jqxTouch.prototype,{defineInstance:function(){this.swipeMin=50,this.swipeMax=500,this.swipeDelay=1e3,this.tapHoldDelay=750,this.swipeMaxVerticalDisance=100,this.swipeMaxHorizontalDisance=100,this.orientationChangeEnabled=!0,this._eventsMap={mousedown:s.jqx.mobile.getTouchEventName("touchstart"),mouseup:s.jqx.mobile.getTouchEventName("touchend"),mousemove:s.jqx.mobile.getTouchEventName("touchmove")},this._swipeLocked=!1,this._rotationInterval=200,this._events=["tap","taphold","swipe","swipeleft","swiperight","swipetop","swipebottom","orientationchange"],this._instanceId=-1},createInstance:function(){e+=1,this._instanceId=e,this._isTouchDevice=s.jqx.mobile.isTouchDevice(),this._defineRotateHandler()},refresh:function(){this._removeEventListeners(),this._addEventListeners()},_defineRotateHandler:function(){var e=this;this._rotateHandler||(this._rotateHandler=function(){e._checkOrientation()})},_getEvent:function(e){return this._isTouchDevice&&(e=this._eventsMap[e]),e+this._getEventNamespace()},_getEventNamespace:function(){return".swipe"+this._instanceId},_removeEventListeners:function(){clearInterval(this._rotateInterval),this.removeHandler(s(document),this._getEvent("mouseup")),this.removeHandler(this.host,this._getEvent("mousedown")),this.removeHandler(this.host,this._getEvent("mousemove")),window.removeEventListener&&(window.removeEventListener("resize",this._rotateHandler),window.removeEventListener("orientationchange",this._rotateHandler))},_addEventListeners:function(){var t=this;this.addHandler(this.host,this._getEvent("mouseup"),function(e){t._resetSwipe(),t._resetTap()}),this.addHandler(this.host,this._getEvent("mousedown"),function(e){t._initSwipe(e),t._initTap(e)}),this.addHandler(this.host,this._getEvent("mousemove"),function(e){return t._maxSwipeVerticalDistance=Math.max(t._maxSwipeVerticalDistance,Math.abs(t._startY-t._getCoordinates(e).y)),t._maxSwipeHorizontalDistance=Math.max(t._maxSwipeHorizontalDistance,Math.abs(t._startX-t._getCoordinates(e).x)),t._mouseMoved=!0,t._handleSwipeEvents(e)}),this._rotationListeners()},_handleSwipeEvents:function(e){var t=!0;return this._mouseDown&&!this._tapHoldFired&&(t=this._handleVerticalSwipeEvents(e),t=this._handleHorizontalSwipeEvents(e)),this._lastPosition=this._getCoordinates(e),t},_handleVerticalSwipeEvents:function(e){var t;return t=this._getCoordinates(e).y-this._startY,!(this._maxSwipeHorizontalDistance<this.swipeMaxHorizontalDisance)||this._swiped(e,t,2)},_handleHorizontalSwipeEvents:function(e){var t;return t=this._getCoordinates(e).x-this._startX,!(this._maxSwipeVerticalDistance<this.swipeMaxVerticalDisance)||this._swiped(e,t)},_swiped:function(e,t,i){return i=i||0,Math.abs(t)>=this.swipeMin&&!this._swipeEvent&&!this._swipeLocked&&(this._swipeEvent=this._getSwipeEvent(t,i)),!(Math.abs(t)<=this.swipeMax)||(e.stopImmediatePropagation(),!1)},_getSwipeEvent:function(e,t){return e<0?{eventId:3+t,data:{target:this.host}}:{eventId:4+t,data:{target:this.host}}},_resetSwipe:function(){this._swipeEvent&&!this._swipeLocked&&(this._raiseEvent(2,this._swipeEvent.data),this._raiseEvent(this._swipeEvent.eventId,this._swipeEvent.data)),clearTimeout(this._swipeTimeout),this._mouseDown=!1},_resetTap:function(){clearTimeout(this._tapHoldTimeout),this._tapHoldFired||this._mouseMoved||this._raiseEvent(0,{target:this.host})},_initTap:function(e){var t=this;this._mouseMoved=!1,this._tapHoldFired=!1,this._tapHoldTimeout=setTimeout(function(){t._mouseMoved||(t._raiseEvent(1,{target:this.host}),t._tapHoldFired=!0)},this.tapHoldDelay)},_initSwipe:function(e){var t=this;this._mouseDown=!0,this._maxSwipeVerticalDistance=0,this._maxSwipeHorizontalDistance=0,this._startX=this._getCoordinates(e).x,this._startY=this._getCoordinates(e).y,this._swipeLocked=!1,this._swipeEvent=null,this._swipeTimeout=setTimeout(function(){t._swipeLocked=!0},this.swipeDelay)},_rotationListeners:function(){var e=this;this._previousOrientation=window.orientation,this._previousWidth=screen.width,this.orientationChangeEnabled&&(window.addEventListener&&(window.addEventListener("resize",this._rotateHandler,!1),window.addEventListener("orientationchange",this._rotateHandler,!1)),this._rotateInterval=setInterval(function(){e._checkOrientation()},this._rotationInterval))},_checkOrientation:function(){var e="vertical";window.orientation===this._previousOrientation&&this._previousWidth===screen.width||((90===window.orientation||screen.width>screen.height)&&(e="horizontal"),this._raiseEvent(7,{orientation:e})),this._previousOrientation=window.orientation,this._previousWidth=screen.width},_raiseEvent:function(e,t){var i=s.Event(this._events[e]);return i.args=t,this.host.trigger(i)},_getCoordinates:function(e){var t=s.jqx.position(e);return t.x=t.left,t.y=t.top,t},propertyChangedHandler:function(e,t,i,s){"orientationChangeEnabled"===t&&this.refresh()},isTouchDevice:function(){return this._isTouchDevice}})}(jqxBaseFramework),function(g){var v=function(){var a,l,o,e,i,p={};function m(e,t,i,s,r,n,o){return this.hierarchy=r,this.exportFormat=n,this.filename=o,e.beginFile(o),function(e){var t=!0;g.each(l,function(){if(this.hidden)return t=!1}),e.beginHeader(t);var i=0;for(var s in l){l[s].columnsDataFields&&(s=l[s].columnsDataFields[i].displayfield);var r=h(s,l[s]);e.appendHeaderCell(l[s],s,r,t,i),i++}e.endHeader(t)}(e),function(i){if(i.beginBody(),this.hierarchy){var s=function(e){for(var t=0;t<e.length;t+=1)void 0!==e[t]&&(i.beginRow(e[t].level),d(i,e[t],t,!0),e[t].records&&(i.beginRows(e[t].level),s(e[t].records),i.endRows(e[t].level)),i.endRow(e[t].level))};return s(a),i.endBody()}for(var e=0;e<a.length;e+=1)void 0!==a[e]&&d(i,a[e],e);i.endBody()}(e),e.endFile(o),e.getFile()}function d(e,t,i,s){var r;1!=s&&e.beginRow();var n=0;for(var o in l){if(l[o].columnsDataFields&&(o=l[o].columnsDataFields[n].displayfield),r=c(i,o)){if(null!=r.level&&r.index-1>t.level&&r.index-1<r.maxLevel){n++;continue}null!=r.maxLevel&&r.index-1==r.maxLevel&&((r=g.extend({},r)).merge=r.maxLevel-t.level-1)}if(null!=t.level&&null!=t.label&&("xml"===this.exportFormat||"json"===this.exportFormat)){var a={text:"group"};e.appendBodyCell(t.label,a,r,t,n,"group");break}t.hasOwnProperty(o)?e.appendBodyCell(t[o],l[o],r,t,n):e.appendBodyCell("",l[o],r,t,n),n++}1!=s&&e.endRow()}function h(e,t){if(t.style)return o[t.style];var i=n();return 0<i.length?i[0].style:null}function n(){return i||(i=new Array,g.each(o,function(e,t){i[i.length]={name:e,style:t}})),i}function c(e,t){var i=l[t];if(i){if(i.customCellStyles){var s=i.customCellStyles[e];if(s)return o[s]}if(i.cellStyle)return i.cellAltStyle?0==e%2?o[i.cellStyle]:o[i.cellAltStyle]:o[i.cellStyle];var r=n();if(0<r.length)return r[e%(r.length-1)+1].style}return null}function u(e,t,i){var s=document.createElement("input");return s.name=t,s.value=e,s.type="hidden",i.appendChild(s),s}function f(e,t,i,s,r){var n,o,a,l,d=document.createElement("form");return u(e,"filename",d),u(t,"format",d),n=i,o="content",a=d,(l=document.createElement("textarea")).name=o,l.value=n,a.appendChild(l),null!=s&&""!=s||(s=window&&0<=window.location.toString().indexOf("jqwidgets.com")?"https://jqwidgets.com/export_server/dataexport.php":"http://jquerygrid.net/export_server/dataexport.php"),d.action=s,d.method="post",r&&(d.acceptCharset=r),document.body.appendChild(d),d}return(e=function(e,t,i,s,r,n){if(!(this instanceof v))return new v(e,t,i,r,n);a=e,l=t,o=i,this.exportTo=function(e,t,i,s){e=e.toString().toLowerCase();var r=p[e];if(void 0===r)throw"You can't export to "+e+" format.";if("pdf"===e&&null==s){var n=this.exportTo(e,t,e,"pdf");g.jqx.pdfExport||(g.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var d=new pdfDataExport(g.jqx.pdfExport.orientation,"pt",g.jqx.pdfExport.paperSize);d.cellInitialize();var h=g(n).find("th"),o=g(n).find("tr"),c=0;d.setFontSize(9.75);var a=595;switch(g.jqx.pdfExport.paperSize){case"legal":a=612;"portrait"!==g.jqx.pdfExport.orientation&&(a=1008);break;case"letter":a=612;"portrait"!==g.jqx.pdfExport.orientation&&(a=792);break;case"a3":a=841;"portrait"!==g.jqx.pdfExport.orientation&&(a=1190);break;case"a4":a=595;"portrait"!==g.jqx.pdfExport.orientation&&(a=842);break;case"a5":a=420;"portrait"!==g.jqx.pdfExport.orientation&&(a=595)}a-=20;var l=0,u=[];if(g.each(h,function(e){var t=parseInt(this.style.width);isNaN(t)&&(t=25);var i=72*t/96;u[e]=i,l+=i}),a<l&&g.each(u,function(e){u[e]=u[e]/l*100,u[e]=u[e]*a/100}),g.each(h,function(e){var t,i=u[e],s=d.getTextDimensions(g(this).html()),r=g(this).html();s.w+3>i&&(r=3<(t=d.splitTextToSize(r,i-3)[0]).length?t.substring(0,t.length-3)+"...":t.substring(0,1)+"...",(t=d.splitTextToSize(r,i-3)[0])!=r&&(r=t));d.cell(10,10,i,18.75,r,c)}),c++,g.each(o,function(e){if(0===e)return!0;var t=g(this).children();if(t.length>h.length){for(var i=t.length-h.length,s="",r=u[0],n=18.75,o=0;o<=i;o++){var a=t[o].innerHTML;"+"!==a&&"-"!==a||(a+=" "),"&nbsp;"===a&&(a="   "),s+=a}if(d.getTextDimensions(s).w+3>r)s=3<(l=d.splitTextToSize(s,r-3)[0]).length?l.substring(0,l.length-3)+"...":l.substring(0,1)+"...",(l=d.splitTextToSize(s,r-3)[0])!=s&&(s=l);d.cell(10,10,r,n,s,c);for(o=i+1;o<t.length;o++){var l;r=u[e=o-i],n=18.75,s=g(t[o]).html();if(d.getTextDimensions(g(t[o]).html()).w+3>r)s=3<(l=d.splitTextToSize(s,r-3)[0]).length?l.substring(0,l.length-3)+"...":l.substring(0,1)+"...",(l=d.splitTextToSize(s,r-3)[0])!=s&&(s=l);d.cell(10,10,r,n,s,c)}return c++,!0}g.each(t,function(e){var t,i=u[e],s=g(this).html();d.getTextDimensions(g(this).html()).w+3>i&&(s=3<(t=d.splitTextToSize(s,i-3)[0]).length?t.substring(0,t.length-3)+"...":t.substring(0,1)+"...",(t=d.splitTextToSize(s,i-3)[0])!=s&&(s=t));d.cell(10,10,i,18.75,s,c)}),c++}),g.jqx.browser.msie&&g.jqx.browser.version<10)throw new Error("PDF export requires a browser with HTML5 support");return d}return m(r,0,0,0,t,i,s)},this.exportToFile=function(e,t,i,s,r){if("pdf"!==e){var n=f(t,e,this.exportTo(e,r,e,t),i,s);n.submit(),document.body.removeChild(n)}else{var o=this.exportTo(e,r,e,t);g.jqx.pdfExport||(g.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var d=new pdfDataExport(g.jqx.pdfExport.orientation,"pt",g.jqx.pdfExport.paperSize);"utf-8"!=s&&"UTF-8"!=s||d.setFont("courier","normal"),d.cellInitialize();var h=g(o).find("th"),a=g(o).find("tr"),c=0;d.setFontSize(9.75);var l=595;switch(g.jqx.pdfExport.paperSize){case"legal":l=612;"portrait"!==g.jqx.pdfExport.orientation&&(l=1008);break;case"letter":l=612;"portrait"!==g.jqx.pdfExport.orientation&&(l=792);break;case"a3":l=841;"portrait"!==g.jqx.pdfExport.orientation&&(l=1190);break;case"a4":l=595;"portrait"!==g.jqx.pdfExport.orientation&&(l=842);break;case"a5":l=420;"portrait"!==g.jqx.pdfExport.orientation&&(l=595)}l-=20;var u=0,p=[];if(g.each(h,function(e){var t=parseInt(this.style.width);isNaN(t)&&(t=25);var i=72*t/96;p[e]=i,u+=i}),l<u&&g.each(p,function(e){p[e]=p[e]/u*100,p[e]=p[e]*l/100}),g.each(h,function(e){var t,i=p[e],s=d.getTextDimensions(g(this).html()),r=g(this).html();s.w+3>i&&(r=3<(t=d.splitTextToSize(r,i-3)[0]).length?t.substring(0,t.length-3)+"...":t.substring(0,1)+"...",(t=d.splitTextToSize(r,i-3)[0])!=r&&(r=t));d.cell(10,10,i,18.75,r,c)}),c++,g.each(a,function(e){if(0===e)return!0;var t=g(this).children();if(t.length>h.length){for(var i=t.length-h.length,s="",r=p[0],n=18.75,o=0;o<=i;o++){var a=t[o].innerHTML;"+"!==a&&"-"!==a||(a+=" "),"&nbsp;"===a&&(a="   "),s+=a}if(d.getTextDimensions(s).w+3>r)s=3<(l=d.splitTextToSize(s,r-3)[0]).length?l.substring(0,l.length-3)+"...":l.substring(0,1)+"...",(l=d.splitTextToSize(s,r-3)[0])!=s&&(s=l);d.cell(10,10,r,n,s,c);for(o=i+1;o<t.length;o++){var l;r=p[e=o-i],n=18.75;if("&nbsp;"===(s=g(t[o]).html())&&(s="   "),d.getTextDimensions(g(t[o]).html()).w+3>r)s=3<(l=d.splitTextToSize(s,r-3)[0]).length?l.substring(0,l.length-3)+"...":l.substring(0,1)+"...",(l=d.splitTextToSize(s,r-3)[0])!=s&&(s=l);d.cell(10,10,r,n,s,c)}return c++,!0}g.each(t,function(e){var t,i=p[e],s=g(this).html();("&nbsp;"===s&&(s="   "),d.getTextDimensions(g(this).html()).w+3>i)&&(s=3<(t=d.splitTextToSize(s,i-3)[0]).length?t.substring(0,t.length-3)+"...":t.substring(0,1)+"...",(t=d.splitTextToSize(s,i-3)[0])!=s&&(s=t));d.cell(10,10,i,18.75,s,c)}),c++}),g.jqx.browser.msie&&g.jqx.browser.version<10)throw new Error("PDF export requires a browser with HTML5 support");d.save(t+".pdf")}},this.exportToLocalFile=function(e,t,i,s){var r=this.exportTo(e,i,s);document.location.href="data:application/octet-stream;filename="+t+","+encodeURIComponent(r)}}).extend=function(e,t){if(!(t instanceof g.jqx.dataAdapter.DataExportModuleBase))throw"The module "+e+" is not instance of DataExportModuleBase.";p[e]=t},e}();g.jqx.dataAdapter.ArrayExporter=v}(jqxBaseFramework),function(o){o.jqx.dataAdapter.DataExportModuleBase=function(){this.formatData=function(e,t,i,s){if("date"===t){var r="";if("string"==typeof e&&(e=r=o.jqx.dataFormat.tryparsedate(e)),""===e||null===e)return"";if("NaN"==(r=o.jqx.dataFormat.formatdate(e,i,s)).toString()||null==r)return"";e=r}else if("number"===t||"float"===t||"int"===t||"integer"==t){if(""===e||null===e)return"";if(!isNaN(new Number(e))){var n=o.jqx.dataFormat.formatnumber(e,i,s);if("NaN"==n.toString())return"";e=n}}else e=e;return null===e?"":e},this.getFormat=function(e){var t,i=e?e.formatString:"",s=e?e.localization:"";return"number"!=(t=e?e.type:"string")&&"float"!=t||i||(i="f2"),"int"!=t&&"integer"!=t||i||(i="n0"),"date"==t&&(i||(i="d")),{type:t,formatString:i,localization:s}},this.beginFile=function(){throw"Not implemented!"},this.beginHeader=function(){throw"Not implemented!"},this.appendHeaderCell=function(){throw"Not implemented!"},this.endHeader=function(){throw"Not implemented!"},this.beginBody=function(){throw"Not implemented!"},this.beginRow=function(){throw"Not implemented!"},this.beginRows=function(){throw"Not implemented!"},this.endRows=function(){throw"Not implemented!"},this.appendBodyCell=function(){throw"Not implemented!"},this.endRow=function(){throw"Not implemented!"},this.endBody=function(){throw"Not implemented!"},this.endFile=function(){throw"Not implemented!"},this.getFile=function(){throw"Not implemented!"}}}(jqxBaseFramework),function(e){var t=function(i){var s,o,e=0,r=this;function a(e,t){e=function(e,t){if(t){var i=r.getFormat(t);e=r.formatData(e,i.type,i.formatString,i.localization)}return e='"'+e+'"'}(e,t),s+=e+i}this.beginFile=function(){s=""},this.beginHeader=function(){},this.appendHeaderCell=function(e,t,i,s,r){if(i&&null!=i.level){if(r<i.maxLevel)return;if(r===i.maxLevel){s&&a(e.text);for(var n=0;n<i.maxLevel;n++)a("");return}}(o=s)&&a(e.text)},this.endHeader=function(){this.endRow()},this.beginBody=function(){e=0},this.beginRow=function(){(0<e||0==e&&o)&&(s+="\n"),e++},this.appendBodyCell=function(e,t,i,s,r){if(i&&null!=i.maxLevel&&r===i.maxLevel){a(e,t);for(var n=0;n<i.maxLevel-s.level-1;n++)a("",t)}else a(e,t)},this.endRow=function(){s=s.substring(0,s.length-1)},this.endBody=function(){},this.endFile=function(){},this.getFile=function(){return s}};t.prototype=new e.jqx.dataAdapter.DataExportModuleBase;var i=function(){};i.prototype=new t(",");var s=function(){};s.prototype=new t("\t"),e.jqx.dataAdapter.ArrayExporter.extend("csv",new i),e.jqx.dataAdapter.ArrayExporter.extend("tsv",new s)}(jqxBaseFramework),function(e){var t=function(){var r,n,o=!1,a=0;function l(e){var t="";for(var i in e)e.hasOwnProperty(i)&&(o&&"font-size"==i&&(e[i]="100%"),t+=i+":"+e[i]+";");return t}this.setPDF=function(){o=!0},this.beginFile=function(e){r=o||null==e?'<table style="empty-cells: show;" cellspacing="0" cellpadding="2">':'<html>\n\t<head>\n\t\t<title></title>\n\t\t<meta http-equiv=Content-type content="text/html; charset=UTF-8">\n\t</head>\n\t<body>\n\t\t<table style="empty-cells: show;" cellspacing="0" cellpadding="2">'},this.beginHeader=function(){r+=o?"\n\t<thead><tr>":"\n\t\t\t<thead>"},this.appendHeaderCell=function(e,t,i,s){if(n=s)if(o)r+='\n\t\t\t\t<th style="'+l(i)+'">'+e.text+"</th>";else{if(i.disabled)return;i.merge?e.width?r+="\n\t\t\t\t<th colspan="+(1+i.merge)+' style="width: '+e.width+"px; "+l(i)+'">'+e.text+"</th>":r+="\n\t\t\t\t<th colspan="+(1+i.merge)+' style="'+l(i)+'">'+e.text+"</th>":e.width?r+='\n\t\t\t\t<th style="width: '+e.width+"px; "+l(i)+'">'+e.text+"</th>":r+='\n\t\t\t\t<th style="'+l(i)+'">'+e.text+"</th>"}},this.endHeader=function(){r+=o?"\n\t</tr></thead>":"\n\t\t\t</thead>"},this.beginBody=function(){r+=o?"\n\t<tbody>":"\n\t\t\t<tbody>",a=0},this.beginRow=function(){r+=o?"\n\t<tr>":"\n\t\t\t\t<tr>",a++},this.appendBodyCell=function(e,t,i){var s=this.getFormat(t);""===e&&(e="&nbsp;"),o?r+=1!=a||n?'\n\t\t\t\t\t<td style="'+l(i)+'">'+this.formatData(e,s.type,s.formatString,s.localization)+"</td>":'\n\t\t\t\t\t<td style="'+l(i)+' border-top-width: 1px;">'+this.formatData(e,s.type,s.formatString,s.localization)+"</td>":i.merge?r+=1!=a||n?"\n\t\t\t\t\t<td colspan="+(1+i.merge)+' style="'+l(i)+'">'+this.formatData(e,s.type,s.formatString,s.localization)+"</td>":"\n\t\t\t\t\t<td colspan="+(1+i.merge)+' style="'+l(i)+' border-top-width: 1px;">'+this.formatData(e,s.type,s.formatString,s.localization)+"</td>":r+=1!=a||n?'\n\t\t\t\t\t<td style="'+l(i)+'">'+this.formatData(e,s.type,s.formatString,s.localization)+"</td>":'\n\t\t\t\t\t<td style="'+l(i)+' border-top-width: 1px;">'+this.formatData(e,s.type,s.formatString,s.localization)+"</td>"},this.endRow=function(){r+=o?"\n\t</tr>":"\n\t\t\t\t</tr>"},this.endBody=function(){r+=o?"\n\t</tbody>":"\n\t\t\t</tbody>"},this.endFile=function(e){r+=o||null==e?"\n</table>":"\n\t\t</table>\n\t</body>\n</html>\n"},this.getFile=function(){return r}};t.prototype=new e.jqx.dataAdapter.DataExportModuleBase;var i=function(){};i.prototype=new t;var s=function(){};s.prototype=new t;var r=new s;e.jqx.dataAdapter.ArrayExporter.extend("html",new i),e.jqx.dataAdapter.ArrayExporter.extend("pdf",r)}(jqxBaseFramework),function(e){var t=function(){var a,l,r,n,d,h,c={style:"",stylesMap:{font:{color:"Color","font-family":"FontName","font-style":"Italic","font-weight":"Bold"},interior:{"background-color":"Color",background:"Color"},alignment:{left:"Left",center:"Center",right:"Right"}},startStyle:function(e){this.style+='\n\t\t<Style ss:ID="'+e+'" ss:Name="'+e+'">'},buildAlignment:function(e){if(e["text-align"]){var t=this.stylesMap.alignment[e["text-align"]];t||(t="Left");var i='\n\t\t\t<Alignment ss:Vertical="Bottom" ss:Horizontal="'+t+'"/>';this.style+=i}},buildBorder:function(e){if(e["border-color"]){var t="\n\t\t\t<Borders>";t+='\n\t\t\t\t<Border ss:Position="Bottom" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+e["border-color"]+'"/>',t+='\n\t\t\t\t<Border ss:Position="Left" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+e["border-color"]+'"/>',t+='\n\t\t\t\t<Border ss:Position="Right" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+e["border-color"]+'"/>',t+='\n\t\t\t\t<Border ss:Position="Top" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+e["border-color"]+'"/>',t+="\n\t\t\t</Borders>",this.style+=t}},buildFont:function(e){var t=this.stylesMap.font,i="\n\t\t\t<Font ";for(var s in t)void 0!==e[s]&&("font-style"===s&&"italic"===e[s].toString().toLowerCase()?i+='ss:Italic="1" ':"font-weight"===s&&"bold"===e[s].toString().toLowerCase()?i+='ss:Bold="1" ':"color"===s&&(i+="ss:"+t[s]+'="'+e[s]+'" '));i+="/>",this.style+=i},buildInterior:function(e){var t=this.stylesMap.interior,i="\n\t\t\t<Interior ",s=!1;for(var r in t)void 0!==e[r]&&(i+="ss:"+t[r]+'="'+e[r]+'" ',s=!0);s&&(i+='ss:Pattern="Solid"'),i+="/>",this.style+=i},buildFormat:function(e){if("number"==e.dataType||"float"==e.dataType||"int"==e.dataType||"integer"==e.dataType){var t=e.formatString;""==t||-1!=t.indexOf("n")||-1!=t.indexOf("N")?this.style+='\n\t\t\t<NumberFormat ss:Format="0"/>':"f"==t||"F"==t||"D"==t||-1!=t.indexOf("d")?this.style+='\n\t\t\t<NumberFormat ss:Format="#,##0.00_);[Red](#,##0.00)"/>':-1!=t.indexOf("p")||-1!=t.indexOf("P")?this.style+='\n\t\t\t<NumberFormat ss:Format="Percent"/>':-1==t.indexOf("c")&&-1==t.indexOf("C")||(8364==parseInt(e.currencysymbol.charCodeAt(0))?this.style+='\n\t\t\t<NumberFormat ss:Format="Euro Currency"/>':this.style+='\n\t\t\t<NumberFormat ss:Format="Currency"/>')}else"date"==e.dataType&&(this.style+='\n\t\t\t<NumberFormat ss:Format="Short Date"/>')},closeStyle:function(){this.style+="\n\t\t</Style>"},toString:function(){var e=this.style;return this.style="",e}};function o(e,t,i,s){var r="String",n=this.getFormat(t);null!=e&&"_AG"==e.toString().substring(0,3)?(e=e.toString().substring(3),r="String"):("date"==n.type&&(null!==(e=this.formatData(e,n.type,n.formatString,n.localization))&&""!==e||(e="",r="String")),"string"==n.type&&(null==e?e="":(0<=e.toString().indexOf("&")&&(e=e.toString().replace(/&/g,"&amp;")),0<=e.toString().indexOf(">")&&(e=e.toString().replace(/>/g,"&gt;")),0<=e.toString().indexOf("<")&&(e=e.toString().replace(/</g,"&lt;")),0<=e.toString().indexOf('"')&&(e=e.toString().replace(/"/g,"&quot;")),0<=e.toString().indexOf("'")&&(e=e.toString().replace(/'/g,"&apos;")))),"number"!=i.dataType&&"float"!=i.dataType&&"int"!=i.dataType&&"integer"!=i.dataType||(r="Number",(null===(e=parseFloat(e))||isNaN(e)||""===e)&&(e="",r="String"),e&&"String"!=r&&""!=e&&t&&t.formatString&&0<=t.formatString.indexOf("p")&&(e/=100),i.currencysymbol=t.localization.currencysymbol));var o=function(e){if(!e)return"";var t=function(e){for(var t in d)if(u(e,d[t])&&u(d[t],e))return t;return}(e);void 0===t&&(t="xls-style-"+(h+=1),d[t]=e,i=t,s=e,c.startStyle(i),c.buildAlignment(s),c.buildBorder(s),c.buildFont(s),c.buildInterior(s),c.buildFormat(s),c.closeStyle(),a+=c.toString());var i,s;return t}(i);i.merge?l+='\n\t\t\t\t<Cell ss:MergeAcross="'+i.merge+'" ss:StyleID="'+o+'"><Data ss:Type="'+r+'">'+e+"</Data></Cell>":l+='\n\t\t\t\t<Cell ss:StyleID="'+o+'"><Data ss:Type="'+r+'">'+e+"</Data></Cell>"}function u(e,t){var i=!0;for(var s in e)e[s]!==t[s]&&(i=!1);return i}this.beginFile=function(){d={},h=0,a='<?xml version="1.0"?>\n\t<?mso-application progid="Excel.Sheet"?> \n\t<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" \n\txmlns:o="urn:schemas-microsoft-com:office:office" \n\txmlns:x="urn:schemas-microsoft-com:office:excel" \n\txmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" \n\txmlns:html="http://www.w3.org/TR/REC-html40"> \n\t<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"> \n\t<Version>12.00</Version> \n\t</DocumentProperties> \n\t<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"> \n\t<WindowHeight>8130</WindowHeight> \n\t<WindowWidth>15135</WindowWidth> \n\t<WindowTopX>120</WindowTopX> \n\t<WindowTopY>45</WindowTopY> \n\t<ProtectStructure>False</ProtectStructure> \n\t<ProtectWindows>False</ProtectWindows> \n\t</ExcelWorkbook> \n\t<Styles>'},this.beginHeader=function(){l='\n\t<Worksheet ss:Name="Sheet1">\n\t\t<Table>',r=[],n=[]},this.appendHeaderCell=function(e,t,i){var s=null!=e.width?e.width:10*e.text.length;l+='\n\t\t\t<Column ss:Width="'+s+'"/>',r.push(e),n.push(i)},this.endHeader=function(e){if(e){this.beginRow();for(var t=0;t<r.length;t+=1)n[t].disabled||o.call(this,r[t].text,null,n[t]);this.endRow()}},this.beginBody=function(){},this.beginRow=function(e){if(null==e)l+="\n\t\t\t<Row>";else{l+="\n\t\t\t";for(var t=0;t<e;t++)l+="\t";l+="<Row>"}},this.beginRows=function(e){l+="\n\t\t\t\t<Rows>"},this.appendBodyCell=function(e,t,i,s){o.call(this,e,t,i,s)},this.endRow=function(e){if(null==e)l+="\n\t\t\t</Row>";else{l+="\n\t\t\t";for(var t=0;t<e;t++)l+="\t";l+="</Row>"}},this.endRows=function(e){if(null==e);else{l+="\n\t\t\t";for(var t=0;t<e;t++)l+="\t";l+="</Rows>"}},this.endBody=function(){l+="\n\t\t</Table>"},this.endFile=function(){l+="\n\t</Worksheet>\n</Workbook>",a+="\n\t</Styles>"},this.getFile=function(){return a+l}};t.prototype=new e.jqx.dataAdapter.DataExportModuleBase,e.jqx.dataAdapter.ArrayExporter.extend("xls",new t)}(jqxBaseFramework),function(e){var t=function(){var l,d,h;this.beginFile=function(){l='<?xml version="1.0" encoding="UTF-8" ?>',l+="\n<table>"},this.beginHeader=function(){d=[]},this.appendHeaderCell=function(e,t){d.push(t)},this.endHeader=function(){},this.beginBody=function(e,t){},this.beginRow=function(e){if(null!=e&&this.hierarchy){l+="\n\t";for(var t=0;t<e;t++)l+="\t\t";return l+="<row>",void(h=0)}l+="\n\t<row>",h=0},this.beginRows=function(e){if(null!=e){l+="\n\t\t";for(var t=0;t<e;t++)l+="\t\t";return l+="<rows>",void(h=0)}l+="\n\t\t<rows>"},this.appendBodyCell=function(e,t,i,s,r,n){var o=this.getFormat(t);if(e=this.formatData(e,o.type,o.formatString,o.localization),"string"==o.type&&(0<=e.toString().indexOf("&")&&(e=e.toString().replace(/&/g,"&amp;")),0<=e.toString().indexOf(">")&&(e=e.toString().replace(/>/g,"&gt;")),0<=e.toString().indexOf("<")&&(e=e.toString().replace(/</g,"&lt;")),0<=e.toString().indexOf('"')&&(e=e.toString().replace(/"/g,"&quot;")),0<=e.toString().indexOf("'")&&(e=e.toString().replace(/'/g,"&apos;"))),null!=s.level)if(this.hierarchy){l+="\n\t\t";for(var a=0;a<s.level;a++)l+="\t\t";l+=void 0===n?"<"+d[h]+">"+e+"</"+d[h]+">":"<"+n+">"+e+"</"+n+">"}else l+=null!=n?"\n\t\t<"+n+">"+e+"</"+n+">":"\n\t\t<"+d[h]+">"+e+"</"+d[h]+">";else l+="\n\t\t<"+d[h]+">"+e+"</"+d[h]+">";h++},this.endRow=function(e){if(null!=e&&this.hierarchy){l+="\n\t";for(var t=0;t<e;t++)l+="\t\t";return l+="</row>",void(h=0)}l+="\n\t</row>",h=0},this.endRows=function(e){if(null!=e){l+="\n\t\t";for(var t=0;t<e;t++)l+="\t\t";return l+="</rows>",void(h=0)}l+="\n\t\t</rows>"},this.endBody=function(){},this.endFile=function(){l+="\n</table>"},this.getFile=function(){return l}};t.prototype=new e.jqx.dataAdapter.DataExportModuleBase,e.jqx.dataAdapter.ArrayExporter.extend("xml",new t)}(jqxBaseFramework),function(e){var t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function r(e){return'"'+e.replace(t,function(e){var t=i[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'}function s(e){return e<10?"0"+e:e}function n(e){switch(Object.prototype.toString.call(e)){case"[object Date]":return t=e,isFinite(t.valueOf())?t.getUTCFullYear()+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+'Z"':"null";case"[object Array]":return function(e){var t,i=e.length,s=[];for(t=0;t<i;t++)s.push(a(t,e)||"null");return"["+s.join(",")+"]"}(e)}var t;return function(e){var t,i,s=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i=a(t,e))&&s.push(r(t)+":"+i);return"{"+s.join(",")+"}"}(e)}function a(e,t){var i=t[e],s=typeof i;return i&&"object"==typeof i&&"function"==typeof i.toJSON&&(s=typeof(i=i.toJSON(e))),/(number|float|int|integer|string|boolean)/.test(s)||!i&&"object"===s?function(e,t){switch(t){case"string":return r(e);case"number":case"float":case"integer":case"int":return isFinite(e)?e:"null";case"boolean":return e}return"null"}(i,s):n(i)}var o=function(){var s=this;this.prepareData=function(e,t){if(t){var i=s.getFormat(t);e=s.formatData(e,i.type,i.formatString,i.localization)}return e};var t,i,r,n=[],o=0;this.beginFile=function(){i=[]},this.beginHeader=function(){},this.appendHeaderCell=function(e){},this.endHeader=function(){},this.beginBody=function(e,t){},this.beginRow=function(){hierarchy?n[o]={}:r={}},this.beginRows=function(){n[o].rows=[],n[++o]={}},this.endRows=function(){o--},this.appendBodyCell=function(e,t){var i=this.prepareData(e,t);hierarchy?n[o][t.text]=i:r[t.text]=i},this.endRow=function(){hierarchy?0==o?i.push(n[o]):n[o-1].rows.push(n[o]):i.push(r)},this.endBody=function(){},this.endFile=function(){var e;e=i,t=window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(e):a("",{"":e})},this.getFile=function(){return t}};o.prototype=new e.jqx.dataAdapter.DataExportModuleBase,e.jqx.dataAdapter.ArrayExporter.extend("json",new o)}(jqxBaseFramework);var pdfDataExport=window.jqxPdfDataExport=function(){"undefined"==typeof btoa&&(window.btoa=function(e){for(var t,i,s,r,n,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),l=0,d=0,h="",c=[];t=(n=e.charCodeAt(l++)<<16|e.charCodeAt(l++)<<8|e.charCodeAt(l++))>>18&63,i=n>>12&63,s=n>>6&63,r=63&n,c[d++]=a[t]+a[i]+a[s]+a[r],l<e.length;);return h=c.join(""),((o=e.length%3)?h.slice(0,o-3):h)+"===".slice(o||3)}),"undefined"==typeof atob&&(window.atob=function(e){var t,i,s,r,n,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=0,d=0,h=[];if(!e)return e;for(e+="";t=(o=a.indexOf(e.charAt(l++))<<18|a.indexOf(e.charAt(l++))<<12|(r=a.indexOf(e.charAt(l++)))<<6|(n=a.indexOf(e.charAt(l++))))>>16&255,i=o>>8&255,s=255&o,h[d++]=64===r?String.fromCharCode(t):64===n?String.fromCharCode(t,i):String.fromCharCode(t,i,s),l<e.length;);return h.join("")});var X="function"==typeof Object.keys?function(e){return Object.keys(e).length}:function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i},$=function(e){this.topics={},this.context=e,this.publish=function(e,t){if(this.topics[e]){var i,s,r,n,o=this.topics[e],a=[],l=function(){};for(t=Array.prototype.slice.call(arguments,1),s=0,r=o.length;s<r;s++)i=(n=o[s])[0],n[1]&&(n[0]=l,a.push(s)),i.apply(this.context,t);for(s=0,r=a.length;s<r;s++)o.splice(a[s],1)}},this.subscribe=function(e,t,i){return this.topics[e]?this.topics[e].push([t,i]):this.topics[e]=[[t,i]],{topic:e,callback:t}},this.unsubscribe=function(e){if(this.topics[e.topic]){var t,i,s=this.topics[e.topic];for(t=0,i=s.length;t<i;t++)s[t][0]===e.callback&&s.splice(t,1)}}};function Z(e,t,i,s){e=void 0===e?"p":e.toString().toLowerCase(),void 0===t&&(t="mm"),void 0===i&&(i="a4"),void 0===s&&"undefined"==typeof zpipe&&(s=!1);var c,x,o,w,r,n,a,l,d,h=i.toString().toLowerCase(),u=[],p=0,m=s,f={a3:[841.89,1190.55],a4:[595.28,841.89],a5:[420.94,595.28],letter:[612,792],legal:[612,1008]},g="0 g",v=0,y=[],b=2,_=!1,j=[],q={},T={},C=16,S={title:"",subject:"",author:"",keywords:"",creator:""},k=0,I=0,D={},P=new $(D),A=function(e){return e.toFixed(2)},M=function(e){return e.toFixed(3)},B=function(e){var t=e.toFixed(0);return e<10?"0"+t:t},H=function(e){_?y[v].push(e):(u.push(e),p+=e.length+1)},z=function(){return j[++b]=p,H(b+" 0 obj"),b},E=function(e){H("stream"),H(e),H("endstream")},O=function(){var e;for(e in H("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),H("/Font <<"),q)q.hasOwnProperty(e)&&H("/"+e+" "+q[e].objectNumber+" 0 R");H(">>"),H("/XObject <<"),P.publish("putXobjectDict"),H(">>")},N=function(){!function(){var e,t;for(e in q)q.hasOwnProperty(e)&&((t=q[e]).objectNumber=z(),H("<</BaseFont/"+t.PostScriptName+"/Type/Font"),"string"==typeof t.encoding&&H("/Encoding/"+t.encoding),H("/Subtype/Type1>>"),H("endobj"))}(),P.publish("putResources"),j[2]=p,H("2 0 obj"),H("<<"),O(),H(">>"),H("endobj"),P.publish("postPutResources")},L=function(e,t,i){void 0===T[t]&&(T[t]={}),T[t][i]=e},R=function(e,t){return function(e,t){var i,s,r,n,o,a,l,d,h;if(void 0===t&&(t={}),r=t.sourceEncoding?r:"Unicode",o=t.outputEncoding,(t.autoencode||o)&&q[c].metadata&&q[c].metadata[r]&&q[c].metadata[r].encoding&&(n=q[c].metadata[r].encoding,!o&&q[c].encoding&&(o=q[c].encoding),!o&&n.codePages&&(o=n.codePages[0]),"string"==typeof o&&(o=n[o]),o)){for(l=!1,a=[],i=0,s=e.length;i<s;i++)(d=o[e.charCodeAt(i)])?a.push(String.fromCharCode(d)):a.push(e[i]),a[i].charCodeAt(0)>>8&&(l=!0);e=a.join("")}for(i=e.length;void 0===l&&0!==i;)e.charCodeAt(i-1)>>8&&(l=!0),i--;if(l){for(a=t.noBOM?[]:[254,255],i=0,s=e.length;i<s;i++){if((h=(d=e.charCodeAt(i))>>8)>>8)throw new Error("Character at position "+i.toString(10)+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");a.push(h),a.push(d-(h<<8))}return String.fromCharCode.apply(void 0,a)}return e}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},F=function(){_=!0,y[++v]=[],H(A(.200025*w)+" w"),H("0 G"),0!==k&&H(k.toString(10)+" J"),0!==I&&H(I.toString(10)+" j"),P.publish("addPage",{pageNumber:v})},W=function(e,t){var i;void 0===e&&(e=q[c].fontName),void 0===t&&(t=q[c].fontStyle);try{i=T[e][t]}catch(e){i=void 0}if(!i)throw new Error("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts.");return i},V=function(){_=!1,u=[],j=[],H("%PDF-1.3"),function(){var e,t,i,s,r,n;for(a=o*w,l=x*w,e=1;e<=v;e++){if(z(),H("<</Type /Page"),H("/Parent 1 0 R"),H("/Resources 2 0 R"),H("/Contents "+(b+1)+" 0 R>>"),H("endobj"),t=y[e].join("\n"),z(),m){for(i=[],s=0;s<t.length;++s)i[s]=t.charCodeAt(s);for(s in n=adler32cs.from(t),(r=new Deflater(6)).append(new Uint8Array(i)),t=r.flush(),i=[new Uint8Array([120,156]),new Uint8Array(t),new Uint8Array([255&n,n>>8&255,n>>16&255,n>>24&255])],t="",i)i.hasOwnProperty(s)&&(t+=String.fromCharCode.apply(null,i[s]));H("<</Length "+t.length+" /Filter [/FlateDecode]>>")}else H("<</Length "+t.length+">>");E(t),H("endobj")}for(j[1]=p,H("1 0 obj"),H("<</Type /Pages"),d="/Kids [",s=0;s<v;s++)d+=3+2*s+" 0 R ";H(d+"]"),H("/Count "+v),H("/MediaBox [0 0 "+A(a)+" "+A(l)+"]"),H(">>"),H("endobj")}(),N(),z(),H("<<"),function(){H("/Producer (pdfDataExport 0.9.0rc2)"),S.title&&H("/Title ("+R(S.title)+")"),S.subject&&H("/Subject ("+R(S.subject)+")"),S.author&&H("/Author ("+R(S.author)+")"),S.keywords&&H("/Keywords ("+R(S.keywords)+")"),S.creator&&H("/Creator ("+R(S.creator)+")");var e=new Date;H("/CreationDate (D:"+[e.getFullYear(),B(e.getMonth()+1),B(e.getDate()),B(e.getHours()),B(e.getMinutes()),B(e.getSeconds())].join("")+")")}(),H(">>"),H("endobj"),z(),H("<<"),H("/Type /Catalog"),H("/Pages 1 0 R"),H("/OpenAction [3 0 R /FitH null]"),H("/PageLayout /OneColumn"),P.publish("putCatalog"),H(">>"),H("endobj");var e,t,i,s=p;for(H("xref"),H("0 "+(b+1)),H("0000000000 65535 f "),e=1;e<=b;e++)H((t=j[e],void 0,((i=t.toFixed(0)).length<10?new Array(11-i.length).join("0")+i:i)+" 00000 n "));return H("trailer"),H("<<"),H("/Size "+(b+1)),H("/Root "+b+" 0 R"),H("/Info "+(b-1)+" 0 R"),H(">>"),H("startxref"),H(s),H("%%EOF"),_=!0,u.join("\n")},G=function(e){var t="S";return"F"===e?t="f":"FD"!==e&&"DF"!==e||(t="B"),t},U=function(e,t){var i,s,r,n,o;switch(e){case void 0:return V();case"save":if(navigator.getUserMedia){if(void 0===window.URL)return D.output("dataurlnewwindow");if(void 0===window.URL.createObjectURL)return D.output("dataurlnewwindow")}for(s=(i=V()).length,r=new Uint8Array(new ArrayBuffer(s)),n=0;n<s;n++)r[n]=i.charCodeAt(n);o=new Blob([r],{type:"application/pdf"}),saveAs(o,t);break;case"datauristring":case"dataurlstring":return"data:application/pdf;base64,"+btoa(V());case"datauri":case"dataurl":document.location.href="data:application/pdf;base64,"+btoa(V());break;case"dataurlnewwindow":window.open("data:application/pdf;base64,"+btoa(V()));break;default:throw new Error('Output type "'+e+'" is not supported.')}};if("pt"===t)w=1;else if("mm"===t)w=72/25.4;else if("cm"===t)w=72/2.54;else{if("in"!==t)throw"Invalid unit: "+t;w=72}if(f.hasOwnProperty(h))x=f[h][1]/w,o=f[h][0]/w;else try{x=i[1],o=i[0]}catch(e){throw"Invalid format: "+i}if("p"===e||"portrait"===e)e="p",x<o&&(r=o,o=x,x=r);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",o<x&&(r=o,o=x,x=r)}D.internal={pdfEscape:R,getStyle:G,getFont:function(){return q[W.apply(D,arguments)]},getFontSize:function(){return C},btoa:btoa,write:function(e,t,i,s){H(1===arguments.length?e:Array.prototype.join.call(arguments," "))},getCoordinateString:function(e){return A(e*w)},getVerticalCoordinateString:function(e){return A((x-e)*w)},collections:{},newObject:z,putStream:E,events:P,scaleFactor:w,pageSize:{width:o,height:x},output:function(e,t){return U(e,t)}},D.addPage=function(){return F(),this};var Y=["","0","00","000","0000"],K=function(e,t){for(var i,s=["FEFF"],r=0,n=e.length;r<n;++r)i=e.charCodeAt(r).toString(16).toUpperCase(),s.push(Y[4-i.length],i);return s.join("")};for(n in D.text16=function(e,t,i,s){var r,n,o,a,l;if("number"==typeof e&&(r=e,n=t,e=i,t=r,i=n),"string"==typeof e&&e.match(/[\n\r]/)&&(e=e.split(/\r\n|\r|\n/g)),void 0===s?s={noBOM:!0,autoencode:!0}:(void 0===s.noBOM&&(s.noBOM=!0),void 0===s.autoencode&&(s.autoencode=!0)),s.autoencode=!1,"string"==typeof e)a=K(e);else{if(!(e instanceof Array))throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');for(l=(o=e.concat()).length-1;-1!==l;l--)o[l]=K(o[l]);a=o.join("> Tj\nT* <")}return H("BT\n/"+c+" "+C+" Tf\n"+C+" TL\n"+g+"\n"+A(t*w)+" "+A((x-i)*w)+" Td\n<"+a+"> Tj\nET"),this},D.text=function(e,t,i,s){var r,n,o,a,l;if("number"==typeof e&&(r=e,n=t,e=i,t=r,i=n),"string"==typeof e&&e.match(/[\n\r]/)&&(e=e.split(/\r\n|\r|\n/g)),void 0===s?s={noBOM:!0,autoencode:!0}:(void 0===s.noBOM&&(s.noBOM=!0),void 0===s.autoencode&&(s.autoencode=!0)),"string"==typeof e)a=R(e,s);else{if(!(e instanceof Array))throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');for(l=(o=e.concat()).length-1;-1!==l;l--)o[l]=R(o[l],s);a=o.join(") Tj\nT* (")}return H("BT\n/"+c+" "+C+" Tf\n"+C+" TL\n"+g+"\n"+A(t*w)+" "+A((x-i)*w)+" Td\n("+a+") Tj\nET"),this},D.line=function(e,t,i,s){return H(A(e*w)+" "+A((x-t)*w)+" m "+A(i*w)+" "+A((x-s)*w)+" l S"),this},D.lines=function(e,t,i,s,r){var n,o,a,l,d,h,c,u,p,m,f,g,v;for("number"==typeof e&&(n=e,o=t,e=i,t=n,i=o),r=G(r),s=void 0===s?[1,1]:s,H(M(t*w)+" "+M((x-i)*w)+" m "),a=s[0],l=s[1],h=e.length,g=t,v=i,d=0;d<h;d++)2===(c=e[d]).length?(g=c[0]*a+g,v=c[1]*l+v,H(M(g*w)+" "+M((x-v)*w)+" l")):(u=c[0]*a+g,p=c[1]*l+v,m=c[2]*a+g,f=c[3]*l+v,g=c[4]*a+g,v=c[5]*l+v,H(M(u*w)+" "+M((x-p)*w)+" "+M(m*w)+" "+M((x-f)*w)+" "+M(g*w)+" "+M((x-v)*w)+" c"));return H(r),this},D.rect=function(e,t,i,s,r){var n=G(r);return H([A(e*w),A((x-t)*w),A(i*w),A(-s*w),"re",n].join(" ")),this},D.triangle=function(e,t,i,s,r,n,o){return this.lines([[i-e,s-t],[r-i,n-s],[e-r,t-n]],e,t,[1,1],o),this},D.roundedRect=function(e,t,i,s,r,n,o){var a=4/3*(Math.SQRT2-1);return this.lines([[i-2*r,0],[r*a,0,r,n-n*a,r,n],[0,s-2*n],[0,n*a,-r*a,n,-r,n],[2*r-i,0],[-r*a,0,-r,-n*a,-r,-n],[0,2*n-s],[0,-n*a,r*a,-n,r,-n]],e+r,t,[1,1],o),this},D.ellipse=function(e,t,i,s,r){var n=G(r),o=4/3*(Math.SQRT2-1)*i,a=4/3*(Math.SQRT2-1)*s;return H([A((e+i)*w),A((x-t)*w),"m",A((e+i)*w),A((x-(t-a))*w),A((e+o)*w),A((x-(t-s))*w),A(e*w),A((x-(t-s))*w),"c"].join(" ")),H([A((e-o)*w),A((x-(t-s))*w),A((e-i)*w),A((x-(t-a))*w),A((e-i)*w),A((x-t)*w),"c"].join(" ")),H([A((e-i)*w),A((x-(t+a))*w),A((e-o)*w),A((x-(t+s))*w),A(e*w),A((x-(t+s))*w),"c"].join(" ")),H([A((e+o)*w),A((x-(t+s))*w),A((e+i)*w),A((x-(t+a))*w),A((e+i)*w),A((x-t)*w),"c",n].join(" ")),this},D.circle=function(e,t,i,s){return this.ellipse(e,t,i,i,s)},D.setProperties=function(e){var t;for(t in S)S.hasOwnProperty(t)&&e[t]&&(S[t]=e[t]);return this},D.setFontSize=function(e){return C=e,this},D.setFont=function(e,t){return c=W(e,t),this},D.setFontStyle=D.setFontType=function(e){return c=W(void 0,e),this},D.getFontList=function(){var e,t,i,s={};for(e in T)if(T.hasOwnProperty(e))for(t in s[e]=i=[],T[e])T[e].hasOwnProperty(t)&&i.push(t);return s},D.setLineWidth=function(e){return H((e*w).toFixed(2)+" w"),this},D.setDrawColor=function(e,t,i,s){var r;return r=void 0===t||void 0===s&&e===t===i?"string"==typeof e?e+" G":A(e/255)+" G":void 0===s?"string"==typeof e?[e,t,i,"RG"].join(" "):[A(e/255),A(t/255),A(i/255),"RG"].join(" "):"string"==typeof e?[e,t,i,s,"K"].join(" "):[A(e),A(t),A(i),A(s),"K"].join(" "),H(r),this},D.setFillColor=function(e,t,i,s){var r;return r=void 0===t||void 0===s&&e===t===i?"string"==typeof e?e+" g":A(e/255)+" g":void 0===s?"string"==typeof e?[e,t,i,"rg"].join(" "):[A(e/255),A(t/255),A(i/255),"rg"].join(" "):"string"==typeof e?[e,t,i,s,"k"].join(" "):[A(e),A(t),A(i),A(s),"k"].join(" "),H(r),this},D.setTextColor=function(e,t,i){return g=0===e&&0===t&&0===i||void 0===t?M(e/255)+" g":[M(e/255),M(t/255),M(i/255),"rg"].join(" "),this},D.CapJoinStyles={0:0,butt:0,but:0,bevel:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,milter:2},D.setLineCap=function(e){var t=this.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return H((k=t).toString(10)+" J"),this},D.setLineJoin=function(e){var t=this.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return H((I=t).toString(10)+" j"),this},D.output=U,D.save=function(e){D.output("save",e)},Z.API)Z.API.hasOwnProperty(n)&&("events"===n&&Z.API.events.length?function(e,t){var i,s,r;for(r=t.length-1;-1!==r;r--)i=t[r][0],s=t[r][1],e.subscribe.apply(e,[i].concat("function"==typeof s?[s]:s))}(P,Z.API.events):D[n]=Z.API[n]);return function(){var e,t,i,s,r,n,o,a,l,d,h="helvetica",c="times",u="courier",p="normal",m="italic",f="bolditalic",g=[["Helvetica",h,p],["Helvetica-Bold",h,"bold"],["Helvetica-Oblique",h,m],["Helvetica-BoldOblique",h,f],["Courier",u,p],["Courier-Bold",u,"bold"],["Courier-Oblique",u,m],["Courier-BoldOblique",u,f],["Times-Roman",c,p],["Times-Bold",c,"bold"],["Times-Italic",c,m],["Times-BoldItalic",c,f]];for(e=0,t=g.length;e<t;e++)r=g[e][0],n=g[e][1],o=g[e][2],a="StandardEncoding",l="F"+(X(q)+1).toString(10),d=q[l]={id:l,PostScriptName:r,fontName:n,fontStyle:o,encoding:a,metadata:{}},L(l,n,o),P.publish("addFont",d),i=l,s=g[e][0].split("-"),L(i,s[0],s[1]||"");P.publish("addFonts",{fonts:q,dictionary:T})}(),c="F1",F(),P.publish("initialized"),D}return Z.API={events:[]},Z}();!function(x){var r,n,o,d=0,t=0,a={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},h=1,c=!1,u=function(e,t,i,s,r){a={x:e,y:t,w:i,h:s,ln:r}},p=function(){return a},m=function(){return d},f=function(e){t=e},g=function(e){return t};x.getTextDimensions=function(e){r=this.internal.getFont().fontName,n=this.internal.getFontSize(),o=this.internal.getFont().fontStyle;var t,i,s=19.049976/25.4;return(i=document.createElement("font")).id="pdfDataExportCell",i.style.fontStyle=o,i.style.fontName=r,i.style.fontSize=n+"pt",i.innerHTML=e,document.body.appendChild(i),t={w:(i.offsetWidth+1)*s,h:(i.offsetHeight+1)*s},document.body.removeChild(i),t},x.cellAddPage=function(){this.addPage(),u(void 0,void 0,void 0,void 0,void 0),c=!0,h+=1,f(1)},x.cellInitialize=function(){a={x:void(d=0),y:void 0,w:void 0,h:void 0,ln:void 0},c=!(h=1),f(0)},x.cell=function(e,t,i,s,r,n){var o;this.lnMod=void 0===this.lnMod?0:this.lnMod,!0!==this.printingHeaderRow&&0!==this.lnMod&&(n+=this.lnMod),(n*s+t+2*s)/h>=this.internal.pageSize.height&&1===h&&!c?(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&(this.printHeaderRow(n),this.lnMod+=1,n+=1),0===m()&&(o=Math.round((this.internal.pageSize.height-2*s)/s),d=o)):c&&p().ln!==n&&g()===m()&&(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&(this.printHeaderRow(n),this.lnMod+=1,n+=1));var a=p(),l=(this.getTextDimensions(r),1);return void 0!==a.x&&a.ln===n&&(e=a.x+a.w),void 0!==a.y&&a.y===t&&(t=a.y),void 0!==a.h&&a.h===s&&(s=a.h),void 0!==a.ln&&a.ln===n&&(n=a.ln,l=0),c?t=s*(g()+l):t+=s*Math.abs(m()*h-n-m()),this.rect(e,t,i,s),/[ÃÂ°-ÃÂÃÂ-ÃÂ¯ÃÂÃâ]/.test(r)?this.text16(r,e+3,t+s-3):this.text(r,e+3,t+s-3),f(g()+l),u(e,t,i,s,n),this},x.getKeys="function"==typeof Object.keys?function(e){return e?Object.keys(e):[]}:function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(t);return i},x.arrayMax=function(e,t){var i,s,r,n=e[0];for(i=0,s=e.length;i<s;i+=1)r=e[i],t?-1===t(n,r)&&(n=r):n<r&&(n=r);return n},x.table=function(e,t,i){var s,r,n,o,a,l,d,h,c,u=[],p=[],m={},f={},g=[],v=[];if(this.lnMod=0,i&&(i.autoSize||!1,this.printHeaders=i.printHeaders||!0,i.autoStretch||!0),!e)throw"No data for PDF table";if(null==t)u=this.getKeys(e[0]);else if(t[0]&&"string"!=typeof t[0])for(r=0,n=t.length;r<n;r+=1)s=t[r],u.push(s.name),p.push(s.prompt);else u=t;if(i.autoSize)for(c=function(e){return e[s]},r=0,n=u.length;r<n;r+=1){for(m[s=u[r]]=e.map(c),g.push(this.getTextDimensions(p[r]||s).w),l=0,n=(a=m[s]).length;l<n;l+=1)o=a[l],g.push(this.getTextDimensions(o).w);f[s]=x.arrayMax(g)}if(i.printHeaders){for(r=0,n=u.length;r<n;r+=1)s=u[r],v.push([10,10,f[s],25,String(p.length?p[r]:s)]);this.setTableHeaderRow(v),this.printHeaderRow(1)}for(r=0,n=e.length;r<n;r+=1)for(d=e[r],l=0,h=u.length;l<h;l+=1)s=u[l],this.cell(10,10,f[s],25,String(d[s]),r+2);return this},x.setTableHeaderRow=function(e){this.tableHeaderRow=e},x.printHeaderRow=function(e){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var t,i,s,r;for(this.printingHeaderRow=!0,s=0,r=this.tableHeaderRow.length;s<r;s+=1)t=this.tableHeaderRow[s],i=[].concat(t),this.cell.apply(this,i.concat(e));this.printingHeaderRow=!1}}(pdfDataExport.API),function(e){var g=e.getCharWidthsArray=function(e,t){t||(t={});var i,s,r,n=t.widths?t.widths:this.internal.getFont().metadata.Unicode.widths,o=n.fof?n.fof:1,a=t.kerning?t.kerning:this.internal.getFont().metadata.Unicode.kerning,l=a.fof?a.fof:1,d=0,h=n[0]||o,c=[];for(i=0,s=e.length;i<s;i++)r=e.charCodeAt(i),c.push((n[r]||h)/o+(a[r]&&a[r][d]||0)/l),d=r;return c},v=function(e){for(var t=e.length,i=0;t;)i+=e[--t];return i},x=(e.getStringUnitWidth=function(e,t){return v(g.call(this,e,t))},function(e,t,i,s){for(var r=[],n=0,o=e.length,a=0;n!==o&&a+t[n]<i;)a+=t[n],n++;r.push(e.slice(0,n));var l=n;for(a=0;n!==o;)a+t[n]>s&&(r.push(e.slice(l,n)),a=0,l=n),a+=t[n],n++;return l!==n&&r.push(e.slice(l,n)),r}),h=function(e,t,i){i||(i={});var s,r,n,o,a,l=g(" ",i)[0],d=e.split(" "),h=[],c=[h],u=i.textIndent||0,p=0,m=0;for(n=0,o=d.length;n<o;n++)if(s=d[n],r=g(s,i),t<u+p+(m=v(r))){if(t<m){for(a=x(s,r,t-(u+p),t),h.push(a.shift()),h=[a.pop()];a.length;)c.push([a.shift()]);m=v(r.slice(s.length-h[0].length))}else h=[s];c.push(h),u=m,p=l}else h.push(s),u+=p+m,p=l;var f=[];for(n=0,o=c.length;n<o;n++)f.push(c[n].join(" "));return f};e.splitTextToSize=function(e,t,i){i||(i={});var s,r=i.fontSize||this.internal.getFontSize(),n=function(e){var t={0:1},i={};if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var s=this.internal.getFont(e.fontName,e.fontStyle),r="Unicode";return s.metadata[r]?{widths:s.metadata[r].widths||t,kerning:s.metadata[r].kerning||i}:{widths:t,kerning:i}}.call(this,i);s=e.match(/[\n\r]/)?e.split(/\r\n|\r|\n/g):[e];var o=1*this.internal.scaleFactor*t/r;n.textIndent=i.textIndent?1*i.textIndent*this.internal.scaleFactor/r:0;var a,l,d=[];for(a=0,l=s.length;a<l;a++)d=d.concat(h(s[a],o,n));return d}}(pdfDataExport.API),function(e){var m="addImage_",i=function(e){var t=this.internal.newObject(),i=this.internal.write,s=this.internal.putStream;if(e.n=t,i("<</Type /XObject"),i("/Subtype /Image"),i("/Width "+e.w),i("/Height "+e.h),"Indexed"===e.cs?i("/ColorSpace [/Indexed /DeviceRGB "+(e.pal.length/3-1)+" "+(t+1)+" 0 R]"):(i("/ColorSpace /"+e.cs),"DeviceCMYK"===e.cs&&i("/Decode [1 0 1 0 1 0 1 0]")),i("/BitsPerComponent "+e.bpc),"f"in e&&i("/Filter /"+e.f),"dp"in e&&i("/DecodeParms <<"+e.dp+">>"),"trns"in e&&e.trns.constructor==Array)for(var r="",n=0;n<e.trns.length;n++)i("/Mask ["+(r+=e[r][n]+" "+e.trns[n]+" ")+"]");"smask"in e&&i("/SMask "+(t+1)+" 0 R"),i("/Length "+e.data.length+">>"),s(e.data),i("endobj")},f=function(){var e=this.internal.collections[m+"images"];for(var t in e)i.call(this,e[t])},g=function(){var e,t=this.internal.collections[m+"images"],i=this.internal.write;for(var s in t)i("/I"+(e=t[s]).i,e.n,"0","R")};e.addImage=function(e,t,i,s,r,n){if("object"==typeof e&&1===e.nodeType){var o=document.createElement("canvas");o.width=e.clientWidth,o.height=e.clientHeight;var a=o.getContext("2d");if(!a)throw"addImage requires canvas to be supported by browser.";a.drawImage(e,0,0,o.width,o.height),e=o.toDataURL("image/jpeg"),t="JPEG"}if("JPEG"!==t.toUpperCase())throw new Error("addImage currently only supports format 'JPEG', not '"+t+"'");var l,d=this.internal.collections[m+"images"],h=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;"data:image/jpeg;base64,"===e.substring(0,23)&&(e=atob(e.replace("data:image/jpeg;base64,",""))),d?l=Object.keys?Object.keys(d).length:function(e){var t=0;for(var i in e)e.hasOwnProperty(i)&&t++;return t}(d):(l=0,this.internal.collections[m+"images"]=d={},this.internal.events.subscribe("putResources",f),this.internal.events.subscribe("putXobjectDict",g));var u=function(e){var t;if(255===!e.charCodeAt(0)||216===!e.charCodeAt(1)||255===!e.charCodeAt(2)||224===!e.charCodeAt(3)||!e.charCodeAt(6)==="J".charCodeAt(0)||!e.charCodeAt(7)==="F".charCodeAt(0)||!e.charCodeAt(8)==="I".charCodeAt(0)||!e.charCodeAt(9)==="F".charCodeAt(0)||0===!e.charCodeAt(10))throw new Error("getJpegSize requires a binary jpeg file");for(var i=256*e.charCodeAt(4)+e.charCodeAt(5),s=4,r=e.length;s<r;){if(s+=i,255!==e.charCodeAt(s))throw new Error("getJpegSize could not find the size of the image");if(192===e.charCodeAt(s+1))return t=256*e.charCodeAt(s+5)+e.charCodeAt(s+6),[256*e.charCodeAt(s+7)+e.charCodeAt(s+8),t];s+=2,i=256*e.charCodeAt(s)+e.charCodeAt(s+1)}}(e),p={w:u[0],h:u[1],cs:"DeviceRGB",bpc:8,f:"DCTDecode",i:l,data:e};return d[l]=p,r||n||(n=r=-96),r<0&&(r=-1*p.w*72/r/this.internal.scaleFactor),n<0&&(n=-1*p.h*72/n/this.internal.scaleFactor),0===r&&(r=n*p.w/p.h),0===n&&(n=r*p.h/p.w),this.internal.write("q",h(r),"0 0",h(n),h(i),c(s+n),"cm /I"+p.i,"Do Q"),this}}(pdfDataExport.API),function(e){var t=function(e){for(var t="klmnopqrstuvwxyz",i={},s=0;s<t.length;s++)i[t[s]]="0123456789abcdef"[s];var r,n,o,a,l,d={},h=1,c=d,u=[],p="",m="",f=e.length-1;for(s=1;s!=f;)l=e[s],s+=1,"'"==l?n?(a=n.join(""),n=r):n=[]:n?n.push(l):"{"==l?(u.push([c,a]),c={},a=r):"}"==l?((o=u.pop())[0][o[1]]=c,a=r,c=o[0]):"-"==l?h=-1:a===r?i.hasOwnProperty(l)?(p+=i[l],a=parseInt(p,16)*h,h=1,p=""):p+=l:i.hasOwnProperty(l)?(m+=i[l],c[a]=parseInt(m,16)*h,h=1,a=r,m=""):m+=l;return d},i={codePages:["WinAnsiEncoding"],WinAnsiEncoding:t("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},a={Unicode:{Courier:i,"Courier-Bold":i,"Courier-BoldOblique":i,"Courier-Oblique":i,Helvetica:i,"Helvetica-Bold":i,"Helvetica-BoldOblique":i,"Helvetica-Oblique":i,"Times-Roman":i,"Times-Bold":i,"Times-BoldItalic":i,"Times-Italic":i}},l={Unicode:{"Courier-Oblique":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":t("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":t("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":t("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Helvetica:t("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":t("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),"Courier-Bold":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":t("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":t("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":t("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFonts",function(e){var t,i,s,r,n,o="Unicode";for(i in e.fonts)e.fonts.hasOwnProperty(i)&&(t=e.fonts[i],(s=l[o][t.PostScriptName])&&((r=t.metadata[o]?t.metadata[o]:t.metadata[o]={}).widths=s.widths,r.kerning=s.kerning),(n=a[o][t.PostScriptName])&&((r=t.metadata[o]?t.metadata[o]:t.metadata[o]={}).encoding=n).codePages&&n.codePages.length&&(t.encoding=n.codePages[0]))}])}(pdfDataExport.API);var saveAs=window.jqxSaveAs=saveAs||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(f){var g=f.document,i=f.URL||f.webkitURL||f,v=$("<a></a>")[0],x="download"in v,w=f.webkitRequestFileSystem,y=f.requestFileSystem||w||f.mozRequestFileSystem,n=function(e){(f.setImmediate||f.setTimeout)(function(){throw e},0)},b="application/octet-stream",_=0,j=[],q=function(e,t,i){for(var s=(t=[].concat(t)).length;s--;){var r=e["on"+t[s]];if("function"==typeof r)try{r.call(e,i||e)}catch(e){n(e)}}},s=function(s,i){var e,r,t,n,o,a=this,l=s.type,d=!1,h=function(){var e=(f.URL||f.webkitURL||f).createObjectURL(s);return j.push(e),e},c=function(){q(a,"writestart progress write writeend".split(" "))},u=function(){!d&&e||(e=h()),r&&(r.location.href=e),a.readyState=a.DONE,c()},p=function(e){return function(){if(a.readyState!==a.DONE)return e.apply(this,arguments)}},m={create:!0,exclusive:!1};if(a.readyState=a.INIT,i||(i="download"),x&&(e=h(),v.href=e,v.download=i,n=v,(o=g.createEvent("MouseEvents")).initMouseEvent("click",!0,!1,f,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(o)))return a.readyState=a.DONE,void c();f.chrome&&l&&l!==b&&(t=s.slice||s.webkitSlice,s=t.call(s,0,s.size,b),d=!0),w&&"download"!==i&&(i+=".download"),r=l===b||w?f:f.open(),y?(_+=s.size,y(f.TEMPORARY,_,p(function(e){e.root.getDirectory("saved",m,p(function(e){var t=function(){e.getFile(i,m,p(function(i){i.createWriter(p(function(t){t.onwriteend=function(e){r.location.href=i.toURL(),j.push(i),a.readyState=a.DONE,q(a,"writeend",e)},t.onerror=function(){var e=t.error;e.code!==e.ABORT_ERR&&u()},"writestart progress write abort".split(" ").forEach(function(e){t["on"+e]=a["on"+e]}),t.write(s),a.abort=function(){t.abort(),a.readyState=a.DONE},a.readyState=a.WRITING}),u)}),u)};e.getFile(i,{create:!1},p(function(e){e.remove(),t()}),p(function(e){e.code===e.NOT_FOUND_ERR?t():u()}))}),u)}),u)):u()},e=s.prototype;return e.abort=function(){this.readyState=this.DONE,q(this,"abort")},e.readyState=e.INIT=0,e.WRITING=1,e.DONE=2,e.error=e.onwritestart=e.onprogress=e.onwrite=e.onabort=e.onerror=e.onwriteend=null,f.addEventListener&&f.addEventListener("unload",function(){for(var e=j.length;e--;){var t=j[e];"string"==typeof t?i.revokeObjectURL(t):t.remove()}j.length=0},!1),function(e,t){return new s(e,t)}}(self);!function(e){e.output=function(e,t){return this.internal.output(e,t)}}(pdfDataExport.API),function($){$.jqx.jqxWidget("jqxBarGauge","",{}),$.extend($.jqx._jqxBarGauge.prototype,{defineInstance:function(){var e={animationDuration:300,backgroundColor:"#e0e0e0",barSpacing:4,baseValue:null,colorScheme:"scheme01",customColorScheme:null,endAngle:-45,disabled:!1,formatFunction:null,geometry:{startAngle:225,endAngle:-45},height:400,labels:null,min:0,max:100,rendered:null,relativeInnerRadius:.3,startAngle:225,title:null,tooltip:null,values:[],width:400,useGradient:!0,_intervalArray:[],_drawnValues:[],_drawnSlices:[],_titleTemplate:{text:"",font:{color:"#232323",family:"'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana",opacity:1,size:28,weight:100},horizontalAlignment:"center",verticalAlignment:"top",placeholderSize:null,margin:{bottom:0,left:0,right:0,top:0},subtitle:{text:"",font:{color:"#232323",family:"'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana",opacity:1,size:16,weight:100}}},_labelTemplate:{connectorColor:null,connectorWidth:1,formatFunction:function(e){return e},font:{color:null,family:"'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana",size:16,weight:400},indent:20,precision:2,visible:!0},_tooltipTemplate:{classname:"",formatFunction:function(e){return e},visible:!1,precision:0},_colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"],_colorNames:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},_dimensions:{},_ie:$.jqx.browser.msie,_oldIEbrowser:$.jqx.browser.msie&&$.jqx.browser.version<=8,_ie8:$.jqx.browser.msie&&8==$.jqx.browser.version,_ie7:$.jqx.browser.msie&&$.jqx.browser.version<8,_centerX:null,_centerY:null,_coordinatePlane:null,_geometry:{startAngle:-45,baseAngle:-45,fix:0,endAngle:225},_userValues:[],_valuesToDegrees:[],_oldValues:[],_oldValuesToDegrees:[],_temporaryValuesToDegrees:[],_temporaryValues:[],_temporaryOldAngle:[],_valuesLength:0,_oldValuesLength:0,_alignmentIE:null,_title:{},_backgroundColor:"#e0e0e0",_label:{},_tooltip:{},_renderedValues:0,_barWidth:35,_barStartAt:30,_barGaugeSlices:[],_barGaugeBackgroundSlices:[],_barGaugeSlicesStrokeWidth:0,_barGaugeLabelLines:[],_barGaugeLabelText:[],_barGaugeTitle:null,_barGaugeSubTitle:null,_barGaugeTooltip:$("<div></div>"),_measuredText:$("<div class='jqx-bar-gauge-measure-text'></div>"),_measuredTextId:"",renderer:null,_barGaugeRadius:null,_barGaugeFigureRadius:null,_labelPositioningRadius:null,_placeholderSize:50,_rendering:!1,_titleLines:0,_subTitleLines:0,_initialized:!1,_events:["initialized","valueChanged","tooltipOpen","tooltipClose","drawStart","drawEnd"]};return this===$.jqx._jqxBarGauge.prototype||$.extend(!0,this,e),e},createInstance:function(){this._createBarGauge()},_createBarGauge:function(){var e=this;e._getLiquidDimensions(),e._addIEPolyfills(),e._barGaugeTooltip.css({display:"none"}),$(e.host).empty(),e._attachCustomColors(),e.geometry.startAngle=e.startAngle,e.geometry.endAngle=e.endAngle,e._validateGeometry(),e._validateTitle(),e._validateLabel(),e._validateValues(),e._validateTooltip(),e._validateAnimationDuration(),e._transformValuesToAngles(),e._getColorScheme(),0===e.animationDuration||e._ie8||e._ie7?e._drawStaticBarGauge():e._drawDynamicBarGauge(),e._raiseEvent("4"),e._createTooltip(),e._addCSS(),e._ie&&(e._removeBarGaugeTitle(),e._removeBarGaugeSubTitle(),e._drawBarGaugeTitle()),e._addEventHandlers()},_initRenderer:function(e){if(!$.jqx.createRenderer)throw"jqxBarGauge: Please include a reference to jqxdraw.js";return $.jqx.createRenderer(this,e)},_validateValues:function(){var e,t,i=this;0===i._userValues.length&&(i._userValues=i.values.slice()),0===i._oldValues.length&&(i._oldValues=i.values.slice()),i._valuesLength=i.values.length;for(var s=0;s<i._valuesLength;s++)i.values[s]=parseFloat(i.values[s]),i.values[s]<i.startValue||isNaN(i.values[s])?i.values[s]=i.startValue:i.values[s]>i.max&&(i.values[s]=i.max),i._drawnValues[s]=!1,i._drawnSlices[s]=!1;i.baseValue<=i.startValue||null===i.baseValue?i.baseValue=i.min:i.baseValue>i.max&&(i.baseValue=i.max),1<=i.relativeInnerRadius?i.relativeInnerRadius=.99:i.relativeInnerRadius<0&&(i.relativeInnerRadius=0),i._calculateBarGaugeRadius(),e=i._valuesLength||1,t=i._barGaugeRadius*(1-i.relativeInnerRadius)/e-.01,i.barSpacing>t&&(i.barSpacing=t),i._backgroundColor=i._validateColor(i.backgroundColor,i._backgroundColor)},_attachCustomColors:function(){var e=this,t=e._colorSchemes.length,i=!1;if(null!==e.customColorScheme&&null!==e.customColorScheme.colors&&null!==e.customColorScheme.name){for(var s=0;s<t;s++)e.customColorScheme.name===e._colorSchemes[s].name&&(e._colorSchemes[s].colors=e.customColorScheme.colors.slice(),i=!0);i||e._colorSchemes.push(e.customColorScheme)}},_getLiquidDimensions:function(){var e=this;$.isEmptyObject(e._dimensions)&&(e._dimensions.width=e.width,e._dimensions.height=e.height),"string"==typeof e._dimensions.width&&-1!==e._dimensions.width.indexOf("%")&&(e.width=parseInt(e._dimensions.width,10)/100*$("#"+e.element.id).parent().width()),"string"==typeof e._dimensions.height&&-1!==e._dimensions.height.indexOf("%")&&(e.height=parseInt(e._dimensions.height,10)/100*$("#"+e.element.id).parent().height())},_getLongestValue:function(){for(var e=this.values.length,t="",i=0,s=0;s<e;s++)this.values[s].toString().length>i&&(i=(t=this.values[s]).toString().length);return t=this._calculatePrecision(this._label.precision,t),void 0!==this._label.formatFunction&&null!==this._label.formatFunction&&"function"==typeof this._label.formatFunction&&(t=this._label.formatFunction(t)),t=t.toUpperCase()},_validateGeometry:function(){var e=parseFloat(this.geometry.startAngle),t=parseFloat(this.geometry.endAngle);360<=Math.abs(e)&&(e%=360),e<0&&(e=360+e),360<=Math.abs(t)&&(t%=360),t<0&&(t=360+t),this.geometry.startAngle=e,this.geometry.endAngle=t},_validateColor:function(e,t){return null==e?t:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)?e:/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(e)?"#"+e:void 0!==this._colorNames[e.toLowerCase()]?this._colorNames[e.toLowerCase()]:"transparent"},_validateTooltip:function(){var e=this;void 0===e.tooltip||null===e.tooltip||"object"!=typeof e.tooltip?e._tooltip=e._tooltipTemplate:(e._tooltip.visible=!1!==e.tooltip.visible&&(e.tooltip.visible||e._tooltipTemplate.visible),e._tooltip.classname=e.tooltip.classname||e._tooltipTemplate.classname,"function"==typeof e.tooltip.formatFunction?e._tooltip.formatFunction=e.tooltip.formatFunction:e._tooltip.formatFunction=e._tooltipTemplate.formatFunction,null===e.tooltip.precision||void 0===e.tooltip.precision?e._tooltip.precision=e._tooltipTemplate.precision:parseInt(e.tooltip.precision,10)<=0?e._tooltip.precision=0:e._tooltip.precision=parseInt(e.tooltip.precision,10))},_validateTitle:function(){var e,t=this;if(t._title=t._titleTemplate,t._measuredTextId=t.element.id+"measuredText","string"==typeof t.title?t._title.text=t.title:"number"==typeof t.title?t._title.text=String(t.title):"object"==typeof t.title&&void 0!==t.title&&null!==t.title&&(t._title.text=t.title.text||t._titleTemplate.text,t._title.horizontalAlignment=t.title.horizontalAlignment||t._titleTemplate.horizontalAlignment,t._title.verticalAlignment=t.title.verticalAlignment||t._titleTemplate.verticalAlignment),void 0===t.title||null===t.title||void 0===t.title.font||null===t.title.font?t._title.font=t._titleTemplate.font:(t._title.font.family=t.title.font.family||t._titleTemplate.font.family,t._title.font.opacity=t.title.font.opacity||t._titleTemplate.font.opacity,t._title.font.size=t.title.font.size||t._titleTemplate.font.size,t._title.font.weight=t.title.font.weight||t._titleTemplate.font.weight,(t._ie7||t._ie8)&&100<t._title.font.weight&&(t._title.font.weight="bold"),t._title.font.color=t._validateColor(t.title.font.color,t._titleTemplate.font.color)),void 0===t.title||null===t.title||void 0===t.title.margin||null===t.title.margin)t._title.margin=t._titleTemplate.margin;else if("object"!=typeof t.title.margin){var i=parseInt(t.title.margin,10);t._title.margin.top=i,t._title.margin.right=i,t._title.margin.bottom=i,t._title.margin.left=i}else t._title.margin.top=0===t.title.margin.top?0:t.title.margin.top||t._titleTemplate.margin.top,t._title.margin.right=0===t.title.margin.right?0:t.title.margin.right||t._titleTemplate.margin.right,t._title.margin.bottom=0===t.title.margin.bottom?0:t.title.margin.bottom||t._titleTemplate.margin.bottom,t._title.margin.left=0===t.title.margin.left?0:t.title.margin.left||t._titleTemplate.margin.left;void 0===t.title||null===t.title||void 0===t.title.subtitle||null===t.title.subtitle?(t._title.subtitle.text=t._titleTemplate.subtitle.text,t._title.subtitle.font=t._titleTemplate.subtitle.font):"object"!=typeof t.title.subtitle?(t._title.subtitle.text=String(t.title.subtitle),t._title.subtitle.font=t._titleTemplate.subtitle.font):void 0===t.title.subtitle.font||null===t.title.subtitle.font?(t._title.subtitle.text=String(t.title.subtitle.text),t._title.subtitle.font=t._titleTemplate.subtitle.font):(t._title.subtitle.text=String(t.title.subtitle.text),t._title.subtitle.font.color=t.title.subtitle.font.color||t._titleTemplate.subtitle.font.color,t._title.subtitle.font.family=t.title.subtitle.font.family||t._titleTemplate.subtitle.font.family,t._title.subtitle.font.opacity=t.title.subtitle.font.opacity||t._titleTemplate.subtitle.font.opacity,t._title.subtitle.font.size=t.title.subtitle.font.size||t._titleTemplate.subtitle.font.size,t._title.subtitle.font.weight=t.title.subtitle.font.weight||t._titleTemplate.subtitle.font.weight,(t._ie7||t._ie8)&&100<t._title.subtitle.font.weight&&(t._title.subtitle.font.weight="bold")),""===t._title.text?e=0:""===t._title.subtitle.text||void 0===t._title.subtitle.text||null===t._title.subtitle.text?(t._titleLines=null!==t._title.text.match(/<br>/g)?t._title.text.match(/<br>/g).length+1:1,e=t._title.font.size*t._titleLines+t._title.margin.top+t._title.margin.bottom):(t._titleLines=null!==t._title.text.match(/<br>/g)?t._title.text.match(/<br>/g).length+1:1,t._subTitleLines=null!==t._title.subtitle.text.match(/<br>/g)?t._title.text.match(/<br>/g).length+1:1,e=t._title.font.size*t._titleLines+t._title.subtitle.font.size*t._subTitleLines+t._title.margin.top+t._title.margin.bottom),void 0===t.title||null===t.title||null===t.title.placeholderSize||void 0===t.title.placeholderSize?t._title.placeholderSize=e||.05*t.height:t._title.placeholderSize=t.title.placeholderSize},_validateLabel:function(){var e=this;null===e.labels||void 0===e.labels||"object"!=typeof e.labels?e._label=e._labelTemplate:(e._label.connectorColor=e._validateColor(e.labels.connectorColor,e._labelTemplate.connectorColor),e._label.connectorWidth=e.labels.connectorWidth||e._labelTemplate.connectorWidth,e._label.formatFunction=e.labels.formatFunction||e._labelTemplate.formatFunction,void 0===e.labels.precision||null===e.labels.precision||"number"!=typeof e.labels.precision?e._label.precision=e._labelTemplate.precision:e._label.precision=e.labels.precision,15<e._label.precision?e._label.precision=15:e._label.precision<0&&(e._label.precision=0),void 0===e.labels.visible||null===e.labels.visible?e._label.visible=e._labelTemplate.visible:!1===e.labels.visible?e._label.visible=!1:e._label.visible=!0,"number"!=typeof e.labels.indent&&"string"!=typeof e.labels.indent||e.labels.indent<=0?e._label.indent=0:"number"!=typeof e.labels.indent&&"string"!=typeof e.labels.indent||e.labels.indent<=0?e._label.indent=0:e._label.indent=e.labels.indent,null===e.labels.font||void 0===e.labels.font||"object"!=typeof e.labels.font?e._label.font=e._labelTemplate.font:(e._label.font={},e._label.font.color=e._validateColor(e.labels.font.color,e._labelTemplate.font.color),e._label.font.family=e.labels.font.family||e._labelTemplate.font.family,e._label.font.size=e.labels.font.size||e._labelTemplate.font.size,e._label.font.weight=e.labels.font.weight||e._labelTemplate.font.weight,(e._ie7||e._ie8)&&100<e._label.font.weight&&(e._label.font.weight="bold")))},_validateAnimationDuration:function(){var e=parseInt(this.animationDuration,10),t=0<e?e:0;this._oldIEbrowser?this.animationDuration=0:this.animationDuration=t},_transformValuesToAngles:function(){var e,t,i,s,r=this;r._placeholderSize=r._title.placeholderSize||r._placeholderSize,r.geometry.endAngle<r.geometry.startAngle?r._geometry.startAngle=parseFloat(r.geometry.endAngle)%360:r._geometry.startAngle=parseFloat(r.geometry.endAngle)%360-360,r._geometry.endAngle=parseFloat(r.geometry.startAngle)%360,360<(e=r._geometry.endAngle-r._geometry.startAngle)&&(r._geometry.startAngle=r._geometry.startAngle+(e-360)),void 0!==r.baseValue&&null!==r.baseValue&&r.baseValue>=r.min&&r.baseValue<=r.max&&(r._geometry.baseAngle=(r.baseValue-r.min)*(r._geometry.endAngle-r._geometry.startAngle)/(r.max-r.min)+r._geometry.startAngle,r._geometry.fix=r.geometry.startAngle+r.geometry.endAngle-180),t=r._getLongestValue(),i=r._measureText(t,r._label.font.size,r._label.font.family,r._label.font.weight),(s=r._barGaugeRadius-1.2*r._label.indent-1.2*i.height)+i.width+1.2*r._label.indent>r.width/2&&(s=r._barGaugeRadius-1.2*r._label.indent-i.width),!1===r._label.visible&&(s=r._barGaugeRadius),(s*=.98)<0&&(s=0),r._barGaugeFigureRadius=s,r._barWidth=s*(1-r.relativeInnerRadius)/r._valuesLength-r.barSpacing,r._barStartAt=s*r.relativeInnerRadius,r._labelPositioningRadius=r._barStartAt+r._valuesLength*(r._barWidth+r.barSpacing)-r.barSpacing+r._label.indent;for(var n=0;n<r._valuesLength;n++)r._valuesToDegrees[n]=(r.values[n]-r.min)/(r.max-r.min)*(r._geometry.endAngle-r._geometry.startAngle)+r._geometry.startAngle;$(r.host).width(r.width),$(r.host).height(r.height),r._initialized||(r._initRenderer(r.host),r._initialized=!0)},_measureRadius:function(){var e=this,t=e._getLongestValue(),i=e._measureText(t,e._label.font.size,e._label.font.family,e._label.font.weight),s=e._barGaugeRadius-1.2*e._label.indent-1.2*i.height;s+i.width+1.2*e._label.indent>e.width/2&&(s=e._barGaugeRadius-1.2*e._label.indent-i.width),!1===e._label.visible&&(s=e._barGaugeRadius),(s*=.98)<0&&(s=0),e._barWidth=s*(1-e.relativeInnerRadius)/e._valuesLength-e.barSpacing,e._barStartAt=s*e.relativeInnerRadius,e._labelPositioningRadius=e._barStartAt+e._valuesLength*(e._barWidth+e.barSpacing)-e.barSpacing+e._label.indent},_drawEmptyBarGauge:function(){var e,t,i=this,s=i._barStartAt,r=i._barWidth;e=""===i._title.text?i._barGaugeRadius:i._barGaugeFigureRadius,s=i.relativeInnerRadius*e,r=e,i._barGaugeBackgroundSlices[0]=i.renderer.pieslice(i._centerX,i._centerY,s,r,i._geometry.startAngle,i._geometry.endAngle,0,{fill:i._backgroundColor,stroke:i._backgroundColor,"stroke-width":i._barGaugeSlicesStrokeWidth}),t=i.element.id+"BackgroundSlice0",i.renderer.attr(i._barGaugeBackgroundSlices[0],{id:t}),i.renderer.attr(i._barGaugeBackgroundSlices[0],{class:"jqx-bar-gauge-background-slice"}),i._rendered(),i._oldValuesLength=0,i._oldValues.length=0},_drawBarGaugeLayout:function(){var e,t=this,i=t._barStartAt,s=i+t._barWidth;if(t._barGaugeSlicesStrokeWidth=0,t._centerX=t.width/2,""===t._title.text?t._centerY=t.height/2:"top"===t._title.verticalAlignment?t._centerY=(t.height+t._title.placeholderSize)/2:t._centerY=(t.height-t._title.placeholderSize)/2,0<t._valuesLength)for(var r=0;r<t._valuesLength;r++)t._barGaugeBackgroundSlices[r]=t.renderer.pieslice(t._centerX,t._centerY,i,s,t._geometry.startAngle,t._geometry.endAngle,0,{fill:t._backgroundColor,stroke:t._backgroundColor,"stroke-width":t._barGaugeSlicesStrokeWidth}),e=t.element.id+"BackgroundSlice"+r,t.renderer.attr(t._barGaugeBackgroundSlices[r],{id:e}),t.renderer.attr(t._barGaugeBackgroundSlices[r],{class:"jqx-bar-gauge-background-slice"}),s=(i=s+t.barSpacing)+t._barWidth;else t._drawEmptyBarGauge()},_drawBarGaugeElementsWithBase:function(){var e,t,i,s=this,r=180-s._geometry.baseAngle+s._geometry.fix;s._renderedValues=0,i=(t=s._barStartAt)+s._barWidth;for(var n=[],o=0;o<s._valuesLength;o++){n[o]=s.baseValue;var a=s._colors[o];if(s.formatFunction&&(a=s.formatFunction(s.values[o],o,a)),s._ie7||s._ie8){r=180-s._valuesToDegrees[o]+s._geometry.fix,s._valuesToDegrees[o]>s._geometry.baseAngle?s._barGaugeSlices[o]=s.renderer.pieslice(s._centerX,s._centerY,t,i,180-s._geometry.baseAngle+s._geometry.fix,r,0,{fill:a,stroke:a,"stroke-width":s._barGaugeSlicesStrokeWidth}):s._barGaugeSlices[o]=s.renderer.pieslice(s._centerX,s._centerY,t,i,r,180-s._geometry.baseAngle+s._geometry.fix,0,{fill:a,stroke:a,"stroke-width":s._barGaugeSlicesStrokeWidth}),e=s.element.id+"Slice"+o,s.renderer.attr(s._barGaugeSlices[o],{id:e}),s.renderer.attr(s._barGaugeSlices[o],{class:"jqx-bar-gauge-slice"}),(s._drawnSlices[o]=!0)===s._label.visible&&(s._drawLabelsLine(t,r,o),s._drawLabelsText(r,o)),s._rendered()}else{if(s.useGradient){a=s.renderer._toLinearGradient(a,!0,[[0,1.4],[100,1]])}s._barGaugeSlices[o]=s.renderer.pieslice(s._centerX,s._centerY,t,i,r+.01,r,0,{fill:a,stroke:a,"stroke-width":s._barGaugeSlicesStrokeWidth}),e=s.element.id+"Slice"+o,s.renderer.attr(s._barGaugeSlices[o],{id:e}),s.renderer.attr(s._barGaugeSlices[o],{class:"jqx-bar-gauge-slice"}),s._drawnSlices[o]=!0}s.renderer.attr(s._barGaugeSlices[o],{id:s.element.id+"Slice"+o}),s.renderer.attr(s._barGaugeSlices[o],{class:"jqx-bar-gauge-slice"}),i=(t=i+s.barSpacing)+s._barWidth}s._oldValues=n,s._temporaryValues=n.slice(0);for(o=s._oldValuesToDegrees.length=0;o<s.values.length;o++)s._oldValuesToDegrees[o]=s._geometry.baseAngle,s._temporaryValuesToDegrees[o]=s._geometry.baseAngle;s._rendering=!0,s._redrawWithNewValuesArray(s.values,s._oldValues)},_drawBarGaugeElementWithBase:function(gaugeLayerStart,change,amount,changeContition,valueIndex){var that=this,newPieSlicePath,angleStepPercent,angleDiff,valueStep,animation=that._calculateAnimationInterval(valueIndex,!1),gaugeLayerEnd=gaugeLayerStart+that._barWidth,updatedItem=that._barGaugeSlices[valueIndex],updatedAngle=that._valuesToDegrees[valueIndex];function calculateNewPieSlicePath(){newPieSlicePath=-1===amount?$.jqx.commonRenderer.pieSlicePath(that._centerX,that._centerY,gaugeLayerStart,gaugeLayerEnd,change,180-that._geometry.baseAngle+that._geometry.fix,0):$.jqx.commonRenderer.pieSlicePath(that._centerX,that._centerY,gaugeLayerStart,gaugeLayerEnd,180-that._geometry.baseAngle+that._geometry.fix,change,0)}0===that.animationDuration&&(change=180-updatedAngle+that._geometry.fix),angleDiff=Math.abs(that._geometry.baseAngle-updatedAngle),0===angleDiff&&(angleDiff=.01),angleStepPercent=Math.abs(amount/animation.smoothCoef/angleDiff),valueStep=angleStepPercent*Math.abs(that.baseValue-that.values[valueIndex]),isNaN(that._temporaryValues[valueIndex])&&(that._temporaryValues[valueIndex]=that.values[valueIndex]),isNaN(that._temporaryValuesToDegrees[valueIndex])&&(that._temporaryValuesToDegrees[valueIndex]=that._valuesToDegrees[valueIndex]),that._intervalArray[valueIndex]=setInterval(function(){calculateNewPieSlicePath(),eval(changeContition)&&!that.disabled?(that.renderer.attr(updatedItem,{d:newPieSlicePath}),change+=amount/animation.smoothCoef,that._temporaryValuesToDegrees[valueIndex]=(180-change+that._geometry.fix)%360,that._temporaryValues[valueIndex]=that._temporaryValues[valueIndex]+amount*valueStep):(change=180-updatedAngle+that._geometry.fix,that._temporaryValuesToDegrees[valueIndex]=updatedAngle%360,that._temporaryValues[valueIndex]=that.values[valueIndex],calculateNewPieSlicePath(),that.renderer.attr(updatedItem,{d:newPieSlicePath}),clearInterval(that._intervalArray[valueIndex]),that._renderedValues++,that._renderedValues===that.values.length&&that._rendered())},animation.interval/animation.smoothCoef)},_drawStaticBarGaugeElementsWithBase:function(){var e,t,i,s,r,n=this;t=(e=n._barStartAt)+n._barWidth;for(var o=0;o<n._valuesLength;o++){s=n._valuesToDegrees[o]||n._geometry.baseAngle,n._oldValues[o]=n.values[o]||n.baseValue,i=180-s+n._geometry.fix;var a=n._colors[o];if(n.useGradient){a=n.renderer._toLinearGradient(a,!0,[[0,1.4],[100,1]])}n._valuesToDegrees[o]<n._geometry.baseAngle?n._barGaugeSlices[o]=n.renderer.pieslice(n._centerX,n._centerY,e,t,180-n._geometry.baseAngle+n._geometry.fix,i,0,{fill:a,stroke:a,"stroke-width":n._barGaugeSlicesStrokeWidth}):n._barGaugeSlices[o]=n.renderer.pieslice(n._centerX,n._centerY,e,t,i,180-n._geometry.baseAngle+n._geometry.fix,0,{fill:a,stroke:a,"stroke-width":n._barGaugeSlicesStrokeWidth}),r=n.element.id+"Slice"+o,n.renderer.attr(n._barGaugeSlices[o],{id:r}),n.renderer.attr(n._barGaugeSlices[o],{class:"jqx-bar-gauge-slice"}),n._drawnSlices[o]=!0,t=(e=t+n.barSpacing)+n._barWidth}n._removeLabels(),n._addLabels()},_addLabels:function(e,t,i){var s,r,n,o=this,a=o._barStartAt,l=a+o._barWidth;for(e||(e=o._valuesToDegrees),n=0;n<o._valuesLength;n++)r=n,(null==i||n===i)&&(s=180-e[r]+o._geometry.fix,!0===o._label.visible&&!1===o.disabled&&(o._drawLabelsLine(a,s,r),t&&void 0!==t[r]?o._drawLabelsText(s,r,t[r]):o._drawLabelsText(s,r))),l=(a=l+o.barSpacing)+o._barWidth},_removeLabels:function(e){for(var t=0;t<this._barGaugeLabelText.length;t++)null!=e&&t!=e||($(this._barGaugeLabelLines[t]).remove(),$(this._barGaugeLabelText[t]).remove(),this._barGaugeLabelLines[t]=null,this._barGaugeLabelText[t]=null)},_removeBarGaugeSlices:function(){this._removeBarGaugeBackgroundSlices(),this._removeBarGaugeForegroundSlices()},_removeBarGaugeBackgroundSlices:function(){for(var e=Math.max(this._valuesLength,this._oldValuesLength),t=0;t<e;t++)this._oldIEbrowser&&$(this._barGaugeBackgroundSlices[t]).remove(),this._barGaugeBackgroundSlices[t]=null,this._drawnSlices[t]=!1;$("#"+this.element.id+" .jqx-bar-gauge-background-slice").remove()},_removeBarGaugeForegroundSlices:function(){for(var e=Math.max(this._valuesLength,this._oldValuesLength),t=0;t<e;t++)!0===this._drawnSlices[t]&&(this._oldIEbrowser&&$(this._barGaugeSlices[t]).remove(),this._barGaugeSlices[t]=null,this._drawnSlices[t]=!1);$("#"+this.element.id+" .jqx-bar-gauge-slice").remove()},_removeBarGaugeTitle:function(){this._oldIEbrowser&&this._barGaugeTitle&&$(this._barGaugeTitle).remove(),$("#"+this.element.id+" .jqx-bar-gauge-title").remove()},_removeBarGaugeSubTitle:function(){this._oldIEbrowser&&this._barGaugeSubTitle&&$(this._barGaugeSubTitle).remove(),$("#"+this.element.id+" .jqx-bar-gauge-subtitle").remove()},_renderElements:function(){var e,t,i,s,r=this;r._geometry.baseAngle,r._geometry.fix;t=(e=r._barStartAt)+r._barWidth,r._rendering=!0,r._renderedValues=0,r._renderingValues=0;var n=!1;if(!r.disabled)for(t=(e=r._barStartAt)+r._barWidth,s=0;s<r._valuesLength;s++)r.values[s],r.baseValue,r.values[s]>r._oldValues[s]?(i="(oldAngle < newAngle)",r._renderElement(e,t,1,i,s,!0),n=!0):r.values[s]<r._oldValues[s]&&(i="(oldAngle > newAngle)",r._renderElement(e,t,-1,i,s,!1),n=!0),t=(e=t+r.barSpacing)+r._barWidth;n||r._rendered()},clearIntervals:function(){for(var e=this._intervalArray.length,t=0;t<e;t++)clearInterval(this._intervalArray[t]);this._intervalArray.length=0},_renderElement:function(l,d,h,e,c,u){var p,m,f=this;f._renderingValues++;var t=f._oldValues[c],i=f.values[c],s=f._valuesToDegrees[c],g=f._oldValuesToDegrees[c],v=f._barGaugeSlices[c],x=f._calculateAnimationInterval(c,!0),r=Math.abs(s-g),w=Math.abs(h/x.smoothCoef/r)*Math.abs(i-t),n=x.interval/x.smoothCoef;isNaN(f._temporaryValues[c])&&(f._temporaryValues[c]=t),isNaN(f._temporaryValuesToDegrees[c])&&(f._temporaryValuesToDegrees[c]=(180-g+f._geometry.fix)%360),isNaN(f._temporaryOldAngle[c])&&(f._temporaryOldAngle[c]=g);var y=function(){f.values[c];var e,t,i=f._valuesToDegrees[c];m=180-g+f._geometry.fix,e=m,t=180-f._geometry.baseAngle+f._geometry.fix,1===h?u&&(p=f._geometry.baseAngle<g?$.jqx.commonRenderer.pieSlicePath(f._centerX,f._centerY,l,d,e,t,0):$.jqx.commonRenderer.pieSlicePath(f._centerX,f._centerY,l,d,t,e,0)):u||(p=f._geometry.baseAngle<g?$.jqx.commonRenderer.pieSlicePath(f._centerX,f._centerY,l,d,e,t,0):$.jqx.commonRenderer.pieSlicePath(f._centerX,f._centerY,l,d,t,e,0));var s=!1;u&&g<i&&(s=!0),!u&&i<g&&(s=!0);var r,n,o=function(){f._removeLabels(c);for(var e=[],t=0;t<f._valuesToDegrees.length;t++)null!=f._temporaryOldAngle[t]?e[t]=f._temporaryOldAngle[t]:e[t]=f._valuesToDegrees[t];f._addLabels(e,f._temporaryValues,c)};if(s&&!1===f.disabled&&0!=f.animationDuration){if(o(),f.renderer.attr(v,{d:p}),f.formatFunction){var a=f._colors[c];a=f.formatFunction(f.values[c],c,a),f.renderer.attr(v,{fill:a,stroke:a})}return g+=h/x.smoothCoef,f._temporaryOldAngle[c]=g,f._temporaryValuesToDegrees[c]=(180-g+f._geometry.fix)%360,f._temporaryValues[c]=f._temporaryValues[c]+h*w,!1}if(m=180-(g=i)+f._geometry.fix,f._temporaryOldAngle[c]=i,f._temporaryValuesToDegrees[c]=i%360,f._temporaryValues[c]=f.values[c],o(),r=m,n=180-f._geometry.baseAngle+f._geometry.fix,p=r<=n?$.jqx.commonRenderer.pieSlicePath(f._centerX,f._centerY,l,d,r-1e-4,n,0):$.jqx.commonRenderer.pieSlicePath(f._centerX,f._centerY,l,d,n,r,0),f.renderer.attr(v,{d:p}),f.formatFunction){a=f._colors[c];a=f.formatFunction(f.values[c],c,a),f.renderer.attr(v,{fill:a,stroke:a})}return clearInterval(f._intervalArray[c]),f._renderedValues++,f._renderedValues===f._renderingValues&&f._rendered(),!0};if(0==f.animationDuration)y();else{var b=function(){clearInterval(f._intervalArray[c]);var e=y();if(f._rendering&&!e){var t=f._oldValues[c],i=f.values[c],s=f._valuesToDegrees[c],r=f._oldValuesToDegrees[c],n=(f._barGaugeSlices[c],f._calculateAnimationInterval(c,!0)),o=Math.abs(s-r),a=(Math.abs(h/n.smoothCoef/o),Math.abs(i-t),n.interval/n.smoothCoef);f._intervalArray[c]=setInterval(b,a)}};f._intervalArray[c]||(f._intervalArray[c]=setInterval(b,n))}},_calculateAnimationInterval:function(e,t){var i=this,s={},r=i.animationDuration/1e3,n=0;return t?i._oldValues[e]-i.values[e]!=0&&(n=1e3/Math.abs((i._oldValues[e]-i.values[e])/(i.max-i.min)*(i._geometry.endAngle-i._geometry.startAngle))):i.baseValue-i.values[e]!=0&&(n=1e3/Math.abs((i.baseValue-i.values[e])/(i.max-i.min)*(i._geometry.endAngle-i._geometry.startAngle))),s.smoothCoef=r||1,s.interval=n*r,s},_calculateLabelOffset:function(e,t,i){var s,r,n={};return r=270<=e?-(270-e)/180:e<=90?(90+e)/180:(270-e)/180,s=e<=180?e/180:(360-e)/180,n.y=r*t,n.x=s*i,n},_drawCoordinatePlane:function(){var e,t,i=this;"top"===i._title.verticalAlignment?(e=i._title.placeholderSize,t=i.height):(e=0,t=i.height-i._title.placeholderSize),null!==i._coordinatePlane&&$("#"+i.element.id+" .jqx-bar-gauge-coordinate-plane").remove(),i._coordinatePlane={},i._coordinatePlane.x=i.renderer.line(0,i._centerY,i.width,i._centerY,{fill:"gray",stroke:"gray","stroke-width":1,"stroke-opacity":.1}),i._coordinatePlane.y=i.renderer.line(i._centerX,e,i._centerX,t,{fill:"gray",stroke:"gray","stroke-width":1,"stroke-opacity":.1}),i.renderer.attr(i._coordinatePlane.x,{class:"jqx-bar-gauge-coordinate-plane"}),i.renderer.attr(i._coordinatePlane.y,{class:"jqx-bar-gauge-coordinate-plane"})},_getColorScheme:function(){var e,t,i=this,s=i._colorSchemes.length,r=i.values.length||1,n=Math.floor(r/i._colorSchemes[0].colors.length),o=0;for(t=0;t<s;t++)i.colorScheme===i._colorSchemes[t].name&&(o=t);if(i._colors=i._colorSchemes[o].colors,0<n)for(t=0;t<n;t++)e=(o+t+1)%s,i._colors=i._colors.concat(i._colorSchemes[e].colors)},_drawLabelsLine:function(e,t,i){var s,r,n,o,a,l,d,h,c=this;t<0?t=360+t:360<t&&(t%=360),a=(360-t)*Math.PI/180,l=e+c._barWidth+(c._valuesLength-i-1)*(c._barWidth+c.barSpacing)+c._label.indent,s=c._centerX+e*Math.cos(a),r=c._centerY+e*Math.sin(a),n=c._centerX+l*Math.cos(a),o=c._centerY+l*Math.sin(a),d=c._label.connectorColor||c._colors[i],c.formatFunction&&(d=c.formatFunction(c.values[i],i,d)),(c._ie7||c._ie8)&&(s=parseInt(s,10),r=parseInt(r,10),n=parseInt(n,10),o=parseInt(o,10)),!0===c._label.visible&&!1===c.disabled&&(c._barGaugeLabelLines[i]=c.renderer.line(s,r,n,o,{fill:d,stroke:d,"stroke-width":c._label.connectorWidth})),h=c.element.id+"LabelLine"+i,c.renderer.attr(c._barGaugeLabelLines[i],{id:h}),c.renderer.attr(c._barGaugeLabelLines[i],{class:"jqx-bar-gauge-label-line"})},_drawLabelsText:function(e,t,i){var s,r,n,o,a,l,d=this,h=d._label.font.color||d._colors[t];d.formatFunction&&(h=d.formatFunction(d.values[t],t,h));var c=d._calculatePrecision(d._label.precision,d.values[t]);void 0!==i&&(c=new Number(i).toFixed(d._label.precision),c=d._calculatePrecision(d._label.precision,c)),void 0!==d._label.formatFunction&&null!==d._label.formatFunction&&"function"==typeof d._label.formatFunction&&(c=d._label.formatFunction(c,t)),d._cachedMeasurements||(d._cachedMeasurements=[]),d._cachedMeasurements[c.length]?s=d._cachedMeasurements[c.length]:(s=d._measureText(c,d._label.font.size,d._label.font.family,d._label.font.weight),d._cachedMeasurements[c.length]=s),e<0?e=360+e:360<e&&(e%=360),r=(360-e)*Math.PI/180,n=d._centerX+(d._labelPositioningRadius+.3*s.height)*Math.cos(r),o=d._centerY+(d._labelPositioningRadius+.3*s.height)*Math.sin(r),a=d._calculateLabelOffset(e,s.height,s.width),!0===d._label.visible&&!1===d.disabled&&(d._barGaugeLabelText[t]=d.renderer.text(c,n-a.x,o-a.y,void 0,void 0,0,{class:"jqx-bargauge-label",fill:h,"font-size":d._label.font.size+"px","font-family":d._label.font.family,"font-weight":d._label.font.weight},!1,"left","top","lefttop")),l=d.element.id+"Label"+t,d.renderer.attr(d._barGaugeLabelText[t],{id:l}),d.renderer.attr(d._barGaugeLabelText[t],{class:"jqx-bar-gauge-label-text"}),(d._ie7||d._ie8)&&$("#"+l+" .jqx-bargauge-label").css({color:h,"white-space":"nowrap","font-size":d._label.font.size+"px","font-family":d._label.font.family,"font-weight":d._label.font.weight})},_calculatePrecision:function(e,t){var i;return i=15<(i=e+Math.abs(t).toString().split(".")[0].length)?15:i,t=parseFloat(t).toPrecision(i)},_createTooltip:function(){var e=this,t=e.element.id+"tooltip";e._barGaugeTooltip.attr("id",t),$(e._barGaugeTooltip).addClass(e.toThemeProperty("jqx-bar-gauge-tooltip")),0<e._tooltip.classname.length&&$(e._barGaugeTooltip).addClass(e.toThemeProperty(e._tooltip.classname)),$(document.body).append(e._barGaugeTooltip),!0===e._tooltip.visible&&!1===e.disabled&&0<e._valuesLength&&e._addTooltipHandlers()},_refreshTooltipHandlers:function(){!0===this._tooltip.visible&&!1===this.disabled&&(this._removeTooltipHandlers(),this._addTooltipHandlers())},_addTooltipHandlers:function(){var e,t,i=this;i.addHandler($("#"+i.element.id+" .jqx-bar-gauge-slice"),"mouseenter",function(){!0===i._tooltip.visible&&0<i._valuesLength&&(e=i.renderer.getAttr(this,"id").substr(i.element.id.length+5),t=i._calculatePrecision(i._tooltip.precision,i.values[e]),i._barGaugeTooltip.css({display:"block",color:i._colors[e],"border-color":i._colors[e]}),void 0!==i._tooltip.formatFunction&&null!==i._tooltip.formatFunction&&"function"==typeof i._tooltip.formatFunction&&(t=i._tooltip.formatFunction(t,parseInt(e))),i._barGaugeTooltip.html(t),i._raiseEvent("2",{layer:e}))}),i.addHandler($("#"+i.element.id+" .jqx-bar-gauge-slice"),"mouseleave",function(){i._barGaugeTooltip.css({display:"none"}),i._raiseEvent("3",{layer:e})}),i.addHandler($("#"+i.element.id+" .jqx-bar-gauge-slice"),"mouseup",function(){i._barGaugeTooltip.css({display:"none"})}),0<$("#"+i.element.id+" .jqx-bar-gauge-slice").length&&i.addHandler($("#"+i.element.id+" .jqx-bar-gauge-slice"),"mousemove",function(){!0===i._tooltip.visible&&0<i._valuesLength&&(e=i.renderer.getAttr(this,"id").substr(i.element.id.length+5),t=i._calculatePrecision(i._tooltip.precision,i.values[e]),i._barGaugeTooltip.css({display:"block",color:i._colors[e],"border-color":i._colors[e]}),void 0!==i._tooltip.formatFunction&&null!==i._tooltip.formatFunction&&"function"==typeof i._tooltip.formatFunction&&(t=i._tooltip.formatFunction(t,parseInt(e))),i._barGaugeTooltip.html(t))}),i.addHandler($(i.host),"mousemove",function(e){i._barGaugeTooltip.css({top:e.pageY-10+"px",left:e.pageX+15+"px"})})},_removeTooltipHandlers:function(){var e=this;0<e._barGaugeSlices.length&&(e.removeHandler($(e._barGaugeSlices),"mouseenter"),e.removeHandler($(e._barGaugeSlices),"mouseleave"),e.removeHandler($(e._barGaugeSlices),"mouseup"),e.removeHandler($(e._barGaugeSlices),"mousemove"),e.removeHandler($("#"+e.element.id+" .jqx-bar-gauge-slice"),"mouseenter mouseleave mouseup mousemove")),e.removeHandler($(e.host),"mousemove")},_drawBarGaugeTitle:function(){var e=this;e._alignmentIE=e._alignmentIE||e._title.horizontalAlignment;var t,i,s,r,n,o,a,l,d,h=0;if((e._ie7||e._ie8)&&(e._title.horizontalAlignment="left"),1<e._titleLines){for(t=e._title.text.split("<br>"),d=0;d<e._titleLines;d++)for(s=e._measureText(t[d]+"_",e._title.font.size,e._title.font.family,e._title.font.weight),o=t[d];s.width>e.width;)o=o.slice(0,-1),t[d]=o+"...",s=e._measureText(t[d]+"_",e._title.font.size,e._title.font.family,e._title.font.weight);e._title.text=t.join("<br>")}else for(s=e._measureText(e._title.text+"_",e._title.font.size,e._title.font.family,e._title.font.weight),o=e._title.text;s.width>e.width;)o=o.slice(0,-1),e._title.text=o+"...",s=e._measureText(e._title.text+"_",e._title.font.size,e._title.font.family,e._title.font.weight);if("bottom"===e._title.verticalAlignment&&(h=e.height-e._title.placeholderSize),null!==e.title&&void 0!==e.title&&""!==e._title.text){if(e._barGaugeTitle=e.renderer.text(e._title.text,e._title.margin.left,h+e._title.margin.top,e.width-e._title.margin.right,0,void 0,{fill:e._title.font.color,"fill-opacity":e._title.font.opacity,"font-size":e._title.font.size,"font-family":e._title.font.family,"font-weight":e._title.font.weight},!1,e._title.horizontalAlignment,e._title.verticalAlignment,"centertop"),l=e.element.id+"Title",e.renderer.attr(e._barGaugeTitle,{id:l}),e.renderer.attr(e._barGaugeTitle,{class:"jqx-bar-gauge-title"}),e._ie7||e._ie8){$("#"+l+" textbox").css({width:e.width+"px !important","padding-left":"10px",position:"relative"});var c=0;s.width<e.width&&("center"===e._alignmentIE?c=(e.width-s.width)/2:"right"===e._alignmentIE&&(c=e.width-s.width)),$("#"+l+" span").css({color:e._title.font.color,"margin-left":c+"px","white-space":"nowrap","text-align":"center","font-size":e._title.font.size+"px","font-family":e._title.font.family,"font-weight":e._title.font.weight}),0}if(""!==e._title.subtitle.text&&void 0!==e._title.subtitle.text){if(1<e._subTitleLines){for(i=e._title.subtitle.text.split("<br>"),d=0;d<e._subTitleLines;d++)for(r=e._measureText(i[d]+"_",e._title.subtitle.font.size,e._title.subtitle.font.family,e._title.subtitle.font.weight),n=i[d];r.width>e.width;)n=n.slice(0,-1),i[d]=n+"...",r=e._measureText(i[d]+"_",e._title.subtitle.font.size,e._title.subtitle.font.family,e._title.subtitle.font.weight);e._title.subtitle.text=i.join("<br>")}else for(r=e._measureText(e._title.subtitle.text+"_",e._title.subtitle.font.size,e._title.subtitle.font.family,e._title.subtitle.font.weight),n=e._title.subtitle.text;r.width>e.width;)n=n.slice(0,-1),e._title.subtitle.text=n+"...",r=e._measureText(e._title.subtitle.text+"_",e._title.subtitle.font.size,e._title.subtitle.font.family,e._title.subtitle.font.weight);if(e._barGaugeSubTitle=e.renderer.text(e._title.subtitle.text,e._title.margin.left,h+e._title.font.size*e._titleLines+e._title.margin.top,e.width-e._title.margin.right,0,void 0,{fill:e._title.subtitle.font.color,"fill-opacity":e._title.subtitle.font.opacity,"font-size":e._title.subtitle.font.size,"font-family":e._title.subtitle.font.family,"font-weight":e._title.subtitle.font.weight,"margin-top":e._title.margin.top},!1,e._title.horizontalAlignment,e._title.verticalAlignment,"centertop"),a=e.element.id+"SubTitle",e.renderer.attr(e._barGaugeSubTitle,{id:a}),e.renderer.attr(e._barGaugeSubTitle,{class:"jqx-bar-gauge-subtitle"}),e._ie7||e._ie8){var u=0;r.width<e.width&&("center"===e._alignmentIE?u=(e.width-r.width)/2:"right"===e._alignmentIE&&(u=e.width-r.width)),$("#"+a+" textbox").css({width:e.width+"px !important",left:u+"px !important",position:"relative"}),$("#"+a+" span").css({width:"100%",color:e._title.subtitle.font.color,"margin-left":u+"px","white-space":"nowrap","text-align":"center","font-size":e._title.subtitle.font.size+"px","font-family":e._title.subtitle.font.family,"font-weight":e._title.subtitle.font.weight})}}}},_measureText:function(e,t,i,s){var r=this,n={};return $("#"+r._measuredTextId).length||(r._measuredText.attr("id",r._measuredTextId),$(r.host).append(r._measuredText),r._measuredText.css({"z-index":-999999,"white-space":"nowrap","font-size":t+"px","font-family":i,"font-weight":s})),r._measuredText[0].style.fontSize!=t+"px"&&(r._measuredText[0].style.fontSize=t+"px"),r._measuredText[0].style.fontFamily!=i+"px"&&(r._measuredText[0].style.fontFamily=i),r._measuredText[0].style.fontWeight!=s&&(r._measuredText[0].style.fontWeight=s+"px"),r._measuredText.text(e),n.width=r._measuredText[0].offsetWidth,n.height=r._measuredText[0].offsetHeight,n},_calculateBarGaugeRadius:function(){this.width>this.height-this._title.placeholderSize?this._barGaugeRadius=(this.height-this._title.placeholderSize)/2:this._barGaugeRadius=this.width/2},_addCSS:function(){$(this.host).addClass(this.toThemeProperty("jqx-widget")),$(this.host).addClass(this.toThemeProperty("jqx-bar-gauge")),$(this.host).addClass(this.toThemeProperty("jqx-widget-content")),this.disabled&&$(this.host).addClass(this.toThemeProperty("jqx-fill-state-disabled"))},_rendered:function(){var e=this;!0===e._rendering&&(null!==e.rendered&&"function"==typeof e.rendered&&e.rendered(),e._rendering=!1,e.clearIntervals(),e._temporaryOldAngle.length=0,e._temporaryValuesToDegrees.length=0,e._temporaryValues.length=0,e._raiseEvent("0"),e._raiseEvent("5"))},_render:function(){var e=this;e._removeAllGraphicElements(),0<e.values.length?0===e.animationDuration||e._ie8||e._ie7?e._drawStaticBarGauge():e._drawDynamicBarGauge():(e._getLiquidDimensions(),e.host.width(e.width),e.host.height(e.height),e._validateValues(),e._transformValuesToAngles(),e._drawStaticBarGauge())},render:function(){var e=this;e.clearIntervals(),e._getLiquidDimensions(),e.host.width(e.width),e.host.height(e.height),e._validateValues(),e._transformValuesToAngles(),e._getColorScheme(),!0!==e._rendering||e._staticRefresh(),e._render()},refresh:function(e){!0!==e&&this.render()},_removeAllGraphicElements:function(){this._removeLabels(),this._removeBarGaugeSlices(),this._removeBarGaugeTitle(),this._removeBarGaugeSubTitle()},_drawStaticBarGauge:function(){var e=this;e._rendering=!0,e._drawBarGaugeTitle(),e._drawBarGaugeLayout(),e.disabled||(e._getLiquidDimensions(),e.host.width(e.width),e.host.height(e.height),e._validateValues(),e._measureRadius(),e._drawStaticBarGaugeElementsWithBase()),e._rendered()},_drawDynamicBarGauge:function(){this._drawBarGaugeTitle(),this._drawBarGaugeLayout(),this.disabled?this._rendered():this._drawBarGaugeElementsWithBase()},val:function(e){var t=this;return null!=e&&"object"==typeof e&&0<Object.keys(e).length?(t._raiseEvent("4","api"),e.length!=t.values.length?(t.values=e,t.render()):t._redrawWithNewValuesArray(e,t.values)):null!=e&&"object"==typeof e&&0===e.length&&(t._raiseEvent("4"),t._removeLabels(),t._removeBarGaugeSlices(),t._transformValuesToAngles(),t._drawEmptyBarGauge(),t._removeLabels(),t.values.length=0,t._refreshTooltipHandlers()),t.values},_redrawWithNewValuesArray:function(e,t){var i,s,r=this;if(!1===r._rendering)r._userValues=e.slice(),r._oldValues=t?t.slice():r.values.slice(),r._oldValuesToDegrees=r._valuesToDegrees.slice(),r._oldValuesLength=r._valuesLength,1<Object.keys(e).length?r.values=e.slice():null===e[0]||void 0===e[0]?r.values=[]:(r.values=[],r.values[0]=parseFloat(e)),r._lastChange=new Date;else if(!0===r._rendering){for(r._userValues=e.slice(),r._oldValues.length=0,s=r._oldValuesToDegrees.length=0;s<r.values.length;s++)r._oldValues[s]=null!=r._temporaryValues[s]?r._temporaryValues[s]:r.values[s],r._oldValuesToDegrees[s]=null!=r._temporaryValuesToDegrees[s]?r._temporaryValuesToDegrees[s]:r._valuesToDegrees[s];r._oldValuesLength=r.values.length,1<e.length?r.values=e.slice():null===e[0]||void 0===e[0]?r.values=[]:(r.values=[],r.values[0]=parseFloat(e))}else if(null==e)r.values=[];else{if("string"!=typeof e&&"number"!=typeof e)return r.values;r.values=[],r.values[0]=parseFloat(e)}if(r._valuesLength=r.values.length,r._getColorScheme(),r._valuesLength>r._oldValuesLength)for(var n=r._oldValuesLength;n<r._valuesLength;n++)r._oldValuesToDegrees[n]=r._geometry.baseAngle,r._oldValues[n]=r.baseValue;for(s=0;s<r._valuesLength;s++){r.values[s]<r.min?r.values[s]=r.min:r.values[s]>r.max&&(r.values[s]=r.max);var o=r.values[s];0==o&&(o=.03),i=(o-r.min)/(r.max-r.min)*(r._geometry.endAngle-r._geometry.startAngle)+r._geometry.startAngle,r._valuesToDegrees[s]=i%360}r._renderElements(),r._refreshTooltipHandlers(),r._raiseEvent("1")},_staticRefresh:function(){var e=this,t=e.animationDuration;"string"==typeof e.width&&-1!==e.width.indexOf("%")&&(e._dimensions.width=e.width),"string"==typeof e.height&&-1!==e.height.indexOf("%")&&(e._dimensions.height=e.height),e._getLiquidDimensions(),e.host.width(e.width),e.host.height(e.height),$("#"+e.element.id+" .chartContainer").width(e.width),$("#"+e.element.id+" .chartContainer").height(e.height),e._removeBarGaugeTitle(),e._removeBarGaugeSubTitle(),e._validateGeometry(),e._validateTitle(),e._validateLabel(),e._validateValues(),e._validateTooltip(),e._measureRadius(),e.animationDuration=0,e._render(),e.animationDuration=t},propertyChangedHandler:function(e,t,i,s){var r,n=e;if(n._cachedMeasurements=[],void 0!==e.isInitialized&&null!==e.isInitialized&&!1!==e.isInitialized&&(n.ie7||!e.batchUpdate||!e.batchUpdate.width||!e.batchUpdate.height||2!==Object.keys(e.batchUpdate).length)&&(s!==i||"colorScheme"===t||"tooltip"===t))switch(n.animationDuration,n._titleTemplate=n._title,n._labelTemplate=n._label,n._tooltipTemplate=n._tooltip,t){case"width":case"height":n._staticRefresh();break;case"values":n.values=i,n.val(s);break;case"animationDuration":break;case"disabled":n.disabled?$(n.host).addClass(n.toThemeProperty("jqx-fill-state-disabled")):$(n.host).removeClass(n.toThemeProperty("jqx-fill-state-disabled")),n._render();break;case"geometry":case"min":case"baseValue":case"max":case"barSpacing":case"startAngle":case"endAngle":case"relativeInnerRadius":n.geometry.startAngle=n.startAngle,n.geometry.endAngle=n.endAngle,n.values=n._userValues.slice(),n._validateValues(),n._transformValuesToAngles(),n._render();break;case"tooltip":n._validateTooltip();break;case"rendered":break;case"backgroundColor":if(n._backgroundColor=n._validateColor(n.backgroundColor,n._backgroundColor),n._ie7||n._ie8)for(r=0;r<n._valuesLength;r++)n.renderer.attr(n._barGaugeBackgroundSlices[r],{fillcolor:n._backgroundColor,strokecolor:n._backgroundColor,"stroke-width":n._barGaugeSlicesStrokeWidth});else $("#"+n.element.id+" .jqx-bar-gauge-background-slice").attr({fill:n._backgroundColor,stroke:n._backgroundColor,"stroke-width":n._barGaugeSlicesStrokeWidth});break;case"customColorScheme":n._attachCustomColors();break;case"colorScheme":var o,a;for(n._getColorScheme(),r=0;r<n._valuesLength;r++){o=n._label.connectorColor||n._colors[r],a=n._label.font.color||n._colors[r];var l=n._colors[r];if(n.useGradient){l=n.renderer._toLinearGradient(l,!0,[[0,1.4],[100,1]])}if(n.renderer.attr(n._barGaugeSlices[r],{fill:l}),n.renderer.attr(n._barGaugeLabelLines[r],{fill:o,stroke:o}),n.renderer.attr(n._barGaugeLabelText[r],{fill:a}),n._ie7||n._ie8){n.renderer.attr(n._barGaugeSlices[r],{fillcolor:n._colors[r],strokecolor:n._colors[r],"stroke-width":n._barGaugeSlicesStrokeWidth}),n.renderer.attr(n._barGaugeLabelLines[r],{fillcolor:o,strokecolor:o});var d=n.element.id+"Label"+r;$("#"+d+" .jqx-bargauge-label").css({color:a})}}break;default:n._staticRefresh()}},_compareArrays:function(e,t){var i=e.length;if(i!==t.length)return!1;for(var s=0;s<i;s++)if(e[s]!==t[s])return!1;return!0},_addIEPolyfills:function(){var r,n,o,a;Object.keys||(Object.keys=(r=Object.prototype.hasOwnProperty,n=!{toString:null}.propertyIsEnumerable("toString"),a=(o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var t,i,s=[];for(t in e)r.call(e,t)&&s.push(t);if(n)for(i=0;i<a;i++)r.call(e,o[i])&&s.push(o[i]);return s}))},destroy:function(){var e=this;$("#"+e._measuredTextId).remove(),e.renderer.clear(),e.renderer=null,e._removeEventHandlers(),e._removeTooltipHandlers(),e.host.children().remove(),e.host.removeData(),e.host.removeClass(),e.host.remove(),e.host=null,e.element=null,delete e.element,delete e.host},_addEventHandlers:function(){var t=this;t.addHandler($(t.host),"drawStart",function(){}),t.addHandler($(t.host),"drawEnd",function(){t._refreshTooltipHandlers()}),t.addHandler($(window),"resize.jqxBarGauge"+t.host[0].id,function(){var e=!1;t._dimensions.width&&0<=t._dimensions.width.toString().indexOf("%")&&(e=!0),t._dimensions.height&&0<=t._dimensions.height.toString().indexOf("%")&&(e=!0),e&&t._staticRefresh()})},_removeEventHandlers:function(){this.removeHandler($(this.host),"drawStart"),this.removeHandler($(this.host),"drawEnd"),this.removeHandler($(window),"resize.jqxBarGauge"+this.host[0].id)},_refreshEventHandlers:function(){this._removeEventHandlers(),this._addEventHandlers()},_raiseEvent:function(e,t){var i=$.Event(this._events[e]);return i.args=t,this.host.trigger(i)},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e}})}(jqxBaseFramework),function($){$.jqx.jqxWidget("jqxPivotDesigner","",{}),$.extend($.jqx._jqxPivotDesigner.prototype,{defineInstance:function(){var e={type:"pivotGrid",target:null,dataFields:null};return $.extend(!0,this,e),e},_instanceId:0,createInstance:function(e){this.element;var t=this.host,i=this;this.target&&this.target.getInstance&&(this.target=this.target.getInstance());var s=[{widget:"jqxWindow",src:"jqxwindow.js"},{widget:"jqxButton",src:"jqxbuttons.js"},{widget:"jqxCheckBox",src:"jqxcheckbox.js"},{widget:"jqxInput",src:"jqxinput.js"},{widget:"jqxScrollBar",src:"jqxscrollbar.js"},{widget:"jqxListBox",src:"jqxlistbox.js"},{widget:"jqxDropDownList",src:"jqxdropdownlist.js"},{widget:"jqxDragDrop",src:"jqxdragdrop.js"}];for(var r in s)if(!window[s[r].widget])throw new Error("Please include "+s[r].src);this._isTouchDevice();var n="jqx-rc-all jqx-widget jqx-pivotgrid jqx-designer-host"+this.toThemeProperty("jqx-widget-content");t.append("<div class='"+n+"' style='width: 100%; height: 100%; overflow:hidden; onselectstart='return false;' oncontextmenu='return false;''><div class='labelFields jqx-widget' style='position: absolute;'>Pivot Table Fields</div><div class='labelFilters jqx-widget' style='position: absolute;'>Filters</div><div class='labelColumns jqx-widget' style='position: absolute;'>Columns</div><div class='labelRows jqx-widget' style='position: absolute;'>Rows</div><div class='labelValues jqx-widget' style='position: absolute;'>Values</div><div class='divFields' style='position: absolute;'></div><div class='divFilters' style='position: absolute;'></div><div class='divColumns' style='position: absolute;'></div><div class='divRows' style='position: absolute;'></div><div class='divValues' style='position: absolute;'></div></div>"),this._listBoxes={fields:i.host.find(".divFields"),rows:i.host.find(".divRows"),columns:i.host.find(".divColumns"),values:i.host.find(".divValues"),filters:i.host.find(".divFilters")},$.jqx.utilities.resize(i.host,function(){i._resize()},!1)},destroy:function(){$.jqx.utilities.resize(this.host,null,!0),self.target&&delete self.target._pivotDesigner},_getLocalizedString:function(e){var t=this.target?this.target._localizedStrings:{};switch(e){case"fields":return t.fieldslabel||"Pivot Fields";case"calculation":return t.calculation||"Calculation";case"filters":return t.filterslabel||"Filters";case"rows":return t.rowslabel||"Rows";case"columns":return t.columnslabel||"Columns";case"values":return t.valueslabel||"Values";case"of":return t.of||"of";case"to":return t.to||"to";case"move":return t.move||"Move";case"remove":return t.remove||"Remove";case"count":return t.count||"Count";case"sum":return t.sum||"Sum";case"average":return t.avgerage||"Average";case"product":return t.product||"Product";case"min":return t.min||"Min";case"max":return t.max||"Max"}return t[e]?t[e]:e},_isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var e=$.jqx.mobile.isTouchDevice();if(this.touchDevice=e,1==this.touchmode){if($.jqx.browser.msie&&$.jqx.browser.version<9)return this.enablehover=!1;e=!0,$.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=e}else 0==this.touchmode&&(e=!1);return e&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),e},_resize:function(){var e=this._listBoxes,t=this.host,i=t.height()-10,s=t.width()-10,r=$("<span style='white-space:nowrap;'></span>");this.host.append(r);for(var n=0,o=["fields","filters","rows","columns","values"],a=0;a<o.length;a++){r.text(this._getLocalizedString(o[a]));var l=r.height();n<l&&(n=l)}r.remove();var d=this.host.position(),h=d.left+5,c=d.top+5;c+=5,t.find(".labelFields").css({left:h,top:c,width:s-10,height:n}),c+=n;var u=(i-3*(n+10))/3,p=(s-5)/2;e.fields.css({left:h,top:c,background:"white"}),e.fields.jqxListBox({width:s,height:u,allowDrop:!0,allowDrag:!0}),c+=u+10,t.find(".labelFilters").css({left:h,top:c,width:p,height:n}),t.find(".labelColumns").css({left:h+p+5,top:c,width:p,height:n}),c+=n,e.filters.css({left:h,top:c}),e.filters.jqxListBox({width:p,height:u}),e.columns.css({left:h+p+5,top:c}),e.columns.jqxListBox({width:p,height:u}),c+=u+10,t.find(".labelRows").css({left:h,top:c,width:p,height:n}),t.find(".labelValues").css({left:h+p+5,top:c,width:p,height:n}),c+=n,t.find(".divRows").css({left:h,top:c}),t.find(".divRows").jqxListBox({width:p,height:u}),t.find(".divValues").css({left:h+p+5,top:c}),t.find(".divValues").jqxListBox({width:p,height:u})},_setupListBoxes:function(){var s=this,t=(s.host,s._listBoxes);for(var e in t){var i=t[e];i.off(),i.jqxListBox({allowDrag:!0,allowDrop:!0,renderer:function(e,t,i){return s._getCustomRendererElement(t,s._listBoxes.fields[0]!=this.host[0])}}).on("dragStart",function(e){t.rows.jqxListBox({dropAction:"copy"}),t.columns.jqxListBox({dropAction:"copy"}),t.filters.jqxListBox({dropAction:"copy"}),t.values.jqxListBox({dropAction:"copy"}),t.fields.jqxListBox({dropAction:"copy"})}).on("dragEnd",function(e){s._moveElement($(this),e.args.dropTargetElement,e.args.index,e.args.value)})}},_moveElement:function(e,t,i,s){var r=this,n=r._listBoxes;if(t){if(e[0]!=n.fields[0]&&e.jqxListBox("removeAt",i),t==n.fields[0])n.fields.jqxListBox("clear"),r._populateListBox(n.fields,r._allFields,"all");else{if(e[0]==n.fields[0]&&t==n.values[0]||(n.rows[0]!=t&&r._removeItem(n.rows,s),n.columns[0]!=t&&r._removeItem(n.columns,s)),t==n.values[0]){for(var o=n.values.jqxListBox("getItems"),a=0;a<o.length;a++)n.values.jqxListBox("updateAt",{label:o[a].label,value:$.extend({},o[a].value)},a);r._autoAssignAggregationFunctions()}r._removeDuplicates(n.rows),r._removeDuplicates(n.columns),r._removeDuplicates(n.filters)}r._updateCurrentSettings(),r._updateListBoxLabels();var l=$(t).jqxListBox("width");$(t).jqxListBox("width",l+1),$(t).jqxListBox("width",l-1);l=e.jqxListBox("width");e.jqxListBox("width",l+1),e.jqxListBox("width",l-1),r._updateListBoxLabels(),r._refreshPivotGrid(r._targetCurrentSettings)}},refresh:function(){this.target&&(this.target._pivotDesigner=this),this._readPivotSettings(),this._setupListBoxes(),this._resize(),this._updateListBoxLabels()},_updateCurrentSettings:function(){var e=this._listBoxes,t=$.extend({},this._targetCurrentSettings),i={},s=["rows","columns","values","filters"];for(var r in s){if(o=t[s[r]])for(var n=0;n<o.length;n++){i[c=o[n].dataField+"_"+(o[n].function||"")]=$.extend({},o[n]),delete i[c].dataField,delete i[c].text}}for(var r in t=$.extend({},this._targetInitSettings),s){if(o=t[s[r]])for(n=0;n<o.length;n++){i[c=o[n].dataField+"_"+(o[n].function||"")]=$.extend(i[c]||{},o[n]),delete i[c].dataField,delete i[c].text}}for(var r in e){var o=e[r].jqxListBox("getItems");t[r]=[];for(n=0;n<o.length;n++){var a=o[n].value.dataField,l=o[n].value.text,d="values"==r?o[n].value.function:void 0,h={dataField:a,text:l||a};d&&(h.function=d),h.text=this._getFieldLabel(d,a);var c,u=i[c=h.dataField+"_"+(d||"")];u&&$.extend(h,u),t[r].push(h)}}this._targetCurrentSettings=t},_refreshPivotGrid:function(e){var t=new $.jqx.pivot(this.target.source.dataAdapter,e);$(this.target.element).jqxPivotGrid({source:t});var i=$(this.target.element).jqxPivotGrid("getInstance");i._pivotRows.autoResize(),i._pivotColumns.autoResize(),i.refresh(),this._targetCurrentSettings=e},_autoAssignAggregationFunctions:function(){for(var e=this.host.find(".divValues").jqxListBox("getItems"),t={},i=0;i<e.length;i++)e[i].value.function&&(t[e[i].value.dataField]||(t[e[i].value.dataField]={}),t[e[i].value.dataField][e[i].value.function]=!0);var s=this.target.source.getFunctions();for(i=0;i<e.length;i++){var r=!1;if(!e[i].value.function){for(var n in t[e[i].value.dataField]||(t[e[i].value.dataField]={}),s)if(!t[e[i].value.dataField][n]){t[e[i].value.dataField][n]=!0,e[i].value.function=n,r=!0;break}if(!r)for(var n in s){e[i].value.function=n;break}}}},_updateListBoxLabels:function(){var n=this;n.host.find(".pivot-designer-item-button").off();var o=n._listBoxes;for(var e in o){var t=o[e],i=t.jqxListBox("getItems");if(i)for(var s=0;s<i.length;s++){var r=void 0;if("values"==e&&!(r=i[s].value.function))throw"Unspecified pivot aggregation function";i[s].label=n._getFieldLabel(r,i[s].value.dataField),t.jqxListBox("updateAt",{label:i[s].label,value:i[s].value},s)}}n.host.find(".pivot-designer-item-button").off(),n.host.find(".pivot-designer-item-button").on("click",function(e){for(var t in o)for(var i=o[t].jqxListBox("getItems"),s=0;s<i.length;s++){var r=$(i[s].element).find(".pivot-designer-item-button");if(0<r.length&&r[0]==this)return void n._showDesignerItemContextMenu(t,s)}})},_showDesignerItemContextMenu:function(e,t){if(!this._isWindowOpen()){var i=this._listBoxes,s={moveOperations:{}};for(var r in i)r!=e&&(s.moveOperations[this._getLocalizedString("move")+" "+this._getLocalizedString("to")+" "+this._getLocalizedString(r)]={dropTarget:r});if("values"==e){var n=this.target.source.getFunctions(),o={};for(var r in n)o[this._getLocalizedString(r)]={function:r};s.functions=o}this._windowData={type:e,itemIndex:t,fieldSettings:s},"filters"==e?(this._filtersWindow||this._createFiltersWindow(),this._filtersWindow.jqxWindow("open"),this._updateFiltersWindowData()):(this._settingsWindow||this._createSettingsWindow(),this._settingsWindow.jqxWindow("open"),this._updateWindowData())}},_isWindowOpen:function(){return this._settingsWindow&&this._settingsWindow.jqxWindow("isOpen")||this._filtersWindow&&this._filtersWindow.jqxWindow("isOpen")},_getFieldLabel:function(e,t){if(e)return this._getValueFieldLabel(e,t);var i=this._targetInitSettings;for(var s in i)if("values"!=s){var r=i[s];for(var n in r)if(r[n].dataField==t&&r[n].text)return r[n].text}return t},_getValueFieldLabel:function(e,t){var i=this._getLocalizedString(e)||e,s=void 0,r=this._targetInitSettings;if(r.values)for(var n in r.values)if(r.values[n].dataField==t&&r.values[n].function==e&&null!=(s=r.values[n].text))break;return s||i+" "+this._getLocalizedString("of")+" "+t},_removeItem:function(e,t){for(var i=e.jqxListBox("getItems"),s=0,r=0;r<i.length;r++){e.jqxListBox("getItem",r).value.dataField==t.dataField&&(e.jqxListBox("removeAt",r-s),s++)}},_getCustomRendererElement:function(e,t){return t?"<div><div style='width: 16px;height: 16px; float:left; margin-top: 1px;' class='pivot-designer-item-button jqx-pivotgrid-settings-icon'></div><div>"+e+"</div></div>":"<div><div style='height: 16px; float:left; margin-top: 2px;'></div><div>"+e+"</div></div>"},_readPivotSettings:function(){var e=this;if(e.target){var t=e.target.source;if(t){var i=t.dataAdapter;if(i){var s=i._source;if(s){e._targetCurrentSettings=$.extend({},e.target.source._initSettings),e._targetInitSettings=$.extend({},e.target.source._initSettings);var r={},n={dataFields:this.dataFields,adapterDataFields:s.datafields,rows:e.target.source.rows,columns:e.target.source.columns,values:e.target.source.values,filters:e.target.source.filters};Array.isArray(n.dataFields)?a(n.dataFields,r):a(n.adapterDataFields,r),a(n.filters,r,"filters"),a(n.rows,r,"rows"),a(n.columns,r,"columns"),a(n.values,r,"values"),this._allFields=r;e.host;var o=e._listBoxes;e._populateListBox(o.fields,r,"all"),e._populateListBox(o.filters,n.filters,"filters"),e._populateListBox(o.rows,n.rows,"rows"),e._populateListBox(o.columns,n.columns,"columns"),e._populateListBox(o.values,n.values,"values")}}}}function a(e,t,i){if(Array.isArray(e))for(var s=0;s<e.length;s++){var r=e[s].name||e[s].dataField;r&&0!=r.length&&(t[r]||(t[r]={text:r,dataField:r}),null!=e[s].text&&"values"!=i&&(t[r].text=e[s].text),t[r].function=e[s].function)}}},_populateListBox:function(e,t,i){var s=[],r=0;for(var n in t){var o=t[n].dataField,a=t[n].text||this._allFields[o].text||o;s[r]={text:a,value:{text:a,dataField:o,function:t[n].function||void 0}},"values"!=i&&(s[r].value.function=void 0),r++}e.jqxListBox({source:s,displayMember:"text",valueMember:"value"})},_removeDuplicates:function(e){for(var t=e.jqxListBox("getItems"),i={},s=0;s<t.length;s++){var r=t[s].label;null!=i[r]?(e.jqxListBox("removeAt",s),t.splice(s,1),s--):i[r]=!0}},_createSettingsWindow:function(){var i=this,e="<div id='pivotFieldSettingsWindow' style='width: 300px; height: 200px'><table style='width: 100%;'><tr><td style='height: 30px;'>"+i._getLocalizedString("move")+" "+i._getLocalizedString("to")+"</td><td><div style='width: 100%;' class='lbPivotFieldMoveTo'></div></td></tr><tr><td style='height: 30px;'>"+i._getLocalizedString("alignment")+"</td><td><div style='width: 100%;' class='lbAlignment'></div></td></tr><tr class='valueField'><td style='height: 30px;'>"+i._getLocalizedString("calculation")+"</td><td><div style='width: 100%;' class='lbCalculation'></div></td></tr><tr class='valueField'><td style='height: 30px;'>"+i._getLocalizedString("numberformat")+"</td><td></td></tr><tr class='valueField'><td style='height: 30px;'>"+i._getLocalizedString("cellalignment")+"</td><td><div style='width: 100%;' class='lbCellsAlignment'></div></td></tr><tr class='valueField'><td style='height: 30px;'>"+i._getLocalizedString("prefix")+"</td><td><input type='text' style='width: 100%;' class='txtPrefix'></input></td></tr><tr class='valueField'><td style='height: 30px;'>"+i._getLocalizedString("decimalplacestext")+"</td><td><input type='text' style='width: 100%;' class='txtDecimalPlaces'></input></td></tr><tr class='valueField'><td style='height: 30px;'>"+i._getLocalizedString("thousandsseparatortext")+"</td><td><input type='text' style='width: 100%;' class='txtThousandsSeparator'></input></td></tr><tr class='valueField'><td style='height: 30px;'>"+i._getLocalizedString("decimalseparatortext")+"</td><td><input type='text' style='width: 100%;' class='txtDecimalSeparator'></input></td></tr><tr class='valueField'><td style='height: 30px;'>"+i._getLocalizedString("nagativebracketstext")+"</td><td><div style='width: 100%;' class='checkBoxNagativeWithBrackets'></input></td></tr><tr><td style='height: 30px;' colspan=2 align=middle><input class='btnOk' type='button' value='"+i._getLocalizedString("ok")+"'></input><input class='btnCancel' style='margin-left: 10px;' type='button' value='"+i._getLocalizedString("cancel")+"'></input></td></tr></table>";i.host.append(e);i._settingsWindow=i.host.find("#pivotFieldSettingsWindow").jqxWindow({title:i._getLocalizedString("fieldsettings"),position:{x:0,y:0},showCollapseButton:!0,autoOpen:!1,minWidth:380,maxWidth:380,width:380,height:360,initContent:function(){i._updateWindowData();var e=i._settingsWindow.find(".btnCancel").jqxButton({width:80}),t=i._settingsWindow.find(".btnOk").jqxButton({width:80});e.on("click",function(){i._settingsWindow.jqxWindow("close")}),t.on("click",function(){i._applySettingsWindowChanges(),i._settingsWindow.jqxWindow("close")})}})},_applySettingsWindowChanges:function(){var e=this,t=e._windowData.itemIndex,i=e._windowData.type,s=e._listBoxes[i],r=s.jqxListBox("getItem",t),n=e._settingsWindow.find(".lbPivotFieldMoveTo").jqxDropDownList("selectedIndex");if(-1!=n){var o=void 0;for(var a in e._windowData.fieldSettings.moveOperations)if(o=e._windowData.fieldSettings.moveOperations[a].dropTarget,-1==--n)break;var l=e._listBoxes[o],d=r.value;return l!=e._listBoxes.fields&&l.jqxListBox("addItem",{label:r.label,value:d}),void e._moveElement(s,l[0],t,d)}var h=e._settingsWindow.find(".lbAlignment").jqxDropDownList("getSelectedItem");if(e._targetCurrentSettings[i][t].align=h.value,delete e._targetCurrentSettings[i][t].function,"values"==i){h=e._settingsWindow.find(".lbCalculation").jqxDropDownList("getSelectedItem");e._targetCurrentSettings[i][t].text=r.value.text=r.label=e._getFieldLabel(h.value,r.value.dataField),e._targetCurrentSettings[i][t].function=r.value.function=h.value,s.jqxListBox("updateAt",{label:r.value.text,value:r.value},t),e._updateListBoxLabels()}if("values"==i){h=e._settingsWindow.find(".lbCellsAlignment").jqxDropDownList("getSelectedItem");(f=e._targetCurrentSettings[i][t].formatSettings||{}).align=h.value,e._targetCurrentSettings[i][t].formatSettings=f}if("values"==i){var c=e._settingsWindow.find(".txtPrefix");(f=e._targetCurrentSettings[i][t].formatSettings||{}).prefix=c.val(),e._targetCurrentSettings[i][t].formatSettings=f}if("values"==i){var u=e._settingsWindow.find(".txtDecimalPlaces");(f=e._targetCurrentSettings[i][t].formatSettings||{}).decimalPlaces=u.val(),e._targetCurrentSettings[i][t].formatSettings=f}if("values"==i){var p=e._settingsWindow.find(".txtThousandsSeparator");(f=e._targetCurrentSettings[i][t].formatSettings||{}).thousandsSeparator=p.val(),e._targetCurrentSettings[i][t].formatSettings=f}if("values"==i){var m=e._settingsWindow.find(".txtDecimalSeparator");(f=e._targetCurrentSettings[i][t].formatSettings||{}).decimalSeparator=m.val(),e._targetCurrentSettings[i][t].formatSettings=f}if("values"==i){var f,g=e._settingsWindow.find(".checkBoxNagativeWithBrackets");(f=e._targetCurrentSettings[i][t].formatSettings||{}).negativeWithBrackets=g.val(),e._targetCurrentSettings[i][t].formatSettings=f}e._refreshPivotGrid(e._targetCurrentSettings)},_updateWindowData:function(){for(var e=this,t=e._windowData.fieldSettings,i=e._listBoxes[e._windowData.type].jqxListBox("getItem",e._windowData.itemIndex).value,s=e.target.source[e._windowData.type],r=void 0,n=0;n<s.length;n++)if(s[n].dataField==i.dataField&&s[n].function==i.function){r=s[n];break}var o=[];for(var n in t.moveOperations)o.push({text:n,value:t.moveOperations[n]});e._settingsWindow.find(".lbPivotFieldMoveTo").jqxDropDownList({source:o,displayMember:"text",selectedIndex:-1,valueMember:"value",autoDropDownHeight:!0});var a=o=[{text:e._getLocalizedString("left"),value:"left"},{text:e._getLocalizedString("center"),value:"center"},{text:e._getLocalizedString("right"),value:"right"}],l=0;if(r)for(var d=0;d<o.length;d++)if(o[d].value==r.align){l=d;break}e._settingsWindow.find(".lbAlignment").jqxDropDownList({source:o,selectedIndex:l,displayMember:"text",valueMember:"value",autoDropDownHeight:!0});var h=390;if(t.functions){var c=i.function;e._settingsWindow.find(".valueField").show(),o=[],l=-1;var u=0;for(var n in t.functions){var p=t.functions[n].function;o.push({text:n,value:p}),c==p&&(l=u),u++}e._settingsWindow.find(".lbCalculation").jqxDropDownList({source:o,displayMember:"text",valueMember:"value",autoDropDownHeight:!0,selectedIndex:l}),o=a;l=2;var m="right";if(r){r.formatSettings&&r.formatSettings.align&&(m=r.formatSettings.align);for(d=0;d<o.length;d++)if(o[d].value==m){l=d;break}}e._settingsWindow.find(".lbCellsAlignment").jqxDropDownList({source:o,selectedIndex:l,displayMember:"text",valueMember:"value",autoDropDownHeight:!0});var f="";r&&r.formatSettings&&null!=r.formatSettings.prefix&&(f=r.formatSettings.prefix),e._settingsWindow.find(".txtPrefix").jqxInput({value:f,height:23,width:195});var g=2;try{r&&r.formatSettings&&null!=r.formatSettings.decimalPlaces&&(g=parseInt(r.formatSettings.decimalPlaces))}catch(e){g=2}e._settingsWindow.find(".txtDecimalPlaces").jqxInput({value:g,height:23,width:195});var v=e._getLocalizedString("thousandsseparator");r&&r.formatSettings&&null!=r.formatSettings.thousandsSeparator&&(v=r.formatSettings.thousandsSeparator),e._settingsWindow.find(".txtThousandsSeparator").jqxInput({value:v,height:23,width:195});var x=e._getLocalizedString("decimalseparator");r&&r.formatSettings&&null!=r.formatSettings.decimalSeparator&&(x=r.formatSettings.decimalSeparator),e._settingsWindow.find(".txtDecimalSeparator").jqxInput({value:x,height:23,width:195});var w=!1;r&&r.formatSettings&&null!=r.formatSettings.negativeWithBrackets&&(w=1==r.formatSettings.negativeWithBrackets),e._settingsWindow.find(".checkBoxNagativeWithBrackets").jqxCheckBox({checked:w})}else h=160,e._settingsWindow.find(".valueField").hide();e._settingsWindow.jqxWindow({height:h})},_createFiltersWindow:function(){var i=this,e="<div id='pivotFieldFiltersWindow' style='width: 300px; height: 340px;'><div style='padding: 5; margin: 5; width: 100%; height: 100%;'><table style='width: 100%; height: 100%; margin:0; padding:0;' cellspacing=0; cellpadding=0><tr style='height: auto;'><td style='height: 100%;'><div style='padding: 0px; margin: 0px; display:inline-block;position:relative;' class='listBoxFilters'></div></td></tr><tr style='height: 5px;'><td></td></tr><tr style='height: 30px;'><td colspan=2 align=middle><input class='btnOk' type='button' value='"+i._getLocalizedString("ok")+"'></input><input class='btnCancel' style='margin-left: 10px;' type='button' value='"+i._getLocalizedString("cancel")+"'></input></td></tr></div></table>";i.host.append(e);i._filtersWindow=i.host.find("#pivotFieldFiltersWindow").jqxWindow({title:i._getLocalizedString("fieldsettings"),position:{x:0,y:0},showCollapseButton:!0,autoOpen:!1,minWidth:300,maxWidth:300,width:300,height:360,initContent:function(){i._updateFiltersWindowData();var e=i._filtersWindow.find(".btnCancel").jqxButton({width:80}),t=i._filtersWindow.find(".btnOk").jqxButton({width:80});e.on("click",function(){i._filtersWindow.jqxWindow("close")}),t.on("click",function(){i._applyFiltersWindowChanges(),i._filtersWindow.jqxWindow("close")})}})},_updateFiltersWindowData:function(){for(var e=this._windowData.fieldSettings,t=this._listBoxes[this._windowData.type].jqxListBox("getItem",this._windowData.itemIndex).value,i=this.target.source[this._windowData.type],s=void 0,r=0;r<i.length;r++)if(i[r].dataField==t.dataField&&i[r].function==t.function){s=i[r];break}var n=[];for(var r in e.moveOperations)n.push({text:r,value:e.moveOperations[r]});n=[];var o=this.target.source.getItemsFilterStatus(s.dataField);for(var r in o)n.push({label:r,value:o[r]});var a=this._filtersWindow.find(".listBoxFilters");a.jqxListBox({source:n,checkBoxes:!0,displayMember:"label",selectedIndex:-1,valueMember:"value",width:"100%",height:"100%"}),a.jqxListBox("beginUpdate"),a.jqxListBox("checkAll");for(r=0;r<n.length;r++)n[r].value&&a.jqxListBox("uncheckIndex",r);a.jqxListBox("endUpdate")},_applyFiltersWindowChanges:function(){for(var self=this,lbFilters=self._filtersWindow.find(".listBoxFilters"),items=lbFilters.jqxListBox("getItems"),uncheckedItems=[],i=0;i<items.length;i++)items[i].checked||uncheckedItems.push(items[i].label);for(var fn="filterFunction = function(value) {",i=0;i<uncheckedItems.length;i++)fn+="if (value == '"+uncheckedItems[i]+"') return true;";fn+="return false;",fn+="}";for(var itemIndex=self._windowData.itemIndex,itemType=self._windowData.type,source=self._listBoxes[itemType],item=source.jqxListBox("getItem",itemIndex),targetCurrentSettings=self._targetCurrentSettings,i=0;i<targetCurrentSettings.filters.length;i++)targetCurrentSettings.filters[i].dataField==item.value.dataField&&(targetCurrentSettings.filters[i].filterFunction=eval(fn));self._refreshPivotGrid(self._targetCurrentSettings)}})}(jqxBaseFramework),function(m){m.jqx.pivot=function(e,t){var i=this;i.dataAdapter=e,i.rows=[],i.columns=[],i.values=[],i.filters=[],i.pivotValuesOnRows=!1,i.totals={rows:{subtotals:!1,grandtotals:!1},columns:{subtotals:!1,grandtotals:!1}},i.localization=null,i.aggregationFunctions={},i._initSettings={},m.extend(i.aggregationFunctions,i._defaultFunctions),t&&(i._initSettings=t,i.columns=t.columns||[],i.rows=t.rows||[],i.values=t.values||[],i.filters=t.filters||[],i.pivotValuesOnRows=t.pivotValuesOnRows||!1,i.totals=t.totals,i.localization=t.localization,m.extend(i.aggregationFunctions,t.customAggregationFunctions||{})),0===i.rows.length&&0<i.columns.length&&!1===i.pivotValuesOnRows&&(i.pivotValuesOnRows=!0),0===i.columns.length&&0<i.rows.length&&!1!==i.pivotValuesOnRows&&(i.pivotValuesOnRows=!1)},m.jqx.pivot.prototype={_clear:function(){this._pivot={rows:[],columns:[],values:[],groups:[],filters:[]},this._rowsHierarchy={items:{},valueItems:{}},this._columnsHierarchy={items:{},valueItems:{}},this._hashPivotItemsToTableRows={},this._hashRefItems={},this._hierarchyItemKeyIndex=0},_contains:function(e,t,i){if(!e)return!1;for(var s=0;s<e.length;s++)if(i?e[s]===t:e[s].dataField===t)return!0;return!1},_getFieldIndex:function(e,t){if(!e)return-1;for(var i=0;i<e.length&&e[i].name!==t;i++);return i===e.length?-1:i},dataBind:function(){if(this._clear(),this.dataAdapter){this.dataAdapter.dataBind();var e=["columns","rows","values","filters"];for(var t in e)for(var i=e[t],s=0;s<this[i].length;s++){var r=this[i][s];if(r){var n=!1;if("values"!==i&&"filters"!==i){for(var o in e){var a=e[o];if(i===a&&(n=this._contains(this._pivot[a],r.dataField)))break}if(n)continue}this._pivot[i].push(r)}}this._createPivot()}},_isRowSkipped:function(e){for(var t in this.filters){var i=this.filters[t];if(m.isFunction(i.filterFunction)&&(i.dataField&&void 0!==e[i.dataField]&&i.filterFunction(e[i.dataField])))return!0}return!1},getItemsFilterStatus:function(e){for(var t={},i=this.dataAdapter.records,s=0;s<i.length;s++){var r=i[s][e];if(!t[r])for(var n in this.filters){var o=this.filters[n];if(o.dataField===e){var a=m.isFunction(o.filterFunction)&&o.filterFunction(r);t[r]=a}}}return t},_createPivot:function(){if(0<this._pivot.values.length&&(0<this._pivot.rows.length||0<this._pivot.columns.length)){var e={},t={};this.hashSummaryPrefixes={};for(var i=this.dataAdapter.records,s=0;s<i.length;s++){var r=i[s];if(!this._isRowSkipped(r)){var n=this.dataAdapter._source.datafields;this._appendPivotHierarchy(s,e,this._rowsHierarchy,n,this._pivot.rows,this.pivotValuesOnRows?this._pivot.values:null),this._appendPivotHierarchy(s,t,this._columnsHierarchy,n,this._pivot.columns,this.pivotValuesOnRows?null:this._pivot.values)}}this._setupTotals(this._columnsHierarchy),this._setupTotals(this._rowsHierarchy)}},_setupTotals:function(e){if(this.totals){var t=e===this._columnsHierarchy?this.totals.columns:this.totals.rows;!t||!0!==t.subtotals&&!0!==t.grandtotals||(this._addTotals(e.items,!1,t),e===this._columnsHierarchy==!this.pivotValuesOnRows&&this._addvalueItemsToTotals(e.items))}},_addvalueItemsToTotals:function(e){for(var t in e){var i=e[t];if(i.isTotal){if(!this._hashRefItems[i.key])continue;refItems=this._hashRefItems[i.key].refItems;var s=[];for(t=0;t<refItems.length;t++){for(var r=this._hashPivotItemsToTableRows[refItems[t].key],n=0;n<r.length;n++)s.push(r[n]);if(0===t)for(var o in i.valueItems={},refItems[t].valueItems){var a=refItems[t].valueItems[o],l={text:a.text,boundField:a.boundField,isTotal:!0,key:this._hierarchyItemKeyIndex++};i.valueItems[o]=l}}for(var o in s.sort(function(e,t){return e-t}),i.valueItems)this._hashPivotItemsToTableRows[i.valueItems[o].key]=s;delete this._hashRefItems[i.key]}else this._addvalueItemsToTotals(i.items)}},_clearTotals:function(e){for(var t in e){var i=e[t];i.isTotal?delete e[i]:this._clearTotals(e[t].items)}},_addTotals:function(e,t,i){if(void 0!==e){this._clearTotals(e);var s=[],r=0;for(var n in e){var o=e[n];!0===i.subtotals&&this._addTotals(o.items,!0,i),s.push(o),r++}if(0!==r&&(t||1==i.grandtotals)){var a="_"+(t?"SubTotal":"Total")+"_",l=t?"SubTotal":"Total",d=this.localization;d&&(l=t?m.jqx.getByPriority([d.subtotalstring,d.SubTotalString,l]):m.jqx.getByPriority([d.grandtotalstring,d.GrandTotalString,l]));var h=this._hierarchyItemKeyIndex++,c=e[a]={text:l,key:h},u=[];for(n=0;n<s.length;n++)for(var p=0;p<this._hashPivotItemsToTableRows[s[n].key].length;p++)u.push(this._hashPivotItemsToTableRows[s[n].key][p]);this._hashRefItems[h]={item:c,refItems:s},this._hashPivotItemsToTableRows[h]=u.sort(function(e,t){return e-t}),c.isTotal=!0}}},_appendPivotHierarchy:function(e,t,i,s,r,n){var o=[],a="",l=this.dataAdapter.records[e];if(!this._getBoundFieldsValues(l,r,o))return!1;a.substring(0,a.length);var d=null;if(0==o.length&&null!=n)return this._attachValueFieldAsSummaryItem(e,t,d,a,n),!0;for(var h=0;h<o.length;h++){a+="!_$%^&_";var c=o[h];t[a+=c]?d=t[a]:(null==d?d=i.items[c]={text:c}:(this._addSourceRecordToPivotItem(d.key,e),d.items||(d.items={}),d=d.items[c]={text:c}),this._applyBoundFieldProperties(r[h],d),(t[a]=d).key=this._hierarchyItemKeyIndex++),null==n||0==n.length?this._addSourceRecordToPivotItem(d.key,e):(this._addSourceRecordToPivotItem(d.key,e),null!=n&&this._attachValueFieldAsSummaryItem(e,t,d,a,n))}return!0},_attachValueFieldAsSummaryItem:function(e,t,i,s,r){for(var n=0;n<r.length;n++){var o=r[n],a=null,l=s+o.dataField+n;if(t[l])a=t[l];else{if(null!=i)i.valueItems||(i.valueItems={}),a=i.valueItems[o.dataField+n]={text:o.text||o.dataField};else a=(this.pivotValuesOnRows?this._rowsHierarchy:this._columnsHierarchy).valueItems[o.dataField+n]={text:o.text||o.dataField};(t[l]=a).key=this._hierarchyItemKeyIndex++}this._applyBoundFieldProperties(o,a),this._addSourceRecordToPivotItem(a.key,e)}},_applyBoundFieldProperties:function(e,t){(t.boundField=e).text&&(t.boundFieldText=e.text)},_addSourceRecordToPivotItem:function(e,t){var i=null;0<(i=this._hashPivotItemsToTableRows[e]?this._hashPivotItemsToTableRows[e]:this._hashPivotItemsToTableRows[e]=[]).length&&i[i.length-1]==t||i.push(t)},_sortedArrayIntersectAndDedup:function(e,t){for(var i=[],s=0,r=0;s<e.length&&r<t.length;)e[s]<t[r]?s++:(e[s]>t[r]||(0!=i.length&&i[i.length-1]==e[s]||i.push(e[s]),s++),r++);return i},_getBoundFieldValue:function(e,t){return null==t?null:e[t]},_getBoundFieldsValues:function(e,t,i){for(var s=0;s<t.length;s++){var r=e[t[s].dataField];void 0!==r&&i.push(r)}return!0},_internalDrillThroughPivotCell:function(e,t,i){var s=this._hashPivotItemsToTableRows[e]||[],r=this._hashPivotItemsToTableRows[t]||[];return 0==s.length||0==r.length?[]:this._sortedArrayIntersectAndDedup(s,r)},drillThroughPivotCell:function(e,t){if(!e||void 0===e.key||!t||void 0===t.key)return[];var i=e.isTotal||t.isTotal;return this._internalDrillThroughPivotCell(e.key,t.key,i)},getFunctions:function(){return this.aggregationFunctions},_defaultFunctions:{count:function(e){return e.length},sum:function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i];return t},min:function(e){for(var t=1/0,i=0;i<e.length;i++)e[i]<t&&(t=e[i]);return t},max:function(e){for(var t=-1/0,i=0;i<e.length;i++)e[i]>t&&(t=e[i]);return t},average:function(e){var t=m.jqx.pivot.prototype._defaultFunctions.count(e);return 0==t?0:m.jqx.pivot.prototype._defaultFunctions.sum(e)/t},product:function(e){for(var t=0,i=0;i<e.length;i++)0==i?t=e[i]:t*=e[i];return t}},getCellValue:function(e,t){var i=this._getCellValueFromDataSource(e,t);if(isNaN(i))return"";var s=this.pivotValuesOnRows?e.boundField:t.boundField;return{value:i,formattedValue:this._formatValue(i,s.formatSettings,s.formatFunction)}},getCellFormatSettings:function(e,t){var i=this.pivotValuesOnRows?e.boundField:t.boundField;if(i)return i.formatSettings},_getCellValueFromDataSource:function(e,t){if(null==e)throw"Invalid rowItem";if(null==t)throw"Invalid columnItem";var i=e.isTotal||t.isTotal,s=this._internalDrillThroughPivotCell(e.key,t.key,i);if(0==s.length)return"";var r=this.pivotValuesOnRows?e.boundField:t.boundField;if(null!=r){var n=r.function||"count";"String"==typeof n&&(n=n.toLowerCase());try{for(var o=[],a=0;a<s.length;a++){var l=s[a],d=this.dataAdapter.records[l],h=this._getBoundFieldValue(d,r.dataField);o.push(parseFloat(h))}if("string"==typeof n&&(n=this.aggregationFunctions[n]),"function"==typeof n)return n(o)}catch(e){return NaN}return NaN}},_formatValue:function(e,t,i){if(null==e)return"";if(this._isObject(e)&&!this._isDate(e)&&!i)return"";if(i){if(!m.isFunction(i))return e.toString();try{return i(e)}catch(e){return e.message}}return this._isNumber(e)?this._formatNumber(e,t):this._isDate(e)?this._formatDate(e,t):t?(t.prefix||"")+e.toString()+(t.sufix||""):e.toString()},_isNumberAsString:function(e){if("string"!=typeof e)return!1;e=m.trim(e);for(var t=0;t<e.length;t++){var i=e.charAt(t);if(!("0"<=i&&i<="9"||","==i||"."==i)&&(("-"!=i||0!=t)&&!("("==i&&0==t||")"==i&&t==e.length-1)))return!1}return!0},_castAsDate:function(e,t){if(e instanceof Date&&!isNaN(e))return e;if("string"==typeof e){var i;if(t&&(i=m.jqx.dataFormat.parsedate(e,t),this._isDate(i)))return i;if(this._autoDateFormats){for(var s=0;s<this._autoDateFormats.length;s++)if(i=m.jqx.dataFormat.parsedate(e,this._autoDateFormats[s]),this._isDate(i))return i}else this._autoDateFormats=[];var r=this._detectDateFormat(e);return r&&(i=m.jqx.dataFormat.parsedate(e,r),this._isDate(i))?this._autoDateFormats.push(r):(i=new Date(e),this._isDate(i)&&-1==e.indexOf(":")&&i.setHours(0,0,0,0)),i}},_castAsNumber:function(e){if(e instanceof Date&&!isNaN(e))return e.valueOf();if("string"==typeof e)if(this._isNumber(e))e=parseFloat(e);else if(!/[a-zA-Z]/.test(e)){var t=new Date(e);null!=t&&(e=t.valueOf())}return e},_isNumber:function(e){return"string"==typeof e&&this._isNumberAsString(e)&&(e=parseFloat(e)),"number"==typeof e&&isFinite(e)},_isDate:function(e){return e instanceof Date&&!isNaN(e.getDate())},_isBoolean:function(e){return"boolean"==typeof e},_isObject:function(e){return e&&("object"==typeof e||m.isFunction(e))||!1},_formatDate:function(e,t){var i=e.toString();return t&&(t.dateFormat&&(i=m.jqx.dataFormat.formatDate(e,t.dateFormat)),i=(t.prefix||"")+i+(t.sufix||"")),i},_formatNumber:function(e,t){if(!this._isNumber(e))return e;t=t||{};var i=".",s="";this.localization&&(i=this.localization.decimalSeparator||this.localization.decimalseparator||i,s=this.localization.thousandsSeparator||this.localization.thousandsseparator||s),t.decimalSeparator&&(i=t.decimalSeparator),t.thousandsSeparator&&(s=t.thousandsSeparator);var r=t.prefix||"",n=t.sufix||"",o=t.decimalPlaces;isNaN(o)&&(o=this._getDecimalPlaces([e],void 0,3));var a=t.negativeWithBrackets||!1,l=e<0;l&&a&&(e*=-1);var d,h=e.toString(),c=Math.pow(10,o);if(h=(Math.round(e*c)/c).toString(),isNaN(h)&&(h=""),d=h.lastIndexOf("."),0<o)for(d<0?d=(h+=i).length-1:"."!==i&&(h=h.replace(".",i));h.length-1-d<o;)h+="0";d=-1<(d=h.lastIndexOf(i))?d:h.length;for(var u=h.substring(d),p=0,m=d;0<m;m--,p++)p%3==0&&m!==d&&(!l||1<m||l&&a)&&(u=s+u),u=h.charAt(m-1)+u;return h=u,l&&a&&(h="("+h+")"),r+h+n},_getDecimalPlaces:function(e,t,i){var s=0;isNaN(i)&&(i=10);for(var r=0;r<e.length;r++){var n=void 0===t?e[r]:e[r][t];if(!isNaN(n)){for(var o=n.toString(),a=0;a<o.length;a++)if((o[a]<"0"||"9"<o[a])&&0<=(s=o.length-(a+1)))return Math.min(s,i);for(0<s&&(n*=Math.pow(10,s));Math.round(n)!=n&&s<i;)s++,n*=10}}return s},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_detectDateFormat:function(e,t){var i={en_US_d:"M/d/yyyy",en_US_D:"dddd, MMMM dd, yyyy",en_US_t:"h:mm tt",en_US_T:"h:mm:ss tt",en_US_f:"dddd, MMMM dd, yyyy h:mm tt",en_US_F:"dddd, MMMM dd, yyyy h:mm:ss tt",en_US_M:"MMMM dd",en_US_Y:"yyyy MMMM",en_US_S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",en_CA_d:"dd/MM/yyyy",en_CA_D:"MMMM-dd-yy",en_CA_f:"MMMM-dd-yy h:mm tt",en_CA_F:"MMMM-dd-yy h:mm:ss tt",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",de_DE_d:"dd.MM.yyyy",de_DE_D:"dddd, d. MMMM yyyy",de_DE_t:"HH:mm",de_DE_T:"HH:mm:ss",de_DE_f:"dddd, d. MMMM yyyy HH:mm",de_DE_F:"dddd, d. MMMM yyyy HH:mm:ss",de_DE_M:"dd MMMM",de_DE_Y:"MMMM yyyy",fr_FR_d:"dd/MM/yyyy",fr_FR_D:"dddd d MMMM yyyy",fr_FR_t:"HH:mm",fr_FR_T:"HH:mm:ss",fr_FR_f:"dddd d MMMM yyyy HH:mm",fr_FR_F:"dddd d MMMM yyyy HH:mm:ss",fr_FR_M:"d MMMM",fr_FR_Y:"MMMM yyyy",it_IT_d:"dd/MM/yyyy",it_IT_D:"dddd d MMMM yyyy",it_IT_t:"HH:mm",it_IT_T:"HH:mm:ss",it_IT_f:"dddd d MMMM yyyy HH:mm",it_IT_F:"dddd d MMMM yyyy HH:mm:ss",it_IT_M:"dd MMMM",it_IT_Y:"MMMM yyyy",ru_RU_d:"dd.MM.yyyy",ru_RU_D:"d MMMM yyyy '?.'",ru_RU_t:"H:mm",ru_RU_T:"H:mm:ss",ru_RU_f:"d MMMM yyyy '?.' H:mm",ru_RU_F:"d MMMM yyyy '?.' H:mm:ss",ru_RU_Y:"MMMM yyyy",cs_CZ_d:"d.M.yyyy",cs_CZ_D:"d. MMMM yyyy",cs_CZ_t:"H:mm",cs_CZ_T:"H:mm:ss",cs_CZ_f:"d. MMMM yyyy H:mm",cs_CZ_F:"d. MMMM yyyy H:mm:ss",cs_CZ_M:"dd MMMM",cs_CZ_Y:"MMMM yyyy",he_IL_d:"dd MMMM yyyy",he_IL_D:"dddd dd MMMM yyyy",he_IL_t:"HH:mm",he_IL_T:"HH:mm:ss",he_IL_f:"dddd dd MMMM yyyy HH:mm",he_IL_F:"dddd dd MMMM yyyy HH:mm:ss",he_IL_M:"dd MMMM",he_IL_Y:"MMMM yyyy",hr_HR_d:"d.M.yyyy.",hr_HR_D:"d. MMMM yyyy.",hr_HR_t:"H:mm",hr_HR_T:"H:mm:ss",hr_HR_f:"d. MMMM yyyy. H:mm",hr_HR_F:"d. MMMM yyyy. H:mm:ss",hr_HR_M:"d. MMMM",hu_HU_d:"yyyy.MM.dd.",hu_HU_D:"yyyy. MMMM d.",hu_HU_t:"H:mm",hu_HU_T:"H:mm:ss",hu_HU_f:"yyyy. MMMM d. H:mm",hu_HU_F:"yyyy. MMMM d. H:mm:ss",hu_HU_M:"MMMM d.",hu_HU_Y:"yyyy. MMMM",jp_JP_d:"gg y/M/d",jp_JP_D:"gg y'?'M'?'d'?'",jp_JP_t:"H:mm",jp_JP_T:"H:mm:ss",jp_JP_f:"gg y'?'M'?'d'?' H:mm",jp_JP_F:"gg y'?'M'?'d'?' H:mm:ss",jp_JP_M:"M'?'d'?'",jp_JP_Y:"gg y'?'M'?'",lt_LT_d:"yyyy.MM.dd",lt_LT_D:"yyyy 'm.' MMMM d 'd.'",lt_LT_t:"HH:mm",lt_LT_T:"HH:mm:ss",lt_LT_f:"yyyy 'm.' MMMM d 'd.' HH:mm",lt_LT_F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",lt_LT_M:"MMMM d 'd.'",lt_LT_Y:"yyyy 'm.' MMMM",sa_IN_d:"dd-MM-yyyy",sa_IN_D:"dd MMMM yyyy dddd",sa_IN_t:"HH:mm",sa_IN_T:"HH:mm:ss",sa_IN_f:"dd MMMM yyyy dddd HH:mm",sa_IN_F:"dd MMMM yyyy dddd HH:mm:ss",sa_IN_M:"dd MMMM",basic_y:"yyyy",basic_ym:"yyyy-MM",basic_d:"yyyy-MM-dd",basic_dhm:"yyyy-MM-dd hh:mm",basic_bhms:"yyyy-MM-dd hh:mm:ss",basic2_ym:"MM-yyyy",basic2_d:"MM-dd-yyyy",basic2_dhm:"MM-dd-yyyy hh:mm",basic2_dhms:"MM-dd-yyyy hh:mm:ss",basic3_ym:"yyyy/MM",basic3_d:"yyyy/MM/dd",basic3_dhm:"yyyy/MM/dd hh:mm",basic3_bhms:"yyyy/MM/dd hh:mm:ss",basic4_ym:"MM/yyyy",basic4_d:"MM/dd/yyyy",basic4_dhm:"MM/dd/yyyy hh:mm",basic4_dhms:"MM/dd/yyyy hh:mm:ss"};t&&(i=m.extend({},i,t));var s=[];for(var r in m.isArray(e)?s=e:s.push(e),i)i[r]={format:i[r],count:0};for(var n=0;n<s.length;n++)if(value=s[n],null!=value&&null!=value)for(var r in i){null!=m.jqx.dataFormat.parsedate(value,i[r].format)&&i[r].count++}var o={key:void 0,count:0};for(var r in i)i[r].count>o.count&&(o.key=r,o.count=i[r].count);return o.key?i[o.key].format:""}}}(jqxBaseFramework),function(c){c.jqx.jqxWidget("jqxPivotGrid","",{}),c.extend(c.jqx._jqxPivotGrid.prototype,{defineInstance:function(){var e={scrollBarsEnabled:!0,source:null,groupingColumns:[],isGroupingEnabled:!1,_offsetX:0,_offsetY:0,_currentPosition:{},_selectStartPosition:{},_isMouseLeftButtonDown:!1,_timeLastUp:new Date,_timeLastDown:new Date,resizeTooltipEnabled:!1,isHorizontalResize:!0,_colResizeState:"NO_RESIZE",activeEditor:{Editor:null},_id:0,_colItemRangeSelectionBeg:null,_colItemRangeSelectionEnd:null,_rowItemRangeSelectionBeg:null,_rowItemRangeSelectionEnd:null,_isCTRLPressed:!1,_internalSelectMode:"CELLS_SELECT",_mostRightItemBounds:{x:0,y:0,width:0,height:0},_mostLeftItemBounds:{x:0,y:0,width:0,height:0},_adjSelectedItemsSave:{},multipleSelectionEnabled:!0,selectionEnabled:!0,selectionMode:"CELLS_SELECT",treeStyleRows:!0,autoResize:!1,cellsRenderer:null,itemsRenderer:null,localization:null};return c.extend(!0,this,e),this._createPivotAreas(),e},_createPivotAreas:function(){this._pivotRows&&(this._pivotRows.clear(),delete this._pivotRows),this._pivotColumns&&(this._pivotColumns.clear(),delete this._pivotColumns),this._pivotCells&&(this._pivotCells._resetCanvas(),this._pivotCells.clear(),delete this._pivotCells),this._pivotRows=new c.jqx.jqxPivotGrid.pivotRows(this),this._pivotColumns=new c.jqx.jqxPivotGrid.pivotColumns(this),this._pivotCells=new c.jqx.jqxPivotGrid.pivotCells,this._pivotCells.parentPivotGrid=this},_instanceId:0,createInstance:function(e){this.element;var t=this.host,i=this;i.localizeStrings(i.localization);var s="jqx-pivotgrid jqx-rc-all jqx-widget "+this.toThemeProperty("jqx-widget-content"),r="";this._isTouchDevice()&&(r="class='jqx-grid-menu-item-touch'"),t.append("<div class='"+s+"' style='width:100%; height: 100%; overflow:hidden; position:relative; onselectstart='return false;' oncontextmenu='return false;''><div id='divContent' style='width:100px; height:100%;'></div><div id='divHScroll' style='width:100%; height:17px;'></div><div id='divVScroll' style='width:17px; height:100%;'></div><div id='divContextMenu'><ul><li "+r+"><div id='sortasc' class='jqx-pivotgrid-sortasc-icon'></div><span>"+i._localizedStrings.sortascendingstring+"</span></li><li "+r+"><div id='sortdesc' class='jqx-pivotgrid-sortdesc-icon'></div><span>"+i._localizedStrings.sortdescendingstring+"</span></li><li "+r+"><div id='sortremove' class='jqx-pivotgrid-sortremove-icon'></div><span>"+i._localizedStrings.sortremovestring+"</span></li></ul></div></div>");var n=t.find("#divContent"),o=(n[0],document.createElement("div"));o.style.position="relative",o.style.left="0px",o.style.top="0px",o.style.width="100%",o.style.height="100%",o.style.overflow="hidden",n.append(o),this.contentCanvas=this.Canvas=o,this.hostVScroll=t.find("#divVScroll"),this.hostHScroll=t.find("#divHScroll"),this.hScroll=t.find("#divHScroll").jqxScrollBar({vertical:!1,theme:this.theme}),this.vScroll=t.find("#divVScroll").jqxScrollBar({vertical:!0,theme:this.theme}),i._createContextMenu(),i.id=i._instanceId++,i._resizeLineId="divResizeLine"+i.id,c(document.body).append("<div id='"+i._resizeLineId+"' style='position: absolute; display: none;'></div>");try{i.dataBind()}catch(e){throw"Databinding exception: "+e.toString()}i._installEventHandlers(),c.jqx.utilities.resize(i.host,function(){i.refresh()},!1),i._isInitialized||(i._isInitialized=!0)},destroy:function(){this._isInitialized=!1,this.host.find("#divHScroll").off(),this.host.find("#divVScroll").off(),this._contextMenu.off(),this.removeHandler(this.host),c.jqx.utilities.resize(this.host,null,!0)},_installEventHandlers:function(){var i=this;i.hostVScroll.on("valueChanged",function(e){e.currentTarget==i.hostVScroll[0]&&i.onVScroll(e.currentValue)}),i.hostHScroll.on("valueChanged",function(e){e.currentTarget==i.hostHScroll[0]&&i.onHScroll(e.currentValue)}),i.addHandler(i.host,"mousewheel DOMMouseScroll",function(e){if(!(i._isContextMenuOpen||i._pivotDesigner&&i._pivotDesigner._isWindowOpen())){var t=c.jqx.position(e);i.isPtInRect({x:t.left,y:t.top},i._rect)&&(e.preventDefault(),i._scrollBarPositions.vertical.visible&&i.onMouseWheel(e))}}),i.addHandler(i.host,"mouseenter",function(e){e.currentTarget==i.element&&i._onMouseEnter(e)}),i.addHandler(i.host,"mouseleave",function(e){e.currentTarget==i.element&&i._onMouseLeave(e)}),i.addHandler(i.host,"mousedown",function(e){i._isContextMenuOpen||i._pivotDesigner&&i._pivotDesigner._isWindowOpen()||(e.preventDefault(),i._onMouseDown(e),this.focus())}),i.addHandler(c(document),"mouseup",function(e){if(!i._isContextMenuOpen&&!(i._pivotDesigner&&i._pivotDesigner._isWindowOpen()||(e.preventDefault(),i._onMouseUp(e),e.cancel))){var t=c.jqx.position(e);(i.isPtInRect({x:t.left,y:t.top},i._rect)||"RESIZING"==i._colResizeState)&&i._onMouseClick(e)}}),i.addHandler(c(document),"mousemove",function(e){i._isContextMenuOpen||i._pivotDesigner&&i._pivotDesigner._isWindowOpen()||i._onMouseMove(e)}),i.addHandler(c(document),"keydown",function(e){i._isContextMenuOpen||i._pivotDesigner&&i._pivotDesigner._isWindowOpen()||i._isContextMenuOpen||(17==e.keyCode?i._isCTRLPressed=!0:16==e.keyCode?i._isSHIFTPressed=!0:i._handleKeyboardNavigation&&i._handleKeyboardNavigation(e))}),i.addHandler(c(document),"keyup",function(e){i._isContextMenuOpen||i._pivotDesigner&&i._pivotDesigner._isWindowOpen()||i._isContextMenuOpen||(17==e.keyCode?i._isCTRLPressed=!1:16==e.keyCode&&(i._isSHIFTPressed=!1))})},_createContextMenu:function(){var r=this,e=this.host.find("#divContextMenu");r._contextMenu=e.jqxMenu({width:"120px",autoCloseOnClick:!0,autoOpenPopup:!1,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0,theme:this.theme,keyboardNavigation:!1,mode:"popup"});for(var t=e.find("li"),i="",s=0;s<t.length;s++){var n=c(t[s]).text();n.length>i.length&&(i=n)}var o=c('<span style="white-space:nowrap;">'+i+"</span>");o.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(o);var a=o.outerWidth()+30;o.remove(),r._contextMenu=e.jqxMenu({width:a}),r._contextMenu.on("shown",function(){r._isContextMenuOpen=!0}),r._contextMenu.on("closed",function(){r._isContextMenuOpen=!1,r._hideItemMenuElement()}),r._contextMenu.on("itemclick",function(e){e.stopImmediatePropagation(),e.stopPropagation();var t=r._menuElement._itemMouseOver;if(t){var i=t.hierarchy==r._pivotColumns?r._pivotRows:r._pivotColumns,s=e.args.innerHTML;-1!=s.indexOf("sortasc")?i.sortBy(t,"asc"):-1!=s.indexOf("sortdesc")?i.sortBy(t,"desc"):-1!=s.indexOf("sortremove")&&i.removeSort()}})},_isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var e=c.jqx.mobile.isTouchDevice();if(this.touchDevice=e,1==this.touchmode){if(c.jqx.browser.msie&&c.jqx.browser.version<9)return this.enablehover=!1;e=!0,c.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=e}else 0==this.touchmode&&(e=!1);return e&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),e},propertyChangedHandler:function(e,t,i,s){null!=this._isInitialized&&0!=this._isInitialized&&("source"==t?this.dataBind():"theme"==t&&(this.hostVScrollBar.jqxScrollBar("theme",this.theme),this.hostHScrollBar.jqxScrollBar("theme",this.theme)),this._internalRefresh())},genId:function(){return this._id++},getCellId:function(e,t){return e.id+"_"+t.id},_scrollTimer:void 0,_renderOnTimeout:function(e){clearTimeout(this._scrollTimer);var t=this;0==e?(this._pivotColumns._refreshRequired=this._pivotRows._refreshRequired=!0,t._internalRefresh()):this._scrollTimer=setTimeout(function(){t._render()},e)},onVScroll:function(e){if((e=Math.round(e))!=this._offsetY){this._offsetY=e,this._renderOnTimeout(0)}},onHScroll:function(e){if((e=Math.round(e))!=this._offsetX){this._offsetX=e,this._renderOnTimeout(0)}},onMouseWheel:function(e){var t=0;if(e||(e=window.event),e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),t){e.preventDefault&&e.preventDefault(),e.returnValue=!1;var i=this.vScroll.jqxScrollBar("min"),s=this.vScroll.jqxScrollBar("max"),r=this.vScroll.jqxScrollBar("value");s<(r-=t*=10)&&(r=s),r<i&&(r=i),this.vScroll.jqxScrollBar("value",r)}},_onMouseMove:function(e){var t=c.jqx.position(e),i=t.left,s=t.top;if(this.isPtInRect({x:i,y:s},this._rect)||"RESIZING"==this._colResizeState){var r=this.host.offset();if(i-=Math.round(r.left),s-=Math.round(r.top),i=Math.max(i,0),s=Math.max(s,0),this._currentPosition.x!=i||this._currentPosition.y!=s){for(var n in this._currentPosition.x=i,this._currentPosition.y=s,this._scrollBarPositions)if(this._scrollBarPositions[n].visible&&this.isPtInRect({x:i,y:s},this._scrollBarPositions[n].rect))return;this._handleMouseMove(e),this.activeEditor&&this.activeEditor.Editor}}},_onMouseEnter:function(e){},_onMouseLeave:function(e){this._hideItemMenuElement()},_onMouseDown:function(e){var t=this._itemHitTest(this._currentPosition,{isOnItemButton:!1});if(null!=t&&this._raisePivotItemMouseEvent(t,"pivotitemmousedown",0==e.button?"left":"right"))return void(e.cancel=!0);0==e.button?this.onMouseLeftButtonDown(e):2==e.button&&this.onMouseRightButtonDown(e)},_onMouseUp:function(e){var t=this._itemHitTest(this._currentPosition,{isOnItemButton:!1});if(null!=t&&this._raisePivotItemMouseEvent(t,"pivotitemmouseup",0==e.button?"left":"right"))return void(e.cancel=!0);0==e.button?this.onMouseLeftButtonUp(e):2==e.button&&this.onMouseRightButtonUp(e)},_onMouseClick:function(e){if(this._handleMouseClick(e),!e.cancel){if(this._dtLastMouseClick)if(new Date-this._dtLastMouseClick<500)return this._handleMouseDoubleClick(e),void(this._dtLastMouseClick=void 0);this._dtLastMouseClick=new Date}},setDivContent:function(e,t,i,s,r){var n=this.getChild(e,"innerDiv");n.style.padding=i.top+"px "+i.right+"px "+i.bottom+"px "+i.left+"px",s&&(n.style["text-align"]=s),this.setElementSize(e,parseFloat(e.style.width),parseFloat(e.style.height)),r&&(n.style.width=parseFloat(e.style.width)-i.left+"px"),n.innerHTML=t},setElementPosition:function(e,t,i){e.style.position="absolute",e.style.left=t+"px",e.style.top=i+"px"},_getFloat:function(e){for(var t,i=0;i<e.length;i++)if(t=parseFloat(e[i]),!isNaN(t))return t;return NaN},setElementSize:function(e,t,i){e.style.width=t+"px",e.style.height=i+"px";var s=this.getChild(e,"innerDiv");if(s){var r=this._getFloat([s.style.padding.left,s.style.padding,0]),n=this._getFloat([s.style.padding.right,s.style.padding,0]),o=this._getFloat([s.style.padding.top,s.style.padding,0]),a=this._getFloat([s.style.padding.bottom,s.style.padding,0]);s.style.width=t-r-n+"px",s.style.height=i-o-a+"px"}},createCanvas:function(e){var t=document.createElement("div");return t.style["background-color"]="transparent",t.style.overflow="hidden",e.appendChild(t),t},createDiv:function(e,t,i,s){var r=document.createElement("div");r.id=t,r.style.height=s+"px",r.style.width=i+"px";var n=document.createElement("div");return n.id="innerDiv",n.style.height=s+"px",n.style.width=i+"px",r.appendChild(n),e.appendChild(r),r},getPivotRows:function(){return this._pivotRows},getPivotColumns:function(){return this._pivotColumns},getPivotCells:function(){return this._pivotCells},_layout:function(){this.host.find("#divContent"),this.host.find("#divVScroll"),this.host.find("#divHScroll"),this.host.width(),this.host.height();this._pivotCells.Canvas||(this._pivotCells.Canvas=this.createCanvas(this.Canvas,"divCells",100,100)),this._pivotRows.Canvas||(this._pivotRows.Canvas=this.createCanvas(this.Canvas,"divRowsHierarchy",100,100)),this._pivotColumns.Canvas||(this._pivotColumns.Canvas=this.createCanvas(this.Canvas,"divColumnsHierarchy",100,100)),this._pivotRows.isHidden?this._pivotRows.Canvas.style.display="none":(this._pivotRows.Canvas.style.display="block",this.setElementPosition(this._pivotRows.Canvas,this._pivotRows.x,this._pivotRows.y),this.setElementSize(this._pivotRows.Canvas,this._pivotRows.getWidth()+1,this._pivotRows.getHeight()),null==this._pivotRows.renderCanvas&&(this._pivotRows.renderCanvas=this.createCanvas(this._pivotRows.Canvas,"divRowsRender",100,100)),this.setElementSize(this._pivotRows.renderCanvas,this._pivotRows.getWidth()+1,this._pivotRows.getHeight())),this._pivotColumns.isHidden?this._pivotColumns.Canvas.style.display="none":(this._pivotColumns.Canvas.style.display="block",this.setElementPosition(this._pivotColumns.Canvas,this._pivotColumns.x,this._pivotColumns.y),this.setElementSize(this._pivotColumns.Canvas,this._pivotColumns.getWidth(),this._pivotColumns.getHeight()+1),null==this._pivotColumns.renderCanvas&&(this._pivotColumns.renderCanvas=this.createCanvas(this._pivotColumns.Canvas,"divColumnsRender",100,100)),this.setElementSize(this._pivotColumns.renderCanvas,this._pivotColumns.getWidth(),this._pivotColumns.getHeight()+1)),this.setElementPosition(this._pivotCells.Canvas,this._pivotColumns.x,this._pivotRows.y),this.setElementSize(this._pivotCells.Canvas,this._pivotCells.viewPort.width,this._pivotCells.viewPort.height),null==this._pivotCells.renderCanvas&&(this._pivotCells.renderCanvas=this.createCanvas(this._pivotCells.Canvas,"divCellsRender",100,100)),this.setElementSize(this._pivotCells.renderCanvas,this._pivotColumns.getWidth()+1,this._pivotRows.getHeight()+1)},refresh:function(){this._pivotColumns._renderRequired=!0,this._pivotRows._renderRequired=!0,this._pivotCells.clear(),this._internalRefresh()},_internalRefresh:function(){var e=this.host.offset();if(this.autoResize){var t=this._pivotColumns.isHidden?0:this._pivotColumns.getHeight(),i=this._pivotColumns.isHidden?0:this._pivotColumns.getWidth(),s=this._pivotRows.isHidden?0:this._pivotRows.getHeight(),r=this._pivotRows.isHidden?0:this._pivotRows.getWidth(),n={};n.width=i+r+1,n.height=t+s+1,n.width==this.host.width()&&n.height==this.host.height()||(this._pivotColumns._renderRequired=this._pivotRows._renderRequired=!0,this.host.css({width:n.width+"px",height:n.height+"px"}))}this._rect={x:e.left,y:e.top,width:this.host.width(),height:this.host.height()},this._render(),this.host.find("#divHScroll").jqxScrollBar("refresh")},_render:function(){var e=this._pivotColumns._renderRequired||this._pivotRows._renderRequired;this._pivotRows.compactStyleRenderingEnabled!=this.treeStyleRows&&(this._pivotRows.compactStyleRenderingEnabled=this.treeStyleRows,e=!0),e&&(this._pivotRows._renderRequired=this._pivotColumns._renderRequired=!0,this.RenderGridContent(),this._layout()),this._pivotRows.viewPort.y=this._offsetY+(this._pivotColumns.isVisible()?this._pivotColumns.viewPort.height:0),this._pivotColumns.viewPort.x=this._offsetX+(this._pivotRows.isVisible()?this._pivotRows.viewPort.width:0),this._pivotColumns.refresh(),this._pivotRows.refresh(),this._pivotCells.render(),this._updateMenuElement()},_updateMenuElement:function(){var e=this.host.find("#divContent")[0];this._menuElement&&(c(this._menuElement).off(),e.removeChild(this._menuElement));var t=document.createElement("div");t.style.height="16px",t.style.width="16px",t.style.id="menu_element",t.style.align="left",t.style.valign="top",t.style.display="none",e.appendChild(t),this._menuElement=t;var i=this;c(i._menuElement).on("click",function(){i._showItemContextMenu()})},dataBind:function(){var e=this.source;function l(e,t,i,s,r){for(var n in e.items){var o=e.items[n];(a=new c.jqx.jqxPivotGrid.pivotItem(i,s)).text=o.text,a.adapterItem=o,a.isColumn=r,t.items.push(a),l(o,a,a,s,r)}for(var n in e.valueItems){var a;o=e.valueItems[n];(a=new c.jqx.jqxPivotGrid.pivotItem(i,s)).adapterItem=o,a.text=o.text,a.isColumn=r,a._isValueItem=!0,t.valueItems.push(a),l(o,a,a,s,r)}}this.localization&&!e.localization&&(e.localization=this.localization),e.dataBind(),this._createPivotAreas(),l(e._rowsHierarchy,this._pivotRows,null,this._pivotRows,!1),l(e._columnsHierarchy,this._pivotColumns,null,this._pivotColumns,!0),this.bindingState="DataBoundPivot",this._pivotRows.autoResize("default"),this._pivotColumns.autoResize("default"),this._internalRefresh()},getChild:function(e,t){for(var i=e.childNodes,s=0;s<i.length;s++)if(i[s].id==t)return i[s];return null},scrollToOffset:function(e,t){for(var i=this.gridcells,s=0;s<i.length;s++)i[s].style.top=t+parseInt(i[s].originalY)+"px",this.setDivContent(i[s],"cell "+s)},getWidth:function(){return this.host.width()},getHeight:function(){return this.host.height()},RenderGridContent:function(){if(!this._pivotColumns._renderRequired&&!this._pivotRows._renderRequired)return this._pivotRows.viewPort.y=this._offsetY,void(this._pivotColumns.viewPort.x=this._offsetX);if(!this.PaintSuspended&&"RESIZING"!=this._colResizeState){var e={};if(e.x=this._offsetX,e.y=this._offsetY,e.width=this.getWidth(),e.height=this.getHeight(),0!=e.width&&0!=e.height)if(this.PaintSuspended=!0,this._pivotColumns._isColumnsCountRequresUpdate&&(this._pivotColumns._updateVisibleLeaves(),this._pivotColumns._updateColumnsCount(),this._pivotColumns._updateColumnsIndexes()),this._pivotRows._isColumnsCountRequresUpdate&&(this._pivotRows._updateColumnsCount(),this._pivotRows._updateColumnsIndexes()),0!=this.getWidth()&&0!=this.getHeight()){this.GroupingEnabled&&0<this.groupingColumns.length&&(this._pivotRows.isHidden=!0),this._pivotColumns._renderRequired&&this._pivotColumns.render(),this._pivotRows._renderRequired&&this._pivotRows.render();var t=this._pivotColumns.isVisible()?this._pivotColumns.getHeight():0,i=this._pivotRows.isVisible()?this._pivotRows.getWidth():0,s={width:this._pivotColumns.getWidth()+i,height:this._pivotRows.getHeight()+t};(this.scrollableAreaSize!=s||this.isSyncScrollRequired)&&(this.scrollableAreaSize=s,this.SynchronizeScrollBars());var r=this.host.find("#divContent"),n=this.host.find("#divVScroll"),o=this.host.find("#divHScroll"),a="none"!=o.css("display"),l="none"!=n.css("display");r.css({height:e.height-(a?o.height()+4:0)+"px"}),r.css({width:e.width-(l?n.width()+4:0)+"px"});var d=e.height;e.height==this.getHeight()&&(d=e.height-t-(a?o.height()+4:0))<0&&(d=e.height),this._pivotRows.x=0,this._pivotRows.y=t,this._pivotRows.viewPort={x:this._pivotRows.x,y:e.y,width:this._pivotRows.getWidth(),height:d};var h=e.width;e.width==this.getWidth()&&(h=e.width-i-(l?n.width()+4:0))<0&&(h=e.width),this._pivotColumns.x=i,this._pivotColumns.y=0,this._pivotColumns.viewPort={x:e.x,y:this._pivotColumns.y,width:h,height:this._pivotColumns.getHeight()},this._pivotCells.Bounds={x:this._pivotColumns.x,y:this._pivotRows.y,width:this._pivotColumns.getWidth(),height:d},this._pivotCells.viewPort={x:e.x,y:e.y,width:h,height:d},null!=this.draggingItem&&dragElement.visibility==visibility.visible&&dragElement.setValue(Canvas.ZIndexProperty,1e4),this._pivotRows._renderRequired=!1,this._pivotColumns._renderRequired=!1,this.PaintSuspended=!1}else this.PaintSuspended=!1}},SynchronizeScrollBars:function(){var e=!1,t=!1,i=this.host.find("#divVScroll"),s=this.host.find("#divHScroll"),r="none"!=s.css("display"),n="none"!=i.css("display"),o=s.height();if(this.scrollableAreaSize.height>this.getHeight()&&(e=!0),this.scrollableAreaSize.width>this.getWidth()&&(t=!0),this.scrollableAreaSize.height<=this.getHeight()&&this.scrollableAreaSize.width<=this.getWidth()&&(t=e=!1),e&&(t=t||this.scrollableAreaSize.width>this.getWidth()-o),t&&(e=e||this.scrollableAreaSize.height>this.getHeight()-o),e){n||!0,i[0].style.display="block";var a=this.getHeight()-(t?o+5:0);a<0&&(a=0),this.setElementPosition(i[0],this.getWidth()-o-4,0),this.setElementSize(i[0],o,a),i.jqxScrollBar("min",0);var l=this.scrollableAreaSize.height-(this.getHeight()-(t?o:0))+4;l!=i.jqxScrollBar("max")&&i.jqxScrollBar("max",l),null!=this.VerticalScrollBarSmallChange?i.jqxScrollBar("step",this.VerticalScrollBarSmallChange):i.jqxScrollBar("step",10);var d=this.scrollableAreaSize.height/10;d<10&&(d=10),null!=this.VerticalScrollBarLargeChange&&(d=verticalScrollBarLargeChange),i.jqxScrollBar("largestep")!=d&&i.jqxScrollBar("largestep",d),i.jqxScrollBar("largestep")<i.jqxScrollBar("step")&&i.jqxScrollBar("largestep",i.jqxScrollBar("step")),this.rtl}else n&&!0,i.jqxScrollBar("value",0),i[0].style.display="none";if(t){r&&!0,s[0].style.display="block";var h=this.getWidth()-(e?o+5:0);(h<0||null==h)&&(h=0),this.setElementPosition(s[0],0,this.getHeight()-o-4),this.setElementSize(s[0],h,o),0!=s.jqxScrollBar("min")&&s.jqxScrollBar("min",0);var c=this.scrollableAreaSize.width-(this.getWidth()-(e?o:0))+4;s.jqxScrollBar("max")!=c&&s.jqxScrollBar("max",c),null!=this.HorizontalScrollBarSmallChange?s.jqxScrollBar("step",this.HorizontalScrollBarSmallChange):s.jqxScrollBar("step",10);var u=this.getWidth()/2;u<25&&(u=25),null!=this.HorizontalScrollBarLargeChange&&(u=this.HorizontalScrollBarSmallChange),s.jqxScrollBar("largestep",u),s.jqxScrollBar("largestep")<s.jqxScrollBar("largestep")&&s.jqxScrollBar("largestep",s.jqxScrollBar("step"))}else r&&!0,s.jqxScrollBar("value",0),s[0].style.display="none";t=t&&this.scrollBarsEnabled,e=e&&this.scrollBarsEnabled,t!=("block"==s[0].display)&&(s[0].display=t?"block":"none"),e!=("block"==i[0].display)&&(i[0].display=e?"block":"none"),this._scrollBarPositions={vertical:{visible:e,rect:{x:i.position().left,y:i.position().top,width:i.width(),height:i.height()}},horizontal:{visible:t,rect:{x:s.position().left,y:s.position().top,width:s.width(),height:s.height()}}},s.jqxScrollBar("refresh"),i.jqxScrollBar("refresh")},isPtInRect:function(e,t){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height},onMouseLeftButtonUp:function(e){var t=this;for(var i in t._scrollBarPositions)if(this._scrollBarPositions[i].visible&&this.isPtInRect(t._currentPosition,t._scrollBarPositions[i].rect))return t._isMouseCaptured()&&t._releaseMouseCapture(),void(t._isMouseLeftButtonDown=!1);if(t._isMouseCaptured())t._releaseMouseCapture();else if(!t._itemMenuButtonMouseOver&&!t._isContextMenuOpen){t.canDrag=!1;var s=c.jqx.position(e),r=t.isPtInRect({x:s.left,y:s.top},t._rect),n=t._pivotCells._hitTest(t._currentPosition);if(n&&r)if(t._raisePivotCellMouseEvent(n.pivotRow,n.pivotColumn,"pivotcellmouseup","left"))return;if("RESIZING"==t._colResizeState){t._colResizeState="NO_RESIZE",t._updateCursor("ARROW"),t._pivotColumns._renderRequired=!0,t._pivotRows._renderRequired=!0;var o=t.resizingItem.x+t.resizingItem.hierarchy.x-t._offsetX,a=t.resizingItem.y+t.resizingItem.hierarchy.y-t._offsetY;return this.isHorizontalResize?t.resizingItem.setWidth(Math.max(t.resizingItem.minimumWidth,Math.abs(t._currentPosition.x-o))):t.resizingItem.setHeight(Math.max(t.resizingItem.minimumHeight,Math.abs(t._currentPosition.y-a))),c("body").find("#"+t._resizeLineId).hide(),t.resizingItem=null,t.resizeTooltipEnabled,t._isMouseLeftButtonDown=!1,void t._internalRefresh()}var l={isOnItemButton:!1},d=t._itemHitTest(t._currentPosition,l);if(null==d||!l.isOnItemButton&&!l.isOnMenuButton){var h=!1;if(t._canDrop(d)?(t._endDrag(d),h=!0):t.dragElement&&"block"==t.dragElement.style.display&&(t._endDrag(draggingItem),h=!0),h)return t._isMouseLeftButtonDown=!1,void t._internalRefresh();t._isMouseLeftButtonDown=!1,r&&null==t.activeEditor.Editor&&t._updateSelection()}}},onMouseLeftButtonDown:function(e){for(var t in this._scrollBarPositions)if(this._scrollBarPositions[t].visible&&this.isPtInRect(this._currentPosition,this._scrollBarPositions[t].rect))return void this._captureMouse();var i={isOnItemButton:!1},s=this._itemHitTest(this._currentPosition,i);this._timeLastDown=new Date;if(this.isShiftPressed||(this._selectStartPosition={x:this._currentPosition.x,y:this._currentPosition.y}),!this._itemMenuButtonMouseOver&&!this._isContextMenuOpen){if(this._isMouseLeftButtonDown=!0,"READY_RESIZE"==this._colResizeState)return this._colResizeState="RESIZING",this._updateCursor(this.isHorizontalResize?"COLUMN_RESIZE":"ROW_RESIZE"),void this._refreshMouseCursor();if("RESIZING"!=this._colResizeState){if(null!=s){if(i.isOnItemButton){if(this._lastToggle&&this._lastToggle.item==s&&new Date-this._lastToggle.time<500)return;return this._isMouseLeftButtonDown=!1,s.isExpanded?s.collapse():s.expand(),this._lastToggle={time:new Date,item:s},void this._internalRefresh()}this.canDrag=!0,i.isOnItemButton?this._updateCursor("ARROW"):this._updateCursor("CROSS"),s.isColumn?this._internalSelectMode="COL_SELECT":this._internalSelectMode="ROW_SELECT"}else this._internalSelectMode="CELLS_SELECT";var r=this._pivotCells._hitTest(this._currentPosition);if(r)if(this._raisePivotCellMouseEvent(r.pivotRow,r.pivotColumn,"pivotcellmousedown","left"))return;null==this.activeEditor.Editor&&this._updateSelection(),this._refreshMouseCursor()}}},onMouseRightButtonDown:function(e){this._timeLastDown=new Date;var t=this._itemHitTest(this._currentPosition,{isOnItemButton:!1});if(null==t){var i=this._pivotCells._hitTest(this._currentPosition);i&&this._raisePivotCellMouseEvent(i.pivotRow,i.pivotColumn,"pivotcellmousedown","right")}else this._raisePivotItemMouseEvent(t,"pivotitemmousedown","right")},onMouseRightButtonUp:function(e){var t=c.jqx.position(e),i=this.isPtInRect({x:t.left,y:t.top},this._rect),s=this._pivotCells._hitTest(this._currentPosition);s&&i&&this._raisePivotCellMouseEvent(s.pivotRow,s.pivotColumn,"pivotcellmouseup","right"),this._timeLastUp=new Date},_itemMouseMove:function(e,t){if(this.resizingItem)this.isHorizontalResize?this._updateCursor("COLUMN_RESIZE"):this._updateCursor("ROW_RESIZE");else{this._menuElement._itemMouseOver!=t&&this._hideItemMenuElement(),this._updateCursor("CROSS");var i={x:t.x,y:t.y,width:t.getDisplayWidth(),height:t.getDisplayHeight()};if(t.isColumn?i.x+=t.hierarchy.x-this._offsetX:i.y+=t.hierarchy.y-this._offsetY,t.IsRowsHierarchyItem&&_pivotRows.compactStyleRenderingEnabled&&(i.height=t.height),i.right=i.x+i.width,i.bottom=i.y+i.height,Math.abs(i.right-e.x)<=4&&e.y>=i.y&&e.y<=i.bottom){if(this.isHorizontalResize=!0,t.hierarchy.resizable&&!this._pivotColumns.isGroupingColumn(t)){if(this._updateCursor("COLUMN_RESIZE"),this.resizingItem=t.isColumn?t._getLastVisibleLeaf(t):t,!this.resizingItem.isColumn&&!this.resizingItem.isExpanded){var s=this._pivotRows._getVisibleLeafLevelItems();for(var r in s){var n=s[r];n.ItemLevel>this.resizingItem.ItemLevel&&(this.resizingItem=n)}}this._colResizeState="READY_RESIZE"}}else{if(!t.isColumn&&Math.abs(i.bottom-e.y)<=3)return this.isHorizontalResize=!1,t.IsRowsHierarchyItem&&this._pivotRows.compactStyleRenderingEnabled||(t=t._getLastVisibleLeaf(t)),void(t.hierarchy.resizable&&(this._updateCursor("ROW_RESIZE"),this.resizingItem=t,this._colResizeState="READY_RESIZE"));var o=t.hierarchy.getOtherHierarchy();t.hierarchy.sortable&&0<o.items.length&&this._hitTestShowItemMenuElement(e,t,i)}}},isInHierarchyViewPort:function(e,t){return t.isColumnsHierarchy?this.isPtInRect({x:e.x+this._offsetX,y:e.y},t.viewPort):this.isPtInRect({x:e.x,y:e.y+this._offsetY},t.viewPort)},_hitTestShowItemMenuElement:function(e,t,i){if(this._menuElement&&this._menuElement._itemMouseOver&&this._menuElement._itemMouseOver._element&&c(this._menuElement._itemMouseOver._element).find("#sortElement").show(),this._menuElement.style.display="none",!(this._isContextMenuOpen||0<t.valueItems.length)&&e.x<i.right&&e.x>i.x&&e.y>=i.y&&e.y<=i.bottom){var s=c.extend({},this._rect);s.x=s.y=0,"block"==this.vScroll[0].display&&(s.width-=this.vScroll.width()),"block"==this.hScroll[0].display&&(s.height-=this.hScroll.height());var r={x:this._currentPosition.x,y:this._currentPosition.y};if(r.x-=t.hierarchy.x-(t.hierarchy.viewPort.x-t.hierarchy.x),r.y-=t.hierarchy.y-(t.hierarchy.viewPort.y-t.hierarchy.y),menuRect={x:t.x+i.width-18,y:t.y+(i.height-16)/2+1,width:16,height:16},this._menuElement.style.height=menuRect.height+"px",this._menuElement.className=this.toThemeProperty("jqx-pivotgrid-menu-button"),t.isColumn?menuRect.x+=t.hierarchy.x-this._offsetX:menuRect.y+=t.hierarchy.y-this._offsetY,this.setElementPosition(this._menuElement,menuRect.x,menuRect.y),this.isPtInRect({x:menuRect.x,y:menuRect.y},s)&&this.isPtInRect({x:menuRect.x,y:menuRect.y+menuRect.height},s)&&this.isPtInRect({x:menuRect.x+menuRect.width,y:menuRect.y},s)&&this.isPtInRect({x:menuRect.x+menuRect.width,y:menuRect.y+menuRect.height},s)){if(this._menuElement.style.display="block",this._menuElement._itemMouseOver=t,c(this._menuElement._itemMouseOver._element).find("#sortElement").hide(),!t._currentCustomContent){var n=c(t._element).css("background-color");this._menuElement.style["background-color"]=n}t.isColumn?menuRect.x+=this._offsetX-t.hierarchy.x:menuRect.y+=this._offsetY-t.hierarchy.y,this.isPtInRect({x:r.x,y:r.y},menuRect)&&(this._itemMenuButtonMouseOver=!0)}}},_hideItemMenuElement:function(){this._menuElement&&!this._isContextMenuOpen&&"block"==this._menuElement.style.display&&(this._menuElement.style.display="none",c(this._menuElement._itemMouseOver._element).find("#sortElement").show())},_hideItemContextMenu:function(){this._contextMenu.jqxMenu("close"),this._hideItemMenuElement()},_showItemContextMenu:function(){var e=this._menuElement._itemMouseOver;if(e){var t=this._contextMenu.width(),i=this._contextMenu.height();this._contextMenu.find("#sortasc")[0].className="jqx-pivotgrid-sortasc-icon "+this.toThemeProperty("jqx-pivotgrid-sortasc-icon"),this._contextMenu.find("#sortdesc")[0].className="jqx-pivotgrid-sortdesc-icon "+this.toThemeProperty("jqx-pivotgrid-sortdesc-icon"),this._contextMenu.find("#sortremove")[0].className="jqx-pivotgrid-sortremove-icon "+this.toThemeProperty("jqx-pivotgrid-sortremove-icon");var s=-t+e.displayWidth+e.x+(e.hierarchy.viewPort.x-this._offsetX)-this._offsetX;e.isColumn||(s=e.x+e.displayWidth);var r=e.y+e.getDisplayHeight();e.isColumn||(r=e.y-this._offsetY+e.hierarchy.y),s<=1&&(s=1),r<this._pivotColumns.y+this._pivotColumns.getHeight()&&(r=this._pivotColumns.y+this._pivotColumns.getHeight()),r+i>this._rect.height&&(r=this._rect.height-i),this._contextMenu.jqxMenu("open",s+this._rect.x,r+this._rect.y),this._contextMenu.focus()}},_handleMouseMove:function(e){if("RESIZING"==this._colResizeState)return this._doResize({x:this._currentPosition.x,y:this._currentPosition.y}),void this._refreshMouseCursor();this._colResizeState="NO_RESIZE",this.resizingItem=null;var t=this._currentPosition,i=null;this.isInHierarchyViewPort({x:t.x,y:t.y},this._pivotColumns)&&(i=this._pivotColumns.hitTest(t));var s=null;if(this.isInHierarchyViewPort({x:t.x,y:t.y},this._pivotRows)&&(s=this._pivotRows.hitTest(t)),this._itemMenuButtonMouseOver=!1,null!=i||null!=s){var r=null==i?s:i;this.gridCellMouseOver=null,this._itemMouseMove(t,r),this._focusedItem!=r&&(this._focusedItem=r,this._isMouseLeftButtonDown&&this._updateSelection());var n={};return this.CellsHighlightOnHierarchyItemMoveEnabled&&(r.IsRowsHierarchyItem&&"CELLS_HIGHLIGHT_ROW"==this.CellsHighlightMode||r.isColumn&&"CELLS_HIGHLIGHT_COLUMN"==this.CellsHighlightMode)&&(n=r.isColumn?{x:r.x,y:0,width:r.DisplayWidth,height:this._pivotRows.getHeight()}:{x:0,y:r.y,width:this._pivotColumns.getWidth(),height:r.getDisplayHeight()},(r.isColumn&&this.isGroupingEnabled&&0<this.groupingColumns.length||r.IsRowsHierarchyItem&&this._pivotRows.isOnRowDetails(this._currentPosition,r))&&(n={x:0,y:0,width:0,height:0})),void this._refreshMouseCursor()}this._hideItemMenuElement();this.gridCellMouseOver;this.resizingItem=null,this._focusedItem=null,this._colResizeState="NO_RESIZE",this._updateCursor("ARROW");var o=null;this.gridCellMouseOver&&((o={}).pivotColumn=this.gridCellMouseOver.pivotColumn,o.pivotRow=this.gridCellMouseOver.pivotRow);var a=this._pivotCells._hitTest(t);if(this._isMouseLeftButtonDown&&a){null!=this.gridCellMouseOver&&this.gridCellMouseOver.pivotRow==s&&this.gridCellMouseOver.pivotColumn==i||(this.gridCellMouseOver={pivotRow:a.pivotRow,pivotColumn:a.pivotColumn,pivotCells:this._pivotCells});n={x:0,y:0,width:0,height:0};"CELLS_HIGHLIGHT_COLUMN"==this.cellsHighlightMode?n={x:this.gridCellMouseOver.pivotColumn.x,y:0,width:this.gridCellMouseOver.pivotColumn.getDisplayWidth(),height:this._pivotRows.getHeight()}:"CELLS_HIGHLIGHT_ROW"==this.cellsHighlightMode?n={x:0,y:this.gridCellMouseOver.pivotRow.y,width:this._pivotColumns.getWidth(),height:this.gridCellMouseOver.pivotRow.getDisplayHeight()}:"CELLS_HIGHLIGHT_SINGLE_CELL"==this.cellsHighlightMode&&(n={x:this.gridCellMouseOver.pivotColumn.x,y:this.gridCellMouseOver.pivotRow.y,width:this._pivotColumns.getWidth(),height:this.gridCellMouseOver.pivotRow.getDisplayHeight()},this.isGroupingEnabled&&0<this.groupingColumns.length&&0<this.gridCellMouseOver.pivotRow.items.length&&(n={x:0,y:0,width:0,height:0}),this.gridCellMouseOver.pivotRow.RowDetailsVisible&&(n.height-=this.gridCellMouseOver.pivotRow.GetRowDetailsHeight())),(this._pivotColumns.isGroupingColumn(this.gridCellMouseOver.pivotColumn)||this._pivotRows.isOnRowDetails(this._currentPosition,this.gridCellMouseOver.pivotRow))&&(n={x:0,y:0,width:0,height:0})}else this.gridCellMouseOver=null;null==this.gridCellMouseOver||this.gridCellMouseOver==o&&o.pivotRow==this.gridCellMouseOver.pivotRow&&o.pivotColumn==this.gridCellMouseOver.pivotColumn||this._isMouseLeftButtonDown&&!this._itemMenuButtonMouseOver&&(this._updateSelection(),this._internalRefresh())},_handleMouseClick:function(e){var t={isOnItemButton:!1},i=this._itemHitTest(this._currentPosition,t);if(null!=i){if(this._raisePivotItemMouseEvent(i,"pivotitemclick",0==e.button?"left":"right"))return void(e.cancel=!0);if(this._itemMenuButtonMouseOver||this._isContextMenuOpen)return;if(this._isMouseLeftButtonDown&&!t.isOnItemButton&&"Automatic"==i.sortMode&&0==i.valueItems.length){var s=this.cursor;this.cursor="Wait",this.cursor=s}}else{var r=this._pivotCells._hitTest(this._currentPosition);if(r)if(this._raisePivotCellMouseEvent(r.pivotRow,r.pivotColumn,"pivotcellclick",0==e.button?"left":"right"))return void(e.cancel=!0)}},_handleMouseDoubleClick:function(e){if(null!=this.activeEditor.Editor){if(0==this.hideEditor("MOUSE_DBLCLICK",null,!0))return}if(!this._itemMenuButtonMouseOver&&!this._isContextMenuOpen){var t={isOnItemButton:!1},i=this._itemHitTest(this._currentPosition,t);if(null!=i){if(t.isOnMenuButton)return;if(this._raisePivotItemMouseEvent(i,"pivotitemdblclick",0==e.button?"left":"right"))return;if(this._lastToggle&&this._lastToggle.item==i&&new Date-this._lastToggle.time<500)return;0==e.button&&(i.isExpanded?i.collapse():i.expand(),i.hierarchy.selectItem(i),this._internalRefresh()),this._lastToggle={time:new Date,item:i}}else{var s=this._pivotCells._hitTest(this._currentPosition);if(s)if(this._raisePivotCellMouseEvent(s.pivotRow,s.pivotColumn,"pivotcelldblclick",0==e.button?"left":"right"))return}this._refreshMouseCursor()}},_isMouseCaptured:function(){return!0===this._captured},_releaseMouseCapture:function(){this._captured=!1},_captureMouse:function(){this._captured=!0},_updateCursor:function(e){"ARROW"==e?this.element.style.cursor="default":"CROSS"==e?this.element.style.cursor="pointer":"COLUMN_RESIZE"==e?this.element.style.cursor="col-resize":"ROW_RESIZE"==e&&(this.element.style.cursor="row-resize")},_refreshMouseCursor:function(){},_ensureEditorFocus:function(){},focus:function(){},_itemHitTest:function(e,t){t.isOnItemButton=!1;var i=null;if(!this._pivotRows.isHidden&&this.isInHierarchyViewPort(e,this._pivotRows)&&(i=this._pivotRows.hitTest(e)),null==i&&!this._pivotColumns.isHidden&&this.isInHierarchyViewPort(e,this._pivotColumns)&&(i=this._pivotColumns.hitTest(e)),null!=i){var s={x:this._currentPosition.x,y:this._currentPosition.y};if(s.x-=i.hierarchy.x-(i.hierarchy.viewPort.x-i.hierarchy.x),s.y-=i.hierarchy.y-(i.hierarchy.viewPort.y-i.hierarchy.y),0!=i.items.length&&0!=i.expandCollapseEnabled&&i.hierarchy.showExpandCollapseButtons){var r=0;!i.hierarchy.isColumnsHierarchy&&i.hierarchy.compactStyleRenderingEnabled&&(r=24*i.itemLevel),s.x>i.x+9+r&&s.x<i.x+20+r&&s.y>i.y+9&&s.y<i.y+20&&(t.isOnItemButton=!0)}var n={x:i.x,y:i.y,width:i.getDisplayWidth(),height:i.getDisplayHeight()},o={x:i.x+n.width-16,y:i.y,width:16,height:n.height};this.isPtInRect(s,o)&&i.hierarchy.sortable&&(t.isOnMenuButton=!0)}return i},_raisePivotCellMouseEvent:function(e,t,i,s){var r=new c.Event(i);return r.owner=this,r.args={pivotRow:e,pivotColumn:t,mousebutton:s,cancel:!1},this.host.trigger(r),!!r.args.cancel},_raisePivotItemMouseEvent:function(e,t,i){var s=new c.Event(t);return s.owner=this,s.args={pivotItem:e,mousebutton:i,cancel:!1},this.host.trigger(s),!!s.args.cancel},_beginDrag:function(e){},_endDrag:function(e){},_canDrop:function(e){},_doResize:function(e){if(null!=this.resizingItem&&this.resizingItem.hierarchy.resizable&&!this._pivotColumns.isGroupingColumn(this.resizingItem)){this.isHorizontalResize?this._updateCursor("COLUMN_RESIZE"):this._updateCursor("ROW_RESIZE"),this._focusedItem=this.resizingItem;var t=this.resizingItem.x+2*this.resizingItem.hierarchy.x-this.resizingItem.hierarchy.viewPort.x,i=this.resizingItem.y+2*this.resizingItem.hierarchy.y-this.resizingItem.hierarchy.viewPort.y,s=!1,r=(this.resizingItem.hierarchy,c("body").find("#"+this._resizeLineId));if(this.isHorizontalResize){var n=e.x-t;if(n<this.resizingItem.minimumWidth)return;var o={x:e.x+this._rect.x,y:this._pivotRows.y+this._rect.y};r.css({"border-right":"1px dotted #555","border-bottom":"",width:"1px",height:this._pivotCells.viewPort.height,top:o.y,left:o.x,display:"block"}),n>=this.resizingItem.minimumWidth&&n<=this.resizingItem.maximumWidth&&(this.resizeTooltipEnabled&&(this._resizeTooltip.Content="width: "+n+" pixels"),s=!0)}else{var a=e.y-i;if(a<this.resizingItem.minimumHeight)return;o={x:this._pivotColumns.x+this._rect.x,y:e.y+this._rect.y};r.css({"border-bottom":"1px dotted #555","border-right":"",height:"1px",width:this._pivotCells.viewPort.width,left:o.x,top:o.y,display:"block",zIndex:5e4}),a>=this.resizingItem.minimumHeight&&a<=this.resizingItem.maximumHeight&&(this.resizeTooltipEnabled&&(this._resizeTooltip.Content="height: "+a+" pixels"),s=!0)}s&&this.resizeTooltipEnabled&&(this._resizeTooltip.visibility!=visibility.visible&&(this._resizeTooltip.visibility=visibility.visible),_resizeTooltip.setValue(Canvas.LeftProperty,e.x),_resizeTooltip.setValue(Canvas.TopProperty,e.y),_resizeTooltip.setValue(Canvas.ZIndexProperty,10002))}},_internalClearSelection:function(){this._pivotColumns._internalClearSelection(),this._pivotRows._internalClearSelection(),this._pivotCells._internalClearSelection()},_beginSelectionUpdate:function(){this._isCTRLPressed&&this.multipleSelectionEnabled||(this._pivotCells._beginSelectionUpdate(),this._pivotColumns._beginSelectionUpdate(),this._pivotRows._beginSelectionUpdate())},_endSelectionUpdate:function(){this._pivotColumns._endSelectionUpdate(),this._pivotRows._endSelectionUpdate(),this._pivotCells._endSelectionUpdate()},_updateSelection:function(){if(this.selectionEnabled){this._colItemRangeSelectionBeg=null,this._rowItemRangeSelectionBeg=null,this._beginSelectionUpdate();var e=!1;if(this._isCTRLPressed&&0!=this.multipleSelectionEnabled||(this._internalClearSelection(),e=!0),null!=this.activeEditor.Editor)return this._internalClearSelection(),void this._endSelectionUpdate();var t=-1,i=-1,s={x:this._selectStartPosition.x,y:this._selectStartPosition.y};s.y-=this._offsetY,s.x-=this._offsetX;var r=this._itemHitTest(this._selectStartPosition,{isOnItemButton:!1});if(null!=r)if(!r.isColumn&&this._pivotRows.compactStyleRenderingEnabled||(r=r._getFirstVisibleLeaf(r)),r.isColumn){if("FULL_ROW_SELECT"==this.selectionMode)return this._internalSelectMode="NO_SELECT",void this._endSelectionUpdate();this._internalSelectMode="COL_SELECT",this._colItemRangeSelectionBeg=r}else{if("FULL_COLUMN_SELECT"==this.selectionMode)return this._internalSelectMode="NO_SELECT",this._endSelectionUpdate(),void this._internalRefresh();this._internalSelectMode="ROW_SELECT",this._rowItemRangeSelectionBeg=r}else{if(!(l=this._pivotCells._hitTest(this._selectStartPosition)))return this._internalSelectMode="NO_SELECT",this._endSelectionUpdate(),void this._internalRefresh();this._internalSelectMode="CELLS_SELECT","FULL_ROW_SELECT"==this.selectionMode?this._internalSelectMode="ROW_SELECT":"FULL_COLUMN_SELECT"==this._SelectionMode&&(this._internalSelectMode="COL_SELECT")}var n={x:this._currentPosition.x,y:this._currentPosition.y};"COL_SELECT"==this._internalSelectMode?(n.y>=this._pivotColumns.y+this._pivotColumns.getHeight()&&(n.y=this._pivotColumns.y+this._pivotColumns.getHeight()-1),n.y<=this._pivotColumns.y&&(n.y=this._selectStartPosition.y),n.x<=this._pivotColumns.x&&(n.x=this._pivotColumns.x+1),n.x>=this._pivotColumns.x+this._pivotColumns.getWidth()&&(n.x=this._pivotColumns.x+this._pivotColumns.getWidth()-1)):"ROW_SELECT"==this._internalSelectMode?(n.y>=this._pivotRows.y+this._pivotRows.getHeight()&&(n.y=this._pivotRows.y+this._pivotRows.getHeight()-1),n.y<=this._pivotRows.y&&(n.y=this._pivotRows.y+1),n.x<=this._pivotRows.x&&(n.x=this._pivotRows.x+this._pivotRows.getWidth()-1),n.x>=this._pivotRows.x+this._pivotRows.getWidth()&&(n.x=this._pivotRows.x+this._pivotRows.getWidth()-1)):"CELLS_SELECT"==this._internalSelectMode&&(n.x<this._pivotColumns.x&&(n.x=this._pivotColumns.x+1),n.y<this._pivotRows.y&&(n.y=this._pivotRows.y+1)),this._colItemRangeSelectionEnd=null,this._rowItemRangeSelectionEnd=null;var o=-1,a=-1;if("COL_SELECT"==this._internalSelectMode||"ROW_SELECT"==this._internalSelectMode)if(null!=r){var l={},d=this._itemHitTest(n,l);if(null==d)return void this._endSelectionUpdate();!d.isColumn&&this._pivotRows.compactStyleRenderingEnabled||(d=d._getLastVisibleLeaf(d)),d.isColumn?this._colItemRangeSelectionEnd=d:this._rowItemRangeSelectionEnd=d}else this._pivotCells.hitTest(n,l),null!=l?(this._colItemRangeSelectionEnd=l.pivotColumn,this._rowItemRangeSelectionEnd=l.pivotRow):(this._colItemRangeSelectionEnd=null,this._rowItemRangeSelectionEnd=null);if("CELLS_SELECT"==this._internalSelectMode){l=this._pivotCells._hitTest(this._selectStartPosition);if(this._colItemRangeSelectionBeg=l.pivotColumn,this._rowItemRangeSelectionBeg=l.pivotRow,!l)return this._endSelectionUpdate(),void this._internalRefresh();if(s.x==n.x&&s.y==n.y||(this._pivotCells.hitTest(n,l),this._colItemRangeSelectionEnd=l.pivotColumn,this._rowItemRangeSelectionEnd=l.pivotRow),!l.pivotRow||!l.pivotColumn)return this._internalSelectMode="CELLS_SELECT",this._pivotCells._internalSelectCell(this._rowItemRangeSelectionBeg,this._colItemRangeSelectionBeg),this._cellKBRangeSelectionStart=this._cellKBRangeSelectionEnd={pivotRow:this._rowItemRangeSelectionBeg,pivotColumn:this._colItemRangeSelectionBeg,pivotCells:this._pivotCells},this._endSelectionUpdate(),void this._internalRefresh()}if(this._saveSelectedItemsRangeOrder(),this._adjustSelectedItemsOrder(e),"CELLS_SELECT"==this._internalSelectMode){var h=this._pivotRows._getVisibleLeafLevelItems(),c=this._pivotColumns._getVisibleLeafLevelItems();i=this._pivotRows._pointToLeafItemIndexAbsolute(this._selectStartPosition),a=this._pivotRows._pointToLeafItemIndexAbsolute(n),t=this._pivotColumns._pointToLeafItemIndexAbsolute(this._selectStartPosition),o=this._pivotColumns._pointToLeafItemIndexAbsolute(n);if(-1==t&&-1==o||-1==i&&-1==a)return this._endSelectionUpdate(),void this._internalRefresh();if(-1==t&&(t=o),-1==o&&(o=t),-1==i&&(i=a),-1==a&&(a=i),o<t){var u=t;t=o,o=u}if(a<i){u=i;i=a,a=u}for(var p=i;p<=a&&p<h.length;p++)for(var m=h[p],f=t;f<=o&&f<c.length;f++){var g=c[f];this._pivotCells._internalSelectCell(m,g)}return this._cellKBRangeSelectionStart={pivotRow:this._rowItemRangeSelectionBeg,pivotColumn:this._colItemRangeSelectionBeg,pivotCells:this._pivotCells},this._cellKBRangeSelectionEnd={pivotRow:this._rowItemRangeSelectionEnd,pivotColumn:this._colItemRangeSelectionEnd,pivotCells:this._pivotCells},this._endSelectionUpdate(),void this._internalRefresh()}this._restoreSelectedItemsRangeOrder(),this._applyItemsMultiSelect(e),this._endSelectionUpdate(),this._internalRefresh()}},_saveSelectedItemsRangeOrder:function(){this._adjSelectedItemsSave.colBeg=this._colItemRangeSelectionBeg,this._adjSelectedItemsSave.colEnd=this._colItemRangeSelectionEnd,this._adjSelectedItemsSave.rowBeg=this._rowItemRangeSelectionBeg,this._adjSelectedItemsSave.rowEnd=this._rowItemRangeSelectionEnd},_restoreSelectedItemsRangeOrder:function(){this._colItemRangeSelectionBeg=this._adjSelectedItemsSave.colBeg,this._colItemRangeSelectionEnd=this._adjSelectedItemsSave.colEnd,this._rowItemRangeSelectionBeg=this._adjSelectedItemsSave.rowBeg,this._rowItemRangeSelectionEnd=this._adjSelectedItemsSave.rowEnd},_adjustSelectedItemsOrder:function(e){if(null!=this._colItemRangeSelectionBeg&&null!=this._colItemRangeSelectionEnd&&this._colItemRangeSelectionBeg.x>this._colItemRangeSelectionEnd.x){var t=this._colItemRangeSelectionBeg;this._colItemRangeSelectionBeg=this._colItemRangeSelectionEnd,this._colItemRangeSelectionEnd=t}if(null!=this._rowItemRangeSelectionBeg&&null!=this._rowItemRangeSelectionEnd&&this._rowItemRangeSelectionBeg.y>this._rowItemRangeSelectionEnd.y){t=this._rowItemRangeSelectionBeg;this._rowItemRangeSelectionBeg=this._rowItemRangeSelectionEnd,this._rowItemRangeSelectionEnd=t}(0==this.multipleSelectionEnabled&&!e||null==this._rowItemRangeSelectionEnd)&&(this._rowItemRangeSelectionEnd=this._rowItemRangeSelectionBeg),(0==this.multipleSelectionEnabled&&!e||null==this._colItemRangeSelectionEnd)&&(this._colItemRangeSelectionEnd=this._colItemRangeSelectionBeg)},_applyItemsMultiSelect:function(e){this._saveSelectedItemsRangeOrder(),this._adjustSelectedItemsOrder(e);for(var t=0;t<2;t++)if(!("COL_SELECT"==this._internalSelectMode&&0!=t||"ROW_SELECT"==this._internalSelectMode&&1!=t)){var i=0==t?this._colItemRangeSelectionBeg:this._rowItemRangeSelectionBeg,s=0==t?this._colItemRangeSelectionEnd:this._rowItemRangeSelectionEnd,r=0==t?this._pivotColumns:this._pivotRows,n=r._getVisibleLeafLevelItems();if(null==n)return this._internalRefresh(),void this._restoreSelectedItemsRangeOrder();var o=!1;for(var a in n){var l=n[a];if((l==i||o)&&(l.getWidthWithChildren()+l.x>this._mostRightItemBounds.x+this._mostRightItemBounds.width&&(this._mostRightItemBounds={x:l.x,y:l.y,width:l.getWidthWithChildren(),height:l.getHeightWithChildren()}),l.getWidthWithChildren()+l.x<this._mostLeftItemBounds.x+this._mostLeftItemBounds.width&&(this._mostLeftItemBounds={x:l.x,y:l.y,width:l.getWidthWithChildren(),height:l.getHeightWithChildren()}),o=!0,r._internalSelectItem(l),l==s))break}!r.isColumnsHierarchy&&r.compactStyleRenderingEnabled||r._applySelectionToParentItems()}this._restoreSelectedItemsRangeOrder()},localizeStrings:function(e,t){c.jqx.dataFormat&&c.jqx.dataFormat.cleardatescache(),this._localizedStrings={decimalseparator:".",thousandsseparator:",",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",alignment:"Text alignment",cellalignment:"Number alignment",numberformat:"Number format",prefix:"Number prefix",decimalplacestext:"Decimal places",thousandsseparatortext:"Thousands separator",decimalseparatortext:"Decimal separator",nagativebracketstext:"Nagatives in brackets",fieldsettings:"Field settings",ok:"Ok",cancel:"Cancel"};var i=c.extend({},e);for(var s in this._localizedStrings=c.extend(this._localizedStrings,i),i)s&&s.toLowerCase()!==s&&(i[s.toLowerCase()]=i[s]);for(var r in this._localizedStrings)void 0!==i[r]&&(this._localizedStrings[r]=i[r])}})}(jqxBaseFramework),$.jqx.jqxPivotGrid=$.jqx.jqxPivotGrid||{},$.jqx.define($.jqx.jqxPivotGrid,"propertyBag",""),$.extend($.jqx.jqxPivotGrid.propertyBag.prototype,{defineInstance:function(){this.namedPropertyTables={},this._tableSizes={},this.enablePropertyChangeNotifications=!1},getPropertyTable:function(e){return null==this.namedPropertyTables[e]&&(this.namedPropertyTables[e]={},this._tableSizes[e]=0),this.namedPropertyTables[e]},getPropertyCount:function(e){return null==this.getPropertyTable(e)?0:this._tableSizes[e]},getPropertyValue:function(e,t){var i=this.getPropertyTable(e);return null==i?null:null!=i[t]?i[t]:null},containsPropertyValue:function(e,t){var i=this.getPropertyTable(e);return null!=i&&null!=i[t]},removePropertyValue:function(e,t){var i=this.getPropertyTable(e);null!=i&&(delete i[t],this._tableSizes[e]--)},setPropertyValue:function(e,t,i){var s=this.getPropertyTable(e);null!=s&&(null==i||null==i?s[t]&&(this._tableSizes[e]--,delete s[t]):(s[t]||this._tableSizes[e]++,s[t]=i),this.enablePropertyChangeNotifications&&this.onPropertyChanged(e))},clear:function(e){if(""!=e&&null!=e&&null!=e){this.getPropertyTable(e);({}),this._tableSizes[e]=0}else this.namedPropertyTables={}},onPropertyChanged:function(e){$.event.trigger("propertychanged",e)}}),function(k){k.jqx.jqxPivotGrid=k.jqx.jqxPivotGrid||{},k.jqx.define(k.jqx.jqxPivotGrid,"pivotCells",""),k.extend(k.jqx.jqxPivotGrid.pivotCells.prototype,{defineInstance:function(){this.parentPivotGrid=null,this.IsDataBoundPivotCellsEditable=!1,this.cellProperties=new k.jqx.jqxPivotGrid.propertyBag,this.hashCellAutoSize={},this.hashCellInSpan={},this.hashCellSpan={},this._selectedCells=new Object},hitTest:function(e){var t=this._hitTest(e);if(t)return{pivotRow:t.pivotRow,pivotColumn:t.pivotColumn,pivotCells:this}},_hitTest:function(e){var t={};if(t.pivotColumn=this.parentPivotGrid._pivotColumns._pointToLeafItemAbsolute(e),t.pivotRow=this.parentPivotGrid._pivotRows._pointToLeafItemAbsolute(e),!this.parentPivotGrid._pivotColumns.isGroupingColumn(t.pivotColumn)&&null!=t.pivotColumn&&null!=t.pivotRow)return t},clear:function(){this._reset()},_reset:function(){this.cellProperties.clear(),this._selectedCells=new Object,this.hashCellAutoSize={},this.hashCellInSpan={},this.hashCellSpan={},this._clearElementsAndCellsCache()},_resetCanvas:function(){var e=k.jqx.get(this,"renderCanvas");if(e)for(;e.hasChildNodes();)e.removeChild(e.firstChild)},_clearElementsAndCellsCache:function(){this._clearCellsCache()},setCellValue:function(e,t,i){if(null!=e&&null!=t){var s=this.parentPivotGrid.getCellId(t,e),r=(this.getCellDataSource(e,t),-1!=e.BoundFieldIndex&&-1!=t.BoundFieldIndex);if("DataBound"==dsType&&r){if(this.parentPivotGrid.OnCellValueChanging(e,t,i))return;try{this.parentPivotGrid.setCellValueFromDataSourceNonPivot(e,t,i)}catch(e){return}return this.cellProperties.setPropertyValue("CellValue",s,null),void this.parentPivotGrid.OnCellValueChanged(e,t)}if("DataBoundPivot"==dsType){if(this.IsDataBoundPivotCellsEditable)return;throw"The cell's value is derived from the data source and aggregated. It is not editable in this mode. Use the SetCellDataSource method to change the cell's data source first"}this.parentPivotGrid.OnCellValueChanging(e,t,i)||(this.SetCellDataSource(e,t,"Static"),this.cellProperties.setPropertyValue("CellValue",s,i),this.onPropertyChanged("CellValue"),this.parentPivotGrid.OnCellValueChanged(e,t))}},_clearCellsCache:function(){this.cellProperties.clear("CellValue")},_clearCachedCell:function(e,t){var i=this.parentPivotGrid.getCellId(t,e);this.cellProperties.containsPropertyValue("CellValue",i)&&this.cellProperties.removePropertyValue("CellValue",i)},drillThroughCell:function(e,t){if(!e||e.isColumn)throw"Invalid pivotRow parameter";if(!t||!t.isColumn)throw"Invalid pivotColumn parameter";return this.parentPivotGrid.source.drillThroughPivotCell(e.adapterItem,t.adapterItem)},getCellValue:function(e,t){var i=null;if(this.parentPivotGrid._pivotColumns.isGroupingColumn(t))return null;var s=this.parentPivotGrid.getCellId(t,e),r=this.getCellDataSource(e,t);switch((e.isTotal||t.isTotal)&&(r="Virtual"),r){case"Virtual":i=this.parentPivotGrid.onCellValueNeeded(e,t),this.cellProperties.setDirty(s),null==i&&"BoundPivot"==this.parentPivotGrid.bindingState&&(e.isTotal||t.isTotal)&&(i=this.parentPivotGrid.getCellValueFromDataSource(e,t));break;case"DataBoundPivot":null==(i=this.cellProperties.getPropertyValue("CellValue",s))&&(i=this.parentPivotGrid.source.getCellValue(e.adapterItem,t.adapterItem),this.cellProperties.getPropertyCount("CellValue")<4e6&&this.cellProperties.setPropertyValue("CellValue",s,i));break;case"DataBound":if(null==(i=this.cellProperties.getPropertyValue("CellValue",s))){try{i=this.parentPivotGrid.getCellValueFromDataSourceNonPivot(e,t)}catch(e){return null}this.cellProperties.getPropertyCount("CellValue")<4e6&&this.cellProperties.setPropertyValue("CellValue",s,i)}break;case"NotSet":case"Static":default:i=this.cellProperties.getPropertyValue("CellValue",s)}return i},setCellDataSource:function(e,t,i){if(null!=e&&null!=t){var s=this.parentPivotGrid.getCellId(t,e);this.cellProperties.setPropertyValue("cellDataSource",s,i)}},getCellDataSource:function(e,t){var i=this.parentPivotGrid.getCellId(t,e),s=this.cellProperties.getPropertyValue("cellDataSource",i);return null==s&&(s=t.cellDataSource),null!=s&&"NotSet"!=s||(s=e.cellDataSource),null!=s&&"NotSet"!=s?s:this.parentPivotGrid.UseVirtualCellsByDefault?"Virtual":"DataBound"==this.parentPivotGrid.bindingState||"DataBoundPivot"==this.parentPivotGrid.bindingState?this.parentPivotGrid.bindingState:"NotSet"},render:function(){var e=this.renderCanvas;if(e){var t=this.parentPivotGrid;t.setElementPosition(e,-this.parentPivotGrid._offsetX,-this.parentPivotGrid._offsetY);var i=t._pivotRows,s=t._pivotColumns;if(this._refreshRequired||i._isVirtualMode||s._isVirtualMode){var r=i._getLeafItemsToRender(),n=s._getLeafItemsToRender();this._cellElements=this._cellElements||{};for(var o=new Array,a=new Date,l={first:i._isVirtualMode?r.first:0,last:i._isVirtualMode?r.last:r.items.length-1},d={first:s._isVirtualMode?n.first:0,last:s._isVirtualMode?n.last:n.items.length-1},h=l.last;l.first<=h;h--)for(var c=d.last;d.first<=c;c--)if(-1!=h&&-1!=c){var u=r.items[h],p=n.items[c],m=t.getCellId(p,u),f=p.getDisplayWidth()-1,g=u.getDisplayHeight()-1,v=this.isCellSelected(u,p),x=this._cellElements[m],w=void 0;x&&x.isSelected==v&&(w=x.element);var y={left:4,top:4,right:4,bottom:4},b=this.getCellValue(u,p),_="";if(w)w.style.width==f+"px"&&w.style.height==g+"px"||this.parentPivotGrid.setElementSize(w,f,g);else{(w=t.createDiv(e,_,f,g)).cellId=m,this._cellElements[m]={element:w,isSelected:v},t.setElementSize(w,f,g);var j="right";if(t.cellsRenderer&&k.isFunction(t.cellsRenderer))_=t.cellsRenderer({value:b.value,formattedValue:b.formattedValue,isSelected:v,pivotRow:u,pivotColumn:p}),y={left:0,top:0,right:0,bottom:0};else{_=void 0!==b&&void 0!==b.formattedValue?b.formattedValue.toString():"";var q=this.parentPivotGrid.source.getCellFormatSettings(u.adapterItem,p.adapterItem);q&&(j=q.align||"right")}this.parentPivotGrid.setDivContent(w,_,y,j),w.originalY=w.style.top,w.className=this.parentPivotGrid.toThemeProperty("jqx-grid-cell-normal")}w.tRender=a,"block"!=w.style.display&&(w.style.display="block"),w.style.left==p.x+"px"&&w.style.top==u.y+"px"||this.parentPivotGrid.setElementPosition(w,p.x,u.y);var T="cellsClassName";this.isCellSelected(u,p)?(w.className=this.parentPivotGrid.toThemeProperty("jqx-grid-cell-selected jqx-fill-state-hover jqx-widget-content"),T="cellsClassNameSelected"):w.className=this.parentPivotGrid.toThemeProperty("jqx-grid-cell-normal jqx-widget-content");var C=k.jqx.getByPriority([u[T],u.adapterItem&&u.adapterItem.boundField?u.adapterItem.boundField[T]:void 0,p[T],p.adapterItem&&p.adapterItem.boundField?p.adapterItem.boundField[T]:void 0]);C&&(w.className+=" "+C),w.className+=" jqx-pivotgrid-content-wrapper"}for(var S=0;S<e.childNodes.length;S++)e.childNodes[S].cellId&&e.childNodes[S].tRender!=a&&o.push(e.childNodes[S]);for(;;){if(!(w=o.pop()))break;delete this._cellElements[w.cellId],w.style.display="none",e.removeChild(w)}this._refreshRequired=!1}}},_beginSelectionUpdate:function(){for(var e in this._selectedCells)this._selectedCells[e].OldIsSelected=this._selectedCells[e].isSelected},_endSelectionUpdate:function(){var e=new Array;for(var t in this._selectedCells){var i=this._selectedCells[t];i.isSelected||e.push(t),i.isSelected,i.OldIsSelected}if(0<e.length)for(var t in e)delete this._selectedCells[e[t]]},_internalClearSelection:function(){for(var e in this._selectedCells)this._internalUnselectCell(this._selectedCells[e].pivotRow,this._selectedCells[e].pivotColumn)},clearSelection:function(){this._beginSelectionUpdate(),this._internalClearSelection(),this._endSelectionUpdate(),this.render()},selectCell:function(e,t){this.parentPivotGrid.selectionEnabled&&(this._beginSelectionUpdate(),this._internalSelectCell(e,t),this.parentPivotGrid._cellKBRangeSelectionStart={pivotRow:e,pivotColumn:t,pivotCells:this},this.parentPivotGrid._cellKBRangeSelectionEnd={pivotRow:e,pivotColumn:t,pivotCells:this},this._endSelectionUpdate())},_internalSelectCell:function(e,t){if(null==t||!this.parentPivotGrid._pivotColumns.isGroupingColumn(t)){if("NO_SELECT"==this.parentPivotGrid._internalSelectMode)switch(this.parentPivotGrid.selectionMode){case"CELL_SELECT":this.parentPivotGrid._internalSelectMode="CELLS_SELECT";break;case"FULL_COLUMN_SELECT":this.parentPivotGrid._internalSelectMode="COL_SELECT";break;case"FULL_ROW_SELECT":this.parentPivotGrid._internalSelectMode="ROW_SELECT"}var i=this.parentPivotGrid.getCellId(t,e);delete this._cellElements[i],null==this._selectedCells[i]?this._selectedCells[i]={pivotRow:e,pivotColumn:t,isSelected:!0}:this._selectedCells[i].isSelected=!0,this._refreshRequired=!0}},unselectCell:function(e,t){this._beginSelectionUpdate(),this._internalUnselectCell(e,t),this._endSelectionUpdate()},_internalUnselectCell:function(e,t){var i=this.parentPivotGrid.getCellId(t,e);null!=this._selectedCells[i]&&(this._selectedCells[i].isSelected=!1),delete this._cellElements[i],this._refreshRequired=!0},isCellSelected:function(e,t){var i=this.parentPivotGrid.getCellId(t,e);return!(!t.isSelected&&!e.isSelected)||null!=this._selectedCells[i]&&this._selectedCells[i].isSelected},getSelectedCellsCount:function(){return this._selectedCells.length},getSelectedCells:function(){var e=new Array;for(var t in this._selectedCells){var i=this._selectedCells[t];i.isSelected&&e.push({pivotRow:i.pivotRow,pivotColumn:i.pivotColumn,pivotCells:this})}return e},getNextCell:function(e,t){var i={};switch(t){case"left":i={x:e.pivotColumn.x-1,y:e.pivotRow.y+1};break;case"right":i={x:e.pivotColumn.x+e.pivotColumn.getWidth()+1,y:e.pivotRow.y+1};break;case"top":i={x:e.pivotColumn.x+1,y:e.pivotRow.y-1};break;case"bottom":i={x:e.pivotColumn.x+1,y:e.pivotRow.y+e.pivotRow.getHeight()+1}}var s={x:i.x+2*this.parentPivotGrid._pivotColumns.x-this.parentPivotGrid._pivotColumns.viewPort.x,y:i.y+2*this.parentPivotGrid._pivotRows.y-this.parentPivotGrid._pivotRows.viewPort.y},r=this._hitTest(s);if(r)return r}})}(jqxBaseFramework),function(S){S.jqx.jqxPivotGrid=S.jqx.jqxPivotGrid||{},S.jqx.jqxPivotGrid.pivotItem=function(e,t){this.text="Item",this.isExpanded=!1,this.expandCollapseEnabled=!0,this.isHidden=!1,this.isFiltered=!1,this.isSelected=!1,this._height=26,this._width=18,this.isDirty=!0,this.parentItem=e||null,this.hierarchy=t||e.hierarchy,this.parentPivotGrid=this.hierarchy.parentPivotGrid,this.id=this.parentPivotGrid.genId(),this.itemLevel=0,this.itemColumn=0,this._itemOrdinal=NaN,this.x=0,this.y=0,this.hierarchyItemWidth=70,this.hierarchyItemHeight=26,this.widthWithChildrenCached=0,this.minimumWidth=18,this.maximumWidth=1e7,this.minimumHeight=8,this.maximumHeight=1/0,this.items=new Array,this.valueItems=new Array},S.extend(S.jqx.jqxPivotGrid.pivotItem.prototype,{_getChildItemsToRender:function(e){for(var t=0;t<this.items.length;t++){var i=this.items[t];i.isHidden||i.isFiltered||(e.push(i),i.isExpanded&&i._getChildItemsToRender(e))}},_calculateWidthWithChildren:function(){if(this.isHidden)this.widthWithChildrenCached=0;else{var e=!this.isColumn&&this.hierarchy.compactStyleRenderingEnabled;if(e)this.widthWithChildrenCached=this.hierarchy.getColumnWidth(0);else if(this.widthWithChildrenCached=this.getWidth(),null!=this.items&&null!=this.valueItems&&(0<this.getVisibleItemsCount()||!this.isColumn&&!e)){var t=0;if(this.isColumn){if(t=0,this.isExpanded)for(s=0;s<this.items.length;s++)this.items[s].isHidden||(t+=this.items[s].getWidthWithChildren());for(s=0;s<this.valueItems.length;s++)this.valueItems[s].isHidden||(t+=this.valueItems[s].getWidthWithChildren())}else for(var i=this.hierarchy.getMaxVisibleLevelDepth(),s=this.itemLevel;s<=i;s++)t+=this.hierarchy.getColumnWidth(s);this.widthWithChildrenCached=t}else this.widthWithChildrenCached=this.getWidth()}},getWidthWithChildren:function(){return this.hierarchy._renderRequired&&this._calculateWidthWithChildren(),this.widthWithChildrenCached},getDisplayWidth:function(){if(!this.isDirty&&!this.hierarchy._renderRequired)return displayWidth;var e=this.hasVisibleValueItems();return this.isColumn?this.displayWidth=this.isExpanded||e?this.getWidthWithChildren():this.getWidth():(this.displayWidth=!this.hierarchy.isColumnsHierarchy&&this.hierarchy.compactStyleRenderingEnabled?this.getWidthWithChildren():this.getWidth(),this.isExpanded||e||(this.displayWidth=this.hierarchy.getWidth()-this.x)),this.displayWidth<18&&(this.displayWidth=18),this.displayWidth},getWidth:function(){if(this.isHidden||this.isFiltered)return 0;if(null==this.hierarchy)return 0;var e=this.itemColumn;!this.hierarchy.isColumnsHierarchy&&this.hierarchy.compactStyleRenderingEnabled&&(e=0);var t=this.minimumWidth;if(this.isColumn){if(t=this.hierarchyItemWidth,this.parentItem){var i=this.parentItem.getWidth();t<i&&this.parentItem.widthWithChildrenCached}}else t=this.hierarchy.getColumnWidth(e);return t},_measureElement:function(e){var t=S("<span style='visibility: hidden; white-space: nowrap;'>"+e+"</span>");S(document.body).append(t);var i=this.hierarchy.sortable?16:0,s={width:t.width()+i+8,height:t.height()+8};return t.remove(),s},autoResize:function(e){e||(e="fitItemContent"),this.isColumn?this.setWidth(this.minimumWidth):this.setHeight(this.minimumHeight),"default"!=e&&"fitAll"!=e&&"fitItemContent"!=e||this._autoResizeBestItemContent(e),"default"!=e&&"fitAll"!=e&&"fitItemContent"!=e||this.isColumn&&null!=this.parentItem&&this.getWidth()<this.parentItem.getWidth()&&this.setWidth(this.parentItem.getWidth())},_autoResizeBestItemContent:function(e){(this._updateVisibleChildItemsCount(),sz=this._measureElement(this.text),"default"==e&&this.adapterItem.boundField&&(isNaN(this.adapterItem.boundField.width)||(sz.width=this.adapterItem.boundField.width),isNaN(this.adapterItem.boundField.height)||(sz.height=this.adapterItem.boundField.height)),this.itemColumn>=this.hierarchy._getColumnsCount()&&this.hierarchy._updateColumnsCount(),0<this._visibleChildItemsCount&&(sz.width+=30),(this.getWidth()<sz.width||"default"==e&&this.adapterItem.boundField&&!isNaN(this.adapterItem.boundField.width))&&this.setWidth(sz.width),this.isColumn)?this.parentPivotGrid._pivotColumns.getHeight()<sz.height&&this.parentPivotGrid._pivotColumns.setRowHeight(this,sz.height):this.getHeight()<sz.height&&this.setHeight(sz.height);for(var t in this.items)this.items[t]._autoResizeBestItemContent(e);for(var t in this.valueItems)this.valueItems[t]._autoResizeBestItemContent(e);null!=this.hierarchy&&(this.hierarchy._renderRequired=!0)},_autoResizeBestCellFit:function(e){if(null!=this.hierarchy&&this.hierarchy._renderRequired&&this.hierarchy.render(),null!=this.hierarchy&&this.hierarchy.ColumnsCountRequresUpdate&&this.hierarchy._updateColumnsCount(),0==this.items.length&&0==this.valueItems.length){if(null!=this.hierarchy&&null!=this.parentPivotGrid&&null!=this.parentPivotGrid._pivotCells&&null!=this.parentPivotGrid._pivotRows&&null!=this.parentPivotGrid._pivotColumns){var t={width:1,height:1},i=(this.isColumn?this.parentPivotGrid._pivotRows:this.parentPivotGrid._pivotColumns,this._getVisibleLeafLevelItems());for(var s in i){i[s].isColumn||i[s],i[s].isColumn&&i[s];var r=10,n=10;t.width<r&&(t.width=r),t.height<n&&(t.height=n)}this.width<t.width&&this.setWidth(t.width),!this.isColumn&&this.getHeight()<t.height&&this.setHeight(t.height)}}else{for(var s in this.items)this.items[s]._autoResizeBestCellFit(e);for(var s in this.valueItems)this.valueItems[s]._autoResizeBestCellFit(e)}null!=hierarchyHost&&(hierarchyHost._renderRequired=!0)},setWidth:function(e){if(e<0)throw new Exception("Invalid pivotItem Width value. The value must greater than 0");if(null!=this.hierarchy){var t=this.itemColumn;!this.hierarchy.isColumnsHierarchy&&this.hierarchy.compactStyleRenderingEnabled&&(t=0),this.hierarchy._getColumnsCount()<t&&this.hierarchy._updateColumnsCount(),e<this.minimumWidth&&(e=this.minimumWidth),e>this.maximumWidth&&(e=this.maximumWidth),this.isColumn?this.hierarchyItemWidth=e:this.hierarchy.setColumnWidth(t,e),this.hierarchy._renderRequired=!0}},getHeight:function(){return this.isHidden||this.isFiltered?0:this.hierarchyItemHeight},setHeight:function(e){if(e<0||1e4<e)throw new Exception("Invalid pivotItem Height value. The value must be between 0 and 10000");e<this.minimumHeight&&(e=this.minimumHeight),e>this.maximumHeight&&(e=this.maximumHeight),this.hierarchyItemHeight=e,null!=this.hierarchy&&(this.hierarchy._renderRequired=!0)},_calculateHeightWithChildren:function(){if(this.isHidden||this.isFiltered)this.heightWithChildren=0;else{var e=!this.isColumn&&this.hierarchy.compactStyleRenderingEnabled;if(this.isExpanded||this.hasVisibleValueItems()){var t=0;if(this.isColumn){if(t=this.hierarchyItemHeight,h=0,this.isExpanded)for(var i=0;i<this.items.length;i++){var s=this.items[i].getHeightWithChildren();h<s&&(h=s)}for(i=0;i<this.valueItems.length;i++){s=this.valueItems[i].getHeightWithChildren();h<s&&(h=s)}0<h&&(t+=h)}else{if(t=e?this.getHeight():0,this.isExpanded)for(i=0;i<this.items.length;i++)this.items[i].isHidden||this.items[i].isFiltered||(t+=this.items[i].getHeightWithChildren());for(i=0;i<this.valueItems.length;i++)this.valueItems[i].isHidden||this.valueItems[i].isFiltered||(t+=this.valueItems[i].getHeightWithChildren())}this.heightWithChildren=t}else this.heightWithChildren=this.hierarchyItemHeight;this.IsRowDetailsVisible&&(this.heightWithChildren+=this.RowDetailsHeight)}},getHeightWithChildren:function(){return(this.hierarchy._renderRequired||this.isDirty)&&this._calculateHeightWithChildren(),this.heightWithChildren},getDisplayHeight:function(){var e=this.hasVisibleValueItems(),t=0;return this.isColumn?t=this.isExpanded||e?this.getTotalHeight():this.hierarchy.getHeight()-this.y:this.hierarchy.compactStyleRenderingEnabled?(t=this.getHeight(),this.IsRowDetailsVisible&&(t+=this.RowDetailsHeight)):t=this.getHeightWithChildren(),t<this.minimumHeight&&(t=this.minimumHeight),t},getTotalHeight:function(){return this.isHidden||this.isFiltered?0:this.hierarchyItemHeight+(this.IsRowDetailsVisible?this.RowDetailsHeight:0)},ensureVisible:function(){var e=this;if(!e.isVisible()){var t=e.hierarchy.parentPivotGrid.host;if(e.isColumn){var i=t.find("#divHScroll");e.x+e.getWidth()>e.hierarchy.viewPort.width?i.val(e.x+e.getWidth()-e.hierarchy.viewPort.width):i.val(e.x)}else{var s=t.find("#divVScroll");e.y+e.getHeight()>e.hierarchy.viewPort.height?s.val(e.y+e.getHeight()-e.hierarchy.viewPort.height):s.val(e.y)}}},isVisible:function(){return!this.isHidden&&!(this.y<this.hierarchy.viewPort.y-this.hierarchy.y||this.y+this.getDisplayHeight()>this.hierarchy.viewPort.y-this.hierarchy.y+this.hierarchy.viewPort.height||this.x<this.hierarchy.viewPort.x-this.hierarchy.x||this.x+this.getDisplayWidth()>this.hierarchy.viewPort.x-this.hierarchy.x+this.hierarchy.viewPort.width)},_updateVisibleChildItemsCount:function(){for(var e=0,t=0;t<this.items.length;t++)this.items[t].isHidden||this.items[t].isFiltered||e++;this._visibleChildItemsCount=e},render:function(e,t){this._updateVisibleChildItemsCount();if(this.isHidden||this.isFiltered)return!0;this.x=e,this.y=t;var i=!this.isColumn&&this.hierarchy.compactStyleRenderingEnabled,s=i?this.getTotalHeight():0;if(this.isExpanded)for(var r=0;r<this.items.length;r++){if(!(o=this.items[r]).isHidden&&!o.isFiltered)if(this.isColumn){if(!o.render(this.x+s,t+this.getTotalHeight()))break;s+=o.getWidthWithChildren()}else{var n=e;if(n+=i?0:this.getWidth(),!o.render(n,this.y+s))break;s+=o.getHeightWithChildren()}}for(r=0;r<this.valueItems.length;r++){var o;if(!(o=this.valueItems[r]).isHidden&&!o.isFiltered)if(this.isColumn){if(!o.render(this.x+s,t+this.getTotalHeight()))break;s+=o.getWidthWithChildren()}else{n=e;if(n+=i?0:this.getWidth(),!o.render(n,this.y+s))break;s+=o.getHeightWithChildren()}}return this._calculateWidthWithChildren(),this._calculateHeightWithChildren(),!0},_getChildItemsDepth:function(){for(var e=0,t=0;t<this.items.length;t++){e<(i=this.items[t]._getChildItemsDepth())&&(e=i)}for(t=0;t<this.valueItems.length;t++){var i;e<(i=this.valueItems[t]._getChildItemsDepth())&&(e=i)}return e+1},getTotalItemsCount:function(){var e=0;if(0==this.items.length&&0==this.valueItems.length)e=1;else{for(var t=0;t<this.items.length;t++)e+=this.items[t].getTotalItemsCount();for(t=0;t<this.valueItems.length;t++)e+=this.valueItems[t].getTotalItemsCount()}return e},hasVisibleValueItems:function(){for(var e=0;e<this.valueItems.length;e++){var t=this.valueItems[e];if(0==t.isHidden&&0==t.isFiltered)return!0}return!1},getVisibleItemsCount:function(){if(this.isHidden||this.isFiltered)return 0;var e=0;if(!(this.isExpanded&&0!=this.items.length||0!=this.valueItems.length))return e;for(var t=e=0;t<this.items.length;t++)this.items[t].isHidden||this.items[t].isFiltered||e++;for(t=0;t<this.valueItems.length;t++)this.valueItems[t].isHidden||this.valueItems[t].isFiltered||e++;return e},hitTest:function(e){if(this.isHidden||this.isFiltered)return null;var t=this.getDisplayHeight()+1,i=this.getDisplayWidth()+1;return e.x>=this.x&&e.x<=this.x+i&&e.y>=this.y&&e.y<=this.y+t?this:null},_expandInternal:function(e,t,i){if(0!=this.items.length&&this.expandCollapseEnabled&&this.isExpanded!=e){(n=new S.Event(this.isExpanded?"pivotitemcollapsing":"pivotitemexpanding")).owner=this.hierarchy.parentPivotGrid,n.args={pivotItem:this},n.cancel=!1;var s=this.hierarchy.parentPivotGrid.host;if(s.trigger(n),!n.cancel&&(this.isExpanded=e,0!=this.items.length||0!=this.valueItems.length)){if(i){for(var r=0;r<this.items.length;r++)this.items[r]._expandInternal(e,t,i);for(r=0;r<this.valueItems.length;r++)this.valueItems[r]._expandInternal(e,t,i)}var n;this.hierarchy._renderRequired=!0,t&&this.hierarchy._updateVisibleLeaves(),(n=new S.Event(this.isExpanded?"pivotitemexpanded":"pivotitemcollapsed")).owner=this.hierarchy.parentPivotGrid,n.args={pivotItem:this},s.trigger(n)}}},expand:function(){this._expandInternal(!0,!0,!1)},collapse:function(){this._expandInternal(!1,!0,!1)},_getFirstVisibleLeaf:function(e){if(e.isExpanded){for(var t=!1,i=0;i<e.items.length;i++)if(0==e.items[i].isHidden&&0==e.items[i].isFiltered){e=e.items[i],e=this._getFirstVisibleLeaf(e),t=!0;break}if(t)return e}if(e.hasVisibleValueItems){for(t=!1,i=0;i<e.valueItems.length;i++)if(0==e.valueItems[i].isHidden&&0==e.valueItems[i].isFiltered){e=e.valueItems[i],e=this._getFirstVisibleLeaf(e),t=!0;break}if(t)return e}return e},_getLastVisibleLeaf:function(e){for(var t=!1,i=e.valueItems.length-1;0<=i;i--)if(0==e.valueItems[i].isHidden&&0==e.valueItems[i].isFiltered){e=e.valueItems[i],e=this._getLastVisibleLeaf(e),t=!0;break}if(t)return e;for(i=e.items.length-1;0<=i&&e.isExpanded;i--)if(0==e.items[i].isHidden&&0==e.items[i].isFiltered){e=e.items[i],e=this._getLastVisibleLeaf(e);break}return e}}),S.jqx.jqxPivotGrid.hierarchy=function(){this.parentPivotGrid=arguments[0],this._initDefaults()},S.extend(S.jqx.jqxPivotGrid.hierarchy.prototype,{_initDefaults:function(){this.columnWidths=new Array,this.rowHeights=new Array,this.items=new Array,this.valueItems=new Array,this.visibleLeafItems=new Array,this.viewPort=new Object,this.viewPort.x=0,this.viewPort.y=0,this.viewPort.width=1e4,this.viewPort.height=1e4,this.isFixed=!1,this.isHidden=!1,this.resizable=!0,this.sortable=!0,this._renderRequired=!0,this.maxVisibleLevelDepth=-1,this.showExpandCollapseButtons=!0,this.x=0,this.y=0,this._width=0,this._height=0,this.minColumnWidth=18,this._isColumnsCountRequresUpdate=!0,this._selectedItems=new Object,this.virtualModeThreshold=5e3,this._isVirtualMode=!0},isVisible:function(){return!this.isHidden},toggle:function(){this.isHidden?this.show():this.hide()},getOtherHierarchy:function(){return this.isColumnsHierarchy?this.parentPivotGrid._pivotRows:this.parentPivotGrid._pivotColumns},show:function(){this.isHidden=!1,this._renderRequired=!0,this.getOtherHierarchy()._renderRequired=!0},hide:function(){this.isHidden=!0,this._renderRequired=!0,this.getOtherHierarchy()._renderRequired=!0},refresh:function(){var e=this.parentPivotGrid,t=e.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-widget-header"),i=e.toThemeProperty("jqx-widget-content jqx-fill-state-normal jqx-widget-header"),s=S.jqx.get(this,"renderCanvas");if((this._renderRequired||this._refreshRequired)&&(this._renderRequired&&this.render(),!this.isHidden)){var r=new Array,n=new Date,o=this._getItemsToRender();if(o){for(var a=0;a<o.length;a++){var l=o[a],d=l.getDisplayWidth()-1,h=l.getDisplayHeight()-1,c=l._element;if(S.isFunction(e.itemsRenderer)){var u=e.itemsRenderer(l);c&&l._currentCustomContent!=u&&(s.removeChild(c),c=l._element=null),l._currentCustomContent=u}if(!c){var p={left:4,top:4,right:4,bottom:4};!this.isColumnsHierarchy&&this.compactStyleRenderingEnabled&&(p.left+=l.itemLevel*this.compactStyleRenderingItemsIndent);var m=l.text,f="left";if(S.isFunction(e.itemsRenderer))m=l._currentCustomContent,p={left:0,top:0,right:0,bottom:0};else{var g="";0!=l.items.length&&l.hierarchy.showExpandCollapseButtons&&(g=l.isExpanded?"<div style='position: relative; top: 3px; padding: 5px; width: 11px; height: 11px;' class='jqx-pivotgrid-collapse-button'></div>":"<div style='position: relative; top: 3px; padding: 5px; width: 11px; height: 11px;' class='jqx-pivotgrid-expand-button'></div>");var v="";if(l.hierarchy._sortItem==l)v="<div id='sortElement' class='"+("desc"==l.hierarchy._sortOrder?"sortdesc jqx-grid-column-sortdescbutton "+this.parentPivotGrid.toThemeProperty("jqx-icon-arrow-down"):"sortasc jqx-grid-column-sortascbutton "+this.parentPivotGrid.toThemeProperty("jqx-icon-arrow-up"))+"' style='position: relative; float: right; padding-right: 8px; width: 16px; height: 100%;'></div>";var x=l.text;if(l.adapterItem.boundField&&(f=l.adapterItem.boundField.align||"left"),"center"!=(f=f.toString().toLowerCase())&&"right"!=f&&(f="left"),""!=v){var w=0,y=24;""!=g&&(y+=w=23),m=g+"<div><div style='left: "+w+"px; top: 0; position: absolute; height: 100%; width: calc(100% - "+y+"px); text-overflow: ellipsis; overflow: hidden;  white-space: nowrap;padding-left:"+p.left+"px; padding-top:"+p.top+"px; '>"+x+"</div><div style='left: 0; top: 0; position: absolute; height: 100%; width: 100%;'>"+v+"</div></div>"}else m=g+x+v}c=e.createDiv(s,"",d,h),e.setDivContent(c,m,p,f,!0),this.parentPivotGrid.getChild(c,"innerDiv").className="jqx-pivotgrid-item",e.setElementPosition(c,l.x,l.y),c.originalY=c.style.top}l.tRender=n;var b=l.isSelected?t:i,_=l.isSelected?"classNameSelected":"className",j=S.jqx.getByPriority([l[_],l.adapterItem&&l.adapterItem.boundField?l.adapterItem.boundField[_]:void 0,this.hierarchy?this.hierarchy[_]:void 0]);j&&(b+=" "+j),(b+=" jqx-pivotgrid-content-wrapper")!=c.className&&(c.className=b),c.style.display="block",(c.item=l)._element=c}for(a=0;a<s.childNodes.length;a++)s.childNodes[a].item&&s.childNodes[a].item.tRender!=n&&r.push(s.childNodes[a]);for(;;){var q=r.pop();if(!q)break;100<s.childNodes.length?(q.item._element=void 0,s.removeChild(q)):q.item._element.style.display="none"}var T=this.isColumnsHierarchy?0:-e._offsetY,C=this.isColumnsHierarchy?-e._offsetX:0;e.setElementPosition(s,C,T),this._refreshRequired=!1}}},clear:function(){this._initDefaults(),this._resetCanvas(),this.items=[],this.valueItems=[],this._renderRequired=!0},_resetCanvas:function(){var e=S.jqx.get(this,"renderCanvas");if(e)for(;e.hasChildNodes();)e.firstChild.item._element=void 0,e.removeChild(e.firstChild)},autoResize:function(e){for(var t=0;t<this.items.length;t++)this.items[t].autoResize(e);for(t=0;t<this.valueItems.length;t++)this.valueItems[t].autoResize(e)},getMaxVisibleLevelDepth:function(){if(-1==this.maxVisibleLevelDepth||this._renderRequired)for(var e=this._getVisibleLeafLevelItems(),t=this.maxVisibleLevelDepth=0;t<e.length;t++)e[t].itemLevel>this.maxVisibleLevelDepth&&(this.maxVisibleLevelDepth=e[t].itemLevel);return this.maxVisibleLevelDepth},getHierarchyDepth:function(){for(var e=0,t=0;t<this.items.length;t++){e<(i=this.items[t]._getChildItemsDepth())&&(e=i)}for(t=0;t<this.valueItems.length;t++){var i;e<(i=this.valueItems[t]._getChildItemsDepth())&&(e=i)}return e},getSortItem:function(){return this._sortItem},getSortOrder:function(){return this._sortOrder},_fnAscSortComparer:function(e,t){var i=e.hierarchy.parentPivotGrid,s=(e.isColumn?i._pivotRows:i._pivotColumns)._sortItem;if(!s)return 0;if(e.adapterItem&&e.adapterItem.isTotal)return 1;if(t.adapterItem&&t.adapterItem.isTotal)return-1;var r=i._pivotCells,n=e.isColumn?r.getCellValue(s,e):r.getCellValue(e,s),o=t.isColumn?r.getCellValue(s,t):r.getCellValue(t,s);return n.value-o.value},_fnDescSortComparer:function(e,t){return e.adapterItem&&e.adapterItem.isTotal?1:t.adapterItem&&t.adapterItem.isTotal?-1:-1*S.jqx.jqxPivotGrid.hierarchy.prototype._fnAscSortComparer(e,t)},_collectionSort:function(e,t,i){if(this.parentPivotGrid&&this.parentPivotGrid._pivotCells){var s=this.isColumnsHierarchy?this.parentPivotGrid._pivotRows:this.parentPivotGrid._pivotColumns;e||(e=this.items),t||(t="asc"==s._sortOrder?this._fnAscSortComparer:this._fnDescSortComparer),this._isSorted&&!i&&this._collectionRemoveSort(e);for(var r=0;r<e.length;r++)e[r]._itemOrdinal=r,this._collectionSort(e[r].items,t,!0);e=e.sort(t),i||(this._isSorted=!0,this._renderRequired=!0,s._renderRequired=!0,this._updateVisibleLeaves())}},_collectionRemoveSort:function(e,t){if(this._isSorted){e||(e=this.items);for(var i=new Array(e.length),s=0;s<e.length;s++)i[e[s]._itemOrdinal]=e[s],this._collectionRemoveSort(e[s].items,!0);if(this.items=i,!t){this._renderRequired=!0,this._updateVisibleLeaves(),this.isColumnsHierarchy&&(this._isColumnsCountRequresUpdate=!0),this._isSorted=!1;var r=this.isColumnsHierarchy?this.parentPivotGrid._pivotRows:this.parentPivotGrid._pivotColumns;r._sortItem=void 0,r._sortOrder=void 0,r._renderRequired=!0}}},sortBy:function(e,t){if(e&&e.isColumn!=this.isColumnsHierarchy&&!(0<e.valueItems.length)){var i=new S.Event("sortchanging");if(i.owner=this.parentPivotGrid,i.args={pivotItem:e,sortOrder:t},i.cancel=!1,this.parentPivotGrid.host.trigger(i),!i.cancel){this._collectionRemoveSort(this.items);var s=e.isColumn?this.parentPivotGrid._pivotColumns:this.parentPivotGrid._pivotRows;s._sortItem=e,s._sortOrder=t,this._collectionSort(),this.parentPivotGrid._internalRefresh(),(i=new S.Event("sortchanged")).owner=this.parentPivotGrid,i.args={pivotItem:e,sortOrder:t},this.parentPivotGrid.host.trigger(i)}}},removeSort:function(){var e=this==this.parentPivotGrid._pivotColumns?this.parentPivotGrid._pivotRows:this.parentPivotGrid._pivotColumns,t=e._sortItem,i=e._sortOrder,s=new S.Event("sortremoving");s.owner=this.parentPivotGrid,s.args={pivotItem:t,sortOrder:i},s.cancel=!1;var r=this.parentPivotGrid.host;r.trigger(s),s.cancel||(this._collectionRemoveSort(this.items),this.parentPivotGrid._internalRefresh(),(s=new S.Event("sortremoved")).owner=this.parentPivotGrid,s.args={pivotItem:t,sortOrder:i},r.trigger(s))},_binSearchItems:function(e,t){return this._binSearchItems2(e,t,0,e.length)},_binSearchItems2:function(e,t,i,s){var r=i,n=s;if(n==r)return-1;for(var o=e[0].isColumn;r<n;){var a=parseInt((r+n)/2),l=e[a];if(o)if(l.x>t.x)n=a;else{if(!((a+1<n?e[a+1].x:l.x+l.getWidth())<t.x))return a;r=a+1}else if(l.y>t.y)n=a;else{if(!((a+1<n?e[a+1].y:l.y+l.getTotalHeight())<t.y))return a;r=a+1}}return-1},_pointToLeafItemIndex:function(e){this._renderRequired&&this.render();var t={x:e.x,y:e.y};t.x+=-this.x+this.viewPort.x,t.y+=-this.y+this.viewPort.y;var i=this._getVisibleLeafLevelItems();return this._binSearchItems(i,t)},_pointToLeafItem:function(e){var t=this._getVisibleLeafLevelItems(),i=this._pointToLeafItemIndex(e);return-1==i||i<0||i>=t.length?null:(t[i].lfIdx=i,t[i])},_pointToLeafItemIndexAbsolute:function(e){this._renderRequired&&this.render();this.viewPort.x,this.x,this.viewPort.y,this.y;var t={x:e.x,y:e.y};t.x-=this.x-(this.viewPort.x-this.x),t.y-=this.y-(this.viewPort.y-this.y);var i=this._getVisibleLeafLevelItems();return this._binSearchItems(i,t)},_pointToLeafItemAbsolute:function(e){var t=this._getVisibleLeafLevelItems(),i=this._pointToLeafItemIndexAbsolute(e);return-1==i||i<0||i>=t.length?null:(t[i].lfIdx=i,t[i])},_pointInRect:function(e,t){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height},hitTest:function(e){this._renderRequired&&this.render();var t=this.viewPort.x-this.x,i=this.viewPort.y-this.y;if(!this._pointInRect({x:e.x+t,y:e.y+i},this.viewPort)||this.isHidden)return null;var s={x:e.x,y:e.y};s.x-=this.x-(this.viewPort.x-this.x),s.y-=this.y-(this.viewPort.y-this.y);var r=this._getVisibleLeafLevelItems(),n=this._binSearchItems(r,s);if(-1==n)return null;var o=r[n],a=o.hitTest(s);if(null!=a)return a;for(;null!=o;)if(null!=(o=o.parentItem)&&null!=(a=o.hitTest(s)))return a;return null},_addColumn:function(e){return e<this.minColumnWidth&&(e=this.minColumnWidth),this.columnWidths.push(e),this.columnWidths.length-1},setColumnWidth:function(e,t){return e>=this.columnWidths.length&&this._updateColumnsCount(e+1),t<this.minColumnWidth&&(t=this.minColumnWidth),e<this.columnWidths.length&&(this.columnWidths[e]=t),this._renderRequired=!0},getColumnWidth:function(e){return e>=this.columnWidths.length?70:this.columnWidths[e]},_getVisibleLeaves:function(e,t,i){if(t.isHidden||t.isFiltered)return!0;if(0==t.items.length&&0==t.valueItems.length)return e.push(t),!0;if(i&&e.push(t),t.isExpanded)for(var s=0;s<t.items.length;s++){var r=t.items[s];r.isHidden||r.isFiltered||(0<t.items.length&&r.isExpanded||r.hasVisibleValueItems()?this._getVisibleLeaves(e,r,i):e.push(r))}for(s=0;s<t.valueItems.length;s++){var n=t.valueItems[s];n.isHidden||n.isFiltered||e.push(n)}return!0},_getVisibleLeafLevelItems:function(){return 0==this.visibleLeafItems.length&&this._updateVisibleLeaves(),this.visibleLeafItems},_updateVisibleLeaves:function(){if(this.visibleLeafItems=new Array,this.items.length+this.valueItems.length!=0){for(var e=!this.isColumnsHierarchy&&this.compactStyleRenderingEnabled,t=0;t<this.items.length;t++){(i=this.items[t]).isHidden||i.isFiltered||(i.isExpanded||i.hasVisibleValueItems()?this._getVisibleLeaves(this.visibleLeafItems,i,e):this.visibleLeafItems.push(i))}for(t=0;t<this.valueItems.length;t++){var i;(i=this.valueItems[t]).isHidden||i.isFiltered||(i.isExpanded||i.hasVisibleValueItems()?this._getVisibleLeaves(this.visibleLeafItems,i,e):this.visibleLeafItems.push(i))}for(t=0;t<this.visibleLeafItems.length;t++)this.visibleLeafItems[t]._lfIndex=t;this._updateItemsLevelAndColumn()}},_getFirstLeafIndexToRender:function(){var e={x:this.x,y:this.y},t={x:e.x,y:e.y};return t.x-=this.x-(this.viewPort.x-this.x),t.y-=this.y-(this.viewPort.y-this.y),this._binSearchItems(this._getVisibleLeafLevelItems(),t)},_getLastLeafIndexToRender:function(){var e={x:Math.min(this.viewPort.width,this.getWidth())-5,y:Math.min(this.viewPort.height,this.getHeight())-5};return this._pointToLeafItemIndex(e)},_getLeafItemsToRender:function(){var e={};return e.items=this._getVisibleLeafLevelItems(),e.first=this._getFirstLeafIndexToRender(),e.last=this._getLastLeafIndexToRender(),e},_getItemsToRender:function(){var e=this._getLeafItemsToRender(),t=e.first,i=e.last;if(-1!=t&&-1!=i){var s={};for(o=t;o<=i;o++){var r=e.items[o];for(s[r.id]=r;null!=r.parentItem;)s[(r=r.parentItem).id]=r}var n=new Array;for(var o in s)n.push(s[o]);return n}},_updateItemsLevelAndColumn2:function(e,t){e.itemColumn=t,e.itemLevel=t;for(var i=0;i<e.items.length;i++)this._updateItemsLevelAndColumn2(e.items[i],t+1);for(i=0;i<e.valueItems.length;i++)this._updateItemsLevelAndColumn2(e.valueItems[i],t+1)},_updateItemsLevelAndColumn:function(){for(var e=0;e<this.items.length;e++)this._updateItemsLevelAndColumn2(this.items[e],0);for(e=0;e<this.valueItems.length;e++)this._updateItemsLevelAndColumn2(this.valueItems[e],0)},updateColumnsCount:function(){this.updateColumnsCount(0)},getTotalItemsCount:function(){var e=0;if(0==this.items.length&&0==this.valueItems.length)e=1;else{for(var t=0;t<this.items.length;t++)e+=this.items[t].getTotalItemsCount();for(t=0;t<this.valueItems.length;t++)e+=this.valueItems[t].getTotalItemsCount()}return e},_updateColumnsCount:function(e){var t=this._getColumnsCount(),i=this.getTotalItemsCount();if(1024<e&&(e=1024),this.isColumnsHierarchy)i<e&&(i=e);else{var s=this.getHierarchyDepth();i=s<e?desi:s}for(var r=t;r<i;r++)this._addColumn(70);this._isColumnsCountRequresUpdate=!1},_updateColumnsIndexes:function(){for(var e in this.items)this._updateItemsLevelAndColumn2(this.items[e],0);for(var e in this.valueItems)this._updateItemsLevelAndColumn2(this.valueItems[e],0)},_getColumnsCount:function(){return this.columnWidths.length},_getRenderedItems:function(){var e=new Array;return this._getChildItemsToRender(e),e},_getChildItemsToRender:function(e){for(var t=0;t<this.items.length;t++){var i=this.items[t];i.isHidden||i.isFiltered||(e.push(i),i.isExpanded&&i._getChildItemsToRender(e))}},getWidth:function(){return this._renderRequired&&this.render(),this._width},getHeight:function(){return this._renderRequired&&this.render(),this._height},_beginSelectionUpdate:function(){for(var e in this._selectedItems)this._selectedItems[e].OldIsSelected=this._selectedItems[e].isSelected},_endSelectionUpdate:function(){var e=new Array;for(var t in this._selectedItems){var i=this._selectedItems[t];if(i.isSelected||e.push(this._selectedItems[t]),i.isSelected!=i.OldIsSelected&&(null==i.parentItem||1==i.parentItem.isExpanded||i._isValueItem)){var s=new S.Event("pivotitemselectionchanged");s.owner=this.parentPivotGrid,s.args={pivotItem:i,selected:i.isSelected},this.parentPivotGrid.host.trigger(s)}}for(var t in e){var r=this._selectedItems[e[t].adapterItem.key];r.isSelected=r.OldIsSelected=!1,delete this._selectedItems[e[t].adapterItem.key]}},selectItem:function(e){this.parentPivotGrid.selectionEnabled&&(this._beginSelectionUpdate(),this._internalSelectItem(e),this._endSelectionUpdate())},_internalSelectItem:function(e){if(null!=e&&!(e.isColumn!=this.isColumnsHierarchy||this.isColumnsHierarchy&&this.isGroupingColumn(e))){var t=e.adapterItem.key;if(null==this._selectedItems[t]&&(this._selectedItems[t]=e),e.isSelected=!0,this._refreshRequired=!0,this.parentPivotGrid._pivotCells._refreshRequired=!0,this.isColumnsHierarchy||!e.hierarchy.compactStyleRenderingEnabled){for(var i in e.items)this._internalSelectItem(e.items[i]);for(var i in e.valueItems)this._internalSelectItem(e.valueItems[i])}}},unselectItem:function(e){this._beginSelectionUpdate(),this._internalUnselectItem(e),this._endSelectionUpdate()},_internalUnselectItem:function(e){if(null!=e&&e.isColumn==this.isColumnsHierarchy){var t=e.adapterItem.key;if(this._selectedItems[t]&&(this._selectedItems[t].isSelected=!1,this._refreshRequired=!0,this.parentPivotGrid._pivotCells._refreshRequired=!0),this.isColumnsHierarchy||!e.hierarchy.compactStyleRenderingEnabled){for(var i in e.items)this._internalUnselectItem(e.items[i]);for(var i in e.valueItems)this._internalUnselectItem(e.valueItems[i])}}},_internalClearSelection:function(){for(var e in this._selectedItems)this._internalUnselectItem(this._selectedItems[e])},clearSelection:function(){this._beginSelectionUpdate(),this._internalClearSelection(),this._endSelectionUpdate()},_applySelectionToParentItem:function(e){var t=e.parentItem;if(null!=t&&null!=t){var i=e.hierarchy,s=!0;if(t.isExpanded)for(var r in t.items){if(0==(n=t.items[r]).isSelected&&0==n.isHidden){s=!1;break}}if(s)for(var r in t.valueItems){var n;if(0==(n=t.valueItems[r]).isSelected&&0==n.isHidden){s=!1;break}}if(s){var o=t.adapterItem.key;null==i._selectedItems[o]&&(i._selectedItems[o]=t),t.isSelected=!0,this._applySelectionToParentItem(t)}}},_applySelectionToParentItems:function(){for(var e in this._selectedItems)this._applySelectionToParentItem(this._selectedItems[e])},getSelectedItems:function(){var e=new Array;for(var t in this._selectedItems)this._selectedItems[t].isSelected&&e.push(t);return e}}),S.jqx.jqxPivotGrid.pivotRows=function(e){S.extend(this,new S.jqx.jqxPivotGrid.hierarchy),this.parentPivotGrid=e,this.isColumnsHierarchy=!1,this.compactStyleRenderingEnabled=!1,this.compactStyleRenderingItemsIndent=20},S.extend(S.jqx.jqxPivotGrid.pivotRows.prototype,S.jqx.jqxPivotGrid.hierarchy.prototype),S.extend(S.jqx.jqxPivotGrid.pivotRows.prototype,{setColumnWidth:function(e,t){return e>=this.columnWidths.Count&&this._updateColumnsCount(e+1),this.compactStyleRenderingEnabled&&(e=0),e<this.columnWidths.length&&(this.columnWidths[e]=t),this._renderRequired=!0},updateBounds:function(){for(var e=0,t=0,i=0;i<2;i++)for(var s=0==i?this.items:this.valueItems,r=0;r<s.length;r++){var n=s[r];if(!n.isHidden){e+=n.getHeightWithChildren();var o=n.getWidthWithChildren();t<o&&(t=o)}}this._width=t,this._height=e+1},render:function(){if(!this._renderSuppressed){for(this._refreshRequired=!0,this.parentPivotGrid._pivotCells._refreshRequired=!0,this.isRendering=!0,this._isColumnsCountRequresUpdate&&this._updateColumnsCount();this._getColumnsCount()<this.getHierarchyDepth();)S.jqx.get(this,"columnWidths").push(70);if(this._updateVisibleLeaves(),this.compactStyleRenderingEnabled){0==this.columnWidths.Count&&this._addColumn(70);var e=this.columnWidths[0],t=this.getHierarchyDepth();e<t*this.compactStyleRenderingItemsIndent&&(e=t*this.compactStyleRenderingItemsIndent),this.columnWidths[0]=e}this.updateBounds();var i=0;if(this.items.length+this.valueItems.length==0)return null!=this.parentPivotGrid&&(this.parentPivotGrid.isSyncScrollRequired=!0),this.isRendering=!1,void(this._renderRequired=!1);for(var s=0;s<2;s++)for(var r=0==s?this.items:this.valueItems,n=0;n<r.length;n++){var o=r[n];if(null==o.hierarchy&&(o.hierarchy=this),!o.isHidden){var a=o.getHeightWithChildren();if(o.itemLevel<this.columnWidths.length&&o.getWidth()>this.columnWidths[o.itemLevel]&&(this.columnWidths[o.itemLevel]=o.getWidth()),!o.render(0,i))break;i+=a}}this.updateBounds(),null!=this.parentPivotGrid&&(this.parentPivotGrid.isSyncScrollRequired=!0),this._resetCanvas(),this._renderRequired=!1,this.isRendering=!1}},isOnRowDetails:function(e,t){if(!t.RowDetailsVisible)return!1;var i={x:e.x,y:e.y};return i.x+=-this.x+this.viewPort.x,i.y+=-this.y+this.viewPort.y,i.y<t.y+t.getDisplayHeight()&&i.y>t.y+t.getDisplayHeight()-t.RowDetailsHeight}}),S.jqx.jqxPivotGrid.pivotColumns=function(e){S.extend(this,new S.jqx.jqxPivotGrid.hierarchy),this.parentPivotGrid=e,this.isColumnsHierarchy=!0},S.extend(S.jqx.jqxPivotGrid.pivotColumns.prototype,S.jqx.jqxPivotGrid.hierarchy.prototype),S.extend(S.jqx.jqxPivotGrid.pivotColumns.prototype,{render:function(){if(!this._renderSuppressed){if(this._refreshRequired=!0,this.parentPivotGrid._pivotCells._refreshRequired=!0,this._updateVisibleLeaves(),this._updateColumnsIndexes(),this.items.length+this.valueItems.length==0)return null!=this.parentPivotGrid&&(this.parentPivotGrid.isSyncScrollRequired=!0),void this._updateVisibleLeaves();for(var e=0,t=0;t<2;t++)for(var i=0==t?this.items:this.valueItems,s=0;s<i.length;s++){var r=i[s];if(null==r.hierarchy&&(r.hierarchy=this),!r.isHidden){var n=r.getWidthWithChildren();if(!r.render(e,0))break;e+=n}}this._renderRequired=!1,null!=this.parentPivotGrid&&(this.parentPivotGrid.isSyncScrollRequired=!0),this._updateVisibleLeaves(),this.updateBounds(),this._resetCanvas()}},updateBounds:function(){for(var e=0,t=0,i=0;i<2;i++)for(var s=0==i?this.items:this.valueItems,r=0;r<s.length;r++){var n=s[r],o=n.getHeightWithChildren();e<o&&(e=o),t+=n.getWidthWithChildren()}this._height=e,this._width=t+1},_updateColumnsIndexes:function(){for(var e=this.visibleLeafItems.length,t=--e;0<=t;t--){var i=this.visibleLeafItems[t];i.itemColumn=t;for(var s=i.parentItem;null!=s;)s.hierarchy!=i.hierarchy?s=null:(s.itemColumn=t,s=(i=s).parentItem)}},setRowHeight:function(e,t){return!(t<15||500<t)&&(e.hierarchyItemHeight=t,this._renderRequired=!0)},isGroupingColumn:function(e){return null!=e&&(null!=this.parentPivotGrid&&!!(e.ItemIndex<this.parentPivotGrid.groupingColumns.length&&this.parentPivotGrid.isGroupingEnabled))}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxPivotGrid.prototype,{_handleKeyboardNavigation:function(e){return"CELLS_SELECT"==this._internalSelectMode?this._handleCellsKeyboardNavigation(e):("ROW_SELECT"==this._internalSelectMode||this._internalSelectMode,!1)},_handleCellsKeyboardNavigation:function(e){var t=this._cellKBRangeSelectionEnd,i=void 0;if(!t)return!1;if(37==e.keyCode&&(i=this._pivotCells.getNextCell(t,"left")),38==e.keyCode?i=this._pivotCells.getNextCell(t,"top"):39==e.keyCode?i=this._pivotCells.getNextCell(t,"right"):40==e.keyCode&&(i=this._pivotCells.getNextCell(t,"bottom")),null!=i){this._pivotRows._refreshRequired=!0,this._pivotColumns._refreshRequired=!0,this._pivotCells._refreshRequired=!0,this._colItemRangeSelectionBeg=i.pivotColumn,this._rowItemRangeSelectionBeg=i.pivotRow,this._beginSelectionUpdate(),this._isCTRLPressed&&0!=this.multipleSelectionEnabled||this._internalClearSelection(),this._pivotCells._internalSelectCell(this._rowItemRangeSelectionBeg,this._colItemRangeSelectionBeg),this._cellKBRangeSelectionEnd={pivotRow:this._rowItemRangeSelectionBeg,pivotColumn:this._colItemRangeSelectionBeg,pivotCells:this._pivotCells},this._cellKBRangeSelectionStart&&this._isSHIFTPressed||(this._cellKBRangeSelectionStart={pivotRow:this._rowItemRangeSelectionBeg,pivotColumn:this._colItemRangeSelectionBeg,pivotCells:this._pivotCells});for(var s=Math.min(this._cellKBRangeSelectionStart.pivotColumn._lfIndex,this._cellKBRangeSelectionEnd.pivotColumn._lfIndex),r=Math.max(this._cellKBRangeSelectionStart.pivotColumn._lfIndex,this._cellKBRangeSelectionEnd.pivotColumn._lfIndex),n=Math.min(this._cellKBRangeSelectionStart.pivotRow._lfIndex,this._cellKBRangeSelectionEnd.pivotRow._lfIndex),o=Math.max(this._cellKBRangeSelectionStart.pivotRow._lfIndex,this._cellKBRangeSelectionEnd.pivotRow._lfIndex),a=s;a<=r;a++)for(var l=n;l<=o;l++){var d=this._pivotColumns.visibleLeafItems[a],h=this._pivotRows.visibleLeafItems[l];this._pivotCells._internalSelectCell(h,d)}this._endSelectionUpdate(),i.pivotRow.ensureVisible(),i.pivotColumn.ensureVisible(),this._internalRefresh()}return!1}})}(jqxBaseFramework),function(f){f.jqx.jqxWidget("jqxBulletChart","",{}),f.extend(f.jqx._jqxBulletChart.prototype,{defineInstance:function(){var e={width:500,height:100,barSize:"50%",ranges:[{startValue:0,endValue:50,color:"#000000",opacity:.7},{startValue:50,endValue:80,color:"#000000",opacity:.5},{startValue:80,endValue:100,color:"#000000",opacity:.3}],pointer:{value:65,label:"Value",size:"25%",color:""},target:{value:85,label:"Target",size:4,color:""},ticks:{position:"far",interval:20,size:10},title:"Title",description:"Description",orientation:"horizontal",labelsFormat:null,labelsFormatFunction:null,animationDuration:400,showTooltip:!0,tooltipFormatFunction:null,disabled:!1,rtl:!1,events:["change"]};return this===f.jqx._jqxBulletChart.prototype||f.extend(!0,this,e),e},createInstance:function(e){if(!f.jqx.dataAdapter)throw new Error("jqxBulletChart: Missing reference to the following module: 'jqxdata.js'.");this._setDefaultValues(),this.render();var t=this;f.jqx.utilities.resize(this.host,function(){t._timer&&clearTimeout(t._timer),t._timer=setTimeout(function(){var e=t.animationDuration;t.animationDuration=0,t.render(),setTimeout(function(){t.animationDuration=e},0)},10)},!1,!0)},render:function(){0<this.host.children().length&&(this._removeHandlers(),1==this.showTooltip&&this.host.jqxTooltip("destroy"),this.host.empty()),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-bulletchart")),this.host.width(this.width),this.host.height(this.height);var e,t=this.host.width(),i=this.host.height(),s=this.rtl?"rtl":"ltr";"horizontal"==this.orientation?e=f("<div style='position: absolute; visibility: hidden; padding: 5px;'><div class='"+this.toThemeProperty("jqx-bulletchart-title")+"' style='direction: "+s+";'>"+this.title+"</div><div class='"+this.toThemeProperty("jqx-bulletchart-description")+"' style='direction: "+s+";'>"+this.description+"</div></div>"):"vertical"==this.orientation&&(e=f("<div style='position: absolute; visibility: hidden; padding-bottom: 15px;'><div class='"+this.toThemeProperty("jqx-bulletchart-title")+"' style='width: "+t+"px; direction: "+s+";'>"+this.title+"</div><div class='"+this.toThemeProperty("jqx-bulletchart-description")+"' style='direction: "+s+";'>"+this.description+"</div></div>")),this.host.append(e);var r,n,o,a,l,d,h=e.outerWidth(),c=e.outerHeight();if(e.remove(),"horizontal"==this.orientation){if(r="jqx-bulletchart-title-container-horizontal",n="jqx-bulletchart-chart-container-horizontal",o=this._checkPercentage(this.barSize,this.host),l=0,u=t-(p=h),d=a=this.barSize,this.width&&0<=this.width.toString().indexOf("%")){var u=parseFloat(parseFloat(100*u)/t).toString()+"%",p=parseFloat(parseFloat(100*p)/t).toString()+"%";this._percentageWidth=!0}}else"vertical"==this.orientation&&(r="jqx-bulletchart-title-container-vertical",n="jqx-bulletchart-chart-container-vertical",o=0,p="100%",a=c,l=this._checkPercentage(this.barSize,this.host),u=this.barSize,d=i-a);if((0==this.rtl||1==this.rtl&&"vertical"==this.orientation)&&this.host.append("<div id='"+this.element.id+"titleContainer' class='"+r+"' style='top: "+o+";'></div>"),this.host.append("<div id='"+this.element.id+"ChartContainer' class='"+n+"' style='top: "+o+"; left: "+l+";'></div>"),1==this.rtl&&"horizontal"==this.orientation&&this.host.append("<div id='"+this.element.id+"titleContainer' class='"+r+"' style='top: "+o+";'></div>"),this._titleContainer=f("#"+this.element.id+"titleContainer"),this._chartContainer=f("#"+this.element.id+"ChartContainer"),this._titleContainer.css({width:p,height:a}),this._chartContainer.css({width:u,height:d}),this._min=this.ranges[0].startValue,this._max=this.ranges[this.ranges.length-1].endValue,this._interval=this._max-this._min,this._valueToPixelsHorizontal=this._chartContainer.width()/this._interval,this._valueToPixelsVertical=this._chartContainer.height()/this._interval,this._checkValues(),this._appendRanges(),this._appendPointerAndTarget(),this._appendTitleAndDescription(),"none"!=this.ticks.position&&this._appendTicksAndLabels(),1==this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),1==this.showTooltip){if(null==this.host.jqxTooltip)throw new Error("jqxBulletChart: Missing reference to the following module: 'jqxtooltip.js'.");this._initializeTooltip(),this.host.data().jqxWidget=this}this._updateValue(this.pointer.value,0,!0)},refresh:function(e){e||this.render()},val:function(e){if(0==arguments.length||null!=e&&"object"==typeof e)return this.pointer.value;e>this._max?e=this._max:e<this._min&&(e=this._min),e!=this.pointer.value&&(this._updateValue(e,this.pointer.value),this.pointer.value=e,1==this.showTooltip&&this._updateTooltip())},destroy:function(){f.jqx.utilities.resize(this.host,null,!0),this._removeHandlers(),1==this.showTooltip&&this.host.jqxTooltip("destroy"),this.host.remove()},propertyChangedHandler:function(s,r,i,n){if(i!=n||n instanceof Object){var o=!0,e=function(){f.each(i,function(e,t){null==n[e]&&(s[r][e]=t)})};switch(r){case"barSize":break;case"ranges":f.each(i,function(i,e){f.each(e,function(e,t){void 0!==n[i]&&null==n[i][e]&&(s[r][i][e]=t)})}),this._setDefaultValues();break;case"pointer":return e(),void this._updatePointer(n,i);case"target":return e(),void this._updateTarget(n,i);case"ticks":o=!1,e(),f.each(i,function(e,t){i[e]!=s[r][e]&&(o=!0)});break;case"showTooltip":if(1==n){if(null==this.host.jqxTooltip)throw new Error("jqxBulletChart: Missing reference to the following module: 'jqxtooltip.js'.");this._initializeTooltip()}else this._removeHandlers(),this.host.jqxTooltip("destroy");break;case"animationDuration":return;case"tooltipFormatFunction":return void this._updateTooltip();case"disabled":return void(1==n?this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")))}1==o&&this.render()}},_raiseEvent:function(e,t){var i=this.events[e],s=new f.Event(i);s.owner=this,s.args=t;try{var r=this.host.trigger(s)}catch(e){}return r},_removeHandlers:function(){var e=f("#"+this.element.id+"Pointer, #"+this.element.id+"Target");this.removeHandler(e,"mouseenter.bulletchart"+this.element.id),this.removeHandler(e,"mouseleave.bulletchart"+this.element.id)},_setDefaultValues:function(){for(var e=this.ranges,t=this.ranges.length,i=0;i<t;i++){if(null==e[i].startValue||null==e[i].endValue)throw new Error("jqxBulletChart: Each range must have its startValue and endValue set.");null==e[i].color&&(this.ranges[i].color="#000000"),null==e[i].opacity&&(this.ranges[i].opacity=1-1/t*i)}var s=this.pointer;null==s.value&&(this.pointer.value=65),null==s.label&&(this.pointer.label="Value"),null==s.size&&(this.pointer.size="25%"),null==s.color&&(this.pointer.color="");var r=this.target;null==r.value&&(this.target.value=85),null==r.label&&(this.target.label="Target"),null==r.size&&(this.target.size=5),null==r.color&&(this.target.color="");var n=this.ticks;null==n.position&&(this.ticks.position="near"),null==n.interval&&(this.ticks.interval=20),null==n.size&&(this.ticks.size=10)},_checkValues:function(){this.pointer.value>this._max?this.pointer.value=this._max:this.pointer.value<this._min&&(this.pointer.value=this._min),this.target.value>this._max?this.target.value=this._max:this.target.value<this._min&&(this.target.value=this._min)},_appendRanges:function(){for(var e="",t=this.ranges.length,i=0;i<t;i++){var s,r=this.ranges[i];if("horizontal"==this.orientation){var n=this.rtl?"right":"left",o=(r.startValue-this._min)*this._valueToPixelsHorizontal,a=(r.endValue-r.startValue)*this._valueToPixelsHorizontal;s="<div class='"+this.toThemeProperty("jqx-bulletchart-range")+" "+this.toThemeProperty("jqx-bulletchart-range-horizontal")+"' style='"+n+": "+o+"px; width: "+a+"px; background-color: "+r.color+"; opacity: "+r.opacity+"'></div>"}else if("vertical"==this.orientation){var l=(r.startValue-this._min)*this._valueToPixelsVertical,d=(r.endValue-r.startValue)*this._valueToPixelsVertical;s="<div class='"+this.toThemeProperty("jqx-bulletchart-range")+" "+this.toThemeProperty("jqx-bulletchart-range-vertical")+"' style='bottom: "+l+"px; height: "+d+"px; background-color: "+r.color+"; opacity: "+r.opacity+"'></div>"}e+=s}this._chartContainer.append(e)},_appendPointerAndTarget:function(){var e="",t=this.element.id+"Pointer",i=this.element.id+"Target",s=this.pointer.size,r=this.target.value,n=this.target.size,o=0<r?0:parseInt(n),a=0<this.pointer.color.length?"":this.toThemeProperty("jqx-fill-state-pressed"),l=0<this.target.color.length?"":this.toThemeProperty("jqx-fill-state-pressed");if("horizontal"==this.orientation){var d=this._normaliseValue(s),h=this._checkPercentage(s,this._chartContainer),c=this.rtl?"right":"left",u=(r-this._min)*this._valueToPixelsHorizontal-o,p=u+parseInt(n)-this._chartContainer.width();u<0?u=0:0<p&&(u-=p);var m=this._normaliseValue(n);e+="<div class='"+l+" "+this.toThemeProperty("jqx-bulletchart-target")+" "+this.toThemeProperty("jqx-bulletchart-target-horizontal")+"' id='"+i+"' style='"+c+": "+u+"px; width: "+m+"; background-color: "+this.target.color+"'></div>",e+="<div class='"+a+" "+this.toThemeProperty("jqx-bulletchart-pointer")+"' id='"+t+"' style='top: "+h+"; height: "+d+"; background-color: "+this.pointer.color+"'></div>"}else if("vertical"==this.orientation){this._chartContainer.width();var f=this._normaliseValue(s),g=this._checkPercentage(s,this._chartContainer),v=(r-this._min)*this._valueToPixelsVertical-o;p=v+parseInt(n)-this._chartContainer.height();v<0?v=0:0<p&&(v-=p);var x=this._normaliseValue(n);e+="<div class='"+l+" "+this.toThemeProperty("jqx-bulletchart-target")+" "+this.toThemeProperty("jqx-bulletchart-target-vertical")+"' id='"+i+"' style='bottom: "+v+"px; height: "+x+"; background-color: "+this.target.color+"'></div>",e+="<div class='"+a+" "+this.toThemeProperty("jqx-bulletchart-pointer")+"' id='"+t+"' style='left: "+g+"; width: "+f+"; background-color: "+this.pointer.color+"'></div>"}this._chartContainer.append(e)},_updatePointer:function(e,t){var i=f("#"+this.element.id+"Pointer");if(e.value>this._max?this.pointer.value=this._max:e.value<this._min&&(this.pointer.value=this._min),e.value!=t.value&&(this._updateValue(e.value,t.value),1==this.showTooltip&&this._updateTooltip()),e.label!=t.label&&1==this.showTooltip&&this._updateTooltip(),e.size!=t.size){var s=e.size;if("horizontal"==this.orientation){var r=this._checkPercentage(s,this._chartContainer),n=this._normaliseValue(s);i.css({top:r,height:n})}else if("vertical"==this.orientation){var o=this._checkPercentage(s,this._chartContainer),a=this._normaliseValue(s);i.css({left:o,width:a})}}e.color!=t.color&&(""==e.color?(i.css("background-color",""),i.addClass(this.toThemeProperty("jqx-fill-state-pressed"))):(i.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i.css("background-color",e.color)))},_updateTarget:function(e,t){var i=f("#"+this.element.id+"Target");if(e.value>this._max?this.target.value=this._max:e.value<this._min&&(this.target.value=this._min),e.value!=t.value||e.size!=t.size){var s=e.value,r=parseInt(e.size),n=0<s?0:r;if("horizontal"==this.orientation){this.rtl;var o=(s-this._min)*this._valueToPixelsHorizontal-n,a=o+r-this._chartContainer.width();o<0?o=0:0<a&&(o-=a),0==this.rtl?i.css("left",o):i.css("right",o),i.width(r)}else if("vertical"==this.orientation){var l=(s-this._min)*this._valueToPixelsVertical-n;a=l+r-this._chartContainer.height();l<0?l=0:0<a&&(l-=a),i.css({bottom:l,height:r})}1==this.showTooltip&&this._updateTooltip()}e.label!=t.label&&1==this.showTooltip&&this._updateTooltip(),e.color!=t.color&&(""==e.color?(i.css("background-color",""),i.addClass(this.toThemeProperty("jqx-fill-state-pressed"))):(i.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i.css("background-color",e.color)))},_appendTitleAndDescription:function(){var e;e="horizontal"==this.orientation?1==this.rtl?this.toThemeProperty("jqx-bulletchart-title-description-rtl"):this.toThemeProperty("jqx-bulletchart-title-description-ltr"):this.toThemeProperty("jqx-bulletchart-title-description-vertical");var t=this.rtl?"rtl":"ltr",i="<div id='"+this.element.id+"Title' class='"+this.toThemeProperty("jqx-bulletchart-title")+" "+e+"' style='direction: "+t+";'>"+this.title+"</div><div id='"+this.element.id+"Description' class='"+this.toThemeProperty("jqx-bulletchart-description")+" "+e+"' style='direction: "+t+";'>"+this.description+"</div>",s=f("<div style='position: absolute; visibility: hidden;'>"+i+"</div>");this._titleContainer.append(s);var r,n=s.children(),o=f(n[0]).height()+f(n[1]).height();s.remove(),r="horizontal"==this.orientation?0==this.rtl?this.toThemeProperty("jqx-bulletchart-title-inner-container")+" "+this.toThemeProperty("jqx-bulletchart-title-inner-container-ltr"):this.toThemeProperty("jqx-bulletchart-title-inner-container")+" "+this.toThemeProperty("jqx-bulletchart-title-inner-container-rtl"):"",this._titleContainer.append("<div class='"+r+"' style='height: "+o+"px;'>"+i+"</div>")},_appendTicksAndLabels:function(){var e=f("<div style='position: absolute; visibility: hidden;'></div>");this._chartContainer.append(e);var t="",i=this._min<0,s=this.ticks.size;if("horizontal"==this.orientation){var r=this._titleContainer.width(),n=this._chartContainer.offset().top-this.host.offset().top;if("both"==this.ticks.position||"far"==this.ticks.position)var o=this._chartContainer.height()+n;for(var a=0;a<=this._interval;a+=this.ticks.interval){var l=a*this._valueToPixelsHorizontal+r;if(a+this.ticks.interval>this._interval&&(l-=1),i)a+this._min==0&&(t+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-horizontal")+" "+this.toThemeProperty("jqx-bulletchart-zero-tick")+"' style='top: "+n+"px; "+c+": "+l+"px; height: "+this._chartContainer.height()+"px;'></div>",i=!1);var d=this._labelValue(a);e.html(d);var h=l-e.width()/2,c=this.rtl?"right":"left";"both"!=this.ticks.position&&"far"!=this.ticks.position||(t+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-horizontal")+"' style='top: "+o+"px; "+c+": "+l+"px; height: "+s+"px;'></div>",t+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='top: "+(o+s+2)+"px; "+c+": "+h+"px;'>"+d+"</div>"),"both"!=this.ticks.position&&"near"!=this.ticks.position||(t+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-horizontal")+"' style='top: "+(n-s)+"px; "+c+": "+l+"px; height: "+s+"px;'></div>",t+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='top: "+(n-(s+e.height()+2))+"px; "+c+": "+h+"px;'>"+d+"</div>")}}else if("vertical"==this.orientation){var u=this._chartContainer.offset().left-this.host.offset().left;if("both"==this.ticks.position||"far"==this.ticks.position)var p=this._chartContainer.width();for(a=0;a<=this._interval;a+=this.ticks.interval){var m=a*this._valueToPixelsVertical;if(a+this.ticks.interval>this._interval&&(m-=1),i)a+this._min==0&&(t+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-vertical")+" "+this.toThemeProperty("jqx-bulletchart-zero-tick")+"' style='left: "+u+"px; bottom: "+m+"px; width: "+p+"px;'></div>",i=!1);if("both"==this.ticks.position||"near"==this.ticks.position){t+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-vertical")+"' style='left: "+(u-s)+"px; bottom: "+m+"px; width: "+s+"px;'></div>";d=this._labelValue(a,"near");e.html(d);h=e.height()/2-1;t+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='left: "+(u-(s+e.width()+2))+"px; bottom: "+(m-h)+"px;'>"+d+"</div>"}if("both"==this.ticks.position||"far"==this.ticks.position){t+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-vertical")+"' style='left: "+(p+u)+"px; bottom: "+m+"px; width: "+s+"px;'></div>";d=this._labelValue(a,"far");e.html(d);h=e.height()/2-1;t+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='left: "+(p+u+s+2)+"px; bottom: "+(m-h)+"px;'>"+d+"</div>"}}}this.host.append(t),e.remove()},_labelValue:function(e,t){var i=e+this._min;return this.labelsFormatFunction?this.labelsFormatFunction(i,t):f.jqx.dataFormat.formatnumber(i,this.labelsFormat)},_initializeTooltip:function(){var t=this,e=this._tooltipContent();this.host.jqxTooltip({theme:this.theme,position:"mouse",content:e,trigger:"none",autoHide:!1,rtl:this.rtl}),this.host.jqxTooltip("getInstance").val=f.proxy(this.val,this);var i=f("#"+this.element.id+"Pointer, #"+this.element.id+"Target");this.addHandler(i,"mouseenter.bulletchart"+this.element.id,function(e){0==t.disabled&&(t.host.jqxTooltip("open",e.pageX,e.pageY),(e.target.id==t.element.id+"Pointer"&&""==t.pointer.color||e.target.id==t.element.id+"Target"&&""==t.target.color)&&(f(e.target).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),f(e.target).addClass(t.toThemeProperty("jqx-fill-state-hover"))))}),this.addHandler(i,"mouseleave.bulletchart"+this.element.id,function(e){0==t.disabled&&(t.host.jqxTooltip("close"),(e.target.id==t.element.id+"Pointer"&&""==t.pointer.color||e.target.id==t.element.id+"Target"&&""==t.target.color)&&(f(e.target).removeClass(t.toThemeProperty("jqx-fill-state-hover")),f(e.target).addClass(t.toThemeProperty("jqx-fill-state-pressed"))))})},_updateTooltip:function(){this.host.jqxTooltip({content:this._tooltipContent()})},_tooltipContent:function(){var e;if(this.tooltipFormatFunction)e=this.tooltipFormatFunction(this.pointer.value,this.target.value);else{var t=f.jqx.dataFormat.formatnumber(this.pointer.value,this.labelsFormat),i=f.jqx.dataFormat.formatnumber(this.target.value,this.labelsFormat);e="<div>"+this.pointer.label+": "+t+"</div><div>"+this.target.label+": "+i+"</div>"}return e},_updateValue:function(r,n,e){var o,a,l,d=this,h=f("#"+this.element.id+"Pointer"),t=function(e,t,i){if(0<=d._min)"vertical"==e?h.css("bottom",0):1==d.rtl&&"horizontal"==e&&h.css("right",0),o=(r-d._min)*t;else{if(0<=r){"horizontal"==e?1==d.rtl?(a="right",l="left"):a="left":"vertical"==e&&(a="bottom",l="top");var s=-d._min*t}else{"horizontal"==e?1==d.rtl?a="left":(a="right",l="left"):"vertical"==e&&(a="top");s=i+d._min*t}h.css(a,s),l&&h.css(l,""),r*n<0&&("horizontal"==e?h.width(0):"vertical"==e&&h.height(0)),o=Math.abs(r*t)}return o},i=function(){e||d._raiseEvent("0")};if("horizontal"==this.orientation){var s=t("horizontal",this._valueToPixelsHorizontal,this._chartContainer.width());setTimeout(function(){h.animate({width:s},d.animationDuration,i)},0)}else if("vertical"==this.orientation){var c=t("vertical",this._valueToPixelsVertical,this._chartContainer.height());setTimeout(function(){h.animate({height:c},d.animationDuration,i)},0)}},_checkPercentage:function(e,t){var i=-1;e.indexOf&&(i=e.indexOf("%"));var s,r;return-1==i?("horizontal"==this.orientation?s=t.height():"vertical"==this.orientation&&(s=t.width()),(s-((r=e).indexOf&&-1!=e.indexOf("px")?parseFloat(r.slice(0,e.indexOf("px"))):r))/2+"px"):(100-parseFloat(e.slice(0,i)))/2+"%"},_normaliseValue:function(e){return!e.indexOf||-1==e.indexOf("px")&&-1==e.indexOf("%")?e+"px":e}})}(jqxBaseFramework),function(c){c.jqx.cssroundedcorners=function(e){var t={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"};for(prop in t)if(t.hasOwnProperty(prop)&&e==prop)return t[prop]},c.jqx.jqxWidget("jqxButton","",{}),c.extend(c.jqx._jqxButton.prototype,{defineInstance:function(){var e={type:"",cursor:"arrow",roundedCorners:"all",disabled:!1,height:null,width:null,overrideTheme:!1,enableHover:!0,enableDefault:!0,enablePressed:!0,imgPosition:"center",imgSrc:"",imgWidth:16,imgHeight:16,value:null,textPosition:"",textImageRelation:"overlay",rtl:!1,_ariaDisabled:!1,_scrollAreaButton:!1,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===c.jqx._jqxButton.prototype||c.extend(!0,this,e),e},_addImage:function(e){var t=this;if("input"==t.element.nodeName.toLowerCase()||"button"==t.element.nodeName.toLowerCase()||"div"==t.element.nodeName.toLowerCase()){if(t._img)t._img.setAttribute("src",t.imgSrc),t._img.setAttribute("width",t.imgWidth),t._img.setAttribute("height",t.imgHeight),t._text.innerHTML=t.value;else{t.field=t.element,t.field.className&&(t._className=t.field.className);var i={title:t.field.title},s=null;if(t.field.getAttribute("value"))s=t.field.getAttribute("value");else if("input"!=t.element.nodeName.toLowerCase())s=t.element.innerHTML;t.value&&(s=t.value),t.field.id.length?i.id=t.field.id.replace(/[^\w]/g,"_")+"_"+e:i.id=c.jqx.utilities.createId()+"_"+e;var r=document.createElement("div");r.id=i.id,r.title=i.title,r.style.cssText=t.field.style.cssText,r.style.boxSizing="border-box";var n=document.createElement("img");n.setAttribute("src",t.imgSrc),n.setAttribute("width",t.imgWidth),n.setAttribute("height",t.imgHeight),r.appendChild(n),t._img=n;var o=document.createElement("span");s&&(o.innerHTML=s,t.value=s),r.appendChild(o),t._text=o,t.field.style.display="none",t.field.parentNode&&t.field.parentNode.insertBefore(r,t.field.nextSibling);var a=t.host.data();t.host=c(r),t.host.data(a),t.element=r,t.element.id=t.field.id,t.field.id=i.id;var l=new c(t.element),d=new c(t.field);if(t._className&&(l.addClass(t._className),d.removeClass(t._className)),t.field.tabIndex){var h=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=h}}t.imgSrc?t._img.style.display="inline":t._img.style.display="none",t.value?t._text.style.display="inline":t._text.style.display="none",t._positionTextAndImage()}},_positionTextAndImage:function(){var e=this,t=e.element.offsetWidth,i=e.element.offsetHeight,s=e.imgWidth,r=e.imgHeight;""==e.imgSrc&&(r=s=0);var n=e._text.offsetWidth,o=e._text.offsetHeight,a=0,l=0;switch(e.textImageRelation){case"imageBeforeText":case"textBeforeImage":a=s+n+8+4+8,l=Math.max(r,o)+8+4+8;break;case"imageAboveText":case"textAboveImage":a=Math.max(s,n)+8,l=r+o+4+8+8;break;case"overlay":a=Math.max(s,n)+8,l=Math.max(r,o)+8}e.width||(e.element.style.width=a+"px",t=a),e.height||(e.element.style.height=l+"px",i=l),e._img.style.position="absolute",e._text.style.position="absolute",e.element.style.position="relative",e.element.style.overflow="hidden";var d={},h={},c=function(e,t,i,s,r){switch(t.width<s&&(t.width=s),t.height<r&&(t.height=r),i){case"left":e.style.left=t.left+"px",e.style.top=t.top+t.height/2-r/2+"px";break;case"topLeft":e.style.left=t.left+"px",e.style.top=t.top+"px";break;case"bottomLeft":e.style.left=t.left+"px",e.style.top=t.top+t.height-r+"px";break;default:case"center":e.style.left=t.left+t.width/2-s/2+"px",e.style.top=t.top+t.height/2-r/2+"px";break;case"top":e.style.left=t.left+t.width/2-s/2+"px",e.style.top=t.top+"px";break;case"bottom":e.style.left=t.left+t.width/2-s/2+"px",e.style.top=t.top+t.height-r+"px";break;case"right":e.style.left=t.left+t.width-s+"px",e.style.top=t.top+t.height/2-r/2+"px";break;case"topRight":e.style.left=t.left+t.width-s+"px",e.style.top=t.top+"px";break;case"bottomRight":e.style.left=t.left+t.width-s+"px",e.style.top=t.top+t.height-r+"px"}},u=0,p=0,m=t,f=i,g=(m-u)/2,v=(f-p)/2,x=e._img,w=e._text,y=f-p,b=m-u;switch(u+=4,p+=4,m=m-4-2,b=b-8-2,y=y-8-2,e.textImageRelation){case"imageBeforeText":switch(e.imgPosition){case"left":case"topLeft":case"bottomLeft":h={left:u,top:p,width:u+s,height:y},d={left:u+s+4,top:p,width:b-s-4,height:y};break;case"center":case"top":case"bottom":d={left:(h={left:g-n/2-s/2-2,top:p,width:s,height:y}).left+s+4,top:p,width:m-h.left-s-4,height:y};break;case"right":case"topRight":case"bottomRight":d={left:(h={left:m-n-s-4,top:p,width:s,height:y}).left+s+4,top:p,width:m-h.left-s-4,height:y}}c(x,h,e.imgPosition,s,r),c(w,d,e.textPosition,n,o);break;case"textBeforeImage":switch(e.textPosition){case"left":case"topLeft":case"bottomLeft":d={left:u,top:p,width:u+n,height:y},h={left:u+n+4,top:p,width:b-n-4,height:y};break;case"center":case"top":case"bottom":h={left:(d={left:g-n/2-s/2-2,top:p,width:n,height:y}).left+n+4,top:p,width:m-d.left-n-4,height:y};break;case"right":case"topRight":case"bottomRight":h={left:(d={left:m-n-s-4,top:p,width:n,height:y}).left+n+4,top:p,width:m-d.left-n-4,height:y}}c(x,h,e.imgPosition,s,r),c(w,d,e.textPosition,n,o);break;case"imageAboveText":switch(e.imgPosition){case"topRight":case"top":case"topLeft":h={left:u,top:p,width:b,height:r},d={left:u,top:p+r+4,width:b,height:y-r-4};break;case"left":case"center":case"right":d={left:u,top:(h={left:u,top:v-r/2-o/2-2,width:b,height:r}).top+4+r,width:b,height:y-h.top-4-r};break;case"bottomLeft":case"bottom":case"bottomRight":d={left:u,top:(h={left:u,top:f-r-o-4,width:b,height:r}).top+4+r,width:b,height:o}}c(x,h,e.imgPosition,s,r),c(w,d,e.textPosition,n,o);break;case"textAboveImage":switch(e.textPosition){case"topRight":case"top":case"topLeft":d={left:u,top:p,width:b,height:o},h={left:u,top:p+o+4,width:b,height:y-o-4};break;case"left":case"center":case"right":h={left:u,top:(d={left:u,top:v-r/2-o/2-2,width:b,height:o}).top+4+o,width:b,height:y-d.top-4-o};break;case"bottomLeft":case"bottom":case"bottomRight":h={left:u,top:(d={left:u,top:f-r-o-4,width:b,height:o}).top+4+o,width:b,height:r}}c(x,h,e.imgPosition,s,r),c(w,d,e.textPosition,n,o);break;case"overlay":default:d={left:u,top:p,width:b,height:y},c(x,h={left:u,top:p,width:b,height:y},e.imgPosition,s,r),c(w,d,e.textPosition,n,o)}},createInstance:function(e){var t=this;t._setSize(),t.buttonObj=new c(t.element),(""!=t.imgSrc||""!=t.textPosition||t.element.value&&0<=t.element.value.indexOf("<")||null!=t.value)&&(t.refresh(),t._addImage("jqxButton"),t.buttonObj=new c(t.element)),t._ariaDisabled||t.element.setAttribute("role","button"),""!==t.type&&t.element.setAttribute("type",t.type),t.overrideTheme||(t.buttonObj.addClass(t.toThemeProperty(c.jqx.cssroundedcorners(t.roundedCorners))),t.enableDefault&&t.buttonObj.addClass(t.toThemeProperty("jqx-button")),t.buttonObj.addClass(t.toThemeProperty("jqx-widget"))),t.isTouchDevice=c.jqx.mobile.isTouchDevice(),t._ariaDisabled||c.jqx.aria(this),"arrow"!=t.cursor&&(t.disabled?t.element.style.cursor="arrow":t.element.style.cursor=t.cursor);var i="mouseenter mouseleave mousedown focus blur";if(t._scrollAreaButton)i="mousedown";t.isTouchDevice&&(t.addHandler(t.host,c.jqx.mobile.getTouchEventName("touchstart"),function(e){t.isPressed=!0,t.refresh()}),t.addHandler(c(document),c.jqx.mobile.getTouchEventName("touchend")+"."+t.element.id,function(e){t.isPressed=!1,t.refresh()})),t.addHandler(t.host,i,function(e){switch(e.type){case"mouseenter":t.isTouchDevice||!t.disabled&&t.enableHover&&(t.isMouseOver=!0,t.refresh());break;case"mouseleave":t.isTouchDevice||!t.disabled&&t.enableHover&&(t.isMouseOver=!1,t.refresh());break;case"mousedown":t.disabled||(t.isPressed=!0,t.refresh());break;case"focus":t.disabled||(t.isFocused=!0,t.refresh());break;case"blur":t.disabled||(t.isFocused=!1,t.refresh())}}),t.mouseupfunc=function(e){t.disabled||(t.isPressed||t.isMouseOver)&&(t.isPressed=!1,t.refresh())},t.addHandler(document,"mouseup.button"+t.element.id,t.mouseupfunc);try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.that){var s="";if(window.parent&&document.referrer&&(s=document.referrer),-1!=s.indexOf(document.location.host)){window.top.document&&t.addHandler(c(window.top.document),"mouseup",function(e){t.isPressed=!1,t.refresh()})}}}catch(e){}t.propertyChangeMap.roundedCorners=function(e,t,i,s){e.buttonObj.removeClass(e.toThemeProperty(c.jqx.cssroundedcorners(i))),e.buttonObj.addClass(e.toThemeProperty(c.jqx.cssroundedcorners(s)))},t.propertyChangeMap.disabled=function(e,t,i,s){i!=s&&(e.refresh(),e.element.setAttribute("disabled",s),e.element.disabled=s,e.element.style.cursor=s?"default":e.cursor,c.jqx.aria(e,"aria-disabled",e.disabled))},t.propertyChangeMap.rtl=function(e,t,i,s){i!=s&&e.refresh()},t.propertyChangeMap.template=function(e,t,i,s){i!=s&&(e.buttonObj.removeClass(e.toThemeProperty("jqx-"+i)),e.refresh())},t.propertyChangeMap.theme=function(e,t,i,s){e.buttonObj.removeClass(e.element),e.enableDefault&&e.buttonObj.addClass(e.toThemeProperty("jqx-button")),e.buttonObj.addClass(e.toThemeProperty("jqx-widget")),e.overrideTheme||e.buttonObj.addClass(e.toThemeProperty(c.jqx.cssroundedcorners(e.roundedCorners))),e._oldCSSCurrent=null,e.refresh()},t.disabled&&(t.element.disabled=!0,t.element.setAttribute("disabled","true"))},resize:function(e,t){this.width=e,this.height=t,this._setSize()},val:function(){var e=this,t=e.host.find("input");return 0<t.length?(0==arguments.length||"object"==typeof value||(t.val(value),e.refresh()),t.val()):0==arguments.length||"object"==typeof value?"button"==e.element.nodeName.toLowerCase()?c(e.element).text():e.element.value:(0<arguments.length&&e._text?e._text.innerHTML=arguments[0]:(e.element.value=arguments[0],"button"==e.element.nodeName.toLowerCase()&&c(e.element).html(arguments[0])),void e.refresh())},_setSize:function(){var e=this.height,t=this.width;e&&(isNaN(e)||(e+="px"),this.element.style.height=e),t&&(isNaN(t)||(t+="px"),this.element.style.width=t)},_removeHandlers:function(){var e=this;e.removeHandler(e.host,"selectstart"),e.removeHandler(e.host,"click"),e.removeHandler(e.host,"focus"),e.removeHandler(e.host,"blur"),e.removeHandler(e.host,"mouseenter"),e.removeHandler(e.host,"mouseleave"),e.removeHandler(e.host,"mousedown"),e.removeHandler(c(document),"mouseup.button"+e.element.id,e.mouseupfunc),e.isTouchDevice&&(e.removeHandler(e.host,c.jqx.mobile.getTouchEventName("touchstart")),e.removeHandler(c(document),c.jqx.mobile.getTouchEventName("touchend")+"."+e.element.id)),e.mouseupfunc=null,delete e.mouseupfunc},focus:function(){this.host.focus()},destroy:function(){var e=this;e._removeHandlers();var t=c.data(e.element,"jqxButton");t&&delete t.instance,e.host.removeClass(),e.host.removeData(),e.host.remove(),delete e.set,delete e.get,delete e.call,delete e.element,delete e.host},render:function(){this.refresh()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),e.refresh())},propertyChangedHandler:function(e,t,i,s){null!=this.isInitialized&&0!=this.isInitialized&&s!=i&&(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("type"===t&&e.element.setAttribute("type",s),"textImageRelation"!=t&&"textPosition"!=t&&"imgPosition"!=t||(e._img?e._positionTextAndImage():e._addImage("jqxButton")),"imgSrc"!=t&&"imgWidth"!=t&&"imgHeight"!=t||e._addImage("jqxButton"),"value"===t&&e.val(s),"width"!=t&&"height"!=t||(e._setSize(),e.refresh())))},refresh:function(){var e=this;if(!e.overrideTheme){var t=e.toThemeProperty("jqx-fill-state-focus"),i=e.toThemeProperty("jqx-fill-state-disabled"),s=e.toThemeProperty("jqx-fill-state-normal");e.enableDefault||(s="");var r=e.toThemeProperty("jqx-fill-state-hover"),n=e.toThemeProperty("jqx-fill-state-pressed"),o=e.toThemeProperty("jqx-fill-state-pressed");e.enablePressed||(n="");var a="";if(e.host){if(e.element.disabled=e.disabled,e.disabled)return e._oldCSSCurrent&&e.buttonObj.removeClass(e._oldCSSCurrent),a=s+" "+i,"default"!==e.template&&""!==e.template&&(a+=" jqx-"+e.template,""!=e.theme&&(a+=" jqx-"+e.template+"-"+e.theme)),e.buttonObj.addClass(a),void(e._oldCSSCurrent=a);a=e.isMouseOver&&!e.isTouchDevice?e.isPressed?o:r:e.isPressed?n:s,e.isFocused&&(a+=" "+t),"default"!==e.template&&""!==e.template&&(a+=" jqx-"+e.template,""!=e.theme&&(a+=" jqx-"+e.template+"-"+e.theme)),a!=e._oldCSSCurrent&&(e._oldCSSCurrent&&e.buttonObj.removeClass(e._oldCSSCurrent),e.buttonObj.addClass(a),e._oldCSSCurrent=a),e.rtl&&(e.buttonObj.addClass(e.toThemeProperty("jqx-rtl")),e.element.style.direction="rtl")}}}}),c.jqx.jqxWidget("jqxLinkButton","",{}),c.extend(c.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=!1,this.height=null,this.width=null,this.rtl=!1,this.href=null},createInstance:function(e){var t=this;this.host.onselectstart=function(){return!1},this.host.attr("role","button");var i=this.height||this.element.offsetHeight,s=this.width||this.element.offsetWidth;this.href=this.element.getAttribute("href"),this.target=this.element.getAttribute("target"),this.content=this.host.text(),this.element.innerHTML="";var r=document.createElement("input");r.type="button",r.className="jqx-wrapper "+this.toThemeProperty("jqx-reset"),this._setSize(r,s,i),r.value=this.content,new c(this.element).addClass(this.toThemeProperty("jqx-link")),this.element.style.color="inherit",this.element.appendChild(r),this._setSize(r,s,i);var n=null==e?{}:e[0]||{};c(r).jqxButton(n),this.wrapElement=r,this.disabled&&(this.element.disabled=!0),this.propertyChangeMap.disabled=function(e,t,i,s){e.element.disabled=s,e.wrapElement.jqxButton({disabled:s})},this.addHandler(c(r),"click",function(e){return this.disabled||t.onclick(e),!1})},_setSize:function(e,t,i){i&&(isNaN(i)||(i+="px"),e.style.height=i),t&&(isNaN(t)||(t+="px"),e.style.width=t)},onclick:function(e){null!=this.target?window.open(this.href,this.target):window.location=this.href}}),c.jqx.jqxWidget("jqxRepeatButton","jqxButton",{}),c.extend(c.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(e){var t=this,i=c.jqx.mobile.isTouchDevice(),s=i?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,r=i?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.addHandler(c(document),s,function(e){null!=t.timeout&&(clearTimeout(t.timeout),t.timeout=null,t.refresh()),null!=t.timer&&(clearInterval(t.timer),t.timer=null,t.refresh())}),this.addHandler(this.base.host,r,function(e){null!=t.timer&&clearInterval(t.timer),t.timeout=setTimeout(function(){clearInterval(t.timer),t.timer=setInterval(function(e){t.ontimer(e)},t.delay)},150)}),this.mousemovefunc=function(e){i||0==e.which&&null!=t.timer&&(clearInterval(t.timer),t.timer=null)},this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var e=c.jqx.mobile.isTouchDevice(),t=e?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,i=e?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.removeHandler(this.base.host,"mousemove",this.mousemovefunc),this.removeHandler(this.base.host,i),this.removeHandler(c(document),t),this.timer=null,delete this.mousemovefunc,delete this.timer;var s=c.data(this.base.element,"jqxRepeatButton");s&&delete s.instance,c(this.base.element).removeData(),this.base.destroy(),delete this.base},stop:function(){clearInterval(this.timer),this.timer=null},ontimer:function(e){e=new c.Event("click");null!=this.base&&null!=this.base.host&&this.base.host.trigger(e)}}),c.jqx.jqxWidget("jqxToggleButton","jqxButton",{}),c.extend(c.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=!1,this.uiToggle=!0,this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(e){var t=this;t.base.overrideTheme=!0,t.isTouchDevice=c.jqx.mobile.isTouchDevice(),c.jqx.aria(this),t.propertyChangeMap.roundedCorners=function(e,t,i,s){e.base.buttonObj.removeClass(e.toThemeProperty(c.jqx.cssroundedcorners(i))),e.base.buttonObj.addClass(e.toThemeProperty(c.jqx.cssroundedcorners(s)))},t.propertyChangeMap.toggled=function(e,t,i,s){e.refresh()},t.propertyChangeMap.disabled=function(e,t,i,s){e.base.disabled=s,e.refresh()},t.addHandler(t.base.host,"click",function(e){!t.base.disabled&&t.uiToggle&&t.toggle()}),t.isTouchDevice||(t.addHandler(t.base.host,"mouseenter",function(e){t.base.disabled||t.refresh()}),t.addHandler(t.base.host,"mouseleave",function(e){t.base.disabled||t.refresh()})),t.addHandler(t.base.host,"mousedown",function(e){t.base.disabled||t.refresh()}),t.addHandler(c(document),"mouseup.togglebutton"+t.base.element.id,function(e){t.base.disabled||t.refresh()})},destroy:function(){this._removeHandlers(),this.base.destroy()},_removeHandlers:function(){this.removeHandler(this.base.host,"click"),this.removeHandler(this.base.host,"mouseenter"),this.removeHandler(this.base.host,"mouseleave"),this.removeHandler(this.base.host,"mousedown"),this.removeHandler(c(document),"mouseup.togglebutton"+this.base.element.id)},toggle:function(){this.toggled=!this.toggled,this.refresh(),c.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=!1,this.refresh()},check:function(){this.toggled=!0,this.refresh()},refresh:function(){var e=this,t=e.base.toThemeProperty("jqx-fill-state-disabled"),i=e.base.toThemeProperty("jqx-fill-state-normal");e.base.enableDefault||(i="");var s=e.base.toThemeProperty("jqx-fill-state-hover"),r=e.base.toThemeProperty("jqx-fill-state-pressed"),n=e.base.toThemeProperty("jqx-fill-state-pressed"),o="";if(e.base.element.disabled=e.base.disabled,e.base.disabled)return o=i+" "+t,void e.base.buttonObj.addClass(o);o=e.base.isMouseOver&&!e.isTouchDevice?e.base.isPressed||e.toggled?n:s:e.base.isPressed||e.toggled?r:i,"default"!==e.base.template&&""!==e.base.template&&(o+=" jqx-"+e.base.template,""!=e.base.theme&&(o+=" jqx-"+e.template+"-"+e.base.theme)),e.base.buttonObj.hasClass(t)&&t!=o&&e.base.buttonObj.removeClass(t),e.base.buttonObj.hasClass(i)&&i!=o&&e.base.buttonObj.removeClass(i),e.base.buttonObj.hasClass(s)&&s!=o&&e.base.buttonObj.removeClass(s),e.base.buttonObj.hasClass(r)&&r!=o&&e.base.buttonObj.removeClass(r),e.base.buttonObj.hasClass(n)&&n!=o&&e.base.buttonObj.removeClass(n),e.base.buttonObj.hasClass(o)||e.base.buttonObj.addClass(o)}})}(jqxBaseFramework),function(o){o.jqx.jqxWidget("jqxButtonGroup","",{}),o.extend(o.jqx._jqxButtonGroup.prototype,{defineInstance:function(){var e={mode:"default",roundedCorners:!0,disabled:!1,enableHover:!1,orientation:"horizontal",width:null,height:null,_eventsMap:{mousedown:o.jqx.mobile.getTouchEventName("touchstart"),mouseup:o.jqx.mobile.getTouchEventName("touchend")},_events:["selected","unselected","buttonclick"],_buttonId:{},_selected:null,_pressed:null,rtl:!1,template:"",_baseId:"group_button",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===o.jqx._jqxButtonGroup.prototype||o.extend(!0,this,e),e},createInstance:function(e){var t=this;t._isTouchDevice=o.jqx.mobile.isTouchDevice(),o.jqx.aria(t),t._baseId=t._baseId+t.element.id,t.addHandler(t.host,"selectstart",function(e){t.disabled||e.preventDefault()})},refresh:function(){var e=this;e.width&&(e.width.toString()&&0<=e.width.toString().indexOf("%")?e.element.style.width=e.width:e.host.width(e.width)),e.height&&e.host.height(e.height),e._refreshButtons()},render:function(){this.refresh()},resize:function(){this.refresh()},_getEvent:function(e){if(this._isTouchDevice){var t=this._eventsMap[e]||e;return t+="."+this.element.id}return e+="."+this.element.id},_refreshButtons:function(){var e=this;e.lastElement&&e.lastElement.remove(),e.lastElement=o("<div style='clear: both;'></div>");var t,i=e.host.children(),s=i.length;switch(e.mode){case"radio":e.host.attr("role","radiogroup");break;case"checkbox":case"default":e.host.attr("role","group")}for(var r=new Number(100/s).toFixed(2),n=0;n<s;n+=1)t=o(i[n]),e.width&&("horizontal"===e.orientation?(t.css("width",r+"%"),t.css("box-sizing","border-box"),t.css("-moz-box-sizing","border-box"),t.css("white-space","nowrap"),t.css("text-overflow","ellipsis"),t.css("overflow","hidden")):(t.css("box-sizing","border-box"),t.css("-moz-box-sizing","border-box"),t.css("width","100%"))),e._refreshButton(t,n,s);e.lastElement.appendTo(e.host)},_refreshButton:function(e,i,s){(function(e){var t=this;e=t._render(e),t._removeStyles(e),t._addStyles(e,i,s),t._performLayout(e),t._removeButtonListeners(e),t._addButtonListeners(e),t._handleButtonId(e,i),"radio"===t.mode?e.attr("role","radio"):e.attr("role","button"),e.attr("disabled",t.disabled),t.disabled?e.addClass(t.toThemeProperty("jqx-fill-state-disabled")):e.removeClass(t.toThemeProperty("jqx-fill-state-disabled"))}).apply(this,[e])},destroy:function(e){for(var t,i=this.host.children(),s=i.length,r=0;r<s;r+=1)t=o(i[r]),this._removeStyles(t),this._removeButtonListeners(t);!1!==e&&this.host.remove()},_render:function(e){return"button"===e[0].tagName.toLowerCase()?this._renderFromButton(e):this._renderButton(e)},_renderButton:function(e){return e.wrapInner("<div/>"),e},_removeStyles:function(e){var t=this.toThemeProperty;this.host.removeClass("jqx-widget"),this.host.removeClass("jqx-rc-all"),e.removeClass(t.call(this,"jqx-fill-state-normal")),e.removeClass(t.call(this,"jqx-group-button-normal")),e.removeClass(t.call(this,"jqx-rc-tl")),e.removeClass(t.call(this,"jqx-rc-bl")),e.removeClass(t.call(this,"jqx-rc-tr")),e.removeClass(t.call(this,"jqx-rc-br")),e.css("margin-left",0)},_addStyles:function(e,t,i){var s=this.toThemeProperty;this.host.addClass(s.call(this,"jqx-widget")),this.host.addClass(s.call(this,"jqx-rc-all")),this.host.addClass(s.call(this,"jqx-buttongroup")),e.addClass(s.call(this,"jqx-button")),e.addClass(s.call(this,"jqx-group-button-normal")),e.addClass(s.call(this,"jqx-fill-state-normal")),this.template&&e.addClass(s.call(this,"jqx-"+this.template)),this.roundedCorners&&(0===t?this._addRoundedCorners(e,!0):t===i-1&&this._addRoundedCorners(e,!1)),"horizontal"===this.orientation?e.css("margin-left",-parseInt(e.css("border-left-width"),10)):e.css("margin-top",-parseInt(e.css("border-left-width"),10))},_addRoundedCorners:function(e,t){var i=this.toThemeProperty;"horizontal"===this.orientation?t?(e.addClass(i.call(this,"jqx-rc-tl")),e.addClass(i.call(this,"jqx-rc-bl"))):(e.addClass(i.call(this,"jqx-rc-tr")),e.addClass(i.call(this,"jqx-rc-br"))):t?(e.addClass(i.call(this,"jqx-rc-tl")),e.addClass(i.call(this,"jqx-rc-tr"))):(e.addClass(i.call(this,"jqx-rc-bl")),e.addClass(i.call(this,"jqx-rc-br")))},_centerContent:function(e,t){return e.css({"margin-top":(t.height()-e.height())/2,"margin-left":(t.width()-e.width())/2}),e},_renderFromButton:function(e){var t,i=e.val();""===i&&(i=e.html());var s=e[0].id;return e.wrap("<div/>"),(t=e.parent()).attr("style",e.attr("style")),e.remove(),o.jqx.utilities.html(t,i),t[0].id=s,t},_performLayout:function(e){"horizontal"===this.orientation?this.rtl?e.css("float","right"):e.css("float","left"):e.css("float","none"),this._centerContent(o(e.children()),e)},_mouseEnterHandler:function(e){var t=e.data.self,i=o(e.currentTarget);if(!t._isDisabled(i)&&t.enableHover){var s=t.toThemeProperty;i.addClass(s.call(t,"jqx-group-button-hover")),i.addClass(s.call(t,"jqx-fill-state-hover"))}},_mouseLeaveHandler:function(e){var t=e.data.self,i=o(e.currentTarget);if(!t._isDisabled(i)&&t.enableHover){var s=t.toThemeProperty;i.removeClass(s.call(t,"jqx-group-button-hover")),i.removeClass(s.call(t,"jqx-fill-state-hover"))}},_mouseDownHandler:function(e){var t=e.data.self,i=o(e.currentTarget);if(!t._isDisabled(i)){t._pressed=i;var s=t.toThemeProperty;i.addClass(s.call(t,"jqx-group-button-pressed")),i.addClass(s.call(t,"jqx-fill-state-pressed"))}},_mouseUpHandler:function(e){var t=e.data.self,i=o(e.currentTarget);t._isDisabled(i)||(t._handleSelection(i),t._pressed=null,i=t._buttonId[i[0].id],t._raiseEvent(2,{index:i.num,button:i.btn}))},_isDisabled:function(e){return!(!e||!e[0])&&this._buttonId[e[0].id].disabled},_documentUpHandler:function(e){var t=e.data.self,i=t._pressed;i&&!t._buttonId[i[0].id].selected&&(i.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._pressed=null)},_addButtonListeners:function(e){var t=this,i=t.addHandler,s=t._getEvent;i(e,s.call(t,"mouseenter"),t._mouseEnterHandler,{self:t}),i(e,s.call(t,"mouseleave"),t._mouseLeaveHandler,{self:t}),i(e,s.call(t,"mousedown"),t._mouseDownHandler,{self:t}),i(e,s.call(t,"mouseup"),t._mouseUpHandler,{self:t}),i(o(document),s.call(t,"mouseup"),t._documentUpHandler,{self:t})},_removeButtonListeners:function(e){var t=this,i=t.removeHandler,s=t._getEvent;i(e,s.call(t,"mouseenter"),t._mouseEnterHandler),i(e,s.call(t,"mouseleave"),t._mouseLeaveHandler),i(e,s.call(t,"mousedown"),t._mouseDownHandler),i(e,s.call(t,"mouseup"),t._mouseUpHandler),i(o(document),s.call(t,"mouseup"),t._documentUpHandler)},_handleSelection:function(e){"radio"===this.mode?this._handleRadio(e):"checkbox"===this.mode?this._handleCheckbox(e):this._handleDefault(e)},_handleRadio:function(e){var t=this._getSelectedButton();for(var i in t&&t.btn[0].id!==e[0].id&&this._unselectButton(t.btn,!0),this._buttonId)this._buttonId[i].selected=!0,this._unselectButton(this._buttonId[i].btn,!1);this._selectButton(e,!0)},_handleCheckbox:function(e){var t=this._buttonId[e[0].id];t.selected?this._unselectButton(t.btn,!0):this._selectButton(e,!0)},_handleDefault:function(e){for(var t in this._selectButton(e,!1),this._buttonId)this._buttonId[t].selected=!0,this._unselectButton(this._buttonId[t].btn,!1)},_getSelectedButton:function(){for(var e in this._buttonId)if(this._buttonId[e].selected)return this._buttonId[e];return null},_getSelectedButtons:function(){var e=[];for(var t in this._buttonId)this._buttonId[t].selected&&e.push(this._buttonId[t].num);return e},_getButtonByIndex:function(e){for(var t in this._buttonId)if(this._buttonId[t].num===e)return this._buttonId[t];return null},_selectButton:function(e,t){var i=this._buttonId[e[0].id];if(!i.selected){var s=this.toThemeProperty;i.btn.addClass(s.call(this,"jqx-group-button-pressed")),i.btn.addClass(s.call(this,"jqx-fill-state-pressed")),i.selected=!0,t&&this._raiseEvent(0,{index:i.num,button:i.btn}),o.jqx.aria(i.btn,"aria-checked",!0)}},_unselectButton:function(e,t){var i=this._buttonId[e[0].id];if(i.selected){var s=this.toThemeProperty;i.btn.removeClass(s.call(this,"jqx-group-button-pressed")),i.btn.removeClass(s.call(this,"jqx-fill-state-pressed")),i.selected=!1,t&&this._raiseEvent(1,{index:i.num,button:i.btn}),o.jqx.aria(i.btn,"aria-checked",!1)}},setSelection:function(e){if(-1!==e)if("checkbox"===this.mode)if("number"==typeof e)this._setSelection(e);else for(var t=0;t<e.length;t+=1)this._setSelection(e[t]);else"number"==typeof e&&"radio"===this.mode&&this._setSelection(e);else this.clearSelection()},_setSelection:function(e){var t=this._getButtonByIndex(e);t&&this._handleSelection(t.btn)},getSelection:function(){if("radio"===this.mode){if(this._getSelectedButton())return this._getSelectedButton().num}else if("checkbox"===this.mode)return this._getSelectedButtons()},disable:function(){var e;for(var t in this.disabled=!0,this._buttonId)e=this._buttonId[t],this.disableAt(e.num);o.jqx.aria(this,"aria-disabled",!0)},enable:function(){var e;for(var t in this.disabled=!1,this._buttonId)e=this._buttonId[t],this.enableAt(e.num);o.jqx.aria(this,"aria-disabled",!1)},disableAt:function(e){var t=this._getButtonByIndex(e);t.disabled||(t.disabled=!0,t.btn.addClass(this.toThemeProperty("jqx-fill-state-disabled")))},enableAt:function(e){var t=this._getButtonByIndex(e);t.disabled&&(t.disabled=!1,t.btn.removeClass(this.toThemeProperty("jqx-fill-state-disabled")))},_handleButtonId:function(e,t){var i=e[0].id,s={btn:e,num:t,selected:!1};return i||(i=this._baseId+e.index()),e[0].id=i,this._buttonId[i]=s,i},_raiseEvent:function(e,t){var i=o.Event(this._events[e]);return i.args=t,this.host.trigger(i)},_unselectAll:function(){for(var e in this._buttonId)this._unselectButton(this._buttonId[e].btn,!1)},clearSelection:function(){this._unselectAll()},propertyChangedHandler:function(e,t,i,s){if("theme"===t&&null!==s&&o.jqx.utilities.setTheme(i,s,e.host),"template"===t&&e.refresh(),"mode"===t)return e._unselectAll(),void e.refresh();"disabled"===t?s?e.disable():e.enable():e.refresh()}})}(jqxBaseFramework),function(C){C.jqx.jqxWidget("jqxCalendar","",{}),C.extend(C.jqx._jqxCalendar.prototype,{defineInstance:function(){var e={disabled:!1,restrictedDates:new Array,multipleMonthRows:1,multipleMonthColumns:1,minDate:C.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:C.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),navigationDelay:400,stepMonths:1,width:null,height:null,value:C.jqx._jqxDateTimeInput.getDateTime(new Date),firstDayOfWeek:0,showWeekNumbers:!1,showDayNames:!0,enableWeekend:!1,enableOtherMonthDays:!0,showOtherMonthDays:!0,rowHeaderWidth:25,columnHeaderHeight:20,titleHeight:30,dayNameFormat:"firstTwoLetters",monthNameFormat:"default",titleFormat:["MMMM yyyy","yyyy","yyyy","yyyy"],enableViews:!0,readOnly:!1,culture:"default",enableFastNavigation:!0,enableHover:!0,enableAutoNavigation:!0,enableTooltips:!1,backText:"Back",forwardText:"Forward",specialDates:new Array,keyboardNavigation:!0,selectionMode:"default",selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],todayString:"Today",clearString:"Clear",showFooter:!1,selection:{from:null,to:null},canRender:!0,_checkForHiddenParent:!0,height:null,rtl:!1,view:"month",views:["month","year","decade"],changing:null,change:null,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["backButtonClick","nextButtonClick","valuechanged","cellMouseDown","cellMouseUp","cellSelected","cellUnselected","change","viewChange"]};return this===C.jqx._jqxCalendar.prototype||(C.extend(!0,this,e),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(0),this.minDate._setMinutes(0),this.minDate._setSeconds(0),this.minDate._setMilliseconds(0),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(0),this.maxDate._setMinutes(0),this.maxDate._setSeconds(0),this.maxDate._setMilliseconds(0),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),e},_createFromInput:function(e){var t=this;if("input"==t.element.nodeName.toLowerCase()){t.field=t.element,t.field.className&&(t._className=t.field.className);var i={title:t.field.title};if(t.field.value&&(i.value=t.field.value),t.field.checked&&(i.checked=!0),t.field.id.length?i.id=t.field.id.replace(/[^\w]/g,"_")+"_"+e:i.id=C.jqx.utilities.createId()+"_"+e,t.field.getAttribute("min")){var s=new Date(t.field.getAttribute("min"));"Invalid Date"!=s&&(t.min=s)}if(t.field.getAttribute("max")){var r=new Date(t.field.getAttribute("max"));"Invalid Date"!=r&&(t.max=r)}var n=C("<div></div>",i);n[0].style.cssText=t.field.style.cssText,t.width||(t.width=C(t.field).width()),t.height||(t.height=C(t.field).outerHeight()),C(t.field).hide().after(n);var o=t.host.data();if(t.host=n,t.host.data(o),t.element=n[0],t.element.id=t.field.id,t.field.id=i.id,t._className&&(t.host.addClass(t._className),C(t.field).removeClass(t._className)),t.field.tabIndex){var a=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=a}}},createInstance:function(e){this._createFromInput("jqxCalendar"),this.setCalendarSize(),""===this.element.id&&(this.element.id=C.jqx.utilities.createId()),"date"==C.type(this.value)&&(this.value=C.jqx._jqxDateTimeInput.getDateTime(this.value)),this.element.innerHTML="",this.host.attr("data-role","calendar");this.element.id;var r=this;if(this.propertyChangeMap.width=function(e,t,i,s){r.setCalendarSize()},this.propertyChangeMap.height=function(e,t,i,s){r.setCalendarSize()},C.global&&C.global.preferCulture(this.culture),"default"!=this.culture){if(C.global)C.global.preferCulture(this.culture),this.localization.calendar=C.global.culture.calendar;else if(Globalize){var t=Globalize.culture(this.culture);this.localization.calendar=t.calendar}this.firstDayOfWeek=this.localization.calendar.firstDay}"Back"!=this.localization.backString&&(this.backText=this.localization.backString),"Forward"!=this.localization.forwardString&&(this.forwardText=this.localization.forwardString),"Today"!=this.localization.todayString&&this.localization.todayString&&(this.todayString=this.localization.todayString),"Clear"!=this.localization.clearString&&this.localization.clearString&&(this.clearString=this.localization.clearString),this.localization.calendar&&null!=this.localization.calendar.firstDay&&"default"!=this.culture&&(this.firstDayOfWeek=this.localization.calendar.firstDay),this.setMaxDate(this.max,!1),this.setMinDate(this.min,!1),this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.host.css("outline","none"),this.host.addClass(this.toThemeProperty("jqx-calendar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this._addInput(),-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&-1==this.views.indexOf("month")&&(this.view="decade"),this.addHandler(this.host,"keydown",function(e){var t=!0;return r.keyboardNavigation&&null!=r._handleKey&&((t=r._handleKey(e))||(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault())),t});var i=!1,s=this,n=!1;null!=r.width&&-1!=r.width.toString().indexOf("%")&&(n=!0),null!=r.height&&-1!=r.height.toString().indexOf("%")&&(n=!0),C.jqx.utilities.resize(this.host,function(){var e=s.host.find("#View"+r.element.id);i?s.refreshTitle(e):(i=!0,s.render()),n&&(r.refreshTimer&&clearTimeout(r.refreshTimer),r.refreshTimer=setTimeout(function(){r.refreshControl()},1))},!1,this._checkForHiddenParent);this.propertyChangeMap.disabled=function(e,t,i,s){s?e.host.addClass(r.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(r.toThemeProperty("jqx-fill-state-disabled")),r.refreshControl()}},_addInput:function(){var e=this.host.attr("name");this.input=C("<input type='hidden'/>"),this.host.append(this.input),e&&this.input.attr("name",e),this.input.val(this.getDate().toString())},setCalendarSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.css("width",this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.css("height",this.height)},_getYearAndMonthPart:function(e){return e?new Date(e.getFullYear(),e.getMonth(),1):new Date(1900,0,1)},_handleKey:function(e){if(this.readOnly)return!0;var t=e.keyCode,i=this._getSelectedDate();if(null==i){if("month"!=this.view||37!=t&&38!=t&&39!=t&&40!=t)return!0;this.selectedDate=new Date(this.value.year,this.value.month-1,1),this._selectDate(this.selectedDate,"key"),i=this.selectedDate}if(e.altKey)return!0;if(this._animating)return!1;if("month"!=this.view&&13==t){var s=this._getSelectedCell();this._setDateAndSwitchViews(s,e,"keyboard")}if("year"==this.view){var r=i.getMonth(),n=this._getYearAndMonthPart(this.getMinDate()),o=this._getYearAndMonthPart(this.getMaxDate());switch(t){case 37:if(0==r)n<=(a=new Date(i.getFullYear()-1,11,1))?(this.selectedDate=a,this.navigateBackward()):this.selectedDate!=n&&(this.selectedDate=n,this.navigateBackward());else n<=(a=new Date(i.getFullYear(),r-1,1))&&this._selectDate(a,"key");return!1;case 38:return(a=new Date(i.getFullYear(),r-4,1))<n&&(a=n),r-4<0?(this.selectedDate=a,this.navigateBackward()):this._selectDate(a,"key"),!1;case 40:return o<(a=new Date(i.getFullYear(),r+4,1))&&(a=o),11<r+4?(this.selectedDate=a,this.navigateForward()):this._selectDate(a,"key"),!1;case 39:var a;if(11==r)(a=new Date(i.getFullYear()+1,0,1))<=o?(this.selectedDate=a,this.navigateForward()):this.selectedDate!=o&&(this.selectedDate=o,this.navigateForward());else(a=new Date(i.getFullYear(),r+1,1))<=o&&this._selectDate(a,"key");return!1}return!0}if("decade"==this.view){var l=this._renderStartDate.getFullYear(),d=this._renderEndDate.getFullYear(),h=i.getFullYear(),c=this.getMinDate().getFullYear(),u=this.getMaxDate().getFullYear();switch(t){case 37:return c<=h-1&&(h<=l?(this.selectedDate=new Date(h-1,i.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(h-1,i.getMonth(),1),"key")),!1;case 38:var p=h-4;return h-4<c&&(p=c),p<l?(this.selectedDate=new Date(p,i.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(p,i.getMonth(),1),"key"),!1;case 40:return u<(p=h+4)&&(p=u),d<p?(this.selectedDate=new Date(p,i.getMonth(),1),this.navigateForward()):this._selectDate(new Date(p,i.getMonth(),1),"key"),!1;case 39:return h+1<=u&&(h==d?(this.selectedDate=new Date(h+1,i.getMonth(),1),this.navigateForward()):this._selectDate(new Date(h+1,i.getMonth(),1),"key")),!1}return!0}var m=new C.jqx._jqxDateTimeInput.getDateTime(i),f=this.getViewStart(),g=this.getViewEnd(),v=C.data(this.element,"View"+this.element.id);if(null==v||null==v)return!0;if(36==t)return m._setDay(1),this._isDisabled(m.dateTime)||this._selectDate(m.dateTime,"key"),!1;if(35==t){var x=this.value._daysInMonth(this.value.year,this.value.month);return m._setDay(x),this._isDisabled(m.dateTime)?!1:(this._selectDate(m.dateTime,"key"),!1)}var w=1;if(e.ctrlKey&&(w=12),34==t){if(this.navigateForward(w)){if(m._addMonths(w),this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key")}return!1}if(33==t){if(this.navigateBackward(w)){if(m._addMonths(-w),this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key")}return!1}if(38==t){if(m._addDays(-7),m.dateTime<this.getMinDate())return!1;if(m.dateTime<f)if(!this.navigateBackward())return!1;if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(var y=0;y<v.cells.length;y++){var b=(s=v.cells[y]).getDate();if(s.isOtherMonth&&s.isSelected&&b<=m.dateTime){this.value.day=b.getDate(),this.navigateBackward(),this._selectDate(m.dateTime,"key");break}}return!1}if(40==t){if(m._addDays(7),m.dateTime>this.getMaxDate())return!1;if(m.dateTime>g)if(!this.navigateForward())return!1;if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(y=0;y<v.cells.length;y++){b=(s=v.cells[y]).getDate();if(s.isOtherMonth&&s.isSelected&&b>=m.dateTime){this.value.day=b.getDate(),this.navigateForward(),this._selectDate(m.dateTime,"key");break}}return!1}if(37==t){if(m._addDays(-1),m.dateTime<this.getMinDate())return!1;if(m.dateTime<f)if(!this.navigateBackward())return!1;if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(y=0;y<v.cells.length;y++){b=(s=v.cells[y]).getDate();if(s.isOtherMonth&&s.isSelected&&b<=m.dateTime){if(m.dateTime<this.getMinDate()||m.dateTime>this.getMaxDate())return!1;if(this._isDisabled(m.dateTime))return!1;this.navigateBackward(),this._selectDate(m.dateTime,"key");break}}return!1}if(39==t){if(m._addDays(1),m.dateTime>this.getMaxDate())return!1;if(m.dateTime>g)if(!this.navigateForward())return!1;if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(y=0;y<v.cells.length;y++){b=(s=v.cells[y]).getDate();if(s.isOtherMonth&&s.isSelected&&b>=m.dateTime){if(m.dateTime<this.getMinDate()||m.dateTime>this.getMaxDate())return!1;this.navigateForward(),this._selectDate(m.dateTime,"key");break}}return!1}return!0},render:function(){if(this.canRender){this.host.children().remove();var e=this._renderSingleCalendar("View"+this.element.id);this.host.append(e)}},addSpecialDate:function(e,t,i){if(1==this.multipleMonthRows&&1==this.multipleMonthColumns){var s=this.specialDates.length;this.specialDates[s]={Date:e,Class:t,Tooltip:i},this.refreshControl()}},refresh:function(e){this.render()},invalidate:function(){this.refreshControl()},refreshControl:function(){1==this.multipleMonthRows&&1==this.multipleMonthColumns&&this.refreshSingleCalendar("View"+this.element.id,null)},getViewStart:function(){var e=this.getVisibleDate();return this.getFirstDayOfWeek(e).dateTime},getViewEnd:function(){var e=this.getViewStart(),t=new C.jqx._jqxDateTimeInput.getDateTime(e);return t._addDays(41),t.dateTime},refreshSingleCalendar:function(e,t){if(this.canRender){var i=this.host.find("#"+e),s=this.getVisibleDate(),r=this.getFirstDayOfWeek(s);this.refreshCalendarCells(i,r,e),this.refreshTitle(i),this.refreshRowHeader(i,e),null!=this.selectedDate&&this._selectDate(this.selectedDate);var n=this.host.height()-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(n=this.host.height()-this.titleHeight),this.showFooter&&(n-=20);var o=i.find("#cellsTable"+e),a=i.find("#calendarRowHeader"+e);o.height(n),a.height(n)}},refreshRowHeader:function(e,t){if(this.showWeekNumbers){var i=this.getVisibleDate(),s=this.getFirstDayOfWeek(i),r=(s.dayOfWeek,this.getWeekOfYear(s)),n=new C.jqx._jqxDateTimeInput.getDateTime(new Date(s.dateTime));n._addDays(5),n.dayOfWeek=n.dateTime.getDay();this.getWeekOfYear(n);var o=this.rowHeader.find("table");o.width(this.rowHeaderWidth);for(var a=s,l=new Array,d=0;d<6;d++){r.toString();var h=new C.jqx._jqxCalendar.cell(a.dateTime),c=d+1+this.element.id,u=C(o[0].rows[d].cells[0]);h.element=u,h.row=d,h.column=0;var p=u.find("#headerCellContent"+c);p.addClass(this.toThemeProperty("jqx-calendar-row-cell")),p[0].innerHTML=r,l[d]=h,a=new C.jqx._jqxDateTimeInput.getDateTime(new Date(a._addWeeks(1))),r=this.getWeekOfYear(a)}var m=C.data(this.element,e[0].id);m.rowCells=l,this._refreshOtherMonthRows(m,t)}},_refreshOtherMonthRows:function(e,t){if(!this.showOtherMonthDays){this._displayLastRow(!0,t),this._displayFirstRow(!0,t);for(var i=!1,s=!1,r=0;r<e.cells.length;r++){var n=e.cells[r];n.isVisible&&r<7?i=!0:n.isVisible&&r>=e.cells.length-7&&(s=!0)}i||this._displayFirstRow(!1,t),s||this._displayLastRow(!1,t)}},_displayLastRow:function(e,t){var i=this.host.find("#"+t),s=i.find("#calendarRowHeader"+i[0].id).find("table"),r=null;if(this.showWeekNumbers&&s[0].cells)r=C(s[0].rows[5]);var n=C(i.find("#cellTable"+i[0].id)[0].rows[5]);e?(this.showWeekNumbers&&r&&r.css("display","table-row"),n.css("display","table-row")):(this.showWeekNumbers&&r&&r.css("display","none"),n.css("display","none"))},_displayFirstRow:function(e,t){var i=this.host.find("#"+t),s=i.find("#calendarRowHeader"+i[0].id).find("table"),r=null;if(this.showWeekNumbers&&s[0].cells)r=C(s[0].rows[0]);var n=C(i.find("#cellTable"+i[0].id)[0].rows[0]);e?(this.showWeekNumbers&&r&&r.css("display","table-row"),n.css("display","table-row")):(this.showWeekNumbers&&r&&r.css("display","none"),n.css("display","none"))},_renderSingleCalendar:function(e,t){if(this.canRender){var i=this.host.find("#"+e.toString());null!=i&&i.remove();var s=C("<div id='"+e.toString()+"'></div>"),r=this.getVisibleDate(),n=this.getFirstDayOfWeek(r),o=new C.jqx._jqxDateTimeInput.getDateTime(n.dateTime);o._addMonths(1);var a=C.jqx._jqxCalendar.monthView(n,o,null,null,null,s);null==t||null==t?(this.host.append(s),null==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("px")&&s.height(this.height):s.height(this.height),null==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("px")&&s.width(this.width):s.width(this.width),null!=this.width&&-1!=this.width.toString().indexOf("%")&&s.width("100%"),null!=this.height&&-1!=this.height.toString().indexOf("%")&&s.height("100%")):t.append(s),C.data(this.element,e,a);var l=this.host.height()-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(l=this.host.height()-this.titleHeight),this.showFooter&&(l-=20),this.rowHeaderWidth<0&&(this.rowHeaderWidth=0),this.columnHeaderHeight<0&&(this.columnHeaderHeight=0),this.titleHeight<0&&(this.titleHeight=0);var d=this.rowHeaderWidth,h=this.columnHeaderHeight;this.showWeekNumbers||(d=0),this.showDayNames||(h=0);var c="<div style='height:"+this.titleHeight+"px;'><table role='grid' style='margin: 0px; width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarTitle' width='100%'><td role='gridcell' NOWRAP id='leftNavigationArrow'></td><td aria-live='assertive' aria-atomic='true' role='gridcell' align='center' NOWRAP id='calendarTitleHeader'></td><td role='gridcell' NOWRAP id='rightNavigationArrow'></td></tr></table></div>",u="<table role='grid' class='"+this.toThemeProperty("jqx-calendar-month")+"' style='margin: 0px; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarHeader' height='"+h+"'><td role='gridcell' id='selectCell' width='"+d+"'></td><td role='gridcell' colspan='2' style='border: none; padding-left: 2px; padding-right: 2px' id='calendarColumnHeader'></td></tr><tr role='row' id='calendarContent'><td role='gridcell' id='calendarRowHeader' valign='top' height='"+l+"' width='"+d+"'></td><td role='gridcell' valign='top' colspan='2' style='padding-left: 2px; padding-right: 2px' id='cellsTable' height='"+l+"'></td></tr></table>",p="<div id='footer' style='margin: 0px; display: none; height:"+m+"px;'><table style='width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr id='calendarFooter'><td align='right' id='todayButton'></td><td align='left' colspan='2' id=doneButton></td></tr></table></div>";s[0].innerHTML=c+u+p,this.header=s.find("#calendarHeader"),this.header[0].id="calendarHeader"+e,this.header.addClass(this.toThemeProperty("calendar-header")),this.columnHeader=s.find("#calendarColumnHeader"),this.columnHeader[0].id="calendarColumnHeader"+e,this.table=s.find("#cellsTable"),this.table[0].id="cellsTable"+e,this.rowHeader=s.find("#calendarRowHeader"),this.rowHeader[0].id="calendarRowHeader"+e,this.selectCell=s.find("#selectCell"),this.selectCell[0].id="selectCell"+e,this.title=s.find("#calendarTitle"),this.title[0].id="calendarTitle"+e,this.leftButton=s.find("#leftNavigationArrow"),this.leftButton[0].id="leftNavigationArrow"+e,this.titleHeader=s.find("#calendarTitleHeader"),this.titleHeader[0].id="calendarTitleHeader"+e,this.rightButton=s.find("#rightNavigationArrow"),this.rightButton[0].id="rightNavigationArrow"+e,this.footer=s.find("#calendarFooter"),this._footer=s.find("#footer"),this._footer[0].id="footer"+e,this.footer[0].id="calendarFooter"+e,this.todayButton=s.find("#todayButton"),this.todayButton[0].id="todayButton"+e,this.doneButton=s.find("#doneButton"),this.doneButton[0].id="doneButton"+e,this.title.addClass(this.toThemeProperty("jqx-calendar-title-container"));var m=20;if(this.showFooter&&this._footer.css("display","block"),s.find("tr").addClass(this.toThemeProperty("jqx-reset")),s.addClass(this.toThemeProperty("jqx-widget-content")),s.addClass(this.toThemeProperty("jqx-calendar-month-container")),this.month=s,this.selectCell.addClass(this.toThemeProperty("jqx-reset")),this.selectCell.addClass(this.toThemeProperty("jqx-calendar-top-left-header")),this.showWeekNumbers?this._renderRowHeader(s):(this.table[0].colSpan=3,this.columnHeader[0].colSpan=3,this.rowHeader.css("display","none"),this.selectCell.css("display","none")),this.showFooter){this.footer.height(20);var f=C("<a href='javascript:;'>"+this.todayString+"</a>");f.appendTo(this.todayButton);var g=C("<a href='javascript:;'>"+this.clearString+"</a>");g.appendTo(this.doneButton),g.addClass(this.toThemeProperty("jqx-calendar-footer")),f.addClass(this.toThemeProperty("jqx-calendar-footer"));var v=this,x="mousedown";C.jqx.mobile.isTouchDevice()&&(x=C.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(f,x,function(){return v.today?v.today():v.setDate(new Date,"mouse"),!1}),this.addHandler(g,x,function(){return v.clear?v.clear():v.setDate(null,"mouse"),!1})}"month"!=this.view&&this.header.hide(),this.showDayNames&&"month"==this.view&&this.renderColumnHeader(s),this.oldView=this.view,this.renderCalendarCells(s,n,e),null!=t&&null!=t||this.renderTitle(s),this._refreshOtherMonthRows(a,e),s.find("tbody").css({border:"none",background:"transparent"}),null!=this.selectedDate&&this._selectDate(this.selectedDate);var w=this;return this.addHandler(this.host,"focus",function(){w.focus()}),s}},_getTitleFormat:function(){switch(this.view){case"month":return this.titleFormat[0];case"year":return this.titleFormat[1];case"decade":return this.titleFormat[2];case"centuries":return this.titleFormat[3]}},renderTitle:function(e){var i=C("<div role='button' style='float: left;'></div>"),s=C("<div role='button' style='float: right;'></div>"),t=this.title;t.addClass(this.toThemeProperty("jqx-reset")),t.addClass(this.toThemeProperty("jqx-widget-header")),t.addClass(this.toThemeProperty("jqx-calendar-title-header"));var r=t.find("td");if(C.jqx.browser.msie&&C.jqx.browser.version<8){if("transparent"!=r.css("background-color")){var n=t.css("background-color");r.css("background-color",n)}if("transparent"!=r.css("background-image")){var o=t.css("background-image"),a=t.css("background-repeat");t.css("background-position");r.css("background-image",o),r.css("background-repeat",a),r.css("background-position","left center scroll")}}else r.css("background-color","transparent");this.disabled&&t.addClass(this.toThemeProperty("jqx-calendar-title-header-disabled")),i.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),i.appendTo(this.leftButton);var l=this.leftButton;s.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),s.addClass(this.toThemeProperty("jqx-icon-arrow-right")),s.appendTo(this.rightButton);var d=this.rightButton;this.enableTooltips&&C(l).jqxTooltip&&(C(l).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.backText}),C(d).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.forwardText}));var h=this.titleHeader,c=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);"decade"==this.view?c=this._format(this._renderStartDate,this._getTitleFormat(),this.culture)+" - "+this._format(this._renderEndDate,this._getTitleFormat(),this.culture):"centuries"==this.view&&(c=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture)+" - "+this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture));var u=C("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+c+"</div>");h.append(u),u.addClass(this.toThemeProperty("jqx-calendar-title-content"));var p=parseInt(i.width()),m=e.width()-2*p;h.find(".jqx-calendar-title-content").width(m);C.data(i,"navigateLeft",this),C.data(s,"navigateRight",this);var f=C.jqx.mobile.isTouchDevice();if(!this.disabled){var g=this;this.addHandler(h,"mousedown",function(e){if(g.enableViews){if(!g._viewAnimating&&!g._animating){var t=g.view;switch(g.oldView=t,g.view){case"month":g.view="year";break;case"year":g.view="decade"}if(-1==g.views.indexOf("year")&&"year"==g.view&&(g.view="decade"),-1==g.views.indexOf("decade")&&"decade"==g.view&&(g.view=t),t!=g.view){var i="View"+g.element.id,s=g.host.find("#"+i),r=g.getVisibleDate(),n=g.getFirstDayOfWeek(r);g.renderCalendarCells(s,n,i,!0),g.refreshTitle(s),g._raiseEvent("8")}}return!1}}),this.addHandler(i,"mousedown",function(e){if(g._animating)return!1;C.data(i,"navigateLeftRepeat",!0);var t=C.data(i,"navigateLeft");return t.enableFastNavigation&&!f&&t.startRepeat(t,i,!0,g.navigationDelay+200),t.navigateBackward(g.stepMonths,"arrow"),e.stopPropagation(),e.preventDefault(),t._raiseEvent(0,e)}),this.addHandler(i,"mouseup",function(e){C.data(i,"navigateLeftRepeat",!1)}),this.addHandler(i,"mouseleave",function(e){C.data(i,"navigateLeftRepeat",!1)}),this.addHandler(s,"mousedown",function(e){if(g._animating)return!1;C.data(s,"navigateRightRepeat",!0);var t=C.data(s,"navigateRight");return t.enableFastNavigation&&!f&&t.startRepeat(t,s,!1,g.navigationDelay+200),t.navigateForward(g.stepMonths,"arrow"),e.stopPropagation(),e.preventDefault(),t._raiseEvent(1,e)}),this.addHandler(s,"mouseup",function(e){C.data(s,"navigateRightRepeat",!1)}),this.addHandler(s,"mouseleave",function(e){C.data(s,"navigateRightRepeat",!1)})}},refreshTitle:function(e){var t=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);"decade"==this.view?t=this._format(this._renderStartDate,this._getTitleFormat(),this.culture)+" - "+this._format(this._renderEndDate,this._getTitleFormat(),this.culture):"centuries"==this.view&&(t=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture)+" - "+this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture));var i=this.titleHeader;if(this.titleHeader){var s=i.find(".jqx-calendar-title-content"),r=C("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+t+"</div>");i.append(r),r.addClass(this.toThemeProperty("jqx-calendar-title-content")),null!=s&&s.remove()}},startRepeat:function(t,i,s,r){var n=window.setTimeout(function(){var e=C.data(i,"navigateLeftRepeat");s||(e=C.data(i,"navigateRightRepeat")),e?(r<25&&(r=25),s?(t.navigateBackward(1,"arrow"),t.startRepeat(t,i,!0,r)):(t.navigateForward(1,"arrow"),n=t.startRepeat(t,i,!1,r))):window.clearTimeout(n)},r)},navigateForward:function(e,t){null!=e&&null!=e||(e=this.stepMonths);var i=this.value.year;if("decade"==this.view){if(i=this._renderStartDate.getFullYear()+12,this._renderEndDate.getFullYear()>=this.getMaxDate().getFullYear())return}else"year"==this.view?i=this.value.year+1:"centuries"==this.view&&(i=this.value.year+100);if("month"!=this.view){var s=this.getMaxDate().getFullYear();if((s<i||s<i)&&(i=s),this.value.year==i){if("decade"!==this.view)return;if(!(this.value.year>this._renderEndDate.getFullYear()))return;this.value.year=i,this.value.month=1,this.value.day=1}this.value.year=i,this.value.month=1,this.value.day=1}var r=this.value.day;if(this.value.month+e<=12){var n=this.value._daysInMonth(this.value.year,this.value.month+e);n<r&&(r=n)}if("month"==this.view){var o=new Date(this.value.year,this.value.month-1+e,r);"arrow"==t&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1+e,1))}else o=new Date(this.value.year,this.value.month-1,r);return this.navigateTo(o)},navigateBackward:function(e,t){null!=e&&null!=e||(e=this.stepMonths);var i=this.value.year;if("decade"==this.view?i=this._renderStartDate.getFullYear()-12:"year"==this.view?i=this.value.year-1:"centuries"==this.view&&(i=this.value.year-100),"month"!=this.view){var s=this.getMinDate().getFullYear();if(i<s&&(i=s),"decade"==this.view&&this._renderStartDate&&this._renderStartDate.getFullYear()==i)return;this.value.year=i,this.value.month=1,this.value.day=1}var r=this.value.day;if(1<=this.value.month-e){var n=this.value._daysInMonth(this.value.year,this.value.month-e);n<r&&(r=n)}if("month"==this.view){var o=new Date(this.value.year,this.value.month-1-e,r);"arrow"==t&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1-e,1))}else o=new Date(this.value.year,this.value.month-1,r);return this.navigateTo(o)},_isRestrictedRange:function(e,t){if(t<e)return!0;for(var i=e;i.valueOf()<=t.valueOf();){if(this._isRestrictedDate(i))return!0;i.setDate(i.getDate()+1)}return!1},_hasUnrestrictedRanges:function(e,t){if(t<e)return!1;for(var i=e;i.valueOf()<=t.valueOf();){if(!this._isRestrictedDate(i))return!0;i.setDate(i.getDate()+1)}return!1},_getNextUnrestrictedDay:function(e,t){if(t<e)return null;for(var i=e;i.valueOf()<=t.valueOf();){if(!this._isRestrictedDate(i))return i;i.setDate(i.getDate()+1)}return null},_isRestrictedDate:function(e){if(!C.isArray(this.restrictedDates))return!1;for(var t=0;t<this.restrictedDates.length;t++){var i=this.restrictedDates[t];if("object"==typeof i&&null!=i.from&&null!=i.to){var s=i.from,r=i.to;if(e.valueOf()>=s.valueOf()&&e.valueOf()<=r.valueOf())return!0}else if(i.getMonth()==e.getMonth()&&i.getDate()==e.getDate()&&i.getFullYear()==e.getFullYear())return!0}return!1},_isDisabled:function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()];return-1==this.selectableDays.indexOf(t)||!!this._isRestrictedDate(e)},refreshCalendarCells:function(e,t,i){if("year"!=this.view&&"decade"!=this.view&&"centuries"!=this.view){for(var s=this.table.find("#cellTable"+i.toString()),r=t,n=new Array,o=0,a=new C.jqx._jqxDateTimeInput.getDateTime(new Date),l=0;l<6;l++)for(var d=0;d<7;d++){var h=l+1,c=d;this.rtl&&(c=6-c);var u=c+1,p="#cell"+h+u+this.element.id,m=new Date(r.dateTime.getFullYear(),r.dateTime.getMonth(),r.dateTime.getDate()),f=new C.jqx._jqxCalendar.cell(m),g=C(s[0].rows[l].cells[u-1]);g[0].id=p.substring(1),f.element=g,f.row=l,f.column=d,f.isVisible=!0,f.isOtherMonth=!1,f.isToday=!1,f.isWeekend=!1,f.isHighlighted=!1,f.isSelected=!1,r.month!=this.value.month&&(f.isOtherMonth=!0,f.isVisible=this.showOtherMonthDays),this._isRestrictedDate(m)&&(f.isRestricted=!0,f.isDisabled=!0),f.isDisabled||(m<this.getMinDate()||m>this.getMaxDate()||this._isDisabled(m))&&(f.isDisabled=!0),r.month==a.month&&r.day==a.day&&r.year==a.year&&(f.isToday=!0),r.isWeekend()&&(f.isWeekend=!0),C.data(this.element,"cellContent"+p.substring(1),f),C.data(this.element,p.substring(1),f),n[o]=f,o++,C.jqx.utilities.html(g,r.day),this._applyCellStyle(f,g,g),r=new C.jqx._jqxDateTimeInput.getDateTime(new Date(r._addDays(1)))}var v=C.data(this.element,e[0].id);null!=v&&null!=v&&(v.cells=n),this.renderedCells=n,this._refreshOtherMonthRows(v,i)}else this.refreshViews(e,t,i)},_getDecadeAndCenturiesData:function(){var e=new Array,t=new Array,i=this.getMaxDate().getFullYear()-this.getMinDate().getFullYear();i<12&&(i=12);var s=this.getMinDate(),r=this.getMaxDate(),n=this.value.dateTime.getFullYear();if("decade"==this.view){n+12>r.getFullYear()&&(n=r.getFullYear()-11),n<s.getFullYear()&&(n=s.getFullYear());for(var o=0;o<i;o++){var a=new Date(s.getFullYear()+o,0,1);if(s.getFullYear()<=n&&n<=a.getFullYear()){for(var l=new Date(a.getFullYear(),a.getMonth(),1),d=0;d<12;d++){var h=new Date(l.getFullYear()+d,this.value.dateTime.getMonth(),this.value.dateTime.getDate()),c=h.getFullYear();s.getFullYear()<=c&&c<=r.getFullYear()?(e.push(c),t.push(h),0==d&&(this._renderStartDate=h),this._renderEndDate=h):(e.push(c),t.push(h))}break}}}else if("centuries"==this.view)for(o=0;o<i;o+=120){a=new Date(s.getFullYear()+o+120,0,1);if(s.getFullYear()<=n&&n<=a.getFullYear()){(l=new Date(a.getFullYear()-130,a.getMonth(),1))<s&&(l=s);for(d=0;d<12;d++){var u=new Date(l.getFullYear()+10*d,l.getMonth(),1);l.getFullYear()>=s.getFullYear()&&u.getFullYear()<=r.getFullYear()&&(e.push("<span style='visibility: hidden;'>-</span>"+u.getFullYear()+"-"+(u.getFullYear()+9)),t.push(u),0==d&&(this._renderCenturyStartDate=u),this._renderCenturyEndDate=new Date(u.getFullYear()+9,0,1))}break}}return{years:e,dates:t}},refreshViews:function(e,t,i){for(var s=new Array,r=e.find("#cellTable"+i.toString()),n=this._getDecadeAndCenturiesData(),o=n.years,a=n.dates,l=0,d=this.getMinDate(),h=this.getMaxDate(),c=0;c<3;c++)for(var u=0;u<4;u++){var p=u;this.rtl&&(p=3-p);(w=new Date(this.value.dateTime)).setDate(1),w.setMonth(4*c+p);var m=new C.jqx._jqxCalendar.cell(w),f=r[0].rows["row"+(1+c)+this.element.id],g=C(f.cells[u]);m.isSelected=!1,m.isVisible=!0,m.element=g,m.row=c,m.column=u,m.index=s.length;var v="";if("year"==this.view){var x=this.localization.calendar.months.names[4*c+p];switch(this.monthNameFormat){case"default":x=this.localization.calendar.months.namesAbbr[4*c+p];break;case"shortest":x=this.localization.calendar.months.namesShort[4*c+p];break;case"firstTwoLetters":x=x.substring(0,2);break;case"firstLetter":x=x.substring(0,1)}v=x}else"decade"!=this.view&&"centuries"!=this.view||(null==(v=o[4*c+p])&&(v="<span style='cursor: default; visibility: hidden;'>2013</span>"),m.setDate(a[4*c+p]));var w=m.getDate();"year"==this.view?w.getMonth()==this.getDate().getMonth()&&w.getFullYear()==this.getDate().getFullYear()&&(m.isSelected=!0):w.getFullYear()==this.getDate().getFullYear()&&(m.isSelected=!0),"year"==this.view?(this._getYearAndMonthPart(w)<this._getYearAndMonthPart(d)&&(m.isDisabled=!0),this._getYearAndMonthPart(w)>this._getYearAndMonthPart(h)&&(m.isDisabled=!0)):(w.getFullYear()<d.getFullYear()&&(m.isDisabled=!0),w.getFullYear()>h.getFullYear()&&(m.isDisabled=!0)),C.jqx.utilities.html(g,v),s[l]=m,l++}var y=C.data(this.element,e[0].id);null!=y&&null!=y&&(y.cells=s),this.renderedCells=s,this._applyCellStyles()},_createViewClone:function(){var e=this.host.find(".jqx-calendar-month"),t=e.clone();return t.css("position","absolute"),t.css("top",e.position().top),t},_addCellsTable:function(e,t){var i=this,s=this.showFooter?20:0;"month"!=this.view?t.height(this.host.height()-this.titleHeight):t.height(this.host.height()-this.titleHeight-this.columnHeaderHeight-s),this._viewAnimating=!0;var r=this.host.find(".jqx-calendar-month-container");r.css("position","relative");this.host.find(".jqx-calendar-month");var n=this._createViewClone();r.append(n),"month"!=this.view?(this.header.fadeOut(0),this.showWeekNumbers&&this.rowHeader.fadeOut(0),this.showFooter&&this._footer.fadeOut(0)):(this.header.fadeIn(this.navigationDelay+200),this.showWeekNumbers&&this.rowHeader.fadeIn(this.navigationDelay+200),this.showFooter&&this._footer.fadeIn(this.navigationDelay+200)),e.children().remove(),e.append(t),this._animateViews(n,t,function(){i.selectedDate||"range"==i.selectionMode||(i.selectedDate=i.renderedCells[0].getDate());try{i.renderedCells[0].element.focus(),setTimeout(function(){i.renderedCells[0].element.focus()},10)}catch(e){}i._viewAnimating=!1}),t.addClass(this.toThemeProperty("jqx-calendar-view"))},_animateViews:function(e,t,i){if(this._viewAnimating=!0,this.oldView==this.view)return e.remove(),t.fadeOut(0),t.fadeIn(0),void i();e.fadeOut(this.navigationDelay+100,function(){e.remove()}),t.fadeOut(0),t.fadeIn(this.navigationDelay+200,function(){i()})},focus:function(){if(!this.disabled)try{if(this.renderedCells&&0<this.renderedCells.length){this.selectedDate||"range"==this.selectionMode||this.setDate(new Date,"mouse"),this.element.focus()}}catch(e){}},renderViews:function(e,t,i){var s=this,r=new Array,n=C("<table role='grid' style='border-color: transparent; width: 100%; height: 100%;' cellspacing='2' cellpadding='0' id=cellTable"+i.toString()+"><tr role='row' id='row1"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row2"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row3"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");this.host.find(".jqx-calendar-month-container").css("position","relative");var o=e.find("#cellsTable"+e[0].id);o[0].style.borderColor="transparent";var a=this._getDecadeAndCenturiesData(),l=a.years,d=a.dates,h=0,c=this.getMinDate(),u=this.getMaxDate(),p=new Date(this.value.dateTime);p.setDate(1);for(var m=0;m<3;m++)for(var f=0;f<4;f++){var g=f;this.rtl&&(g=3-g);var v=n[0].rows["row"+(1+m)+this.element.id];(_=new Date(p)).setMonth(4*m+g);var x=new C.jqx._jqxCalendar.cell(_),w=C(v.cells[f]);x.isVisible=!0,x.element=w,x.row=m,x.column=f,x.index=r.length,x.isSelected=!1;var y="";if("year"==this.view){_.getMonth()==this.getDate().getMonth()&&_.getFullYear()==this.getDate().getFullYear()&&(x.isSelected=!0);var b=this.localization.calendar.months.names[4*m+g];switch(this.monthNameFormat){case"default":b=this.localization.calendar.months.namesAbbr[4*m+g];break;case"shortest":b=this.localization.calendar.months.namesShort[4*m+g];break;case"firstTwoLetters":b=b.substring(0,2);break;case"firstLetter":b=b.substring(0,1)}y=b}else"decade"!=this.view&&"centuries"!=this.view||(y=l[4*m+g],x.setDate(d[4*m+g]),x.getDate().getFullYear()==this.getDate().getFullYear()&&(x.isSelected=!0),null==y&&(y="<span style='cursor: default; visibility: hidden;'>2013</span>"));var _=x.getDate();if("year"==this.view){var j=new Date(_);j.setDate(1),j.setHours(0,0,0,0),j.setMonth(_.getMonth()+1),j=new Date(j.valueOf()-1),(this._getYearAndMonthPart(_)<this._getYearAndMonthPart(c)||this._getYearAndMonthPart(_)>this._getYearAndMonthPart(u)||!this._hasUnrestrictedRanges(_,j))&&(x.isDisabled=!0)}else{var q=new Date(_);q.setMonth(0),q.setDate(1),q.setHours(0,0,0,0),q.setFullYear(_.getFullYear()+1),q=new Date(q.valueOf()-1),(_.getFullYear()<c.getFullYear()||_.getFullYear()>u.getFullYear()||!this._hasUnrestrictedRanges(_,q))&&(x.isDisabled=!0)}C.jqx.utilities.html(w,y),r[h]=x,h++}C.each(r,function(){var e=this.element,i=this;s.disabled||(s.addHandler(e,"mousedown",function(e){s._setDateAndSwitchViews(i,e,"mouse")}),s.addHandler(e,"mouseover",function(e){var t=s.renderedCells[i.index];"centuries"!=s.view&&-1!=t.element.html().toLowerCase().indexOf("span")||(t.isHighlighted=!0,s._applyCellStyle(t,t.element,t.element))}),s.addHandler(e,"mouseout",function(e){var t=s.renderedCells[i.index];"centuries"!=s.view&&-1!=t.element.html().toLowerCase().indexOf("span")||(t.isHighlighted=!1,s._applyCellStyle(t,t.element,t.element))}))});var T=C.data(this.element,e[0].id);null!=T&&null!=T&&(T.cells=r),this.renderedCells=r,this._addCellsTable(o,n),this._applyCellStyles()},_setDateAndSwitchViews:function(e,t,i){if(!this._viewAnimating&&!this._animating){this.getDate();var n=this.renderedCells[e.index].getDate(),s=this.value.dateTime.getDate(),r=new Date(n);-1!=this.views.indexOf("month")?r.setDate(s):(r.setDate(1),n.setDate(1)),r.getMonth()==n.getMonth()&&(n=r);var o=this.getMinDate(),a=this.getMaxDate();if("year"==this.view){if(this._getYearAndMonthPart(n)<this._getYearAndMonthPart(o))return;if(this._getYearAndMonthPart(n)>this._getYearAndMonthPart(a))return}else{if(n.getFullYear()<o.getFullYear())return;if(n.getFullYear()>a.getFullYear())return}switch("range"!=this.selectionMode&&this._selectDate(n,i),this.oldView=this.view,this.view){case"year":this.view="month";break;case"decade":this.view="year"}-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&(this.view="decade"),"year"==this.view?(this._getYearAndMonthPart(n)<this._getYearAndMonthPart(o)&&(n=o),this._getYearAndMonthPart(n)>this._getYearAndMonthPart(a)&&(n=a)):(n.getFullYear()<o.getFullYear()&&(n=o),n.getFullYear()>a.getFullYear()&&(n=a)),this.changing&&this.selectedDate&&(this.selectedDate.getFullYear()!=n.getFullYear()||this.selectedDate.getMonth()!=n.getMonth()||this.selectedDate.getDate()!=n.getDate())&&(n=this.selectedDate),this.value._setYear(n.getFullYear()),this.value._setDay(n.getDate()),this.value._setMonth(n.getMonth()+1),this.value._setDay(n.getDate());var l=this.getVisibleDate(),d=this.getFirstDayOfWeek(l),h="View"+this.element.id;if(this.renderCalendarCells(this.month,d,h,!0),this.refreshTitle(this.month),this.showWeekNumbers&&this.refreshRowHeader(this.month,h),3==this.views.length&&"month"==this.view)if("range"!=this.selectionMode)this._selectDate(this.selectedDate,"view");else{var c=this;C.each(this.renderedCells,function(e){var t=this,i=t.getDate(),s=C(t.element);if(0==s.length)return!1;var r=function(e){if(null==e)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t};t.isOtherMonth||r(i).toString()!=r(n).toString()||(c.value._setMonth(n.getMonth()+1),c.value._setDay(n.getDate()),c.value._setYear(n.getFullYear())),t.isSelected=!1,t.isDisabled=!1,r(i)<r(c.selection.from)&&1==c._clicks&&(t.isDisabled=!0),c.getMaxDate()<i&&(t.isDisabled=!0),c.getMinDate()>i&&(t.isDisabled=!0),c._isDisabled(i)&&(t.isDisabled=!0),t.isDisabled||r(i)>=r(c.selection.from)&&r(i)<=r(c.selection.to)&&(t.isSelected=!0)}),this._applyCellStyles()}"month"!=this.view&&("year"==this.oldView||-1==this.views.indexOf("year")&&"decade"==this.view)&&("keyboard"!=i&&this._raiseEvent("3"),this._raiseEvent("5",{selectionType:"mouse"})),this._raiseEvent("8")}},renderCalendarCells:function(e,t,i,s){if("year"!=this.view&&"decade"!=this.view&&"centuries"!=this.view){var r=C("<table role='grid' style='width: 100%; height: 100%; border-color: transparent;' cellspacing='2' cellpadding='1' id=cellTable"+i.toString()+"><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),n=this.table;if(n[0].style.borderColor="transparent",null==s){var o=n.find("#cellTable"+i.toString());null!=o&&o.remove(),n.append(r)}var a=t,l=this.showDayNames?1:0,d=this.showWeekNumbers?1:0,h=new Array,c=0,u=(e.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(u=(e.width()-2)/7),u=parseInt(u);for(var p=new C.jqx._jqxDateTimeInput.getDateTime(new Date),m=0;m<6;m++){for(var f=0;f<7;f++){var g=m+1,v=f;this.rtl&&(v=6-v);var x=v+1,w="#cell"+g+x+this.element.id,y=new Date(a.dateTime.getFullYear(),a.dateTime.getMonth(),a.dateTime.getDate()),b=new C.jqx._jqxCalendar.cell(y),_=C(r[0].rows[m].cells[x-1]);_[0].id=w.substring(1),b.isVisible=!0,b.isDisabled=!1,a.month!=this.value.month&&(b.isOtherMonth=!0,b.isVisible=this.showOtherMonthDays),this._isRestrictedDate(y)&&(b.isRestricted=!0,b.isDisabled=!0),b.isDisabled||(y<this.getMinDate()||y>this.getMaxDate()||this._isDisabled(y))&&(b.isDisabled=!0),a.month==p.month&&a.day==p.day&&a.year==p.year&&(b.isToday=!0),a.isWeekend()&&(b.isWeekend=!0),b.element=_,b.row=l,b.column=d,C.jqx.utilities.html(_,a.day),a=new C.jqx._jqxDateTimeInput.getDateTime(new Date(a._addDays(1))),C.data(this.element,"cellContent"+w.substring(1),b),C.data(this.element,""+w.substring(1),b);var j=this;if(this.addHandler(_,"mousedown",function(e){if(!j.readOnly&&!j.disabled){var t=C(e.target),i=C.data(j.element,t[0].id);j._raiseEvent(3,e);if(null!=i&&null!=i){var s=i.getDate();if(j.getMinDate()<=s&&s<=j.getMaxDate()&&!i.isDisabled)if(i.isOtherMonth&&j.enableAutoNavigation)i.row<2?j.navigateBackward():j.navigateForward(),j._selectDate(i.getDate(),"mouse",e.shiftKey);else{new Date(j.getDate());j._selectDate(i.getDate(),"mouse",e.shiftKey),j.value._setYear(s.getFullYear()),j.value._setDay(1),j.value._setMonth(s.getMonth()+1),j.value._setDay(s.getDate());var r=j.host.find(".jqx-calendar-month");r.stop(),r.css("margin-left","0px");j.getDate();j._raiseEvent("2"),i.isOtherMonth&&j._raiseEvent("5",{selectionType:"mouse"})}}return!1}}),!j.disabled){var q=function(e,t){if(!j.readOnly){var i=C(e.target),s=C.data(j.element,i[0].id);if(null!=s&&null!=s){var r=s.getDate();j.getMinDate()<=r&&r<=j.getMaxDate()&&(s.isHighlighted=t,j._applyCellStyle(s,s.element,i))}}};this.addHandler(_,"mouseenter",function(e){return q(e,!0),!1}),this.addHandler(_,"mouseleave",function(e){return q(e,!1),!1})}d++,h[c]=b,c++}d=0,l++}var T=C.data(this.element,e[0].id);null!=T&&null!=T&&(T.cells=h),this.renderedCells=h,null!=s&&this._addCellsTable(n,r),this._applyCellStyles(),this._refreshOtherMonthRows(T,i)}else this.renderViews(e,t,i)},setMaxDate:function(e,t){null!=e&&"string"==typeof e&&"Invalid Date"==(e=new Date(e))||(this.maxDate=C.jqx._jqxDateTimeInput.getDateTime(e),!1!==t&&this.render())},getMaxDate:function(){return null!=this.maxDate&&null!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(e,t){null!=e&&"string"==typeof e&&"Invalid Date"==(e=new Date(e))||(this.minDate=C.jqx._jqxDateTimeInput.getDateTime(e),!1!==t&&this.render())},getMinDate:function(){return null!=this.minDate&&null!=this.minDate?this.minDate.dateTime:null},navigateTo:function(e,t){if("month"==this.view){var i=this.getMinDate(),s=new Date(this.getMaxDate().getFullYear(),this.getMaxDate().getMonth()+1,this.getMaxDate().getDate());if(e<this._getYearAndMonthPart(i)||e>this._getYearAndMonthPart(s))return!1}else if(e&&(e.getFullYear()<this.getMinDate().getFullYear()||e.getFullYear()>this.getMaxDate().getFullYear()))return!1;if(null==e)return!1;if(null==t){var r=this;if(this._animating)return;this._animating=!0;var n=this.host.find(".jqx-calendar-month-container");this._viewClone&&(this._viewClone.stop(),this._viewClone.remove()),this._newViewClone&&(this._newViewClone.stop(),this._newViewClone.remove()),(h=this.host.find(".jqx-calendar-month")).stop(),h.css("margin-left","0px");var o=h.clone();this._viewClone=o;var a=new Date(this.value.dateTime);this.value._setYear(e.getFullYear()),this.value._setDay(e.getDate()),this.value._setMonth(e.getMonth()+1),r.refreshControl(),n.css("position","relative"),o.css("position","absolute"),o.css("top",h.position().top),n.append(o),C.jqx.browser.msie&&C.jqx.browser.version<8&&(this.month.css("position","relative"),this.month.css("overflow","hidden"),this.table.css("position","relative"),this.table.css("overflow","hidden"));var l=-this.host.width();e<a&&("month"==this.view&&e.getMonth()!=a.getMonth()?l=this.host.width():e.getFullYear()!=a.getFullYear()&&(l=this.host.width())),o.animate({marginLeft:parseInt(l)+"px"},this.navigationDelay,function(){o.remove()});var d=h.clone();(this._newViewClone=d).css("position","absolute"),d.css("top",h.position().top),n.append(d),d.css("margin-left",-l),h.css("visibility","hidden"),d.animate({marginLeft:"0px"},this.navigationDelay,function(){d.remove(),h.css("visibility","inherit"),r._animating=!1})}else{var h;this.value._setYear(e.getFullYear()),this.value._setDay(e.getDate()),this.value._setMonth(e.getMonth()+1),(h=this.host.find(".jqx-calendar-month")).stop(),h.css("margin-left","0px"),this.refreshControl()}return this._raiseEvent("2"),this._raiseEvent("8"),!0},setDate:function(e){return null!=e&&"string"==typeof e&&(e=new Date(e)),0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(e,"api"),this._selectDate(e),"range"==this.selectionMode&&this._selectDate(e,"mouse"),!0},val:function(e){return 0!=arguments.length&&(null==e&&this.setDate(null),e instanceof Date&&this.setDate(e),"string"==typeof e&&this.setDate(e)),this.getDate()},getDate:function(){return null==this.selectedDate?new Date:this.selectedDate},getValue:function(){return null==this.value?new Date:this.value.dateTime},setRange:function(e,t){0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(e,"api"),this._selectDate(e,"mouse"),this._selectDate(t,"mouse")},getRange:function(){return this.selection},_selectDate:function(c,u,p){if("none"!=this.selectionMode){null!=u&&null!=u||(u="none"),null!=p&&null!=p||(p=!1);var e=C.data(this.element,"View"+this.element.id);if(null!=e&&null!=e){if(this.changing&&c&&this.selectedDate){if(this.selectedDate.getFullYear()!=c.getFullYear()||this.selectedDate.getDate()!=c.getDate()||this.selectedDate.getMonth()!=c.getMonth())var t=this.changing(this.selectedDate,c);t&&(c=t)}var m=this;this.input&&(null!=c?this.input.val(c.toString()):this.input.val(""));var i=this.selectedDate;if(this.selectedDate=c,"month"!=this.view)return i!=c&&this._raiseEvent(7,{selectionType:u}),C.each(this.renderedCells,function(e){var t=this.getDate(),i=C(this.element);i.find("#cellContent"+i[0].id);if(null==c)this.isSelected=!1,this.isDisabled=!1;else if(this.isSelected=!1,t&&(t.getMonth()==c.getMonth()&&"year"==m.view&&t.getFullYear()==c.getFullYear()||"decade"==m.view&&t.getFullYear()==c.getFullYear())){this.isSelected=!0;try{"none"!=u&&this.element.focus()}catch(e){}}m._applyCellStyle(this,i,i)}),void(this.change&&this.change(c));if("month"==this.view&&"range"==this.selectionMode&&"key"==u){var s=this.getVisibleDate(),r=this.getFirstDayOfWeek(s);this.refreshCalendarCells(this.month,r,"View"+this.element.id)}var f=!1;C.each(this.renderedCells,function(e){var t=this,i=t.getDate(),s=C(t.element),r=s;if(0==s.length)return!1;if(null==c)t.isSelected=!1,t.isDisabled=!1,0==e&&(m.selection={from:null,to:null},m._raiseEvent("2"),m._raiseEvent("5",{selectionType:u}));else if("range"!=m.selectionMode||"key"==u){if(i.getDate()==c.getDate()&&i.getMonth()==c.getMonth()&&i.getFullYear()==c.getFullYear()&&t.isSelected)return m._applyCellStyle(t,s,r),void m._raiseEvent("5",{selectionType:u});if(t.isSelected&&m._raiseEvent("6",{selectionType:u}),t.isSelected=!1,i.getDate()==c.getDate()&&i.getMonth()==c.getMonth()&&i.getFullYear()==c.getFullYear()){t.isSelected=!0,0==e&&(m.selection={date:c});try{"none"!=u&&(t.element.focus(),m.host.focus())}catch(e){}t.isOtherMonth||(m.value._setMonth(c.getMonth()+1),m.value._setDay(c.getDate()),m.value._setYear(c.getFullYear()),m._raiseEvent("2"),m._raiseEvent("5",{selectionType:u}))}"range"==m.selectionMode&&(m._clicks=0,m.selection={from:c,to:c})}else if("range"==m.selectionMode){if("view"==u)return t.isSelected=!1,t.isDisabled=!1,m.getMaxDate()<i&&(t.isDisabled=!0),m.getMinDate()>i&&(t.isDisabled=!0),m._isRestrictedDate(i)&&(t.isDisabled=!0,t.isRestricted=!0),!t.isDisabled&&m._isDisabled(i)&&(t.isDisabled=!0),m._applyCellStyle(t,s,r),!0;if(0==e)if("none"!=u)if(null==m._clicks&&(m._clicks=0),m._clicks++,p&&m._clicks++,1==m._clicks)m.selection={from:c,to:c};else{var n=m.selection.from,o=n<=c?n:c,a=n<=c?c:n;if(o)var l=new Date(o.getFullYear(),o.getMonth(),o.getDate());if(a)var d=new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59);m.selection={from:l,to:d},m._clicks=0}else null!=m.selection&&null!=m.selection.from||(m.selection={from:c,to:c},null==m._clicks&&(m._clicks=0),m._clicks++,2==m._clicks&&(m._clicks=0));var h=function(e){if(null==e)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t};t.isOtherMonth||h(i).toString()!=h(c).toString()||(m.value._setMonth(c.getMonth()+1),m.value._setDay(c.getDate()),m.value._setYear(c.getFullYear()),m._raiseEvent("2"),m._raiseEvent("5",{selectionType:u})),t.isSelected=!1,t.isDisabled=f,h(i)<h(m.selection.from)&&1==m._clicks&&(t.isDisabled=!0),m.getMaxDate()<i&&(t.isDisabled=!0),m.getMinDate()>i&&(t.isDisabled=!0),m._isRestrictedDate(i)&&(t.isRestricted=!0,t.isDisabled=!0),!t.isDisabled&&m._isDisabled(i)&&(t.isDisabled=!0),t.isDisabled?!m.allowRestrictedDaysInRange&&h(i)>=h(m.selection.from)&&m.selection.to==m.selection.from&&(f=!0):h(i)>=h(m.selection.from)&&h(i)<=h(m.selection.to)&&(t.isSelected=!0)}m._applyCellStyle(t,s,r)}),"range"!=m.selectionMode||0!=m._clicks?"range"!=m.selectionMode&&i!=c&&(m._raiseEvent(7,{selectionType:u}),this.change&&this.change(c)):m._raiseEvent(7,{selectionType:u})}}},_getSelectedDate:function(){var e=C.data(this.element,"View"+this.element.id);if(null!=e&&null!=e){if("month"!=this.view)return this.selectedDate;for(var t=0;t<e.cells.length;t++){var i=e.cells[t],s=i.getDate();if(i.isSelected)return s}return this.selectedDate?this.selectedDate:void 0}},_getSelectedCell:function(){var e=C.data(this.element,"View"+this.element.id);if(null!=e&&null!=e)for(var t=0;t<e.cells.length;t++){var i=e.cells[t];i.getDate();if(i.isSelected)return i}},_applyCellStyle:function(i,e,s){var r=this;(null==s||null!=s&&0==s.length)&&(s=e);var t="";if(t=this.toThemeProperty("jqx-rc-all"),t+=" "+this.toThemeProperty("jqx-item"),(this.disabled||i.isDisabled&&!i.isRestricted)&&(t+=" "+this.toThemeProperty("jqx-calendar-cell-disabled"),t+=" "+this.toThemeProperty("jqx-fill-state-disabled")),!this.disabled&&i.isRestricted&&(t+=" "+this.toThemeProperty("jqx-calendar-cell-restrictedDate")),i.isOtherMonth&&this.enableOtherMonthDays&&i.isVisible&&(t+=" "+this.toThemeProperty("jqx-calendar-cell-othermonth")),i.isWeekend&&this.enableWeekend&&i.isVisible&&i.isVisible&&(t+=" "+this.toThemeProperty("jqx-calendar-cell-weekend")),i.isVisible?(t+=" "+this.toThemeProperty("jqx-calendar-cell"),"month"!=this.view&&0<s.length&&-1!=s.html().toLowerCase().indexOf("span")&&s.css("cursor","default")):t+=" "+this.toThemeProperty("jqx-calendar-cell-hidden"),s.removeAttr("aria-selected"),i.isSelected&&i.isVisible){t+=" "+this.toThemeProperty("jqx-calendar-cell-selected"),t+=" "+this.toThemeProperty("jqx-fill-state-pressed"),s.attr("aria-selected",!0),this.host.removeAttr("aria-activedescendant").attr("aria-activedescendant",s[0].id);var n=i.getDate();this._isDisabled(n)&&(t+=" "+this.toThemeProperty("jqx-calendar-cell-selected-invalid"))}if(i.isHighlighted&&i.isVisible&&this.enableHover&&(i.isDisabled||(t+=" "+this.toThemeProperty("jqx-calendar-cell-hover"),t+=" "+this.toThemeProperty("jqx-fill-state-hover"))),t+=" "+this.toThemeProperty("jqx-calendar-cell-"+this.view),i.isToday&&i.isVisible&&(t+=" "+this.toThemeProperty("jqx-calendar-cell-today")),s[0].className=t,0<this.specialDates.length){var o=this;C.each(this.specialDates,function(){null!=this.Class&&null!=this.Class&&""!=this.Class?s.removeClass(this.Class):s.removeClass(r.toThemeProperty("jqx-calendar-cell-specialDate"));var e=i.getDate();if(e.getFullYear()==this.Date.getFullYear()&&e.getMonth()==this.Date.getMonth()&&e.getDate()==this.Date.getDate()){if(null==i.tooltip&&null!=this.Tooltip&&(i.tooltip=this.Tooltip,C(s).jqxTooltip)){var t=this.Class;C(s).jqxTooltip({value:{cell:i,specialDate:this.Date},name:o.element.id,content:this.Tooltip,position:"mouse",theme:o.theme,opening:function(e){return!!s.hasClass(r.toThemeProperty("jqx-calendar-cell-specialDate"))||!!s.hasClass(t)}})}return s.removeClass(r.toThemeProperty("jqx-calendar-cell-othermonth")),s.removeClass(r.toThemeProperty("jqx-calendar-cell-weekend")),null==this.Class||""==this.Class?s.addClass(r.toThemeProperty("jqx-calendar-cell-specialDate")):s.addClass(this.Class),!1}})}},_applyCellStyles:function(){var e=C.data(this.element,"View"+this.element.id);if(null!=e&&null!=e)for(var t=0;t<e.cells.length;t++){var i=e.cells[t],s=C(i.element),r=s.find("#cellContent"+s[0].id);0==r.length&&(r=s),this._applyCellStyle(i,s,r)}},getWeekOfYear:function(e){var t=new Date(e.dateTime);dowOffset=this.firstDayOfWeek;var i=new Date(t.getFullYear(),0,1),s=i.getDay()-dowOffset;s=0<=s?s:s+7;var r,n=Math.floor((t.getTime()-i.getTime()-6e4*(t.getTimezoneOffset()-i.getTimezoneOffset()))/864e5)+1;return s<4?52<(r=Math.floor((n+s-1)/7)+1)&&(nYear=new Date(t.getFullYear()+1,0,1),nday=nYear.getDay()-dowOffset,nday=0<=nday?nday:nday+7,r=nday<4?1:53):r=Math.floor((n+s-1)/7),r},renderColumnHeader:function(e){if(this.showDayNames){var t=C("<table role='grid' style='border-spacing: 0px; border-collapse: collapse; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");t.find("table").addClass(this.toThemeProperty("jqx-reset")),t.find("tr").addClass(this.toThemeProperty("jqx-reset")),t.find("td").css({background:"transparent",padding:1,margin:0,border:"none"}),t.addClass(this.toThemeProperty("jqx-reset")),t.addClass(this.toThemeProperty("jqx-widget-content")),t.addClass(this.toThemeProperty("jqx-calendar-column-header")),this.columnHeader.append(t);var i=this.getVisibleDate(),s=this.getFirstDayOfWeek(i),r=(s.dayOfWeek,this.getWeekOfYear(s),this.firstDayOfWeek),n=this.localization.calendar.days.names,o=new Array,a=s,l=(e.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(l=(e.width()-2)/7);for(var d=0;d<7;d++){var h=n[r];switch(this.rtl&&(h=n[6-r]),this.dayNameFormat){case"default":h=this.localization.calendar.days.namesAbbr[r],this.rtl&&(h=this.localization.calendar.days.namesAbbr[6-r]);break;case"shortest":h=this.localization.calendar.days.namesShort[r],this.rtl&&(h=this.localization.calendar.days.namesShort[6-r]);break;case"firstTwoLetters":h=h.substring(0,2);break;case"firstLetter":h=h.substring(0,1)}var c=new C.jqx._jqxCalendar.cell(a.dateTime),u=d+1+this.element.id,p=C(t[0].rows[0].cells[d]),m=d;this.enableTooltips&&C(p).jqxTooltip&&C(p).jqxTooltip({name:this.element.id,content:n[r],theme:this.theme,position:"mouse"}),6<=r?r=0:r++,d=m,c.element=p,c.row=0,c.column=d+1;var f=this._textwidth(h),g="<div style='padding: 0; margin: 0; border: none; background: transparent;' id='columnCell"+u+"'>"+h+"</div>";if(p.append(g),p.find("#columnCell"+u).addClass(this.toThemeProperty("jqx-calendar-column-cell")),p.width(l),this.disabled&&p.find("#columnCell"+u).addClass(this.toThemeProperty("jqx-calendar-column-cell-disabled")),0<f&&0<l)for(;f>p.width()&&0!=h.length;)h=h.substring(0,h.length-1),C.jqx.utilities.html(p.find("#columnCell"+u),h),f=this._textwidth(h);o[d]=c,a=new C.jqx._jqxDateTimeInput.getDateTime(new Date(a._addDays(1)))}parseInt(this.columnHeader.width())>parseInt(this.host.width())&&this.columnHeader.width(this.host.width()),C.data(this.element,e[0].id).columnCells=o}},_format:function(t,i,e){var s=!1;try{null!=Globalize?s=!0:document.Globalize&&(Globalize=document.Globalize,s=!0)}catch(e){document.Globalize&&(Globalize=document.Globalize,s=!0)}if(document.Globalize&&(Globalize=document.Globalize,s=!0),C.global)return C.global.culture.calendar=this.localization.calendar,C.global.format(t,i,this.culture);if(s)try{return Globalize.cultures[this.culture]&&(Globalize.cultures[this.culture].calendar=this.localization.calendar),Globalize.format(t,i,this.culture)}catch(e){return Globalize.format(t,i)}else if(C.jqx.dataFormat)return C.jqx.dataFormat.formatdate(t,i,this.localization.calendar)},_textwidth:function(e){var t=C("<span>"+e+"</span>");t.addClass(this.toThemeProperty("jqx-calendar-column-cell")),C(this.host).append(t);var i=t.width();return t.remove(),i},_textheight:function(e){var t=C("<span>"+e+"</span>");C(this.host).append(t);var i=t.height();return t.remove(),i},_renderRowHeader:function(e){var t=this.getVisibleDate(),i=this.getFirstDayOfWeek(t),s=(i.dayOfWeek,this.getWeekOfYear(i)),r=new C.jqx._jqxDateTimeInput.getDateTime(new Date(i.dateTime));r._addDays(5),r.dayOfWeek=r.dateTime.getDay();this.getWeekOfYear(r);53==s&&0==r.dateTime.getMonth()&&(s=1);var n=C("<table style='overflow: hidden; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr><td></td></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr></table>");n.find("table").addClass(this.toThemeProperty("jqx-reset")),n.find("td").addClass(this.toThemeProperty("jqx-reset")),n.find("tr").addClass(this.toThemeProperty("jqx-reset")),n.addClass(this.toThemeProperty("jqx-calendar-row-header")),n.width(this.rowHeaderWidth),this.rowHeader.append(n);for(var o=i,a=new Array,l=0;l<6;l++){var d=s.toString(),h=new C.jqx._jqxCalendar.cell(o.dateTime),c=l+1+this.element.id,u=C(n[0].rows[l].cells[0]);h.element=u,h.row=l,h.column=0;var p="<div style='background: transparent; border: none; padding: 0; margin: 0;' id ='headerCellContent"+c+"'>"+d+"</div>";u.append(p),u.find("#headerCellContent"+c).addClass(this.toThemeProperty("jqx-calendar-row-cell")),a[l]=h,o=new C.jqx._jqxDateTimeInput.getDateTime(new Date(o._addWeeks(1))),s=this.getWeekOfYear(o)}C.data(this.element,e[0].id).rowCells=a},getFirstDayOfWeek:function(e){var t=e;(this.firstDayOfWeek<0||6<this.firstDayOfWeek)&&(this.firstDayOfWeek=6);var i=t.dayOfWeek-this.firstDayOfWeek;return i<=0&&(i+=7),C.jqx._jqxDateTimeInput.getDateTime(t._addDays(-i))},getVisibleDate:function(){var e=new C.jqx._jqxDateTimeInput.getDateTime(new Date(this.value.dateTime));e<this.minDate&&(e=this.minDate),e>this.maxDate&&(this.visibleDate=this.maxDate),e.dateTime.setHours(0);var t=e.day;return e=C.jqx._jqxDateTimeInput.getDateTime(e._addDays(1-t))},destroy:function(e){C.jqx.utilities.resize(this.host,null,!0),this.host.removeClass(),0!=e&&this.host.remove()},_raiseEvent:function(e,t){null==t&&(t={owner:null});var i=this.events[e],s=t||{};s.owner=this;var r=new C.Event(i);if(r.owner=this,r.args=s,0==e||1==e||2==e||3==e||4==e||5==e||6==e||7==e||8==e){r.args.date=r.args.selectedDate=this.getDate(),r.args.range=this.getRange();var n=this.getViewStart(),o=this.getViewEnd();r.args.view={from:n,to:o}}if(7==e){var a=s.selectionType;a||(a=null),"key"==a&&(a="keyboard"),"none"==a&&(a=null),s.type=a}var l=this.host.trigger(r);return 0!=e&&1!=e||(l=!1),l},propertyMap:function(e){return"value"==e?"range"!=this.selectionMode?this.getDate():this.getRange():null},_setSize:function(){var e=this.host.find("#View"+this.element.id);if(0<e.length){this.setCalendarSize(),null==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("px")&&e.height(this.height):e.height(this.height),null==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("px")&&e.width(this.width):e.width(this.width);var t=this.host.height()-this.titleHeight-this.columnHeaderHeight,i="View"+this.element.id;e.find("#cellsTable"+i).height(t),e.find("#calendarRowHeader"+i).height(t),this.refreshControl()}},resize:function(){this._setSize()},clear:function(){"range"==this.selectionMode?(this._clicks=1,this.setRange(null,null),this._raiseEvent(7)):this.setDate(null,"mouse"),this._clicks=0,this.selection={from:null,to:null}},today:function(){"range"==this.selectionMode?this.setRange(new Date,new Date):this.setDate(new Date,"mouse")},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(e,t,i,s){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)&&"enableHover"!=t&&"keyboardNavigation"!=t){if("localization"==t&&this.localization&&(this.localization.backString&&(this.backText=this.localization.backString),this.localization.forwardString&&(this.forwardText=this.localization.forwardString),this.localization.todayString&&(this.todayString=this.localization.todayString),this.localization.clearString&&(this.clearString=this.localization.clearString),this.firstDayOfWeek=this.localization.calendar.firstDay),"culture"==t)try{if(C.global)C.global.preferCulture(e.culture),e.localization.calendar=C.global.culture.calendar;else if(Globalize){var r=Globalize.culture(e.culture);e.localization.calendar=r.calendar}e.localization.calendar&&null!=e.localization.calendar.firstDay&&"default"!=e.culture&&(e.firstDayOfWeek=e.localization.calendar.firstDay)}catch(e){}if("views"==t)return-1==e.views.indexOf("month")&&(e.view="year"),-1==e.views.indexOf("year")&&-1==e.views.indexOf("month")&&(e.view="decade"),void e.render();"showFooter"==t&&e.render(),"width"!=t&&"height"!=t?"theme"==t?C.jqx.utilities.setTheme(i,s,e.host):("rowHeaderWidth"==t||"showWeekNumbers"==t||(e.view="month"),e.render()):e._setSize()}}})}(jqxBaseFramework),function(t){t.jqx._jqxCalendar.cell=function(e){return{dateTime:new t.jqx._jqxDateTimeInput.getDateTime(e),_date:e,getDate:function(){return this._date},setDate:function(e){this.dateTime=new t.jqx._jqxDateTimeInput.getDateTime(e),this._date=e},isToday:!1,isWeekend:!1,isOtherMonth:!1,isVisible:!0,isSelected:!1,isHighlighted:!1,element:null,row:-1,column:-1,tooltip:null}},t.jqx._jqxCalendar.monthView=function(e,t,i,s,r,n){return{start:e,end:t,cells:i,rowCells:s,columnCells:r,element:n}}}(jqxBaseFramework),function(r){r.jqx.jqxWidget("jqxDraw","",{}),r.extend(r.jqx._jqxDraw.prototype,{defineInstance:function(){var e={renderEngine:""};r.extend(!0,this,e);var t=["clear","on","off","removeElement","attr","getAttr","line","circle","rect","path","pieslice","text","measureText"];for(var i in t)this._addFn(r.jqx._jqxDraw.prototype,t[i]);return r.jqx._jqxDraw.prototype,e},_addFn:function(e,t){e[t]||(e[t]=function(){return this.renderer[t].apply(this.renderer,arguments)})},createInstance:function(e){},_initRenderer:function(e){return r.jqx.createRenderer(this,e)},_internalRefresh:function(){if(!r.jqx.isHidden(this.host)){this.renderer||(this.host.empty(),this._initRenderer(this.host));var e=this.renderer;if(e){var t=e.getRect();this._render({x:1,y:1,width:t.width,height:t.height}),e instanceof r.jqx.HTML5Renderer&&e.refresh()}}},_saveAsImage:function(e,t,i,s){return r.jqx._widgetToImage(this,e,t,i,s)},_render:function(e){this.renderer;this._plotRect=e},refresh:function(){this._internalRefresh()},getSize:function(){var e=this._plotRect;return{width:e.width,height:e.height}},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)}})}(jqxBaseFramework),function(P){P.jqx.toGreyScale=function(e){if(-1==e.indexOf("#"))return e;var t=P.jqx.cssToRgb(e);t[0]=t[1]=t[2]=Math.round(.3*t[0]+.59*t[1]+.11*t[2]);var i=P.jqx.rgbToHex(t[0],t[1],t[2]);return"#"+i[0]+i[1]+i[2]},P.jqx.adjustColor=function(e,t){if("string"!=typeof e)return"#000000";if(-1==e.indexOf("#"))return e;var i=P.jqx.cssToRgb(e),s=P.jqx.rgbToHsl(i);s[2]=Math.min(1,s[2]*t),s[1]=Math.min(1,s[1]*t*1.1),i=P.jqx.hslToRgb(s);e="#";for(var r=0;r<3;r++){var n=Math.round(i[r]);1==(n=P.jqx.decToHex(n)).toString().length&&(e+="0"),e+=n}return e.toUpperCase()},P.jqx.decToHex=function(e){return e.toString(16)},P.jqx.hexToDec=function(e){return parseInt(e,16)},P.jqx.rgbToHex=function(e,t,i){return[P.jqx.decToHex(e),P.jqx.decToHex(t),P.jqx.decToHex(i)]},P.jqx.hexToRgb=function(e,t,i){return[P.jqx.hexToDec(e),P.jqx.hexToDec(t),P.jqx.hexToDec(i)]},P.jqx.cssToRgb=function(e){return e.indexOf("rgb")<=-1?P.jqx.hexToRgb(e.substring(1,3),e.substring(3,5),e.substring(5,7)):e.substring(4,e.length-1).split(",")},P.jqx.hslToRgb=function(e){var t=parseFloat(e[0]),i=parseFloat(e[1]),s=parseFloat(e[2]);if(0==i)r=g=b=s;else{var n=s<.5?s*(1+i):s+i-s*i,o=2*s-n;r=P.jqx.hueToRgb(o,n,t+1/3),g=P.jqx.hueToRgb(o,n,t),b=P.jqx.hueToRgb(o,n,t-1/3)}return[255*r,255*g,255*b]},P.jqx.hueToRgb=function(e,t,i){return i<0&&(i+=1),1<i&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e},P.jqx.rgbToHsl=function(e){var t,i,s=parseFloat(e[0])/255,r=parseFloat(e[1])/255,n=parseFloat(e[2])/255,o=Math.max(s,r,n),a=Math.min(s,r,n),l=(o+a)/2;if(o==a)t=i=0;else{var d=o-a;switch(i=.5<l?d/(2-o-a):d/(o+a),o){case s:t=(r-n)/d+(r<n?6:0);break;case r:t=(n-s)/d+2;break;case n:t=(s-r)/d+4}t/=6}return[t,i,l]},P.jqx.swap=function(e,t){var i=e;e=t,t=i},P.jqx.getNum=function(e){if(P.isArray(e)){for(var t=0;t<e.length;t++)if(!isNaN(e[t]))return e[t]}else if(isNaN(e))return 0;return 0},P.jqx._ptdist=function(e,t,i,s){return Math.sqrt((i-e)*(i-e)+(s-t)*(s-t))},P.jqx._ptrnd=function(e){if(!document.createElementNS)return Math.round(e)==e?e:P.jqx._rnd(e,1,!1,!0);var t=P.jqx._rnd(e,.5,!1,!0);return.5!=Math.abs(t-Math.round(t))?e<t?t-.5:t+.5:t},P.jqx._ptRotate=function(e,t,i,s,r){var n=Math.sqrt(Math.pow(Math.abs(e-i),2)+Math.pow(Math.abs(t-s),2)),o=Math.asin((e-i)/n)+r;return{x:e=i+Math.cos(o)*n,y:t=s+Math.sin(o)*n}},P.jqx._rup=function(e){var t=Math.round(e);return t<e&&t++,t},P.jqx.log=function(e,t){return Math.log(e)/(t?Math.log(t):1)},P.jqx._mod=function(e,t){var i=Math.abs(t<e?t:e),s=1;if(0!=i)for(;i*s<100;)s*=10;return(e*=s)%(t*=s)/s},P.jqx._rnd=function(e,t,i,s){if(isNaN(e))return e;void 0===s&&(s=!0);var r=e-(1==s?e%t:P.jqx._mod(e,t));return e==r?r:(i?r<e&&(r+=t):e<r&&(r-=t),1==t?Math.round(r):r)},P.jqx.commonRenderer={pieSlicePath:function(e,t,i,s,r,n,o){s||(s=1);var a=Math.abs(r-n),l=180<a?1:0;360<=a&&(n=r+359.99);var d=r*Math.PI*2/360,h=n*Math.PI*2/360,c=e,u=e,p=t,m=t,f=!isNaN(i)&&0<i;if(f&&(o=0),0<o+i){if(0<o){var g=(a/2+r)*Math.PI*2/360;e+=o*Math.cos(g),t-=o*Math.sin(g)}if(f){var v=i;c=e+v*Math.cos(d),p=t-v*Math.sin(d),u=e+v*Math.cos(h),m=t-v*Math.sin(h)}}var x=e+s*Math.cos(d),w=e+s*Math.cos(h),y=t-s*Math.sin(d),b=t-s*Math.sin(h),_="",j=.02<Math.abs(Math.abs(n-r)-360);return f?(_="M "+u+","+m,_+=" a"+i+","+i,_+=" 0 "+l+",1 "+(c-u)+","+(p-m),_+=j?" L"+x+","+y:" M"+x+","+y,_+=" a"+s+","+s,_+=" 0 "+l+",0 "+(w-x)+","+(b-y),j&&(_+=" Z")):(_="M "+w+","+b,_+=" a"+s+","+s,_+=" 0 "+l+",1 "+(x-w)+","+(y-b),j&&(_+=" L"+e+","+t,_+=" Z")),_},measureText:function(e,t,i,s,r){var n=r._getTextParts(e,t,i),o=n.width,a=n.height;0==s&&(a/=.6);var l={};if(isNaN(t)&&(t=0),0==t)l={width:P.jqx._rup(o),height:P.jqx._rup(a)};else{var d=t*Math.PI*2/360,h=Math.abs(Math.sin(d)),c=Math.abs(Math.cos(d)),u=Math.abs(o*h+a*c),p=Math.abs(o*c+a*h);l={width:P.jqx._rup(p),height:P.jqx._rup(u)}}return s&&(l.textPartsInfo=n),l},alignTextInRect:function(e,t,i,s,r,n,o,a,l,d){var h=l*Math.PI*2/360,c=Math.sin(h),u=Math.cos(h),p=r*c,m=r*u;"center"==o||""==o||"undefined"==o?e+=i/2:"right"==o&&(e+=i),"center"==a||"middle"==a||""==a||"undefined"==a?t+=s/2:"bottom"==a?t+=s-n/2:"top"==a&&(t+=n/2);var f="middle";-1!=(d=d||"").indexOf("top")?f="top":-1!=d.indexOf("bottom")&&(f="bottom");var g="center";return-1!=d.indexOf("left")?g="left":-1!=d.indexOf("right")&&(g="right"),"center"==g?(e-=m/2,t-=p/2):"right"==g&&(e-=m,t-=p),"top"==f?(e-=n*c,t+=n*u):"middle"==f&&(e-=n*c/2,t+=n*u/2),{x:e=P.jqx._rup(e),y:t=P.jqx._rup(t)}}},P.jqx.svgRenderer=function(){},P.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(e){e.append("<table class=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 class=tdTop></td></tr><tr><td class=tdLeft></td><td><div class='chartContainer' style='position:relative' onselectstart='return false;'></div></td></tr></table>");var t=(this.host=e).find(".chartContainer");t[0].style.width=e.width()+"px",t[0].style.height=e.height()+"px";try{var i=document.createElementNS(this._svgns,"svg");i.setAttribute("id","svgChart"),i.setAttribute("version","1.1"),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("overflow","hidden"),t[0].appendChild(i),this.canvas=i}catch(e){return!1}return this._id=(new Date).getTime(),this.clear(),this._layout(),this._runLayoutFix(),!0},getType:function(){return"SVG"},refresh:function(){},_runLayoutFix:function(){this._fixLayout()},_fixLayout:function(){var e=this.canvas.getBoundingClientRect(),t=parseFloat(e.left)==parseInt(e.left),i=parseFloat(e.top)==parseInt(e.top);if(P.jqx.browser.msie){t=!0,i=!0;for(var s=this.host,r=0,n=0;s&&s.position&&s[0].parentNode;){var o=s.position();r+=parseFloat(o.left)-parseInt(o.left),n+=parseFloat(o.top)-parseInt(o.top),s=s.parent()}t=parseFloat(r)==parseInt(r),i=parseFloat(n)==parseInt(n)}t||(this.host.find(".tdLeft")[0].style.width="0.5px"),i||(this.host.find(".tdTop")[0].style.height="0.5px")},_layout:function(){var e=this.host.find(".chartContainer");this._width=Math.max(P.jqx._rup(this.host.width())-1,0),this._height=Math.max(P.jqx._rup(this.host.height())-1,0),e[0].style.width=this._width,e[0].style.height=this._height,this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;0<this.canvas.childElementCount;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)},removeElement:function(e){if(null!=e){this.removeHandler(e);try{for(;e.firstChild;)this.removeElement(e.firstChild);e.parentNode?e.parentNode.removeChild(e):this.canvas.removeChild(e)}catch(e){}}},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElementNS(this._svgns,"g");return e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElementNS(this._svgns,"clipPath"),i=document.createElementNS(this._svgns,"rect");return this.attr(i,{x:e.x,y:e.y,width:e.width,height:e.height,fill:"none"}),this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),t.appendChild(i),this._defs.appendChild(t),t},getWindowHref:function(){var e=P.jqx.browser;if(e&&"msie"==e.browser&&e.version<10)return"";var t=window.location.href;return t?t=(t=t.replace(/([\('\)])/g,"\\$1")).replace(/#.*$/,""):t},setClip:function(e,t){var i="url("+this.getWindowHref()+"#"+t.id+")";return this.attr(e,{"clip-path":i})},_clipId:0,addHandler:function(e,t,i){P(e).on?P(e).on(t,i):P(e).bind(t,i)},removeHandler:function(e,t,i){P(e).off?P(e).off(t,i):P(e).unbind(t,i)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},shape:function(e,t){var i=document.createElementNS(this._svgns,e);if(i){for(var s in t)i.setAttribute(s,t[s]);return this._activeParent().appendChild(i),i}},_getTextParts:function(e,t,i){var s={width:0,height:0,parts:[]};if(void 0===e)return s;var r=e.toString().split("<br>"),n=this._activeParent(),o=document.createElementNS(this._svgns,"text");this.attr(o,i);for(var a=0;a<r.length;a++){var l,d=r[a],h=o.ownerDocument.createTextNode(d);o.appendChild(h),n.appendChild(o);try{l=o.getBBox()}catch(e){}var c=P.jqx._rup(l.width),u=P.jqx._rup(.6*l.height);o.removeChild(h),s.width=Math.max(s.width,c),s.height+=u+(0<a?4:0),s.parts.push({width:c,height:u,text:d})}return n.removeChild(o),s},_measureText:function(e,t,i,s){return P.jqx.commonRenderer.measureText(e,t,i,s,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,s,r,n,o,a,l,d,h){var c,u=this._measureText(e,n,o,!0).textPartsInfo,p=u.parts;if(l||(l="center"),d||(d="center"),(1<p.length||a)&&(c=this.beginGroup()),a){var m=this.createClipRect({x:P.jqx._rup(t)-1,y:P.jqx._rup(i)-1,width:P.jqx._rup(s)+2,height:P.jqx._rup(r)+2});this.setClip(c,m)}var f,g,v=this._activeParent();f=u.width,g=u.height,(isNaN(s)||s<=0)&&(s=f),(isNaN(r)||r<=0)&&(r=g);var x=s||0,w=r||0;if(!n||0==n){i+=g,"center"==d||"middle"==d?i+=(w-g)/2:"bottom"==d&&(i+=w-g),s||(s=f),r||(r=g);v=this._activeParent();for(var y=0,b=p.length-1;0<=b;b--){var _=document.createElementNS(this._svgns,"text");this.attr(_,o),this.attr(_,{cursor:"default"});var j=_.ownerDocument.createTextNode(p[b].text);_.appendChild(j);var q=t,T=p[b].width,C=p[b].height;"center"==l?q+=(x-T)/2:"right"==l&&(q+=x-T),this.attr(_,{x:P.jqx._rup(q),y:P.jqx._rup(i+y),width:P.jqx._rup(T),height:P.jqx._rup(C)}),v.appendChild(_),y-=p[b].height+4}return c?(this.endGroup(),c):_}var S=P.jqx.commonRenderer.alignTextInRect(t,i,s,r,f,g,l,d,n,h);t=S.x,i=S.y;var k=this.shape("g",{transform:"translate("+t+","+i+")"}),I=this.shape("g",{transform:"rotate("+n+")"});k.appendChild(I);for(y=0,b=p.length-1;0<=b;b--){var D=document.createElementNS(this._svgns,"text");this.attr(D,o),this.attr(D,{cursor:"default"});j=D.ownerDocument.createTextNode(p[b].text);D.appendChild(j);q=0,T=p[b].width,C=p[b].height;"center"==l?q+=(u.width-T)/2:"right"==l&&(q+=u.width-T),this.attr(D,{x:P.jqx._rup(q),y:P.jqx._rup(y),width:P.jqx._rup(T),height:P.jqx._rup(C)}),I.appendChild(D),y-=C+4}return v.appendChild(k),c&&this.endGroup(),k},line:function(e,t,i,s,r){var n=this.shape("line",{x1:e,y1:t,x2:i,y2:s});return this.attr(n,r),n},path:function(e,t){var i=this.shape("path");return i.setAttribute("d",e),t&&this.attr(i,t),i},rect:function(e,t,i,s,r){e=P.jqx._ptrnd(e),t=P.jqx._ptrnd(t),i=Math.max(1,P.jqx._rnd(i,1,!1)),s=Math.max(1,P.jqx._rnd(s,1,!1));var n=this.shape("rect",{x:e,y:t,width:i,height:s});return r&&this.attr(n,r),n},circle:function(e,t,i,s){var r=this.shape("circle",{cx:e,cy:t,r:i});return s&&this.attr(r,s),r},pieSlicePath:function(e,t,i,s,r,n,o){return P.jqx.commonRenderer.pieSlicePath(e,t,i,s,r,n,o)},pieslice:function(e,t,i,s,r,n,o,a){var l=this.pieSlicePath(e,t,i,s,r,n,o),d=this.shape("path");return d.setAttribute("d",l),a&&this.attr(d,a),d},attr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent=t[i]:e.setAttribute(i,t[i])},removeAttr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent="":e.removeAttribute(t[i])},getAttr:function(e,t){return e.getAttribute(t)},_gradients:{},_toLinearGradient:function(e,t,i){var s="grd"+this._id+e.replace("#","")+(t?"v":"h"),r="url("+this.getWindowHref()+"#"+s+")";if(this._gradients[r])return r;var n=document.createElementNS(this._svgns,"linearGradient");this.attr(n,{x1:"0%",y1:"0%",x2:t?"0%":"100%",y2:t?"100%":"0%",id:s});for(var o=0;o<i.length;o++){var a=i[o],l=document.createElementNS(this._svgns,"stop"),d="stop-color:"+P.jqx.adjustColor(e,a[1]);this.attr(l,{offset:a[0]+"%",style:d}),n.appendChild(l)}return this._defs.appendChild(n),this._gradients[r]=!0,r},_toRadialGradient:function(e,t,i){var s="grd"+this._id+e.replace("#","")+"r"+(null!=i?i.key:""),r="url("+this.getWindowHref()+"#"+s+")";if(this._gradients[r])return r;var n=document.createElementNS(this._svgns,"radialGradient");null==i?this.attr(n,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:s}):this.attr(n,{cx:i.x,cy:i.y,r:i.outerRadius,id:s,gradientUnits:"userSpaceOnUse"});for(var o=0;o<t.length;o++){var a=t[o],l=document.createElementNS(this._svgns,"stop"),d="stop-color:"+P.jqx.adjustColor(e,a[1]);this.attr(l,{offset:a[0]+"%",style:d}),n.appendChild(l)}return this._defs.appendChild(n),this._gradients[r]=!0,r}},P.jqx.vmlRenderer=function(){},P.jqx.vmlRenderer.prototype={init:function(e){e.append("<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>");var t=(this.host=e).find(".chartContainer");t[0].style.width=e.width()+"px",t[0].style.height=e.height()+"px";var i=!0;try{for(var s=0;s<document.namespaces.length;s++)if("v"==document.namespaces[s].name&&"urn:schemas-microsoft-com:vml"==document.namespaces[s].urn){i=!1;break}}catch(e){return!1}return P.jqx.browser.msie&&parseInt(P.jqx.browser.version)<9&&document.childNodes&&0<document.childNodes.length&&document.childNodes[0].data&&-1!=document.childNodes[0].data.indexOf("DOCTYPE")?(i&&document.namespaces.add("v","urn:schemas-microsoft-com:vml"),this._ie8mode=!0):i&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"),this.canvas=t[0],this._width=Math.max(P.jqx._rup(t.width()),0),this._height=Math.max(P.jqx._rup(t.height()),0),t[0].style.width=this._width+2,t[0].style.height=this._height+2,this._id=(new Date).getTime(),this.clear(),!0},getType:function(){return"VML"},refresh:function(){},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;0<this.canvas.childElementCount;)this.removeHandler(this.canvas.firstElementChild),this.canvas.removeChild(this.canvas.firstElementChild);this._gradients={},this._defaultParent=void 0},removeElement:function(e){null!=e&&(this.removeHandler(e),e.parentNode.removeChild(e))},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElement("v:group");return t.style.position="absolute",t.coordorigin="0,0",t.coordsize=this._width+","+this._height,t.style.left=0,t.style.top=0,t.style.width=this._width,t.style.height=this._height,e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElement("div");return t.style.height=e.height+1+"px",t.style.width=e.width+1+"px",t.style.position="absolute",t.style.left=e.x+"px",t.style.top=e.y+"px",t.style.overflow="hidden",this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),this._activeParent().appendChild(t),t},setClip:function(e,t){},_clipId:0,addHandler:function(e,t,i){P(e).on?P(e).on(t,i):P(e).bind(t,i)},removeHandler:function(e,t,i){P(e).off?P(e).off(t,i):P(e).unbind(t,i)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},_getTextParts:function(e,t,i){var s={width:0,height:0,parts:[]},r=e.toString().split("<br>"),n=this._activeParent(),o=document.createElement("v:textbox");this.attr(o,i),n.appendChild(o);for(var a=0;a<r.length;a++){var l=r[a],d=document.createElement("span");d.appendChild(document.createTextNode(l)),o.appendChild(d),i&&i.class&&(d.className=i.class);var h=P(o),c=P.jqx._rup(h.width()),u=P.jqx._rup(.6*h.height());if(0==u&&P.jqx.browser.msie&&parseInt(P.jqx.browser.version)<9){var p=h.css("font-size");p&&(u=parseInt(p),isNaN(u)&&(u=0))}o.removeChild(d),s.width=Math.max(s.width,c),s.height+=u+(0<a?2:0),s.parts.push({width:c,height:u,text:l})}return n.removeChild(o),s},_measureText:function(e,t,i,s){return t=45<Math.abs(t)?90:0,P.jqx.commonRenderer.measureText(e,t,i,s,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,s,r,n,o,a,l,d){var h;o&&o.stroke&&(h=o.stroke),null==h&&(h="black");var c,u=this._measureText(e,n,o,!0),p=u.textPartsInfo.parts,m=u.width,f=u.height;if((isNaN(s)||0==s)&&(s=m),(isNaN(r)||0==r)&&(r=f),l||(l="center"),d||(d="center"),(0<p.length||a)&&(c=this.beginGroup()),a){var g=this.createClipRect({x:P.jqx._rup(t),y:P.jqx._rup(i),width:P.jqx._rup(s),height:P.jqx._rup(r)});this.setClip(c,g)}var v=this._activeParent(),x=s||0,w=r||0,y=0,b=0;"center"==l?y+=(x-m)/2:"right"==l&&(y+=x-m),"center"==d?b=(w-f)/2:"bottom"==d&&(b=w-f),0==(n=45<Math.abs(n)?90:0)?(i+=f+b,t+=y):(t+=m+y,i+=b);for(var _,j=0,q=p.length-1;0<=q;q--){var T=p[q],C=(m-T.width)/2;0==n&&"left"==l?C=0:0==n&&"right"==l?C=m-T.width:90==n&&(C=(f-T.width)/2);var S=j-T.height;b=90==n?C:S,y=90==n?S:C,(_=document.createElement("v:textbox")).style.position="absolute",_.style.left=P.jqx._rup(t+y),_.style.top=P.jqx._rup(i+b),_.style.width=P.jqx._rup(T.width),_.style.height=P.jqx._rup(T.height),90==n&&(_.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)",_.style.height=P.jqx._rup(T.height)+5);var k=document.createElement("span");k.appendChild(document.createTextNode(T.text)),o&&o.class&&(k.className=o.class),_.appendChild(k),v.appendChild(_),j-=T.height+(0<q?2:0)}return c?(this.endGroup(),v):_},shape:function(e,t){var i=document.createElement(this._createElementMarkup(e));if(i){for(var s in t)i.setAttribute(s,t[s]);return this._activeParent().appendChild(i),i}},line:function(e,t,i,s,r){var n="M "+e+","+t+" L "+i+","+s+" X E",o=this.path(n);return this.attr(o,r),o},_createElementMarkup:function(e){var t="<v:"+e+' style=""></v:'+e+">";return this._ie8mode&&(t=t.replace('style=""','style="behavior: url(#default#VML);"')),t},path:function(e,t){var i=document.createElement(this._createElementMarkup("shape"));return i.style.position="absolute",i.coordsize=this._width+" "+this._height,i.coordorigin="0 0",i.style.width=parseInt(this._width),i.style.height=parseInt(this._height),i.style.left="0px",i.style.top="0px",i.setAttribute("path",e),this._activeParent().appendChild(i),t&&this.attr(i,t),i},rect:function(e,t,i,s,r){e=P.jqx._ptrnd(e),t=P.jqx._ptrnd(t),i=P.jqx._rup(i),s=P.jqx._rup(s);var n=this.shape("rect",r);return n.style.position="absolute",n.style.left=e,n.style.top=t,n.style.width=i,n.style.height=s,n.strokeweight=0,r&&this.attr(n,r),n},circle:function(e,t,i,s){var r=this.shape("oval");return e=P.jqx._ptrnd(e-i),t=P.jqx._ptrnd(t-i),i=P.jqx._rup(i),r.style.position="absolute",r.style.left=e,r.style.top=t,r.style.width=2*i,r.style.height=2*i,s&&this.attr(r,s),r},updateCircle:function(e,t,i,s){null==t&&(t=parseFloat(e.style.left)+parseFloat(e.style.width)/2),null==i&&(i=parseFloat(e.style.top)+parseFloat(e.style.height)/2),null==s&&(s=parseFloat(e.width)/2),t=P.jqx._ptrnd(t-s),i=P.jqx._ptrnd(i-s),s=P.jqx._rup(s),e.style.left=t,e.style.top=i,e.style.width=2*s,e.style.height=2*s},pieSlicePath:function(e,t,i,s,r,n,o){s||(s=1);var a=Math.abs(r-n);360<a&&(r=0,n=360);var l=r*Math.PI*2/360,d=n*Math.PI*2/360,h=e,c=t,u=!isNaN(i)&&0<i;if(u&&(o=0),0<o){var p=(a/2+r)*Math.PI*2/360;e+=o*Math.cos(p),t-=o*Math.sin(p)}if(u){var m=i;h=P.jqx._ptrnd(e+m*Math.cos(l)),c=P.jqx._ptrnd(t-m*Math.sin(l)),P.jqx._ptrnd(e+m*Math.cos(d)),P.jqx._ptrnd(t-m*Math.sin(d))}P.jqx._ptrnd(e+s*Math.cos(l));var f=P.jqx._ptrnd(e+s*Math.cos(d)),g=(P.jqx._ptrnd(t-s*Math.sin(l)),P.jqx._ptrnd(t-s*Math.sin(d)));s=P.jqx._ptrnd(s),i=P.jqx._ptrnd(i),e=P.jqx._ptrnd(e),t=P.jqx._ptrnd(t);var v=Math.round(65535*r),x=Math.round(65536*(n-r));i<0&&(i=1);var w="";return u?(w="M"+h+" "+c,w+=" AE "+e+" "+t+" "+i+" "+i+" "+v+" "+x,w+=" L "+f+" "+g,v=Math.round(65535*(r-n)),w+=" AE "+e+" "+t+" "+s+" "+s+" "+(x=Math.round(65536*n))+" "+v,w+=" L "+h+" "+c):(w="M"+e+" "+t,w+=" AE "+e+" "+t+" "+s+" "+s+" "+v+" "+x),w+=" X E"},pieslice:function(e,t,i,s,r,n,o,a){var l=this.pieSlicePath(e,t,i,s,r,n,o),d=this.path(l,a);return a&&this.attr(d,a),d},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"stroke-opacity",vml:"strokeopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(e){for(var t in this._keymap)if(this._keymap[t].svg==e)return this._keymap[t].vml;return e},attr:function(e,t){if(e&&t)for(var i in t){var s=this._translateParam(i);null!=t[i]&&("fillcolor"==s&&-1!=t[i].indexOf("grd")?e.type=t[i]:"fillcolor"==s&&"transparent"==t[i]?(e.style.filter="alpha(opacity=0)",e["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"):"opacity"==s||"fillopacity"==s?e.fill&&(e.fill.opacity=t[i]):"textContent"==s?e.children[0].innerText=t[i]:"dashstyle"==s?e.dashstyle=t[i].replace(","," "):-1==s.indexOf("style.")?e[s]=t[i]:e.style[s.replace("style.","")]=t[i])}},removeAttr:function(e,t){if(e&&t)for(var i in t)e.removeAttribute(t[i])},getAttr:function(e,t){var i=this._translateParam(t);return"opacity"==i||"fillopacity"==i?e.fill?e.fill.opacity:1:-1==i.indexOf("style.")?e[i]:e.style[i.replace("style.","")]},_gradients:{},_toRadialGradient:function(e,t,i){return e},_toLinearGradient:function(e,t,i){if(this._ie8mode)return e;var s="grd"+e.replace("#","")+(t?"v":"h"),r="#"+s;if(this._gradients[r])return r;var n=document.createElement(this._createElementMarkup("fill"));n.type="gradient",n.method="linear",n.angle=t?0:90;for(var o="",a=0;a<i.length;a++){var l=i[a];0<l&&(o+=", "),o+=l[0]+"% "+P.jqx.adjustColor(e,l[1])}n.colors=o;var d=document.createElement(this._createElementMarkup("shapetype"));return d.appendChild(n),d.id=s,this.canvas.appendChild(d),r}},P.jqx.HTML5Renderer=function(){},P.jqx.ptrnd=function(e){if(.5==Math.abs(Math.round(e)-e))return e;var t=Math.round(e);return t<e&&(t-=1),t+.5},P.jqx.HTML5Renderer.prototype={init:function(e){try{this.host=e,this.host.append("<div class='chartContainer' style='position:relative' onselectstart='return false;'><canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/></div>"),this.canvas=e.find("#__jqxCanvasWrap"),this.canvas[0].width=e.width(),this.canvas[0].height=e.height(),this.ctx=this.canvas[0].getContext("2d"),this._elements={},this._maxId=0,this._gradientId=0,this._gradients={},this._currentPoint={x:0,y:0},this._lastCmd="",this._pos=0}catch(e){return!1}return!0},getType:function(){return"HTML5"},getContainer:function(){return this.host.find(".chartContainer")},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(e){},addHandler:function(e,t,i){},removeHandler:function(e,t,i){},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},clear:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0},removeElement:function(e){null!=e&&this._elements[e.id]&&delete this._elements[e.id]},shape:function(e,t){var i={type:e,id:this._maxId++};for(var s in t)i[s]=t[s];return this._elements[i.id]=i},attr:function(e,t){for(var i in t)e[i]=t[i]},removeAttr:function(e,t){for(var i in t)delete e[t[i]]},rect:function(e,t,i,s,r){if(isNaN(e))throw'Invalid value for "x"';if(isNaN(t))throw'Invalid value for "y"';if(isNaN(i))throw'Invalid value for "width"';if(isNaN(s))throw'Invalid value for "height"';var n=this.shape("rect",{x:e,y:t,width:i,height:s});return r&&this.attr(n,r),n},path:function(e,t){var i=this.shape("path",t);return this.attr(i,{d:e}),i},line:function(e,t,i,s,r){return this.path("M "+e+","+t+" L "+i+","+s,r)},circle:function(e,t,i,s){var r=this.shape("circle",{x:e,y:t,r:i});return s&&this.attr(r,s),r},pieSlicePath:function(e,t,i,s,r,n,o){return P.jqx.commonRenderer.pieSlicePath(e,t,i,s,r,n,o)},pieslice:function(e,t,i,s,r,n,o,a){var l=this.path(this.pieSlicePath(e,t,i,s,r,n,o),a);return this.attr(l,{x:e,y:t,innerRadius:i,outerRadius:s,angleFrom:r,angleTo:n}),l},_getCSSStyle:function(e){var t=document.styleSheets;try{for(var i=0;i<t.length;i++)for(var s=0;t[i].cssRules&&s<t[i].cssRules.length;s++)if(-1!=t[i].cssRules[s].selectorText.indexOf(e))return t[i].cssRules[s].style}catch(e){}return{}},_getTextParts:function(e,t,i){var s="Arial",r="10pt",n="";if(i&&i.class){var o=this._getCSSStyle(i.class);o.fontSize&&(r=o.fontSize),o.fontFamily&&(s=o.fontFamily),o.fontWeight&&(n=o.fontWeight)}this.ctx.font=n+" "+r+" "+s;for(var a={width:0,height:0,parts:[]},l=e.toString().split("<br>"),d=0;d<l.length;d++){var h=l[d],c=this.ctx.measureText(h).width,u=document.createElement("span.jqxchart");u.font=this.ctx.font,u.textContent=h,document.body.appendChild(u);var p=.6*u.offsetHeight;document.body.removeChild(u),a.width=Math.max(a.width,P.jqx._rup(c)),a.height+=p+(0<d?4:0),a.parts.push({width:c,height:p,text:h})}return a},_measureText:function(e,t,i,s){return P.jqx.commonRenderer.measureText(e,t,i,s,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,s,r,n,o,a,l,d,h){var c=this.shape("text",{text:e,x:t,y:i,width:s,height:r,angle:n,clip:a,halign:l,valign:d,rotateAround:h});if(o&&this.attr(c,o),c.fontFamily="Arial",c.fontSize="10pt",c.fontWeight="",c.color="#000000",o&&o.class){var u=this._getCSSStyle(o.class);c.fontFamily=u.fontFamily||c.fontFamily,c.fontSize=u.fontSize||c.fontSize,c.fontWeight=u.fontWeight||c.fontWeight,c.color=u.color||c.color}var p=this._measureText(e,0,o,!0);return this.attr(c,{textPartsInfo:p.textPartsInfo,textWidth:p.width,textHeight:p.height}),(s<=0||isNaN(s))&&this.attr(c,{width:p.width}),(r<=0||isNaN(r))&&this.attr(c,{height:p.height}),c},_toLinearGradient:function(e,t,i){if(this._renderers._gradients[e])return e;for(var s=[],r=0;r<i.length;r++)s.push({percent:i[r][0]/100,color:P.jqx.adjustColor(e,i[r][1])});var n="gr"+this._gradientId++;return this.createGradient(n,t?"vertical":"horizontal",s),n},_toRadialGradient:function(e,t){if(this._renderers._gradients[e])return e;for(var i=[],s=0;s<t.length;s++)i.push({percent:t[s][0]/100,color:P.jqx.adjustColor(e,t[s][1])});var r="gr"+this._gradientId++;return this.createGradient(r,"radial",i),r},createGradient:function(e,t,i){this._renderers.createGradient(this,e,t,i)},_renderers:{createGradient:function(e,t,i,s){e._gradients[t]={orientation:i,colorStops:s}},setStroke:function(e,t){var i=e.ctx;i.strokeStyle=t.stroke||"transparent",i.lineWidth=t["stroke-width"]||1,null!=t["fill-opacity"]?i.globalAlpha=t["fill-opacity"]:null!=t.opacity?i.globalAlpha=t.opacity:i.globalAlpha=1,i.setLineDash&&(t["stroke-dasharray"]?i.setLineDash(t["stroke-dasharray"].split(",")):i.setLineDash([]))},setFillStyle:function(e,t){var i=e.ctx;if(i.fillStyle="transparent",null!=t["fill-opacity"]?i.globalAlpha=t["fill-opacity"]:null!=t.opacity?i.globalAlpha=t.opacity:i.globalAlpha=1,t.fill&&-1==t.fill.indexOf("#")&&e._gradients[t.fill]){var s,r="horizontal"!=e._gradients[t.fill].orientation,n="radial"==e._gradients[t.fill].orientation,o=P.jqx.ptrnd(t.x),a=P.jqx.ptrnd(t.y),l=P.jqx.ptrnd(t.x+(r?0:t.width)),d=P.jqx.ptrnd(t.y+(r?t.height:0));"circle"!=t.type&&"path"!=t.type&&"rect"!=t.type||!n||(x=P.jqx.ptrnd(t.x),y=P.jqx.ptrnd(t.y),r1=t.innerRadius||0,r2=t.outerRadius||t.r||0,"rect"==t.type&&(x+=t.width/2,y+=t.height/2),s=i.createRadialGradient(x,y,r1,x,y,r2)),n||((isNaN(o)||isNaN(l)||isNaN(a)||isNaN(d))&&(a=o=0,l=r?0:i.canvas.width,d=r?i.canvas.height:0),s=i.createLinearGradient(o,a,l,d));for(var h=e._gradients[t.fill].colorStops,c=0;c<h.length;c++)s.addColorStop(h[c].percent,h[c].color);i.fillStyle=s}else t.fill&&(i.fillStyle=t.fill)},rect:function(e,t){0!=t.width&&0!=t.height&&(e.fillRect(P.jqx.ptrnd(t.x),P.jqx.ptrnd(t.y),t.width,t.height),e.strokeRect(P.jqx.ptrnd(t.x),P.jqx.ptrnd(t.y),t.width,t.height))},circle:function(e,t){0!=t.r&&(e.beginPath(),e.arc(P.jqx.ptrnd(t.x),P.jqx.ptrnd(t.y),t.r,0,2*Math.PI,!1),e.closePath(),e.fill(),e.stroke())},_parsePoint:function(e){return{x:this._parseNumber(e),y:this._parseNumber(e)}},_parseNumber:function(e){for(var t=!1,i=this._pos;i<e.length;i++)if("0"<=e[i]&&e[i]<="9"||"."==e[i]||"e"==e[i]||"-"==e[i]&&!t||"-"==e[i]&&1<=i&&"e"==e[i-1])t=!0;else{if(t||" "!=e[i]&&","!=e[i])break;this._pos++}var s=parseFloat(e.substring(this._pos,i));if(!isNaN(s))return this._pos=i,s},_cmds:"mlcazq",_isRelativeCmd:function(e){return P.jqx.string.contains(this._cmds,e)},_parseCmd:function(e){for(var t=this._pos;t<e.length;t++){if(P.jqx.string.containsIgnoreCase(this._cmds,e[t]))return this._pos=t+1,this._lastCmd=e[t],this._lastCmd;if(" "!=e[t]){if("0"<=e[t]&&e[t]<="9"){if(this._pos=t,""==this._lastCmd)break;return this._lastCmd}}else this._pos++}},_toAbsolutePoint:function(e){return{x:this._currentPoint.x+e.x,y:this._currentPoint.y+e.y}},path:function(e,t){var i=t.d;this._pos=0,this._lastCmd="";var s=void 0;this._currentPoint={x:0,y:0},e.beginPath();for(;this._pos<i.length;){var r=this._parseCmd(i);if(null==r)break;if("M"!=r&&"m"!=r)if("L"!=r&&"l"!=r)if("A"!=r&&"a"!=r)if("Z"!=r&&"z"!=r||null==s)if("C"!=r&&"c"!=r)if("Q"!=r&&"q"!=r);else{n=this._parsePoint(i),o=this._parsePoint(i);e.quadraticCurveTo(n.x,n.y,o.x,o.y),this._currentPoint=o}else{var n=this._parsePoint(i),o=this._parsePoint(i),a=this._parsePoint(i);e.bezierCurveTo(n.x,n.y,o.x,o.y,a.x,a.y),this._currentPoint=a}else e.lineTo(s.x,s.y),this._currentPoint=s;else{var l=this._parseNumber(i),d=this._parseNumber(i),h=this._parseNumber(i)*(Math.PI/180),c=this._parseNumber(i),u=this._parseNumber(i),p=this._parsePoint(i);if(this._isRelativeCmd(r)&&(p=this._toAbsolutePoint(p)),0==l||0==d)continue;var m=this._currentPoint,f={x:Math.cos(h)*(m.x-p.x)/2+Math.sin(h)*(m.y-p.y)/2,y:-Math.sin(h)*(m.x-p.x)/2+Math.cos(h)*(m.y-p.y)/2},g=Math.pow(f.x,2)/Math.pow(l,2)+Math.pow(f.y,2)/Math.pow(d,2);1<g&&(l*=Math.sqrt(g),d*=Math.sqrt(g));var v=(c==u?-1:1)*Math.sqrt((Math.pow(l,2)*Math.pow(d,2)-Math.pow(l,2)*Math.pow(f.y,2)-Math.pow(d,2)*Math.pow(f.x,2))/(Math.pow(l,2)*Math.pow(f.y,2)+Math.pow(d,2)*Math.pow(f.x,2)));isNaN(v)&&(v=0);var x=v*l*f.y/d,w=v*-d*f.x/l,y={x:(m.x+p.x)/2+Math.cos(h)*x-Math.sin(h)*w,y:(m.y+p.y)/2+Math.sin(h)*x+Math.cos(h)*w},b=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},_=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(b(e)*b(t))},j=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(_(e,t))},q=j([1,0],[(f.x-x)/l,(f.y-w)/d]),T=[(f.x-x)/l,(f.y-w)/d],C=[(-f.x-x)/l,(-f.y-w)/d],S=j(T,C);_(T,C)<=-1&&(S=Math.PI),1<=_(T,C)&&(S=0),0==u&&0<S&&(S-=2*Math.PI),1==u&&S<0&&(S+=2*Math.PI);_=d<l?l:d;var k=d<l?1:l/d,I=d<l?d/l:1;e.translate(y.x,y.y),e.rotate(h),e.scale(k,I),e.arc(0,0,_,q,q+S,1-u),e.scale(1/k,1/I),e.rotate(-h),e.translate(-y.x,-y.y)}else{if(null==(D=this._parsePoint(i)))break;e.lineTo(D.x,D.y),this._currentPoint=D}else{var D;if(null==(D=this._parsePoint(i)))break;e.moveTo(D.x,D.y),this._currentPoint=D,null==s&&(s=D)}}e.fill(),e.stroke(),e.closePath()},text:function(e,t){var i=P.jqx.ptrnd(t.x),s=P.jqx.ptrnd(t.y),r=P.jqx.ptrnd(t.width),n=P.jqx.ptrnd(t.height),o=t.halign,a=t.valign,l=t.angle,d=t.rotateAround,h=t.textPartsInfo,c=h.parts,u=t.clip;null==u&&(u=!0),e.save(),o||(o="center"),a||(a="center"),u&&(e.rect(i,s,r,n),e.clip());var p=t.textWidth,m=t.textHeight,f=r||0,g=n||0;if(e.fillStyle=t.color,e.font=t.fontWeight+" "+t.fontSize+" "+t.fontFamily,l&&0!=l){var v=P.jqx.commonRenderer.alignTextInRect(i,s,r,n,p,m,o,a,l,d);i=v.x,s=v.y;var x=l*Math.PI*2/360;e.translate(i,s),e.rotate(x);y=0;var w=h.width;for(b=c.length-1;0<=b;b--){j=0;"center"==o?j+=(w-c[b].width)/2:"right"==o&&(j+=w-c[b].width),e.fillText(c[b].text,j,y),y-=c[b].height+4}e.restore()}else{s+=m,"center"==a||"middle"==a?s+=(g-m)/2:"bottom"==a&&(s+=g-m),r||(r=p),n||(n=m);for(var y=0,b=c.length-1;0<=b;b--){var _=c[b],j=i,q=c[b].width;c[b].height;"center"==o?j+=(f-q)/2:"right"==o&&(j+=f-q),e.fillText(_.text,j,s+y),y-=_.height+(0<b?4:0)}e.restore()}}},refresh:function(){for(var e in this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height),this._elements){var t=this._elements[e];this._renderers.setFillStyle(this,t),this._renderers.setStroke(this,t),this._renderers[this._elements[e].type](this.ctx,t)}}},P.jqx.createRenderer=function(e,t){var i=e,s=i.renderer=null;if(document.createElementNS&&"HTML5"!=i.renderEngine&&"VML"!=i.renderEngine&&!(s=new P.jqx.svgRenderer).init(t)){if("SVG"==i.renderEngine)throw"Your browser does not support SVG";return null}if(null==s&&"HTML5"!=i.renderEngine){if(!(s=new P.jqx.vmlRenderer).init(t)){if("VML"==i.renderEngine)throw"Your browser does not support VML";return null}i._isVML=!0}if(null==s&&("HTML5"==i.renderEngine||null==i.renderEngine)&&!(s=new P.jqx.HTML5Renderer).init(t))throw"Your browser does not support HTML5 Canvas";return i.renderer=s},P.jqx._widgetToImage=function(e,t,i,s,r,n){var o=e;if(!o)return!1;null!=i&&""!=i||(i="image."+t);var a=o.renderEngine,l=o.enableAnimations;if(o.enableAnimations=!1,o.renderEngine="HTML5",o.renderEngine!=a)try{o.refresh()}catch(e){return o.renderEngine=a,o.refresh(),o.enableAnimations=l,!1}var d=o.renderer.getContainer().find("canvas")[0],h=!0;P.isFunction(n)&&(h=n(e,d));var c=!0;return h&&(c=P.jqx.exportImage(d,t,i,s,r)),o.renderEngine!=a&&(o.renderEngine=a,o.refresh(),o.enableAnimations=l),c},P.jqx.getByPriority=function(e){for(var t=void 0,i=0;i<e.length&&null==t;i++)null==t&&null!=e[i]&&(t=e[i]);return t},P.jqx.exportImage=function(e,t,i,s,r){if(!e)return!1;var n="pdf"===t.toLowerCase();if(n&&(t="jpeg"),null!=i&&""!=i||(i="image."+t),null==s||""==s)throw"Please specifiy export server";var o=!0;try{if(e){var a=e.toDataURL("image/"+t);if(n){P.jqx.pdfExport||(P.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var l=595;switch(P.jqx.pdfExport.paperSize){case"legal":l=612;"portrait"!==P.jqx.pdfExport.orientation&&(l=1008);break;case"letter":l=612;"portrait"!==P.jqx.pdfExport.orientation&&(l=792);break;case"a3":l=841;"portrait"!==P.jqx.pdfExport.orientation&&(l=1190);break;case"a4":l=595;"portrait"!==P.jqx.pdfExport.orientation&&(l=842);break;case"a5":l=420;"portrait"!==P.jqx.pdfExport.orientation&&(l=595)}var d=72*P(e).width()/96;l-20<=d&&(d=l-20);try{var h=new pdfDataExport(P.jqx.pdfExport.orientation,"pt",P.jqx.pdfExport.paperSize)}catch(e){h=new window.jqxPdfDataExport(P.jqx.pdfExport.orientation,"pt",P.jqx.pdfExport.paperSize)}return h.addImage(a,"JPEG",10,10,d,0),void h.save(i)}if(a=a.replace("data:image/"+t+";base64,",""),r)P.ajax({dataType:"string",url:s,type:"POST",data:{content:a,fname:i},async:!1,success:function(e,t,i){o=!0},error:function(e,t,i){o=!1}});else{var c=document.createElement("form");c.method="POST",c.action=s,c.style.display="none",document.body.appendChild(c);var u=document.createElement("input");u.name="fname",u.value=i,u.style.display="none";var p=document.createElement("input");p.name="content",p.value=a,p.style.display="none",c.appendChild(u),c.appendChild(p),c.submit(),document.body.removeChild(c),o=!0}}}catch(e){o=!1}return o}}(jqxBaseFramework),function(f){jqxPlot=function(){},jqxPlot.prototype={get:function(e,t,i){return void 0!==i?e[t][i]:e[t]},min:function(e,t){for(var i=NaN,s=0;s<e.length;s++){var r=this.get(e,s,t);(isNaN(i)||r<i)&&(i=r)}return i},max:function(e,t){for(var i=NaN,s=0;s<e.length;s++){var r=this.get(e,s,t);(isNaN(i)||i<r)&&(i=r)}return i},sum:function(e,t){for(var i=0,s=0;s<e.length;s++){var r=this.get(e,s,t);isNaN(r)||(i+=r)}return i},count:function(e,t){for(var i=0,s=0;s<e.length;s++){var r=this.get(e,s,t);isNaN(r)||i++}return i},avg:function(e,t){return this.sum(e,t)/Math.max(1,count(e,t))},filter:function(e,t){if(!t)return e;for(var i=[],s=0;s<e.length;s++)t(e[s])&&i.push(e[s]);return i},scale:function(e,t,i,s){if(isNaN(e))return NaN;if((e<Math.min(t.min,t.max)||e>Math.max(t.min,t.max))&&(!s||!0!==s.ignore_range))return NaN;var r=NaN,n=1;if(void 0===t.type||"logarithmic"!=t.type){var o=Math.abs(t.max-t.min);o||(o=1),n=Math.abs(e-Math.min(t.min,t.max))/o}else if("logarithmic"===t.type){var a=t.base;isNaN(a)&&(a=10);var l=Math.min(t.min,t.max);l<=0&&(l=1);var d=Math.max(t.min,t.max);d<=0&&(d=1);var h=f.jqx.log(d,a);d=Math.pow(a,h);var c=f.jqx.log(l,a);l=Math.pow(a,c);var u=f.jqx.log(e,a);n=Math.abs(u-c)/(h-c)}if("logarithmic"===i.type){a=i.base;isNaN(a)&&(a=10);h=f.jqx.log(i.max,a),c=f.jqx.log(i.min,a);i.flip&&(n=1-n);u=Math.min(c,h)+n*Math.abs(h-c);r=Math.pow(a,u)}else r=Math.min(i.min,i.max)+n*Math.abs(i.max-i.min),i.flip&&(r=Math.max(i.min,i.max)-r+i.min);return r},axis:function(e,t,i){if(i<=1)return[t,e];(isNaN(i)||i<2)&&(i=2);for(var s=0;Math.round(e)!=e&&Math.round(t)!=t&&s<10;)e*=10,t*=10,s++;for(var r=(t-e)/i;s<10&&Math.round(r)!=r;)e*=10,t*=10,r*=10,s++;for(var n=[1,2,5],o=0;;){var a=o%n.length,l=Math.floor(o/n.length),d=Math.pow(10,l)*n[a];a=(o+1)%n.length,l=Math.floor((o+1)/n.length);var h=Math.pow(10,l)*n[a];if(d<=r&&r<h)break;o++}for(var c=h,u=[],p=f.jqx._rnd(e,c,!1),m=s<=0?1:Math.pow(10,s);p<t+c;)u.push(p/m),p+=c;return u}}}(jqxBaseFramework),function(me){me.jqx.jqxWidget("jqxChart","",{}),me.extend(me.jqx._jqxChart.prototype,{defineInstance:function(){return me.extend(!0,this,this._defaultSettings),this._createColorsCache(),this._defaultSettings},_defaultSettings:{title:"Title",description:"Description",source:[],seriesGroups:[],categoryAxis:null,xAxis:{},valueAxis:null,renderEngine:"",enableAnimations:!0,enableAxisTextAnimation:!1,backgroundImage:"",background:"#FFFFFF",padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#FFFFFF",showBorderLine:!0,borderLineWidth:1,borderLineColor:null,borderColor:null,titlePadding:{left:5,top:5,right:5,bottom:10},showLegend:!0,legendLayout:null,enabled:!0,colorScheme:"scheme01",animationDuration:500,showToolTips:!0,toolTipShowDelay:500,toolTipDelay:500,toolTipHideDelay:4e3,toolTipMoveDuration:300,toolTipFormatFunction:null,toolTipAlignment:"dataPoint",localization:null,columnSeriesOverlap:!1,rtl:!1,legendPosition:null,greyScale:!1,axisPadding:5,enableCrosshairs:!1,crosshairsColor:"#BCBCBC",crosshairsDashStyle:"2,2",crosshairsLineWidth:1,enableEvents:!0,_itemsToggleState:[],_isToggleRefresh:!1,_isSelectorRefresh:!1,_sliders:[],_selectorRange:[],_rangeSelectorInstances:{},_resizeState:{},renderer:null,_isRangeSelectorInstance:!1,drawBefore:null,draw:null,_renderData:{},enableSampling:!0},_defaultLineColor:"#BCBCBC",_touchEvents:{mousedown:me.jqx.mobile.getTouchEventName("touchstart"),click:me.jqx.mobile.getTouchEventName("touchstart"),mouseup:me.jqx.mobile.getTouchEventName("touchend"),mousemove:me.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},destroy:function(){this.host.remove()},_jqxPlot:null,createInstance:function(e){if(!me.jqx.dataAdapter)throw"jqxdata.js is not loaded";var n=this;n._refreshOnDownloadComlete(),n._isTouchDevice=me.jqx.mobile.isTouchDevice(),n._jqxPlot||(n._jqxPlot=new jqxPlot),n.addHandler(n.host,n._getEvent("mousemove"),function(e){if(0!=n.enabled){n._isRangeSelectorInstance||n.host.css("cursor","default");var t=e.pageX||e.clientX||e.screenX,i=e.pageY||e.clientY||e.screenY,s=n.host.offset();if(n._isTouchDevice){var r=me.jqx.position(e);t=r.left,i=r.top}t-=s.left,i-=s.top,n.onmousemove(t,i)}}),n.addHandler(n.host,n._getEvent("mouseleave"),function(e){if(0!=n.enabled){var t=n._mouseX,i=n._mouseY,s=n._plotRect;s&&t>=s.x&&t<=s.x+s.width&&i>=s.y&&i<=s.y+s.height||(n._cancelTooltipTimer(),n._hideToolTip(0),n._unselect())}}),n.addHandler(n.host,"click",function(i){if(0!=n.enabled){var e=i.pageX||i.clientX||i.screenX,t=i.pageY||i.clientY||i.screenY,s=n.host.offset();if(n._isTouchDevice){var r=me.jqx.position(i);e=r.left,t=r.top}e-=s.left,t-=s.top,n._mouseX=e,n._mouseY=t,!isNaN(n._lastClickTs)&&(new Date).valueOf()-n._lastClickTs<100||(this._hostClickTimer=setTimeout(function(){if(n._isTouchDevice||(n._cancelTooltipTimer(),n._hideToolTip(),n._unselect()),n._pointMarker&&n._pointMarker.element){var e=n.seriesGroups[n._pointMarker.gidx],t=e.series[n._pointMarker.sidx];i.stopImmediatePropagation(),n._raiseItemEvent("click",e,t,n._pointMarker.iidx)}},100))}});var t=n.element.style;if(t){var i=!1;null!=t.width&&(i|=-1!=t.width.toString().indexOf("%")),null!=t.height&&(i|=-1!=t.height.toString().indexOf("%")),i&&me.jqx.utilities.resize(this.host,function(){n.timer&&clearTimeout(n.timer);n.timer=setTimeout(function(){var e=n.enableAnimations;n.enableAnimations=!1,n.refresh(),n.enableAnimations=e},1)},!1,!0)}},_refreshOnDownloadComlete:function(){var e=this,t=this.source;if(t instanceof me.jqx.dataAdapter){var i=t._options;(null==i||null!=i&&!i.autoBind)&&(t.autoSync=!1,t.dataBind());var s=this.element.id;if(0==t.records.length){t.unbindDownloadComplete(s),t.bindDownloadComplete(s,function(){e.ready&&e.ready(),e.refresh()})}else e.ready&&e.ready();t.unbindBindingUpdate(s),t.bindBindingUpdate(s,function(){e._supressBindingRefresh||e.refresh()})}},propertyChangedHandler:function(e,t,i,s){null!=this.isInitialized&&0!=this.isInitialized&&("source"==t&&this._refreshOnDownloadComlete(),this.refresh())},_initRenderer:function(e){if(!me.jqx.createRenderer)throw"Please include jqxdraw.js";return me.jqx.createRenderer(this,e)},_internalRefresh:function(){var e=this;if(!me.jqx.isHidden(e.host)){e._stopAnimations(),e.renderer&&(e._isToggleRefresh||e._isUpdate)||(e._hideToolTip(0),e._isVML=!1,e.host.empty(),e._measureDiv=void 0,e._initRenderer(e.host));var t=e.renderer;if(t){var i=t.getRect();e._render({x:1,y:1,width:i.width,height:i.height}),this._raiseEvent("refreshBegin",{instance:this}),t instanceof me.jqx.HTML5Renderer&&t.refresh(),e._isUpdate=!1,this._raiseEvent("refreshEnd",{instance:this})}}},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)},saveAsPDF:function(e,t,i){return this._saveAsImage("pdf",e,t,i)},_saveAsImage:function(e,t,i,s){for(var r=!1,n=0;n<this.seriesGroups.length&&!r;n++){var o=this._getXAxis(n);o&&o.rangeSelector&&(r=!0)}return me.jqx._widgetToImage(this,e,t,i,s,r?this._selectorSaveAsImageCallback:void 0)},_selectorSaveAsImageCallback:function(e,t){for(var i=e,s=0;s<i.seriesGroups.length;s++){var r=i._getXAxis(s);if(r&&r.rangeSelector&&!r.rangeSelector.renderTo){var n=i._rangeSelectorInstances[s];if(n){var o=n.jqxChart("getInstance"),a=(o.renderEngine,o.renderer.getRect()),l=o.renderer.getContainer().find("canvas")[0].getContext("2d"),d=i._sliders[s],h="horizontal"==i.seriesGroups[s].orientation,c=h?"height":"width",u=h?"width":"height",p=h?"y":"x",m=h?"x":"y",f={};f[p]=d.startOffset+d.rect[p],f[m]=d.rect[m],f[c]=d.endOffset-d.startOffset,f[u]=d.rect[u];var g=r.rangeSelector.colorSelectedRange||"blue",v=(r.rangeSelector.colorUnselectedRange,r.rangeSelector.colorRangeLine||"grey"),x=[];x.push(o.renderer.rect(f.x,f.y,f.width,f.height,{fill:g,opacity:.1})),h?(x.push(o.renderer.line(me.jqx._ptrnd(d.rect.x+d.rect.width),me.jqx._ptrnd(d.rect.y),me.jqx._ptrnd(d.rect.x+d.rect.width),me.jqx._ptrnd(f.y),{stroke:v,opacity:.5})),x.push(o.renderer.line(me.jqx._ptrnd(d.rect.x+d.rect.width),me.jqx._ptrnd(f.y+f.height),me.jqx._ptrnd(d.rect.x+d.rect.width),me.jqx._ptrnd(d.rect.y+d.rect.height),{stroke:v,opacity:.5})),x.push(o.renderer.line(me.jqx._ptrnd(d.rect.x),me.jqx._ptrnd(f.y),me.jqx._ptrnd(d.rect.x+d.rect.width),me.jqx._ptrnd(f.y),{stroke:v,opacity:.5})),x.push(o.renderer.line(me.jqx._ptrnd(d.rect.x),me.jqx._ptrnd(f.y+f.height),me.jqx._ptrnd(d.rect.x+d.rect.width),me.jqx._ptrnd(f.y+f.height),{stroke:v,opacity:.5}))):(x.push(o.renderer.line(me.jqx._ptrnd(d.rect.x),me.jqx._ptrnd(d.rect.y),me.jqx._ptrnd(f.x),me.jqx._ptrnd(d.rect.y),{stroke:v,opacity:.5})),x.push(o.renderer.line(me.jqx._ptrnd(f.x+f.width),me.jqx._ptrnd(d.rect.y),me.jqx._ptrnd(d.rect.x+d.rect.width),me.jqx._ptrnd(d.rect.y),{stroke:v,opacity:.5})),x.push(o.renderer.line(me.jqx._ptrnd(f.x),me.jqx._ptrnd(d.rect.y),me.jqx._ptrnd(f.x),me.jqx._ptrnd(d.rect.y+d.rect.height),{stroke:v,opacity:.5})),x.push(o.renderer.line(me.jqx._ptrnd(f.x+f.width),me.jqx._ptrnd(d.rect.y),me.jqx._ptrnd(f.x+f.width),me.jqx._ptrnd(d.rect.y+d.rect.height),{stroke:v,opacity:.5}))),o.renderer.refresh();var w=l.getImageData(a.x,a.y,a.width,a.height);t.getContext("2d").putImageData(w,parseInt(n.css("left")),parseInt(n.css("top")),1,1,a.width,a.height);for(var y=0;y<x.length;y++)o.renderer.removeElement(x[y]);o.renderer.refresh()}}}return!0},refresh:function(){this._internalRefresh()},update:function(){this._isUpdate=!0,this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","scatter","stackedscatter","stackedscatter100","bubble","stackedbubble","stackedbubble100","pie","donut","candlestick","ohlc","waterfall","stackedwaterfall"],clear:function(){for(var e in this._defaultSettings)this[e]=this._defaultSettings[e];this.title="",this.description="",this.refresh()},_validateSeriesGroups:function(){if(!me.isArray(this.seriesGroups))throw"Invalid property: 'seriesGroups' property is required and must be a valid array.";for(var e=0;e<this.seriesGroups.length;e++){var t=this.seriesGroups[e];if(!t.type)throw"Invalid property: Each series group must have a valid 'type' property.";if(!me.isArray(t.series))throw"Invalid property: Each series group must have a 'series' property which must be a valid array."}},_render:function(e){var t=this,i=t.renderer;t._validateSeriesGroups(),t._colorsCache.clear(),!t._isToggleRefresh&&t._isUpdate&&t._renderData&&t._renderDataClone(),t._renderData=[],i.clear(),t._unselect(),t._hideToolTip(0);var s=t.backgroundImage;null==s||""==s?t.host.css({"background-image":""}):t.host.css({"background-image":-1!=s.indexOf("(")?s:"url('"+s+"')"}),t._rect=e;var r=t.padding||{left:5,top:5,right:5,bottom:5},n=i.createClipRect(e),o=i.beginGroup();i.setClip(o,n);var a=i.rect(e.x,e.y,e.width-2,e.height-2);if(null==s||""==s?i.attr(a,{fill:t.backgroundColor||t.background||"white"}):i.attr(a,{fill:"transparent"}),0!=t.showBorderLine){var l=null==t.borderLineColor?t.borderColor:t.borderLineColor;null==l&&(l=t._defaultLineColor);var d=this.borderLineWidth;(isNaN(d)||d<0||10<d)&&(d=1),i.attr(a,{"stroke-width":d,stroke:l})}else me.jqx.browser.msie&&me.jqx.browser.version<9&&i.attr(a,{"stroke-width":1,stroke:t.backgroundColor||"white"});me.isFunction(t.drawBefore)&&t.drawBefore(i,e);var h={x:r.left,y:r.top,width:e.width-r.left-r.right,height:e.height-r.top-r.bottom};t._paddedRect=h;var c,u=t.titlePadding||{left:2,top:2,right:2,bottom:2};if(t.title&&0<t.title.length){var p=t.toThemeProperty("jqx-chart-title-text",null);c=i.measureText(t.title,0,{class:p}),i.text(t.title,h.x+u.left,h.y+u.top,h.width-(u.left+u.right),c.height,0,{class:p},!0,"center","center"),h.y+=c.height,h.height-=c.height}if(t.description&&0<t.description.length){var m=t.toThemeProperty("jqx-chart-title-description",null);c=i.measureText(t.description,0,{class:m}),i.text(t.description,h.x+u.left,h.y+u.top,h.width-(u.left+u.right),c.height,0,{class:m},!0,"center","center"),h.y+=c.height,h.height-=c.height}(t.title||t.description)&&(h.y+=u.bottom+u.top,h.height-=u.bottom+u.top);var f={x:h.x,y:h.y,width:h.width,height:h.height};t._plotRect=f,t._buildStats(f);for(var g,v=t._isPieOnlySeries(),x=t.seriesGroups,w={xAxis:{},valueAxis:{}},y=0;y<x.length&&!v;y++)if("pie"!=x[y].type&&"donut"!=x[y].type){if(!(X=t._getXAxis(y)))throw"seriesGroup["+y+"] is missing xAxis definition";var b=X==t._getXAxis()?-1:y;w.xAxis[b]=0}var _=t.axisPadding;isNaN(_)&&(_=5);var j={left:0,right:0,leftCount:0,rightCount:0},q=[];for(y=0;y<x.length;y++){if("pie"!=(W=x[y]).type&&"donut"!=W.type&&1!=W.spider&&1!=W.polar){g="horizontal"==W.orientation;b=(X=t._getXAxis(y))==t._getXAxis()?-1:y;var T=(A=t._getValueAxis(y))==t._getValueAxis()?-1:y,C=g?X.axisSize:A.axisSize,S={x:0,y:f.y,width:f.width,height:f.height},k=g?t._getXAxis(y).position:A.position;C&&"auto"!=C||(g?(C=this._renderXAxis(y,S,!0,f).width,1==(1&w.xAxis[b])?C=0:0<C&&(w.xAxis[b]|=1)):(C=t._renderValueAxis(y,S,!0,f).width,1==(1&w.valueAxis[T])?C=0:0<C&&(w.valueAxis[T]|=1))),"left"!=k&&1==t.rtl&&(k="right"),"right"!=k&&(k="left"),0<j[k+"Count"]&&0<j[k]&&0<C&&(j[k]+=_),q.push({width:C,position:k,xRel:j[k]}),j[k]+=C,j[k+"Count"]++}else q.push({width:0,position:0,xRel:0})}var I=Math.max(1,Math.max(e.width,e.height)),D={top:0,bottom:0,topCount:0,bottomCount:0},P=[];for(y=0;y<x.length;y++){if("pie"!=(W=x[y]).type&&"donut"!=W.type&&1!=W.spider&&1!=W.polar){g="horizontal"==W.orientation;T=(A=this._getValueAxis(y))==t._getValueAxis()?-1:y,b=(X=t._getXAxis(y))==t._getXAxis()?-1:y;var A,M=g?A.axisSize:X.axisSize;k=g?A.position:X.position;M&&"auto"!=M||(g?(M=t._renderValueAxis(y,{x:0,y:0,width:I,height:0},!0,f).height,2==(2&w.valueAxis[T])?M=0:0<M&&(w.valueAxis[T]|=2)):(M=t._renderXAxis(y,{x:0,y:0,width:I,height:0},!0).height,2==(2&w.xAxis[b])?M=0:0<M&&(w.xAxis[b]|=2))),"top"!=k&&(k="bottom"),0<D[k+"Count"]&&0<D[k]&&0<M&&(D[k]+=_),P.push({height:M,position:k,yRel:D[k]}),D[k]+=M,D[k+"Count"]++}else P.push({height:0,position:0,yRel:0})}t._createAnimationGroup("series");var B=0!=t.showLegend,H=B?t._renderLegend(t.legendLayout?t._rect:h,!0):{width:0,height:0};if(!this.legendLayout||isNaN(this.legendLayout.left)&&isNaN(this.legendLayout.top)||(H={width:0,height:0}),h.height<D.top+D.bottom+H.height||h.width<j.left+j.right)i.endGroup();else{f.height-=D.top+D.bottom+H.height,f.x+=j.left,f.width-=j.left+j.right,f.y+=D.top;var z=[];if(!v){t._getXAxis().tickMarksColor||t._defaultLineColor;for(y=0;y<x.length;y++){if(1!=(W=x[y]).polar&&1!=W.spider&&"pie"!=W.type&&"donut"!=W.type){g="horizontal"==W.orientation;b=t._getXAxis(y)==t._getXAxis()?-1:y,T=t._getValueAxis(y)==t._getValueAxis()?-1:y,S={x:f.x,y:0,width:f.width,height:P[y].height};if("top"!=P[y].position?S.y=f.y+f.height+P[y].yRel:S.y=f.y-P[y].yRel-P[y].height,g){if(4==(4&w.valueAxis[T]))continue;if(!t._isGroupVisible(y))continue;t._renderValueAxis(y,S,!1,f),w.valueAxis[T]|=4}else{if(z.push(S),4==(4&w.xAxis[b]))continue;if(!t._isGroupVisible(y))continue;t._renderXAxis(y,S,!1,f),w.xAxis[b]|=4}}}}if(B){var E=t.legendLayout?t._rect:h,O=h.x+me.jqx._ptrnd((h.width-H.width)/2),N=f.y+f.height+D.bottom;C=h.width,M=H.height;t.legendLayout&&(isNaN(t.legendLayout.left)||(O=t.legendLayout.left),isNaN(t.legendLayout.top)||(N=t.legendLayout.top),isNaN(t.legendLayout.width)||(C=t.legendLayout.width),isNaN(t.legendLayout.height)||(M=t.legendLayout.height)),O+C>E.x+E.width&&(C=E.x+E.width-O),N+M>E.y+E.height&&(M=E.y+E.height-N),t._renderLegend({x:O,y:N,width:C,height:M})}if(t._hasHorizontalLines=!1,!v)for(y=0;y<x.length;y++){if(1!=(W=x[y]).polar&&1!=W.spider&&"pie"!=W.type&&"donut"!=W.type){g="horizontal"==x[y].orientation;S={x:f.x-q[y].xRel-q[y].width,y:f.y,width:q[y].width,height:f.height};"left"!=q[y].position&&(S.x=f.x+f.width+q[y].xRel);b=t._getXAxis(y)==t._getXAxis()?-1:y,T=t._getValueAxis(y)==t._getValueAxis()?-1:y;if(g){if(z.push(S),8==(8&w.xAxis[b]))continue;if(!t._isGroupVisible(y))continue;t._renderXAxis(y,S,!1,f),w.xAxis[b]|=8}else{if(8==(8&w.valueAxis[T]))continue;if(!t._isGroupVisible(y))continue;t._renderValueAxis(y,S,!1,f),w.valueAxis[T]|=8}}}if(!(f.width<=0||f.height<=0)){for(t._plotRect={x:f.x,y:f.y,width:f.width,height:f.height},y=0;y<x.length;y++)this._drawPlotAreaLines(y,!0,{gridLines:!1,tickMarks:!1,alternatingBackground:!0}),this._drawPlotAreaLines(y,!1,{gridLines:!1,tickMarks:!1,alternatingBackground:!0});for(y=0;y<x.length;y++)this._drawPlotAreaLines(y,!0,{gridLines:!0,tickMarks:!0,alternatingBackground:!1}),this._drawPlotAreaLines(y,!1,{gridLines:!0,tickMarks:!0,alternatingBackground:!1});var L=!1;for(y=0;y<x.length&&!L;y++){if(void 0!==(W=x[y]).annotations||me.isFunction(W.draw)||me.isFunction(W.drawBefore)){L=!0;break}}var R=i.beginGroup();if(!L){var F=i.createClipRect({x:f.x-2,y:f.y,width:f.width+4,height:f.height});i.setClip(R,F)}for(y=0;y<x.length;y++){var W=x[y],V=!1;for(var G in t._seriesTypes)if(t._seriesTypes[G]==W.type){V=!0;break}if(!V)throw'Invalid serie type "'+W.type+'"';me.isFunction(W.drawBefore)&&W.drawBefore(i,e,y,this),1!=W.polar&&1!=W.spider||-1==W.type.indexOf("pie")&&-1==W.type.indexOf("donut")&&t._renderSpiderAxis(y,f),t._renderAxisBands(y,f,!0),t._renderAxisBands(y,f,!1)}for(y=0;y<x.length;y++){W=x[y];if(t._isColumnType(W.type)?t._renderColumnSeries(y,f):-1!=W.type.indexOf("pie")||-1!=W.type.indexOf("donut")?t._renderPieSeries(y,f):-1!=W.type.indexOf("line")||-1!=W.type.indexOf("area")?t._renderLineSeries(y,f):-1!=W.type.indexOf("scatter")||-1!=W.type.indexOf("bubble")?t._renderScatterSeries(y,f):-1==W.type.indexOf("candlestick")&&-1==W.type.indexOf("ohlc")||t._renderCandleStickSeries(y,f,-1!=W.type.indexOf("ohlc")),W.annotations){if(!this._moduleAnnotations)throw"Please include 'jqxchart.annotations.js'";for(var U=0;U<W.annotations.length;U++)t._renderAnnotation(y,W.annotations[U],f)}me.isFunction(W.draw)&&t.draw(i,e,y,this)}if(i.endGroup(),0==t.enabled){var Y=i.rect(e.x,e.y,e.width,e.height);i.attr(Y,{fill:"#777777",opacity:.5,stroke:"#00FFFFFF"})}me.isFunction(t.draw)&&t.draw(i,e),i.endGroup(),t._startAnimation("series"),t._credits&&t._credits();var K=!1;for(y=0;y<t.seriesGroups.length&&!K;y++){var X;(X=t._getXAxis(y))&&X.rangeSelector&&(K=!0)}if(K){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";var $=[];for(this._isSelectorRefresh||(t.removeHandler(me(document),t._getEvent("mousemove"),t._onSliderMouseMove),t.removeHandler(me(document),t._getEvent("mousedown"),t._onSliderMouseDown),t.removeHandler(me(document),t._getEvent("mouseup"),t._onSliderMouseUp)),t._isSelectorRefresh||(t._rangeSelectorInstances={}),y=0;y<t.seriesGroups.length;y++){var Z=this._getXAxis(y);-1==$.indexOf(Z)&&this._renderXAxisRangeSelector(y,z[y])&&$.push(Z)}}}}},_credits:function(){var e=this,t=String.fromCharCode("");if(!e._isRangeSelectorInstance&&-1==location.hostname.indexOf(t.substring(4))){var i=e.renderer,s=e._rect,r={class:e.toThemeProperty("jqx-chart-legend-text",null),opacity:.5},n=i.measureText(t,0,r),o=i.text(t,s.x+s.width-n.width-5,s.y+s.height-n.height-5,n.width,n.height,0,r);me(o).on("click",function(){location.href="http://"+t+"/?ref="+e.widgetName})}},_isPieOnlySeries:function(){var e=this.seriesGroups;if(0==e.length)return!1;for(var t=0;t<e.length;t++)if("pie"!=e[t].type&&"donut"!=e[t].type)return!1;return!0},_renderChartLegend:function(e,t,i,s){var r=this,n=r.renderer,o={x:t.x,y:t.y,width:t.width,height:t.height};6<=o.width&&(o.x+=3,o.width-=6),6<=o.height&&(o.y+=3,o.height-=6);for(var a={width:o.width,height:0},l=0,d=0,h=20,c=0,u=0,p=0;p<e.length;p++){var m=e[p].css;m||(m=r.toThemeProperty("jqx-chart-legend-text",null)),h=20;var f=e[p].text,g=n.measureText(f,0,{class:m});g.height>h&&(h=g.height),g.width>u&&(u=g.width),s?(0!=p&&(d+=h),d>o.height&&(d=0,l+=u+20+10,u=g.width,a.width=l+u)):(0!=l&&(l+=10),l+20+g.width>o.width&&g.width<o.width&&(l=0,d+=h,h=20,c=o.width,a.height=d+h));var v=!1;if(g.width>o.width){v=!0;for(var x=o.width,w=(E=f).split(/\s+/),y=[],b="",_=0;_<w.length;_++){var j=b+(0<b.length?" ":"")+w[_];(S=r.renderer.measureText(j,0,{class:m})).width>x&&0<j.length&&0<b.length?(y.push({text:b}),b=w[_]):b=j,_+1==w.length&&y.push({text:b})}for(var q=g.width=0,T=0;T<y.length;T++){var C=y[T].text,S=r.renderer.measureText(C,0,{class:m});g.width=Math.max(g.width,S.width),q+=g.height}g.height=q}var k=l+g.width<o.width&&d+g.height<t.height;if(r.legendLayout)k=o.x+l+g.width<r._rect.x+r._rect.width&&o.y+d+g.height<r._rect.y+r._rect.height;if(!i&&k){var I=e[p].seriesIndex,D=e[p].groupIndex,P=e[p].itemIndex,A=e[p].fillColor,M=e[p].lineColor,B=r._isSerieVisible(D,I,P),H=n.beginGroup(),z=B?e[p].opacity:.1;if(v){var E=f,O=(x=o.width,w=E.split(/\s+/),0);for(y=[],b="",_=0;_<w.length;_++){j=b+(0<b.length?" ":"")+w[_];(S=r.renderer.measureText(j,0,{class:m})).width>x&&0<j.length&&0<b.length?(y.push({text:b,dy:O}),O+=S.height,b=w[_]):b=j,_+1==w.length&&y.push({text:b,dy:O})}for(T=0;T<y.length;T++){C=y[T].text;O=y[T].dy;S=r.renderer.measureText(C,0,{class:m});s?r.renderer.text(C,o.x+l+15,o.y+d+O,g.width,h,0,{class:m},!1,"left","center"):r.renderer.text(C,o.x+l+15,o.y+d+O,g.width,h,0,{class:m},!1,"center","center")}var N=n.rect(o.x+l,o.y+d+5+O/2,10,10);s&&(d+=O),r.renderer.attr(N,{fill:A,"fill-opacity":z,stroke:M,"stroke-width":1,"stroke-opacity":e[p].opacity})}else{N=n.rect(o.x+l,o.y+d+5,10,10);r.renderer.attr(N,{fill:A,"fill-opacity":z,stroke:M,"stroke-width":1,"stroke-opacity":e[p].opacity}),s?r.renderer.text(f,o.x+l+15,o.y+d,g.width,g.height+5,0,{class:m},!1,"left","center"):r.renderer.text(f,o.x+l+15,o.y+d,g.width,h,0,{class:m},!1,"center","center")}r.renderer.endGroup(),r._setLegendToggleHandler(D,I,P,H)}s||c<(l+=g.width+20)&&(c=l)}if(i)return a.height=me.jqx._ptrnd(d+h+5),a.width=me.jqx._ptrnd(c),a},isSerieVisible:function(e,t,i){return this._isSerieVisible(e,t,i)},_isSerieVisible:function(e,t,i){for(;this._itemsToggleState.length<e+1;)this._itemsToggleState.push([]);for(var s=this._itemsToggleState[e];s.length<t+1;)s.push(!!isNaN(i)||[]);var r=s[t];if(isNaN(i))return r;for(me.isArray(r)||(s[t]=r=[]);r.length<i+1;)r.push(!0);return r[i]},isGroupVisible:function(e){return this._isGroupVisible(e)},_isGroupVisible:function(e){var t=!1,i=this.seriesGroups[e].series;if(!i)return t;for(var s=0;s<i.length;s++)if(this._isSerieVisible(e,s)){t=!0;break}return t},_toggleSerie:function(e,t,i,s){var r=!this._isSerieVisible(e,t,i);null!=s&&(r=s);var n=this.seriesGroups[e],o=n.series[t];if(this._raiseEvent("toggle",{state:r,seriesGroup:n,serie:o,elementIndex:i}),isNaN(i))this._itemsToggleState[e][t]=r;else{var a=this._itemsToggleState[e][t];for(me.isArray(a)||(a=[]);a.length<i;)a.push(!0);a[i]=r}this._isToggleRefresh=!0,this.update(),this._isToggleRefresh=!1},showSerie:function(e,t,i){this._toggleSerie(e,t,i,!0)},hideSerie:function(e,t,i){this._toggleSerie(e,t,i,!1)},_setLegendToggleHandler:function(t,i,s,e){var r=this.seriesGroups[t],n=r.series[i].enableSeriesToggle;if(null==n&&(n=0!=r.enableSeriesToggle),n){var o=this;this.renderer.addHandler(e,"click",function(e){o._toggleSerie(t,i,s)})}},_renderLegend:function(e,t){for(var i=this,s=[],r=0;r<i.seriesGroups.length;r++){var n=i.seriesGroups[r];if(0!=n.showLegend)for(var o=0;o<n.series.length;o++){var a=n.series[o];if(0!=a.showLegend){var l,d=i._getSerieSettings(r,o);if("pie"!=n.type&&"donut"!=n.type){p=a.legendFormatSettings||n.legendFormatSettings,m=a.legendFormatFunction||n.legendFormatFunction;l=i._formatValue(a.displayText||a.dataField||"",p,m,r,o,NaN);v=i._getSeriesColors(r,o);var h=this._get([a.legendFillColor,a.legendColor,v.fillColor]),c=this._get([a.legendLineColor,a.legendColor,v.lineColor]);s.push({groupIndex:r,seriesIndex:o,text:l,css:a.displayTextClass,fillColor:h,lineColor:c,opacity:d.opacity})}else for(var u=i._getXAxis(r),p=a.legendFormatSettings||n.legendFormatSettings||u.formatSettings||a.formatSettings||n.formatSettings,m=a.legendFormatFunction||n.legendFormatFunction||u.formatFunction||a.formatFunction||n.formatFunction,f=i._getDataLen(r),g=0;g<f;g++){l=i._getDataValue(g,a.displayText,r),l=i._formatValue(l,p,m,r,o,g);var v=i._getColors(r,o,g);s.push({groupIndex:r,seriesIndex:o,itemIndex:g,text:l,css:a.displayTextClass,fillColor:v.fillColor,lineColor:v.lineColor,opacity:d.opacity})}}}}return i._renderChartLegend(s,e,t,i.legendLayout&&"vertical"==i.legendLayout.flow)},_getInterval:function(e,t){if(!e)return t;var i=this._get([e.unitInterval,t]);return isNaN(e.step)||(i=e.step*t),i},_getOffsets:function(e,t,i,s,r,n,o,a,l){var d,h=this._getInterval(r[e],a),c=[];if((""==e||r[e].visible&&"custom"!=r[e].visible)&&(c=this._generateIntervalValues(s,h,a,o,l)),"labels"!=e){var u=o?n.left:0;if(!o&&1<a&&(u=n.left*(a+1)),1==c.length&&(u*=2),d=this._valuesToOffsets(c,t,s,i,n,!1,u),!o){var p=(n.left+n.right)*h/a;t.flip?d.unshift(d[0]+p):d.push(d[d.length-1]+p)}}else{u=n.left;1==c.length&&(u*=2),d=this._valuesToOffsets(c,t,s,i,n,o,u)}var m=this._arraysToObjectsArray([c,d],["value","offset"]);if(t[e]&&t[e].custom)for(var f=this._objectsArraysToArray(t[e].custom,"value"),g=this._objectsArraysToArray(t[e].custom,"offset"),v=this._valuesToOffsets(f,t,s,i,n,o,n.left),x=0;x<t[e].custom.length;x++)m.push({value:f[x],offset:isNaN(g[x])?v[x]:g[x]});return m},_renderXAxis:function(e,t,i,s){var r=this,n=r._getXAxis(e),o=r.seriesGroups[e],a="horizontal"==o.orientation,l={width:0,height:0},d=r._getAxisSettings(n);if(!n||!d.visible||"spider"==o.type)return l;if(!r._isGroupVisible(e)||this._isPieGroup(e))return l;for(var h=r._alignValuesWithTicks(e);r._renderData.length<e+1;)r._renderData.push({});r.rtl&&(n.flip=!0);var c=a?t.height:t.width,u=n.text,p=r._calculateXOffsets(e,c),m=p.axisStats,f=n.rangeSelector,g=0;if(f){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";g=this._selectorGetSize(n)}var v=a&&"right"==n.position||!a&&"top"==n.position;!i&&f&&(a?(t.width-=g,"right"!=n.position&&(t.x+=g)):(t.height-=g,"top"==n.position&&(t.y+=g)));var x={rangeLength:p.rangeLength,itemWidth:p.itemWidth,intervalWidth:p.intervalWidth,data:p,settings:d,isMirror:v,rect:t};r._renderData[e].xAxis=x;var w=m.interval;if(isNaN(w))return l;a&&(d.title.angle-=90,d.labels.angle-=90);var y,b=this._getInterval(d.gridLines,w),_=this._getInterval(d.tickMarks,w),j=this._getInterval(d.labels,w),q=m.min,T=m.max,C=p.padding,S=1==n.flip||r.rtl,k={min:q,max:T};m.logAxis.enabled&&(k.min=m.logAxis.minPow,k.max=m.logAxis.maxPow),"date"==n.type?(d.gridLines.offsets=this._generateDTOffsets(q,T,c,C,b,w,m.dateTimeUnit,h,NaN,!1,S),d.tickMarks.offsets=this._generateDTOffsets(q,T,c,C,_,w,m.dateTimeUnit,h,NaN,!1,S),y=this._generateDTOffsets(q,T,c,C,j,w,m.dateTimeUnit,h,NaN,!0,S)):(d.gridLines.offsets=this._getOffsets("gridLines",n,c,m,d,C,h,w),d.tickMarks.offsets=this._getOffsets("tickMarks",n,c,m,d,C,h,w),y=this._getOffsets("labels",n,c,m,d,C,h,w));var I;r.renderer.getRect().width,t.x,t.width,r._getDataLen(e);r._elementRenderInfo&&r._elementRenderInfo.length>e&&(I=r._elementRenderInfo[e].xAxis);var D,P,A=[];d.labels.formatFunction&&(D=d.labels.formatFunction),d.labels.formatSettings&&(P=me.extend({},d.labels.formatSettings)),"date"==n.type&&(n.dateFormat&&!D?P?P.dateFormat=P.dateFormat||n.dateFormat:P={dateFormat:n.dateFormat}:D||P&&(!P||P.dateFormat)||(D=this._getDefaultDTFormatFn(n.baseUnit||"day")));for(var M=0;M<y.length;M++){var B=y[M].value,H=y[M].offset;if(!isNaN(H)){var z=void 0;"date"!=n.type&&m.useIndeces&&n.dataField&&(z=Math.round(B),null==(B=r._getDataValue(z,n.dataField))&&(B="")),null!=(u=r._formatValue(B,P,D,e,void 0,z))&&""!=u.toString()||(isNaN(z)&&(z=M),z>=m.filterRange.min&&z<=m.filterRange.max&&(u=m.useIndeces?(m.min+z).toString():null==B?"":B.toString()));var E={key:B,text:u,targetX:H,x:H};I&&I.itemOffsets[B]&&(E.x=I.itemOffsets[B].x,E.y=I.itemOffsets[B].y),A.push(E)}}var O=r._getAnimProps(e),N=O.enabled&&A.length<500?O.duration:0;0==r.enableAxisTextAnimation&&(N=0);var L={items:A,renderData:x},R=r._renderAxis(a,v,d,{x:t.x,y:t.y,width:t.width,height:t.height},s,w,!1,!0,L,i,N);return a?R.width+=g:R.height+=g,R},_animateAxisText:function(e,t){for(var i=e.items,s=e.textSettings,r=0;r<i.length;r++){var n=i[r];if(n&&n.visible){var o=n.targetX,a=n.targetY;isNaN(n.x)||isNaN(n.y)||(o=n.x+(o-n.x)*t,a=n.y+(a-n.y)*t),n.element&&(this.renderer.removeElement(n.element),n.element=void 0),n.element=this.renderer.text(n.text,o,a,n.width,n.height,s.angle,{class:s.style},!1,s.halign,s.valign,s.textRotationPoint)}}},_getPolarAxisCoords:function(e,t){var i=this.seriesGroups[e],s=t.x+me.jqx.getNum([i.offsetX,t.width/2]),r=t.y+me.jqx.getNum([i.offsetY,t.height/2]),n=Math.min(t.width,t.height),o=i.radius;this._isPercent(o)&&(o=parseFloat(o)/100*n/2),isNaN(o)&&(o=n/2*.6);var a=this._alignValuesWithTicks(e),l=this._get([i.startAngle,i.minAngle,0])-90;l=isNaN(l)?0:2*Math.PI*l/360;var d=this._get([i.endAngle,i.maxAngle,360])-90;if((d=isNaN(d)?2*Math.PI:2*Math.PI*d/360)<l){var h=l;l=d,d=h}var c=me.jqx._rnd(Math.abs(l-d)/(2*Math.PI),.001,!0),u=2*Math.PI*o*c,p=this._calcGroupOffsets(e,t).xoffsets;if(p){var m=!(1e-5<Math.abs(Math.abs(d-l)-2*Math.PI));if(i.spider){axisStats=this._getXAxisStats(e,this._getXAxis(e),u);var f=axisStats.interval;(isNaN(f)||0==f)&&(f=1);var g=(axisStats.max-axisStats.min)/f+(m?1:0);if(2<(g=Math.round(g))){var v=Math.cos(Math.abs(d-l)/2/g);0==(v=me.jqx._rnd(v,.01))&&(v=1);var x=o/v;o<x&&a&&(o=x)}}return{x:s,y:r,r:o=me.jqx._ptrnd(o),adjR:this._get([x,o]),itemWidth:p.itemWidth,rangeLength:p.rangeLength,valuesOnTicks:a,startAngle:l,endAngle:d,isClosedCircle:m,axisSize:u}}},_toPolarCoord:function(e,t,i,s){var r=Math.abs(e.startAngle-e.endAngle)/(2*Math.PI),n=2*(i-t.x)*Math.PI*r/Math.max(1,t.width)+e.startAngle,o=(t.height+t.y-s)*e.r/Math.max(1,t.height),a=e.x+o*Math.cos(n),l=e.y+o*Math.sin(n);return{x:me.jqx._ptrnd(a),y:me.jqx._ptrnd(l)}},_renderSpiderAxis:function(e,t){var i=this,s=i._getXAxis(e),r=this._getAxisSettings(s);if(s&&r.visible){var n=i.seriesGroups[e],o=i._getPolarAxisCoords(e,t);if(o){var a=me.jqx._ptrnd(o.x),l=me.jqx._ptrnd(o.y),d=o.adjR,h=o.startAngle,c=o.endAngle;if(!(d<1)){var u=me.jqx._rnd(Math.abs(h-c)/(2*Math.PI),.001,!0),p=2*Math.PI*d*u,m=o.isClosedCircle,f=this._renderData[e].xoffsets;if(f.rangeLength){var g=f.axisStats.interval;(isNaN(g)||g<1)&&(g=1);var v="horizontal"==n.orientation;for(v&&"right"==s.position||!v&&s.position;i._renderData.length<e+1;)i._renderData.push({});var x={rangeLength:f.rangeLength,itemWidth:f.itemWidth,data:f,rect:t,settings:r};i._renderData[e].xAxis=x,i._renderData[e].polarCoords=o;for(var w=!0,y=0;y<e;y++){i._renderData[y].xAxis;var b=i._renderData[y].polarCoords,_=i._getXAxis(y),j=!1;for(var q in o)if(o[q]!=b[q]){j=!0;break}j&&_==s||(w=!1)}var T,C=r.gridLines,S=r.tickMarks,k=r.labels,I=this._getInterval(C,g),D=this._getInterval(S,g),P=this._getInterval(k,g),A=i._alignValuesWithTicks(e),M=i.renderer,B=f.axisStats,H=B.min,z=B.max,E=this._getPaddingSize(f.axisStats,s,A,p,!0,m,!1),O=1==s.flip||i.rtl;"date"==s.type?(C.offsets=this._generateDTOffsets(H,z,p,E,I,g,s.baseUnit,!0,0,!1,O),S.offsets=this._generateDTOffsets(H,z,p,E,D,g,s.baseUnit,!0,0,!1,O),T=this._generateDTOffsets(H,z,p,E,P,g,s.baseUnit,!0,0,!0,O)):(r.gridLines.offsets=this._getOffsets("gridLines",s,p,B,r,E,!0,g),r.tickMarks.offsets=this._getOffsets("tickMarks",s,p,B,r,E,!0,g),T=this._getOffsets("labels",s,p,B,r,E,!0,g));var N;i.renderer.getRect().width,t.x,t.width,i._getDataLen(e);i._elementRenderInfo&&i._elementRenderInfo.length>e&&(N=i._elementRenderInfo[e].xAxis);var L=[],R=this._getDataLen(e);for(y=0;y<T.length;y++){var F=T[y].offset,W=T[y].value;if("date"!=s.type&&B.useIndeces&&s.dataField){var V=Math.round(W);if(R<=V)continue;null==(W=i._getDataValue(V,s.dataField))&&(W="")}var G=i._formatValue(W,k.formatSettings,k.formatFunction,e,void 0,V);null!=G&&""!=G.toString()||(G=B.useIndeces?(B.min+y).toString():null==W?"":W.toString());var U={key:W,text:G,targetX:F,x:F};N&&N.itemOffsets[W]&&(U.x=N.itemOffsets[W].x,U.y=N.itemOffsets[W].y),L.push(U)}var Y={stroke:C.color,fill:"none","stroke-width":C.width,"stroke-dasharray":C.dashStyle||""};if(!n.spider)if(1==u)M.circle(a,l,d,Y);else{var K=-h/Math.PI*180,X=-c/Math.PI*180;this.renderer.pieslice(a,l,0,d,Math.min(K,X),Math.max(K,X),void 0,Y)}var $=L.length,Z=(Math.PI,h);if(C.visible&&w){A||m||C.offsets.unshift({offset:-E.right});for(y=0;y<C.offsets.length;y++){var J=C.offsets[y].offset;if(A||(J+=m?E.right/2:E.right),!(.01<(ae=Z+2*J*Math.PI*u/Math.max(1,p))-c)){var Q=me.jqx._ptrnd(a+d*Math.cos(ae)),ee=me.jqx._ptrnd(l+d*Math.sin(ae));M.line(a,l,Q,ee,Y)}}}if(S.visible&&w){var te={stroke:S.color,fill:"none","stroke-width":S.width,"stroke-dasharray":S.dashStyle||""};A||m||S.offsets.unshift({offset:-E.right});for(y=0;y<S.offsets.length;y++){J=S.offsets[y].offset;if(A||(J+=m?E.right/2:E.right),!(.01<(ae=Z+2*J*Math.PI*u/Math.max(1,p))-c)){var ie={x:a+d*Math.cos(ae),y:l+d*Math.sin(ae)},se={x:a+(d+5)*Math.cos(ae),y:l+(d+5)*Math.sin(ae)};M.line(me.jqx._ptrnd(ie.x),me.jqx._ptrnd(ie.y),me.jqx._ptrnd(se.x),me.jqx._ptrnd(se.y),te)}}}var re=[];if(n.spider){var ne=[];ne="date"==s.type?this._generateDTOffsets(H,z,p,E,g,g,s.baseUnit,!0,0,!1,O):this._getOffsets("",s,p,B,r,E,!0,g),A||m||ne.unshift({offset:-E.right});for(y=0;y<ne.length;y++){J=ne[y].offset;A||(J+=m?E.right/2:E.right),.01<(ae=Z+2*J*Math.PI*u/Math.max(1,p))-c||re.push(ae)}x.offsetAngles=re}var oe=i._renderSpiderValueAxis(e,t,A?o.adjR:o.r,re);if(oe||(oe=[]),n.spider){if(!A)for(y=0;y<oe.length;y++)oe[y]=oe[y]*o.adjR/o.r;oe.push(d),this._renderSpiderLines(a,l,oe,o,re,Y)}if(w&&k.visible){x.polarLabels=[];for(y=0;y<L.length;y++){var ae;(ae=(360-(ae=Z+2*(J=L[y].x)*Math.PI*u/Math.max(1,p))/(2*Math.PI)*360)%360)<0&&(ae=360+ae);var le,de=M.measureText(L[y].text,0,{class:r.labels.style}),he=(A?o.adjR:o.r)+(S.visible?7:2),ce=r.labels;if(ce.autoRotate){var ue=me.jqx._ptRotate(a-de.width/2,l-he-de.height,a,l,-ae/180*Math.PI),pe=me.jqx._ptRotate(a+de.width/2,l-he,a,l,-ae/180*Math.PI);de.width=Math.abs(ue.x-pe.x),de.height=Math.abs(ue.y-pe.y),le={x:Math.min(ue.x,pe.x),y:Math.min(ue.y,pe.y)}}else le=this._adjustTextBoxPosition(a,l,de,he,ae,!1,!1,!1);x.polarLabels.push({x:le.x,y:le.y,value:L[y].text}),M.text(L[y].text,le.x,le.y,de.width,de.height,ce.autoRotate?90-ae:ce.angle,{class:ce.style},!1,ce.halign,ce.valign)}}}}}}},_renderSpiderLines:function(e,t,i,s,r,n){for(var o=this.renderer,a=(s.startAngle,s.endAngle,s.isClosedCircle),l=0;l<i.length;l++){for(var d=i[l],h=void 0,c=void 0,u=0;u<r.length;u++){var p=r[u],m=me.jqx._ptrnd(e+d*Math.cos(p)),f=me.jqx._ptrnd(t+d*Math.sin(p));h&&o.line(h.x,h.y,m,f,n),h={x:m,y:f},c||(c={x:m,y:f})}c&&a&&o.line(h.x,h.y,c.x,c.y,n)}},_renderSpiderValueAxis:function(e,t,i,s){var r=this.seriesGroups[e],n=this._getPolarAxisCoords(e,t);if(n){var o=me.jqx._ptrnd(n.x),a=me.jqx._ptrnd(n.y);i=i||n.r;var l=n.startAngle,d=n.endAngle,h=me.jqx._rnd(Math.abs(l-d)/(2*Math.PI),.001,!0);if(!(i<1)){i=me.jqx._ptrnd(i);var c=this._getValueAxis(e);if(settings=this._getAxisSettings(c),c&&0!=settings.visible){var u=this._stats.seriesGroups[e].mu,p=settings.labels,m=p.formatSettings;-1!=r.type.indexOf("stacked")&&-1!=r.type.indexOf("100")&&!m&&(m={sufix:"%"});var f=this._get([p.step,p.unitInterval/u]);isNaN(f)&&(f=1),f=Math.max(1,Math.round(f)),this._calcValueAxisItems(e,i,f);var g=settings.gridLines,v=settings.tickMarks,x=(this._getInterval(g,u),this._getInterval(v,u),settings.labels),w={stroke:g.color,fill:"none","stroke-width":1,"stroke-dasharray":g.dashStyle||""},y=this._renderData[e].valueAxis,b=y.items,_=l;if(b.length&&settings.line.visible){isNaN(settings.line.angle)||(_=2*Math.PI*settings.line.angle/360);var j=o+Math.cos(_)*i,q=a+Math.sin(_)*i;if(-1==s.indexOf(_)){var T=me.extend({},w);T["stroke-width"]=settings.line.lineWidth,T.stroke=settings.line.color,T["stroke-dasharray"]=settings.line.dashStyle,this.renderer.line(o,a,j,q,T)}}b=b.reverse();var C=this.renderer;y.polarLabels=[];for(var S=0;S<b.length-1;S++){var k=b[S];if(!isNaN(k)){var I=x.formatFunction?x.formatFunction(k):this._formatNumber(k,m),D=C.measureText(I,0,{class:x.style}),P=o+(0!=c.showTickMarks?3:2),A=a-y.itemWidth*S-D.height/2,M=me.jqx._ptRotate(P,A,o,a,_),B=me.jqx._ptRotate(P+D.width,A+D.height,o,a,_);P=Math.min(M.x,B.x),A=Math.min(M.y,B.y),D.width=Math.abs(M.x-B.x),D.height=Math.abs(M.y-B.y),P+=settings.labels.textOffset.x,A+=settings.labels.textOffset.y,y.polarLabels.push({x:P,y:A,value:I}),C.text(I,P,A,D.width,D.height,x.autoRotate?90+180*l/Math.PI:x.angle,{class:x.style},!1,x.halign,x.valign)}}var H=1==c.logarithmicScale?b.length:y.rangeLength;aIncrement=2*Math.PI/H;var z=0!=c.valuesOnTicks,E=this._stats.seriesGroups[e],O=E.mu,N=1==c.logarithmicScale;c.logarithmicScaleBase;N&&(O=1);var L={min:E.min,max:E.max,logAxis:{enabled:1==N,base:c.logarithmicScaleBase,minPow:E.minPow,maxPow:E.maxPow}};(g.visible||r.spider||c.alternatingBackgroundColor||c.alternatingBackgroundColor2)&&(g.offsets=this._getOffsets("gridLines",c,i,L,settings,{left:0,right:0},z,O));var R=[];if(g.visible||r.spider)for(w={stroke:g.color,fill:"none","stroke-width":1,"stroke-dasharray":g.dashStyle||""},S=0;S<g.offsets.length;S++){if((A=me.jqx._ptrnd(g.offsets[S].offset))!=i)if(r.spider)R.push(A);else if(1!=h){var F=-l/Math.PI*180,W=-d/Math.PI*180;this.renderer.pieslice(o,a,0,A,Math.min(F,W),Math.max(F,W),void 0,w)}else C.circle(o,a,A,w)}if(c.tickMarks&&(c.tickMarks.visible||c.showTickMarks)||(v.visible=!1),v.visible){v.offsets=this._getOffsets("tickMarks",c,i,L,settings,{left:0,right:0},z,O),tickMarkSize=2*v.size;for(w={stroke:v.color,fill:"none","stroke-width":1,"stroke-dasharray":v.dashStyle||""},S=0;S<v.offsets.length;S++){var V=v.offsets[S].offset;M={x:o+V*Math.cos(_)-tickMarkSize/2*Math.sin(_+Math.PI/2),y:a+V*Math.sin(_)-tickMarkSize/2*Math.cos(_+Math.PI/2)},B={x:o+V*Math.cos(_)+tickMarkSize/2*Math.sin(_+Math.PI/2),y:a+V*Math.sin(_)+tickMarkSize/2*Math.cos(_+Math.PI/2)};C.line(me.jqx._ptrnd(M.x),me.jqx._ptrnd(M.y),me.jqx._ptrnd(B.x),me.jqx._ptrnd(B.y),w)}}return R}}}},_renderAxis:function(e,t,i,s,r,n,o,a,l,d,h){if(i.customDraw&&!d)return{width:NaN,height:NaN};var c=i.title,u=i.labels,p=(i.gridLines,i.tickMarks),m=i.padding,f=p.visible?p.size:0,g={width:0,height:0},v={width:0,height:0};e?g.height=v.height=s.height:g.width=v.width=s.width,!d&&t&&e&&(s.x-=s.width);var x=l.renderData,w=x.itemWidth;if(c.visible&&null!=c.text&&""!=c){var y=c.angle,b=this.renderer.measureText(c.text,y,{class:c.style});v.width=b.width,v.height=b.height,d||this.renderer.text(c.text,s.x+c.offset.x+(e?t?-m.right-2+2*s.width-v.width:2+m.left:0),s.y+c.offset.y+(e?0:t?m.top+2:s.height-2-v.height-m.bottom),e?v.width:s.width,e?s.height:v.height,y,{class:c.style},!0,c.halign,c.valign,c.rotationPoint)}var _=0,j=a?-w/2:0;a&&!e&&(u.halign="center");var q=s.x,T=s.y,C=u.textOffset;C&&(isNaN(C.x)||(q+=C.x),isNaN(C.y)||(T+=C.y)),e?(q+=m.left+2+(0<v.width?v.width+2:0)+(t?s.width-v.width:0),T+=j):(q+=j,t?(T+=0<v.height?v.height+6:4,T+=f-(a?f:f/4)):T+=a?f:f/4,T+=m.top);var S=0,k=0,I=l.items;x.itemOffsets={},!this._isToggleRefresh&&this._isUpdate||(h=0);for(var D=!1,P=0,A=0;A<I.length&&u.visible;A++,_+=w)if(I[A]&&!isNaN(w)){var M=I[A].text;if(isNaN(I[A].targetX)||(_=I[A].targetX),(b=this.renderer.measureText(M,u.angle,{class:u.style})).width>k&&(k=b.width),b.height>S&&(S=b.height),P+=e?S:k,!d){if(e&&_>s.height+2||!e&&_>s.width+2)continue;var B=e?q+(t?0==v.width?f:f-2:0):q+_,H=e?T+_:T;x.itemOffsets[I[A].key]={x:B,y:H},D||(!isNaN(I[A].x)||!isNaN(I[A].y)&&h)&&(D=!0),I[A].targetX=B,I[A].targetY=H,I[A].width=e?s.width-m.left-m.right-4-f-(0<v.width?v.width+2:0):w,I[A].height=e?w:s.height-m.top-m.bottom-4-f-(0<v.height?v.height+2:0),I[A].visible=!0}}if(x.avgWidth=0==I.length?0:P/I.length,!d){var z={items:I,textSettings:u};if(!isNaN(h)&&D||(h=0),this._animateAxisText(z,0==h?1:0),0!=h){var E=this;this._enqueueAnimation("series",void 0,void 0,h,function(e,t,i){E._animateAxisText(t,i)},z)}}if(g.width+=4+f+v.width+k+(e&&0<v.width?2:0),g.height+=4+f+v.height+S+(!e&&0<v.height?2:0),e?g.width+=m.left+m.right:g.height+=m.top+m.bottom,!d&&i.line.visible){var O={stroke:i.line.color,"stroke-width":i.line.width,"stroke-dasharray":i.line.dashStyle||""};if(e){B=s.x+s.width+(t?m.left:-m.right);B=me.jqx._ptrnd(B),this.renderer.line(B,s.y,B,s.y+s.height,O)}else{H=me.jqx._ptrnd(s.y+(t?s.height-m.bottom:m.top));this.renderer.line(me.jqx._ptrnd(s.x),H,me.jqx._ptrnd(s.x+s.width+1),H,O)}}return g.width=me.jqx._rup(g.width),g.height=me.jqx._rup(g.height),g},_drawPlotAreaLines:function(e,t,i){var s=this.seriesGroups[e],r="horizontal"!=s.orientation;if(this._renderData&&!(this._renderData.length<=e)){var n=t?"valueAxis":"xAxis",o=this._renderData[e][n];if(o){var a=this._renderData.axisDrawState;a||(a=this._renderData.axisDrawState={});var l,d="";t?(d="valueAxis_"+(s.valueAxis?e:"")+(r?"swap":""),l=this._getValueAxis(e)):(d="xAxis_"+(s.xAxis||s.categoryAxis?e:"")+(r?"swap":""),l=this._getXAxis(e)),a=a[d]?a[d]:a[d]={},t||(r=!r);var h=o.settings;if(h&&!h.customDraw){var c=h.gridLines,u=h.tickMarks,p=h.padding,m=o.rect,f=this._plotRect;if(c&&u){var g={},v={stroke:c.color,"stroke-width":c.width,"stroke-dasharray":c.dashStyle||""},x=t?m.y+m.height:m.x,w=c.offsets;if(t&&!l.flip&&(w=(w=me.extend([],w)).reverse()),w&&0<w.length)for(var y=NaN,b=(w.length,0);b<w.length;b++)if(r?(lineOffset=me.jqx._ptrnd(m.y+w[b].offset),lineOffset<m.y-.5&&(lineOffset=me.jqx._ptrnd(m.y)),lineOffset>m.y+m.height&&(lineOffset=m.y+m.height)):(lineOffset=me.jqx._ptrnd(m.x+w[b].offset),lineOffset>m.x+m.width+.5&&(lineOffset=me.jqx._ptrnd(m.x+m.width))),!isNaN(lineOffset)&&(isNaN(y)||!(Math.abs(lineOffset-y)<2))){if(y=lineOffset,i.gridLines&&0!=c.visible&&1!=a.gridLines&&(r?this.renderer.line(me.jqx._ptrnd(f.x),lineOffset,me.jqx._ptrnd(f.x+f.width),lineOffset,v):this.renderer.line(lineOffset,me.jqx._ptrnd(f.y),lineOffset,me.jqx._ptrnd(f.y+f.height),v)),g[lineOffset]=!0,i.alternatingBackground&&(c.alternatingBackgroundColor||c.alternatingBackgroundColor2)&&1!=a.alternatingBackground){var _,j=b%2==0?c.alternatingBackgroundColor2:c.alternatingBackgroundColor;if(0<b&&j)_=r?this.renderer.rect(me.jqx._ptrnd(f.x),x,me.jqx._ptrnd(f.width-1),lineOffset-x,v):this.renderer.rect(x,me.jqx._ptrnd(f.y),lineOffset-x,me.jqx._ptrnd(f.height),v),this.renderer.attr(_,{"stroke-width":0,fill:j,opacity:c.alternatingBackgroundOpacity||1})}x=lineOffset}v={stroke:u.color,"stroke-width":u.width,"stroke-dasharray":u.dashStyle||""};if(i.tickMarks&&u.visible&&1!=a.tickMarks){var q=u.size;for(w=u.offsets,y=NaN,b=0;b<w.length;b++)if(r?(lineOffset=me.jqx._ptrnd(m.y+w[b].offset),lineOffset<m.y-.5&&(lineOffset=me.jqx._ptrnd(m.y)),lineOffset>m.y+m.height&&(lineOffset=m.y+m.height)):(lineOffset=me.jqx._ptrnd(m.x+w[b].offset),lineOffset>m.x+m.width+.5&&(lineOffset=me.jqx._ptrnd(m.x+m.width))),!isNaN(lineOffset)&&(isNaN(y)||!(Math.abs(lineOffset-y)<2))){if(g[lineOffset-1]?lineOffset--:g[lineOffset+1]&&lineOffset++,r){if(lineOffset>m.y+m.height+.5)break}else if(lineOffset>m.x+m.width+.5)break;y=lineOffset;var T=o.isMirror?q:-q;if(r){var C=m.x+m.width+("right"==l.position?p.left:-p.right);t||(C=m.x+(o.isMirror?p.left:-p.right+m.width)),this.renderer.line(C,lineOffset,C+T,lineOffset,v)}else{var S=m.y+(o.isMirror?m.height:0);S+=o.isMirror?-p.bottom:p.top,S=me.jqx._ptrnd(S),this.renderer.line(lineOffset,S,lineOffset,S-T,v)}}}a.tickMarks=a.tickMarks||i.tickMarks,a.gridLines=a.gridLines||i.gridLines,a.alternatingBackground=a.alternatingBackground||i.alternatingBackground}}}}},_calcValueAxisItems:function(e,t,i){var s=this._stats.seriesGroups[e];if(!s||!s.isValid)return!1;var r=this.seriesGroups[e],n=(r.orientation,this._getValueAxis(e)),o=0!=n.valuesOnTicks,a=(n.dataField,s.intervals),l=t/a,d=s.min,h=s.mu,c=1==n.logarithmicScale,u=n.logarithmicScaleBase||10,p=-1!=r.type.indexOf("stacked")&&-1!=r.type.indexOf("100");for(c&&(h=isNaN(n.unitInterval)?1:n.unitInterval),o||(a=Math.max(a-1,1));this._renderData.length<e+1;)this._renderData.push({});this._renderData[e].valueAxis={};var m=this._renderData[e].valueAxis;m.itemWidth=m.intervalWidth=l,m.items=[];for(var f=m.items,g=0;g<=a;g++){var v=0;v=c?p?s.max/Math.pow(u,a-g):d*Math.pow(u,g):o?d+g*h:d+(g+.5)*h,g%i==0?f.push(v):f.push(NaN)}return m.rangeLength=c&&!p?s.intervals:s.intervals*h,1!=n.flip&&(f=f.reverse()),!0},_getDecimalPlaces:function(e,t,i){var s=0;isNaN(i)&&(i=10);for(var r=0;r<e.length;r++){var n=void 0===t?e[r]:e[r][t];if(!isNaN(n)){for(var o=n.toString(),a=0;a<o.length;a++)if((o[a]<"0"||"9"<o[a])&&0<=(s=o.length-(a+1)))return Math.min(s,i);for(0<s&&(n*=Math.pow(10,s));Math.round(n)!=n&&s<i;)s++,n*=10}}return s},_renderValueAxis:function(e,t,i,s){var r=this.seriesGroups[e],n="horizontal"==r.orientation,o=this._getValueAxis(e);if(!o)throw"SeriesGroup "+e+" is missing valueAxis definition";var a={width:0,height:0};if(!this._isGroupVisible(e)||this._isPieOnlySeries()||"spider"==r.type)return a;var l=0!=o.valuesOnTicks,d=this._stats.seriesGroups[e],h=d.mu,c=1==o.logarithmicScale;o.logarithmicScaleBase;if(c&&(h=isNaN(o.unitInterval)?1:o.unitInterval),0==h&&(h=1),isNaN(h))return a;var u=this._getAxisSettings(o),p=u.title,m=u.labels,f=o.labels||{};this._get([o.horizontalTextAlignment,f.horizontalAlignment])||0!=m.angle||(m.halign=n?"center":"right"==o.position?"left":"right");var g=this._get([m.step,m.unitInterval/h]);if(isNaN(g)&&(g=1),g=Math.max(1,Math.round(g)),!this._calcValueAxisItems(e,n?t.width:t.height,g)||!u.visible)return a;n||(p.angle=this.rtl?90:-90,"centercenter"==p.rotationPoint&&("top"==p.valign?p.rotationPoint="rightcenter":"bottom"==p.valign&&(p.rotationPoint="leftcenter")));var v=this._renderData[e].valueAxis,x=m.formatSettings;-1!=r.type.indexOf("stacked")&&-1!=r.type.indexOf("100")&&!x&&(x={sufix:"%"}),m.formatFunction||x&&x.decimalPlaces||((x=x||{}).decimalPlaces=this._getDecimalPlaces([d.min,d.max,h],void 0,3));var w=u.gridLines,y=(c||this._getInterval(w,h),n?t.width:t.height),b=1==o.flip;o.flip=!b;var _={min:d.min,max:d.max,logAxis:{enabled:1==c,base:o.logarithmicScaleBase,minPow:d.minPow,maxPow:d.maxPow}};(w.visible||o.alternatingBackgroundColor||o.alternatingBackgroundColor2)&&(w.offsets=this._getOffsets("gridLines",o,y,_,u,{left:0,right:0},l,h));var j=u.tickMarks;j.visible&&(j.offsets=this._getOffsets("tickMarks",o,y,_,u,{left:0,right:0},l,h)),labelOffsets=this._getOffsets("labels",o,y,_,u,{left:0,right:0},l,h,!l),o.flip=b;var q,T=[];this._elementRenderInfo&&this._elementRenderInfo.length>e&&(q=this._elementRenderInfo[e].valueAxis);for(var C=0;C<labelOffsets.length;C++){var S=labelOffsets[C].value;if(isNaN(labelOffsets[C].offset))T.push(void 0);else{var k={key:S,text:m.formatFunction?m.formatFunction(S):isNaN(S)?S:this._formatNumber(S,x)};q&&q.itemOffsets[S]&&(k.x=q.itemOffsets[S].x,k.y=q.itemOffsets[S].y),k.targetX=labelOffsets[C].offset,isNaN(k.targetX)||T.push(k)}}var I=n&&"top"==o.position||!n&&"right"==o.position||!n&&this.rtl&&"left"!=o.position,D={items:T,renderData:v},P=this._getAnimProps(e),A=P.enabled&&T.length<500?P.duration:0;return 0==this.enableAxisTextAnimation&&(A=0),v.settings=u,v.isMirror=I,v.rect=t,this._renderAxis(!n,I,u,t,s,h,c,!0,D,i,A)},_objectsArraysToArray:function(e,t){var i=[];if(!me.isArray(e))return i;for(var s=0;s<e.length;s++)i.push(e[s][t]);return i},_arraysToObjectsArray:function(e,t){var i=[];if(e.length!=t.length)return i;for(var s=0;s<e.length;s++)for(var r=0;r<e[s].length;r++)i.length<=r&&i.push({}),i[r][t[s]]=e[s][r];return i},_valuesToOffsets:function(e,t,i,s,r,n,o){var a=[];if(!t||!me.isArray(e))return a;var l,d=i.logAxis.base,h=i.logAxis.enabled?"logarithmic":"linear",c=t.flip,u=0,p=0;r&&!isNaN(r.left)&&(u=r.left),r&&!isNaN(r.right)&&(p=r.right),s=l=s-u-p;for(var m=0;m<e.length;m++)x=this._jqxPlot.scale(e[m],{min:i.min.valueOf(),max:i.max.valueOf(),type:h,base:d},{min:0,max:n?s:l,flip:c},{}),isNaN(x)?a.push(NaN):(isNaN(o)||(x+=o),x<=s+u+p+1?a.push(me.jqx._ptrnd(x)):a.push(NaN));return a},_generateIntervalValues:function(e,t,i,s,r){var n=[],o=e.min,a=e.max;if(e.logAxis&&e.logAxis.enabled&&(o=e.logAxis.minPow,a=e.logAxis.maxPow),null==o||null==a)return n;if(o==a)return e.logAxis&&e.logAxis.enabled?[Math.pow(e.logAxis.base,o)]:[o];var l=1;i<1&&(o*=l=1e6,a*=l,i*=l);for(var d=o;d<=a;d+=i)n.push(d/l+(r?i/2:0));if(i<t){var h=[],c=Math.round(t/i);for(d=0;d<n.length;d++)d%c==0&&h.push(n[d]);n=h}if(e.logAxis&&e.logAxis.enabled)for(d=0;d<n.length;d++)n[d]=Math.pow(e.logAxis.base,n[d]);return n},_generateDTOffsets:function(e,t,i,s,r,n,o,a,l,d,h){o||(o="day");var c=[];if(t<e)return c;if(e==t)return d?c.push({offset:a?i/2:s.left,value:e}):a&&c.push({offset:i/2,value:e}),c;var u=i-s.left-s.right,p=e,m=s.left,f=m,g=n=Math.max(n,1),v=Math.min(1,n);for(1<n&&"millisecond"!=o&&(n=1);me.jqx._ptrnd(f)<=me.jqx._ptrnd(s.left+u+(a?0:s.right));){c.push({offset:f,value:p});var x=new Date(p.valueOf());if("millisecond"==o)x.setMilliseconds(p.getMilliseconds()+n);else if("second"==o)x.setSeconds(p.getSeconds()+n);else if("minute"==o)x.setMinutes(p.getMinutes()+n);else if("hour"==o){var w=x.valueOf();x.setHours(p.getHours()+n),w==x.valueOf()&&x.setHours(p.getHours()+n+1)}else"day"==o?x.setDate(p.getDate()+n):"month"==o?x.setMonth(p.getMonth()+n):"year"==o&&x.setFullYear(p.getFullYear()+n);f=m+((p=x).valueOf()-e.valueOf())*v/(t.valueOf()-e.valueOf())*u}if(h)for(var y=0;y<c.length;y++)c[y].offset=i-c[y].offset;if(1<g&&"millisecond"!=o){var b=[];for(y=0;y<c.length;y+=g)b.push({offset:c[y].offset,value:c[y].value});c=b}if(!a&&!d&&1<c.length){(b=[]).push({offset:0,value:void 0});for(y=1;y<c.length;y++)b.push({offset:c[y-1].offset+(c[y].offset-c[y-1].offset)/2,value:void 0});var _=b.length;1<_?b.push({offset:b[_-1].offset+(b[_-1].offset-b[_-2].offset)}):b.push({offset:i,value:void 0}),c=b}if(n<r){b=[];var j=Math.round(r/g);for(y=0;y<c.length;y++)y%j==0&&b.push({offset:c[y].offset,value:c[y].value});c=b}return c},_hasStackValueReversal:function(e,t){var i=this.seriesGroups[e];if(!(-1!=i.type.indexOf("stacked")))return!1;for(var s=-1!=i.type.indexOf("waterfall"),r=this._getDataLen(e),n=!1,o=[],a=0;a<i.series.length;a++)o[a]=this._isSerieVisible(e,a);for(var l=0;l<r;l++){var d=void 0;s||(n=!1);for(var h=0;h<i.series.length;h++)if(o[h]&&(val=this._getDataValueAsNumber(l,i.series[h].dataField,e),!isNaN(val))){if(i.series[h].summary)if(void 0!==this._getDataValue(l,i.series[h].summary,e))continue;var c=n?val<0:val<t;if(n=!0,null==d&&(d=c),c!=d)return!0;d=c,val}}return!1},_getValueAxis:function(e){var t=null==e?this.valueAxis:this.seriesGroups[e].valueAxis||this.valueAxis;return t||(t=this.valueAxis={}),t},_buildStats:function(e){var t={seriesGroups:[]};this._stats=t;for(var i=0;i<this.seriesGroups.length;i++){var s=this.seriesGroups[i];t.seriesGroups[i]={};var r=this._getXAxis(i),n=this._getValueAxis(i),o=this._getXAxisStats(i,r,"horizontal"!=s.orientation?e.width:e.height);(W=t.seriesGroups[i]).isValid=!0;var a="horizontal"==s.orientation?e.width:e.height,l=1==n.logarithmicScale,d=n.logarithmicScaleBase;isNaN(d)&&(d=10);var h=-1!=s.type.indexOf("stacked"),c=h&&-1!=s.type.indexOf("100"),u=-1!=s.type.indexOf("range"),p=-1!=s.type.indexOf("waterfall");if(p&&!this._moduleWaterfall)throw"Please include 'jqxchart.waterfall.js'";c&&(W.psums=[],W.nsums=[]);var m=NaN,f=NaN,g=NaN,v=NaN,x=n?n.baselineValue:NaN;isNaN(x)&&(x=l&&!c?1:0);var w=!1;0!=x&&h&&(w=this._hasStackValueReversal(i,x))&&(x=0),h&&p&&(w=this._hasStackValueReversal(i,x));var y=this._getDataLen(i),b=0,_=NaN,j=[];if(p)for(var q=0;q<s.series.length;q++)j.push(NaN);for(var T=NaN,C=0;C<y&&W.isValid;C++){if(r.rangeSelector){var S=r.dataField?this._getDataValue(C,r.dataField,i):C;if(S&&o.isDateTime&&(S=this._castAsDate(S,r.dateFormat)),o.useIndeces&&(S=C),S&&(S.valueOf()<o.min.valueOf()||S.valueOf()>o.max.valueOf()))continue}var k=n.minValue,I=n.maxValue;n.baselineValue&&(k=isNaN(k)?x:Math.min(x,k),I=isNaN(I)?x:Math.max(x,I));var D=0,P=0;for(q=0;s.series&&q<s.series.length;q++)if(this._isSerieVisible(i,q)){var A=NaN,M=NaN,B=NaN;if(-1!=s.type.indexOf("candle")||-1!=s.type.indexOf("ohlc")){var H=["Open","Low","Close","High"];for(var z in H){var E=this._getDataValueAsNumber(C,s.series[q]["dataField"+H[z]],i);isNaN(E)||(B=isNaN(M)?E:Math.min(B,E),M=isNaN(M)?E:Math.max(M,E))}}else if(u){var O=this._getDataValueAsNumber(C,s.series[q].dataFieldFrom,i),N=this._getDataValueAsNumber(C,s.series[q].dataFieldTo,i);M=Math.max(O,N),B=Math.min(O,N)}else{if(A=this._getDataValueAsNumber(C,s.series[q].dataField,i),p){if(this._isSummary(i,C))if(void 0!==this._getDataValue(C,s.series[q].summary,i))continue;h?(isNaN(T)||(A+=T),T=A):(isNaN(j[q])?j[q]=A:A+=j[q],j[q]=A)}if(isNaN(A)||l&&A<=0)continue;B=M=A}(isNaN(I)||I<M)&&(isNaN(n.maxValue)||M<=n.maxValue)&&(I=M),(isNaN(k)||B<k)&&(isNaN(n.minValue)||B>=n.minValue)&&(k=B),isNaN(A)||!h||p||(x<A?D+=A:A<x&&(P+=A))}if(c||(isNaN(n.maxValue)||(D=Math.min(n.maxValue,D)),isNaN(n.minValue)||(P=Math.max(n.minValue,P))),l&&c)for(q=0;q<s.series.length;q++)if(this._isSerieVisible(i,q)){A=this._getDataValueAsNumber(C,s.series[q].dataField,i);if(isNaN(A)||A<=0)_=.01;else{var L=0==D?0:A/D;(isNaN(_)||L<_)&&(_=L)}}else _=.01;var R=D-P;b<R&&(b=R),c&&(W.psums[C]=D,W.nsums[C]=P),(f<I||isNaN(f))&&(f=I),(k<m||isNaN(m))&&(m=k),(g<D||isNaN(g))&&(g=D),(P<v||isNaN(v))&&(v=P)}c&&(g=0==g?0:Math.max(g,-v),v=0==v?0:Math.min(v,-g)),m==f&&(!isNaN(n.minValue)&&isNaN(n.maxValue)?(m=n.minValue,f=l?m*d:m+1):isNaN(n.minValue)&&!isNaN(n.maxValue)&&(f=n.maxValue,m=l?f/d:f-1)),m==f&&(0==m?(m=-1,f=1):m<0?f=0:l?1==m&&(m/=d,f*=d):m=0);var F={gmin:m,gmax:f,gsumP:g,gsumN:v,gbase:x,isLogAxis:l,logBase:d,minPercent:_,gMaxRange:b,isStacked:h,isStacked100:c,isWaterfall:p,hasStackValueReversal:w,valueAxis:n,valueAxisSize:a};F.isStacked&&(F.gsumN<0&&(F.gmin=Math.min(F.gmin,F.gbase+F.gsumN)),0<F.gsumP&&(F.gmax=Math.max(F.gmax,F.gbase+F.gsumP))),W.context=F}this._mergeCommonValueAxisStats();for(C=0;C<t.seriesGroups.length;C++){var W;if((W=t.seriesGroups[C]).isValid){var V=this._calcOutputGroupStats(W.context);for(var z in V)W[z]=V[z];delete W.context}}},_mergeCommonValueAxisStats:function(){for(var e={},t=0;t<this.seriesGroups.length;t++)if(this._isGroupVisible(t)&&!this.seriesGroups[t].valueAxis){var i=this._stats.seriesGroups[t].context;e.gbase=i.gbase,(isNaN(e.gmin)||i.gmin<e.gmin)&&(e.gmin=i.gmin),(isNaN(e.gmax)||i.gmax>e.gmax)&&(e.gmax=i.gmax),(isNaN(e.gsumP)||i.gsumP>e.gsumP)&&(e.gsumP=i.gsumP),(isNaN(e.gsumN)||i.gsumN<e.gsumN)&&(e.gsumN=i.gsumN),(isNaN(e.logBase)||i.logBase<e.logBase)&&(e.logBase=i.logBase),(isNaN(e.minPercent)||i.minPercent<e.minPercent)&&(e.minPercent=i.minPercent),0<e.gsumN&&(e.gmin=Math.min(e.gmin,e.gbase+e.gsumN)),0<e.gsumP&&(e.gmax=Math.max(e.gmax,e.gbase+e.gsumP))}for(t=0;t<this.seriesGroups.length;t++)if(!this.seriesGroups[t].valueAxis){var s=this._stats.seriesGroups[t].context;for(var r in e)s[r]=e[r]}},_calcOutputGroupStats:function(e){var t=e.gmin,i=e.gmax,s=e.gsumP,r=e.gsumN,n=e.gbase,o=e.isLogAxis,a=e.logBase,l=e.minPercent,d=e.gMaxRange,h=e.isStacked,c=e.isStacked100,u=e.isWaterfall,p=e.hasStackValueReversal,m=e.valueAxis,f=e.valueAxisSize,g=e.valueAxis.unitInterval;g||(g=this._calcInterval(t,i,Math.max(f/80,2))),t==i&&(t=n,i*=2);var v=NaN,x=0,w=0;if(o){if(c){v=0;var y=1;for(x=w=me.jqx.log(100,a);l<y;)y/=a,x--,v++;t=Math.pow(a,x)}else h&&!u&&(i=Math.max(i,s)),w=me.jqx._rnd(me.jqx.log(i,a),1,!0),i=Math.pow(a,w),x=me.jqx._rnd(me.jqx.log(t,a),1,!1),t=Math.pow(a,x);g=a}t<r&&(r=t),s<i&&(s=i);var b=o?t:me.jqx._rnd(t,g,!1),_=o?i:me.jqx._rnd(i,g,!0);if(c&&100<_&&(_=100),c&&!o&&(_=0<_?100:0,b=b<0?-100:0,g=m.unitInterval,(isNaN(g)||g<=0||100<=g)&&(g=10),100%g!=0))for(;1<=g&&100%g!=0;g--);return isNaN(_)||isNaN(b)||isNaN(g)?{}:(isNaN(v)&&(v=parseInt(((_-b)/(0==g?1:g)).toFixed())),o&&!c&&(v=w-x,d=Math.pow(a,v)),v<1?{}:{min:b,max:_,logarithmic:o,logBase:a,base:o?b:n,minPow:x,maxPow:w,sumP:s,sumN:r,mu:g,maxRange:d,intervals:v,hasStackValueReversal:p})},_getDataLen:function(e){var t=this.source;return null!=e&&-1!=e&&this.seriesGroups[e].source&&(t=this.seriesGroups[e].source),t instanceof me.jqx.dataAdapter&&(t=t.records),t?t.length:0},_getDataValue:function(e,t,i){var s=this.source;if(null!=i&&-1!=i&&(s=this.seriesGroups[i].source||s),s instanceof me.jqx.dataAdapter&&(s=s.records),!(!s||e<0||e>s.length-1))return me.isFunction(t)?t(e,s):t&&""!=t?s[e][t]:s[e]},_getDataValueAsNumber:function(e,t,i){var s=this._getDataValue(e,t,i);return this._isDate(s)?s.valueOf():("number"!=typeof s&&(s=parseFloat(s)),"number"!=typeof s&&(s=void 0),s)},_isPieGroup:function(e){var t=this.seriesGroups[e];return!(!t||!t.type)&&(-1!=t.type.indexOf("pie")||-1!=t.type.indexOf("donut"))},_renderPieSeries:function(e,t){for(var i=this._getDataLen(e),s=this.seriesGroups[e],r=this._calcGroupOffsets(e,t).offsets,n=0;n<s.series.length;n++){var o=s.series[n];if(!o.customDraw){var a=this._getSerieSettings(e,n),l=(o.colorScheme||s.colorScheme||this.colorScheme,this._getAnimProps(e,n)),d=l.enabled&&i<5e3&&!this._isToggleRefresh&&1!=this._isVML?l.duration:0;me.jqx.mobile.isMobileBrowser()&&this.renderer instanceof me.jqx.HTML5Renderer&&(d=0);var h=this._get([o.minAngle,o.startAngle]);(isNaN(h)||h<0||360<h)&&(h=0);var c=this._get([o.maxAngle,o.endAngle]);(isNaN(c)||c<0||360<c)&&(c=360);for(var u={rect:t,minAngle:h,maxAngle:c,groupIndex:e,serieIndex:n,settings:a,items:[]},p=0;p<i;p++){var m=r[n][p];if(m.visible){var f=m.fromAngle,g=m.toAngle,v=this.renderer.pieslice(m.x,m.y,m.innerRadius,m.outerRadius,f,0==d?g:f,m.centerOffset);this._setRenderInfo(e,n,p,{element:v});var x={displayValue:m.displayValue,itemIndex:p,visible:m.visible,x:m.x,y:m.y,innerRadius:m.innerRadius,outerRadius:m.outerRadius,fromAngle:f,toAngle:g,centerOffset:m.centerOffset};u.items.push(x)}}this._animatePieSlices(u,0);var w=this;this._enqueueAnimation("series",void 0,void 0,d,function(e,t,i){w._animatePieSlices(t,i)},u)}}},_sliceSortFunction:function(e,t){return e.fromAngle-t.fromAngle},_animatePieSlices:function(e,t){var i;this._elementRenderInfo&&this._elementRenderInfo.length>e.groupIndex&&this._elementRenderInfo[e.groupIndex].series&&this._elementRenderInfo[e.groupIndex].series.length>e.serieIndex&&(i=this._elementRenderInfo[e.groupIndex].series[e.serieIndex]);for(var s=this.seriesGroups[e.groupIndex],r=this._getLabelsSettings(e.groupIndex,e.serieIndex,NaN),n=r.visible,o=[],a=0;a<e.items.length;a++){if((p=e.items[a]).visible){var l=p.fromAngle,d=p.fromAngle+t*(p.toAngle-p.fromAngle);if(i&&i[p.displayValue]){var h=i[p.displayValue].fromAngle,c=i[p.displayValue].toAngle;l=h+(l-h)*t,d=c+(d-c)*t}o.push({index:a,from:l,to:d})}}i&&o.sort(this._sliceSortFunction);var u=NaN;for(a=0;a<o.length;a++){var p=e.items[o[a].index],m=this._getRenderInfo(e.groupIndex,e.serieIndex,p.itemIndex);l=o[a].from,d=o[a].to;i&&(!isNaN(u)&&u<l&&(l=u),u=d,a==o.length-1&&d!=o[0].from&&(d=e.maxAngle+o[0].from));var f=this.renderer.pieSlicePath(p.x,p.y,p.innerRadius,p.outerRadius,l,d,p.centerOffset);this.renderer.attr(m.element,{d:f});var g=this._getColors(e.groupIndex,e.serieIndex,p.itemIndex,"radialGradient",p.outerRadius),v=e.settings;m.colors=g,m.settings=v,this.renderer.attr(m.element,{fill:g.fillColor,stroke:g.lineColor,"stroke-width":v.stroke,"fill-opacity":v.opacity,"stroke-opacity":v.opacity,"stroke-dasharray":"none"});s.series[e.serieIndex];n&&this._showPieLabel(e.groupIndex,e.serieIndex,p.itemIndex,r),1==t&&this._installHandlers(m.element,"pieslice",e.groupIndex,e.serieIndex,p.itemIndex)}},_showPieLabel:function(e,t,i,s,r){var n=this._renderData[e].offsets[t][i];if(n.elementInfo.labelElement&&this.renderer.removeElement(n.elementInfo.labelElement),s||(s=this._getLabelsSettings(e,t,NaN)),s.visible){var o=n.fromAngle,a=n.toAngle,l=Math.abs(o-a);360<l&&(o=0,a=360);Math.PI,Math.PI;var d,h=l/2+o,c=(h%=360)*Math.PI*2/360;1==s.autoRotate&&(d=h<90||270<h?360-h:180-h);var u=s.linesEnabled,p=this._showLabel(e,t,i,{x:0,y:0,width:0,height:0},"center","center",!0,!1,!1,d),m=s.radius||n.outerRadius+Math.max(p.width,p.height);this._isPercent(m)&&(m=parseFloat(m)/100*Math.min(this._plotRect.width,this._plotRect.height)/2),m+=n.centerOffset,isNaN(r)&&(r=0),m+=r;var f=this.seriesGroups[e],g=f.series[t],v=me.jqx.getNum([g.offsetX,f.offsetX,this._plotRect.width/2]),x=me.jqx.getNum([g.offsetY,f.offsetY,this._plotRect.height/2]),w=this._plotRect.x+v,y=this._plotRect.y+x,b=this._adjustTextBoxPosition(w,y,p,m,h,n.outerRadius>m,0!=s.linesAngles,1==s.autoRotate),_={};if(n.elementInfo.labelElement=this._showLabel(e,t,i,{x:b.x,y:b.y,width:p.width,height:p.height},"left","top",!1,!1,!1,d,_),m>n.outerRadius+5&&0!=u){var j={lineColor:n.elementInfo.colors.lineColor,stroke:n.elementInfo.settings.stroke,opacity:n.elementInfo.settings.opacity,dashStyle:n.elementInfo.settings.dashStyle};n.elementInfo.labelArrowPath=this._updateLebelArrowPath(n.elementInfo.labelArrowPath,w,y,m,n.outerRadius+r,c,0!=s.linesAngles,j,_)}}},_updateLebelArrowPath:function(e,i,s,t,r,n,o,a,l){var d=me.jqx._ptrnd(i+(t-0)*Math.cos(n)),h=me.jqx._ptrnd(s-(t-0)*Math.sin(n)),c=me.jqx._ptrnd(i+(r+2)*Math.cos(n)),u=me.jqx._ptrnd(s-(r+2)*Math.sin(n)),p=[];p.push({x:l.x+l.width/2,y:l.y}),p.push({x:l.x+l.width/2,y:l.y+l.height}),p.push({x:l.x,y:l.y+l.height/2}),p.push({x:l.x+l.width,y:l.y+l.height/2}),o||(p.push({x:l.x,y:l.y}),p.push({x:l.x+l.width,y:l.y}),p.push({x:l.x+l.width,y:l.y+l.height}),p.push({x:l.x,y:l.y+l.height})),p=(p=p.sort(function(e,t){return me.jqx._ptdist(e.x,e.y,i,s)-me.jqx._ptdist(t.x,t.y,i,s)})).sort(function(e,t){return Math.abs(e.x-i)+Math.abs(e.y-s)-(Math.abs(t.x-i)+Math.abs(t.y-s))});for(var m=0;m<p.length;m++)p[m].x=me.jqx._ptrnd(p[m].x),p[m].y=me.jqx._ptrnd(p[m].y);var f="M "+(d=p[0].x)+","+(h=p[0].y)+" L"+c+","+u;return o&&(f="M "+d+","+h+" L"+c+","+h+" L"+c+","+u),e?this.renderer.attr(e,{d:f}):e=this.renderer.path(f,{}),this.renderer.attr(e,{fill:"none",stroke:a.lineColor,"stroke-width":a.stroke,"stroke-opacity":a.opacity,"stroke-dasharray":"none"}),e},_adjustTextBoxPosition:function(e,t,i,s,r,n,o,a){var l=r*Math.PI*2/360,d=me.jqx._ptrnd(e+s*Math.cos(l)),h=me.jqx._ptrnd(t-s*Math.sin(l));if(a){var c=i.width,u=i.height,p=Math.atan(u/c)%(2*Math.PI),m=l%(2*Math.PI),f=0;m<=p?f=c/2*Math.cos(l):p<=m&&m<Math.PI-p?f=u/2*Math.sin(l):m>=Math.PI-p&&m<Math.PI+p?f=c/2*Math.cos(l):m>=Math.PI+p&&m<2*Math.PI-p?f=u/2*Math.sin(l):m>=2*Math.PI-p&&m<2*Math.PI&&(f=c/2*Math.cos(l)),s+=Math.abs(f)+3;d=me.jqx._ptrnd(e+s*Math.cos(l)),h=me.jqx._ptrnd(t-s*Math.sin(l));return{x:d-=i.width/2,y:h-=i.height/2}}return n?(d-=i.width/2,h-=i.height/2):o?90<=r&&r<270?(h-=i.height/2,d-=i.width):h-=i.height/2:0<=r&&r<45||315<=r&&r<360?h-=i.height/2:45<=r&&r<135?(h-=i.height,d-=i.width/2):135<=r&&r<225?(h-=i.height/2,d-=i.width):225<=r&&r<315&&(d-=i.width/2),{x:d,y:h}},_isColumnType:function(e){return-1!=e.indexOf("column")||-1!=e.indexOf("waterfall")},_getColumnGroupsCount:function(e){var t=0;e=e||"vertical";for(var i=this.seriesGroups,s=0;s<i.length;s++){var r=i[s].orientation||"vertical";this._isColumnType(i[s].type)&&r==e&&t++}return this.columnSeriesOverlap&&(t=1),t},_getColumnGroupIndex:function(e){for(var t=0,i=this.seriesGroups[e].orientation||"vertical",s=0;s<e;s++){var r=this.seriesGroups[s],n=r.orientation||"vertical";this._isColumnType(r.type)&&n==i&&t++}return t},_renderAxisBands:function(e,t,i){var s=i?this._getXAxis(e):this._getValueAxis(e),r=this.seriesGroups[e],n=i?void 0:r.bands;if(!n){for(var o=0;o<e;o++){if((i?this._getXAxis(o):this._getValueAxis(o))==s)return}n=s.bands}if(me.isArray(n)){var a=t,l="horizontal"==r.orientation;l&&(a={x:t.y,y:t.x,width:t.height,height:t.width}),this._calcGroupOffsets(e,a);for(o=0;o<n.length;o++){var d,h=n[o],c=this._get([h.minValue,h.from]),u=this._get([h.maxValue,h.to]),p=i?this.getXAxisDataPointOffset(c,e):this.getValueAxisDataPointOffset(c,e),m=i?this.getXAxisDataPointOffset(u,e):this.getValueAxisDataPointOffset(u,e),f=Math.abs(p-m);if(r.polar||r.spider){var g=this._renderData[e],v=g.polarCoords;if(i)if(r.spider){p1=this.getPolarDataPointOffset(c,this._stats.seriesGroups[e].max,e),p2=this.getPolarDataPointOffset(u,this._stats.seriesGroups[e].max,e);I="M "+v.x+","+v.y;I+=" L "+p1.x+","+p1.y,I+=" L "+p2.x+","+p2.y,d=this.renderer.path(I)}else{var x={},w={x:Math.min(p,m),y:t.y,width:f,height:t.height};this._columnAsPieSlice(x,t,v,w),d=x.element}else{var y=this._toPolarCoord(v,t,t.x,g.baseOffset),b=this._toPolarCoord(v,t,t.x,p),_=this._toPolarCoord(v,t,t.x,m),j=me.jqx._ptdist(y.x,y.y,b.x,b.y),q=me.jqx._ptdist(y.x,y.y,_.x,_.y),T=Math.round(360*-v.startAngle/(2*Math.PI)),C=Math.round(360*-v.endAngle/(2*Math.PI));if(C<T){var S=T;T=C,C=S}if(r.spider){var k=g.xAxis.offsetAngles,I="",D=[q,j],P=k;for(var A in v.isClosedCircle&&(P=me.extend([],k)).push(P[0]),D){for(var M=0;M<P.length;M++){var B=0==A?M:k.length-M-1,H=v.x+D[A]*Math.cos(P[B]),z=v.y+D[A]*Math.sin(P[B]);I+=""==I?"M ":" L",I+=me.jqx._ptrnd(H)+","+me.jqx._ptrnd(z)}if(0==A){H=v.x+D[1]*Math.cos(P[B]),z=v.y+D[1]*Math.sin(P[B]);I+=" L"+me.jqx._ptrnd(H)+","+me.jqx._ptrnd(z)}}I+=" Z",d=this.renderer.path(I)}else d=this.renderer.pieslice(v.x,v.y,j,q,T,C)}}else{var E={x:Math.min(p,m),y:a.y,width:f,height:a.height};if(i||(E={x:a.x,y:Math.min(p,m),width:a.width,height:f}),l){S=E.x;E.x=E.y,E.y=S,S=E.width,E.width=E.height,E.height=S}d=0==f||1==f?this.renderer.line(me.jqx._ptrnd(E.x),me.jqx._ptrnd(E.y),me.jqx._ptrnd(E.x+(l?0:E.width)),me.jqx._ptrnd(E.y+(l?E.height:0))):this.renderer.rect(E.x,E.y,E.width,E.height)}var O=h.fillColor||h.color||"#AAAAAA",N=h.lineColor||O,L=h.lineWidth;isNaN(L)&&(L=1);var R=h.opacity;(isNaN(R)||R<0||1<R)&&(R=1),this.renderer.attr(d,{fill:O,"fill-opacity":R,stroke:N,"stroke-opacity":R,"stroke-width":L,"stroke-dasharray":h.dashStyle})}}},_getColumnGroupWidth:function(e,t,i){var s=this.seriesGroups[e],r=-1!=s.type.indexOf("stacked"),n=(r||s.series.length,this._getColumnGroupsCount(s.orientation));(isNaN(n)||0==n)&&(n=1);var o=1<=t.rangeLength?t.itemWidth:.9*i,a=s.columnsMinWidth;isNaN(a)&&(a=1),isNaN(s.columnsMaxWidth)||(a=Math.min(s.columnsMaxWidth,a)),o<a&&0<t.length&&(o=Math.max(o,.9*i/t.length));var l=a;if(!r){var d=s.seriesGapPercent;(isNaN(d)||d<0)&&(d=10);var h=a;h*=1+(d/=100),l+=s.series.length*h}return{requiredWidth:l,availableWidth:o,targetWidth:Math.max(o/n,l)}},_getColumnSerieWidthAndOffset:function(e,t){var i=this.seriesGroups[e],s=(i.series[t],"horizontal"==i.orientation),r=this._plotRect;s&&(r={x:r.y,y:r.x,width:r.height,height:r.width});var n=this._calcGroupOffsets(e,r);if(n&&0!=n.xoffsets.length){var o=this._getColumnGroupsCount(i.orientation);"candlestick"!=i.type&&"ohlc"!=i.type||(o=1);var a=this._getColumnGroupIndex(e),l=this._getColumnGroupWidth(e,n.xoffsets,s?r.height:r.width),d=0,h=l.targetWidth;(1==this.columnSeriesOverlap||Math.round(h)>Math.round(l.availableWidth/o))&&(o=1,a=0),d-=h*o/2,d+=h*a;var c=i.columnsGapPercent;c<=0&&(c=0),(isNaN(c)||100<=c)&&(c=25);var u=h*(c/=100);u+l.requiredWidth>l.targetWidth&&(u=Math.max(0,l.targetWidth-l.requiredWidth)),Math.round(h)>Math.round(l.availableWidth)&&(u=0),h-=u,d+=u/2;var p=i.seriesGapPercent;(isNaN(p)||p<0)&&(p=10);var m=-1!=i.type.indexOf("stacked"),f=h;m||(f/=i.series.length);var g=this._get([i.seriesGap,h*p/100/(i.series.length-1)]);(1==i.polar||1==i.spider||m||i.series.length<=1)&&(g=0);var v=g*(i.series.length-1);1<i.series.length&&v>h-1*i.series.length&&(g=(v=h-1*i.series.length)/Math.max(1,i.series.length-1));var x=f-v/i.series.length,w=0,y=i.columnsMaxWidth;isNaN(y)||y<x&&(w=x-y,x=y);var b=0;if(m)b=w/2;else b=(h-x*i.series.length-v)/2+x*t+Math.max(0,t)*g;return{width:x,offset:d+b}}},_renderColumnSeries:function(e,t){var i=this.seriesGroups[e];if(i.series&&0!=i.series.length){this._getDataLen(e);var s="horizontal"==i.orientation,r=t;s&&(r={x:t.y,y:t.x,width:t.height,height:t.width});var n=this._calcGroupOffsets(e,r);if(n&&0!=n.xoffsets.length){var o;1!=i.polar&&1!=i.spider||(o=this._getPolarAxisCoords(e,r));var a={groupIndex:e,rect:t,vertical:!s,seriesCtx:[],renderData:n,polarAxisCoords:o};a.columnGroupWidth=this._getColumnGroupWidth(e,n.xoffsets,s?r.height:r.width);for(var l=this._getGroupGradientType(e),d=0;d<i.series.length;d++){var h=i.series[d];if(!h.customDraw){h.dataField;var c=this._getAnimProps(e,d),u=c.enabled&&!this._isToggleRefresh&&n.xoffsets.length<100?c.duration:0,p=this._getColumnSerieWidthAndOffset(e,d),m=this._isSerieVisible(e,d),f=this._getSerieSettings(e,d),g=this._getColors(e,d,NaN,this._getGroupGradientType(e),4),v=[];if(me.isFunction(h.colorFunction)&&!o)for(var x=n.xoffsets.first;x<=n.xoffsets.last;x++)v.push(this._getColors(e,d,x,l,4));var w={seriesIndex:d,serieColors:g,itemsColors:v,settings:f,columnWidth:p.width,xAdjust:p.offset,isVisible:m};a.seriesCtx.push(w)}}this._animColumns(a,0==u?1:0);var y=this;this._enqueueAnimation("series",void 0,void 0,u,function(e,t,i){y._animColumns(t,i)},a)}}},_getPercent:function(e,t,i,s){return isNaN(e)&&(e=t),!isNaN(i)&&!isNaN(e)&&e<i&&(e=i),!isNaN(s)&&!isNaN(e)&&s<e&&(e=s),isNaN(e)?NaN:e},_getColumnVOffsets:function(e,t,i,s,r,n){var o=this.seriesGroups[t],a=this._getPercent(o.columnsTopWidthPercent,100,0,100),l=this._getPercent(o.columnsBottomWidthPercent,100,0,100);0==a&&0==l&&(l=100);for(var d=this._getPercent(o.columnsNeckHeightPercent,NaN,0,100)/100,h=this._getPercent(o.columnsNeckWidthPercent,100,0,100)/100,c=[],u=NaN,p=0;p<i.length;p++){var m,f=(D=i[p]).seriesIndex,g=(o.series[f],e.offsets[f][s].from),v=e.offsets[f][s].to,x=e.xoffsets.data[s],w=D.isVisible;w||(v=g);var y=this._elementRenderInfo;if(w&&y&&y.length>t&&y[t].series.length>f){var b=e.xoffsets.xvalues[s];!(m=y[t].series[f][b])||isNaN(m.from)||isNaN(m.to)||(g=m.from+(g-m.from)*n,v=m.to+(v-m.to)*n,x=m.xoffset+(x-m.xoffset)*n)}m||(v=g+(v-g)*(r?1:n)),isNaN(g)&&(g=isNaN(u)?e.baseOffset:u),u=!isNaN(v)&&r?v:g,isNaN(v)&&(v=g);var _={from:g,to:v,xOffset:x};100==a&&100==l||(_.funnel=!0,_.toWidthPercent=a,_.fromWidthPercent=l),c.push(_)}if(r&&1<c.length&&!(this._elementRenderInfo&&this._elementRenderInfo.length>t)){for(var j=0,q=0,T=-1/0,C=1/0,S=1/0,k=-1/0,I=0;I<c.length;I++){var D;(D=i[I]).isVisible&&(c[I].to>=c[I].from?(q+=c[I].to-c[I].from,S=Math.min(S,c[I].from),k=Math.max(k,c[I].to)):(j+=c[I].from-c[I].to,T=Math.max(T,c[I].from),C=Math.min(C,c[I].to)))}var P=j,A=q;j*=n,q*=n;var M=0,B=0;for(I=0;I<c.length;I++){var H;if(c[I].to>=c[I].from)q<(H=c[I].to-c[I].from)+B&&(H=Math.max(0,q-B),c[I].to=c[I].from+H),100==a&&100==l||(c[I].funnel=!0,!isNaN(d)&&B<=A*d?c[I].fromWidthPercent=100*h:c[I].fromWidthPercent=Math.abs(c[I].from-S)/A*(a-l)+l,!isNaN(d)&&0+(B+H)<=A*d?c[I].toWidthPercent=100*h:c[I].toWidthPercent=Math.abs(c[I].to-S)/A*(a-l)+l),B+=H;else j<(H=c[I].from-c[I].to)+M&&(H=Math.max(0,j-M),c[I].to=c[I].from-H),100==a&&100==l||(c[I].funnel=!0,!isNaN(d)&&M<=P*d?c[I].fromWidthPercent=100*h:c[I].fromWidthPercent=Math.abs(c[I].from-T)/P*(a-l)+l,!isNaN(d)&&0+(M+H)<=P*d?c[I].toWidthPercent=100*h:c[I].toWidthPercent=Math.abs(c[I].to-T)/P*(a-l)+l),M+=H}}return c},_columnAsPieSlice:function(e,t,i,s){var r=this._toPolarCoord(i,t,s.x,s.y),n=this._toPolarCoord(i,t,s.x,s.y+s.height),o=me.jqx._ptdist(i.x,i.y,n.x,n.y),a=me.jqx._ptdist(i.x,i.y,r.x,r.y),l=t.width,d=180*Math.abs(i.startAngle-i.endAngle)/Math.PI,h=-(s.x-t.x)*d/l,c=-(s.x+s.width-t.x)*d/l,u=i.startAngle;if(h-=u=360*u/(2*Math.PI),c-=u,e)if(null!=e.element){var p=this.renderer.pieSlicePath(i.x,i.y,o,a,c,h,0);p+=" Z",this.renderer.attr(e.element,{d:p})}else e.element=this.renderer.pieslice(i.x,i.y,o,a,c,h,0);return{fromAngle:c,toAngle:h,innerRadius:o,outerRadius:a}},_setRenderInfo:function(e,t,i,s){this._renderData[e].offsets[t][i].elementInfo=s},_getRenderInfo:function(e,t,i){return this._renderData[e].offsets[t][i].elementInfo||{}},_animColumns:function(e,t){for(var i=e.groupIndex,s=this.seriesGroups[i],r=e.renderData,n=-1!=s.type.indexOf("waterfall"),o=this._getXAxis(i),a=-1!=s.type.indexOf("stacked"),l=e.polarAxisCoords,d=(this._getGroupGradientType(i),e.columnGroupWidth.targetWidth,-1),h=0;h<s.series.length;h++)if(this._isSerieVisible(i,h)){d=h;break}var c=NaN,u=NaN;for(h=0;h<e.seriesCtx.length;h++){var p=e.seriesCtx[h];(isNaN(c)||c>p.xAdjust)&&(c=p.xAdjust),(isNaN(u)||u<p.xAdjust+p.columnWidth)&&(u=p.xAdjust+p.columnWidth)}var m=Math.abs(u-c),f=this._get([s.columnsGapPercent,25])/100;(isNaN(f)<0||1<=f)&&(f=.25);for(var g=f*m,v=e.renderData.xoffsets,x=-1,w={},y=1==s.skipOverlappingPoints,b=v.first;b<=v.last;b++){var _=v.data[b];if(!isNaN(_)&&!(-1!=x&&Math.abs(_-x)<m-1+g&&y)){x=_;var j=this._getColumnVOffsets(r,i,e.seriesCtx,b,a,t),q=!1;if(n)for(var T=0;T<s.series.length;T++)s.series[T].summary&&v.xvalues[b][s.series[T].summary]&&(q=!0);for(T=0;T<e.seriesCtx.length;T++){var C=(p=e.seriesCtx[T]).seriesIndex,S=s.series[C],k=j[T].from,I=j[T].to,D=j[T].xOffset,P=(e.vertical?e.rect.x:e.rect.y)+p.xAdjust,A=p.settings,M=0!=p.itemsColors.length?p.itemsColors[b-r.xoffsets.first]:p.serieColors,B=this._isSerieVisible(i,C);if(B){var H={x:_=me.jqx._ptrnd(P+D),width:p.columnWidth};j[T].funnel&&(H.fromWidthPercent=j[T].fromWidthPercent,H.toWidthPercent=j[T].toWidthPercent);var z=!0;e.vertical?(H.y=k,H.height=I-k,H.height<0&&(H.y+=H.height,H.height=-H.height,z=!1)):(H.x=k<I?k:I,H.width=Math.abs(k-I),z=k-I<0,H.y=_,H.height=p.columnWidth);var E=k-I;if(!isNaN(E)){E=Math.abs(E);var O=void 0,N=this._getRenderInfo(i,C,b),L=N.element,R=N.labelElement,F=null==L;if(R&&(this.renderer.removeElement(R),R=void 0),l){var W={element:L};O=this._columnAsPieSlice(W,e.rect,l,H),L=W.element;M=this._getColors(i,C,void 0,"radialGradient",O.outerRadius)}else if(j[T].funnel){var V=this._getTrapezoidPath(me.extend({},H),e.vertical,z);F?L=this.renderer.path(V,{}):this.renderer.attr(L,{d:V})}else F?L=this.renderer.rect(H.x,H.y,e.vertical?H.width:0,e.vertical?0:H.height):1==e.vertical?this.renderer.attr(L,{x:H.x,y:H.y,height:E}):this.renderer.attr(L,{x:H.x,y:H.y,width:E});if(E<1&&(1!=t||l)?this.renderer.attr(L,{display:"none"}):this.renderer.attr(L,{display:"block"}),F&&this.renderer.attr(L,{fill:M.fillColor,"fill-opacity":A.opacity,"stroke-opacity":A.opacity,stroke:M.lineColor,"stroke-width":A.stroke,"stroke-dasharray":A.dashStyle}),R&&this.renderer.removeElement(R),!B||0==E&&t<1)N={element:L,labelElement:R},this._setRenderInfo(i,C,b,N);else{if(n&&0!=this._get([S.showWaterfallLines,s.showWaterfallLines])){if(!a||a&&T==d){var G=a?-1:T;if(1==t&&!isNaN(r.offsets[T][b].from)&&!isNaN(r.offsets[T][b].to)){var U=w[G];if(null!=U){var Y={x:U.x,y:me.jqx._ptrnd(U.y)},K={x:_,y:Y.y},X=s.columnsTopWidthPercent/100;isNaN(X)?X=1:(1<X||X<0)&&(X=1);var $=s.columnsBottomWidthPercent/100;isNaN($)?$=1:(1<$||$<0)&&($=1);var Z=e.vertical?H.width:H.height;if(Y.x=Y.x-Z/2+Z/2*X,q){var J=Z*X/2;K.x=K.x+Z/2-(o.flip?-J:J)}else{J=Z*$/2;K.x=K.x+Z/2-(o.flip?-J:J)}e.vertical||(this._swapXY([Y]),this._swapXY([K])),this.renderer.line(Y.x,Y.y,K.x,K.y,{stroke:U.color,"stroke-width":A.stroke,"stroke-opacity":A.opacity,"fill-opacity":A.opacity,"stroke-dasharray":A.dashStyle})}}}1==t&&0!=E&&(w[a?-1:T]={y:I,x:e.vertical?H.x+H.width:H.y+H.height,color:M.lineColor})}if(l){this._toPolarCoord(l,e.rect,H.x+H.width/2,H.y),Z=this._showLabel(i,C,b,H,void 0,void 0,!0);var Q=O.outerRadius+10;labelOffset=this._adjustTextBoxPosition(l.x,l.y,Z,Q,(O.fromAngle+O.toAngle)/2,!0,!1,!1),R=this._showLabel(i,C,b,{x:labelOffset.x,y:labelOffset.y},void 0,void 0,!1,!1,!1)}else R=this._showLabel(i,C,b,H,void 0,void 0,!1,!1,z);N={element:L,labelElement:R},this._setRenderInfo(i,C,b,N),1==t&&this._installHandlers(L,"column",i,C,b)}}}}}}},_getTrapezoidPath:function(e,t,i){var s="",r=e.fromWidthPercent/100,n=e.toWidthPercent/100;if(!t){var o=e.width;e.width=e.height,e.height=o,o=e.x,e.x=e.y,e.y=o}var a=e.x+e.width/2,l=[{x:a-e.width*(i?n:r)/2,y:e.y+e.height},{x:a-e.width*(i?r:n)/2,y:e.y},{x:a+e.width*(i?r:n)/2,y:e.y},{x:a+e.width*(i?n:r)/2,y:e.y+e.height}];t||this._swapXY(l),s+="M "+me.jqx._ptrnd(l[0].x)+","+me.jqx._ptrnd(l[0].y);for(var d=1;d<l.length;d++)s+=" L "+me.jqx._ptrnd(l[d].x)+","+me.jqx._ptrnd(l[d].y);return s+=" Z"},_swapXY:function(e){for(var t=0;t<e.length;t++){var i=e[t].x;e[t].x=e[t].y,e[t].y=i}},_renderCandleStickSeries:function(e,t,i){var s=this,r=s.seriesGroups[e];if(r.series&&0!=r.series.length){var n="horizontal"==r.orientation,o=t;n&&(o={x:t.y,y:t.x,width:t.height,height:t.width});var a=s._calcGroupOffsets(e,o);if(a&&0!=a.xoffsets.length){var l;o.width;(r.polar||r.spider)&&2*(l=s._getPolarAxisCoords(e,o)).r;s._alignValuesWithTicks(e);for(var d=s._getGroupGradientType(e),h=[],c=0;c<r.series.length;c++)h[c]=s._getColumnSerieWidthAndOffset(e,c);for(c=0;c<r.series.length;c++)if(this._isSerieVisible(e,c)){var u=s._getSerieSettings(e,c),p=r.series[c];if(!p.customDraw){var m=me.isFunction(p.colorFunction)?void 0:s._getColors(e,c,NaN,d),f={rect:t,inverse:n,groupIndex:e,seriesIndex:c,symbolType:p.symbolType,symbolSize:p.symbolSize,"fill-opacity":u.opacity,"stroke-opacity":u.opacity,"stroke-width":u.stroke,"stroke-dasharray":u.dashStyle,gradientType:d,colors:m,renderData:a,polarAxisCoords:l,columnsInfo:h,isOHLC:i,items:[],self:s},g=s._getAnimProps(e,c),v=g.enabled&&!s._isToggleRefresh&&a.xoffsets.length<5e3?g.duration:0;s._animCandleStick(f,0),s._enqueueAnimation("series",void 0,void 0,v,function(e,t,i){s._animCandleStick(t,i)},f)}}}}},_animCandleStick:function(e,t){var i=["Open","Low","Close","High"],s=e.columnsInfo[e.seriesIndex].width,r=e.self.seriesGroups[e.groupIndex],n=e.renderData.xoffsets,o=-1,a=Math.abs(n.data[n.last]-n.data[n.first]);a*=t;for(var l=NaN,d=NaN,h=0;h<e.columnsInfo.length;h++){var c=e.columnsInfo[h];(isNaN(l)||l>c.offset)&&(l=c.offset),(isNaN(d)||d<c.offset+c.width)&&(d=c.offset+c.width)}for(var u=Math.abs(d-l),p=0!=r.skipOverlappingPoints,m=n.first;m<=n.last;m++){var f=n.data[m];if(!isNaN(f)&&!(-1!=o&&Math.abs(f-o)<u&&p)){if(a<Math.abs(n.data[m]-n.data[n.first]))break;o=f;var g=e.items[m]=e.items[m]||{};for(var h in i){var v=e.self._getDataValueAsNumber(m,r.series[e.seriesIndex]["dataField"+i[h]],e.groupIndex);if(isNaN(v))break;var x=e.renderData.offsets[e.seriesIndex][m][i[h]];if(isNaN(x))break;g[i[h]]=x}if(f+=e.inverse?e.rect.y:e.rect.x,e.polarAxisCoords){var w=this._toPolarCoord(e.polarAxisCoords,this._plotRect,f,x);f=w.x,x=w.y}for(var y in f=me.jqx._ptrnd(f),i)g[y]=me.jqx._ptrnd(g[y]);var b=e.colors;if(b||(b=e.self._getColors(e.groupIndex,e.seriesIndex,m,e.gradientType)),e.isOHLC){var _="M"+f+","+g.Low+" L"+f+","+g.High+" M"+(f-s/2)+","+g.Open+" L"+f+","+g.Open+" M"+(f+s/2)+","+g.Close+" L"+f+","+g.Close;e.inverse&&(_="M"+g.Low+","+f+" L"+g.High+","+f+" M"+g.Open+","+(f-s/2)+" L"+g.Open+","+f+" M"+g.Close+","+f+" L"+g.Close+","+(f+s/2)),(j=g.lineElement)||(j=this.renderer.path(_,{}),this.renderer.attr(j,{fill:b.fillColor,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:b.lineColor,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]}),g.lineElement=j),1==t&&this._installHandlers(j,"column",e.groupIndex,e.seriesIndex,m)}else{var j;(j=g.lineElement)||(j=e.inverse?this.renderer.line(g.Low,f,g.High,f):this.renderer.line(f,g.Low,f,g.High),this.renderer.attr(j,{fill:b.fillColor,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:b.lineColor,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]}),g.lineElement=j);var q=g.stickElement;if(f-=s/2,!q){var T=b.fillColor;g.Close<=g.Open&&b.fillColorAlt&&(T=b.fillColorAlt),q=e.inverse?this.renderer.rect(Math.min(g.Open,g.Close),f,Math.abs(g.Close-g.Open),s):this.renderer.rect(f,Math.min(g.Open,g.Close),s,Math.abs(g.Close-g.Open)),this.renderer.attr(q,{fill:T,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:b.lineColor,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]}),g.stickElement=q}1==t&&this._installHandlers(q,"column",e.groupIndex,e.seriesIndex,m)}}}},_renderScatterSeries:function(e,t,i){var s=this.seriesGroups[e];if(s.series&&0!=s.series.length){var r=-1!=s.type.indexOf("bubble"),n="horizontal"==s.orientation,o=t;n&&(o={x:t.y,y:t.x,width:t.height,height:t.width});var a=this._calcGroupOffsets(e,o);if(a&&0!=a.xoffsets.length){var l,d=o.width;(s.polar||s.spider)&&(d=2*(l=this._getPolarAxisCoords(e,o)).r);this._alignValuesWithTicks(e);var h=this._getGroupGradientType(e);i||(i="to");for(var c=0;c<s.series.length;c++){var u=this._getSerieSettings(e,c),p=s.series[c];if(!p.customDraw){var m=p.dataField,f=me.isFunction(p.colorFunction),g=this._getColors(e,c,NaN,h),v=NaN,x=NaN;if(r)for(var w=a.xoffsets.first;w<=a.xoffsets.last;w++){if("number"!=typeof(S=this._getDataValueAsNumber(w,p.radiusDataField||p.sizeDataField,e)))throw"Invalid radiusDataField value at ["+w+"]";isNaN(S)||((isNaN(v)||S<v)&&(v=S),(isNaN(x)||x<S)&&(x=S))}var y=p.minRadius||p.minSymbolSize;isNaN(y)&&(y=d/50);var b=p.maxRadius||p.maxSymbolSize;isNaN(b)&&(b=d/25),b<y&&(b=y);var _=p.radius;_=isNaN(_)&&!isNaN(p.symbolSize)?"circle"==p.symbolType?p.symbolSize/2:p.symbolSize:5;var j=this._getAnimProps(e,c),q=j.enabled&&!this._isToggleRefresh&&a.xoffsets.length<5e3?j.duration:0,T={groupIndex:e,seriesIndex:c,symbolType:p.symbolType,symbolSize:p.symbolSize,"fill-opacity":u.opacity,"stroke-opacity":u.opacity,"stroke-width":u.stroke,"stroke-width-symbol":u.strokeSymbol,"stroke-dasharray":u.dashStyle,items:[],polarAxisCoords:l},C=void 0;for(w=a.xoffsets.first;w<=a.xoffsets.last;w++){var S;if("number"==typeof(S=this._getDataValueAsNumber(w,m,e))){var k=a.xoffsets.data[w],I=a.xoffsets.xvalues[w],D=a.offsets[c][w][i];if(!(D<o.y||D>o.y+o.height||isNaN(k)||isNaN(D))){if(n){var P=k;k=D,D=P+t.y}else k+=t.x;if(!(!f&&C&&this.enableSampling&&me.jqx._ptdist(C.x,C.y,k,D)<1)){C={x:k,y:D};var A=_;if(r){var M=this._getDataValueAsNumber(w,p.radiusDataField||p.sizeDataField,e);if("number"!=typeof M)continue;A=y+(b-y)*(M-v)/Math.max(1,x-v),isNaN(A)&&(A=y)}a.offsets[c][w].radius=A;var B=NaN,H=NaN,z=0,E=this._elementRenderInfo;if(null!=I&&E&&E.length>e&&E[e].series.length>c){var O=E[e].series[c][I];if(O&&!isNaN(O.to)){if(B=O.to,H=O.xoffset,z=_,n){P=H;H=B,B=P+t.y}else H+=t.x;r&&(z=y+(b-y)*(O.valueRadius-v)/Math.max(1,x-v),isNaN(z)&&(z=y))}}f&&(g=this._getColors(e,c,w,h)),T.items.push({from:z,to:A,itemIndex:w,fill:g.fillColor,stroke:g.lineColor,x:k,y:D,xFrom:H,yFrom:B})}}}}this._animR(T,0);var N=this;this._enqueueAnimation("series",void 0,void 0,q,function(e,t,i){N._animR(t,i)},T)}}}}},_animR:function(e,t){for(var i=e.items,s=e.symbolType||"circle",r=e.symbolSize,n=0;n<i.length;n++){var o=i[n],a=o.x,l=o.y,d=Math.round((o.to-o.from)*t+o.from);if(isNaN(o.yFrom)||(l=o.yFrom+(l-o.yFrom)*t),isNaN(o.xFrom)||(a=o.xFrom+(a-o.xFrom)*t),e.polarAxisCoords){var h=this._toPolarCoord(e.polarAxisCoords,this._plotRect,a,l);a=h.x,l=h.y}a=me.jqx._ptrnd(a),l=me.jqx._ptrnd(l),d=me.jqx._ptrnd(d);var c=this._getRenderInfo(e.groupIndex,e.seriesIndex,i[n].itemIndex),u=c.element,p=c.labelElement;"circle"==s?(u||(u=this.renderer.circle(a,l,d),this.renderer.attr(u,{fill:o.fill,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:o.stroke,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]})),this._isVML?this.renderer.updateCircle(u,void 0,void 0,d):this.renderer.attr(u,{r:d,cy:l,cx:a})):(u&&this.renderer.removeElement(u),u=this._drawSymbol(s,a,l,o.fill,e["fill-opacity"],o.stroke,e["stroke-opacity"]||e["fill-opacity"],e["stroke-width-symbol"],e["stroke-dasharray"],r||d)),p&&this.renderer.removeElement(p),p=this._showLabel(e.groupIndex,e.seriesIndex,o.itemIndex,{x:a-d,y:l-d,width:2*d,height:2*d}),1<=t&&this._installHandlers(u,"circle",e.groupIndex,e.seriesIndex,o.itemIndex),this._setRenderInfo(e.groupIndex,e.seriesIndex,i[n].itemIndex,{element:u,labelElement:p})}},_showToolTip:function(e,t,i,s,r){var n=this,o=n._getXAxis(i),a=n._getValueAxis(i);if(!n._ttEl||i!=n._ttEl.gidx||s!=n._ttEl.sidx||r!=n._ttEl.iidx){var l=n.seriesGroups[i],d=l.series[s],h=n.enableCrosshairs;n._pointMarker?(e=parseInt(n._pointMarker.x+5),t=parseInt(n._pointMarker.y-5)):h=!1;var c=h&&0==n.showToolTips;e=me.jqx._ptrnd(e),t=me.jqx._ptrnd(t);n._ttEl;if(0!=l.showToolTips&&0!=d.showToolTips){var u=n._get([d.toolTipFormatSettings,l.toolTipFormatSettings,a.toolTipFormatSettings,n.toolTipFormatSettings]),p=n._get([d.toolTipFormatFunction,l.toolTipFormatFunction,a.toolTipFormatFunction,n.toolTipFormatFunction]),m=n._getColors(i,s,r),f=n._getDataValue(r,o.dataField,i);null!=o.dataField&&""!=o.dataField||(f=r),"date"==o.type&&(f=n._castAsDate(f,(u?u.dateFormat:void 0)||o.dateFormat));var g="";if(me.isFunction(p)){var v={},x=0;for(var w in d)0==w.indexOf("dataField")&&(v[w.substring(9,w.length).toLowerCase()]=n._getDataValue(r,d[w],i),x++);0==x?v=n._getDataValue(r,void 0,i):1==x&&(v=v[""]),g=p(v,r,d,l,f,o)}else{g=n._getFormattedValue(i,s,r,u,p);var y=this._getAxisSettings(o),b=y.toolTipFormatSettings,_=y.toolTipFormatFunction;_||b||"date"!=o.type||(_=this._getDefaultDTFormatFn(o.baseUnit||"day"));var j=n._formatValue(f,b,_,i,s,r);if(n._isPieGroup(i))f=n._getDataValue(r,d.displayText||d.dataField,i),g=(j=n._formatValue(f,b,_,i,s,r))+": "+g;else{var q=o.displayText||o.dataField||"";g=0<q.length?q+": "+j+"<br>"+g:j+"<br>"+g}}if(n._ttEl||(n._ttEl={}),n._ttEl.sidx=s,n._ttEl.gidx=i,n._ttEl.iidx=r,rect=n.renderer.getRect(),h){var T=me.jqx._ptrnd(n._pointMarker.x),C=me.jqx._ptrnd(n._pointMarker.y),S=n.crosshairsColor||n._defaultLineColor;if(l.polar||l.spider){var k=this._getPolarAxisCoords(i,this._plotRect);if(me.jqx._ptdist(T,C,k.x,k.y)>k.r)return;var I=Math.atan2(C-k.y,T-k.x),D=Math.cos(I)*k.r+k.x,P=Math.sin(I)*k.r+k.y;n._ttEl.vLine?n.renderer.attr(n._ttEl.vLine,{x1:k.x,y1:k.y,x2:D,y2:P}):n._ttEl.vLine=n.renderer.line(k.x,k.y,D,P,{stroke:S,"stroke-width":n.crosshairsLineWidth||1,"stroke-dasharray":n.crosshairsDashStyle||""})}else n._ttEl.vLine&&n._ttEl.hLine?(n.renderer.attr(n._ttEl.vLine,{x1:T,x2:T}),n.renderer.attr(n._ttEl.hLine,{y1:C,y2:C})):(n._ttEl.vLine=n.renderer.line(T,n._plotRect.y,T,n._plotRect.y+n._plotRect.height,{stroke:S,"stroke-width":n.crosshairsLineWidth||1,"stroke-dasharray":n.crosshairsDashStyle||""}),n._ttEl.hLine=n.renderer.line(n._plotRect.x,C,n._plotRect.x+n._plotRect.width,C,{stroke:S,"stroke-width":n.crosshairsLineWidth||1,"stroke-dasharray":n.crosshairsDashStyle||""}))}if(!c&&0!=n.showToolTips){var A=d.toolTipClass||l.toolTipClass||this.toThemeProperty("jqx-chart-tooltip-text",null),M=d.toolTipBackground||l.toolTipBackground||"#FFFFFF",B=d.toolTipLineColor||l.toolTipLineColor||m.lineColor,H=this._get([d.toolTipOpacity,l.toolTipOpacity,1]),z=this.getItemCoord(i,s,r),E=0;n._pointMarker&&n._pointMarker.element&&(E=d.symbolSizeSelected,isNaN(E)&&(E=d.symbolSize),(isNaN(E)||50<E||E<0)&&(E=l.symbolSize),(isNaN(E)||50<E||E<0)&&(E=8)),n._createTooltip(z,l,g,{css:A,fill:M,stroke:B,fillOpacity:H,symbolSize:E})}}}},_fitTooltip:function(e,t,i,s,r){var n={},o=2+r/2;if(t.x-i.width-7-o>e.x&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(n.left={arrowLocation:"right",x:t.x-i.width-7-o,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.x+t.width+i.width+7+o<e.x+e.width&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(n.right={arrowLocation:"left",x:t.x+t.width+o,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.y-i.height-o-7>e.y&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(n.top={arrowLocation:"bottom",x:t.x+t.width/2-i.width/2,y:t.y-i.height-o-7,width:i.width,height:i.height+7}),t.y+t.height+i.height+7+o<e.y+e.height&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(n.bottom={arrowLocation:"top",x:t.x+t.width/2-i.width/2,y:t.y+t.height+o,width:i.width,height:i.height+7}),t.width>t.height||(-1!=s.type.indexOf("stackedcolumn")||-1!=s.type.indexOf("stackedwaterfall"))&&"horizontal"!=s.orientation){if(n.left)return n.left;if(n.right)return n.right}else{if(n.top)return n.top;if(n.bottom)return n.bottom}for(var a in n)if(n[a])return n[a];return{arrowLocation:""}},_createTooltip:function(e,t,i,s){var r=t.type,n=!1,o=this._ttEl.box;if(!o){n=!0;(o=this._ttEl.box=document.createElement("div")).style.position="absolute",o.style.cursor="default",me(a).css({"z-index":1e7,"box-sizing":"content-box"}),me(o).css({"z-index":1e7}),me(document.body).append(o);var a=document.createElement("div");a.id="arrowOuterDiv",a.style.width="0px",a.style.height="0px",a.style.position="absolute",me(a).css({"z-index":1e7+1,"box-sizing":"content-box"});var l=document.createElement("div");l.id="arrowInnerDiv",l.style.width="0px",l.style.height="0px",l.style.position="absolute";var d=document.createElement("div");d.id="contentDiv",d.style.position="absolute",me(d).css({"box-sizing":"content-box"}),me(d).addClass("jqx-rc-all jqx-button"),me(d).appendTo(me(o)),me(a).appendTo(me(o)),me(l).appendTo(me(o)),me(l).css({"z-index":1e7+2,"box-sizing":"content-box"})}if(i&&0!=i.length){d=me(o).find("#contentDiv")[0],a=me(o).find("#arrowOuterDiv")[0],(l=me(o).find("#arrowInnerDiv")[0]).style.opacity=a.style.opacity=s.fillOpacity,d.style.backgroundColor=s.fill,d.style.borderColor=s.stroke,d.style.opacity=s.fillOpacity;var h="<span class='"+s.css+"'>"+i+"</span>";me(d).html(h);var c=this._measureHtml(h,"jqx-rc-all jqx-button");if(rect=this._plotRect,!(c.width>rect.width||c.height>rect.height)){var u={width:c.width,height:c.height};arrowLocation="";var p=this._isColumnType(r);if(x=Math.max(e.x,rect.x),y=Math.max(e.y,rect.y),"dataPoint"==this.toolTipAlignment){if(-1!=r.indexOf("pie")||-1!=r.indexOf("donut")){var m=(e.fromAngle+e.toAngle)/2;m*=Math.PI/180;var f=!isNaN(e.innerRadius)&&0<e.innerRadius?(e.innerRadius+e.outerRadius)/2:.75*e.outerRadius;x=e.x=e.center.x+Math.cos(m)*f,y=e.y=e.center.y-Math.sin(m)*f,e.width=e.height=1}else p&&(t.polar||t.spider)&&(e.width=e.height=1);var g=this._fitTooltip(this._plotRect,e,u,t,s.symbolSize);""!=g.arrowLocation&&(arrowLocation=g.arrowLocation,x=g.x,y=g.y,u.width=g.width,u.height=g.height)}else arrowLocation="";"top"==arrowLocation||"bottom"==arrowLocation?(u.height+=7,x-=3.5,"bottom"==arrowLocation&&(y-=7)):"left"!=arrowLocation&&"right"!=arrowLocation||(u.width+=7,y-=3.5,"right"==arrowLocation&&(x-=7)),x+u.width>rect.x+rect.width&&(arrowLocation="",x=rect.x+rect.width-u.width),y+u.height>rect.y+rect.height&&(arrowLocation="",y=rect.y+rect.height-u.height);var v={x:0,y:0};me(d).css({width:c.width,height:c.height,left:0,top:0}),a.style["margin-top"]=a.style["margin-left"]=0,l.style["margin-top"]=l.style["margin-left"]=0,d.style["margin-top"]=d.style["margin-left"]=0;var w="7px solid",b="7px solid transparent";switch(arrowLocation){case"left":v={x:0,y:(c.height-7)/2},contentPostion={x:7,y:0},d.style["margin-left"]="7px",a.style["margin-left"]="0px",a.style["margin-top"]=v.y+"px",a.style["border-left"]="",a.style["border-right"]=w+" "+s.stroke,a.style["border-top"]=b,a.style["border-bottom"]=b,l.style["margin-left"]="1px",l.style["margin-top"]=v.y+"px",l.style["border-left"]="",l.style["border-right"]=w+" "+s.fill,l.style["border-top"]=b,l.style["border-bottom"]=b;break;case"right":v={x:u.width-7,y:(c.height-7)/2},contentPostion={x:0,y:0},a.style["margin-left"]=v.x+"px",a.style["margin-top"]=v.y+"px",a.style["border-left"]=w+" "+s.stroke,a.style["border-right"]="",a.style["border-top"]=b,a.style["border-bottom"]=b,l.style["margin-left"]=v.x-1+"px",l.style["margin-top"]=v.y+"px",l.style["border-left"]=w+" "+s.fill,l.style["border-right"]="",l.style["border-top"]=b,l.style["border-bottom"]=b;break;case"top":v={x:u.width/2-3.5,y:0},contentPostion={x:0,y:7},d.style["margin-top"]=contentPostion.y+"px",a.style["margin-left"]=v.x+"px",a.style["border-top"]="",a.style["border-bottom"]=w+" "+s.stroke,a.style["border-left"]=b,a.style["border-right"]=b,l.style["margin-left"]=v.x+"px",l.style["margin-top"]="1px",l.style["border-top"]="",l.style["border-bottom"]=w+" "+s.fill,l.style["border-left"]=b,l.style["border-right"]=b;break;case"bottom":v={x:u.width/2-3.5,y:u.height-7},contentPostion={x:0,y:0},a.style["margin-left"]=v.x+"px",a.style["margin-top"]=v.y+"px",a.style["border-top"]=w+" "+s.stroke,a.style["border-bottom"]="",a.style["border-left"]=b,a.style["border-right"]=b,l.style["margin-left"]=v.x+"px",l.style["margin-top"]=v.y-1+"px",l.style["border-top"]=w+" "+s.fill,l.style["border-bottom"]="",l.style["border-left"]=b,l.style["border-right"]=b}""==arrowLocation?(me(a).hide(),me(l).hide()):(me(a).show(),me(l).show()),me(o).css({width:u.width+"px",height:u.height+"px"});var _=this.host.coord();n&&(me(o).fadeOut(0,0),o.style.left=x+_.left+"px",o.style.top=y+_.top+"px"),me(o).clearQueue(),me(o).animate({left:x+_.left,top:y+_.top,opacity:1},this.toolTipMoveDuration,"easeInOutCirc"),me(o).fadeTo(400,1)}}else me(o).fadeTo(0,0)},_measureHtml:function(e,t){var i=this._measureDiv;i||(this._measureDiv=i=document.createElement("div"),i.style.position="absolute",i.style.cursor="default",i.style.overflow="hidden",i.style.display="none",me(i).addClass(t),this.host.append(i)),me(i).html(e);var s={width:me(i).width()+2,height:me(i).height()+2};return me.jqx.browser&&me.jqx.browser.mozilla&&(s.height+=3),s},_hideToolTip:function(e){this._ttEl&&(this._ttEl.box&&(0==e?me(this._ttEl.box).hide():me(this._ttEl.box).fadeOut()),this._hideCrosshairs(),this._ttEl.gidx=void 0)},_hideCrosshairs:function(){this._ttEl&&(this._ttEl.vLine&&(this.renderer.removeElement(this._ttEl.vLine),this._ttEl.vLine=void 0),this._ttEl.hLine&&(this.renderer.removeElement(this._ttEl.hLine),this._ttEl.hLine=void 0))},_get:function(e){return me.jqx.getByPriority(e)},_getAxisSettings:function(e){if(!e)return{};var t=this,i=e.gridLines||{},s={visible:this._get([i.visible,e.showGridLines,!0]),color:t._get([i.color,e.gridLinesColor,t._defaultLineColor]),unitInterval:t._get([i.unitInterval,i.interval,e.gridLinesInterval]),step:t._get([i.step,e.gridLinesStep]),dashStyle:t._get([i.dashStyle,e.gridLinesDashStyle]),width:t._get([i.lineWidth,1]),offsets:[],alternatingBackgroundColor:e.alternatingBackgroundColor,alternatingBackgroundColor2:e.alternatingBackgroundColor2,alternatingBackgroundOpacity:e.alternatingBackgroundOpacity},r=e.tickMarks||{},n={visible:this._get([r.visible,e.showTickMarks,!0]),color:t._get([r.color,e.tickMarksColor,t._defaultLineColor]),unitInterval:t._get([r.unitInterval,r.interval,e.tickMarksInterval]),step:t._get([r.step,e.tickMarksStep]),dashStyle:t._get([r.dashStyle,e.tickMarksDashStyle]),width:t._get([r.lineWidth,1]),size:t._get([r.size,4]),offsets:[]},o=e.title||{},a={visible:t._get([o.visible,!0]),text:t._get([e.description,o.text]),style:t._get([e.descriptionClass,o.class,t.toThemeProperty("jqx-chart-axis-description",null)]),halign:t._get([e.horizontalDescriptionAlignment,o.horizontalAlignment,"center"]),valign:t._get([e.verticalDescriptionAlignment,o.verticalAlignment,"center"]),angle:0,rotationPoint:t._get([o.rotationPoint,"centercenter"]),offset:t._get([o.offset,{x:0,y:0}])},l=e.line||{},d={visible:t._get([l.visible,!0]),color:t._get([l.color,s.color,t._defaultLineColor]),dashStyle:t._get([l.dashStyle,s.dashStyle,""]),width:t._get([l.lineWidth,1]),angle:t._get([l.angle,NaN])},h=e.padding||{};h={left:h.left||0,right:h.right||0,top:h.top||0,bottom:h.bottom||0};var c=this._getAxisLabelsSettings(e);return{visible:this._get([e.visible,e.showValueAxis,e.showXAxis,e.showCategoryAxis,!0]),customDraw:this._get([e.customDraw,!1]),gridLines:s,tickMarks:n,line:d,title:a,labels:c,padding:h,toolTipFormatFunction:this._get([e.toolTipFormatFunction,e.formatFunction,c.formatFunction]),toolTipFormatSettings:this._get([e.toolTipFormatSettings,e.formatSettings,c.formatSettings])}},_getAxisLabelsSettings:function(e){var t=this,i=e.labels||{};return{visible:t._get([e.showLabels,i.visible,!0]),unitInterval:t._get([i.unitInterval,i.interval,e.labelsInterval]),step:t._get([i.step,e.labelsStep]),angle:t._get([e.textRotationAngle,i.angle,0]),style:t._get([e.class,i.class,t.toThemeProperty("jqx-chart-axis-text",null)]),halign:t._get([e.horizontalTextAlignment,i.horizontalAlignment,"center"]),valign:t._get([e.verticalTextAlignment,i.verticalAlignment,"center"]),textRotationPoint:t._get([e.textRotationPoint,i.rotationPoint,"auto"]),textOffset:t._get([e.textOffset,i.offset,{x:0,y:0}]),autoRotate:t._get([e.labelsAutoRotate,i.autoRotate,!1]),formatSettings:t._get([e.formatSettings,i.formatSettings,void 0]),formatFunction:t._get([e.formatFunction,i.formatFunction,void 0])}},_getLabelsSettings:function(e,t,i,s){for(var r=this.seriesGroups[e],n=r.series[t],o=isNaN(i)?void 0:this._getDataValue(i,n.dataField,e),a=s||["Visible","Offset","Angle","HorizontalAlignment","VerticalAlignment","Class","BackgroundColor","BorderColor","BorderOpacity","Padding","Opacity","BackgroundOpacity","LinesAngles","LinesEnabled","AutoRotate","Radius"],l={},d=0;d<a.length;d++){var h=a[d],c="labels"+h,u="label"+h,p=h.substring(0,1).toLowerCase()+h.substring(1),m=void 0;r.labels&&"object"==typeof r.labels&&(m=r.labels[p]),n.labels&&"object"==typeof n.labels&&null!=n.labels[p]&&(m=n.labels[p]),m=this._get([n[c],n[u],m,r[c],r[u]]),me.isFunction(m)?l[p]=m(o,i,n,r):l[p]=m}l.class=l.class||this.toThemeProperty("jqx-chart-label-text",null),l.visible=this._get([l.visible,n.showLabels,r.showLabels,null!=n.labels||void 0,null!=r.labels||void 0]);var f=l.padding||1;return l.padding={left:this._get([f.left,isNaN(f)?1:f]),right:this._get([f.right,isNaN(f)?1:f]),top:this._get([f.top,isNaN(f)?1:f]),bottom:this._get([f.bottom,isNaN(f)?1:f])},l},_showLabel:function(e,t,i,s,r,n,o,a,l,d,h){this.seriesGroups[e].series[t];var c={width:0,height:0};if(!isNaN(i)){var u=this._getLabelsSettings(e,t,i);if(!u.visible)return o?c:void 0;if(s.width<0||s.height<0)return o?c:void 0;var p=u.angle;isNaN(d)||(p=d);var m=u.offset||{},f={x:m.x,y:m.y};isNaN(f.x)&&(f.x=0),isNaN(f.y)&&(f.y=0),r=r||u.horizontalAlignment||"center",n=n||u.verticalAlignment||"center";var g=this._getFormattedValue(e,t,i,void 0,void 0,!0),v=s.width,x=s.height;if(1==a&&"center"!=r&&(r="right"==r?"left":"right"),1==l&&"center"!=n&&"middle"!=n&&(n="top"==n?"bottom":"top",f.y*=-1),c=this.renderer.measureText(g,p,{class:u.class}),o)return c;var w=0,y=0;0<v&&(""==r||"center"==r?w+=(v-c.width)/2:"right"==r&&(w+=v-c.width)),0<x&&(""==n||"center"==n?y+=(x-c.height)/2:"bottom"==n&&(y+=x-c.height)),w+=s.x+f.x,y+=s.y+f.y;var b=this._plotRect;w<=b.x&&(w=b.x+2),y<=b.y&&(y=b.y+2);var _,j=Math.max(c.width,1),q=Math.max(c.height,1);y+q>=b.y+b.height&&(y=b.y+b.height-q-2),w+j>=b.x+b.width&&(w=b.x+b.width-j-2);var T=u.backgroundColor,C=u.borderColor,S=u.padding;if(T||C){_=this.renderer.beginGroup();s=this.renderer.rect(w-S.left,y-S.top,c.width+S.left+S.right,c.height+S.bottom+S.bottom,{fill:T||"transparent","fill-opacity":u.backgroundOpacity||1,stroke:C||"transparent","stroke-opacity":u.borderOpacity,"stroke-width":1})}var k=this.renderer.text(g,w,y,c.width,c.height,p,{class:u.class,opacity:u.opacity||1},!1,"center","center");return h&&(h.x=w-S.left,h.y=y-S.top,h.width=c.width+S.left+S.right,h.height=c.height+S.bottom+S.bottom),this._isVML&&(this.renderer.removeElement(k),this.renderer.getContainer()[0].appendChild(k)),_&&this.renderer.endGroup(),_||k}},_getAnimProps:function(e,t){var i=this.seriesGroups[e],s=isNaN(t)?void 0:i.series[t],r=1==this.enableAnimations;i.enableAnimations&&(r=1==i.enableAnimations),s&&s.enableAnimations&&(r=1==s.enableAnimations);var n=this.animationDuration;isNaN(n)&&(n=1e3);var o=i.animationDuration;if(isNaN(o)||(n=o),s){var a=s.animationDuration;isNaN(a)||(n=a)}return 5e3<n&&(n=1e3),{enabled:r,duration:n}},_isColorTransition:function(e,t,i,s){if(s-1<i.xoffsets.first)return!1;var r=this._getColors(e,t,s,this._getGroupGradientType(e)),n=this._getColors(e,t,s-1,this._getGroupGradientType(e));return r.fillColor!=n.fillColor},_renderLineSeries:function(e,t){var i=this.seriesGroups[e];if(i.series&&0!=i.series.length){var s=-1!=i.type.indexOf("area"),r=-1!=i.type.indexOf("stacked"),n=r&&-1!=i.type.indexOf("100"),o=-1!=i.type.indexOf("spline"),a=-1!=i.type.indexOf("step"),l=-1!=i.type.indexOf("range"),d=1==i.polar||1==i.spider;if(d&&(a=!1),!a||!o){var h=this._getDataLen(e),c=(t.width,"horizontal"==i.orientation),u=1==this._getXAxis(e).flip,p=t;c&&(p={x:t.y,y:t.x,width:t.height,height:t.width});var m=this._calcGroupOffsets(e,p);if(m&&0!=m.xoffsets.length){this._linesRenderInfo||(this._linesRenderInfo={}),this._linesRenderInfo[e]={};for(var f=i.series.length-1;0<=f;f--){var g=this._getSerieSettings(e,f),v={groupIndex:e,rect:p,serieIndex:f,swapXY:c,isArea:s,isSpline:o,isRange:l,isPolar:d,settings:g,segments:[],pointsLength:0};if(this._isSerieVisible(e,f)){var x=i.series[f];if(!x.customDraw){var w,y=me.isFunction(x.colorFunction),b=m.xoffsets.first,_=b,j=this._getColors(e,f,NaN,this._getGroupGradientType(e));do{var q=[],T=[],C=[],S=0,k=0,I=NaN,D=NaN,P=NaN;if(!(m.xoffsets.length<1)){var A=this._getAnimProps(e,f),M=A.enabled&&!this._isToggleRefresh&&m.xoffsets.length<1e4&&1!=this._isVML?A.duration:0,B=b;w=!1;this._getColors(e,f,b,this._getGroupGradientType(e));for(var H=void 0,z=b;z<=m.xoffsets.last;z++){b=z;var E=m.xoffsets.data[z],O=m.xoffsets.xvalues[z];if(!isNaN(E)&&(S=E=Math.max(E,1),k=m.offsets[f][z].to,!(!y&&H&&this.enableSampling&&me.jqx._ptdist(H.x,H.y,S,k)<1))){H={x:S,y:k};var N=m.offsets[f][z].from;if(isNaN(k)||isNaN(N)){if("connect"==x.emptyPointsDisplay)continue;if("zero"!=x.emptyPointsDisplay){w=!0;break}isNaN(k)&&(k=m.baseOffset),isNaN(N)&&(N=m.baseOffset)}if(y&&this._isColorTransition(e,f,m,b)&&1<q.length){b--;break}var L=this._elementRenderInfo;if(L&&L.length>e&&L[e].series.length>f){var R=L[e].series[f][O],F=(P=me.jqx._ptrnd(R?R.to:void 0),me.jqx._ptrnd(p.x+(R?R.xoffset:void 0)));C.push(c?{y:F,x:P,index:z}:{x:F,y:P,index:z})}_=z,g.stroke<2&&(k-p.y<=1&&(k=p.y+1),N-p.y<=1&&(N=p.y+1),p.y+p.height-k<=1&&(k=p.y+p.height-1),p.y+p.height-N<=1&&(N=p.y+p.height-1)),!s&&n&&(k<=p.y&&(k=p.y+1),k>=p.y+p.height&&(k=p.y+p.height-1),N<=p.y&&(N=p.y+1),N>=p.y+p.height&&(N=p.y+p.height-1)),S=(E=Math.max(E,1))+p.x,1==i.skipOverlappingPoints&&!isNaN(I)&&Math.abs(I-S)<=1||(!a||isNaN(I)||isNaN(D)||D!=k&&q.push(c?{y:S,x:me.jqx._ptrnd(D)}:{x:S,y:me.jqx._ptrnd(D)}),q.push(c?{y:S,x:me.jqx._ptrnd(k),index:z}:{x:S,y:me.jqx._ptrnd(k),index:z}),T.push(c?{y:S,x:me.jqx._ptrnd(N),index:z}:{x:S,y:me.jqx._ptrnd(N),index:z}),I=S,D=k,isNaN(P)&&(P=k))}}if(0!=q.length){var W=q[q.length-1].index;y&&(j=this._getColors(e,f,W,this._getGroupGradientType(e)));var V=p.x+m.xoffsets.data[B],G=p.x+m.xoffsets.data[_];if(s&&1==i.alignEndPointsWithIntervals){if(V>p.x&&(V=p.x),G<p.x+p.width&&(G=p.x+p.width),u){var U=V;V=G,G=U}}G=me.jqx._ptrnd(G),V=me.jqx._ptrnd(V);var Y=m.baseOffset;P=me.jqx._ptrnd(P);var K=me.jqx._ptrnd(k)||Y;l&&(q=q.concat(T.reverse())),v.pointsLength+=q.length;var X={lastItemIndex:W,colorSettings:j,pointsArray:q,pointsStart:C,left:V,right:G,pyStart:P,pyEnd:K,yBase:Y,labelElements:[],symbolElements:[]};v.segments.push(X)}else b++}}while(b<m.xoffsets.first+m.xoffsets.length-1||w);this._linesRenderInfo[e][f]=v}}else this._linesRenderInfo[e][f]=v}var $=this._linesRenderInfo[e],Z=[];for(var z in $)Z.push($[z]);Z=Z.sort(function(e,t){return e.serieIndex-t.serieIndex}),s&&r&&Z.reverse();for(z=0;z<Z.length;z++){v=Z[z];this._animateLine(v,0==M?1:0);var J=this;this._enqueueAnimation("series",void 0,void 0,M,function(e,t,i){J._animateLine(t,i)},v)}}}}},_animateLine:function(e,t){var i=e.settings,s=e.groupIndex,r=e.serieIndex,n=this.seriesGroups[s],o=n.series[r],a=this._getSymbol(s,r),l=this._getLabelsSettings(s,r,NaN,["Visible"]).visible,d=!0;e.isPolar&&(isNaN(n.endAngle)||360==Math.round(Math.abs((isNaN(n.startAngle)?0:n.startAngle)-n.endAngle))||(d=!1)),0==o.endPointsConnect&&(d=!1);for(var h=0,c=0;c<e.segments.length;c++){var u=e.segments[c],p=this._calculateLine(s,e.pointsLength,h,u.pointsArray,u.pointsStart,u.yBase,t,e.isArea,e.swapXY);if(h+=u.pointsArray.length,""!=p){var m=p.split(" "),f=(m.length,p);f=""!=f?this._buildLineCmd(p,e.isRange,u.left,u.right,u.pyStart,u.pyEnd,u.yBase,e.isArea,e.isPolar,d,e.isSpline,e.swapXY):"M 0 0";var g=u.colorSettings;if(u.pathElement?this.renderer.attr(u.pathElement,{d:f}):(u.pathElement=this.renderer.path(f,{"stroke-width":i.stroke,stroke:g.lineColor,"stroke-opacity":i.opacity,"fill-opacity":i.opacity,"stroke-dasharray":i.dashStyle,fill:e.isArea?g.fillColor:"none"}),this._installHandlers(u.pathElement,"path",s,r,u.lastItemIndex)),u.labelElements){for(var v=0;v<u.labelElements.length;v++)this.renderer.removeElement(u.labelElements[v]);u.labelElements=[]}if(u.symbolElements){for(v=0;v<u.symbolElements.length;v++)this.renderer.removeElement(u.symbolElements[v]);u.symbolElements=[]}if(u.pointsArray.length==m.length&&("none"!=a||l)){var x=o.symbolSize,w=this._plotRect;for(v=0;v<m.length;v++){var y=m[v].split(",");if(!((y={x:parseFloat(y[0]),y:parseFloat(y[1])}).x<w.x||y.x>w.x+w.width||y.y<w.y||y.y>w.y+w.height)){if("none"!=a){var b=this._getColors(s,r,u.pointsArray[v].index,this._getGroupGradientType(s)),_=this._drawSymbol(a,y.x,y.y,b.fillColorSymbol,i.opacity,b.lineColorSymbol,i.opacity,i.strokeSymbol,void 0,x);u.symbolElements.push(_)}if(l){var j=(0<v?m[v-1]:m[v]).split(",");j={x:parseFloat(j[0]),y:parseFloat(j[1])};var q=(v<m.length-1?m[v+1]:m[v]).split(",");if(q={x:parseFloat(q[0]),y:parseFloat(q[1])},y=this._adjustLineLabelPosition(s,r,u.pointsArray[v].index,y,j,q)){var T=this._showLabel(s,r,u.pointsArray[v].index,{x:y.x,y:y.y,width:0,height:0});u.labelElements.push(T)}}}}}if(1==t&&"none"!=a)for(v=0;v<u.symbolElements.length;v++)isNaN(u.pointsArray[v].index)||this._installHandlers(u.symbolElements[v],"symbol",s,r,u.pointsArray[v].index)}}},_adjustLineLabelPosition:function(e,t,i,s,r,n){var o=this._showLabel(e,t,i,{width:0,height:0},"","",!0);if(o){var a={x:s.x-o.width/2,y:0};return a.y=s.y-1.5*o.height,a}},_calculateLine:function(e,t,i,s,r,n,o,a,l){var d,h=this.seriesGroups[e];1!=h.polar&&1!=h.spider||(d=this._getPolarAxisCoords(e,this._plotRect));var c="",u=s.length;a||0!=r.length||(u=t*o-i);for(var p=0;p<u+1&&p<s.length;p++){0<p&&(c+=" ");var m=s[p].y,f=s[p].x,g=a?n:m,v=f;if(r&&r.length>p&&(g=r[p].y,v=r[p].x,(isNaN(g)||isNaN(v))&&(g=m,v=f)),v,u<=s.length&&0<p&&p==u&&(v=s[p-1].x,g=s[p-1].y),l?(f=me.jqx._ptrnd((f-g)*(a?o:1)+g),m=me.jqx._ptrnd(m)):(f=me.jqx._ptrnd((f-v)*o+v),m=me.jqx._ptrnd((m-g)*o+g)),d){var x=this._toPolarCoord(d,this._plotRect,f,m);f=x.x,m=x.y}c+=f+","+m}return c},_buildLineCmd:function(e,t,i,s,r,n,o,a,l,d,h,c){var u=e,p=c?o+","+i:i+","+o;!a||l||t||(u=p+" "+e+" "+(c?o+","+s:s+","+o)),h&&(u=this._getBezierPoints(u));var m=u.split(" ");if(0==m.length)return"";if(1==m.length){var f=m[0].split(",");return"M "+m[0]+" L"+(parseFloat(f[0])+1)+","+(parseFloat(f[1])+1)}var g=m[0].replace("M","");return a&&!l?u=t?"M "+g+" L "+g+(h?"":" L "+g+" ")+u:"M "+p+" L "+g+" "+u:h||(u="M "+g+" L "+g+" "+u),(l&&d||t)&&(u+=" Z"),u},_getSerieSettings:function(e,t){var i=this.seriesGroups[e],s=-1!=i.type.indexOf("area"),r=-1!=i.type.indexOf("line"),n=i.series[t],o=n.dashStyle||i.dashStyle||"",a=n.opacity||i.opacity;(isNaN(a)||a<0||1<a)&&(a=1);var l=n.lineWidth;isNaN(l)&&"auto"!=l&&(l=i.lineWidth),("auto"==l||isNaN(l)||l<0||15<l)&&(l=s?2:r?3:1);var d=n.lineWidthSymbol;return isNaN(d)&&(d=1),{stroke:l,strokeSymbol:d,opacity:a,dashStyle:o}},_getColors:function(e,t,i,s,r){var n=this.seriesGroups[e],o=n.series[t],a=this._get([o.useGradientColors,n.useGradientColors,n.useGradient,!0]),l=this._getSeriesColors(e,t,i);l.fillColor||(l.fillColor=v,l.fillColorSelected=me.jqx.adjustColor(v,1.1),l.fillColorAlt=me.jqx.adjustColor(v,4),l.fillColorAltSelected=me.jqx.adjustColor(v,3),l.lineColor=l.symbolColor=me.jqx.adjustColor(v,.9),l.lineColorSelected=l.symbolColorSelected=me.jqx.adjustColor(v,.9));var d=[[0,1.4],[100,1]],h=[[0,1],[25,1.1],[50,1.4],[100,1]],c=NaN;if(isNaN(r)||(c=2==r?d:h),a){var u={};for(var p in l)u[p]=l[p];if(l=u,"verticalLinearGradient"==s||"horizontalLinearGradient"==s){var m="verticalLinearGradient"==s?c||d:c||h,f=["fillColor","fillColorSelected","fillColorAlt","fillColorAltSelected"];for(var g in f){var v=l[f[g]];v&&(l[f[g]]=this.renderer._toLinearGradient(v,"verticalLinearGradient"==s,m))}}else if("radialGradient"==s){var x;c=d;("pie"==n.type||"donut"==n.type||n.polar)&&null!=i&&this._renderData[e]&&this._renderData[e].offsets[t]&&(x=this._renderData[e].offsets[t][i],c=[[0,1.3],[90,1.2],[100,1]]),l.fillColor=this.renderer._toRadialGradient(l.fillColor,c,x),l.fillColorSelected=this.renderer._toRadialGradient(l.fillColorSelected,c,x)}}return l},_installHandlers:function(i,s,n,o,a){if(!this.enableEvents)return!1;var l=this,t=this.seriesGroups[n],r=this.seriesGroups[n].series[o],d=-1!=t.type.indexOf("line")||-1!=t.type.indexOf("area");d||0==t.enableSelection||0==r.enableSelection||this.renderer.addHandler(i,"mousemove",function(e){var t=l._selected;if(!t||!t.isLineType||"click"!=t.linesUnselectMode||t.group==n&&t.series==o){var i=e.pageX||e.clientX||e.screenX,s=e.pageY||e.clientY||e.screenY,r=l.host.offset();i-=r.left,s-=r.top,l._mouseX==i&&l._mouseY==s||l._ttEl&&l._ttEl.gidx==n&&l._ttEl.sidx==o&&l._ttEl.iidx==a||l._startTooltipTimer(n,o,a)}}),0!=t.enableSelection&&0!=r.enableSelection&&this.renderer.addHandler(i,"mouseover",function(e){var t=l._selected;t&&t.isLineType&&"click"==t.linesUnselectMode&&(t.group!=n||t.series!=o)||l._select(i,s,n,o,a,a)}),this.renderer.addHandler(i,"click",function(e){clearTimeout(l._hostClickTimer),l._lastClickTs=(new Date).valueOf(),d&&"symbol"!=s&&"pointMarker"!=s||(l._isColumnType(t.type)&&l._unselect(),isNaN(a)||(e.stopImmediatePropagation(),l._raiseItemEvent("click",t,r,a)))})},_getHorizontalOffset:function(e,t,i,s){var r=this._plotRect;if(0==this._getDataLen(e))return{index:void 0,value:i};var n=this._calcGroupOffsets(e,this._plotRect);if(0==n.xoffsets.length)return{index:void 0,value:void 0};var o,a=i,l=s,d=this.seriesGroups[e];(d.polar||d.spider)&&(o=this._getPolarAxisCoords(e,r));this._getXAxis(e).flip;for(var h,c,u,p,m=n.xoffsets.first;m<=n.xoffsets.last;m++){var f=n.xoffsets.data[m],g=n.offsets[t][m].to,v=0;if(o){var x=this._toPolarCoord(o,r,f+r.x,g);f=x.x,g=x.y,v=me.jqx._ptdist(a,l,f,g)}else if("horizontal"==d.orientation){var w=g;g=f+=r.y,f=w,v=me.jqx._ptdist(a,l,f,g)}else f+=r.x,v=Math.abs(a-f);(isNaN(h)||v<h)&&(h=v,c=m,u=f,p=g)}return{index:c,value:n.xoffsets.data[c],polarAxisCoords:o,x:u,y:p}},onmousemove:function(e,t){if((this._mouseX!=e||this._mouseY!=t)&&(this._mouseX=e,this._mouseY=t,this._selected)){var i=this._selected.group,s=this._selected.series,r=this.seriesGroups[i],n=r.series[s],o=this._plotRect;if(this.renderer&&((o=this.renderer.getRect()).x+=5,o.y+=5,o.width-=10,o.height-=10),e<o.x||e>o.x+o.width||t<o.y||t>o.y+o.height)return this._hideToolTip(),void this._unselect();var a="horizontal"==r.orientation;o=this._plotRect;if(-1!=r.type.indexOf("line")||-1!=r.type.indexOf("area")){var l=this._getHorizontalOffset(i,this._selected.series,e,t),d=l.index;if(null==d)return;if(this._selected.item!=d){for(var h=this._linesRenderInfo[i][s].segments,c=0;d>h[c].lastItemIndex;)if(++c>=h.length)return;var u=h[c].pathElement,p=h[c].lastItemIndex;this._unselect(!1),this._select(u,"path",i,s,d,p)}var m=this._getSymbol(this._selected.group,this._selected.series);"none"==m&&(m="circle");var f=this._calcGroupOffsets(i,o),g=f.offsets[this._selected.series][d].to,v=g;-1!=r.type.indexOf("range")&&(v=f.offsets[this._selected.series][d].from);var x=a?e:t;if(t=!isNaN(v)&&Math.abs(x-v)<Math.abs(x-g)?v:g,isNaN(t))return;if(e=l.value,a){var w=e;e=t,t=w+o.y}else e+=o.x;if(l.polarAxisCoords&&(e=l.x,t=l.y),t=me.jqx._ptrnd(t),e=me.jqx._ptrnd(e),this._pointMarker&&this._pointMarker.element&&(this.renderer.removeElement(this._pointMarker.element),this._pointMarker.element=void 0),isNaN(e)||isNaN(t))return;var y=this._getSeriesColors(i,s,d),b=this._getSerieSettings(i,s),_=n.symbolSizeSelected;isNaN(_)&&(_=n.symbolSize),(isNaN(_)||50<_||_<0)&&(_=r.symbolSize),(isNaN(_)||50<_||_<0)&&(_=8),(this.showToolTips||this.enableCrosshairs)&&(this._pointMarker={type:m,x:e,y:t,gidx:i,sidx:s,iidx:d},this._pointMarker.element=this._drawSymbol(m,e,t,y.fillColorSymbolSelected,b.opacity,y.lineColorSymbolSelected,b.opacity,b.strokeSymbol,b.dashStyle,_),this._installHandlers(this._pointMarker.element,"pointMarker",i,s,d)),this._startTooltipTimer(i,this._selected.series,d)}}},_drawSymbol:function(e,t,i,s,r,n,o,a,l,d){var h,c=d||6,u=c/2;switch(e){case"none":return;case"circle":h=this.renderer.circle(t,i,c/2);break;case"square":u=(c-=1)/2,h=this.renderer.rect(t-u,i-u,c,c);break;case"diamond":var p="M "+(t-u)+","+i+" L"+t+","+(i-u)+" L"+(t+u)+","+i+" L"+t+","+(i+u)+" Z";h=this.renderer.path(p);break;case"triangle_up":case"triangle":p="M "+(t-u)+","+(i+u)+" L "+(t+u)+","+(i+u)+" L "+t+","+(i-u)+" Z";h=this.renderer.path(p);break;case"triangle_down":p="M "+(t-u)+","+(i-u)+" L "+t+","+(i+u)+" L "+(t+u)+","+(i-u)+" Z";h=this.renderer.path(p);break;case"triangle_left":p="M "+(t-u)+","+i+" L "+(t+u)+","+(i+u)+" L "+(t+u)+","+(i-u)+" Z";h=this.renderer.path(p);break;case"triangle_right":p="M "+(t-u)+","+(i-u)+" L "+(t-u)+","+(i+u)+" L "+(t+u)+","+i+" Z";h=this.renderer.path(p);break;default:h=this.renderer.circle(t,i,c)}return this.renderer.attr(h,{fill:s,"fill-opacity":r,stroke:n,"stroke-width":a,"stroke-opacity":o,"stroke-dasharray":l||""}),"circle"!=e&&(this.renderer.attr(h,{r:c/2}),"square"!=e&&this.renderer.attr(h,{x:t,y:i})),h},_getSymbol:function(e,t){var i,s=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"],r=this.seriesGroups[e],n=r.series[t];return null!=n.symbolType&&(i=n.symbolType),null==i&&(i=r.symbolType),"default"==i?s[t%s.length]:null!=i?i:"none"},_startTooltipTimer:function(t,i,s,r,n,e,o){this._cancelTooltipTimer();var a=this,l=(a.seriesGroups[t],this.toolTipShowDelay||this.toolTipDelay);(isNaN(l)||1e4<l||l<0)&&(l=500),(this._ttEl||1==this.enableCrosshairs&&0==this.showToolTips)&&(l=0),isNaN(e)||(l=e),clearTimeout(this._tttimerHide),isNaN(r)&&(r=a._mouseX),isNaN(n)&&(n=a._mouseY-3),0==l&&a._showToolTip(r,n,t,i,s),this._tttimer=setTimeout(function(){0!=l&&a._showToolTip(r,n,t,i,s);var e=a.toolTipHideDelay;isNaN(o)||(e=o),isNaN(e)&&(e=4e3),a._tttimerHide=setTimeout(function(){a._hideToolTip(),a._unselect()},e)},l)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(e){var t=this.seriesGroups[e];return-1!=t.type.indexOf("area")?"horizontal"==t.orientation?"horizontalLinearGradient":"verticalLinearGradient":this._isColumnType(t.type)||-1!=t.type.indexOf("candle")?t.polar?"radialGradient":"horizontal"==t.orientation?"verticalLinearGradient":"horizontalLinearGradient":-1!=t.type.indexOf("scatter")||-1!=t.type.indexOf("bubble")||this._isPieGroup(e)?"radialGradient":void 0},_select:function(e,t,i,s,r,n){if(this._selected){if(this._selected.item==r&&this._selected.series==s&&this._selected.group==i)return;this._unselect()}var o=this.seriesGroups[i],a=o.series[s];if(0!=o.enableSelection&&0!=a.enableSelection){var l=-1!=o.type.indexOf("line")&&-1==o.type.indexOf("area");this._selected={element:e,type:t,group:i,series:s,item:r,iidxBase:n,isLineType:l,linesUnselectMode:a.linesUnselectMode||o.linesUnselectMode};var d=this._getColors(i,s,n||r,this._getGroupGradientType(i)),h=d.fillColorSelected;l&&(h="none");var c=this._getSerieSettings(i,s),u="symbol"==t?d.lineColorSymbolSelected:d.lineColorSelected;h="symbol"==t?d.fillColorSymbolSelected:h;var p="symbol"==t?1:c.stroke;this.renderer.getAttr(e,"fill")==d.fillColorAlt&&(h=d.fillColorAltSelected),this.renderer.attr(e,{stroke:u,fill:h,"stroke-width":p}),-1==o.type.indexOf("pie")&&-1==o.type.indexOf("donut")||this._applyPieSelect(),this._raiseItemEvent("mouseover",o,a,r)}},_applyPieSelect:function(){var o=this;o._createAnimationGroup("animPieSlice");var a=this._selected;if(a){var e=this.getItemCoord(a.group,a.series,a.item);if(e){var t={element:this._getRenderInfo(a.group,a.series,a.item),coord:e};this._enqueueAnimation("animPieSlice",void 0,void 0,300,function(e,t,i){var s=t.coord,r=s.selectedRadiusChange*i,n=o.renderer.pieSlicePath(s.center.x,s.center.y,0==s.innerRadius?0:s.innerRadius+r,s.outerRadius+r,s.fromAngle,s.toAngle,s.centerOffset);o.renderer.attr(t.element.element,{d:n}),o._showPieLabel(a.group,a.series,a.item,void 0,r)},t),o._startAnimation("animPieSlice")}}},_applyPieUnselect:function(){this._stopAnimations();var e=this._selected;if(e){var t=this.getItemCoord(e.group,e.series,e.item);if(t&&t.center){var i=this.renderer.pieSlicePath(t.center.x,t.center.y,t.innerRadius,t.outerRadius,t.fromAngle,t.toAngle,t.centerOffset);this.renderer.attr(e.element,{d:i}),this._showPieLabel(e.group,e.series,e.item,void 0,0)}}},_unselect:function(){var e=this;if(e._selected){var t=e._selected.group,i=e._selected.series,s=e._selected.item,r=e._selected.iidxBase,n=e._selected.type,o=e.seriesGroups[t],a=o.series[i],l=-1!=o.type.indexOf("line")&&-1==o.type.indexOf("area"),d=e._getColors(t,i,r||s,e._getGroupGradientType(t)),h=d.fillColor;l&&(h="none");var c=e._getSerieSettings(t,i),u="symbol"==n?d.lineColorSymbol:d.lineColor;h="symbol"==n?d.fillColorSymbol:h,this.renderer.getAttr(e._selected.element,"fill")==d.fillColorAltSelected&&(h=d.fillColorAlt);var p="symbol"==n?1:c.stroke;e.renderer.attr(e._selected.element,{stroke:u,fill:h,"stroke-width":p}),-1==o.type.indexOf("pie")&&-1==o.type.indexOf("donut")||this._applyPieUnselect(),e._selected=void 0,isNaN(s)||e._raiseItemEvent("mouseout",o,a,s)}e._pointMarker&&(e._pointMarker.element&&(e.renderer.removeElement(e._pointMarker.element),e._pointMarker.element=void 0),e._pointMarker=void 0,e._hideCrosshairs())},_raiseItemEvent:function(e,t,i,s){for(var r=i[e]||t[e],n=0;n<this.seriesGroups.length&&this.seriesGroups[n]!=t;n++);if(n!=this.seriesGroups.length){var o={event:e,seriesGroup:t,serie:i,elementIndex:s,elementValue:this._getDataValue(s,i.dataField,n)};r&&me.isFunction(r)&&r(o),this._raiseEvent(e,o)}},_raiseEvent:function(e,t){var i=new me.Event(e);return i.owner=this,t.event=e,i.args=t,this.host.trigger(i)},_calcInterval:function(e,t,i){var s=Math.abs(t-e)/i,r=.1,n=[1,2,3,4,5,10,15,20,25,50,100];s<1&&(n=[.5,.25,.125,.1],r=10);var o=0;do{o=0,1<=s?r*=10:r/=10;for(var a=1;a<n.length&&Math.abs(n[o]*r-s)>Math.abs(n[a]*r-s);a++)o=a}while(o==n.length-1);return n[o]*r},_renderDataClone:function(){if(this._renderData&&!this._isToggleRefresh){var e=this._elementRenderInfo=[];if(!this._isSelectorRefresh)for(var t=0;t<this._renderData.length;t++){for(this._getXAxis(t).dataField;e.length<=t;)e.push({});var i=e[t],s=this._renderData[t];if(s.offsets){if(s.valueAxis)for(var r in i.valueAxis={itemOffsets:{}},s.valueAxis.itemOffsets)i.valueAxis.itemOffsets[r]=s.valueAxis.itemOffsets[r];if(s.xAxis)for(var r in i.xAxis={itemOffsets:{}},s.xAxis.itemOffsets)i.xAxis.itemOffsets[r]=s.xAxis.itemOffsets[r];i.series=[];for(var n=i.series,o=this._isPieGroup(t),a=0;a<s.offsets.length;a++){n.push({});for(var l=0;l<s.offsets[a].length;l++)if(o){var d=s.offsets[a][l];n[a][d.displayValue]={value:d.value,x:d.x,y:d.y,fromAngle:d.fromAngle,toAngle:d.toAngle}}else n[a][s.xoffsets.xvalues[l]]={value:s.offsets[a][l].value,valueRadius:s.offsets[a][l].valueRadius,xoffset:s.xoffsets.data[l],from:s.offsets[a][l].from,to:s.offsets[a][l].to}}}}}},getPolarDataPointOffset:function(e,t,i){var s=this._renderData[i];if(!s)return{x:NaN,y:NaN};var r=this.getValueAxisDataPointOffset(t,i),n=this.getXAxisDataPointOffset(e,i),o=this._toPolarCoord(s.polarCoords,s.xAxis.rect,n,r);return{x:o.x,y:o.y}},_getDataPointOffsetDiff:function(e,t,i,s,r,n,o){var a=this._getDataPointOffset(e,i,s,r,n,o),l=this._getDataPointOffset(t,i,s,r,n,o);return Math.abs(a-l)},_getXAxisRenderData:function(e){if(!(e>=this._renderData.length)){var t=this.seriesGroups[e],i=this._renderData[e].xAxis;if(i){if(null==t.xAxis){for(var s=0;s<=e&&null!=this.seriesGroups[s].xAxis;s++);i=this._renderData[s].xAxis}return i}}},getXAxisDataPointOffset:function(e,t){var i=this.seriesGroups[t];if(isNaN(e))return NaN;if(renderData=this._getXAxisRenderData(t),!renderData)return NaN;var s=renderData.data.axisStats,r=s.min.valueOf(),n=s.max.valueOf(),o=n-r;if(0==o&&(o=1),e.valueOf()>n||e.valueOf()<r)return NaN;var a=this._getXAxis(t),l="horizontal"==i.orientation?"height":"width",d="horizontal"==i.orientation?"y":"x",h=(e.valueOf()-r)/o,c=renderData.rect[l]-renderData.data.padding.left-renderData.data.padding.right;(i.polar||i.spider)&&(this._renderData[t].polarCoords.isClosedCircle&&(c=renderData.data.axisSize));return this._plotRect[d]+renderData.data.padding.left+c*(a.flip?1-h:h)},getValueAxisDataPointOffset:function(e,t){var i=this._getValueAxis(t);if(!i)return NaN;var s=this._renderData[t];if(!s)return NaN;var r=1==i.flip,n=s.logBase,o=s.scale,a=s.gbase,l=s.baseOffset;return this._getDataPointOffset(e,a,n,o,l,r)},_getDataPointOffset:function(e,t,i,s,r,n){var o;return isNaN(e)&&(e=t),o=isNaN(i)?(e-t)*s:(me.jqx.log(e,i)-me.jqx.log(t,i))*s,this._isVML&&(o=Math.round(o)),o=n?r+o:r-o},_calcGroupOffsets:function(e,t){for(var i=this.seriesGroups[e];this._renderData.length<e+1;)this._renderData.push({});if(null!=this._renderData[e]&&null!=this._renderData[e].offsets)return this._renderData[e];if(this._isPieGroup(e))return this._calcPieSeriesGroupOffsets(e,t);var s=this._getValueAxis(e);if(!s||!i.series||0==i.series.length)return this._renderData[e];var r=1==s.flip,n=1==s.logarithmicScale,o=s.logarithmicScaleBase||10,a=[],l=-1!=i.type.indexOf("stacked"),d=l&&-1!=i.type.indexOf("100"),h=-1!=i.type.indexOf("range"),c=this._isColumnType(i.type),u=-1!=i.type.indexOf("waterfall"),p=this._getDataLen(e),m=i.baselineValue||s.baselineValue||0;d&&(m=0);var f=this._stats.seriesGroups[e];if(f&&f.isValid){var g=f.hasStackValueReversal;if(g&&(m=0),u&&l){if(g)return;m=f.base}m>f.max&&(m=f.max),m<f.min&&(m=f.min);var v=d||n?f.maxRange:f.max-f.min,x=f.min,w=f.max,y=t.height/(n?f.intervals:v),b=0;b=d?x*w<0?-((v/=2)+m)*y:-m*y:-(m-x)*y,r?b=t.y-b:b+=t.y+t.height;var _,j=[],q=[],T=[];n&&(_=me.jqx.log(w,o)-me.jqx.log(m,o),l&&(_=f.intervals,m=d?0:x),f.intervals-_,r||(b=t.y+_/f.intervals*t.height)),b=me.jqx._ptrnd(b);var C=x*w<0?t.height/2:t.height,S=[],k=[],I=l&&(c||n),D=[];a=new Array(i.series.length);for(var P=0;P<i.series.length;P++)a[P]=new Array(p);for(var A=0;A<p;A++){!u&&l&&(k=[]);for(P=0;P<i.series.length;P++){!l&&n&&(S=[]);var M=i.series[P],B=M.dataField,H=M.dataFieldFrom,z=M.dataFieldTo,E=M.radiusDataField||M.sizeDataField;a[P][A]={};var O=this._isSerieVisible(e,P);if(-1==i.type.indexOf("candle")&&-1==i.type.indexOf("ohlc")){if(l)for(;k.length<=A;)k.push(0);var N=NaN;h&&(N=this._getDataValueAsNumber(A,H,e),isNaN(N)&&(N=m));var L=NaN;L=h?this._getDataValueAsNumber(A,z,e):this._getDataValueAsNumber(A,B,e);var R=this._getDataValueAsNumber(A,E,e);if(l&&(k[A]+=O?L:0),O||(L=NaN),isNaN(L)||n&&L<=0)a[P][A]={from:void 0,to:void 0};else{var F;l&&(I?F=m<=L?j:q:L=k[A]);var W=y*(L-m);if(h&&(W=y*(L-N)),l&&I&&(D[A]?W=y*L:(D[A]=!0,W=y*(L-m))),n){for(;S.length<=A;)S.push({p:{value:0,height:0},n:{value:0,height:0}});var V=h||h?N:m,G=V<L?S[A].p:S[A].n;G.value+=L,d?(L=G.value/(f.psums[A]+f.nsums[A])*100,W=(me.jqx.log(L,o)-f.minPow)*y):(W=me.jqx.log(G.value,o)-me.jqx.log(V,o),W*=y),W-=G.height,G.height+=W}var U=b;if(h){var Y=0;Y=n?(me.jqx.log(N,o)-me.jqx.log(m,o))*y:(N-m)*y,U+=r?Y:-Y}if(l){if(d&&!n){var K=f.psums[A]-f.nsums[A];m<L?(W=f.psums[A]/K*C,0!=f.psums[A]&&(W*=L/f.psums[A])):(W=f.nsums[A]/K*C,0!=f.nsums[A]&&(W*=L/f.nsums[A]))}I&&(isNaN(F[A])&&(F[A]=U),U=F[A])}isNaN(T[A])&&(T[A]=0);var X=T[A],$=W=Math.abs(W);if(1<=W&&(h_new=this._isVML?Math.round(W):me.jqx._ptrnd(W)-1,W=.5<Math.abs(W-h_new)?Math.round(W):h_new),X+=W-$,l||(X=0),.5<Math.abs(X)&&(0<X?(W-=1,X-=1):(W+=1,X+=1)),T[A]=X,P==i.series.length-1&&d){for(var Z=0,J=0;J<P;J++)Z+=Math.abs(a[J][A].to-a[J][A].from);if((Z+=W)<C)if(.5<W)W=me.jqx._ptrnd(W+C-Z);else for(J=P-1;0<=J;){if(1<Math.abs(a[J][A].to-a[J][A].from)){a[J][A].from>a[J][A].to&&(a[J][A].from+=C-Z);break}J--}}r&&(W*=-1);var Q=L<m;h&&(Q=L<N);var ee=isNaN(N)?L:{from:N,to:L};Q?(I&&(F[A]+=W),a[P][A]={from:U,to:U+W,value:ee,valueRadius:R}):(I&&(F[A]-=W),a[P][A]={from:U,to:U-W,value:ee,valueRadius:R})}}else{var te=["Open","Close","High","Low"];for(var ie in te){var se="dataField"+te[ie];M[se]&&(a[P][A][te[ie]]=this._getDataPointOffset(this._getDataValueAsNumber(A,M[se],e),m,n?o:NaN,y,b,r))}}}}var re=this._renderData[e];return re.baseOffset=b,re.gbase=m,re.logBase=n?o:NaN,re.scale=y,re.offsets=u?this._applyWaterfall(a,p,e,b,m,n?o:NaN,y,r,l):a,re.xoffsets=this._calculateXOffsets(e,t.width),this._renderData[e]}},_isPercent:function(e){return"string"==typeof e&&0<e.length&&e.indexOf("%")==e.length-1},_calcPieSeriesGroupOffsets:function(e,t){for(var i=this._getDataLen(e),s=this.seriesGroups[e],r=this._renderData[e]={},n=r.offsets=[],o=0;o<s.series.length;o++){var a=s.series[o],l=this._get([a.minAngle,a.startAngle]);(isNaN(l)||l<0||360<l)&&(l=0);var d=this._get([a.maxAngle,a.endAngle]);(isNaN(d)||d<0||360<d)&&(d=360);var h=d-l,c=a.initialAngle||0;c<l&&(c=l),d<c&&(c=d);var u=a.centerOffset||0,p=me.jqx.getNum([a.offsetX,s.offsetX,t.width/2]),m=me.jqx.getNum([a.offsetY,s.offsetY,t.height/2]),f=Math.min(t.width,t.height)/2,g=c,v=a.radius;this._isPercent(v)&&(v=parseFloat(v)/100*f),isNaN(v)&&(v=.4*f);var x=a.innerRadius;this._isPercent(x)&&(x=parseFloat(x)/100*f),(isNaN(x)||v<=x)&&(x=0);var w=a.selectedRadiusChange;this._isPercent(w)&&(w=parseFloat(w)/100*(v-x)),isNaN(w)&&(w=.1*(v-x)),n.push([]);for(var y=0,b=0,_=0;_<i;_++){var j=this._getDataValueAsNumber(_,a.dataField,e);isNaN(j)||(this._isSerieVisible(e,o,_)||1==a.hiddenPointsDisplay)&&(0<j?y+=j:b+=j)}var q=y-b;0==q&&(q=1);for(_=0;_<i;_++){j=this._getDataValueAsNumber(_,a.dataField,e);if(isNaN(j))n[o].push({});else{var T=a.displayText||a.displayField,C=this._getDataValue(_,T,e);null==C&&(C=_);var S=0,k=this._isSerieVisible(e,o,_);(k||1==a.hiddenPointsDisplay)&&(S=Math.abs(j)/q*h);var I=t.x+p,D=t.y+m,P=u;me.isFunction(u)&&(P=u({seriesIndex:o,seriesGroupIndex:e,itemIndex:_})),isNaN(P)&&(P=0);var A={key:e+"_"+o+"_"+_,value:j,displayValue:C,x:I,y:D,fromAngle:g,toAngle:g+S,centerOffset:P,innerRadius:x,outerRadius:v,selectedRadiusChange:w,visible:k};n[o].push(A),g+=S}}}return r},_isPointSeriesOnly:function(){for(var e=0;e<this.seriesGroups.length;e++){var t=this.seriesGroups[e];if(-1==t.type.indexOf("line")&&-1==t.type.indexOf("area")&&-1==t.type.indexOf("scatter")&&-1==t.type.indexOf("bubble"))return!1}return!0},_hasColumnSeries:function(){for(var e=["column","ohlc","candlestick","waterfall"],t=0;t<this.seriesGroups.length;t++){var i=this.seriesGroups[t];for(var s in e)if(-1!=i.type.indexOf(e[s]))return!0}return!1},_alignValuesWithTicks:function(e){var t=this._isPointSeriesOnly(),i=this.seriesGroups[e],s=this._getXAxis(e),r=null==s.valuesOnTicks?t:0!=s.valuesOnTicks;return s.logarithmicScale&&(r=!0),null==e?r:null==i.valuesOnTicks?r:i.valuesOnTicks},_getYearsDiff:function(e,t){return t.getFullYear()-e.getFullYear()},_getMonthsDiff:function(e,t){return 12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth()},_getDateDiff:function(e,t,i,s){var r=0;switch("year"!=i&&"month"!=i&&(r=t.valueOf()-e.valueOf()),i){case"year":r=this._getYearsDiff(e,t);break;case"month":r=this._getMonthsDiff(e,t);break;case"day":r/=864e5;break;case"hour":r/=36e5;break;case"minute":r/=6e4;break;case"second":r/=1e3}return"year"!=i&&"month"!=i&&0!=s&&(r=me.jqx._rnd(r,1,!0)),r},_getBestDTUnit:function(e,t,i,s,r){var n="day",o=t.valueOf()-e.valueOf();n=o<1e3?"second":o<36e5?"minute":o<864e5?"hour":o<2592e6?"day":o<31104e6?"month":"year";for(var a=[{key:"year",cnt:o/31536e6},{key:"month",cnt:o/2592e6},{key:"day",cnt:o/864e5},{key:"hour",cnt:o/36e5},{key:"minute",cnt:o/6e4},{key:"second",cnt:o/1e3},{key:"millisecond",cnt:o}],l=-1,d=0;d<a.length;d++)if(a[d].key==n){l=d;break}for(var h=-1,c=-1;l<a.length&&!(a[l].cnt/100>s);l++){var u=this._estAxisInterval(e,t,i,s,a[l].key,r),p=this._getDTIntCnt(e,t,u,a[l].key);(-1==h||h<p)&&(h=p,c=l)}return n=a[c].key},_getXAxisStats:function(e,t,i){var s=this._getDataLen(e),r="date"==t.type||"time"==t.type;if(r&&!this._autoDateFormats){this._autoDateFormats||(this._autoDateFormats=[]);var n=this._testXAxisDateFormat();n&&this._autoDateFormats.push(n)}var o=r?this._castAsDate(t.minValue,t.dateFormat):this._castAsNumber(t.minValue),a=r?this._castAsDate(t.maxValue,t.dateFormat):this._castAsNumber(t.maxValue);if(this._selectorRange&&this._selectorRange[e]){var l=this._selectorRange[e].min;isNaN(l)||(o=r?this._castAsDate(l,t.dateFormat):this._castAsNumber(l));var d=this._selectorRange[e].max;isNaN(d)||(a=r?this._castAsDate(d,t.dateFormat):this._castAsNumber(d))}for(var h,c,u=o,p=a,m=null==t.type||"auto"==t.type,f=m||"basic"==t.type,g=0,v=0,x=0;x<s&&t.dataField;x++){var w=this._getDataValue(x,t.dataField,e);w=r?this._castAsDate(w,t.dateFormat):this._castAsNumber(w),isNaN(w)||(r?g++:v++,(isNaN(h)||w<h)&&(h=w),(isNaN(c)||c<=w)&&(c=w))}m&&(!r&&v==s||r&&g==s)&&(f=!1),f&&(h=0,c=Math.max(0,s-1)),isNaN(u)&&(u=h),isNaN(p)&&(p=c),r?(this._isDate(u)||(u=this._isDate(p)?p:new Date),this._isDate(p)||(p=this._isDate(u)?u:new Date)):(isNaN(u)&&(u=0),isNaN(p)&&(p=f?Math.max(0,s-1):u)),null==h&&(h=u),null==c&&(c=p);var y=t.rangeSelector;if(y){var b=y.minValue||u;b&&r&&(b=this._castAsDate(b,y.dateFormat||t.dateFormat));var _=y.maxValue||p;_&&r&&(_=this._castAsDate(_,y.dateFormat||t.rangeSelector)),u<b&&(u=b),p<b&&(p=_),_<u&&(u=b),_<p&&(p=_)}var j,q,T=t.unitInterval;r&&((j=t.baseUnit)||(j=this._getBestDTUnit(u,p,e,i)),q="hour"==j||"minute"==j||"second"==j||"millisecond"==j);var C=1==t.logarithmicScale,S=t.logarithmicScaleBase;(isNaN(S)||S<=1)&&(S=10);T=t.unitInterval;C?T=1:(isNaN(T)||T<=0)&&(T=this._estAxisInterval(u,p,e,i,j));var k={min:u,max:p},I=this.seriesGroups[e];if(C){u||(u=1,p&&p<u&&(u=p)),p||(p=u),k={min:u,max:p};var D=me.jqx._rnd(me.jqx.log(u,S),1,!1),P=me.jqx._rnd(me.jqx.log(p,S),1,!0);p=Math.pow(S,P),u=Math.pow(S,D)}else r||!I.polar&&!I.spider||(u=me.jqx._rnd(u,T,!1),p=me.jqx._rnd(p,T,!0));return{min:u,max:p,logAxis:{enabled:C,base:S,minPow:D,maxPow:P},dsRange:{min:h,max:c},filterRange:k,useIndeces:f,isDateTime:r,isTimeUnit:q,dateTimeUnit:j,interval:T}},_getDefaultDTFormatFn:function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return"year"==e||"month"==e||"day"==e?function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()}:function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()+"<br>"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}},_getDTIntCnt:function(e,t,i,s){var r=0,n=new Date(e),o=new Date(t);if(o=o.valueOf(),i<=0)return 1;for(;n.valueOf()<o;)"millisecond"==s?n=new Date(n.valueOf()+i):"second"==s?n=new Date(n.valueOf()+1e3*i):"minute"==s?n=new Date(n.valueOf()+6e4*i):"hour"==s?n=new Date(n.valueOf()+6e4*i*24):"day"==s?n.setDate(n.getDate()+i):"month"==s?n.setMonth(n.getMonth()+i):"year"==s&&n.setFullYear(n.getFullYear()+i),r++;return r},_estAxisInterval:function(e,t,i,s,r,n){if(isNaN(e)||isNaN(t))return NaN;var o=[1,2,5,10,15,20,50,100,200,500],a=0,l=s/(!isNaN(n)&&0<n?n:50);if(this._renderData&&this._renderData.length>i&&this._renderData[i].xAxis&&!isNaN(this._renderData[i].xAxis.avgWidth)){var d=Math.max(1,this._renderData[i].xAxis.avgWidth);0!=d&&isNaN(n)&&(l=.9*s/d)}if(l<=1)return Math.abs(t-e);for(;;){var h=o.length<=a?Math.pow(10,3+a-o.length):o[a];if((this._isDate(e)&&this._isDate(t)?this._getDTIntCnt(e,t,h,r):(t-e)/h)<=l)break;a++}var c=this.seriesGroups[i];return(c.spider||c.polar)&&t-e<2*h&&(h=t-e),h},_getPaddingSize:function(e,t,i,s,r,n,o){var a=e.min,l=e.max;e.logAxis.enabled&&(a=e.logAxis.minPow,l=e.logAxis.maxPow);var d=e.interval,h=e.dateTimeUnit;if(r){var c=s/Math.max(1,l-a+d)*d;return n?{left:0,right:c}:i?{left:0,right:0}:{left:c/2,right:c/2}}if(i&&!o)return{left:0,right:0};if(this._isDate(a)&&this._isDate(l)){var u,p=this._getDTIntCnt(a,l,Math.min(d,l-a),h);return{left:(u=s/Math.max(2,p))/2,right:u/2}}return 1==(p=Math.max(1,l-a))?(sz=s/4,{left:sz,right:sz}):{left:(u=s/(p+1))/2,right:u/2}},_calculateXOffsets:function(e,t){var i=this.seriesGroups[e],s=this._getXAxis(e),r=[],n=[],o=this._getDataLen(e),a=this._getXAxisStats(e,s,t),l=a.min,d=a.max,h=a.isDateTime,c=a.isTimeUnit,u=this._hasColumnSeries(),p=i.polar||i.spider,m=this._get([i.startAngle,i.minAngle,0]),f=this._get([i.endAngle,i.maxAngle,360]),g=p&&!(1e-4<Math.abs(Math.abs(f-m)-360)),v=this._alignValuesWithTicks(e),x=this._getPaddingSize(a,s,v,t,p,g,u),w=d-l,y=a.filterRange;0==w&&(w=1);var b=t-x.left-x.right;p&&v&&!g&&(x.left=x.right=0);for(var _=-1,j=-1,q=0;q<o;q++){var T=void 0===s.dataField?q:this._getDataValue(q,s.dataField,e);if(a.useIndeces){if(q<y.min||q>y.max){r.push(NaN),n.push(void 0);continue}if(S=x.left+(q-l)/w*b,1==a.logAxis.enabled){var C=a.logAxis.base;S=this._jqxPlot.scale(T,{min:l.valueOf(),max:d.valueOf(),type:"logarithmic",base:C},{min:0,max:b,flip:!1})}r.push(me.jqx._ptrnd(S)),n.push(T),-1==_&&(_=q),(-1==j||j<q)&&(j=q)}else if(T=h?this._castAsDate(T,s.dateFormat):this._castAsNumber(T),isNaN(T)||T<y.min||T>y.max)r.push(NaN),n.push(void 0);else{var S=0;if(1==a.logAxis.enabled){C=a.logAxis.base;S=this._jqxPlot.scale(T,{min:l.valueOf(),max:d.valueOf(),type:"logarithmic",base:C},{min:0,max:b,flip:!1})}else S=!h||h&&c?(diffFromMin=T-l)*b/w:(T.valueOf()-l.valueOf())/(d.valueOf()-l.valueOf())*b;S=me.jqx._ptrnd(x.left+S),r.push(S),n.push(T),-1==_&&(_=q),(-1==j||j<q)&&(j=q)}}if(1==s.flip)for(q=0;q<r.length;q++)isNaN(r[q])||(r[q]=t-r[q]);(c||h)&&(w=this._getDateDiff(l,d,s.baseUnit),w=me.jqx._rnd(w,1,!1));var k=Math.max(1,w),I=b/k;return _==j&&1==k&&(r[_]=x.left+b/2),{axisStats:a,data:r,xvalues:n,first:_,last:j,length:-1==j?0:j-_+1,itemWidth:I,intervalWidth:I*a.interval,rangeLength:w,useIndeces:a.useIndeces,padding:x,axisSize:b}},_getXAxis:function(e){return null==e||this.seriesGroups.length<=e?this.categoryAxis||this.xAxis:this.seriesGroups[e].categoryAxis||this.seriesGroups[e].xAxis||this.categoryAxis||this.xAxis},_isGreyScale:function(e,t){var i=this.seriesGroups[e],s=i.series[t];return 1==s.greyScale||0!=s.greyScale&&(1==i.greyScale||0!=i.greyScale&&1==this.greyScale)},_getSeriesColors:function(e,t,i){var s=this._getSeriesColorsInternal(e,t,i);if(this._isGreyScale(e,t))for(var r in s)s[r]=me.jqx.toGreyScale(s[r]);return s},_getColorFromScheme:function(e,t,i){var s="#000000",r=this.seriesGroups[e],n=r.series[t];if(this._isPieGroup(e)){var o=this._getDataLen(e);s=this._getItemColorFromScheme(n.colorScheme||r.colorScheme||this.colorScheme,t*o+i,e,t)}else{for(var a=0,l=0;l<=e;l++)for(var d in this.seriesGroups[l].series){if(l==e&&d==t)break;a++}var h=this.colorScheme;if(r.colorScheme&&(h=r.colorScheme,sidex=seriesIndex),null!=h&&""!=h||(h=this.colorSchemes[0].name),!h)return s;for(l=0;l<this.colorSchemes.length;l++){var c=this.colorSchemes[l];if(c.name==h){for(;a>c.colors.length;)a-=c.colors.length,++l>=this.colorSchemes.length&&(l=0),c=this.colorSchemes[l];s=c.colors[a%c.colors.length]}}}return s},_createColorsCache:function(){this._colorsCache={get:function(e){if(this._store[e])return this._store[e]},set:function(e,t){this._size<1e4&&(this._store[e]=t,this._size++)},clear:function(){this._store={},this._size=0},_size:0,_store:{}}},_getSeriesColorsInternal:function(e,t,i){var s=this.seriesGroups[e],r=s.series[t];me.isFunction(r.colorFunction)||"pie"==s.type||"donut"==s.type||(i=NaN);var n=e+"_"+t+"_"+(isNaN(i)?"NaN":i);if(this._colorsCache.get(n))return this._colorsCache.get(n);var o,a={lineColor:"#222222",lineColorSelected:"#151515",lineColorSymbol:"#222222",lineColorSymbolSelected:"#151515",fillColor:"#222222",fillColorSelected:"#333333",fillColorSymbol:"#222222",fillColorSymbolSelected:"#333333",fillColorAlt:"#222222",fillColorAltSelected:"#333333"};if(me.isFunction(r.colorFunction)){var l=isNaN(i)?NaN:this._getDataValue(i,r.dataField,e);if(-1!=s.type.indexOf("range")&&!isNaN(i))l={from:this._getDataValue(i,r.dataFieldFrom,e),to:this._getDataValue(i,r.dataFieldTo,e)};if("object"==typeof(o=r.colorFunction(l,i,r,s)))for(var d in o)a[d]=o[d];else a.fillColor=o}else{for(var d in a)r[d]&&(a[d]=r[d]);r.fillColor||r.color?r.fillColor=r.fillColor||r.color:a.fillColor=this._getColorFromScheme(e,t,i)}var h={fillColor:{baseColor:"fillColor",adjust:1},fillColorSelected:{baseColor:"fillColor",adjust:1.1},fillColorSymbol:{baseColor:"fillColor",adjust:1},fillColorSymbolSelected:{baseColor:"fillColorSymbol",adjust:2},fillColorAlt:{baseColor:"fillColor",adjust:4},fillColorAltSelected:{baseColor:"fillColor",adjust:3},lineColor:{baseColor:"fillColor",adjust:.95},lineColorSelected:{baseColor:"lineColor",adjust:.95},lineColorSymbol:{baseColor:"lineColor",adjust:1},lineColorSymbolSelected:{baseColor:"lineColorSelected",adjust:1}};for(var d in a)"object"==typeof o&&o[d]||r[d]&&(a[d]=r[d]);for(var d in a)"object"==typeof o&&o[d]||r[d]||(a[d]=me.jqx.adjustColor(a[h[d].baseColor],h[d].adjust));return this._colorsCache.set(n,a),a},_getItemColorFromScheme:function(e,t,i,s){null!=e&&""!=e||(e=this.colorSchemes[0].name);for(var r=0;r<this.colorSchemes.length&&e!=this.colorSchemes[r].name;r++);for(var n=0;n<=t;){r==this.colorSchemes.length&&(r=0);var o=this.colorSchemes[r].colors.length;if(!(n+o<=t)){var a=this.colorSchemes[r].colors[t-n];return this._isGreyScale(i,s)&&0==a.indexOf("#")&&(a=me.jqx.toGreyScale(a)),a}n+=o,r++}},getColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e)return this.colorSchemes[t].colors},addColorScheme:function(e,t){for(var i=0;i<this.colorSchemes.length;i++)if(this.colorSchemes[i].name==e)return void(this.colorSchemes[i].colors=t);this.colorSchemes.push({name:e,colors:t})},removeColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e){this.colorSchemes.splice(t,1);break}},colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_formatValue:function(e,t,i,s,r,n){if(null==e)return"";if(this._isObject(e)&&!this._isDate(e)&&!i)return"";if(i){if(!me.isFunction(i))return e.toString();try{return i(e,n,r,s)}catch(e){return e.message}}return this._isNumber(e)?this._formatNumber(e,t):this._isDate(e)?this._formatDate(e,t):t?(t.prefix||"")+e.toString()+(t.sufix||""):e.toString()},_getFormattedValue:function(e,t,i,s,r,n){var o=this.seriesGroups[e],a=o.series[t],l="",d=s,h=r;h||(h=a.formatFunction||o.formatFunction),d||(d=a.formatSettings||o.formatSettings),!a.formatFunction&&a.formatSettings&&(h=void 0);var c={},u=0;for(var p in a)0==p.indexOf("dataField")&&(c[p.substring(9).toLowerCase()]=this._getDataValue(i,a[p],e),u++);if(0==u&&(c=this._getDataValue(i,void 0,e)),-1!=o.type.indexOf("waterfall")&&this._isSummary(e,i)&&(c=this._renderData[e].offsets[t][i].value,u=0),h&&me.isFunction(h))try{return h(1==u?c[""]:c,i,a,o)}catch(e){return e.message}if(1==u&&this._isPieGroup(e))return this._formatValue(c[""],d,h,e,t,i);if(0<u){var m=0;for(var p in c){0<m&&""!=l&&(l+="<br>");var f="dataField"+(0<p.length?p.substring(0,1).toUpperCase()+p.substring(1):""),g=a["displayText"+(0<p.length?p.substring(0,1).toUpperCase()+p.substring(1):"")]||a[f],v=c[p];null!=v&&(v=this._formatValue(v,d,h,e,t,i),l+=!0===n?v:g+": "+v,m++)}}else null!=c&&(l=this._formatValue(c,d,h,e,t,i));return l||""},_isNumberAsString:function(e){if("string"!=typeof e)return!1;e=me.trim(e);for(var t=0;t<e.length;t++){var i=e.charAt(t);if(!("0"<=i&&i<="9"||","==i||"."==i)&&(("-"!=i||0!=t)&&!("("==i&&0==t||")"==i&&t==e.length-1)))return!1}return!0},_castAsDate:function(e,t){if(e instanceof Date&&!isNaN(e))return e;if("string"==typeof e){var i;if(t&&(i=me.jqx.dataFormat.parsedate(e,t),this._isDate(i)))return i;if(this._autoDateFormats)for(var s=0;s<this._autoDateFormats.length;s++)if(i=me.jqx.dataFormat.parsedate(e,this._autoDateFormats[s]),this._isDate(i))return i;var r=this._detectDateFormat(e);return r&&(i=me.jqx.dataFormat.parsedate(e,r),this._isDate(i))?this._autoDateFormats.push(r):(i=new Date(e),this._isDate(i)&&-1==e.indexOf(":")&&i.setHours(0,0,0,0)),i}},_castAsNumber:function(e){if(e instanceof Date&&!isNaN(e))return e.valueOf();if("string"==typeof e)if(this._isNumber(e))e=parseFloat(e);else if(!/[a-zA-Z]/.test(e)){var t=new Date(e);null!=t&&(e=t.valueOf())}return e},_isNumber:function(e){return"string"==typeof e&&this._isNumberAsString(e)&&(e=parseFloat(e)),"number"==typeof e&&isFinite(e)},_isDate:function(e){return e instanceof Date&&!isNaN(e.getDate())},_isBoolean:function(e){return"boolean"==typeof e},_isObject:function(e){return e&&("object"==typeof e||me.isFunction(e))||!1},_formatDate:function(e,t){var i=e.toString();return t&&(t.dateFormat&&(i=me.jqx.dataFormat.formatDate(e,t.dateFormat)),i=(t.prefix||"")+i+(t.sufix||"")),i},_formatNumber:function(e,t){if(!this._isNumber(e))return e;t=t||{};var i=".",s="";this.localization&&(i=this.localization.decimalSeparator||this.localization.decimalseparator||i,s=this.localization.thousandsSeparator||this.localization.thousandsseparator||s),t.decimalSeparator&&(i=t.decimalSeparator),t.thousandsSeparator&&(s=t.thousandsSeparator);var r=t.prefix||"",n=t.sufix||"",o=t.decimalPlaces;isNaN(o)&&(o=this._getDecimalPlaces([e],void 0,3));var a=t.negativeWithBrackets||!1,l=e<0;l&&a&&(e*=-1);var d,h=e.toString(),c=Math.pow(10,o);if(h=(Math.round(e*c)/c).toString(),isNaN(h)&&(h=""),d=h.lastIndexOf("."),0<o)for(d<0?d=(h+=i).length-1:"."!==i&&(h=h.replace(".",i));h.length-1-d<o;)h+="0";d=-1<(d=h.lastIndexOf(i))?d:h.length;for(var u=h.substring(d),p=0,m=d;0<m;m--,p++)p%3==0&&m!==d&&(!l||1<m||l&&a)&&(u=s+u),u=h.charAt(m-1)+u;return h=u,l&&a&&(h="("+h+")"),r+h+n},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_calculateControlPoints:function(e,t){var i=e[t],s=e[t+1],r=e[t+2],n=e[t+3],o=e[t+4],a=e[t+5],l=Math.sqrt(Math.pow(r-i,2)+Math.pow(n-s,2)),d=l+Math.sqrt(Math.pow(o-r,2)+Math.pow(a-n,2));0==d&&(d=1);var h=.4*l/d,c=.4-h;return[r+h*(i-o),n+h*(s-a),r-c*(i-o),n-c*(s-a)]},_getBezierPoints:function(e){for(var t="",i=[],s=[],r=e.split(" "),n=0;n<r.length;n++){var o=r[n].split(",");i.push(parseFloat(o[0])),i.push(parseFloat(o[1])),!isNaN(i[i.length-1])&&isNaN(i[i.length-2])}var a=i.length;if(a<=1)return"";if(2==a)return t="M"+me.jqx._ptrnd(i[0])+","+me.jqx._ptrnd(i[1])+" L"+me.jqx._ptrnd(i[0]+1)+","+me.jqx._ptrnd(i[1]+1)+" ";for(n=0;n<a-4;n+=2)s=s.concat(this._calculateControlPoints(i,n));for(n=2;n<a-5;n+=2)t+=" C"+me.jqx._ptrnd(s[2*n-2])+","+me.jqx._ptrnd(s[2*n-1])+" "+me.jqx._ptrnd(s[2*n])+","+me.jqx._ptrnd(s[2*n+1])+" "+me.jqx._ptrnd(i[n+2])+","+me.jqx._ptrnd(i[n+3])+" ";return t=a<=4||Math.abs(i[0]-i[2])<3||Math.abs(i[1]-i[3])<3||this._isVML?"M"+me.jqx._ptrnd(i[0])+","+me.jqx._ptrnd(i[1])+" L"+me.jqx._ptrnd(i[2])+","+me.jqx._ptrnd(i[3])+" "+t:"M"+me.jqx._ptrnd(i[0])+","+me.jqx._ptrnd(i[1])+" Q"+me.jqx._ptrnd(s[0])+","+me.jqx._ptrnd(s[1])+" "+me.jqx._ptrnd(i[2])+","+me.jqx._ptrnd(i[3])+" "+t,4<=a&&(Math.abs(i[a-2]-i[a-4])<3||Math.abs(i[a-1]-i[a-3])<3||this._isVML)?t+=" L"+me.jqx._ptrnd(i[a-2])+","+me.jqx._ptrnd(i[a-1])+" ":5<=a&&(t+=" Q"+me.jqx._ptrnd(s[2*a-10])+","+me.jqx._ptrnd(s[2*a-9])+" "+me.jqx._ptrnd(i[a-2])+","+me.jqx._ptrnd(i[a-1])+" "),t},_animTickInt:50,_createAnimationGroup:function(e){this._animGroups||(this._animGroups={}),this._animGroups[e]={animations:[],startTick:NaN}},_startAnimation:function(e){var t=(new Date).getTime();this._animGroups[e].startTick=t,this._runAnimation(),this._enableAnimTimer()},_enqueueAnimation:function(e,t,i,s,r,n,o){s<0&&(s=0),null==o&&(o="easeInOutSine"),this._animGroups[e].animations.push({key:t,properties:i,duration:s,fn:r,context:n,easing:o})},_stopAnimations:function(){clearTimeout(this._animtimer),this._animtimer=void 0,this._animGroups=void 0},_enableAnimTimer:function(){if(!this._animtimer){var e=this;this._animtimer=setTimeout(function(){e._runAnimation()},this._animTickInt)}},_runAnimation:function(e){if(this._animGroups){var t=(new Date).getTime(),i={};for(var s in this._animGroups){for(var r=this._animGroups[s].animations,n=this._animGroups[s].startTick,o=0,a=0;a<r.length;a++){var l=r[a],d=t-n;l.duration>o&&(o=l.duration);var h=0<l.duration?d/l.duration:1,c=h;if(l.easing&&0!=l.duration&&(c=me.easing[l.easing](h,d,0,1,l.duration)),1<h&&(c=h=1),l.fn)l.fn(l.key,l.context,c);else{var u={};for(s=0;s<l.properties.length;s++){var p=l.properties[s],m=0;m=1==h?p.to:easeParecent*(p.to-p.from)+p.from,u[p.key]=m}this.renderer.attr(l.key,u)}}t<n+o&&(i[s]={startTick:n,animations:r})}this._animGroups=i,this.renderer instanceof me.jqx.HTML5Renderer&&this.renderer.refresh()}for(var s in this._animtimer=null,this._animGroups){this._enableAnimTimer();break}},_fixCoords:function(e,t){if(!("horizontal"==this.seriesGroups[t].orientation))return e;var i=e.x;e.x=e.y,e.y=i+this._plotRect.y-this._plotRect.x;i=e.width;return e.width=e.height,e.height=i,e},getItemCoord:function(e,t,i){var s=this;if(s._isPieGroup(e)&&(!s._isSerieVisible(e,t,i)||!s._renderData||s._renderData.length<=e))return{x:NaN,y:NaN};if(!s._isSerieVisible(e,t)||!s._renderData||s._renderData.length<=e)return{x:NaN,y:NaN};var r=s.seriesGroups[e],n=r.series[t],o=s._getItemCoord(e,t,i);if(s._isPieGroup(e)){if(isNaN(o.x)||isNaN(o.y)||isNaN(o.fromAngle)||isNaN(o.toAngle))return{x:NaN,y:NaN};var a=this._plotRect,l=o.fromAngle*(Math.PI/180),d=o.toAngle*(Math.PI/180);x1=a.x+o.center.x+Math.cos(l)*o.outerRadius,x2=a.x+o.center.x+Math.cos(d)*o.outerRadius,y1=a.y+o.center.y-Math.sin(l)*o.outerRadius,y2=a.y+o.center.y-Math.sin(d)*o.outerRadius;var h=Math.min(x1,x2),c=Math.abs(x2-x1);return o={x:h,y:p=Math.min(y1,y2),width:c,height:Math.abs(y2-y1),center:o.center,centerOffset:o.centerOffset,innerRadius:o.innerRadius,outerRadius:o.outerRadius,selectedRadiusChange:o.selectedRadiusChange,fromAngle:o.fromAngle,toAngle:o.toAngle}}if(-1!=r.type.indexOf("column")||-1!=r.type.indexOf("waterfall")){var u=this._getColumnSerieWidthAndOffset(e,t);o.height=Math.abs(o.y.to-o.y.from),o.y=Math.min(o.y.to,o.y.from),o.x+=u.offset,o.width=u.width}else if(-1!=r.type.indexOf("ohlc")||-1!=r.type.indexOf("candlestick")){u=this._getColumnSerieWidthAndOffset(e,t);var p=o.y,m=Math.min(p.Open,p.Close,p.Low,p.High),f=Math.max(p.Open,p.Close,p.Low,p.High);o.height=Math.abs(f-m),o.y=m,o.x+=u.offset,o.width=u.width}else if(-1!=r.type.indexOf("line")||-1!=r.type.indexOf("area"))o.width=o.height=0,o.y=o.y.to;else if(-1!=r.type.indexOf("bubble")||-1!=r.type.indexOf("scatter")){o.center={x:o.x,y:o.y.to};var g=o.y.radius;"circle"!=n.symbolType&&null!=n.symbolType&&(g/=2),o.y=o.y.to,o.radius=g,o.width=2*g,o.height=2*g}if(o=this._fixCoords(o,e),r.polar||r.spider){var v=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,o.x,o.y);o.x=v.x,o.y=v.y,o.center&&(o.center=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,o.center.x,o.center.y))}return-1==r.type.indexOf("bubble")&&-1==r.type.indexOf("scatter")||(o.x-=g,o.y-=g),o},_getItemCoord:function(e,t,i){var s,r,n=this.seriesGroups[e];if(!n||!this._renderData)return{x:NaN,y:NaN};if(!n.series[t])return{x:NaN,y:NaN};var o=this._plotRect;if(this._isPieGroup(e)){var a=this._renderData[e].offsets[t][i];if(!a)return{x:NaN,y:NaN};var l=(a.fromAngle+a.toAngle)/2*(Math.PI/180);return{x:s=o.x+a.x+Math.cos(l)*a.outerRadius,y:r=o.y+a.y-Math.sin(l)*a.outerRadius,center:{x:a.x,y:a.y},centerOffset:a.centerOffset,innerRadius:a.innerRadius,outerRadius:a.outerRadius,selectedRadiusChange:a.selectedRadiusChange,fromAngle:a.fromAngle,toAngle:a.toAngle}}if(s=o.x+this._renderData[e].xoffsets.data[i],r=this._renderData[e].offsets[t][i],isNaN(s)||!r)return{x:NaN,y:NaN};var d={};for(var h in r)d[h]=r[h];return{x:s,y:d}},getXAxisValue:function(e,t){var i=this.seriesGroups[t];if(i){var s=this._getXAxis(t),r=this._plotRect,n=0,o=NaN,a=this._renderData[0].xoffsets.axisStats,l=0,d=0;if(i.polar||i.spider){if(isNaN(e.x)||isNaN(e.y))return NaN;var h=this._getPolarAxisCoords(t,r);if(me.jqx._ptdist(e.x,e.y,h.x,h.y)>h.r)return NaN;var c=Math.atan2(h.y-e.y,e.x-h.x);(c=Math.PI/2-c)<0&&(c=2*Math.PI+c),o=c*h.r;var u=h.startAngle+Math.PI/2,p=h.endAngle+Math.PI/2;l=u*h.r,d=p*h.r,n=(p-u)*h.r;var m=this._getPaddingSize(a,s,s.valuesOnTicks,n,!0,h.isClosedCircle,this._hasColumnSeries());h.isClosedCircle?(n-=m.left+m.right,d-=m.left+m.right):s.valuesOnTicks||(l+=m.left,d-=m.right)}else{if("horizontal"!=i.orientation){if(e<r.x||e>r.x+r.width)return NaN;o=e-r.x,n=r.width}else{if(e<r.y||e>r.y+r.height)return NaN;o=e-r.y,n=r.height}if(this._renderData[t]&&this._renderData[t].xoffsets)n-=(m=this._renderData[t].xoffsets.padding).left+m.right,o-=m.left;d=n}return this._jqxPlot.scale(o,{min:l,max:d},{min:a.min.valueOf(),max:a.max.valueOf(),type:a.logAxis.enabled?"logarithmic":"linear",base:a.logAxis.base,flip:s.flip})}},getValueAxisValue:function(e,t){var i=this.seriesGroups[t];if(i){var s=this._getValueAxis(t),r=this._plotRect,n=0,o=NaN;if(i.polar||i.spider){if(isNaN(e.x)||isNaN(e.y))return NaN;var a=this._getPolarAxisCoords(t,r);o=me.jqx._ptdist(e.x,e.y,a.x,a.y),o=(n=a.r)-o}else if("horizontal"==i.orientation){if(e<r.x||e>r.x+r.width)return NaN;o=e-r.x,n=r.width}else{if(e<r.y||e>r.y+r.height)return NaN;o=e-r.y,n=r.height}var l=this._stats.seriesGroups[t];return this._jqxPlot.scale(o,{min:0,max:n},{min:l.min.valueOf(),max:l.max.valueOf(),type:l.logarithmic?"logarithmic":"linear",base:l.logBase,flip:!s.flip})}},_detectDateFormat:function(e,t){var i={en_US_d:"M/d/yyyy",en_US_D:"dddd, MMMM dd, yyyy",en_US_t:"h:mm tt",en_US_T:"h:mm:ss tt",en_US_f:"dddd, MMMM dd, yyyy h:mm tt",en_US_F:"dddd, MMMM dd, yyyy h:mm:ss tt",en_US_M:"MMMM dd",en_US_Y:"yyyy MMMM",en_US_S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",en_CA_d:"dd/MM/yyyy",en_CA_D:"MMMM-dd-yy",en_CA_f:"MMMM-dd-yy h:mm tt",en_CA_F:"MMMM-dd-yy h:mm:ss tt",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",de_DE_d:"dd.MM.yyyy",de_DE_D:"dddd, d. MMMM yyyy",de_DE_t:"HH:mm",de_DE_T:"HH:mm:ss",de_DE_f:"dddd, d. MMMM yyyy HH:mm",de_DE_F:"dddd, d. MMMM yyyy HH:mm:ss",de_DE_M:"dd MMMM",de_DE_Y:"MMMM yyyy",fr_FR_d:"dd/MM/yyyy",fr_FR_D:"dddd d MMMM yyyy",fr_FR_t:"HH:mm",fr_FR_T:"HH:mm:ss",fr_FR_f:"dddd d MMMM yyyy HH:mm",fr_FR_F:"dddd d MMMM yyyy HH:mm:ss",fr_FR_M:"d MMMM",fr_FR_Y:"MMMM yyyy",it_IT_d:"dd/MM/yyyy",it_IT_D:"dddd d MMMM yyyy",it_IT_t:"HH:mm",it_IT_T:"HH:mm:ss",it_IT_f:"dddd d MMMM yyyy HH:mm",it_IT_F:"dddd d MMMM yyyy HH:mm:ss",it_IT_M:"dd MMMM",it_IT_Y:"MMMM yyyy",ru_RU_d:"dd.MM.yyyy",ru_RU_D:"d MMMM yyyy '?.'",ru_RU_t:"H:mm",ru_RU_T:"H:mm:ss",ru_RU_f:"d MMMM yyyy '?.' H:mm",ru_RU_F:"d MMMM yyyy '?.' H:mm:ss",ru_RU_Y:"MMMM yyyy",cs_CZ_d:"d.M.yyyy",cs_CZ_D:"d. MMMM yyyy",cs_CZ_t:"H:mm",cs_CZ_T:"H:mm:ss",cs_CZ_f:"d. MMMM yyyy H:mm",cs_CZ_F:"d. MMMM yyyy H:mm:ss",cs_CZ_M:"dd MMMM",cs_CZ_Y:"MMMM yyyy",he_IL_d:"dd MMMM yyyy",he_IL_D:"dddd dd MMMM yyyy",he_IL_t:"HH:mm",he_IL_T:"HH:mm:ss",he_IL_f:"dddd dd MMMM yyyy HH:mm",he_IL_F:"dddd dd MMMM yyyy HH:mm:ss",he_IL_M:"dd MMMM",he_IL_Y:"MMMM yyyy",hr_HR_d:"d.M.yyyy.",hr_HR_D:"d. MMMM yyyy.",hr_HR_t:"H:mm",hr_HR_T:"H:mm:ss",hr_HR_f:"d. MMMM yyyy. H:mm",hr_HR_F:"d. MMMM yyyy. H:mm:ss",hr_HR_M:"d. MMMM",hu_HU_d:"yyyy.MM.dd.",hu_HU_D:"yyyy. MMMM d.",hu_HU_t:"H:mm",hu_HU_T:"H:mm:ss",hu_HU_f:"yyyy. MMMM d. H:mm",hu_HU_F:"yyyy. MMMM d. H:mm:ss",hu_HU_M:"MMMM d.",hu_HU_Y:"yyyy. MMMM",jp_JP_d:"gg y/M/d",jp_JP_D:"gg y'?'M'?'d'?'",jp_JP_t:"H:mm",jp_JP_T:"H:mm:ss",jp_JP_f:"gg y'?'M'?'d'?' H:mm",jp_JP_F:"gg y'?'M'?'d'?' H:mm:ss",jp_JP_M:"M'?'d'?'",jp_JP_Y:"gg y'?'M'?'",lt_LT_d:"yyyy.MM.dd",lt_LT_D:"yyyy 'm.' MMMM d 'd.'",lt_LT_t:"HH:mm",lt_LT_T:"HH:mm:ss",lt_LT_f:"yyyy 'm.' MMMM d 'd.' HH:mm",lt_LT_F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",lt_LT_M:"MMMM d 'd.'",lt_LT_Y:"yyyy 'm.' MMMM",sa_IN_d:"dd-MM-yyyy",sa_IN_D:"dd MMMM yyyy dddd",sa_IN_t:"HH:mm",sa_IN_T:"HH:mm:ss",sa_IN_f:"dd MMMM yyyy dddd HH:mm",sa_IN_F:"dd MMMM yyyy dddd HH:mm:ss",sa_IN_M:"dd MMMM",basic_y:"yyyy",basic_ym:"yyyy-MM",basic_d:"yyyy-MM-dd",basic_dhm:"yyyy-MM-dd hh:mm",basic_bhms:"yyyy-MM-dd hh:mm:ss",basic2_ym:"MM-yyyy",basic2_d:"MM-dd-yyyy",basic2_dhm:"MM-dd-yyyy hh:mm",basic2_dhms:"MM-dd-yyyy hh:mm:ss",basic3_ym:"yyyy/MM",basic3_d:"yyyy/MM/dd",basic3_dhm:"yyyy/MM/dd hh:mm",basic3_bhms:"yyyy/MM/dd hh:mm:ss",basic4_ym:"MM/yyyy",basic4_d:"MM/dd/yyyy",basic4_dhm:"MM/dd/yyyy hh:mm",basic4_dhms:"MM/dd/yyyy hh:mm:ss"};t&&(i=me.extend({},i,t));var s=[];for(var r in me.isArray(e)?s=e:s.push(e),i)i[r]={format:i[r],count:0};for(var n=0;n<s.length;n++)if(value=s[n],null!=value&&null!=value)for(var r in i){null!=me.jqx.dataFormat.parsedate(value,i[r].format)&&i[r].count++}var o={key:void 0,count:0};for(var r in i)i[r].count>o.count&&(o.key=r,o.count=i[r].count);return o.key?i[o.key].format:""},_testXAxisDateFormat:function(e){var t=this._getXAxis(e),i=this._getDataLen(e),s={};if(this.localization&&this.localization.patterns)for(var r in this.localization.patterns)s["local_"+r]=this.localization.patterns[r];for(var n=[],o=0;o<i&&o<10;o++)value=this._getDataValue(o,t.dataField,e),null!=value&&null!=value&&n.push(value);return this._detectDateFormat(n,s)}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleApi:!0,getItemsCount:function(e,t){var i=this.seriesGroups[e];if(!this._isSerieVisible(e,t))return 0;var s=this._renderData;return!i||!s||s.length<=e?0:i.series[t]?s[e].offsets[t].length:0},getXAxisRect:function(e){var t=this._renderData;if(t&&!(t.length<=e)&&t[e].xAxis)return t[e].xAxis.rect},getXAxisLabels:function(e){var t=[],i=this._renderData;if(!i||i.length<=e)return t;if(!(i=i[e].xAxis))return t;var s=this.seriesGroups[e];if(s.polar||s.spider){for(var r=0;r<i.polarLabels.length;r++){var n=i.polarLabels[r];t.push({offset:{x:n.x,y:n.y},value:n.value})}return t}var o=this._getXAxis(e),a=this.getXAxisRect(e),l="top"==o.position||"right"==o.position,d="horizontal"==s.orientation;for(r=0;r<i.data.length;r++)d?t.push({offset:{x:a.x+(l?0:a.width),y:a.y+i.data.data[r]},value:i.data.xvalues[r]}):t.push({offset:{x:a.x+i.data.data[r],y:a.y+(l?a.height:0)},value:i.data.xvalues[r]});return t},getValueAxisRect:function(e){var t=this._renderData;if(t&&!(t.length<=e)&&t[e].valueAxis)return t[e].valueAxis.rect},getValueAxisLabels:function(e){var t=[],i=this._renderData;if(!i||i.length<=e)return t;if(!(i=i[e].valueAxis))return t;var s=this._getValueAxis(e),r="top"==s.position||"right"==s.position,n=this.seriesGroups[e],o="horizontal"==n.orientation;if(n.polar||n.spider){for(var a=0;a<i.polarLabels.length;a++){var l=i.polarLabels[a];t.push({offset:{x:l.x,y:l.y},value:l.value})}return t}for(a=0;a<i.items.length;a++)o?t.push({offset:{x:i.itemOffsets[i.items[a]].x+i.itemWidth/2,y:i.rect.y+(r?i.rect.height:0)},value:i.items[a]}):t.push({offset:{x:i.rect.x+i.rect.width,y:i.itemOffsets[i.items[a]].y+i.itemWidth/2},value:i.items[a]});return t},getPlotAreaRect:function(){return this._plotRect},getRect:function(){return this._rect},showToolTip:function(e,t,i,s,r){var n=this.getItemCoord(e,t,i);isNaN(n.x)||isNaN(n.y)||this._startTooltipTimer(e,t,i,n.x,n.y,s,r)},hideToolTip:function(e){isNaN(e)&&(e=0);var t=this;t._cancelTooltipTimer(),setTimeout(function(){t._hideToolTip(0)},e)}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleAnnotations:!0,_renderAnnotation:function(e,t,i){var s=this.seriesGroups[e],r=this.renderer;if(!isNaN(e)){var n=this._get([this.getXAxisDataPointOffset(t.xValue,e),t.x]),o=this._get([this.getValueAxisDataPointOffset(t.yValue,e),t.y]),a=this._get([this.getXAxisDataPointOffset(t.xValue2,e),t.x2]),l=this._get([this.getValueAxisDataPointOffset(t.yValue2,e),t.y2]);if(s.polar||s.spider){var d=this.getPolarDataPointOffset(t.xValue,t.yValue,e);!d||isNaN(d.x)||isNaN(d.y)?(n=t.x,o=t.y):(n=d.x,o=d.y)}if(isNaN(o)||isNaN(n))return!1;if("horizontal"==s.orientation){var h=n;n=o,o=h,h=a,a=l,l=h}t.offset&&(isNaN(t.offset.x)||(n+=t.offset.x,a+=t.offset.x),isNaN(t.offset.y)||(o+=t.offset.y,l+=t.offset.y));var c,u,p=this._get([t.width,a-n]),m=this._get([t.height,l-o]);switch(t.type){case"rect":c=r.rect(n,o,p,m);break;case"circle":c=r.rect(n,o,t.radius);break;case"line":c=r.rect(n,o,a,l);break;case"path":c=r.path(t.path)}if(r.attr(c,{fill:t.fillColor,stroke:t.lineColor,opacity:this._get([t.fillOpacity,t.opacity]),"stroke-opacity":this._get([t.lineOpacity,t.opacity]),"stroke-width":t.lineWidth,"stroke-dasharray":t.dashStyle||"none"}),t.text){var f=t.text,g=0,v=0;f.offset&&(isNaN(f.offset.x)||(g+=f.offset.x),isNaN(f.offset.y)||(v+=f.offset.y)),u=r.text(f.value,n+g,o+v,NaN,NaN,f.angle,{},!0===f.clip,f.horizontalAlignment||"center",f.verticalAlignment||"center",f.rotationPoint||"centermiddle"),r.attr(u,{fill:f.fillColor,stroke:f.lineColor,class:f.class})}for(var x=["click","mouseenter","mouseleave"],w=this,y=0;y<x.length;y++){var b=this._getEvent(x[y])||x[y];c&&this.renderer.addHandler(c,b,function(){w._raiseAnnotationEvent(t,b)}),u&&this.renderer.addHandler(u,b,function(){w._raiseAnnotationEvent(t,b)})}}},_raiseAnnotationEvent:function(e,t){this._raiseEvent("annotation_"+t,{annotation:e})}})}(jqxBaseFramework),function(q){q.extend(q.jqx._jqxChart.prototype,{_moduleRangeSelector:!0,_renderXAxisRangeSelector:function(e,t){this._isTouchDevice=q.jqx.mobile.isTouchDevice();var i=this.seriesGroups[e],s=this._getXAxis(e),r=s?s.rangeSelector:void 0;this._isSelectorRefresh||(r&&r.renderTo?r.renderTo:this.host).find(".rangeSelector").remove();if(!s||0==s.visible||"spider"==i.type)return!1;if(!this._isGroupVisible(e))return!1;if(!r)return!1;var n="horizontal"==i.orientation;r.renderTo&&(n=!1),this.rtl&&(s.flip=!0);var o=n?this.host.height():this.host.width();o-=4;var a=this._getXAxisStats(e,s,o),l=s.position;if(r.renderTo&&r.position&&(l=r.position),!this._isSelectorRefresh){var d=r.renderTo,h=q("<div class='rangeSelector jqx-disableselect' style='position: absolute; background-color: transparent;' onselectstart='return false;'></div>").appendTo(d||this.renderer.getContainer());if(d)h.css({width:d.width(),height:d.height()}),t.width=d.width(),t.height=d.height();else{var c=this.host.coord();c.top=0,c.left=0,selectorSize=this._selectorGetSize(s),n?(h.css("left",c.left+1+t.x+("right"!=l?-selectorSize:t.width)),h.css("top",c.top),h.css("height",o),h.css("width",selectorSize),t.height=selectorSize):(h.css("left",c.left+1),h.css("top",c.top+t.y+("top"!=l?t.height:-selectorSize)),h.css("height",selectorSize),h.css("width",o))}this._refreshSelector(e,s,a,h,t,n)}return!(this._isSelectorRefresh=!1)},_refreshSelector:function(e,t,i,s,r,n){var o={},a=t.rangeSelector;this.seriesGroups[e];for(var l in a)o[l]=a[l];delete o.padding;var d=o.minValue,h=o.maxValue;null==d&&(d=Math.min(i.min.valueOf(),i.dsRange.min.valueOf())),null==h&&(h=Math.max(i.max.valueOf(),i.dsRange.max.valueOf())),this._isDate(i.min)&&(d=new Date(d)),this._isDate(i.max)&&(h=new Date(h));var c=t.position;a.renderTo&&a.position&&(c=a.position),o.dataField=t.dataField,delete o.rangeSelector,o.type=t.type,o.baseUnit=a.baseUnit||t.baseUnit,o.minValue=d,o.maxValue=h,o.flip=t.flip,o.position=c;var u=2,p=2,m=2,f=2;a.renderTo||(u=n?0:r.x,p=n?0:this._rect.width-r.x-r.width,m=n?r.y:5,f=n?this._paddedRect.height-this._plotRect.height:5);var g=a.padding;g=null!=g||a.renderTo?{left:g&&g.left?g.left:u,top:g&&g.top?g.top:m,right:g&&g.right?g.right:p,bottom:g&&g.bottom?g.bottom:f}:{left:u,top:m,right:p,bottom:f};var v=t.rangeSelector.dataField;for(l=0;null==v&&l<this.seriesGroups.length;l++)for(var x=0;null==v&&x<this.seriesGroups[l].series.length;x++)v=this.seriesGroups[l].series[x].dataField;var w={padding:g,_isRangeSelectorInstance:!0,title:a.title||"",description:a.description||"",titlePadding:a.titlePadding,colorScheme:a.colorScheme||this.colorScheme,backgroundColor:a.backgroundColor||this.backgroundColor||"transparent",backgroundImage:a.backgroundImage||"",showBorderLine:a.showBorderLine||!!a.renderTo,borderLineWidth:a.borderLineWidth||this.borderLineWidth,borderLineColor:a.borderLineColor||this.borderLineColor,rtl:a.rtl||this.rtl,greyScale:a.greyScale||this.greyScale,renderEngine:this.renderEngine,showLegend:!1,enableAnimations:!1,enableEvents:!1,showToolTips:!1,source:this.source,xAxis:o,seriesGroups:[{orientation:n?"horizontal":"vertical",valueAxis:{visible:!1},type:t.rangeSelector.serieType||"area",skipOverlappingPoints:q.jqx.getByPriority([t.rangeSelector.skipOverlappingPoints,!0]),columnSeriesOverlap:q.jqx.getByPriority([t.rangeSelector.columnSeriesOverlap,!1]),columnsGapPercent:q.jqx.getByPriority([t.rangeSelector.columnsGapPercent,25]),seriesGapPercent:q.jqx.getByPriority([t.rangeSelector.seriesGapPercent,25]),series:[{dataField:v,opacity:.8,lineWidth:1}]}]};t.rangeSelector.seriesGroups&&(w.seriesGroups=t.rangeSelector.seriesGroups),t.rangeSelector.valueAxis&&(w.valueAxis=t.rangeSelector.valueAxis),w.showBorderLine||(w.borderLineWidth=1,w.borderLineColor=q.jqx.getByPriority([this.backgroundColor,this.background,"#FFFFFF"]),w.showBorderLine=!0);var y=this;y._supressBindingRefresh=!0,s.empty(),s.jqxChart(w),y._rangeSelectorInstances[e]=s,y._supressBindingRefresh=!1,s.on(y._getEvent("mousemove"),function(){y._unselect(),y._hideToolTip()});var b=s.jqxChart("getInstance");if(b._plotRect){var _=b._paddedRect;if(_.height=b._plotRect.height,n||"top"!=c){if(n){var j=b._renderData[0].xAxis.rect.width;_.width-=j,"right"!=c&&(_.x+=j)}}else _.y+=b._renderData[0].xAxis.rect.height;y._createSliderElements(e,s,_,a),y.removeHandler(q(document),y._getEvent("mousemove")+"."+this.element.id,y._onSliderMouseMove),y.removeHandler(q(document),y._getEvent("mousedown"),y._onSliderMouseDown),y.removeHandler(q(document),y._getEvent("mouseup")+"."+this.element.id,y._onSliderMouseUp),y.addHandler(q(document),y._getEvent("mousemove")+"."+this.element.id,y._onSliderMouseMove,{self:this,groupIndex:e,renderTo:s,swapXY:n}),y.addHandler(q(s),y._getEvent("mousedown"),this._onSliderMouseDown,{self:this,groupIndex:e,renderTo:s,swapXY:n}),y.addHandler(q(document),y._getEvent("mouseup")+"."+this.element.id,y._onSliderMouseUp,{element:this.element.id,self:this,groupIndex:e,renderTo:s,swapXY:n})}},_createSliderElements:function(e,t,i,s){t.find(".slider").remove();var r=s.selectedRangeColor||"blue",n=q.jqx.getByPriority([s.selectedRangeOpacity,.1]),o=q.jqx.getByPriority([s.unselectedRangeOpacity,.5]),a=s.unselectedRangeColor||"white",l=s.rangeLineColor||"grey",d=q("<div class='slider' style='position: absolute;'></div>");for(d.css({background:r,opacity:n,left:i.x,top:i.y,width:i.width,height:i.height}),d.appendTo(t);this._sliders.length<e+1;)this._sliders.push({});var h="<div class='slider' style='position: absolute;  background: "+a+"; opacity: "+o+";'></div>",c="<div class='slider' style='position: absolute; background:"+l+"; opacity: "+o+";'></div>",u="<div class='slider jqx-rc-all' style='position: absolute; background: white; border-style: solid; border-width: 1px; border-color: "+l+";'></div>";this._sliders[e]={element:d,host:t,_sliderInitialAbsoluteRect:{x:d.coord().left,y:d.coord().top,width:i.width,height:i.height},_hostInitialAbsolutePos:{x:t.coord().left,y:t.coord().top},getRect:function(){return{x:this.host.coord().left-this._hostInitialAbsolutePos.x+this._sliderInitialAbsoluteRect.x,y:this.host.coord().top-this._hostInitialAbsolutePos.y+this._sliderInitialAbsoluteRect.y,width:this._sliderInitialAbsoluteRect.width,height:this._sliderInitialAbsoluteRect.height}},rect:i,left:q(h),right:q(h),leftTop:q(c),rightTop:q(c),leftBorder:q(c),leftBar:q(u),rightBorder:q(c),rightBar:q(u)},this._sliders[e].left.appendTo(t),this._sliders[e].right.appendTo(t),this._sliders[e].leftTop.appendTo(t),this._sliders[e].rightTop.appendTo(t),this._sliders[e].leftBorder.appendTo(t),this._sliders[e].rightBorder.appendTo(t),this._sliders[e].leftBar.appendTo(t),this._sliders[e].rightBar.appendTo(t);var p=this._renderData[e].xAxis.data.axisStats,m=p.min.valueOf(),f=p.max.valueOf(),g=this._valueToOffset(e,m),v=this._valueToOffset(e,f);if(v<g){var x=v;v=g,g=x}"horizontal"!=this.seriesGroups[e].orientation?d.css({left:Math.round(i.x+g),top:i.y,width:Math.round(v-g),height:i.height}):d.css({top:Math.round(i.y+g),left:i.x,height:Math.round(v-g),width:i.width}),this._setSliderPositions(e,g,v)},_setSliderPositions:function(e,t,i){var s=this.seriesGroups[e],r=this._getXAxis(e),n=r.rangeSelector,o="horizontal"==s.orientation;r.rangeSelector.renderTo&&(o=!1);var a=r.position;n.renderTo&&n.position&&(a=n.position);var l=this._sliders[e],d=o?"top":"left",h=o?"left":"top",c=o?"height":"width",u=o?"width":"height",p=o?"y":"x",m=o?"x":"y",f=l.rect;l.startOffset=t,l.endOffset=i,l.left.css(d,f[p]),l.left.css(h,f[m]),l.left.css(c,t),l.left.css(u,f[u]),l.right.css(d,f[p]+i),l.right.css(h,f[m]),l.right.css(c,f[c]-i+1),l.right.css(u,f[u]),l.leftTop.css(d,f[p]),l.leftTop.css(h,f[m]+(o&&"right"==a||!o&&"top"!=a?0:f[u])),l.leftTop.css(c,t),l.leftTop.css(u,1),l.rightTop.css(d,f[p]+i),l.rightTop.css(h,f[m]+(o&&"right"==a||!o&&"top"!=a?0:f[u])),l.rightTop.css(c,f[c]-i+1),l.rightTop.css(u,1),l.leftBorder.css(d,f[p]+t),l.leftBorder.css(h,f[m]),l.leftBorder.css(c,1),l.leftBorder.css(u,f[u]);var g=f[u]/4;20<g&&(g=20),g<3&&(g=3),l.leftBar.css(d,f[p]+t-3),l.leftBar.css(h,f[m]+f[u]/2-g/2),l.leftBar.css(c,5),l.leftBar.css(u,g),l.rightBorder.css(d,f[p]+i),l.rightBorder.css(h,f[m]),l.rightBorder.css(c,1),l.rightBorder.css(u,f[u]),l.rightBar.css(d,f[p]+i-3),l.rightBar.css(h,f[m]+f[u]/2-g/2),l.rightBar.css(c,5),l.rightBar.css(u,g)},_resizeState:{},_onSliderMouseDown:function(e){e.stopImmediatePropagation(),e.stopPropagation();var t=e.data.self;t._sliders[e.data.groupIndex]&&(null==t._resizeState.state&&t._testAndSetReadyResize(e),"ready"==t._resizeState.state&&((q.jqx._rangeSelectorTarget=t)._resizeState.state="resizing"))},_valueToOffset:function(e,t){var i=this.seriesGroups[e],s=this._sliders[e],r=s.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats,n=r.min.valueOf(),o=r.max.valueOf()-n;0==o&&(o=1);var a=this._getXAxis(e),l="horizontal"==i.orientation?"height":"width",d=(t.valueOf()-n)/o;return s.getRect()[l]*(a.flip?1-d:d)},_offsetToValue:function(e,t){var i=this._sliders[e],s=this.seriesGroups[e],r=this._getXAxis(e),n="horizontal"==s.orientation?"height":"width",o=i.getRect()[n];0==o&&(o=1);var a=i.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats,l=a.min.valueOf(),d=a.max.valueOf(),h=t/o*(d-l)+l;return 1==r.flip&&(h=d-t/o*(d-l)),this._isDate(a.min)||this._isDate(a.max)?h=new Date(h):((null==r.dataField||a.useIndeces)&&(h=Math.round(h)),h<a.min&&(h=a.min),h>a.max&&(h=a.max)),h},_onSliderMouseUp:function(e){var t=q.jqx._rangeSelectorTarget;if(t){var i=e.data.groupIndex,s=e.data.swapXY,r=t._sliders[i];if(r&&"resizing"==t._resizeState.state){e.stopImmediatePropagation(),e.stopPropagation(),t._resizeState={},t.host.css("cursor","default");var n=s?"top":"left",o=s?"y":"x",a=r.element.coord()[n],l=a+(s?r.element.height():r.element.width()),d=r.getRect(),h=t._offsetToValue(i,a-d[o]),c=t._offsetToValue(i,l-d[o]);!r.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats.isTimeUnit&&864e5<c.valueOf()-h.valueOf()&&(h.setHours(0,0,0,0),c.setDate(c.getDate()+1),c.setHours(0,0,0,0));var u=t._getXAxis(i);if(u.flip){var p=h;h=c,c=p}for(var m=0;m<t.seriesGroups.length;m++){t._getXAxis(m)==u&&(t._selectorRange[m]={min:h,max:c})}t._isSelectorRefresh=!0;var f=t.enableAnimations;t._raiseEvent("rangeSelectionChanging",{instance:t,minValue:h,maxValue:c}),t.enableAnimations=!1,t.update(),t.enableAnimations=f,t._raiseEvent("rangeSelectionChanged",{instance:t,minValue:h,maxValue:c})}}},_onSliderMouseMove:function(e){var t=e.data.self,i=(e.data.renderTo,e.data.groupIndex),s=t._sliders[i],r=e.data.swapXY;if(s){var n=s.getRect(),o=s.element,a=q.jqx.position(e),l=o.coord(),d=r?"top":"left",h=r?"height":"width",c=r?"y":"x";if("resizing"==t._resizeState.state){if(e.stopImmediatePropagation(),e.stopPropagation(),"left"==t._resizeState.side){var u=Math.round(a[d]-l[d]),p=n[c];if(l[d]+u>=p&&l[d]+u<=p+n[h]){var m=parseInt(o.css(d)),f=Math.max(2,(r?o.height():o.width())-u);o.css(h,f),o.css(d,m+u)}}else if("right"==t._resizeState.side){var g=r?o.height():o.width();u=Math.round(a[d]-l[d]-g),p=n[c];if(l[d]+g+u>=p&&l[d]+u+g<=p+n[h]){f=Math.max(2,g+u);o.css(h,f)}}else if("move"==t._resizeState.side){g=r?o.height():o.width(),m=parseInt(o.css(d)),u=Math.round(a[d]-t._resizeState.startPos);l[d]+u>=n[c]&&l[d]+u+g<=n[c]+n[h]&&(t._resizeState.startPos=a[d],o.css(d,m+u))}var v=parseInt(o.css(d))-s.rect[c],x=v+(r?o.height():o.width());t._setSliderPositions(i,v,x)}else t._testAndSetReadyResize(e)}},_testAndSetReadyResize:function(e){var t=e.data.self,i=e.data.renderTo,s=e.data.groupIndex,r=t._sliders[s],n=e.data.swapXY,o=r.getRect(),a=r.element,l=q.jqx.position(e),d=a.coord(),h=n?"left":"top",c=n?"top":"left",u=n?"width":"height",p=t._isTouchDevice?30:5;l[h]>=d[h]&&l[h]<=d[h]+o[u]?Math.abs(l[c]-d[c])<=p?(i.css("cursor",n?"row-resize":"col-resize"),t._resizeState={state:"ready",side:"left"}):Math.abs(l[c]-d[c]-(n?a.height():a.width()))<=p?(i.css("cursor",n?"row-resize":"col-resize"),t._resizeState={state:"ready",side:"right"}):l[c]+p>d[c]&&l[c]-p<d[c]+(n?a.height():a.width())?(i.css("cursor","pointer"),t._resizeState={state:"ready",side:"move",startPos:l[c]}):(i.css("cursor","default"),t._resizeState={}):(i.css("cursor","default"),t._resizeState={})},_selectorGetSize:function(e){return e.rangeSelector.renderTo?0:e.rangeSelector.size||this._paddedRect.height/3}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleWaterfall:!0,_isSummary:function(e,t){for(var i=this.seriesGroups[e],s=0;s<i.series.length;s++)if(void 0!==i.series[s].summary&&(summaryValue=this._getDataValue(t,i.series[s].summary,e),void 0!==summaryValue))return!0;return!1},_applyWaterfall:function(e,t,i,s,r,n,o,a,l){var d=this.seriesGroups[i];if(0==e.length)return e;for(var h=s,c={},u=[],p=void 0,m=[],f=0;f<d.series.length;f++)m.push(this._isSerieVisible(i,f));for(var g={},v=0;v<t;v++){var x=s,w=0,y=this._isSummary(i,v);for(f=0;f<e.length;f++)if(m[f]){var b=0;if(y){b=x==s?r:0,e[f][v].value=c[f],e[f][v].summary=!0,p=e[f][v].value<b,a&&(p=!p);var _=0;_=isNaN(n)?this._getDataPointOffsetDiff(e[f][v].value,b,b,NaN,o,s,a):this._getDataPointOffsetDiff(e[f][v].value+w,0==w?r:w,b||r,n,o,s,a),e[f][v].to=x+(p?_:-_),e[f][v].from=x,l&&(w+=e[f][v].value,x=e[f][v].to)}else{var j=l?-1:f;if(!isNaN(e[f][v].value)){void 0===g[j]&&(b=r,g[j]=!0),p=e[f][v].value<b,a&&(p=!p);var q=NaN;_=NaN;q=l?h:0==v?s:e[f][u[f]].to;_=0;_=isNaN(n)?this._getDataPointOffsetDiff(e[f][v].value,b,b,NaN,o,s,a):this._getDataPointOffsetDiff(e[f][v].value+(isNaN(c[j])?0:c[j]),isNaN(c[j])?r:c[j],b||r,n,o,q,a),e[f][v].to=h=q+(p?_:-_),e[f][v].from=q,isNaN(c[j])?c[j]=e[f][v].value:c[j]+=e[f][v].value,-1==j&&(isNaN(c[f])?c[f]=e[f][v].value:c[f]+=e[f][v].value),l||(u[f]=v)}}}}return e}})}(jqxBaseFramework),function(h){h.jqx.jqxWidget("jqxCheckBox","",{}),h.extend(h.jqx._jqxCheckBox.prototype,{defineInstance:function(){var e={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"15px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",keyboardCheck:!0,enableHover:!0,hasInput:!0,rtl:!1,updated:null,disabledContainer:!1,changeType:null,_canFocus:!0,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};return this===h.jqx._jqxCheckBox.prototype||h.extend(!0,this,e),e},createInstance:function(e){this._createFromInput("CheckBox"),this.render()},_createFromInput:function(e){var t=this;if("input"==t.element.nodeName.toLowerCase()){t.field=t.element,t.field.className&&(t._className=t.field.className);var i={title:t.field.title};t.field.value&&(i.value=t.field.value),t.field.checked&&(i.checked=!0),t.field.id.length?i.id=t.field.id.replace(/[^\w]/g,"_")+"_"+e:i.id=h.jqx.utilities.createId()+"_"+e;var s=t.element.nextSibling,r=!1;!s||"#text"!=s.nodeName&&"span"!=s.nodeName||(r=!0);var n=0,o=h("<div></div>",i);if(r){o.append(s);var a=h("<span>"+h(s).text()+"</span>");a.appendTo(h(document.body)),n+=a.width(),a.remove()}o[0].style.cssText=t.field.style.cssText,t.width||(t.width=h(t.field).width()+n+10),t.height||(t.height=h(t.field).outerHeight()+10),h(t.field).hide().after(o);var l=t.host.data();if(t.host=o,t.host.data(l),t.element=o[0],t.element.id=t.field.id,t.field.id=i.id,t._className&&(t.host.addClass(t._className),h(t.field).removeClass(t._className)),t.field.tabIndex){var d=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=d}}},_addInput:function(){if(this.hasInput){this.input&&this.input.remove();var e=this.host.attr("name");this.input=h("<input type='hidden'/>"),this.host.append(this.input),e&&this.input.attr("name",e),this.input.val(this.checked),this.host.attr("role","checkbox"),h.jqx.aria(this)}},render:function(){this.init=!0;var r=this;this.setSize(),this.propertyChangeMap.width=function(e,t,i,s){r.setSize()},this.propertyChangeMap.height=function(e,t,i,s){r.setSize()},this._removeHandlers(),this.width||this.host.css("overflow-x","visible"),this.height||this.host.css("overflow-y","visible"),this.checkbox&&(this.checkbox.remove(),this.checkbox=null),this.checkMark&&(this.checkMark.remove(),this.checkMark=null),this.box&&(this.box.remove(),this.box=null),this.clear&&(this.clear.remove(),this.clear=null),null==this.boxSize&&(this.boxSize=13);var e=parseInt(this.boxSize)+"px",t=Math.floor((parseInt(this.boxSize)-13)/2),i=t;t+="px",i+="px","13px"!=this.boxSize?this.checkbox=h('<div><div style="width: '+e+"; height: "+e+';"><span style="position: relative; left: '+t+"; top: "+i+'; width: 13px; height: 13px;"></span></div></div>'):this.checkbox=h('<div><div style="width: '+e+"; height: "+e+';"><span style="width: '+e+"; height: "+e+';"></span></div></div>'),this.host.prepend(this.checkbox),this.disabledContainer||(this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.clear=h('<div style="clear: both;"></div>'),this.host.append(this.clear)),this.checkMark=h(this.checkbox[0].firstChild.firstChild),this.box=this.checkbox,this.box.addClass(this.toThemeProperty("jqx-checkbox-default")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-rc-all")),this.disabled&&this.disable(),this.disabledContainer||(this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-checkbox"))),this.locked&&!this.disabledContainer&&this.host.css("cursor","auto");var s=this.element.getAttribute("checked");"checked"!=s&&"true"!=s&&1!=s||(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),this.init=!1,this._centerBox()},_centerBox:function(){if(this.height&&-1==this.height.toString().indexOf("%")&&this.box){var e=parseInt(this.height);this.host.css("line-height",e+"px");var t=e-parseInt(this.boxSize)-1;t/=2,this.box.css("margin-top",parseInt(t))}},refresh:function(e){e||(this.setSize(),this._render())},resize:function(e,t){this.width=e,this.height=t,this.refresh()},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.element.style.width=this.width):this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.element.style.height=this.height):this.host.height(this.height),this._centerBox()},_addHandlers:function(){var t=this,e="mousedown";h.jqx.mobile.isTouchDevice()&&(e=h.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.box,e,function(e){if(!t.disabled&&!t.enableContainerClick&&!t.locked)return t.changeType="mouse",t.toggle(),t.updated&&(e.owner=t).updated(e,t.checked,t.oldChecked),e.preventDefault&&e.preventDefault(),!1}),this.disabledContainer||(this.addHandler(this.host,"keydown",function(e){if(!t.disabled&&!t.locked&&t.keyboardCheck&&32==e.keyCode)return!t._canFocus||(t.changeType="keyboard",t.toggle(),t.updated&&(e.owner=t).updated(e,t.checked,t.oldChecked),e.preventDefault&&e.preventDefault(),!1)}),this.addHandler(this.host,e,function(e){if(!t.disabled&&t.enableContainerClick&&!t.locked)return t.changeType="mouse",t.toggle(),e.preventDefault&&e.preventDefault(),t._canFocus&&t.focus(),!1}),this.addHandler(this.host,"selectstart",function(e){if(!t.disabled&&t.enableContainerClick)return e.preventDefault&&e.preventDefault(),!1}),this.addHandler(this.host,"mouseup",function(e){!t.disabled&&t.enableContainerClick&&e.preventDefault&&e.preventDefault()}),this.addHandler(this.host,"focus",function(e){if(!t.disabled&&!t.locked)return!t._canFocus||(t.enableHover&&t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-focus")),e.preventDefault&&e.preventDefault(),!(t.hovered=!0))}),this.addHandler(this.host,"blur",function(e){if(!t.disabled&&!t.locked)return!t._canFocus||(t.enableHover&&t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-focus")),e.preventDefault&&e.preventDefault(),t.hovered=!1)}),this.addHandler(this.host,"mouseenter",function(e){if(t.locked&&t.host.css("cursor","arrow"),t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault&&e.preventDefault(),!(t.hovered=!0)}),this.addHandler(this.host,"mouseleave",function(e){if(t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault&&e.preventDefault(),t.hovered=!1}),this.addHandler(this.box,"mouseenter",function(){t.locked||t.disabled||t.enableContainerClick||(t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){t.disabled||t.enableContainerClick||(t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}))},focus:function(){try{this.host.focus()}catch(e){}},_removeHandlers:function(){var e="mousedown";h.jqx.mobile.isTouchDevice()&&(e="touchend"),this.box&&(this.removeHandler(this.box,e),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave")),this.removeHandler(this.host,e),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus")},_render:function(){this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.init||this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-checkbox-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates()},_setState:function(e,t){this.checked!=e&&(this.checked=e,this.checked?this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-checked"):null==this.checked?this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-indeterminate"):this.checkMark[0].className=""),!1!==t&&!0!==t||(this.locked=t)},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e||("string"==typeof e?("true"==e&&this.check(),"false"==e&&this.uncheck(),""==e&&this.indeterminate()):(1==e&&this.check(),0==e&&this.uncheck(),null==e&&this.indeterminate())),this.checked},check:function(){this.checked=!0;var e=this;if(this.checkMark.removeClass(),h.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),null!=this.groupName&&0<this.groupName.length){var t=h.find(this.toThemeProperty(".jqx-checkbox",!0));h.each(t,function(){h(this).jqxCheckBox("groupName")==e.groupName&&this!=e.element&&h(this).jqxCheckBox("uncheck")})}var i=this.changeType;this._raiseEvent("0",!0),this.changeType=i,this._raiseEvent("3",{checked:!0}),null!=this.input&&(this.input.val(this.checked),h.jqx.aria(this,"aria-checked",this.checked))},uncheck:function(){this.checked=!1;var e=this;h.jqx.browser.msie||0==this.animationHideDelay?""!=e.checkMark[0].className&&(e.checkMark[0].className=""):(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){""!=e.checkMark[0].className&&(e.checkMark[0].className="")}));var t=this.changeType;this._raiseEvent("1"),this.changeType=t,this._raiseEvent("3",{checked:!1}),null!=this.input&&(this.input.val(this.checked),h.jqx.aria(this,"aria-checked",this.checked))},indeterminate:function(){this.checked=null,this.checkMark.removeClass(),h.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){}));this.changeType;this._raiseEvent("2"),this._raiseEvent("3",{checked:null}),null!=this.input&&(this.input.val(this.checked),h.jqx.aria(this,"aria-checked","undefined"))},toggle:function(){this.disabled||this.locked||(null!=this.groupName&&0<this.groupName.length?1!=this.checked&&(this.checked=!0,this.updateStates()):(this.oldChecked=this.checked,1==this.checked?this.checked=!!this.hasThreeStates&&null:this.checked=null!=this.checked,this.updateStates(),null!=this.input&&this.input.val(this.checked)))},updateStates:function(){this.checked?this.check():0==this.checked?this.uncheck():null==this.checked&&this.indeterminate()},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.addClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled")),h.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.disabled=!1,h.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this.host.remove()},_raiseEvent:function(e,t){if(!this.init){var i=this.events[e],s=new h.Event(i);s.owner=this,t||(t={}),t.type=this.changeType,this.changeType=null,s.args=t;try{var r=this.host.trigger(s)}catch(e){}return r}},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.setSize()},propertyChangedHandler:function(e,t,i,s){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){if("enableContainerClick"!=t||e.disabled||e.locked||(s?e.host.css("cursor","pointer"):e.host.css("cursor","auto")),"rtl"==t&&(s?(e.box.addClass(e.toThemeProperty("jqx-checkbox-rtl")),e.host.addClass(e.toThemeProperty("jqx-rtl"))):(e.box.removeClass(e.toThemeProperty("jqx-checkbox-rtl")),e.host.removeClass(e.toThemeProperty("jqx-rtl")))),"boxSize"==t&&e.render(),"theme"==t&&h.jqx.utilities.setTheme(i,s,e.host),"checked"==t&&s!=i)switch(s){case!0:e.check();break;case!1:e.uncheck();break;case null:e.indeterminate()}"disabled"==t&&s!=i&&(s?e.disable():e.enable())}}})}(jqxBaseFramework),function(u){u.jqx.jqxWidget("jqxColorPicker","",{}),u.extend(u.jqx._jqxColorPicker.prototype,{defineInstance:function(){var e={disabled:!1,height:null,width:null,color:new u.jqx.color({hex:"ff0000"}),redString:"R:",greenString:"G:",blueString:"B:",showTransparent:!1,colorMode:"saturation",_delayLoading:!1,events:["colorchange"]};return this===u.jqx._jqxColorPicker.prototype||u.extend(!0,this,e),e},_createFromInput:function(e){var t=this;if("input"==t.element.nodeName.toLowerCase()){t.field=t.element,t.field.className&&(t._className=t.field.className);var i={title:t.field.title};if(t.field.getAttribute("value")){var s=t.field.getAttribute("value");t.color=new u.jqx.color({hex:s})}t.field.id.length?i.id=t.field.id.replace(/[^\w]/g,"_")+"_"+e:i.id=u.jqx.utilities.createId()+"_"+e;var r=u("<div></div>",i);r[0].style.cssText=t.field.style.cssText,t.width||(t.width=u(t.field).width()),t.height||(t.height=u(t.field).outerHeight()),u(t.field).hide().after(r);var n=t.host.data();if(t.host=r,t.host.data(n),t.element=r[0],t.element.id=t.field.id,t.field.id=i.id,t._className&&(t.host.addClass(t._className),u(t.field).removeClass(t._className)),t.field.tabIndex){var o=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=o}}},createInstance:function(e){this._createFromInput("jqxColorPicker"),this.render();var t=this;u.jqx.utilities.resize(this.host,function(){t._setSize(),t.refresh()},!1,!this._delayLoading)},render:function(){this.element.innerHTML="";this._isTouchDevice=u.jqx.mobile.isTouchDevice(),"string"==typeof this.color&&(this.color=new u.jqx.color({hex:this.color})),this._setSize(),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-color-picker")),this.container=u("<div style='width: 100%; height: 100%; position: relative;'></div>"),this.container.appendTo(this.host),this.colorMap=u("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorMap.appendTo(this.container),this.colorBar=u("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorBar.appendTo(this.container),this.colorPanel=u("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorPanel.appendTo(this.container),this.hexPanel=u("<div style='float: left;'></div>"),this.hexPanel.appendTo(this.colorPanel),this.hexPanel.append('<span style="text-align: left;" >#</span>'),this.hex=u("<input maxlength='6' style='height: 18px;'/>"),this.hex.addClass(this.toThemeProperty("jqx-input")),this.hex.addClass(this.toThemeProperty("jqx-widget-content")),this.hex.appendTo(this.hexPanel),this.colorPanel.append('<div style="font-size: 1px; clear: both;"></div>'),this.rgb=u("<div style='margin-top: 2px;'></div>"),this.rgb.appendTo(this.colorPanel),this.red=u("<input style='width: 25px; height: 18px;' maxlength='3'/>"),this.red.addClass(this.toThemeProperty("jqx-input")),this.red.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.redString+"</span>"),this.red.appendTo(this.rgb),this.green=u("<input style='margin-right: 2px; height: 18px; width: 25px;' maxlength='3'/>"),this.green.addClass(this.toThemeProperty("jqx-input")),this.green.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.greenString+"</span>"),this.green.appendTo(this.rgb),this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-map-overlay")),this._mapImageOverlayURL=this._getImageUrl(this.colorPanel),this.colorPanel.removeClass(this.toThemeProperty("jqx-color-picker-map-overlay")),this.blue=u("<input style='height: 18px; width: 25px;' maxlength='3'/>"),this.blue.addClass(this.toThemeProperty("jqx-input")),this.blue.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.blueString+"</span>"),this.blue.appendTo(this.rgb),this.preview=u("<div style='background: red; position: absolute;'></div>"),this.preview.addClass(this.toThemeProperty("jqx-widget-content")),this.preview.appendTo(this.colorPanel),this.colorBarPointer=u("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>"),this.colorBarPointer.addClass(this.toThemeProperty("jqx-color-picker-bar-pointer")),this.colorMapPointer=u("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>"),this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer")),this.transparent=u("<div style='text-align: center; clear: both;'><a style='text-align: center;' href='#'>transparent</a></div>"),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.element.disabled=!0),this._addHandlers()},val:function(e){return 0==arguments.length?"#"+this.color.hex:(this.setColor(e),this.color.hex)},_setPositionFromValue:function(){var e=this,t=e.color.h,i=100-e.color.v,s=e.colorMap.height(),r=e.colorMap.width(),n=t*r/360,o=i*s/100;if("saturation"==this.colorMode){a=(a=100-e.color.s)*s/100,e._saturation=100-e.color.s,e.colorMapPointer.css("margin-left",n-8),e.colorMapPointer.css("margin-top",o-8),e.colorBarPointer.css("margin-top",a-8),e.colorMapImageOverlay.css("opacity",(100-e.color.s)/100)}else{var a;n=(t=e.color.s)*r/100,o=i*s/100;a=(a=360-e.color.h)*s/360,e._hue=e.color.h,e.colorMapPointer.css("margin-left",n-8),e.colorMapPointer.css("margin-top",o-8),e.colorBarPointer.css("margin-top",a-8)}},updateRGB:function(){this.color.setRgb(this.red.val(),this.green.val(),this.blue.val()),this._updateUI(),this._raiseEvent("0",{color:this.color}),this.color.transparent=!1},_setPosition:function(e,t,i){var s=parseInt(e.pageX),r=parseInt(t.offset().left),n=parseInt(e.pageY),o=parseInt(t.offset().top);if(this._isTouchDevice){var a=u.jqx.position(e);s=a.left,n=a.top}-1==i[0].className.indexOf("jqx-color-picker-bar")&&i.css("margin-left",s-8-r),o<=n&&n<=o+t.height()&&i.css("margin-top",n-8-o)},_handleKeyInput:function(e,t,i){if(!e.disabled){if(!e._validateKey(t))return t;i.val(e._setValueInRange(i.val(),0,255)),this.updateRGB(),this._setPositionFromValue()}},_addHandlers:function(){var i=this;this.addHandler(this.colorMapPointer,"dragStart",function(e){return e.preventDefault(),!1}),this.addHandler(this.colorBarPointer,"dragStart",function(e){return e.preventDefault(),!1}),this.addHandler(this.transparent,"click",function(e){i._raiseEvent("0",{color:"transparent"}),e.preventDefault(),i.color.transparent=!0}),this.addHandler(this.host,"selectionstart",function(e){return e.preventDefault(),!1}),this.addHandler(this.blue,"keyup blur",function(e){i._handleKeyInput(i,e,i.blue)}),this.addHandler(this.green,"keyup blur",function(e){i._handleKeyInput(i,e,i.green)}),this.addHandler(this.red,"keyup blur",function(e){i._handleKeyInput(i,e,i.red)}),this.addHandler(this.hex,"keyup blur",function(e){if(!i.disabled)return i._validateKey(e)?void(6==i.hex.val().toString().length&&(i.hex.val(i.color.validateHex(i.hex.val())),i.color.setHex(i.hex.val()),i._updateUI(),i._setPositionFromValue(),i._raiseEvent("0",{color:i.color}))):e}),this.addHandler(this.colorMap,"dragstart",function(e){return e.preventDefault(),!1});var t=function(e){var t;(i._setPosition(e,i.colorMap,i.colorMapPointer),"saturation"==i.colorMode)?(360<(t=i._valuesFromMouse(e,i.colorMap,360,100)).x&&(t.x=360),i.color.setHsv(t.x,null!=i._saturation?100-i._saturation:100,100-t.y)):(100<(t=i._valuesFromMouse(e,i.colorMap,100,100)).x&&(t.x=100),i.color.setHsv(null!=i._hue?i._hue:360,t.x,100-t.y));i._updateUI(),i._raiseEvent("0",{color:i.color}),i.color.transparent=!1},e="mousedown.picker"+this.element.id;this._isTouchDevice&&(e=u.jqx.mobile.getTouchEventName("touchstart")+".picker"+this.element.id),this.addHandler(this.colorMap,e,function(e){i.disabled||(i.beginDrag=!0,t(e))});var s="mousemove.picker"+this.element.id;this._isTouchDevice&&(s=u.jqx.mobile.getTouchEventName("touchmove")+".picker"+this.element.id),this.addHandler(u(document),s,function(e){i.disabled||1==i.beginDrag&&(t(e),i._isTouchDevice&&e.preventDefault())}),this._isTouchDevice||this.addHandler(this.colorBar,"dragstart",function(e){return e.preventDefault(),!1});var r=function(e){if(i._setPosition(e,i.colorBar,i.colorBarPointer),"saturation"==i.colorMode){var t=i._valuesFromMouse(e,i.colorBar,100,100);i.color.s=t.y,i._saturation=t.y,i.colorMapImageOverlay.css("opacity",i.color.s/100),i.color.setHsv(i.color.h,100-i.color.s,i.color.v)}else{t=i._valuesFromMouse(e,i.colorBar,100,360);i.color.h=360-t.y,i._hue=i.color.h,i.color.setHsv(i.color.h,i.color.s,i.color.v)}i._updateUI(),i._raiseEvent("0",{color:i.color}),i.color.transparent=!1},n="mousemove.colorBar"+this.element.id,o="mousedown.colorBar"+this.element.id,a="mouseup.colorBar"+this.element.id;this._isTouchDevice&&(n=u.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+this.element.id,o=u.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+this.element.id,a=u.jqx.mobile.getTouchEventName("touchend")+".colorBar"+this.element.id),this.addHandler(this.colorBar,o,function(e){i.disabled||(i.beginDragBar=!0,r(e))}),this.addHandler(u(document),n,function(e){i.disabled||1==i.beginDragBar&&(r(e),i._isTouchDevice&&e.preventDefault())}),this.addHandler(u(document),a,function(e){i.disabled||(i.beginDrag=!1,i.beginDragBar=!1)})},_removeHandlers:function(){this.removeHandler(this.transparent,"click"),this.removeHandler(this.host,"selectionstart"),this.removeHandler(this.blue,"keyup blur"),this.removeHandler(this.green,"keyup blur"),this.removeHandler(this.red,"keyup blur"),this.removeHandler(this.hex,"keyup blur"),this.removeHandler(this.colorMap,"dragstart"),this.removeHandler(this.colorBar,"dragstart"),this.removeHandler(this.colorMapPointer,"dragStart"),this.removeHandler(this.colorBarPointer,"dragStart");var e=this.element.id,t="mousemove.colorBar"+e,i="mousedown.colorBar"+e,s="mouseup.colorBar"+e,r="mousedown.picker"+e,n="mousemove.picker"+e;this._isTouchDevice&&(t=u.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+e,i=u.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+e,s=u.jqx.mobile.getTouchEventName("touchend")+".colorBar"+e,r=u.jqx.mobile.getTouchEventName("touchstart")+".picker"+e,n=u.jqx.mobile.getTouchEventName("touchmove")+".picker"+e),this.removeHandler(this.colorMap,r),this.removeHandler(this.colorMap,n),this.removeHandler(this.colorBar,i),this.removeHandler(this.colorBar,t),this.removeHandler(u(document),n),this.removeHandler(u(document),t),this.removeHandler(u(document),s)},_raiseEvent:function(e,t){null==t&&(t={owner:null});var i=this.events[e],s=t||{};s.owner=this;var r=new u.Event(i);return r.owner=this,r.args=s,this.host.trigger(r)},setColor:function(e){e&&("transparent"==e?(this.color.transparent=!0,this.color.hex="000",this.color.r=0,this.color.g=0,this.color.b=0):e.r?this.color=new u.jqx.color({rgb:e}):"#"==e.substring(0,1)?this.color=new u.jqx.color({hex:e.substring(1)}):this.color=new u.jqx.color({hex:e}),this._updateUI(),this._setPositionFromValue(),this._raiseEvent("0",{color:this.color}))},getColor:function(){return this.color},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this.refresh()},propertyChangedHandler:function(e,t,i,s){null!=e.isInitialized&&0!=e.isInitialized&&("colorMode"==t&&e.refresh(),"color"==t&&(e._updateUI(),e._setPositionFromValue(),e._raiseEvent("0",{color:s})),"width"!=t&&"height"!=t||(e._setSize(),e.refresh()),"showTransparent"==t&&e.refresh(),"disabled"==t&&((this.element.disabled=s)?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled"))))},_valuesFromMouse:function(e,t,i,s){var r=0,n=0,o=t.offset(),a=t.height(),l=t.width(),d=e.pageX,h=e.pageY;if(this._isTouchDevice){var c=u.jqx.position(e);d=c.left,h=c.top}return r=d<o.left?0:d>o.left+l?l:d-o.left+1,n=h<o.top?0:h>o.top+a?a:h-o.top+1,{x:parseInt(r/l*i),y:parseInt(n/a*s)}},_validateKey:function(e){return 9!=e.keyCode&&16!=e.keyCode&&38!=e.keyCode&&29!=e.keyCode&&40!=e.keyCode&&17!=e.keyCode&&37!=e.keyCode&&(!e.ctrlKey||e.keyCode!="c".charCodeAt()&&e.keyCode!="v".charCodeAt())&&(!e.ctrlKey||e.keyCode!="C".charCodeAt()&&e.keyCode!="V".charCodeAt())&&(!e.ctrlKey&&!e.shiftKey)},_setValueInRange:function(e,t,i){return""==e||isNaN(e)?t:i<(e=parseInt(e))?i:e<t?t:e},destroy:function(){u.jqx.utilities.resize(this.host,null,!0),this.host.removeClass(),this._removeHandlers(),this.host.remove()},setPointerStyle:function(e){this.colorMapPointer.removeClass(),"transparent"!=e&&""!=e.hex||this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer"));"Black"==(255-(.299*e.r+.587*e.g+.114*e.b)<105?"Black":"White")?this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer")):this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer-alt"))},_updateUI:function(){var e=this;e.red.val(e.color.r),e.green.val(e.color.g),e.blue.val(e.color.b),e.hex.val(e.color.hex);var t=new u.jqx.color({hex:"fff"});"saturation"==this.colorMode?(t.setHsv(this.color.h,100,this.color.v),e.colorBar.css("background","#"+t.hex)):(t.setHsv(this.color.h,100,100),e.colorMap.css("background-color","#"+t.hex)),e.preview.css("background","#"+this.color.hex),e.setPointerStyle(this.color)},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height),this.host.width()<130&&this.host.width(150),this.host.height()<70&&this.host.height(70),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.height(this.height)},_arrange:function(){var e=this.host.height(),t=this.host.width(),i=e-44;if(this.showTransparent&&(i=e-64),!(i<=0)){this.colorMap.width(85*t/100),this.colorMap.height(i),this.colorBar.height(i),this.colorBar.css("left",this.colorMap.width()+4),this.colorBar.width(8*t/100),this.colorBarPointer.width(this.colorBar.width()),this.colorPanel.width(t),this.colorPanel.height(40),this.showTransparent&&this.colorPanel.height(60),this.colorPanel.css("top",i+4),this.colorPanel.css("text-align","left"),this.hex.width(this.colorMap.width()-this.colorBar.width()-4);var s=this.red.prev().outerWidth()-this.hex.prev().outerWidth();s<4&&(s=4),this.hex.css("margin-left",s+"px"),this.preview.width(this.colorBar.width()+7),this.preview.height(25),this.preview.addClass(this.toThemeProperty("jqx-rc-all")),this.preview.addClass(this.toThemeProperty("jqx-color-picker-preview")),this.preview.css("left",this.colorMap.width()-2),this.preview.css("top","5px");var r=this.hex.width()-this.blue.prev().outerWidth()-this.green.prev().outerWidth()-6;return 0<r?(this.blue.width(r/3),this.green.width(r/3),void this.red.width(r/3)):void 0}},_getColorPointer:function(){var e=u("<div></div>");return e.addClass(this.toThemeProperty("jqx-color-picker-pointer")),e},_getImageUrl:function(e){var t=e.css("backgroundImage");return t=(t=(t=(t=t.replace('url("',"")).replace('")',"")).replace("url(","")).replace(")","")},refresh:function(){this._delayLoading||(this._saturation=null,this._hue=null,this.colorMap.removeClass(),this.colorBar.removeClass(),this.colorMap.addClass(this.toThemeProperty("jqx-disableselect")),this.colorBar.addClass(this.toThemeProperty("jqx-disableselect")),this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-panel")),this.colorBar.css("background-image",""),this.colorMap.css("background-image",""),"saturation"==this.colorMode?(this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map")),this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar"))):(this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map-hue")),this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar-hue"))),this._barImageURL=this._getImageUrl(this.colorBar),this._mapImageURL=this._getImageUrl(this.colorMap),this._arrange(),this.colorBar.children().remove(),this.colorBarImageContainer=u("<div style='overflow: hidden;'></div>"),this.colorBarImageContainer.width(this.colorBar.width()),this.colorBarImageContainer.height(this.colorBar.height()),this.colorBarImageContainer.appendTo(this.colorBar),this.colorBarImage=u("<img/>"),this.colorBarImage.appendTo(this.colorBarImageContainer),this.colorBarImage.attr("src",this._barImageURL),this.colorBar.css("background-image","none"),this.colorBarImage.attr("width",this.colorBar.width()),this.colorBarImage.attr("height",this.colorBar.height()),this.colorBarPointer.appendTo(this.colorBar),this.colorMap.children().remove(),this.colorMapImage=u("<img/>"),this.colorMapImage.appendTo(this.colorMap),this.colorMapImage.attr("src",this._mapImageURL),this.colorMap.css("background-image","none"),this.colorMapImage.attr("width",this.colorMap.width()),this.colorMapImage.attr("height",this.colorMap.height()),this.colorMapImageOverlay=u("<img style='position: absolute; left: 0; top: 0;'/>"),this.colorMapImageOverlay.prependTo(this.colorMap),this.colorMapImageOverlay.attr("src",this._mapImageOverlayURL),this.colorMapImageOverlay.attr("width",this.colorMap.width()),this.colorMapImageOverlay.attr("height",this.colorMap.height()),this.colorMapImageOverlay.css("opacity",0),this.colorMapPointer.appendTo(this.colorMap),this.showTransparent&&this.transparent.appendTo(this.colorPanel),this._updateUI(),this._setPositionFromValue())}}),u.jqx.color=function(e){var t={r:0,g:0,b:0,h:0,s:0,v:0,hex:"",hexToRgb:function(e){var t="00",i="00",s="00";return 6==(e=this.validateHex(e)).length?(t=e.substring(0,2),i=e.substring(2,4),s=e.substring(4,6)):(4<e.length&&(t=e.substring(4,e.length),e=e.substring(0,4)),2<e.length&&(i=e.substring(2,e.length),e=e.substring(0,2)),0<e.length&&(s=e.substring(0,e.length))),{r:this.hexToInt(t),g:this.hexToInt(i),b:this.hexToInt(s)}},validateHex:function(e){return 6<(e=(e=new String(e).toUpperCase()).replace(/[^A-F0-9]/g,"0")).length&&(e=e.substring(0,6)),e},webSafeDec:function(e){return e=Math.round(e/51),e*=51},hexToWebSafe:function(e){var t,i,s;return 3==e.length?(t=e.substring(0,1),i=e.substring(1,1),s=e.substring(2,1)):(t=e.substring(0,2),i=e.substring(2,4),s=e.substring(4,6)),intToHex(this.webSafeDec(this.hexToInt(t)))+this.intToHex(this.webSafeDec(this.hexToInt(i)))+this.intToHex(this.webSafeDec(this.hexToInt(s)))},rgbToWebSafe:function(e){return{r:this.webSafeDec(e.r),g:this.webSafeDec(e.g),b:this.webSafeDec(e.b)}},rgbToHex:function(e){return this.intToHex(e.r)+this.intToHex(e.g)+this.intToHex(e.b)},intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},hexToInt:function(e){return parseInt(e,16)},hslToRgb:function(e){var t=parseInt(e.h)/360,i=parseInt(e.s)/100,s=parseInt(e.l)/100;if(s<=.5)var r=s*(1+i);else r=s+i-s*i;var n=2*s-r,o=t+1/3,a=t,l=t-1/3;return{r:Math.round(255*this.hueToRgb(n,r,o)),g:Math.round(255*this.hueToRgb(n,r,a)),b:Math.round(255*this.hueToRgb(n,r,l))}},hueToRgb:function(e,t,i){return i<0?i+=1:1<i&&(i-=1),6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e},rgbToHsv:function(e){var t=e.r/255,i=e.g/255,s=e.b/255;hsv={h:0,s:0,v:0};var r=0,n=0;return i<=t&&s<=t?(n=t,r=s<i?s:i):s<=i&&t<=i?(n=i,r=s<t?s:t):(n=s,r=t<i?t:i),hsv.v=n,hsv.s=n?(n-r)/n:0,hsv.s?(delta=n-r,hsv.h=t==n?(i-s)/delta:i==n?2+(s-t)/delta:4+(t-i)/delta,hsv.h=parseInt(60*hsv.h),hsv.h<0&&(hsv.h+=360)):hsv.h=0,hsv.s=parseInt(100*hsv.s),hsv.v=parseInt(100*hsv.v),hsv},hsvToRgb:function(e){rgb={r:0,g:0,b:0};var t=e.h,i=e.s,s=e.v;if(0==i)rgb.r=rgb.g=rgb.b=0==s?0:parseInt(255*s/100);else{360==t&&(t=0),t/=60,i/=100,s/=100;var r=parseInt(t),n=t-r,o=s*(1-i),a=s*(1-i*n),l=s*(1-i*(1-n));switch(r){case 0:rgb.r=s,rgb.g=l,rgb.b=o;break;case 1:rgb.r=a,rgb.g=s,rgb.b=o;break;case 2:rgb.r=o,rgb.g=s,rgb.b=l;break;case 3:rgb.r=o,rgb.g=a,rgb.b=s;break;case 4:rgb.r=l,rgb.g=o,rgb.b=s;break;case 5:rgb.r=s,rgb.g=o,rgb.b=a}rgb.r=parseInt(255*rgb.r),rgb.g=parseInt(255*rgb.g),rgb.b=parseInt(255*rgb.b)}return rgb},setRgb:function(e,t,i){var s=function(e){return e<0||255<e?0:isNaN(parseInt(e))?0:e};this.r=s(e),this.g=s(t),this.b=s(i);var r=this.rgbToHsv(this);this.h=r.h,this.s=r.s,this.v=r.v,this.hex=this.rgbToHex(this)},setHsl:function(e,t,i){this.h=e,this.s=t,this.l=i;var s=this.hslToRgb(this);this.r=s.r,this.g=s.g,this.b=s.b,this.hex=this.rgbToHex(s)},setHsv:function(e,t,i){this.h=e,this.s=t,this.v=i;var s=this.hsvToRgb(this);this.r=s.r,this.g=s.g,this.b=s.b,this.hex=this.rgbToHex(s)},setHex:function(e){this.hex=e;var t=this.hexToRgb(this.hex);this.r=t.r,this.g=t.g,this.b=t.b;var i=this.rgbToHsv(t);this.h=i.h,this.s=i.s,this.v=i.v}};if(e)if(e.hex){var i=t.validateHex(e.hex);t.setHex(i)}else e.r?t.setRgb(e.r,e.g,e.b):e.h?t.setHsv(e.h,e.s,e.v):e.rgb&&t.setRgb(e.rgb.r,e.rgb.g,e.rgb.b);return t}}(jqxBaseFramework),function(w){w.jqx.jqxWidget("jqxComboBox","",{}),w.extend(w.jqx._jqxComboBox.prototype,{defineInstance:function(){var e={disabled:!1,width:200,height:25,items:new Array,selectedIndex:-1,selectedItems:new Array,_selectedItems:new Array,source:null,autoItemsHeight:!1,scrollBarSize:w.jqx.utilities.scrollBarSize,arrowSize:18,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",emptyString:"",ready:null,openDelay:250,closeDelay:300,animationType:"default",dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",dropDownContainer:"default",searchMode:"startswithignorecase",autoComplete:!1,remoteAutoComplete:!1,remoteAutoCompleteDelay:500,selectionMode:"default",minLength:2,displayMember:"",valueMember:"",groupMember:"",searchMember:"",keyboardSelection:!0,renderer:null,autoOpen:!1,template:"",checkboxes:!1,promptText:"",placeHolder:"",rtl:!1,listBox:null,validateSelection:null,showCloseButtons:!0,renderSelectedItem:null,search:null,popupZIndex:2e3,searchString:null,multiSelect:!1,showArrow:!0,_disabledItems:new Array,touchMode:"auto",autoBind:!0,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===w.jqx._jqxComboBox.prototype||w.extend(!0,this,e),e},createInstance:function(e){if(this.host.attr("role","combobox"),w.jqx.aria(this,"aria-autocomplete","both"),null==w.jqx._jqxListBox||null==w.jqx._jqxListBox)throw new Error("jqxComboBox: Missing reference to jqxlistbox.js.");w.jqx.aria(this),""!=this.promptText&&(this.placeHolder=this.promptText),this.render()},render:function(){var e=(o=this).element.nodeName.toLowerCase();if("select"==e||"ul"==e||"ol"==e){o.field=o.element,o.field.className&&(o._className=o.field.className);var t={title:o.field.title};o.field.id.length?t.id=o.field.id.replace(/[^\w]/g,"_")+"_jqxComboBox":t.id=w.jqx.utilities.createId()+"_jqxComboBox";var i=w("<div></div>",t);o.width||(o.width=w(o.field).width()),o.height||(o.height=w(o.field).outerHeight()),o.element.style.cssText=o.field.style.cssText,w(o.field).hide().after(i);var s=o.host.data();if(o.host=i,o.host.data(s),o.element=i[0],o.element.id=o.field.id,o.field.id=t.id,o._className&&(o.host.addClass(o._className),w(o.field).removeClass(o._className)),o.field.tabIndex){var r=o.field.tabIndex;o.field.tabIndex=-1,o.element.tabIndex=r}if(""!=o.field.innerHTML){var n=w.jqx.parseSourceTag(o.field);o.source=n.items,-1==o.selectedIndex&&(o.selectedIndex=n.index)}}else if(0<o.host.find("li").length||0<o.host.find("option").length){n=w.jqx.parseSourceTag(o.element);o.source=n.items}o.removeHandlers(),o.isanimating=!1,o.id=w.jqx.utilities.createId(),o.element.innerHTML="";var o,a=w("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='padding: 0; margin: 0; border: none; background-color: transparent; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' style='padding: 0; margin: 0; border-top: none; border-bottom: none; float: left; position: absolute;'/><div id='dropdownlistArrow' role='button' style='padding: 0; margin: 0; border-left-width: 1px; border-bottom-width: 0px; border-top-width: 0px; border-right-width: 0px; float: right; position: absolute;'/></div></div>");if(o.comboStructure=a,null==w.jqx._jqxListBox||null==w.jqx._jqxListBox)throw"jqxComboBox: Missing reference to jqxlistbox.js.";o.touch=w.jqx.mobile.isTouchDevice(),!0===o.touchMode&&(o.touch=!0),o.host.append(a),o.dropdownlistWrapper=o.host.find("#dropdownlistWrapper"),o.dropdownlistArrow=o.host.find("#dropdownlistArrow"),o.dropdownlistContent=o.host.find("#dropdownlistContent"),o.dropdownlistContent.addClass(o.toThemeProperty("jqx-combobox-content")),o.dropdownlistContent.addClass(o.toThemeProperty("jqx-widget-content")),o.dropdownlistWrapper[0].id="dropdownlistWrapper"+o.element.id,o.dropdownlistArrow[0].id="dropdownlistArrow"+o.element.id,o.dropdownlistContent[0].id="dropdownlistContent"+o.element.id,o.template&&o.dropdownlistArrow.addClass(o.toThemeProperty("jqx-"+o.template)),o.dropdownlistContent.append(w('<input autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" style="box-sizing: border-box; margin: 0; padding: 0; padding-left: 3px; padding-right: 3px; border: 0;" type="textarea"/>')),o.input=o.dropdownlistContent.find("input"),o.input.addClass(o.toThemeProperty("jqx-combobox-input")),o.input.addClass(o.toThemeProperty("jqx-widget-content")),o.host.attr("tabindex")&&(o.input.attr("tabindex",o.host.attr("tabindex")),o.host.removeAttr("tabindex")),o._addInput(),o.rtl&&(o.input.css({direction:"rtl"}),o.dropdownlistContent.addClass(o.toThemeProperty("jqx-combobox-content-rtl")));try{var l="listBox"+o.id,d=w(w.find("#"+l));0<d.length&&d.remove(),w.jqx.aria(this,"aria-owns",l),w.jqx.aria(this,"aria-haspopup",!0),w.jqx.aria(this,"aria-multiline",!1),o.listBoxContainer&&o.listBoxContainer.jqxListBox("destroy"),o.container&&o.container.remove();var h=w("<div style='overflow: hidden; border: none; background-color: transparent; position: absolute;' id='listBox"+o.id+"'><div id='innerListBox"+o.id+"'></div></div>");h.hide(),"element"==o.dropDownContainer?h.appendTo(o.host):h.appendTo(document.body),o.container=h,o.listBoxContainer=w(w.find("#innerListBox"+o.id));var c=o.width;"auto"!=o.dropDownWidth&&(c=o.dropDownWidth),null==o.dropDownHeight&&(o.dropDownHeight=200),o.container.width(parseInt(c)+25),o.container.height(parseInt(o.dropDownHeight)+25),o._ready=!1,o.addHandler(o.listBoxContainer,"bindingComplete",function(e){o.listBox||(o.listBox=w.data(o.listBoxContainer[0],"jqxListBox").instance),o._ready||(o.ready&&o.ready(),o._ready=!0),o._raiseEvent("6")}),o.addHandler(o.listBoxContainer,"itemAdd",function(e){o._raiseEvent("7",e.args)}),o.addHandler(o.listBoxContainer,"itemRemove",function(e){o._raiseEvent("8",e.args)}),o.addHandler(o.listBoxContainer,"itemUpdate",function(e){o._raiseEvent("9",e.args)});o.listBoxContainer.jqxListBox({autoItemsHeight:o.autoItemsHeight,_checkForHiddenParent:!1,allowDrop:!1,allowDrag:!1,checkboxes:o.checkboxes,emptyString:o.emptyString,autoBind:!o.remoteAutoComplete&&o.autoBind,renderer:o.renderer,rtl:o.rtl,itemHeight:o.itemHeight,selectedIndex:o.selectedIndex,incrementalSearch:!1,width:c,scrollBarSize:o.scrollBarSize,autoHeight:o.autoDropDownHeight,height:o.dropDownHeight,groupMember:o.groupMember,searchMember:o.searchMember,displayMember:o.displayMember,valueMember:o.valueMember,source:o.source,theme:o.theme,rendered:function(){if(o.listBox=w.data(o.listBoxContainer[0],"jqxListBox").instance,o.remoteAutoComplete)if(o.autoDropDownHeight?(o.container.height(o.listBox.virtualSize.height+25),o.listBoxContainer.height(o.listBox.virtualSize.height),o.listBox._arrange()):(o.listBox._arrange(),o.listBox.ensureVisible(0),o.listBox._renderItems(),o.container.height(o.listBoxContainer.height()+25)),null!=o.searchString&&o.searchString.length>=o.minLength){var e=o.listBoxContainer.jqxListBox("items");e&&0<e.length?o.isOpened()||o.open():o.close()}else o.close();else o.renderSelection("mouse"),o.multiSelect&&o.doMultiSelect(!1);o.rendered&&o.rendered()}}),"element"==o.dropDownContainer?o.listBoxContainer.css({position:"absolute",top:0,left:0}):o.listBoxContainer.css({position:"absolute",zIndex:o.popupZIndex,top:0,left:0}),o.listBoxContainer.css("border-top-width","1px"),o.listBoxContainer.addClass(o.toThemeProperty("jqx-popup")),w.jqx.browser.msie&&o.listBoxContainer.addClass(o.toThemeProperty("jqx-noshadow")),o.template&&o.listBoxContainer.addClass(o.toThemeProperty("jqx-"+o.template+"-item")),o.listBox=w.data(o.listBoxContainer[0],"jqxListBox").instance,o.listBox.enableSelection=o.enableSelection,o.listBox.enableHover=o.enableHover,o.listBox.equalItemsWidth=o.equalItemsWidth,o.listBox._arrange(),o.addHandler(o.listBoxContainer,"unselect",function(e){o.multiSelect||o._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})}),o.addHandler(o.listBoxContainer,"change",function(e){o.multiSelect||(o.selectedIndex=o.listBox.selectedIndex,o._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}))}),"none"==o.animationType?o.container.css("display","none"):o.container.hide(),!1}catch(e){throw e}if((o=this).input.attr("disabled",o.disabled),w.jqx.browser.msie&&w.jqx.browser.version<8||o.input.attr("placeholder",o.placeHolder),o.propertyChangeMap.disabled=function(e,t,i,s){s?(e.host.addClass(o.toThemeProperty("jqx-combobox-state-disabled")),e.host.addClass(o.toThemeProperty("jqx-fill-state-disabled")),e.dropdownlistContent.addClass(o.toThemeProperty("jqx-combobox-content-disabled"))):(e.host.removeClass(o.toThemeProperty("jqx-combobox-state-disabled")),e.host.removeClass(o.toThemeProperty("jqx-fill-state-disabled")),e.dropdownlistContent.removeClass(o.toThemeProperty("jqx-combobox-content-disabled"))),e.input.attr("disabled",e.disabled),w.jqx.aria(e,"aria-disabled",e.disabled),e.input.attr("disabled",e.disabled)},o.disabled&&(o.host.addClass(o.toThemeProperty("jqx-combobox-state-disabled")),o.host.addClass(o.toThemeProperty("jqx-fill-state-disabled")),o.dropdownlistContent.addClass(o.toThemeProperty("jqx-combobox-content-disabled"))),o.host.addClass(o.toThemeProperty("jqx-combobox-state-normal")),o.host.addClass(o.toThemeProperty("jqx-combobox")),o.host.addClass(o.toThemeProperty("jqx-rc-all")),o.host.addClass(o.toThemeProperty("jqx-widget")),o.host.addClass(o.toThemeProperty("jqx-widget-content")),o.dropdownlistArrowIcon=w("<div></div>"),"top"==o.dropDownVerticalAlignment?o.dropdownlistArrowIcon.addClass(o.toThemeProperty("jqx-icon-arrow-up")):o.dropdownlistArrowIcon.addClass(o.toThemeProperty("jqx-icon-arrow-down")),o.dropdownlistArrowIcon.addClass(o.toThemeProperty("jqx-icon")),o.dropdownlistArrow.append(o.dropdownlistArrowIcon),o.dropdownlistArrow.addClass(o.toThemeProperty("jqx-combobox-arrow-normal")),o.dropdownlistArrow.addClass(o.toThemeProperty("jqx-fill-state-normal")),o.rtl?o.dropdownlistArrow.addClass(o.toThemeProperty("jqx-rc-l")):o.dropdownlistArrow.addClass(o.toThemeProperty("jqx-rc-r")),o._setSize(),o._updateHandlers(),o.addHandler(o.input,"keyup.textchange",function(e){o._writeTimer&&clearTimeout(o._writeTimer),o._writeTimer=setTimeout(function(){o._search(e);o.cinput&&o.input&&(o.displayMember?o._updateInputSelection():o.cinput[0].value=o.input[0].value)},50)}),w.jqx.browser.msie&&w.jqx.browser.version<8&&0<o.host.parents(".jqx-window").length){var u=o.host.parents(".jqx-window").css("z-index");h.css("z-index",u+10),o.listBoxContainer.css("z-index",u+10)}o.checkboxes?(o.input.attr("readonly",!0),w.jqx.aria(this,"aria-readonly",!0)):w.jqx.aria(this,"aria-readonly",!1),o.remoteAutoComplete||(o.searchString="")},_addInput:function(){var e=this.host.attr("name");this.cinput=w("<input type='hidden'/>"),this.host.append(this.cinput),e&&this.cinput.attr("name",e)},_updateInputSelection:function(){if(this.cinput){var i=new Array;if(-1==this.selectedIndex)this.cinput.val("");else{var e=this.getSelectedItem();null!=e?(this.cinput.val(e.value),i.push(e.value)):this.cinput.val(this.dropdownlistContent.text())}if(this.checkboxes||this.multiSelect){if(this.multiSelect)t=this.getSelectedItems();else var t=this.getCheckedItems();var s="";if(null!=t)for(var r=0;r<t.length;r++)r==t.length-1?s+=t[r].value:s+=t[r].value+",",i.push(t[r].value);this.cinput.val(s)}this.field&&this.cinput&&("select"==this.field.nodeName.toLowerCase()?w.each(this.field,function(e,t){w(this).removeAttr("selected"),this.selected=0<=i.indexOf(this.value),this.selected&&w(this).attr("selected",!0)}):w.each(this.items,function(e,t){w(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=0<=i.indexOf(this.value),this.selected&&w(this.originalItem.originalItem).attr("data-selected",!0)}))}},_search:function(e){var t=this;if(9!=e.keyCode&&"none"!=t.searchMode&&null!=t.searchMode&&"undefined"!=t.searchMode&&16!=e.keyCode&&17!=e.keyCode&&20!=e.keyCode&&!t.checkboxes){if(t.multiSelect){var i=w("<span style='visibility: hidden; white-space: nowrap;'>"+document.createTextNode(t.input.val())+"</span>");i.addClass(t.toThemeProperty("jqx-widget")),w(document.body).append(i);var s=i.width()+15;i.remove(),s>t.host.width()&&(s=t.host.width()),s<25&&(s=25),t.input.css("width",s+"px"),0==t.selectedItems.length?(t.input.css("width","100%"),t.input.attr("placeholder",t.placeHolder)):t.input.attr("placeholder","");var r=parseInt(this._findPos(t.host[0])[1])+parseInt(t.host.outerHeight())-1+"px",n=w.jqx.mobile.isSafariMobileBrowser()||w.jqx.mobile.isWindowsPhone();null!=n&&n&&(r=w.jqx.mobile.getTopPos(this.element)+parseInt(t.host.outerHeight()),"0px"!=w("body").css("border-top-width")&&(r=parseInt(r)-this._getBodyOffset().top+"px")),t.container.css("top",r);var o=parseInt(t.host.height());t.dropdownlistArrow.height(o)}if(!t.isanimating){if(e.altKey&&38==e.keyCode)return t.hideListBox("altKey"),!1;if(e.altKey&&40==e.keyCode)return t.isOpened()||t.showListBox("altKey"),!1}if(37==e.keyCode||39==e.keyCode)return!1;if(!e.altKey&&18!=e.keyCode&&!(33<=e.keyCode&&e.keyCode<=40||(e.ctrlKey||t.ctrlKey)&&88!=e.keyCode&&86!=e.keyCode)){var a=t.input.val();if(0==a.length&&!t.autoComplete)return t.listBox.searchString=t.input.val(),t.listBox.clearSelection(),t.hideListBox("search"),void(t.searchString=t.input.val());if(t.remoteAutoComplete){t=this;var l=function(){t.listBox.vScrollInstance.value=0};if(a.length>=t.minLength){if(!e.ctrlKey&&!e.altKey){if(t.searchString!=a)null==t.listBoxContainer.jqxListBox("source")&&t.listBoxContainer.jqxListBox({source:t.source}),t._searchTimer&&clearTimeout(t._searchTimer),13!=e.keyCode&&27!=e.keyCode&&(t._searchTimer=setTimeout(function(){if(l(),t.autoDropDownHeight&&(t.listBox.autoHeight=!0),t.searchString=t.input.val(),null==t.search)throw"'search' function is not defined";t.search(t.input.val())},t.remoteAutoCompleteDelay));t.searchString=a}}else t._searchTimer&&clearTimeout(t._searchTimer),l(),t.searchString="",t.search(""),t.listBoxContainer.jqxListBox({source:null})}else{if(a!==(t=this).searchString){if("27"!=e.keyCode&&"13"!=e.keyCode){var d=t.input[0].value,h=t._updateItemsVisibility(a),c=h.matchItems;t.autoComplete&&t.autoItemsHeight&&(t.input[0].value=d);var u=h.index;if(!t.autoComplete&&!t.remoteAutoComplete)if(!t.multiSelect||t.multiSelect&&0<=u)t.listBox.selectIndex(u),t.listBox.isIndexInView(u)?t.listBox._renderItems():t.listBox.ensureVisible(u);t.autoComplete&&0===c.length&&t.hideListBox("search")}if("13"==e.keyCode){if("block"==t.container.css("display")&&!t.isanimating)return t.hideListBox("keyboard"),void(t._oldvalue=t.listBox.selectedValue)}else if("27"==e.keyCode){if("block"==t.container.css("display")&&!t.isanimating){var p;if(t.multiSelect)t.input.val(""),t.listBox.selectedValue=null;else if(p=t.listBox.getVisibleItem(t._oldvalue)){t=this;setTimeout(function(){t.autoComplete&&t._updateItemsVisibility(""),t.listBox.selectIndex(p.index),t.renderSelection("api")},t.closeDelay)}else t.clearSelection();return t.hideListBox("keyboard"),t.renderSelection("api"),e.preventDefault(),!1}}else t.isOpened()||t.opening||e.ctrlKey||t.listBox.visibleItems&&0<t.listBox.visibleItems.length&&t.input.val()!=t.searchString&&null!=t.searchString&&-1!=u&&t.showListBox("search"),t.searchString=t.input.val(),""==t.searchString&&(t.listBox.itemsByValue[""]||(u=-1,t.multiSelect||t.clearSelection())),null!=(p=t.listBox.getVisibleItem(u))&&t._updateInputSelection()}}}}},val:function(i){if(!this.input)return"";var e;return function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return"number"!=typeof i&&"date"!=typeof i&&"boolean"!=typeof i&&"string"!=typeof i}(i)||0==arguments.length?(e=this.getSelectedItem())?e.value:this.input.val():(null!=(e=this.getItemByValue(i))?this.selectItem(e):this.input.val(i),this.input.val())},focus:function(){var t=this,e=function(){t.input.focus();var e=t.input.val();t._setSelection(0,e.length)};e(),setTimeout(function(){e()},10)},_setSelection:function(e,t){try{if("selectionStart"in this.input[0])this.input[0].focus(),this.input[0].setSelectionRange(e,t);else{var i=this.input[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}}catch(e){}},setContent:function(e){this.input.val(e)},_updateItemsVisibility:function(s){var e=this.getItems();if(null==e)return{index:-1,matchItem:new Array};var r=this,n=-1,o=new Array,a=0;w.each(e,function(e){var t="";if(!this.isGroup){t=(t=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem").toString();var i=!1;switch(r.searchMode){case"containsignorecase":i=w.jqx.string.containsIgnoreCase(t,s);break;case"contains":i=w.jqx.string.contains(t,s);break;case"equals":i=w.jqx.string.equals(t,s);break;case"equalsignorecase":i=w.jqx.string.equalsIgnoreCase(t,s);break;case"startswith":i=w.jqx.string.startsWith(t,s);break;case"startswithignorecase":i=w.jqx.string.startsWithIgnoreCase(t,s);break;case"endswith":i=w.jqx.string.endsWith(t,s);break;case"endswithignorecase":i=w.jqx.string.endsWithIgnoreCase(t,s)}if(r.autoComplete&&!i&&(this.visible=!1),i&&r.autoComplete&&((o[a++]=this).visible=!0,n=this.visibleIndex),""==s&&r.autoComplete&&(i=!(this.visible=!0)),r.multiSelect&&(this.disabled=!1,(0<=r.selectedItems.indexOf(this.value)||0<=r._disabledItems.indexOf(this.value))&&(i=!(this.disabled=!0))),r.multiSelect){if(i&&!r.autoComplete)return-1===n&&(n=this.visibleIndex),!0}else if(i&&!r.autoComplete)return n=this.visibleIndex,!1}}),this.listBox.searchString=s;r=this;var t=function(){if(r.multiSelect){for(var e=0,t=!1,i=null,s=0;s<r.listBox.items.length;s++)r.listBox.selectedIndexes[s]=-1,r.listBox.items[s].disabled||0==t&&(e=(i=r.listBox.items[s]).visibleIndex,t=!0);r.listBox.selectedIndex=-1,r.listBox.selectedIndex=e,r.listBox.selectedIndexes[e]=e,0<r.listBox.visibleItems.length?r.listBox.selectedValue=i?i.value:null:r.listBox.selectedValue=null,r.listBox.ensureVisible(0)}};if(!this.autoComplete)return t(),{index:n,matchItems:o};this.listBox.renderedVisibleItems=new Array;var i=this.listBox.vScrollInstance.value;this.listBox.vScrollInstance.value=0,this.listBox.visibleItems=new Array,this.listBox._renderItems();var l=this.listBox.selectedValue,d=this.listBox.getItemByValue(l);if(this.multiSelect)t();else if(d)if(d.visible){this.listBox.selectedIndex=d.visibleIndex;for(var h=0;h<this.listBox.items.length;h++)this.listBox.selectedIndexes[h]=-1;this.listBox.selectedIndexes[d.visibleIndex]=d.visibleIndex}else{for(h=0;h<this.listBox.items.length;h++)this.listBox.selectedIndexes[h]=-1;this.listBox.selectedIndex=-1}this.listBox._renderItems();var c=this.listBox._calculateVirtualSize().height;if(c<i&&(i=0,this.listBox.vScrollInstance.refresh()),this.autoDropDownHeight)this._disableSelection=!0,this.listBox.autoHeight!=this.autoDropDownHeight&&this.listBoxContainer.jqxListBox({autoHeight:this.autoDropDownHeight}),this.container.height(c+25),this.listBox.invalidate(),this._disableSelection=!1;else if(c<parseInt(this.dropDownHeight)){var u="hidden"==this.listBox.hScrollBar[0].style.visibility?0:20;this.listBox.height=u+c,this.container.height(c+25+u),this.listBox.invalidate()}else this.listBox.height=parseInt(this.dropDownHeight),this.container.height(parseInt(this.dropDownHeight)+25),this.listBox.invalidate();return this.listBox.vScrollInstance.setPosition(i),{index:n,matchItems:o}},findItems:function(s){var e=this.getItems(),r=this,n=0,o=new Array;return w.each(e,function(e){var t="";if(!this.isGroup){t=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var i=!1;switch(r.searchMode){case"containsignorecase":i=w.jqx.string.containsIgnoreCase(t,s);break;case"contains":i=w.jqx.string.contains(t,s);break;case"equals":i=w.jqx.string.equals(t,s);break;case"equalsignorecase":i=w.jqx.string.equalsIgnoreCase(t,s);break;case"startswith":i=w.jqx.string.startsWith(t,s);break;case"startswithignorecase":i=w.jqx.string.startsWithIgnoreCase(t,s);break;case"endswith":i=w.jqx.string.endsWith(t,s);break;case"endswithignorecase":i=w.jqx.string.endsWithIgnoreCase(t,s)}i&&(o[n++]=this)}}),o},_resetautocomplete:function(){w.each(this.listBox.items,function(e){this.visible=!0}),this.listBox.vScrollInstance.value=0,this.listBox._addItems(),this.listBox.autoHeight=!1,this.listBox.height=this.dropDownHeight,this.container.height(parseInt(this.dropDownHeight)+25),this.listBoxContainer.height(parseInt(this.dropDownHeight)),this.listBox._arrange(),this.listBox._addItems(),this.listBox._renderItems()},getItems:function(){return this.listBox.items},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=this.width:null==this.width||isNaN(this.width)||(this.element.style.width=this.width+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=this.height:null==this.height||isNaN(this.height)||(this.element.style.height=this.height+"px");var e=!1;if(null!=this.width&&-1!=this.width.toString().indexOf("%")&&(e=!0,this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(e=!0,this.host.height(this.height)),e){var i=this,t=this.host.width();"auto"!=this.dropDownWidth&&(t=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:t}),this.container.width(parseInt(t)+25),this._arrange()}(i=this).oldWidth=i.host.width(),i.oldHeight=i.host.height(),w.jqx.utilities.resize(this.host,function(){var e=i.host.width(),t=i.host.height();e==i.oldWidth&&t==i.oldHeight||(i.multiSelect&&i.host.height(i.height),i._arrange(),i.multiSelect&&i.host.height("auto"),i.hideListBox("api")),i.oldWidth=e,i.oldHeight=t})},isOpened:function(){var e=w.data(document.body,"openedCombojqxListBox"+this.element.id);return"block"==this.container.css("display")&&(null!=e&&e==this.listBoxContainer)},_updateHandlers:function(){var a=this;this.removeHandlers(),this.multiSelect&&(this.addHandler(this.dropdownlistContent,"click",function(e){if(e.target.href)return!1;a.input.focus(),setTimeout(function(){a.input.focus()},10)}),this.addHandler(this.dropdownlistContent,"focus",function(e){if(e.target.href)return!1;a.input.focus(),setTimeout(function(){a.input.focus()},10)})),this.touch||(this.host.parents()&&this.addHandler(this.host.parents(),"scroll.combobox"+this.element.id,function(e){a.isOpened()&&a.close()}),this.addHandler(this.host,"mouseenter",function(){!a.disabled&&a.enableHover&&(!0,a.host.addClass(a.toThemeProperty("jqx-combobox-state-hover")),"top"==a.dropDownVerticalAlignment?a.dropdownlistArrowIcon.addClass(a.toThemeProperty("jqx-icon-arrow-up")):a.dropdownlistArrowIcon.addClass(a.toThemeProperty("jqx-icon-arrow-down-hover")),a.dropdownlistArrow.addClass(a.toThemeProperty("jqx-combobox-arrow-hover")),a.dropdownlistArrow.addClass(a.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!a.disabled&&a.enableHover&&(a.host.removeClass(a.toThemeProperty("jqx-combobox-state-hover")),a.dropdownlistArrowIcon.removeClass(a.toThemeProperty("jqx-icon-arrow-down-hover")),a.dropdownlistArrowIcon.removeClass(a.toThemeProperty("jqx-icon-arrow-up-hover")),a.dropdownlistArrow.removeClass(a.toThemeProperty("jqx-combobox-arrow-hover")),a.dropdownlistArrow.removeClass(a.toThemeProperty("jqx-fill-state-hover")),!1)})),a.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){!a.isOpened()&&a.autoOpen&&(a.open(),a.host.focus())}),this.addHandler(w(document),"mousemove."+a.id,function(e){if(a.isOpened()&&a.autoOpen){var t=a.host.coord(),i=t.top,s=t.left,r=a.container.coord(),n=r.left,o=r.top;canClose=!0,e.pageY>=i&&e.pageY<=i+a.host.height()+2&&e.pageX>=s&&e.pageX<s+a.host.width()&&(canClose=!1),e.pageY>=o&&e.pageY<=o+a.container.height()-20&&e.pageX>=n&&e.pageX<n+a.container.width()&&(canClose=!1),canClose&&a.close()}}));var e="mousedown";this.touch&&(e=w.jqx.mobile.getTouchEventName("touchstart"));this.addHandler(this.dropdownlistArrow,e,function(e){!function(e){if(!a.disabled){var t="block"==a.container.css("display");if(!a.isanimating){if(t)return a.hideListBox("api"),w.jqx.mobile.isTouchDevice()||(a.input.focus(),setTimeout(function(){a.input.focus()},10));if(a.autoDropDownHeight&&(a.container.height(a.listBoxContainer.height()+25),a.listBoxContainer.jqxListBox("autoHeight")||(a.listBoxContainer.jqxListBox({autoHeight:a.autoDropDownHeight}),a.listBox._arrange(),a.listBox.ensureVisible(0),a.listBox._renderItems(),a.container.height(a.listBoxContainer.height()+25))),a.showListBox("api"),w.jqx.mobile.isTouchDevice())return;setTimeout(function(){a.input.focus()},10)}}}()}),this.addHandler(this.dropdownlistArrowIcon,e,function(e){}),this.addHandler(this.host,"focus",function(){a.focus()}),this.addHandler(this.input,"focus",function(e){a.focused=!0,a.host.addClass(a.toThemeProperty("jqx-combobox-state-focus")),a.host.addClass(a.toThemeProperty("jqx-fill-state-focus")),a.dropdownlistContent.addClass(a.toThemeProperty("jqx-combobox-content-focus")),e.stopPropagation&&e.stopPropagation()}),this.addHandler(this.input,"blur",function(){a.focused=!1,a.isOpened()||a.opening||("dropDownList"==a.selectionMode&&a._selectOldValue(),a.host.removeClass(a.toThemeProperty("jqx-combobox-state-focus")),a.host.removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.dropdownlistContent.removeClass(a.toThemeProperty("jqx-combobox-content-focus"))),a._searchTimer&&clearTimeout(a._searchTimer)}),this.addHandler(w(document),"mousedown."+this.id,a.closeOpenedListBox,{that:this,listbox:this.listBox,id:this.id}),this.touch&&this.addHandler(w(document),w.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,a.closeOpenedListBox,{that:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(e){var t="block"==a.container.css("display");if(a.ctrlKey=e.ctrlKey,"none"==a.host.css("display"))return!0;if(("13"==e.keyCode||"9"==e.keyCode)&&t&&!a.isanimating){if(-1!=a.listBox.selectedIndex){a.renderSelection("mouse");var i=a.listBox.selectedIndex;(s=a.listBox.getVisibleItem(i))&&(a.listBox.selectedValue=s.value),a._setSelection(a.input.val().length,a.input.val().length),a.hideListBox("keyboard")}return"13"==e.keyCode&&(a._oldvalue=a.listBox.selectedValue),a.keyboardSelection||a._raiseEvent("2",{index:a.selectedIndex,type:"keyboard",item:a.getItem(a.selectedIndex)}),"9"==e.keyCode}if(115==e.keyCode)return a.isanimating||(a.isOpened()?a.isOpened()&&a.hideListBox("keyboard"):a.showListBox("keyboard")),!1;if(e.altKey&&"block"==a.host.css("display")&&(a.isanimating||(38==e.keyCode?a.isOpened()&&a.hideListBox("altKey"):40==e.keyCode&&(a.isOpened()||a.showListBox("altKey")))),("27"==e.keyCode||"9"==e.keyCode)&&a.isOpened()&&!a.isanimating){var s;if("27"==e.keyCode)if(a.multiSelect)a.listBox.selectedValue=null,a.input.val("");else(s=a.listBox.getItemByValue(a._oldvalue))?setTimeout(function(){a.autoComplete&&a._updateItemsVisibility(""),a.listBox.selectIndex(s.index),a.renderSelection("api")},a.closeDelay):a.clearSelection();return a.hideListBox("keyboard"),"9"==e.keyCode?!0:(a.renderSelection("api"),e.preventDefault(),!1)}var r=e.keyCode;if(t&&!a.disabled&&8!=r)return a.listBox._handleKeyDown(e);if(!(a.disabled||t||33!=(r=e.keyCode)&&34!=r&&35!=r&&36!=r&&38!=r&&40!=r))return a.listBox._handleKeyDown(e);if(8===r&&a.multiSelect&&0===a.input.val().length){var n=a.selectedItems[a.selectedItems.length-1];return a.selectedItems.pop(),a._selectedItems.pop(),n&&(a._raiseEvent("3",{index:n.index,type:"keyboard",item:n}),a._raiseEvent("4",{index:n.index,type:"keyboard",item:n})),a.listBox.selectedValue=null,a.doMultiSelect(),!1}}),this.addHandler(this.listBoxContainer,"checkChange",function(e){a.renderSelection("mouse"),a._updateInputSelection(),a._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})}),this.addHandler(this.listBoxContainer,"select",function(e){if(!a.disabled&&("keyboard"!=e.args.type||a.keyboardSelection)&&(a.renderSelection(e.args.type),a.multiSelect||a._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item}),"mouse"==e.args.type&&(a._oldvalue=a.listBox.selectedValue,!a.checkboxes))){if(a.hideListBox("mouse"),a.touch)return!1;a.input.focus()}}),null!=this.listBox&&null!=this.listBox.content&&this.addHandler(this.listBox.content,"click",function(e){if(!a.disabled){if(a.listBox.itemswrapper&&e.target===a.listBox.itemswrapper[0])return!0;if(e.target&&e.target.className&&0<=e.target.className.indexOf("jqx-fill-state-disabled"))return!0;a.renderSelection("mouse"),a._oldvalue=a.listBox.selectedValue,a.touch||a.ishiding||a.checkboxes||(a.hideListBox("mouse"),a.input.focus()),!0===a.touch&&(a.checkboxes||a.hideListBox("mouse"))}})},_selectOldValue:function(){var e=this;if(-1==e.listBox.selectedIndex)if(e.multiSelect)e.listBox.selectedValue=null,e.input.val("");else{var t=e.listBox.getItemByValue(e._oldvalue);t?setTimeout(function(){e.autoComplete&&e._updateItemsVisibility(""),e.listBox.selectIndex(t.index),e.renderSelection("api")},e.closeDelay):(e.clearSelection(),e.listBox.selectIndex(0),e.renderSelection("api"))}else e.renderSelection("api")},removeHandlers:function(){if(null!=this.dropdownlistWrapper&&this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.dropdownlistContent&&(this.removeHandler(this.dropdownlistContent,"click"),this.removeHandler(this.dropdownlistContent,"focus")),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),null!=this.input&&(this.removeHandler(this.input,"focus"),this.removeHandler(this.input,"blur")),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(w(document),"mousemove."+this.id),this.listBoxContainer&&(this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.listBoxContainer,"select")),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.combobox"+this.element.id),this.dropdownlistArrowIcon&&this.dropdownlistArrow){var e="mousedown";this.touch&&(e=w.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistArrowIcon,e),this.removeHandler(this.dropdownlistArrow,e)}},getItem:function(e){return this.listBox.getItem(e)},getItemByValue:function(e){return this.listBox.getItemByValue(e)},getVisibleItem:function(e){return this.listBox.getVisibleItem(e)},renderSelection:function(e){if(null!=e&&"none"!=e&&!0!==this._disableSelection&&null!=this.listBox&&!this.multiSelect){var t=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.autoComplete&&!this.checkboxes&&void 0!==this.listBox.selectedValue)t=this.getItemByValue(this.listBox.selectedValue);if(this.checkboxes){var i=this.getCheckedItems();t=null!=i&&0<i.length?i[0]:null}if(null==t){var s=w.jqx.browser.msie&&w.jqx.browser.version<8;return this.input.val(""),this.input.attr("value",""),s||this.input.attr("placeholder",this.placeHolder),void this._updateInputSelection()}this.selectedIndex=this.listBox.selectedIndex;var r=w("<span></span>");null!=t.label&&null!=t.label&&0<t.label.toString().length?w.jqx.utilities.html(r,t.label):null!=t.value&&null!=t.value&&0<t.value.toString().length?w.jqx.utilities.html(r,t.value):null!=t.title&&null!=t.title&&0<t.title.toString().length?w.jqx.utilities.html(r,t.title):w.jqx.utilities.html(r,this.emptyString);r.outerHeight();if(this.checkboxes){for(var n=this.getCheckedItems(),o="",a=0;a<n.length;a++)a==n.length-1?o+=n[a].label:o+=n[a].label+", ";this.input.val(o)}else this.input.val(r.text());if(r.remove(),this._updateInputSelection(),this.renderSelectedItem){var l=this.renderSelectedItem(this.listBox.selectedIndex,t);null!=l&&(this.input[0].value=l)}this.input.attr("value",this.input.val()),this.listBox&&this.listBox._activeElement&&w.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id)}},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(e){this.selectedIndex=-1,this.listBox.clearSelection(),this.input.val(""),this.multiSelect&&(this.listBox.selectedValue="",this.selectedItems=new Array,this._selectedItems=new Array,this.doMultiSelect(!1))},unselectIndex:function(e,t){if(!isNaN(e)&&(this.autoComplete&&this._updateItemsVisibility(""),this.listBox.unselectIndex(e,t),this.renderSelection("mouse"),this.multiSelect)){if(0<=e){var i=this.getItem(e),s=this.selectedItems.indexOf(i.value);0<=s&&(i.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(s,1),this._selectedItems.splice(s,1))}this.doMultiSelect(!1)}},selectIndex:function(e,t,i,s){this.autoComplete&&this._updateItemsVisibility(""),this.listBox.selectIndex(e,t,i,s),this.renderSelection("mouse"),this.selectedIndex=e,this.multiSelect&&this.doMultiSelect()},selectItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&(this.listBox.selectedIndex=-1,this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"),this.multiSelect&&this.doMultiSelect(!1))},unselectItem:function(e){if(this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"),this.multiSelect)){var t=this.getItemByValue(e);if(t){var i=this.selectedItems.indexOf(t.value);0<=i&&(t.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(i,1),this._selectedItems.splice(i,1))}this.doMultiSelect(!1)}},checkItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&this.listBox.indeterminateItem(e)},getSelectedValue:function(){return this.listBox.selectedValue},getSelectedIndex:function(){return this.multiSelect?this.remoteAutoComplete&&this.multiSelect&&0<this._selectedItems.length?this.getSelectedItems()[0].index:this._selectedItems&&0<this._selectedItems.length?this.getSelectedItems()[0].index:void 0:this.listBox.selectedIndex},getSelectedItem:function(){return this.multiSelect?this.remoteAutoComplete&&this.multiSelect&&0<this._selectedItems.length?this.getSelectedItems()[0]:this._selectedItems&&0<this._selectedItems.length?this.getSelectedItems()[0]:null:this.getVisibleItem(this.listBox.selectedIndex)},getSelectedItems:function(){if(this.remoteAutoComplete&&this.multiSelect)return this._selectedItems;var t=new Array,i=this;return w.each(this.selectedItems,function(){var e;(e=i.getItemByValue(this))?t.push(e):(e=i._selectedItems[this])&&t.push(e)}),t},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},insertAt:function(e,t){return null!=e&&this.listBox.insertAt(e,t)},addItem:function(e){return this.listBox.addItem(e)},removeAt:function(e){var t=this.listBox.removeAt(e);return this.renderSelection("mouse"),t},removeItem:function(e){var t=this.listBox.removeItem(e);return this.renderSelection("mouse"),t},updateItem:function(e,t){var i=this.listBox.updateItem(e,t);return this.renderSelection("mouse"),i},updateAt:function(e,t){var i=this.listBox.updateAt(e,t);return this.renderSelection("mouse"),i},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){var t=this.getVisibleItem(e);return t&&this._disabledItems.push(t.value),this.listBox.disableAt(e)},enableAt:function(e){var t=this.getVisibleItem(e);return t&&this._disabledItems.splice(this._disabledItems.indexOf(t.value),1),this.listBox.enableAt(e)},disableItem:function(e){return(e=this.getVisibleItem(e))&&this._disabledItems.push(e.value),this.listBox.disableItem(e)},enableItem:function(e){return(e=this.getVisibleItem(e))&&this._disabledItems.splice(this._disabledItems.indexOf(e.value),1),this.listBox.enableItem(e)},_findPos:function(e){for(;e&&("hidden"==e.type||1!=e.nodeType||w.expr.filters.hidden(e));)e=e.nextSibling;if(e){var t=w(e).coord(!0);return[t.left,t.top]}},testOffset:function(e,t,i){var s=e.outerWidth(),r=e.outerHeight(),n=w(window).width()+w(window).scrollLeft(),o=w(window).height()+w(window).scrollTop();if(t.left+s>n&&s>this.host.width()){var a=this.host.coord().left,l=s-this.host.width();t.left=a-l+2}return t.left<0&&(t.left=parseInt(this.host.coord().left)+"px"),t.top-=Math.min(t.top,t.top+r>o&&r<o?Math.abs(r+i+23):0),t},open:function(){this.isOpened()||this.opening||this.showListBox("api")},close:function(){this.isOpened()&&this.hideListBox("api")},_getBodyOffset:function(){var e=0,t=0;return"0px"!=w("body").css("border-top-width")&&(e=parseInt(w("body").css("border-top-width")),isNaN(e)&&(e=0)),"0px"!=w("body").css("border-left-width")&&(t=parseInt(w("body").css("border-left-width")),isNaN(t)&&(t=0)),{left:t,top:e}},showListBox:function(e){if(!this.listBox.items||0!=this.listBox.items.length){if("search"!=e||this.autoComplete||this.remoteAutoComplete||this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),(this.autoComplete||this.multiSelect&&!this.remoteAutoComplete)&&"search"!=e&&(this._updateItemsVisibility(""),this.multiSelect))for(var t=this.getVisibleItems(),i=0;i<t.length;i++)if(!t[i].disabled){this.ensureVisible(i);break}if(this.remoteAutoComplete&&this.listBox.clearSelection(),"search"!=e&&(this._oldvalue=this.listBox.selectedValue),w.jqx.aria(this,"aria-expanded",!0),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&-1!=this.width.indexOf("%")&&this.listBox.host.width()!=this.host.width()){var s=this.host.width();this.listBoxContainer.jqxListBox({width:s}),this.container.width(parseInt(s)+25)}var r,n=this,o=this.listBoxContainer,a=this.listBox,l=(w(window).scrollTop(),w(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),d=parseInt(Math.round(this.host.coord(!0).left));r=d+"px","element"===this.dropDownContainer&&(l=parseInt(this.host.outerHeight())-1+"px",r=0);var h=w.jqx.mobile.isSafariMobileBrowser()||w.jqx.mobile.isWindowsPhone();this.ishiding=!1,(w.jqx.utilities.hasTransform(this.host)||null!=h&&h)&&(r=w.jqx.mobile.getLeftPos(this.element),l=w.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=w("body").css("border-top-width")&&(l=parseInt(l)-this._getBodyOffset().top+"px"),"0px"!=w("body").css("border-left-width")&&(r=parseInt(r)-this._getBodyOffset().left+"px")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-selected")),"top"==this.dropDownVerticalAlignment?this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")):this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-focus")),this.container.css("left",r),this.container.css("top",l),a._arrange();var c=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var u=this.container.outerWidth(),p=Math.abs(u-this.host.width());u>this.host.width()?this.container.css("left",25+parseInt(Math.round(d))-p+"px"):this.container.css("left",25+parseInt(Math.round(d))+p+"px")}if("top"==this.dropDownVerticalAlignment){var m=o.height();c=!0,o.css("top",23),o.addClass(this.toThemeProperty("jqx-popup-up"));var f=parseInt(this.host.outerHeight()),g=parseInt(l)-Math.abs(m+f+23);this.container.css("top",g)}if(this.enableBrowserBoundsDetection){var v=this.testOffset(o,{left:parseInt(this.container.css("left")),top:parseInt(l)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=v.top?(c=!0,o.css("top",23),o.addClass(this.toThemeProperty("jqx-popup-up"))):o.css("top",0),this.container.css("top",v.top),this.container.css("top",v.top),parseInt(this.container.css("left"))!=v.left&&this.container.css("left",v.left)}if("none"==this.animationType)this.container.css("display","block"),w.data(document.body,"openedCombojqxListBoxParent",n),w.data(document.body,"openedCombojqxListBox"+n.element.id,o),o.css("margin-top",0),o.css("opacity",1);else{this.container.css("display","block");var x=o.outerHeight();o.stop(),"fade"==this.animationType?(o.css("margin-top",0),o.css("opacity",0),o.animate({opacity:1},this.openDelay,function(){n.isanimating=!1,n.opening=!1,w.data(document.body,"openedCombojqxListBoxParent",n),w.data(document.body,"openedCombojqxListBox"+n.element.id,o)})):(o.css("opacity",1),c?o.css("margin-top",x):o.css("margin-top",-x),this.isanimating=!0,this.opening=!0,o.animate({"margin-top":0},this.openDelay,function(){n.isanimating=!1,n.opening=!1,w.data(document.body,"openedCombojqxListBoxParent",n),w.data(document.body,"openedCombojqxListBox"+n.element.id,o)}))}a._renderItems(),c?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),o.addClass(this.toThemeProperty("jqx-rc-b-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-t-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),o.addClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-b-expanded"))),o.addClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("0",a)}},doMultiSelect:function(e){this.checkboxes&&(this.multiSelect=!1);var a=this;if(!this.multiSelect){var t=a.dropdownlistContent.find(".jqx-button"),i="mousedown";if(this.touch&&(i=w.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(t,i),this.removeHandler(t.find(".jqx-icon-close"),i),t.remove(),!(n=this.listBox.items))return;for(var s=0;s<n.length;s++)n[s].disabled=!1;return this.listBox._renderItems(),this.selectedItems=new Array,void(this._selectedItems=new Array)}if(this.validateSelection&&!this.validateSelection(this.listBox.selectedValue))return;this.selectedItems;if(this.listBox.selectedValue){if(-1===this.selectedItems.indexOf(this.listBox.selectedValue)){var r=this.getItemByValue(this.listBox.selectedValue);r&&r.visible&&(this.selectedItems.push(this.listBox.selectedValue),this._selectedItems.push(r),this._raiseEvent("2",{index:r.index,item:r}),this._raiseEvent("4",{index:r.index,item:r}))}this.listBox.selectedIndex=0}if(n=this.listBox.items){for(s=0;s<n.length;s++)n[s].disabled=!1,(0<=this.selectedItems.indexOf(n[s].value)||0<=this._disabledItems.indexOf(this.value))&&(n[s].disabled=!0);this.listBox._renderItems(),this.searchString="",this.input.val("");var n="";i="mousedown",t=a.dropdownlistContent.find(".jqx-button");this.touch&&(i=w.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(t,i),this.removeHandler(t.find(".jqx-icon-close"),i),t.remove(),a.input.detach(),0<this.selectedItems.length?(a.input.css("width","25px"),a.input.attr("placeholder","")):(a.input.css("width","100%"),a.input.attr("placeholder",this.placeHolder)),w.each(this.selectedItems,function(e){var t=a.getItemByValue(this);t&&!a.remoteAutoComplete||(t=a._selectedItems[e]);var i=w('<div style="overflow: hidden; float: left;"></div>');if(i.addClass(a.toThemeProperty("jqx-button")),i.addClass(a.toThemeProperty("jqx-combobox-multi-item")),i.addClass(a.toThemeProperty("jqx-fill-state-normal")),i.addClass(a.toThemeProperty("jqx-rc-all")),t){var s=t.label;if(a.renderSelectedItem){var r=a.renderSelectedItem(e,t);r&&(s=r)}""==i[0].innerHTML&&(i[0].innerHTML='<a data-value="'+t.value+'" style="float: left;" href="#">'+s+"</a>"),a.rtl&&(i[0].innerHTML='<a data-value="'+t.value+'" style="float: right;" href="#">'+s+"</a>");var n=a.rtl?"left":"right";if(a.showCloseButtons){var o='<div style="position: relative; overflow: hidden; float: '+n+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+a.toThemeProperty("jqx-icon-close")+'"></div></div>';if(w.jqx.browser.msie&&w.jqx.browser.version<8&&(o='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+a.toThemeProperty("jqx-icon-close")+'"></div></div>'),a.rtl){o='<div style="position: relative; overflow: hidden; float: '+n+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+a.toThemeProperty("jqx-icon-close")+'"></div></div>';w.jqx.browser.msie&&w.jqx.browser.version<8&&(o='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+a.toThemeProperty("jqx-icon-close")+'"></div></div>')}i[0].innerHTML+=o}}else""==i[0].innerHTML&&(i[0].innerHTML='<a href="#"></a>');a.dropdownlistContent.append(i)}),a.dropdownlistContent.append(a.input),a.input.val(""),!1!==e&&(a.input.focus(),setTimeout(function(){a.input.focus()},10));t=a.dropdownlistContent.find(".jqx-button");!0===this.touchMode&&(i="mousedown"),this.addHandler(t,i,function(e){if(0<=e.target.className.indexOf("jqx-icon-close"))return!0;if(a.disabled)return!0;var t=w(e.target).attr("data-value");return a.getItemByValue(t)&&(a.listBox.selectedValue=null,a.listBox.clearSelection()),a.listBox.scrollTo(0,0),a.open(),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1}),this.addHandler(t.find(".jqx-icon-close"),i,function(e){if(!a.disabled){var t=w(e.target).parent().parent().find("a").attr("data-value"),i=a.getItemByValue(t);if(i||a.remoteAutoComplete&&!i&&0<=a.selectedItems.indexOf(t)){a.listBox.selectedValue=null;var s=a.selectedItems.indexOf(t),r=i&&0<=i.index?i.index:s;if(0<=s)a.selectedItems.splice(s,1),(o=a._selectedItems[s])||(o=i),a._selectedItems.splice(s,1),a._raiseEvent("3",{index:r,type:"mouse",item:o}),a._raiseEvent("4",{index:r,type:"mouse",item:o}),a.doMultiSelect();else for(var n=0;n<a.selectedItems.length;n++){var o;if((o=a.selectedItems[n])==t){a.selectedItems.splice(n,1),a._selectedItems.splice(n,1),a._raiseEvent("3",{index:r,type:"mouse",item:i}),a._raiseEvent("4",{index:r,type:"mouse",item:i}),a.doMultiSelect();break}}}}}),a.dropdownlistArrow.height(this.host.height()),a._updateInputSelection()}},hideListBox:function(e){var t=this.listBoxContainer,i=this.listBox,s=this.container;if("none"!=this.container[0].style.display){w.jqx.aria(this,"aria-expanded",!1),"keyboard"!=e&&"mouse"!=e||(this.listBox.searchString=""),("keyboard"==e||"mouse"==e&&this.multiSelect)&&this.doMultiSelect();var r=this;if(w.data(document.body,"openedCombojqxListBox"+this.element.id,null),"none"==this.animationType)this.opening=!1,this.container.css("display","none");else if(!this.ishiding){var n=t.outerHeight();t.css("margin-top",0),t.stop(),this.opening=!1,this.isanimating=!0;var o=-n;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(o=n),"fade"==this.animationType?(t.css({opacity:1}),t.animate({opacity:0},this.closeDelay,function(){r.isanimating=!1,s.css("display","none"),r.ishiding=!1})):t.animate({"margin-top":o},this.closeDelay,function(){r.isanimating=!1,s.css("display","none"),r.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-combobox-state-selected")),this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.focused||(this.host.removeClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.removeClass(this.toThemeProperty("jqx-combobox-content-focus"))),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),this._raiseEvent("1",i)}},closeOpenedListBox:function(e){var t=e.data.that,i=w(e.target),s=e.data.listbox;if(null==s)return!0;if(!w(e.target).ischildof(t.host)){var r=!1;return w.each(i.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return!(r=!0);if(-1!=this.className.indexOf("jqx-combobox"))return t.element.id==this.id&&(r=!0),!1}}),null==s||r||t.isOpened()&&(t.hideListBox("api"),t.input.blur()),!0}},loadFromSelect:function(e){this.listBox.loadFromSelect(e),this.clearSelection()},refresh:function(e){this._setSize(),this._arrange(),this.listBox&&this.renderSelection()},resize:function(){this._setSize(),this._arrange()},_arrange:function(){var e=parseInt(this.host.width()),t=parseInt(this.host.height()),i=(this.arrowSize,this.arrowSize),s=1;this.showArrow?"none"===this.dropdownlistArrow[0].style.display&&this.dropdownlistArrow.show():(i=0,this.dropdownlistArrow.hide(),s=0,this.host.css("cursor","arrow"));var r=e-i-1*s;0<r&&(this.dropdownlistContent[0].style.width=r+"px"),this.rtl&&(this.dropdownlistContent[0].style.width=-1+r+"px"),this.dropdownlistContent[0].style.height=t+"px",this.dropdownlistContent[0].style.left="0px",this.dropdownlistContent[0].style.top="0px",this.dropdownlistArrow[0].style.width=i+1+"px",this.dropdownlistArrow[0].style.height=t+"px",this.dropdownlistArrow[0].style.left=1+r+"px",this.input[0].style.width="100%",this.multiSelect||this.input.height(t);var n=this.input.height();0==n&&(n=parseInt(this.input.css("font-size"))+3),-1==this.input[0].className.indexOf("jqx-rc-all")&&this.input.addClass(this.toThemeProperty("jqx-rc-all"));var o=parseInt(t)/2-parseInt(n)/2;if(this.rtl&&(this.dropdownlistArrow.css("left","0px"),this.dropdownlistContent.css("left",this.dropdownlistArrow.width()),w.jqx.browser.msie&&w.jqx.browser.version<=8&&this.dropdownlistContent.css("left",1+this.dropdownlistArrow.width())),this.multiSelect){this.input.css("float","left"),this.input.width(25),this.dropdownlistWrapper.parent().css("height","auto"),this.dropdownlistContent.css("height","auto"),this.dropdownlistWrapper.css("height","auto"),this.dropdownlistContent.css("position","relative"),this.dropdownlistContent.css("cursor","text"),this.host.css("height","auto"),this.host.css("min-height",this.height),this.dropdownlistContent.css("min-height",this.height);t=parseInt(this.host.height());this.dropdownlistArrow.height(t);var a=parseInt(this.host.css("min-height"));0<(o=parseInt(a)/2-parseInt(n)/2)&&this.input.css("margin-top",o)}},destroy:function(){this.source&&this.source.unbindBindingUpdate&&(this.source.unbindBindingUpdate(this.element.id),this.source.unbindBindingUpdate(this.listBoxContainer[0].id),this.source.unbindDownloadComplete(this.element.id),this.source.unbindDownloadComplete(this.listBoxContainer[0].id)),w.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandlers(),this.removeHandler(this.input,"keyup.textchange"),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(w(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(w(document),w.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.cinput.remove(),delete this.cinput,this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,this.dropdownlistArrowIcon.remove(),delete this.dropdownlistArrowIcon,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.dropdownlistContent,delete this.comboStructure,this.container.remove(),delete this.listBox,delete this.container;var e=w.data(this.element,"jqxComboBox");e&&delete e.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_raiseEvent:function(e,t){null==t&&(t={owner:null});var i=this.events[e];args=t,args.owner=this;var s=new w.Event(i);return s.owner=this,2!=e&&3!=e&&4!=e&&5!=e&&6!=e&&7!=e&&8!=e&&9!=e||(s.args=t),this.host.trigger(s)},propertiesChangedHandler:function(e,t,i){if(i.width&&i.height&&2==Object.keys(i).length){if(e._setSize(),"width"==t&&"auto"==e.dropDownWidth){var s=e.host.width();e.listBoxContainer.jqxListBox({width:s}),e.container.width(parseInt(s)+25)}e._arrange(),e.close()}},propertyChangedHandler:function(e,t,i,s){if(null!=e.isInitialized&&0!=e.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){if("template"==t&&(e.listBoxContainer.removeClass(e.toThemeProperty("jqx-"+i+"-item")),e.listBoxContainer.addClass(e.toThemeProperty("jqx-"+e.template+"-item")),e.dropDownListArrow.removeClass(e.toThemeProperty("jqx-"+i)),e.dropDownListArrow.addClass(e.toThemeProperty("jqx-"+e.template))),"dropDownVerticalAlignment"==t&&(e.dropdownlistArrowIcon.removeClass(e.toThemeProperty("jqx-icon-arrow-up")),e.dropdownlistArrowIcon.removeClass(e.toThemeProperty("jqx-icon-arrow-down")),"top"==e.dropDownVerticalAlignment?e.dropdownlistArrowIcon.addClass(e.toThemeProperty("jqx-icon-arrow-up")):e.dropdownlistArrowIcon.addClass(e.toThemeProperty("jqx-icon-arrow-down")),e.listBoxContainer.css("top",0),e.listBoxContainer.removeClass(this.toThemeProperty("jqx-popup-up"))),"autoItemsHeight"==t&&e.listBoxContainer.jqxListBox({autoItemsHeight:s}),"itemHeight"==t&&e.listBoxContainer.jqxListBox({itemHeight:s}),"renderSelectedItem"==t&&e.renderSelection("mouse"),"renderer"==t&&e.listBoxContainer.jqxListBox({renderer:s}),"enableSelection"==t&&e.listBoxContainer.jqxListBox({enableSelection:s}),"enableHover"==t&&e.listBoxContainer.jqxListBox({enableHover:s}),"touchMode"===t&&(e.listBoxContainer.jqxListBox({touchMode:s}),e.touch=w.jqx.mobile.isTouchDevice(),!0===e.touchMode&&(e.touch=!0),e._updateHandlers()),"multiSelect"==t)if(s)e.doMultiSelect(!1);else{for(var r=e.listBox.items,n=-1,o=0;o<r.length;o++)r[o].disabled=!1,(0<=e.selectedItems.indexOf(r[o].value)||0<=e._disabledItems.indexOf(e.value))&&(r[o].disabled=!0,n=r[o].index);if(e.doMultiSelect(!1),e.listBox._renderItems(),!r)return;e.listBox.selectedIndex=n,e.renderSelection("mouse"),e.dropdownlistWrapper.parent().css("height","100%"),e.dropdownlistContent.css("height","100"),e.dropdownlistWrapper.css("height","100"),e.dropdownlistContent.css("position","relative"),e.host.css("min-height",null),e._setSize(),e._arrange()}if("showArrow"==t&&(e._arrange(),e.multiSelect&&e.doMultiSelect(!1)),"placeHolder"==t&&e.input.attr("placeholder",e.placeHolder),"popupZIndex"==t&&e.listBoxContainer.css({zIndex:e.popupZIndex}),"promptText"==t&&(e.placeHolder=s),"autoOpen"==t&&e._updateHandlers(),"renderer"==t&&(e.listBox.renderer=e.renderer),"itemHeight"==t&&(e.listBox.itemHeight=s),"source"==t&&(e.input.val(""),e.listBoxContainer.jqxListBox({source:e.source}),e.renderSelection("mouse"),null==e.source&&e.clearSelection(),e.multiSelect&&(e.selectedItems=new Array,e._selectedItems=new Array,e.doMultiSelect(!1))),"rtl"==t&&(s?(e.dropdownlistArrow.css("float","left"),e.dropdownlistContent.css("float","right")):(e.dropdownlistArrow.css("float","right"),e.dropdownlistContent.css("float","left")),e.listBoxContainer.jqxListBox({rtl:e.rtl})),"displayMember"!=t&&"valueMember"!=t||(e.listBoxContainer.jqxListBox({displayMember:e.displayMember,valueMember:e.valueMember}),e.renderSelection("mouse")),"autoDropDownHeight"==t&&(e.listBoxContainer.jqxListBox({autoHeight:e.autoDropDownHeight}),e.autoDropDownHeight?e.container.height(e.listBoxContainer.height()+25):(e.listBoxContainer.jqxListBox({height:e.dropDownHeight}),e.container.height(parseInt(e.dropDownHeight)+25)),e.listBox._arrange(),e.listBox._updatescrollbars()),"dropDownHeight"==t&&(e.autoDropDownHeight||(e.listBoxContainer.jqxListBox({height:e.dropDownHeight}),e.container.height(parseInt(e.dropDownHeight)+25))),"dropDownWidth"==t||"scrollBarSize"==t){var a=e.width;"auto"!=e.dropDownWidth&&(a=e.dropDownWidth),e.listBoxContainer.jqxListBox({width:a,scrollBarSize:e.scrollBarSize}),e.container.width(parseInt(a)+25)}if("autoComplete"==t&&e._resetautocomplete(),"checkboxes"==t&&(e.listBoxContainer.jqxListBox({checkboxes:e.checkboxes}),e.checkboxes?(e.input.attr("readonly",!0),w.jqx.aria(e,"aria-readonly",!0)):w.jqx.aria(e,"aria-readonly",!1)),"theme"==t&&null!=s&&(e.listBoxContainer.jqxListBox({theme:s}),e.listBoxContainer.addClass(e.toThemeProperty("jqx-popup")),w.jqx.browser.msie&&e.listBoxContainer.addClass(e.toThemeProperty("jqx-noshadow")),w.jqx.utilities.setTheme(i,s,e.host)),"rtl"==t&&(e.render(),e.refresh()),"width"==t||"height"==t){if(e._setSize(),"width"==t&&"auto"==e.dropDownWidth){a=e.host.width();e.listBoxContainer.jqxListBox({width:a}),e.container.width(parseInt(a)+25)}e._arrange(),e.close()}"selectedIndex"==t&&(e.listBox.selectIndex(s),e.renderSelection("mouse"))}}})}(jqxBaseFramework),function(c){c.jqx.jqxWidget("jqxComplexInput","",{}),c.extend(c.jqx._jqxComplexInput.prototype,{defineInstance:function(){var e={width:null,height:null,decimalNotation:"default",value:"",spinButtons:!1,spinButtonsStep:1,placeHolder:"",roundedCorners:!0,disabled:!1,rtl:!1,changeType:null,template:"",events:["change"]};return this===c.jqx._jqxComplexInput.prototype||c.extend(!0,this,e),e},createInstance:function(){this._firefox="mozilla"===c.jqx.browser.browser,this._currentNumber={},this._allowedCharacters=new RegExp(/([\+\-\.0-9i])/i),this.render()},render:function(){var e=this;if("DIV"===e.element.nodeName.toUpperCase()){e.baseHost=e.host;var t=e.host.data();e.host=e.baseHost.children("input"),e.element=e.host[0],e.host.data(t)}if(!0===e.spinButtons){if(!e.baseHost)throw new Error("jqxComplexInput: Invalid HTML structure. Please initialize the complex input from a div with an input and another div inside.");e._appendSpinButtons()}if(e._addClasses(),e._setSize(),e._removeHandlers(),e._addHandlers(),"exponential"===e.decimalNotation&&-1!==e.value.toLowerCase().indexOf("e")){var i=e._exponentialToDecimal(e.value),s=i.realPart,r=i.imaginaryPart,n=s+" "+(r<0?"-":"+")+" "+Math.abs(r)+"i";e._currentNumber={value:n,realPart:s,imaginaryPart:r}}else e._currentNumber={value:e.value,realPart:e._getReal(e.value),imaginaryPart:e._getImaginary(e.value)};"default"===e.decimalNotation?e.element.value=e.value:e._setNotation(),e._refreshPlaceHolder()},refresh:function(e){!0!==e&&this.render()},destroy:function(){this._removeHandlers(),this.host.destroy()},val:function(e){var t,i,s=this;if("string"!=typeof e&&("object"!=typeof e||!1!==c.isEmptyObject(e)))return s.element.value;if("string"==typeof e)if(-1===(e=e.toLowerCase()).indexOf("e"))t=s._getReal(e),i=s._getImaginary(e);else{var r=s._exponentialToDecimal(e);t=1*r.realPart,i=1*r.imaginaryPart}else"object"==typeof e&&!1===c.isEmptyObject(e)&&(t=e.real,i=e.imaginary);var n=t+" "+(0<=i?"+":"-")+" "+Math.abs(i)+"i";n!==s._currentNumber.value&&(s.element.value=n,s._onChange(s.value),"default"!==s.decimalNotation&&s._setNotation())},getReal:function(){return this._currentNumber.realPart},_getReal:function(e){(!e||"object"==typeof e&&!0===c.isEmptyObject(e))&&(e=this.element.value);var t=c.trim(e),i="";if(0===(e.match(/i/g)||[]).length)return parseFloat(t);function s(e){return t=t.slice(0,e),t=c.trim(t),parseFloat(i+""+t)}"+"===e.charAt(0)?t=t.slice(1,e.length):"-"===e.charAt(0)&&(t=t.slice(1,e.length),i="-");var r=t.indexOf("+");if(-1!==r)return s(r);var n=t.indexOf("-");return-1!==n?s(n):0},getImaginary:function(){return this._currentNumber.imaginaryPart},_getImaginary:function(e){if((!e||"object"==typeof e&&!0===c.isEmptyObject(e))&&(e=this.element.value),0===(e.match(/i/g)||[]).length)return 0;var i=c.trim(e),t="";function s(e,t){return i=i.slice(e+1,i.indexOf("i")),""===(i=c.trim(i))&&(i=1),parseFloat(t+""+i)}"-"!==i.charAt(0)&&"+"!==i.charAt(0)||(t="-"===i.charAt(0)?"-":"+",i=c.trim(i.slice(1,e.length)));var r=i.indexOf("+");if(-1!==r)return s(r,"+");var n=i.indexOf("-");return-1!==n?s(n,"-"):""===(i=t+""+i.slice(0,i.indexOf("i")))||"+"===i?1:"-"===i?-1:parseFloat(i)},getDecimalNotation:function(e,t){var o=this;"real"===e?e=o._currentNumber.realPart:"imaginary"===e&&(e=o._currentNumber.imaginaryPart);var i,s,r,n,a=e.toExponential();return"scientific"===t?(s=(i=a).indexOf("e"),r=i.slice(s+1),n=(n=i.slice(0,s+1)).replace("e","Ãâ10"),n=(n+=o._toSuperScript(r)).replace("+","")):"engineering"===t?function(e){var t=e.indexOf("e"),i=e.slice(t+1),s=e.slice(0,t),r=parseInt(i,10)%3;s*=Math.pow(10,r);var n=e.slice(0,t).length-r-2;return 0<=n&&(s=s.toFixed(n)),s+"Ãâ10"+o._toSuperScript((parseInt(i,10)-r).toString())}(a):a},propertyChangedHandler:function(e,t,i,s){if(s!==i)switch(t){case"template":e.template&&(e._upbutton.removeClass(that.toThemeProperty("jqx-"+i)),e._downbutton.removeClass(that.toThemeProperty("jqx-"+i)),e._upbutton.addClass(that.toThemeProperty("jqx-"+e.template)),e._downbutton.addClass(that.toThemeProperty("jqx-"+e.template)));break;case"width":case"height":e._setSize();break;case"decimalNotation":"default"===s?e.element.value=e._currentNumber.value:e._setNotation();break;case"value":e.element.value=s,e._onChange(i);break;case"spinButtons":var r=function(){e.host.removeClass(e.toThemeProperty("jqx-rc-all")),!1===e.rtl?(e.host.addClass(e.toThemeProperty("jqx-rc-l")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-rc-r"))):(e.host.addClass(e.toThemeProperty("jqx-rc-r")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-rc-l")))};if(e._spinButtonsContainer){var n=e.host.width(),o=e._spinButtonsContainer.outerWidth();!1===s?(e.host.width(n+o),e._spinButtonsContainer.hide(),e.host.addClass(e.toThemeProperty("jqx-rc-all"))):(e.host.width(n-o),e._spinButtonsContainer.show(),r())}else if(!0===s){var a=c("<div></div>");if(e.baseHost)e.host.after(a),e.render();else{var l=e.element.id;e.host.removeAttr("id"),e.host.wrap('<div id="'+l+'" style="display: inline-block;"></div>');var d=c("#"+l);d.append(a);var h=e.host.data();h.jqxComplexInput.host=d,h.jqxComplexInput.element=d[0],e.baseHost=d,e.baseHost.data(h),e.render()}r()}break;case"placeHolder":e._refreshPlaceHolder(i);break;case"roundedCorners":e._spinButtonsContainer?!0===s?!1===e.rtl?(e.host.addClass(e.toThemeProperty("jqx-rc-l")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-rc-r"))):(e.host.addClass(e.toThemeProperty("jqx-rc-r")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-rc-l"))):!1===e.rtl?(e.host.removeClass(e.toThemeProperty("jqx-rc-l")),e._spinButtonsContainer.removeClass(e.toThemeProperty("jqx-rc-r"))):(e.host.removeClass(e.toThemeProperty("jqx-rc-r")),e._spinButtonsContainer.removeClass(e.toThemeProperty("jqx-rc-l"))):!0===s?e.host.addClass(e.toThemeProperty("jqx-rc-all")):e.host.removeClass(e.toThemeProperty("jqx-rc-all"));break;case"disabled":!0===s?(e.host.attr("disabled",!0),e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled")),e._spinButtonsContainer&&e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-fill-state-disabled"))):(e.host.removeAttr("disabled"),e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled")),e._spinButtonsContainer&&e._spinButtonsContainer.removeClass(e.toThemeProperty("jqx-fill-state-disabled")));break;case"rtl":e._spinButtonsContainer&&(!0===s?(e.host.addClass(e.toThemeProperty("jqx-complex-input-child-rtl")),e._spinButtonsContainer.removeClass(e.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl")),!0===e.roundedCorners&&(e.host.removeClass(e.toThemeProperty("jqx-rc-l")),e.host.addClass(e.toThemeProperty("jqx-rc-r")),e._spinButtonsContainer.removeClass(e.toThemeProperty("jqx-rc-r")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-rc-l")))):(e.host.removeClass(e.toThemeProperty("jqx-complex-input-child-rtl")),e._spinButtonsContainer.removeClass(e.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr")),!0===e.roundedCorners&&(e.host.removeClass(e.toThemeProperty("jqx-rc-r")),e.host.addClass(e.toThemeProperty("jqx-rc-l")),e._spinButtonsContainer.removeClass(e.toThemeProperty("jqx-rc-l")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-rc-r")))));break;case"theme":c.jqx.utilities.setTheme(i,s,e.host)}},_raiseEvent:function(e,t){void 0===t&&(t={owner:null});var i=this.events[e];t.owner=this;var s=new c.Event(i);return s.owner=this,t.type=this.changeType,this.changeType=null,s.args=t,s.preventDefault&&s.preventDefault(),this.host.trigger(s)},_appendSpinButtons:function(){var e=this;e._spinButtonsContainer=c(e.baseHost.children("div")),e._spinButtonsContainer.attr("unselectable","on"),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-fill-state-normal jqx-complex-input-child jqx-formatted-input-spin-buttons-container jqx-complex-input-spin-buttons-container")),!1===e.rtl?e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr")):e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl"));var t='<div unselectable="on" class="'+e.toThemeProperty("jqx-fill-state-normal jqx-formatted-input-spin-button")+'"><div class="'+e.toThemeProperty("jqx-input-icon")+'"></div></div>';e._upbutton=c(t),e._spinButtonsContainer.append(e._upbutton),e._downbutton=c(t),e._spinButtonsContainer.append(e._downbutton),e._upArrow=e._upbutton.find("div"),e._upArrow.addClass(e.toThemeProperty("jqx-icon-arrow-up")),e._downArrow=e._downbutton.find("div"),e._downArrow.addClass(e.toThemeProperty("jqx-icon-arrow-down")),e._upArrow.add(e._downArrow).attr("unselectable","on"),e.template&&(e._upbutton.addClass(e.toThemeProperty("jqx-"+e.template)),e._downbutton.addClass(e.toThemeProperty("jqx-"+e.template)))},_addClasses:function(){var e=this;e.host.addClass(e.toThemeProperty("jqx-widget jqx-input jqx-complex-input jqx-widget-content")),e.baseHost&&(e.baseHost.addClass(e.toThemeProperty("jqx-widget jqx-complex-input-parent")),e.host.addClass(e.toThemeProperty("jqx-complex-input-child"))),!0===e.roundedCorners&&(e._spinButtonsContainer?!1===e.rtl?(e.host.addClass(e.toThemeProperty("jqx-rc-l")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-rc-r"))):(e.host.addClass(e.toThemeProperty("jqx-rc-r")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-rc-l"))):e.host.addClass(e.toThemeProperty("jqx-rc-all"))),!0===e.disabled&&(e.host.attr("disabled",!0),e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled")),e._spinButtonsContainer&&e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-fill-state-disabled"))),!0===e.rtl&&e.host.add(e._spinButtonsContainer).addClass(e.toThemeProperty("jqx-complex-input-child-rtl"))},_refreshPlaceHolder:function(e){"placeholder"in this.element?this.host.attr("placeHolder",this.placeHolder):""!==this.element.value&&this.element.value!==e||(this.element.value=this.placeHolder)},_setSize:function(){var r=this;function e(){var e=r.baseHost.height(),t=parseInt(r.host.css("border-left-width"),10)+parseInt(r.host.css("border-right-width"),10)+parseInt(r.host.css("padding-left"),10)+parseInt(r.host.css("padding-right"),10),i=0;if(c.jqx.browser.msie&&c.jqx.browser.version<8&&(i=t,r.host.height(r.baseHost.height()-2*(parseInt(r.host.css("border-top-width"),10)+parseInt(r.host.css("border-bottom-width"),10)+parseInt(r.host.css("padding-top"),10)+parseInt(r.host.css("padding-bottom"),10)))),r._spinButtonsContainer){var s="string"==typeof r.width&&"%"===r.width.charAt(r.width.length-1)?1:0;r.host.width(r.baseHost.width()-t-r._spinButtonsContainer.outerWidth()-i-s),c.jqx.browser.msie&&c.jqx.browser.version<8&&r._spinButtonsContainer.height(e-2*(parseInt(r._spinButtonsContainer.css("border-top-width"),10)+parseInt(r._spinButtonsContainer.css("border-bottom-width"),10)+parseInt(r._spinButtonsContainer.css("padding-top"),10)+parseInt(r._spinButtonsContainer.css("padding-bottom"),10)))}else r.host.width(r.baseHost.width()-t-i)}r.baseHost?(r.baseHost.width(r.width),r.baseHost.height(r.height),e()):(r.host.width(r.width),r.host.height(r.height)),c.jqx.browser.msie&&c.jqx.browser.version<9&&r.host.css("line-height",r.host.height()+"px");var t=r.baseHost||r.host;c.jqx.utilities.resize(t,function(){e(),(c.jqx.browser.msie&&c.jqx.browser.version<9||!c.jqx.browser.msie)&&"string"==typeof r.height&&"%"===r.height.charAt(r.height.length-1)&&r.host.css("line-height",r.host.height()+"px")})},_addHandlers:function(){var e,s=this;e=s.baseHost?s.baseHost[0].id:s.element.id;var r=[8,9,13,32,35,36,37,38,39,40,46];if(s.addHandler(s.host,"focus.jqxComplexInput"+e,function(){if(s.host.addClass(s.toThemeProperty("jqx-fill-state-focus")),s._spinButtonsContainer&&s._spinButtonsContainer.addClass(s.toThemeProperty("jqx-fill-state-focus")),"placeholder"in s.element||s.element.value!==s.placeHolder||(s.element.value=""),"default"!==s.decimalNotation){var e=s._getCaretPosition();s.element.value=s._currentNumber.value,s._setCaretPosition(e)}}),s.addHandler(s.host,"blur.jqxComplexInput"+e,function(){s.host.removeClass(s.toThemeProperty("jqx-fill-state-focus")),s._spinButtonsContainer&&s._spinButtonsContainer.removeClass(s.toThemeProperty("jqx-fill-state-focus")),(s.element.value!==s.value||"placeholder"in s.element||!("placeholder"in s.element)&&""===s.element.value)&&s._onChange(s.value),"placeholder"in s.element||""!==s.element.value&&s.element.value!==s.placeHolder||(s.element.value=s.placeHolder),"default"!==s.decimalNotation&&s._setNotation()}),s.addHandler(s.host,"keydown.jqxComplexInput"+e,function(e){var t=e.charCode?e.charCode:e.which;if(s.changeType="keyboard",!0!==e.ctrlKey||67!==t&&86!==t&&88!==t){var i=String.fromCharCode(t);if(96<=t&&t<=105&&(i=(t-96).toString(),t-=48),(!s._firefox&&187===t||s._firefox&&61===t)&&!0===e.shiftKey?i="+":(!s._firefox&&189===t||s._firefox&&173===t)&&!1===e.shiftKey?i="-":190===t&&!1===e.shiftKey&&(i="."),!0!==s._allowedCharacters.test(i))return-1!==r.indexOf(t)&&void 0;if("+"===i||"-"===i){if(1<(s.element.value.match(/-/g)||[]).length+(s.element.value.match(/\+/g)||[]).length)return!1}else if("."===i){if(1<(s.element.value.match(/\./g)||[]).length)return!1}else if("i"===i.toLowerCase()&&-1!==s.element.value.indexOf(i.toLowerCase()))return!1}}),s.addHandler(s.host,"keypress.jqxComplexInput"+e,function(e){13===(e.charCode?e.charCode:e.which)&&s.element.value!==s.value&&s._onChange(s.value)}),s._spinButtonsContainer){var t=s._upbutton.add(s._downbutton);s.addHandler(s._upbutton,"mousedown.jqxComplexInputSpinButtonUp"+e,function(){s.disabled||""===s.value||null===s.value||(s._upbutton.addClass(s.toThemeProperty("jqx-fill-state-pressed")),s.changeType="mouse",s._incrementOrDecrement(!0))}),s.addHandler(s._upbutton,"mouseup.jqxComplexInputSpinButtonUp"+e,function(){s.disabled||""===s.value||null===s.value||s._upbutton.removeClass(s.toThemeProperty("jqx-fill-state-pressed"))}),s.addHandler(s._downbutton,"mousedown.jqxComplexInputSpinButtonDown"+e,function(){s.disabled||""===s.value||null===s.value||(s._downbutton.addClass(s.toThemeProperty("jqx-fill-state-pressed")),s.changeType="mouse",s._incrementOrDecrement(!1))}),s.addHandler(s._downbutton,"mouseup.jqxComplexInputSpinButtonDown"+e,function(){s.disabled||""===s.value||null===s.value||s._downbutton.removeClass(s.toThemeProperty("jqx-fill-state-pressed"))}),s.addHandler(t,"mouseenter.jqxComplexInputSpinButtons"+e,function(e){if(!s.disabled&&""!==s.value&&null!==s.value){var t=c(e.target);t.hasClass("jqx-icon-arrow-up")||t.children().hasClass("jqx-icon-arrow-up")?(s._upbutton.addClass(s.toThemeProperty("jqx-fill-state-hover")),s._upArrow.addClass(s.toThemeProperty("jqx-icon-arrow-up-hover"))):(s._downbutton.addClass(s.toThemeProperty("jqx-fill-state-hover")),s._downArrow.addClass(s.toThemeProperty("jqx-icon-arrow-down-hover")))}}),s.addHandler(t,"mouseleave.jqxComplexInputSpinButtons"+e,function(e){if(!s.disabled&&""!==s.value&&null!==s.value){var t=c(e.target);t.hasClass("jqx-icon-arrow-up")||t.children().hasClass("jqx-icon-arrow-up")?(s._upbutton.removeClass(s.toThemeProperty("jqx-fill-state-hover")),s._upArrow.removeClass(s.toThemeProperty("jqx-icon-arrow-up-hover"))):(s._downbutton.removeClass(s.toThemeProperty("jqx-fill-state-hover")),s._downArrow.removeClass(s.toThemeProperty("jqx-icon-arrow-down-hover")))}}),s.addHandler(c("body"),"mouseup.jqxComplexInputSpinButtons"+e,function(){s._upbutton.add(s._downbutton).removeClass(s.toThemeProperty("jqx-fill-state-pressed"))})}},_removeHandlers:function(){var e,t=this;if(e=t.baseHost?t.baseHost[0].id:t.element.id,t.removeHandler(t.host,"focus.jqxComplexInput"+e),t.removeHandler(t.host,"blur.jqxComplexInput"+e),t.removeHandler(t.host,"keydown.jqxComplexInput"+e),t.removeHandler(t.host,"keypress.jqxComplexInput"+e),t._spinButtonsContainer){var i=t._upbutton.add(t._downbutton);t.removeHandler(t._upbutton,"mousedown.jqxComplexInputSpinButtonUp"+e),t.removeHandler(t._upbutton,"mouseup.jqxComplexInputSpinButtonUp"+e),t.removeHandler(t._downbutton,"mousedown.jqxComplexInputSpinButtonDown"+e),t.removeHandler(t._downbutton,"mouseup.jqxComplexInputSpinButtonDown"+e),t.removeHandler(i,"mouseenter.jqxComplexInputSpinButtons"+e),t.removeHandler(i,"mouseleave.jqxComplexInputSpinButtons"+e),t.removeHandler(c("body"),"mouseup.jqxComplexInputSpinButtons"+e)}},_onChange:function(e){var t,i,s=this,r=s.element.value.toLowerCase();if(""!==c.trim(r)&&c.trim(r)!==s.placeHolder){if(-1!==r.indexOf("++")||-1!==r.indexOf("+-")){var n=r.indexOf("+");r=r.slice(0,n+1)+""+r.slice(n+2,r.length)}else if(-1!==r.indexOf("--")||-1!==r.indexOf("-+")){var o=r.indexOf("-");r=r.slice(0,o+1)+""+r.slice(o+2,r.length)}if(-1!==r.indexOf("..")){var a=r.indexOf(".");r=r.slice(0,a+1)+""+r.slice(a+2,r.length)}var l=s._getReal(r),d=s._getImaginary(r),h=0<=d?"+":"-";if(t=l,i=d,isNaN(t)||isNaN(i))return void(s.element.value=e);s.element.value=l+" "+h+" "+Math.abs(d)+"i",s.value=s.element.value}else i=t=0,s.value="";s.value!==e&&(s._currentNumber={value:s.value,realPart:t,imaginaryPart:i},s._raiseEvent("0",{value:s.value,oldValue:e,realPart:t,imaginaryPart:i}))},_incrementOrDecrement:function(o){var e,t,a=this,i=a.host.is(":focus"),s=a.element.value,r=a._currentNumber.realPart,n=a._currentNumber.imaginaryPart;function l(e){var t,i,s,r=e.toString(),n=r.indexOf(".");return-1!==n?(i=parseInt(r.slice(0,n),10),s=r.slice(r.indexOf(".")+1),t="."):(i=e,t=s=""),e=!0===o?i+a.spinButtonsStep:i-a.spinButtonsStep,e=parseFloat(e+""+t+s)}i&&(e=a._getCaretPosition()),0<=n?t=s.indexOf("+"):("-"===s.charAt(0)&&(s=s.slice(1,s.length)),t=s.indexOf("-")),void 0===e||e<=t?r=l(r):n=l(n);var d=r+" "+(0<=n?"+":"-")+" "+Math.abs(n)+"i";a.element.value=d,a._onChange(a.value),i?a._setCaretPosition(e):"default"!==a.decimalNotation&&a._setNotation()},_getCaretPosition:function(){var e=this.element;if("selectionStart"in e)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange(),i=document.selection.createRange().text.length;return t.moveStart("character",-e.value.length),t.text.length-i}},_setCaretPosition:function(t){var i=this.element;setTimeout(function(){if("selectionStart"in i)i.focus(),i.setSelectionRange(t,t);else{var e=i.createTextRange();e.collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select()}},10)},_exponentialToDecimal:function(e){var t=e.indexOf("e")+2,i=e.slice(t),s=i.indexOf("+"),r=i.indexOf("-");t=-1!==s&&(s<r||-1===r)?s:r;var n=i.slice(t),o=e.replace(n,""),a=(n=n.slice(0,n.length-1)).charAt(0);return n=c.trim(n.slice(1)),"-"===a&&(n="-"+n),{realPart:o=1*parseFloat(o).toFixed(20),imaginaryPart:n=1*parseFloat(n).toFixed(20)}},_setNotation:function(){var e=this.getDecimalNotation(this._currentNumber.realPart,this.decimalNotation),t=this.getDecimalNotation(Math.abs(this._currentNumber.imaginaryPart),this.decimalNotation),i=0<=this._currentNumber.imaginaryPart?"+":"-";this.element.value=e+" "+i+" "+t+"i"},_toSuperScript:function(e,t){for(var i="-0123456789",s="Ã¢ÂÂ»Ã¢ÂÂ°ÃÂ¹ÃÂ²ÃÂ³Ã¢ÂÂ´Ã¢ÂÂµÃ¢ÂÂ¶Ã¢ÂÂ·Ã¢ÂÂ¸Ã¢ÂÂ¹",r="",n=0;n<e.length;n++)if(!0===t){var o=s.indexOf(e.charAt(n));r+=-1!==o?i[o]:e[n]}else{var a=i.indexOf(e.charAt(n));r+=-1!==a?s[a]:e[n]}return r}})}(jqxBaseFramework),function(ne){function K(i,e){return this.owner=i,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.editable=!0,this.hidden=!1,this.hideable=!0,this.groupable=!0,this.renderer=null,this.cellsRenderer=null,this.columntype=null,this.cellsFormat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.resizable=!0,this.draggable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.autoCellHeight=!0,this.validation=null,this.classname="",this.cellclassname="",this.aggregates=null,this.aggregatesRenderer=null,this.rendered=null,this.exportable=!0,this.nullable=!0,this.columngroup=null,this.columntype="textbox",this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsFormat:this.cellsFormat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){var i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){i=this[e.toLowerCase()];this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(e){if(null!=e){if(ne.jqx.hasProperty(e,"dataField")&&(this.datafield=ne.jqx.get(e,"dataField")),ne.jqx.hasProperty(e,"displayField")?this.displayfield=ne.jqx.get(e,"displayField"):this.displayfield=this.datafield,ne.jqx.hasProperty(e,"columnType")&&(this.columntype=ne.jqx.get(e,"columnType")),ne.jqx.hasProperty(e,"validation")&&(this.validation=ne.jqx.get(e,"validation")),ne.jqx.hasProperty(e,"autoCellHeight")&&(this.autoCellHeight=ne.jqx.get(e,"autoCellHeight")),ne.jqx.hasProperty(e,"text")?this.text=ne.jqx.get(e,"text"):this.text=this.displayfield,ne.jqx.hasProperty(e,"sortable")&&(this.sortable=ne.jqx.get(e,"sortable")),ne.jqx.hasProperty(e,"hidden")&&(this.hidden=ne.jqx.get(e,"hidden")),ne.jqx.hasProperty(e,"groupable")&&(this.groupable=ne.jqx.get(e,"groupable")),ne.jqx.hasProperty(e,"renderer")&&(this.renderer=ne.jqx.get(e,"renderer")),ne.jqx.hasProperty(e,"align")&&(this.align=ne.jqx.get(e,"align")),ne.jqx.hasProperty(e,"cellsAlign")&&(this.cellsalign=ne.jqx.get(e,"cellsAlign")),ne.jqx.hasProperty(e,"cellsFormat")&&(this.cellsFormat=ne.jqx.get(e,"cellsFormat")),ne.jqx.hasProperty(e,"width")&&(this.width=ne.jqx.get(e,"width")),ne.jqx.hasProperty(e,"minWidth")&&(this.minwidth=ne.jqx.get(e,"minWidth")),ne.jqx.hasProperty(e,"maxWidth")&&(this.maxwidth=ne.jqx.get(e,"maxWidth")),ne.jqx.hasProperty(e,"cellsRenderer")&&(this.cellsRenderer=ne.jqx.get(e,"cellsRenderer")),ne.jqx.hasProperty(e,"columnType")&&(this.columntype=ne.jqx.get(e,"columnType")),ne.jqx.hasProperty(e,"pinned")&&(this.pinned=ne.jqx.get(e,"pinned")),ne.jqx.hasProperty(e,"filterable")&&(this.filterable=ne.jqx.get(e,"filterable")),ne.jqx.hasProperty(e,"filter")&&(this.filter=ne.jqx.get(e,"filter")),ne.jqx.hasProperty(e,"resizable")&&(this.resizable=ne.jqx.get(e,"resizable")),ne.jqx.hasProperty(e,"draggable")&&(this.draggable=ne.jqx.get(e,"draggable")),ne.jqx.hasProperty(e,"editable")&&(this.editable=ne.jqx.get(e,"editable")),ne.jqx.hasProperty(e,"initEditor")&&(this.initeditor=ne.jqx.get(e,"initEditor")),ne.jqx.hasProperty(e,"createEditor")&&(this.createeditor=ne.jqx.get(e,"createEditor")),ne.jqx.hasProperty(e,"destroyEditor")&&(this.destroyeditor=ne.jqx.get(e,"destroyEditor")),ne.jqx.hasProperty(e,"getEditorValue")&&(this.geteditorvalue=ne.jqx.get(e,"getEditorValue")),ne.jqx.hasProperty(e,"className")&&(this.classname=ne.jqx.get(e,"className")),ne.jqx.hasProperty(e,"cellClassName")&&(this.cellclassname=ne.jqx.get(e,"cellClassName")),ne.jqx.hasProperty(e,"aggregates")&&(this.aggregates=ne.jqx.get(e,"aggregates")),ne.jqx.hasProperty(e,"aggregatesRenderer")&&(this.aggregatesRenderer=ne.jqx.get(e,"aggregatesRenderer")),ne.jqx.hasProperty(e,"rendered")&&(this.rendered=ne.jqx.get(e,"rendered")),ne.jqx.hasProperty(e,"exportable")&&(this.exportable=ne.jqx.get(e,"exportable")),ne.jqx.hasProperty(e,"nullable")&&(this.nullable=ne.jqx.get(e,"nullable")),ne.jqx.hasProperty(e,"columnGroup")&&(this.columngroup=ne.jqx.get(e,"columnGroup")),!e instanceof String&&"string"!=typeof e)for(var t in e)if(!this.hasOwnProperty(t)&&!this.hasOwnProperty(t.toLowerCase()))throw i.host.remove(),new Error("jqxDataTable: Invalid property name - "+t+".")}},this._initfields(e),this}ne.jqx.jqxWidget("jqxDataTable","",{}),ne.extend(ne.jqx._jqxDataTable.prototype,{defineInstance:function(){var e={altRows:!1,aggregatesHeight:34,autoShowLoadElement:!0,autoRowHeight:!0,columnsHeight:30,columns:[],columnGroups:null,columnsResize:!1,columnsReorder:!1,dataview:null,disabled:!1,editable:!1,editSettings:{saveOnPageChange:!0,saveOnBlur:!0,saveOnSelectionChange:!0,cancelOnEsc:!0,saveOnEnter:!0,editSingleCell:!1,editOnDoubleClick:!0,editOnF2:!0},enableHover:!0,enableBrowserSelection:!1,filterHeight:30,filterable:!1,filterMode:"default",groupsRenderer:null,groups:new Array,headerZIndex:359,height:null,handleKeyboardNavigation:null,indentWidth:25,initRowDetails:!1,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed.",localization:null,pagerHeight:28,pageSize:10,pageSizeOptions:["5","10","20"],pageable:!1,pagerPosition:"bottom",pagerMode:"default",pageSizeMode:"default",pagerButtonsCount:5,pagerRenderer:null,ready:null,rendertoolbar:null,rowDetails:!1,renderStatusBar:null,rendered:null,rendering:null,rtl:!1,sortable:!1,showtoolbar:!1,showstatusbar:!1,statusBarHeight:34,serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:ne.jqx.utilities.scrollBarSize,touchScrollBarSize:ne.jqx.utilities.touchScrollBarSize,showAggregates:!1,showHeader:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,beginEdit:null,endEdit:null,autokoupdates:!0,columnsVirtualization:!1,exportSettings:{columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,recordsInView:!0,fileName:"jqxDataTable"},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},toolbarHeight:34,tableZIndex:369,_updating:!1,touchmode:"auto",width:null,that:this,incrementalSearch:!0,events:["bindingComplete","sort","filter","pageChanged","pageSizeChanged","rowClick","rowDoubleClick","cellValueChanged","rowBeginEdit","rowEndEdit","rowSelect","rowUnselect","rowCheck","rowUncheck","columnResized","columnReordered","rowExpand","rowCollapse","cellBeginEdit","cellEndEdit"]};return this===ne.jqx._jqxDataTable.prototype||(ne.extend(!0,this,e),this.that=this),e},createInstance:function(e){var r=this;if(15!=ne.jqx.utilities.scrollBarSize&&(r.scrollBarSize=ne.jqx.utilities.scrollBarSize),"table"==r.element.nodeName.toLowerCase()||0<ne(r.element).children("table").length){var t=r.host.find("tbody tr"),i=r.host.find("th"),s=new Array;0===i.length&&(i=t[0],t.splice(0,1)),r.localizestrings&&(r.localizestrings(),null!=r.localization&&r.localizestrings(r.localization,!1));for(var n=[],o=0;o<t.length;o++){for(var a=t[o],l={},d=0;d<i.length;d++){var h=ne.trim(ne(i[d]).text());if(0===o){var c={name:h};if(r.columns[d]&&r.columns[d].cellsFormat){var u=r.columns[d].cellsFormat.toLowerCase();-1==u.indexOf("p")&&-1==u.indexOf("c")&&-1==u.indexOf("n")&&-1==u.indexOf("f")||(c.type="number"),-1==u.indexOf("d")&&-1==u.indexOf("m")&&-1==u.indexOf("y")&&-1==u.indexOf("h")&&-1==u.indexOf("m")&&-1==u.indexOf("s")&&-1==u.indexOf("t")||(c.type="date")}s.push(c)}var p=ne(a).find("td:eq("+d+")");if(s[d].type){var m=r.getvaluebytype(ne.trim(p.text()),s[d]);l[h]=m}else l[h]=ne.trim(p.text())}n[n.length]=l}r.host.wrap("<div></div>");var f=r.host.parent(),g=r.host.data();g.jqxDataTable.host=f,g.jqxDataTable.element=f[0],r.host.parent()[0].id=r.element.id;try{r.host.parent()[0].style=r.element.style}catch(e){}r.element=f[0],r.host=f,r.host.data(g);var v={dataFields:s,localdata:n,datatype:"array"},x=new ne.jqx.dataAdapter(v);r.source=x}r.source&&!r.source.dataBind&&(r.source=new ne.jqx.dataAdapter(r.source));var w=r.source._source.datafields;w&&0<w.length&&(r._camelCase=void 0!==r.source._source.dataFields,r.selectionMode=r.selectionMode.toLowerCase()),null==r.host.attr("tabindex")&&r.host.attr("tabindex","0"),r.host.attr("role","grid"),r.host.attr("align","left"),r.host.addClass(r.toTP("jqx-grid")),r.host.addClass(r.toTP("jqx-reset")),r.host.addClass(r.toTP("jqx-rc-all")),r.host.addClass(r.toTP("jqx-widget")),r.host.addClass(r.toTP("jqx-widget-content")),r._testmodules()||(r.render(!0),ne.jqx.utilities.resize(r.host,function(){var e=ne(window).width(),t=ne(window).height(),i=r.host.width(),s=r.host.height();r._lastHostWidth==i&&r._lastHostHeight==s||r._updatesize(r._lastHostWidth!=i,r._lastHostHeight!=s),r._lastWidth=e,r._lastHeight=t,r._lastHostWidth=i,r._lastHostHeight=s}))},getvaluebytype:function(e,t){var i=e;if(null==e)return e;if(","==this.gridlocalization.decimalseparator&&0<=e.indexOf(this.gridlocalization.decimalseparator)&&(e=e.replace(this.gridlocalization.decimalseparator,".")),0<=e.indexOf(this.gridlocalization.currencysymbol)&&(e=e.replace(this.gridlocalization.currencysymbol,"")),0<=e.indexOf(this.gridlocalization.percentagesymbol)&&(e=e.replace(this.gridlocalization.percentagesymbol,"")),ne.isArray(e)&&"array"!=t.type){for(var s=0;s<e.length;s++)e[s]=this.getvaluebytype(e[s],t);return e}if("date"==t.type)if("NaN"==e)e="";else{var r=new Date(e);if("string"==typeof e&&t.format){var n=ne.jqx.dataFormat.parsedate(e,t.format);null!=n&&(r=n)}null==(e=("NaN"==r.toString()||"Invalid Date"==r.toString())&&ne.jqx.dataFormat?ne.jqx.dataFormat.tryparsedate(e):r)&&(e=i)}else if("float"==t.type||"number"==t.type||"decimal"==t.type)if("NaN"==e)e="";else{e=parseFloat(e);isNaN(e)&&(e=i)}else if("int"==t.type||"integer"==t.type){e=parseInt(e);isNaN(e)&&(e=i)}else"bool"!=t.type&&"boolean"!=t.type||(null!=e&&null!=e.toLowerCase&&("false"==e.toLowerCase()?e=!1:"true"==e.toLowerCase()&&(e=!0)),e=1==e||(0!=e||""===e)&&"");return e},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=ne('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var e=ne('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");if(e.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),e.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(e),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url){var t=!1;("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(t=!0),t?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height));var i=!1;("auto"===this.width||null===this.width||this.autoWidth)&&(i=!0),i?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width))}},_measureElement:function(e){var t=ne("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");t.addClass(this.toTP("jqx-widget")),ne(document.body).append(t),"cell"==e?this._cellheight=t.height():this._columnheight=t.height(),t.remove()},_testmodules:function(){var t="",i=this,s=function(){""!=t.length&&(t+=",")};if(this.host.jqxScrollBar||(s(),t+=" jqxscrollbar.js"),this.host.jqxButton||(s(),t+=" jqxbuttons.js"),ne.jqx.dataAdapter||(s(),t+=" jqxdata.js"),""!=t||this.editable||this.filterable||this.pageable){var r=[];if((this.filterable&&"simple"!=this.filterMode||"advanced"==this.pagerMode&&this.pageable)&&function(e){switch(e){case"checkbox":i.host.jqxCheckBox||r.checkbox||(r.checkbox=!0,s(),t+=" jqxcheckbox.js");break;case"dropdownlist":i.host.jqxDropDownList||r.dropdownlist?i.host.jqxListBox||r.listbox||(s(),r.listbox=!0,t+=" jqxlistbox.js"):(s(),r.dropdownlist=!0,t+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}}("dropdownlist"),""!=t)throw new Error("jqxDataTable: Missing references to the following module(s): "+t)}return!1},focus:function(){try{this.wrapper.focus(),this.host.focus();var e=this;setTimeout(function(){e.wrapper.focus(),e.host.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return ne.jqx.isHidden(this.host)},isBindingCompleted:function(){return!this._loading},_updatesize:function(e,t){if(!this._loading){var i=this,s=i.host.width(),r=i.host.height();i._oldWidth||(i._oldWidth=s),i._oldHeight||(i._oldHeight=r),null!=i._resizeTimer&&(clearTimeout(i._resizeTimer),i._resizeTimer=null);var n=function(){i._resizeTimer&&clearTimeout(i._resizeTimer),i.resizingGrid=!0,ne.jqx.isHidden(i.host)||(i._updatecolumnwidths(),i.refresh(),i._oldWidth=s,i._oldHeight=r,i.resizingGrid=!1)};n(),i._resizeTimer=setTimeout(function(){var e=i.host.width(),t=i.host.height();i._oldWidth==e&&i._oldHeight==t||n()},300)}},resize:function(e,t){null!=e&&(this.width=e),null!=t&&(this.height=t),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var e=ne.jqx.mobile.isTouchDevice();return this.touchDevice=e,1==this.touchmode?(e=!0,ne.jqx.mobile.setMobileSimulator(this.table[0]),this.touchDevice=e):0==this.touchmode&&(e=!1),e&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),e},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(e,t){if(this._cellscache=new Array,ne.jqx.dataFormat&&ne.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);if(null!=e){for(var i in e)i.toLowerCase()!==i&&(e[i.toLowerCase()]=e[i]);for(var s=["pagergotopagestring","pagershowrowsstring","pagerrangestring","pagernextbuttonstring","pagerpreviousbuttonstring","pagerfirstbuttonstring","pagerlastbuttonstring","toppagerstring","firstDay","days","months","AM","PM","patterns","percentsymbol","currencysymbol","currencysymbolposition","decimalseparator","thousandsseparator","filterapplystring","filteraddnew","filtercancelstring","filterclearstring","filterstring","filterstringcomparisonoperators","filternumericcomparisonoperators","filterdatecomparisonoperators","filterbooleancomparisonoperators","emptydatastring","filterselectstring","todaystring","clearstring","validationstring","loadtext","filtersearchstring","loadingErrorMessage"],r=0;r<s.length;r++){var n=s[r];void 0!==e[n]&&(this.gridlocalization[n]=e[n])}e.loadingErrorMessage&&(this.loadingErrorMessage=e.loadingErrorMessage),!1!==t&&(this._builddataloadelement(),ne(this.dataloadelement).css("visibility","hidden"),ne(this.dataloadelement).css("display","none"))}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",filterapplystring:"Apply",filtercancelstring:"Cancel",filterclearstring:"Clear Filter",filterstring:"advanced",filtersearchstring:"Search:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed."}},_updateScrollbars:function(e){var t=!1;("auto"===this.width||null===this.width||this.autowidth)&&999999==this.maxWidth&&(t=!0);var i=parseInt(this.scrollBarSize),s=this.table?this.table.height():0,r=0,n="inherit",o=this.vScrollBar[0].style.visibility;this.hScrollBar[0].style.visibility;if(e)a=e;else var a=this.host.height();this.columnGroups?a-=this.showHeader?this.columnsheader.height():0:a-=this.showHeader?this.columnsHeight:0,this.filterable&&(a-=this.filter.height()),this.pageable&&(a-=this.pagerHeight,"both"===this.pagerPosition&&(a-=this.pagerHeight)),this.showtoolbar&&(a-=this.toolbarHeight),this.showstatusbar&&(a-=this.statusBarHeight),this.showAggregates&&(a-=this.aggregatesHeight);var l=!1;if(("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(l=!0),!l&&a<s&&(0<this.source.records.length||this.source.hierarchy&&0<this.source.hierarchy.length)?(this.vScrollBar[0].style.visibility=n,r=4+parseInt(i),this.vScrollBar.jqxScrollBar({max:s-a})):this.vScrollBar[0].style.visibility="hidden",o!=this.vScrollBar[0].style.visibility){this._updatecolumnwidths();var d=this.table.height();s!=d&&(s=d,!l&&a<s&&(0<this.source.records.length||this.source.hierarchy&&0<this.source.hierarchy.length)&&(this.vScrollBar[0].style.visibility=n,r=4+parseInt(i),this.vScrollBar.jqxScrollBar({max:s-a})))}0==this.scrollBarSize&&(r=0);var h=this.table?this.table.width():0;3<h&&(h-=3);var c=parseInt(this.host.css("border-left-width"))+parseInt(this.host.css("border-right-width")),u=c+this.host.width()-r;if(u<h&&!t){if(this.hScrollBar[0].style.visibility=n,this.hScrollBar.jqxScrollBar({max:h-u}),r=4+parseInt(i),0==i&&(r=0),!l){if(a-r+4<s&&(0<this.source.records.length||this.source.hierarchy&&0<this.source.hierarchy.length)){this.hScrollBar.jqxScrollBar({max:c+h-u});var p="hidden"===this.vScrollBar[0].style.visibility;this.vScrollBar[0].style.visibility=n,this._updatecolumnwidths(),p&&this.hScrollBar.jqxScrollBar({max:h-u+r+c});var m=this.table?this.table.width():0;3<m&&(m-=3),m!=h&&m<u&&(this.hScrollBar.jqxScrollBar({max:c+m-u}),this.hScrollBar[0].style.visibility="hidden",r=0)}this.vScrollBar.jqxScrollBar({max:s-a+r})}}else this.hScrollBar[0].style.visibility="hidden";0===this.source.records.length&&this.source.hierarchy&&0===this.source.hierarchy.length&&(this.vScrollBar[0].style.visibility="hidden",this.bottomRight[0].style.visibility="hidden"),"hidden"==this.vScrollBar[0].style.visibility&&0!=this.vScrollInstance.value&&this.vScrollInstance.setPosition(0)},_measureElementWidth:function(e){var t=ne("<span style='visibility: hidden; white-space: nowrap;'>"+e+"</span>");t.addClass(this.toTP("jqx-widget")),t.addClass(this.toTP("jqx-grid")),t.addClass(this.toTP("jqx-grid-column-header")),t.addClass(this.toTP("jqx-widget-header")),ne(document.body).append(t);var i=t.outerWidth()+20;return t.remove(),i},_arrangeAutoHeight:function(e){if(e||(e=0),"auto"===this.height||null===this.height||this.autoheight){var t=this.table.height(),i=0;if(this.columnGroups?i+=this.showHeader?this.columnsheader.height():-1:i+=this.showHeader?this.columnsHeight:-1,i+=this.showstatusbar?this.statusBarHeight:0,i+=this.showAggregates?this.aggregatesHeight:0,i+=this.showtoolbar?this.toolbarHeight:0,i+=this.pageable?this.pagerHeight:0,"both"===this.pagerPosition&&(i+=this.pageable?this.pagerHeight:0),i+=t,this.filterable){var s=this.filter.find(".filterrow"),r=1;0<this.filter.find(".filterrow-hidden").length&&(r=0),i+=this.filterHeight-1+this.filterHeight*s.length*r}return i+e>this.maxHeight?this.host.height(this.maxHeight):this.host.height(i+e),!0}return!1},_arrangeAutoWidth:function(e){if(e||(e=0),"auto"===this.width||null===this.width||this.autowidth){for(var t=0,i=0;i<this.columns.records.length;i++){var s=this.columns.records[i].width;this.columns.records[i].hidden||(t+="auto"==s?s=this._measureElementWidth(this.columns.records[i].text):s)}return width=t,width+e>this.maxWidth?this.host.width(this.maxWidth):this.host.width(width+e),!0}return!1},_measureTopAndHeight:function(){var e=this.host.height(),t=0;if(this.showtoolbar&&(t+=this.toolbarHeight,e-=parseInt(this.toolbarHeight)),this.filterable){var i=this.filter.find(".filterrow"),s=1;0<this.filter.find(".filterrow-hidden").length&&(s=0),t+=this.filterHeight,e-=parseInt(this.filterHeight);var r=1==s?i.length:0;t+=this.filterHeight*r,e-=this.filterHeight*r}return this.pageable&&"bottom"!=this.pagerPosition&&(t+=parseInt(this.pagerHeight)+1,e>this.pagerHeight&&"both"===this.pagerPosition&&(e-=parseInt(this.pagerHeight))),{top:t,height:e}},_arrange:function(){if(this.table){this._arrangeAutoHeight(),this._arrangeAutoWidth();var e=this.host.width(),t=this.host.height(),i=t;this.pageable?"bottom"===this.pagerPosition?(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="inherit"):"both"===this.pagerPosition?(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="inherit"):"top"===this.pagerPosition&&(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="hidden"):(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="hidden");var s=0;if(this.showtoolbar?(this.toolbar.width(e),this.toolbar.height(this.toolbarHeight-1),this.toolbar.css("top",0),s+=this.toolbarHeight,t-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.filterable){this.filter.width(e),this.filter.css("top",s);var r=this.filter.find(".filterrow"),n=1;0<this.filter.find(".filterrow-hidden").length&&(n=0),this.filter.height(this.filterHeight-1+this.filterHeight*r.length*n),s+=this.filterHeight,t-=parseInt(this.filterHeight);var o=1==n?r.length:0;s+=this.filterHeight*o,t-=this.filterHeight*o}if(this.showstatusbar?(this.statusbar.width(this.table?Math.max(e,this.table.width()):e),this.statusbar.height(this.statusBarHeight-1)):this.statusbar[0].style.height="0px",this.showAggregates?this.aggregates.height(this.aggregatesHeight-1):this.aggregates[0].style.height="0px",this.pageable&&"bottom"!=this.pagerPosition)this.toppager[0].style.width=e+"px",this.toppager[0].style.height=parseInt(this.pagerHeight)+"px",this.toppager[0].style.top=parseInt(s)+"px",s+=parseInt(this.pagerHeight)+1,t>this.pagerHeight&&(t-=parseInt(this.pagerHeight));else{this.toppager[0].style.width!=e+"px"&&(this.toppager[0].style.width=parseInt(e)+"px"),this.toppager[0].style.height!=this.pagerHeight+"px"&&(this.toppager[0].style.height=parseInt(this.pagerHeight)+"px"),this.toppager[0].style.top!=s+"px"&&(this.toppager[0].style.top=s+"px");var a=s+("bottom"!=this.pagerPosition?this.pagerHeight:0)+"px";this.content[0].style.top!=a&&(this.content[0].style.top=s+this.pagerHeight+"px")}this._updateScrollbars(i);var l=parseInt(this.scrollBarSize),d=2,h=0;if("hidden"!=this.vScrollBar[0].style.visibility&&(h=l+4),"hidden"!=this.hScrollBar[0].style.visibility&&(d=l+4+2),0==l&&(d=h=0),this.showAggregates&&("hidden"===this.hScrollBar[0].style.visibility?this.aggregates.width(this.table?Math.max(e,this.table.width())+4:e):this.aggregates.width("auto")),"hidden"!=this.vScrollBar[0].style.visibility||"hidden"!=this.hScrollBar[0].style.visibility){var c=this._arrangeAutoHeight(d-2),u=this._arrangeAutoWidth(h+1);if(c||u){e=this.host.width();this.toppager[0].style.width=parseInt(e)+"px",this.toolbar[0].style.width=parseInt(e)+"px",this.statusbar[0].style.width=parseInt(e)+"px",this.filter[0].style.width=parseInt(e)+"px"}if(c){var p=this._measureTopAndHeight();s=p.top,t=p.height}}var m=0;this.pageable&&(m=this.pagerHeight,"top"!=this.pagerPosition&&(d+=this.pagerHeight)),this.showAggregates&&(d+=this.aggregatesHeight,m+=this.aggregatesHeight),this.showstatusbar&&(d+=this.statusBarHeight,m+=this.statusBarHeight),this.hScrollBar[0].style.height!=l+"px"&&(this.hScrollBar[0].style.height=parseInt(l)+"px"),this.hScrollBar[0].style.top==s+t-4-l-m+"px"&&"0px"==this.hScrollBar[0].style.left||(this.hScrollBar[0].style.top=s+t-4-l-m-1+"px",this.hScrollBar[0].style.left="0px");var f=this.hScrollBar[0].style.width,g=!1,v=!1;0==h?f!=e-2+"px"&&(this.hScrollBar[0].style.width=e-2+"px",g=!0):f!=e-l-4+"px"&&(this.hScrollBar[0].style.width=e-l-4+"px",g=!0),this.vScrollBar[0].style.width!=l+"px"&&(this.vScrollBar[0].style.width=l+"px",v=!0),this.vScrollBar[0].style.height!=parseInt(t)-d+"px"&&(this.vScrollBar[0].style.height=parseInt(t)-d+"px",v=!0),this.vScrollBar[0].style.left==parseInt(e)-parseInt(l)-4+"px"&&this.vScrollBar[0].style.top==s+"px"||(this.vScrollBar[0].style.top=s+"px",this.vScrollBar[0].style.left=parseInt(e)-parseInt(l)-4+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:s}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:l+2}));var x=this.vScrollInstance;x.disabled=this.disabled;var w=this.hScrollInstance;w.disabled=this.disabled,g&&w.refresh(),v&&x.refresh();var y=function(e){"hidden"!=e.vScrollBar[0].style.visibility&&"hidden"!=e.hScrollBar[0].style.visibility?(e.bottomRight[0].style.visibility="inherit",e.bottomRight[0].style.left=1+parseInt(e.vScrollBar.css("left"))+"px",e.bottomRight[0].style.top=parseInt(e.hScrollBar.css("top"))+"px",e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight[0].style.width=parseInt(l)+3+"px",e.bottomRight[0].style.height=parseInt(l)+4+"px",e.showAggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(l)+4+e.aggregatesHeight),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.aggregatesHeight}))):e.bottomRight[0].style.visibility="hidden"};if(y(this),this.content[0].style.width!=e-h+"px"&&(this.content[0].style.width=e-h+"px"),this.content[0].style.height!=t-d+3+"px"&&(this.content[0].style.height=t-d+3+"px"),this.content[0].style.top!=s+"px"&&(this.content[0].style.top=parseInt(s)+"px"),this.rtl&&(this.content.css("left",h),this.filter&&0<this.filter.children().length&&ne(this.filter.children()).css("left",h),this.table)){var b=this.table.width();b<e-h&&(this.content.css("left",e-b+2),this.filter&&0<this.filter.children().length&&ne(this.filter.children()).css("left",e-b+2))}this.showAggregates&&(this.aggregates.css("top",s+t-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0)),this.rtl&&this.aggregates.css("left","0px"),"hidden"!=this.hScrollBar.css("visibility")&&(this.hScrollBar.css({top:s+t-4-l-m+this.aggregatesHeight+"px"}),this.aggregates.css("top",1+s+t-l-5-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0))),y(this)),this.showstatusbar&&(this.statusbar.css("top",s+t-this.statusBarHeight-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.statusbar.css("left",this.content.css("left")):this.statusbar.css("left","0px"))),this.pageable?(this.pager[0].style.width=e+"px",this.pager[0].style.height=this.pagerHeight+"px",this.pager[0].style.top=parseInt(s)+parseInt(t)-parseInt(this.pagerHeight)-1+"px"):this.pager[0].style.height="0px",this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,e!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),t!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostwidth=e}},scrollOffset:function(e,t){if(0==arguments.length||null!=e&&"object"==typeof e&&!e.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};if(null!=e&&"object"==typeof e)t=e.left,e=e.top;null!=e&&null!=t&&null!=e&&null!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&null!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&null!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(e){(this._updating=!1)!==e&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(e,x,w){if(!0!==this.loadingstate){var y=window;"block"==this.host.css("display")&&(this.autoShowLoadElement?(ne(this.dataloadelement).css("visibility","visible"),ne(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(ne(this.dataloadelement).css("visibility","hidden"),ne(this.dataloadelement).css("display","none")));var b=this;null==e&&(e={}),null!=e.sortcomparer&&null!=e.sortcomparer||(e.sortcomparer=null),null!=e.filter&&null!=e.filter||(e.filter=null),null!=e.sort&&null!=e.sort||(e.sort=null),null!=e.data&&null!=e.data||(e.data=null);if(null!=e&&(null!=e._source?e._source.url:e.url),this.dataview=this.dataview||new ne.jqx.dataView,this.dataview.pageable=this.pageable,this.dataview.grid=this,!b.initializedcall){if(e._source&&this.sortable&&(null!=e._source.sortcolumn&&(this.sortcolumn=e._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=e._source.sortcolumn,e._source.sortcolumn=null),null!=e._source.sortdirection)){this.dataview.sortfielddirection=e._source.sortdirection;var t=e._source.sortdirection;if("a"==t||"asc"==t||"ascending"==t||1==t)var i=!0;else i=!1;this.sortdirection=null!=t?{ascending:i,descending:!i}:{ascending:!1,descending:!1}}this.pageable&&e._source&&(null!=e._source.pagenum&&(this.dataview.pagenum=e._source.pagenum),null!=e._source.pagesize?(this.pageSize=e._source.pagesize,this.dataview.pagesize=e._source.pagesize):(this.dataview.pagesize=e._source.pagesize,null==this.dataview.pagesize&&(this.dataview.pagesize=this.pageSize))),this.sortable&&(e.sortcolumn&&(this.dataview.sortfield=e.sortcolumn),e.sortdirection&&(this.dataview.sortfielddirection=e.sortdirection))}this._loading=!0,this.dataview.update=function(e){b._loading=!1,b.rowsByKey=new Array;var t=b.source._source.datafields;if(b.groups&&0<b.groups.length){var i=Object.prototype.toString,s=b.groups[0];if(Object.prototype.toString="function"==typeof s?s:function(){return this[s]},!b.source.records.sort){var r=new Array,n=0;ne.each(data,function(){r[startindex+n++]=this}),data=r}b.source.records.sort(function(e,t){if(void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t)return 0;if(null===e&&null!==t)return-1;if(null!==e&&null===t)return 1;var i=0,s=0;if(e&&e.uid&&(i=e.uid),t&&t.uid&&(s=t.uid),e=e.toString(),t=t.toString(),ne.jqx.dataFormat.isNumber(e)&&ne.jqx.dataFormat.isNumber(t))return e<t?-1:t<e?1:0;if(ne.jqx.dataFormat.isDate(e)&&ne.jqx.dataFormat.isDate(t))return e<t?-1:t<e?1:0;ne.jqx.dataFormat.isNumber(e)||ne.jqx.dataFormat.isNumber(t)||(e=String(e).toLowerCase(),t=String(t).toLowerCase());try{if(e<t)return-1;if(t<e)return 1}catch(e){}if("number"==typeof i){if(i<s)return-1;if(s<i)return 1}return 0}),Object.prototype.toString=i}for(var o=0;o<b.source.records.length;o++){var a=b.source.records[o];if((b.rowsByKey[a.uid]=a).records&&0<a.records.length){var l=function(e){for(var t=0;t<e.length;t++)e[t]&&(b.rowsByKey[e[t].uid]=e[t],e[t].records&&0<e[t].records.length&&l(e[t].records))};l(a.records)}if(0===o){var d=!1;if(t)for(var h=0;h<t.length;h++)if(t[h]&&!t[h].type){d=!0,t[h].type="string";var c=a[t[h].name];if(null==c)continue;if(!0!==c&&!1!==c||(t[h].type="boolean"),null!=c&&-1<c.toString().indexOf(b.gridlocalization.currencysymbol)||-1<c.toString().indexOf(b.gridlocalization.percentsymbol)){var u=c.toString().split(" ").length,p=new Number(b._toNumber(c.toString()));isNaN(p)||1!=u||(t[h].type="number")}(ne.jqx.dataFormat.isNumber(c)||!isNaN(parseFloat(c))&&isFinite(c))&&(t[h].type="number"),ne.jqx.dataFormat.isDate(c)&&(t[h].type="date")}if(d)for(h=0;h<t.length;h++){var m=b.source.getvaluebytype(a[t[h].name],t[h]);if(null!=m&&"number"==t[h].type){var f=m;f=new Number(b._toNumber(f.toString())),isNaN(f)||(m=f)}a[t[h].name]=m}}}if("pager"===x||"filter"===x||"sort"===x?b.refresh():b._render(),b.autoShowLoadElement&&!b._loading&&(ne(b.dataloadelement).css("visibility","hidden"),ne(b.dataloadelement).css("display","none")),b.pageable&&(b.disabled||b.pagernexttop&&(b.pagerfirsttop.jqxButton({disabled:!1}),b.pagerfirstbottom.jqxButton({disabled:!1}),b.pagerlasttop.jqxButton({disabled:!1}),b.pagerlastbottom.jqxButton({disabled:!1}),b.pagernexttop.jqxButton({disabled:!1}),b.pagerprevioustop.jqxButton({disabled:!1}),b.pagershowrowscombotop.jqxDropDownList&&"advanced"==b.pagerMode&&(b.pagershowrowscombotop.jqxDropDownList({disabled:!1}),b.pagershowrowscombobottom.jqxDropDownList({disabled:!1})),b.pagernextbottom.jqxButton({disabled:!1}),b.pagerpreviousbottom.jqxButton({disabled:!1}))),b._updateTouchScrolling(),b._raiseEvent("bindingComplete"),w&&w(),!b.initializedcall){if(b.initializedcall=!0,b.isInitialized=!0,b.ready&&b.ready(),(null!=b.width&&-1!=b.width.toString().indexOf("%")||null!=b.height&&-1!=b.height.toString().indexOf("%"))&&b._updatesize(!0),b._rendercelltexts&&b._rendercelltexts(),b._gridRenderElement){ne(b._gridRenderElement).show("slow");var g=6e3+Math.floor(4e3*Math.random()+1),v=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();y[ne.camelCase(v)](function(){ne(b._gridRenderElement).hide("slow",function(){ne(b._gridRenderElement).remove()})},g)}if("hidden"==b.host.css("visibility")){ne.jqx.browser.msie&&ne.jqx.browser.version;"visible"==b.vScrollBar.css("visibility")&&b.vScrollBar.css("visibility","inherit"),"visible"==b.hScrollBar.css("visibility")&&b.hScrollBar.css("visibility","inherit"),b._intervalTimer=setInterval(function(){"visible"==b.host.css("visibility")&&(b._updatesize(!0),clearInterval(b._intervalTimer))},100)}}},this.dataview.databind(e)}},_raiseEvent:function(e,t){null==t&&(t={owner:null});var i=e;args=t,args.owner=this;var s=new ne.Event(i);s.owner=this,s.args=args;var r=this.host.trigger(s);return t=s.args,r},ensureColumnVisible:function(e){for(var t=0,i=0,s=0;s<this.columns.records.length;s++){if(this.columns.records[s].datafield==e){t+=this.columns.records[s].width,i=this.columns.records[s].width;break}t+=this.columns.records[s].width}if("hidden"!=this.hScrollBar.css("visibility")){var r=this.hScrollBar.jqxScrollBar("value"),n=r+this.host.width();t-i<r?this.hScrollBar.jqxScrollBar("setPosition",t-i):n<t&&this.hScrollBar.jqxScrollBar("setPosition",r+t-n)}},ensurerowvisiblebykey:function(e){if("hidden"===this.vScrollBar[0].style.visibility)return!1;var t=this._getuirow(e);if(t){var i=this.vScrollBar.jqxScrollBar("value"),s=this.host.height(),r=0;this.columnGroups?r+=this.showHeader?this.columnsheader.height():0:r+=this.showHeader?this.columnsHeight:0,this.filterable&&(r+=this.filter.height()),this.pageable&&"top"===this.pagerPosition&&(r+=this.pagerHeight),this.showtoolbar&&(r+=this.toolbarHeight),s-=r,this.pageable&&"top"!==this.pagerPosition&&(s-=this.pagerHeight),this.showstatusbar&&(s-=this.statusBarHeight),this.showAggregates&&(s-=this.aggregatesHeight),"hidden"!=this.hScrollBar.css("visibility")&&(s-=20);var n=this.host.coord().top+r,o=i,a=s+o,l=t.coord().top+i-n,d=(l=Math.round(l))+t.outerHeight();if(d=Math.round(d),0===Math.round(t.position().top))return this.vScrollBar.jqxScrollBar("setPosition",0);var h=ne(this._table.children()[1]).children().length-1,c=this._getuikey(h),u=this._getuirow(c);if(u&&u[0]===t[0])return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"));if(l<o){var p=l-t.height();return p<0&&(p=0),this.vScrollBar.jqxScrollBar("setPosition",p)}return a<d?this.vScrollBar.jqxScrollBar("setPosition",4+d-s-i):void 0}},ensureRowVisible:function(e){var t=this._getkey(e);this.ensurerowvisiblebykey(t)},getColumn:function(e){var t=null;return this.columns.records&&ne.each(this.columns.records,function(){if(this.datafield==e||this.displayfield==e)return t=this,!1}),t},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;var s=t;t=t.toLowerCase();var r=this.getColumn(e);if(null!=r){r[t];r[t]=i,r[s]=i;var n=this.getColumn(e);switch(null!=n&&(n[t]=i),t){case"filteritems":case"text":case"editable":case"resizable":case"draggable":case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==t?this._rendercolumnheaders():"text"==t||"class"==t||"hidden"==t||"pinned"==t||"resizable"==t||"renderer"==t?this._rendercolumnheaders():("width"==t||"maxwidth"==t||"minwidth"==t)&&(r._width=null,r._percentagewidth=null,this._updatecolumnwidths()),this.refresh()}}},getColumnProperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getColumn(e)[t])},setColumnProperty:function(e,t,i){this._setcolumnproperty(e,t,i)},hideColumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showColumn:function(e){this._setcolumnproperty(e,"hidden",!1)},updateBoundData:function(e,t){this.databind(this.source,e,t)},refresh:function(e){if(1!=e){if(ne.jqx.isHidden(this.host))return;this.vScrollInstance.setPosition(0),this._renderrows(),this.updatepagerdetails(),this._arrange(),this._arrangeFilterRow&&this._arrangeFilterRow(),this._renderhorizontalscroll(),this._showicons(),this.showAggregates&&this._updateaggregates(),this._updateTouchScrolling()}},_rendercelltexts:function(){var e=String.fromCharCode("");if(-1==location.hostname.indexOf(e.substring(4))){this._gridRenderElement&&ne(this._gridRenderElement).remove();var t=String.fromCharCode(83,80,65,78),i=String.fromCharCode(72,84,84,80,58,47,47),s=document.createElement(t);s.id=ne.jqx.utilities.createId(),s.innerHTML=e,s.style.position="absolute",s.style.right="5px",s.style.bottom="5px",s.style.color="#909090",s.style.cursor="pointer",s.style.zIndex="999999",s.style.display="none",s.style.fontSize="9px",s.onmousedown=function(){open(i+e)},this.content[0].appendChild(s),this._gridRenderElement=s}},_updateTouchScrolling:function(){var i=this.that;if(i.isTouchDevice()){var e=ne.jqx.mobile.getTouchEventName("touchstart"),t=ne.jqx.mobile.getTouchEventName("touchend"),s=ne.jqx.mobile.getTouchEventName("touchmove");i.table&&(i.removeHandler(i.table,e+".touchScroll"),i.removeHandler(i.table,s+".touchScroll"),i.removeHandler(i.table,t+".touchScroll"),i.removeHandler(i.table,"touchcancel.touchScroll"),ne.jqx.mobile.touchScroll(i.table[0],Math.max(i.vScrollInstance.max,i.hScrollInstance.max),function(e,t){if(null!=t&&"hidden"!=i.vScrollBar.css("visibility")){i.vScrollInstance.value;i.vScrollInstance.setPosition(t)}if(null!=e&&"hidden"!=i.hScrollBar.css("visibility")){i.hScrollInstance.value;i.hScrollInstance.setPosition(e)}i.scrolled=new Date,i.vScrollInstance.thumbCapture=!0},this.element.id,this.hScrollBar,this.vScrollBar))}},_showicons:function(){if(this.table)for(var e=0;e<this.columns.records.length;e++){var t=this.columns.records[e];if(ne(t.filtericon).hide(),ne(t.sortasc).hide(),ne(t.sortdesc).hide(),"simple"!==this.filterMode)for(var i=0;i<this.dataview.filters.length;i++){if(this.dataview.filters[i].datafield===t.displayfield){ne(t.filtericon).show();break}}if(null!==this.sortcolumn&&this.sortcolumn===t.displayfield&&null!=this.sortdirection&&(this.sortdirection.ascending?ne(t.sortasc).show():ne(t.sortdesc).show()),"left"!=t.align&&"center"!=t.align&&!this.rtl||this.rtl&&"right"!=t.align&&"center"!=t.align){var s=ne.jqx.isHidden(ne(t.filtericon))?0:16;s+=ne.jqx.isHidden(ne(t.sortasc))?0:16,s+=ne.jqx.isHidden(ne(t.sortdesc))?0:16;var r=ne(ne(ne(t.element).children()[0]).children()[0]);this.rtl?0<s?r.css("margin-left",4+s+"px"):r.css("margin-left","4px"):0<s?r.css("margin-right",4+s+"px"):r.css("margin-right","4px")}}},render:function(e){var t="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='toppager' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='statusbar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerText="",this.element.innerHTML=t,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var i=this.host.find("#verticalScrollBar"+this.element.id),s=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=i.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=s.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=ne.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=ne.data(this.hScrollBar[0],"jqxScrollBar").instance,this.filter=this.host.find("#filter"),this.filter[0].id="filter"+this.element.id,this.filter.addClass(this.toTP("jqx-widget-header")),this.filter.addClass(this.toTP("jqx-grid-toolbar")),this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-grid-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.aggregates=this.host.find("#aggregates"),this.aggregates[0].id="aggregates"+this.element.id,this.aggregates.addClass(this.toTP("jqx-grid-statusbar")),this.aggregates.addClass(this.toTP("jqx-widget-header")),this.statusbar=this.host.find("#statusbar"),this.statusbar[0].id="statusbar"+this.element.id,this.statusbar.addClass(this.toTP("jqx-grid-statusbar")),this.statusbar.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.toppager=this.host.find("#toppager"),this.toppager.addClass(this.toTP("jqx-grid-pager-top")),this.toppager.addClass(this.toTP("jqx-widget-header")),this.gridtable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns;var r=this.source.datafields;if(null==r&&this.source._source&&(r=this.source._source.datafields),r)for(var n=0;n<this.columns.length;n++){var o=this.columns[n];if(o&&o.cellsFormat&&2<o.cellsFormat.length)for(var a=0;a<r.length;a++)if(r[a].name==o.datafield&&!r[a].format){r[a].format=o.cellsFormat;break}}this.databind(this.source),this.showtoolbar&&this.toolbar.css("visibility","inherit"),this.showstatusbar&&this.statusbar.css("visibility","inherit"),this.showAggregates&&this.aggregates.css("visibility","inherit"),this.tableheight=null;var l=this;this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(e){return l.content&&(l.content[0].scrollTop=0,l.content[0].scrollLeft=0),l.gridcontent&&(l.gridcontent[0].scrollLeft=0,l.gridcontent[0].scrollTop=0),!1}),!0!==e&&this._render()},_render:function(){var e=this;if(null!=e.dataview&&!e._loading){(25!=e.columnsHeight||e.columnGroups)&&e._measureElement("column"),e.filterable?e.filter[0].style.visibility="inherit":e.filter[0].style.visibility="hidden",e.rowinfo=new Array,e._removeHandlers(),null==e.columns?e.columns=new ne.jqx.dataCollection(e.element):e._initializeColumns();var t=!1,i=!1;null!=e.width&&-1!=e.width.toString().indexOf("%")&&(t=!0),t?e.element.style.width=e.width:e.host.width(e.width),null!=e.height&&-1!=e.height.toString().indexOf("%")&&(i=!0),i?e.element.style.height=e.height:e.host.height(e.height),e._lastHostWidth=e.host.width(),e._lastHostHeight=e.host.height(),ne.jqx.utilities.html(e.content,""),e.columnsheader=e.columnsheader||ne('<div style="overflow: hidden;"></div>'),e.columnsheader.remove(),e.columnsheader.addClass(e.toTP("jqx-widget-header")),e.columnsheader.addClass(e.toTP("jqx-grid-header")),e.showHeader?e.columnsheader&&e.columnsheader.css("display","block"):e.columnsheader.css("display","none"),e.gridcontent=e.gridcontent||ne('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),e.gridcontent.remove();var s=e.columnsHeight;s=e._preparecolumnGroups(),e.columnsheader.height(s),e.content.append(e.columnsheader),e.content.append(e.gridcontent),e._rendercolumnheaders(),e.tableheight=null,e.gridcontent.find("#contenttable"+e.element.id).remove(),null!=e.table&&(e.table.remove(),e.table=null),e.table=ne('<div id="contenttable'+e.element.id+'" style="overflow: hidden; position: relative;"></div>'),e.gridcontent.addClass(e.toTP("jqx-grid-content")),e.gridcontent.addClass(e.toTP("jqx-widget-content")),e.gridcontent.append(e.table),e._renderrows(),e.filterable&&e._renderfilter(),e.pageable&&e._initpager(),e._arrange(),e.renderStatusBar&&e.renderStatusBar(e.statusbar),e.rendertoolbar&&e.rendertoolbar(e.toolbar),e.showAggregates&&e._updateaggregates(),e.disabled&&e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e._renderhorizontalscroll(),e._showicons(),e._addHandlers()}},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},_initpager:function(){var _=this.gridlocalization.pagergotopagestring,j=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),e=(this.pagerHeight-17)/2;if(this.pagerdiv=this.pagerdiv||ne('<div style="width: 100%; height: 100%; position: relative;"></div>'),this.toppagerdiv=this.toppagerdiv||ne('<div style="width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.toppagerdiv.remove();if(this.pagerRenderer){var t;this.pagerdiv.children().remove(),this.toppager.children().remove(),null!=(t=this.pagerRenderer())&&this.pagerdiv.append(ne(t)),this.pager.append(this.pagerdiv),null!=(t=this.pagerRenderer())&&this.toppagerdiv.append(ne(t)),this.toppager.append(this.toppagerdiv)}else{this.pagerdiv.css("top",e),this.toppagerdiv.css("top",e);var i=function(e,t){var o=this,i=ne('<div style="margin-right: 7px; width: 27px; height: 17px; float: right;"><input style="margin-top: 0px; text-align: right; width: 27px;" type="text"/></div>'),s=ne('<div style="float: right; margin-right: 7px;"></div>'),r=ne('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),n=ne('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),a=ne('<div type="button" style="margin-left: 3px; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),l=ne('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),d=ne('<div style="margin-right: 7px; float: right;"></div>'),h=ne('<div style="margin-right: 7px; float: right;"></div>'),c=ne('<div style="padding-bottom: 3px; margin-right: 3px; float: right;"></div>');i.attr("disabled",o.disabled);var u=ne('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>');if(u[0].id="gridpagerlist"+t+o.element.id,o.removeHandler(r,"mousedown"),o.removeHandler(r,"mouseup"),o.removeHandler(r,"click"),o.removeHandler(n,"mousedown"),o.removeHandler(n,"mouseup"),o.removeHandler(n,"click"),o.removeHandler(a,"mousedown"),o.removeHandler(a,"mouseup"),o.removeHandler(a,"click"),o.removeHandler(l,"mousedown"),o.removeHandler(l,"mouseup"),o.removeHandler(l,"click"),o.rtl?(r.attr("title",o.gridlocalization.pagerpreviousbuttonstring),n.attr("title",o.gridlocalization.pagernextbuttonstring)):(n.attr("title",o.gridlocalization.pagerpreviousbuttonstring),r.attr("title",o.gridlocalization.pagernextbuttonstring)),ne.jqx.browser.msie&&ne.jqx.browser.version<8&&c.css("padding-top","3px"),this["pagerfirst"+t]=a,this["pagerlast"+t]=l,this["pagernext"+t]=r,this["pagerprevious"+t]=n,this["pagergotoinput"+t]=i,this["pagerdetails"+t]=d,this["pagershowrows"+t]=h,this["pagergotolabel"+t]=s,this["pagershowrowscombo"+t]=u,this["pagerbuttons"+t]=c,"default"==o.pagerMode){o.rtl?(l.attr("title",o.gridlocalization.pagerfirstbuttonstring),a.attr("title",o.gridlocalization.pagerlastbuttonstring)):(a.attr("title",o.gridlocalization.pagerfirstbuttonstring),l.attr("title",o.gridlocalization.pagerlastbuttonstring));var p=ne("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");p.addClass(o.toThemeProperty("jqx-icon-arrow-first")),a.wrapInner(p);var m=ne("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");m.addClass(o.toThemeProperty("jqx-icon-arrow-last")),l.wrapInner(m),o.rtl?(e.append(l),e.append(r),e.append(c),e.append(n),e.append(a)):(e.append(a),e.append(n),e.append(c),e.append(r),e.append(l)),l.jqxButton({cursor:"pointer",disabled:o.disabled,theme:o.theme}),a.jqxButton({cursor:"pointer",disabled:o.disabled,theme:o.theme});var f=o.rtl?"right":"left";c.css("float",f),l.css("float",f),a.css("float",f),r.css("float",f),n.css("float",f),d.css("float",o.rtl?"left":"right"),o.rtl?(d.css("margin-left","7px"),d.css("margin-right","0px")):(d.css("margin-left","0px"),d.css("margin-right","7px"))}else o.rtl||(e.append(r),e.append(n));r.jqxButton({cursor:"pointer",disabled:o.disabled,theme:o.theme}),n.jqxButton({cursor:"pointer",disabled:o.disabled,theme:o.theme});var g=ne("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");g.addClass(o.toThemeProperty("jqx-icon-arrow-left")),n.wrapInner(g);var v=ne("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");if(v.addClass(o.toThemeProperty("jqx-icon-arrow-right")),r.wrapInner(v),o.rtl||e.append(d),"default"!=o.pagerMode){o.rtl?(e.append(s),e.append(i),e.append(h),e.append(u),e.append(d),e.append(r),e.append(n)):(e.append(u),e.append(h),e.append(i),e.append(s));var x=o.pageSizeOptions;u.jqxDropDownList({_checkForHiddenParent:!1,rtl:o.rtl,disabled:o.disabled,source:x,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:44,height:16,theme:o.theme});for(var w=0,y=0;y<x.length;y++)this.pageSize>=x[y]&&(w=y);s[0].innerHTML=_,u.jqxDropDownList({selectedIndex:w});var b=i.find("input");b.addClass(o.toThemeProperty("jqx-input")),b.addClass(o.toThemeProperty("jqx-widget-content")),this.rtl&&b.css("direction","rtl");o=this;this.removeHandler(u,"select"),this.addHandler(u,"select",function(e){if(e.args){o.vScrollInstance&&o.vScrollInstance.setPosition(0);var t=e.args.index;o.pagershowrowscombotop.data().jqxDropDownList.instance.selectIndex(t),o.pagershowrowscombobottom.data().jqxDropDownList.instance.selectIndex(t),o.pagershowrowscombobottom.data().jqxDropDownList.instance.renderSelection("mouse"),o.pagershowrowscombotop.data().jqxDropDownList.instance.renderSelection("mouse");var i=o.dataview.pagenum*o.dataview.pagesize,s=x[t],r=o.pageSize;o.pageSize=parseInt(s),isNaN(o.pageSize)&&(o.pageSize=10),100<=s?(o.pagershowrowscombotop.jqxDropDownList({width:55}),o.pagershowrowscombobottom.jqxDropDownList({width:55})):(o.pagershowrowscombotop.jqxDropDownList({width:44}),o.pagershowrowscombobottom.jqxDropDownList({width:44})),o.dataview.pagesize=o.pageSize;var n=Math.floor(i/o.dataview.pagesize);if(n!==o.dataview.pagenum||parseInt(s)!==parseInt(r))o._raiseEvent("pageSizeChanged",{pagenum:n,oldpageSize:r,pageSize:o.dataview.pagesize}),o.goToPage(n)||(o.serverProcessing?o.updateBoundData("pager"):o.refresh())}}),(i=i.find("input")).addClass(o.toThemeProperty("jqx-grid-pager-input")),i.addClass(o.toThemeProperty("jqx-rc-all")),this.removeHandler(i,"keydown"),this.removeHandler(i,"change"),o.addHandler(i,"keydown",function(e){if(65<=e.keyCode&&e.keyCode<=90)return!1;if("13"==e.keyCode){var t=i.val();return t=parseInt(t),isNaN(t)||o.goToPage(t-1),!1}}),o.addHandler(i,"change",function(){var e=i.val();e=parseInt(e),isNaN(e)||o.goToPage(e-1)})}h[0].innerHTML=j,o.addHandler(r,"mouseenter",function(){v.addClass(o.toThemeProperty("jqx-icon-arrow-right-hover"))}),o.addHandler(n,"mouseenter",function(){g.addClass(o.toThemeProperty("jqx-icon-arrow-left-hover"))}),o.addHandler(r,"mouseleave",function(){v.removeClass(o.toThemeProperty("jqx-icon-arrow-right-hover"))}),o.addHandler(n,"mouseleave",function(){g.removeClass(o.toThemeProperty("jqx-icon-arrow-left-hover"))}),o.addHandler(r,"mousedown",function(){v.addClass(o.toThemeProperty("jqx-icon-arrow-right-selected"))}),o.addHandler(r,"mouseup",function(){v.removeClass(o.toThemeProperty("jqx-icon-arrow-right-selected"))}),o.addHandler(n,"mousedown",function(){g.addClass(o.toThemeProperty("jqx-icon-arrow-left-selected"))}),o.addHandler(n,"mouseup",function(){g.removeClass(o.toThemeProperty("jqx-icon-arrow-left-selected"))}),"default"===o.pagerMode&&(o.addHandler(l,"mouseenter",function(){m.addClass(o.toThemeProperty("jqx-icon-arrow-last-hover"))}),o.addHandler(a,"mouseenter",function(){p.addClass(o.toThemeProperty("jqx-icon-arrow-first-hover"))}),o.addHandler(l,"mouseleave",function(){m.removeClass(o.toThemeProperty("jqx-icon-arrow-last-hover"))}),o.addHandler(a,"mouseleave",function(){p.removeClass(o.toThemeProperty("jqx-icon-arrow-first-hover"))}),o.addHandler(l,"mousedown",function(){m.addClass(o.toThemeProperty("jqx-icon-arrow-last-selected"))}),o.addHandler(a,"mousedown",function(){p.addClass(o.toThemeProperty("jqx-icon-arrow-first-selected"))}),o.addHandler(l,"mouseup",function(){m.removeClass(o.toThemeProperty("jqx-icon-arrow-last-selected"))}),o.addHandler(a,"mouseup",function(){p.removeClass(o.toThemeProperty("jqx-icon-arrow-first-selected"))})),o.addHandler(ne(document),"mouseup.pagerbuttons"+t+this.element.id,function(){v.removeClass(o.toThemeProperty("jqx-icon-arrow-right-selected")),g.removeClass(o.toThemeProperty("jqx-icon-arrow-left-selected")),m&&(m.removeClass(o.toThemeProperty("jqx-icon-arrow-last-selected")),p.removeClass(o.toThemeProperty("jqx-icon-arrow-first-selected")))}),o.addHandler(r,"click",function(){r.jqxButton("disabled")||(o.rtl?o.goToPrevPage():o.goToNextPage())}),o.addHandler(n,"click",function(){n.jqxButton("disabled")||(o.rtl?o.goToNextPage():o.goToPrevPage())}),"default"===this.pagerMode&&(o.addHandler(a,"click",function(){if(!a.jqxButton("disabled"))if(o.rtl){var e=o.dataview.totalrecords,t=Math.ceil(e/o.pageSize);o.goToPage(t-1)}else o.goToPage(0)}),o.addHandler(l,"click",function(){if(!l.jqxButton("disabled"))if(o.rtl)o.goToPage(0);else{var e=o.dataview.totalrecords,t=Math.ceil(e/o.pageSize);o.goToPage(t-1)}}))};this.pagerdiv.children().remove(),this.toppagerdiv.children().remove(),i.call(this,this.pagerdiv,"bottom"),i.call(this,this.toppagerdiv,"top"),this.pager.append(this.pagerdiv),this.toppager.append(this.toppagerdiv),this.updatepagerdetails()}},_updatepagertheme:function(){},goToPage:function(e,t){if(this._loading)return!1;if(null!=this.editKey){if(!this.editSettings.saveOnPageChange)return!1;if(!this.endroweditbykey(this.editKey))return!1}if(null!=e&&null!=e||(e=0),-1==e&&(e=0),e<0)return!1;var i=this.dataview.totalrecords,s=this.dataview.pagenum,r=Math.ceil(i/this.pageSize);return r<=e&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),0<e&&(e=r-1)),this.dataview.pagenum!=e&&(this.pageable&&(this.dataview.pagenum=e,this._raiseEvent("pageChanged",{pagenum:e,oldpagenum:s,pageSize:this.dataview.pagesize})),this.serverProcessing?this.updateBoundData("pager",t):(this.refresh(),t&&ne.isFunction(t)&&t()),!0)},goToPrevPage:function(e){if(0<this.dataview.pagenum)return this.goToPage(this.dataview.pagenum-1,e);if("default"!=this.pagerMode&&"advanced"!=this.pagerMode){var t=this.dataview.totalrecords,i=Math.ceil(t/this.pageSize);return this.goToPage(i-1,e)}return!1},goToNextPage:function(e){var t=this.dataview.totalrecords;this.summaryrows&&(t+=this.summaryrows.length);var i=Math.ceil(t/this.pageSize);return this.dataview.pagenum<i-1?this.goToPage(this.dataview.pagenum+1,e):"default"!=this.pagerMode&&"advanced"!=this.pagerMode&&this.goToPage(0,e)},updatepagerdetails:function(){if(this.pageable){var s=this;if(!this.serverProcessing)if(this.source.hierarchy){var r=s._names(),n=0,o=function(e,t){for(var i=0;i<t.length;i++)0==s.dataview.filters.length&&(t[i]._visible=!0),!1!==t[i]._visible&&n++,s.treeGrid&&"root"==s.treeGrid.pageSizeMode||t[i].records&&(t[i][r.expanded]||t[i][r.leaf])&&!1!==t[i]._visible&&(o(e+1,t[i].records),this.treeGrid&&ne(this.treeGrid).jqxTreeGrid("showSubAggregates")&&0!=e&&n--)};o(0,this.dataview.rows),this.dataview.totalrecords=n}else this.dataview.totalrecords=this.dataview.rows.length;var e=this.dataview.pagenum*this.pageSize,t=(this.dataview.pagenum+1)*this.pageSize;t>=this.dataview.totalrecords&&(t=this.dataview.totalrecords);var i=this.dataview.totalrecords;e++;var a=Math.ceil(i/this.dataview.pagesize);if(1<=a&&a--,a++,"root"==this.pageSizeMode&&(1<=(a=Math.ceil(this.rootRecordsLength/this.dataview.pagesize))&&a--,a++,i=this.rootRecordsLength,this.dataview.totalrecords=this.rootRecordsLength),"default"!=this.pagerMode){if(this.pagergotoinputbottom){var l=this.pagergotoinputbottom.find("input");l.val(this.dataview.pagenum+1),l.attr("title","1 - "+a),(l=this.pagergotoinputtop.find("input")).val(this.dataview.pagenum+1),l.attr("title","1 - "+a)}}else{var d="",h=this.pagerButtonsCount;0!=h&&h||(h=5);var c=0;for(this.rtl&&(c=h-1);this.rtl&&0<=c||!this.rtl&&c<h;){var u=1+c,p=this.dataview.pagenum/h;u+=Math.floor(p)*h;var m=this.toTP("jqx-grid-pager-number");if(m+=" "+this.toTP("jqx-rc-all"),a<u&&!this.rtl)break;if(this.rtl&&a<u)c--;else{if(this.rtl||0==c&&h<u&&(d+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+(-1+u)+"'>...</a>"),this.dataview.pagenum===u-1&&(m+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(c===h-1){m=this.toTP("jqx-grid-pager-number");m+=" "+this.toTP("jqx-rc-all"),1+u<=a&&(d+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+(1+u)+"'>...</a>")}this.dataview.pagenum===u-1&&(m+=" "+this.toTP("jqx-fill-state-pressed")),d+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+u+"'>"+u+"</a>"}else if(d+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+u+"'>"+u+"</a>",c===h-1){var m=this.toTP("jqx-grid-pager-number");m+=" "+this.toTP("jqx-rc-all"),1+u<=a&&(d+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+(1+u)+"'>...</a>")}if(this.rtl){m=this.toTP("jqx-grid-pager-number");m+=" "+this.toTP("jqx-rc-all"),0==c&&h<u&&(d+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+(-1+u)+"'>...</a>")}this.rtl?c--:c++}}if(!this.pagerbuttonsbottom)return;var f=this.pagerbuttonsbottom.find("a");this.removeHandler(f,"click"),this.removeHandler(f,"mouseenter"),this.removeHandler(f,"mouseleave");f=this.pagerbuttonstop.find("a");this.removeHandler(f,"click"),this.removeHandler(f,"mouseenter"),this.removeHandler(f,"mouseleave"),this.pagerbuttonsbottom[0].innerHTML=d,this.pagerbuttonstop[0].innerHTML=d,this.disabled&&this.host.find(".jqx-grid-pager-number").css("cursor","default");var g=function(){f.click(function(e){if(!s.disabled){var t=ne(e.target).attr("data-page");s.goToPage(parseInt(t)-1)}}),f.mouseenter(function(e){s.disabled||ne(e.target).addClass(s.toTP("jqx-fill-state-hover"))}),f.mouseleave(function(e){s.disabled||ne(e.target).removeClass(s.toTP("jqx-fill-state-hover"))})};if("both"===this.pagerPosition||"bottom"===this.pagerPosition){f=this.pagerbuttonsbottom.find("a");g()}if("both"===this.pagerPosition||"top"===this.pagerPosition){f=this.pagerbuttonstop.find("a");g()}}if(0==t&&t<e&&(e=0),this.pagerdetailsbottom&&(this.rtl?(this.pagerdetailsbottom[0].innerHTML=i+this.gridlocalization.pagerrangestring+t+"-"+e,this.pagerdetailstop[0].innerHTML=i+this.gridlocalization.pagerrangestring+t+"-"+e):(this.pagerdetailsbottom[0].innerHTML=e+"-"+t+this.gridlocalization.pagerrangestring+i,this.pagerdetailstop[0].innerHTML=e+"-"+t+this.gridlocalization.pagerrangestring+i)),"default"==this.pagerMode){var v=this.pagerbuttonsbottom.width()+ne(this.pagerdetailsbottom).width()+160;this.pagerdiv.css("min-width",v),this.toppagerdiv.css("min-width",v)}t<e&&this.goToPrevPage()}},_preparecolumnGroups:function(){var e=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var s=this,t=0;t<this.columnGroups.length;t++)this.columnGroups[t].parent=null,this.columnGroups[t].groups=null;for(t=0;t<this.columns.records.length;t++)this.columns.records[t].parent=null,this.columns.records[t].groups=null;var i=function(e){for(var t=0;t<s.columnGroups.length;t++){var i=s.columnGroups[t];if(i.name===e)return i}return null};for(t=0;t<this.columnGroups.length;t++){if((d=this.columnGroups[t]).groups||(d.groups=null),d.parentGroup&&(d.parentgroup=d.parentGroup),d.parentgroup)(r=i(d.parentgroup))&&((d.parent=r).groups||(r.groups=new Array),-1===r.groups.indexOf(d)&&r.groups.push(d))}for(t=0;t<this.columns.records.length;t++){var r;if((d=this.columns.records[t]).columngroup)(r=i(d.columngroup))&&(r.groups||(r.groups=new Array),-1===(d.parent=r).groups.indexOf(d)&&r.groups.push(d))}var n=0;for(t=0;t<this.columns.records.length;t++){var o=d=this.columns.records[t];for(d.level=0;o.parent;)o=o.parent,d.level++;o=d;var a=d.level;for(n=Math.max(n,d.level);o.parent;)(o=o.parent)&&(o.level=--a)}var l=function(e){var t=new Array;if(e.columngroup&&t.push(e),!e.groups)return new Array;for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var s=l(e.groups[i]),r=0;r<s.length;r++)t.push(s[r]);return t};for(t=0;t<this.columnGroups.length;t++){var d=this.columnGroups[t],h=l(d);d.columns=h;for(var c=new Array,u=0,p=0;p<h.length;p++)c.push(this.columns.records.indexOf(h[p])),h[p].pinned&&u++;if(0!=u)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:t<e?1:0});for(var m=1;m<c.length;m++)if(c[m]!=c[m-1]+1)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+n,e=this.columnGroupslevel*this.columnsHeight}return e},wheel:function(e,t){if(t.autoheight&&"hidden"==t.hScrollBar.css("visibility"))return e.returnValue=!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!s&&(s=!1,e.returnValue=s)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;if(e<0?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20),t!=this.vScrollInstance.value)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){t=this.hScrollInstance.value;if(0<e?20<this.hScrollInstance.value?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max),t!=this.hScrollInstance.value)return!0}return!1},_removeHandlers:function(){this.removeHandler(this.host,"focus"),this.removeHandler(ne(window),"jqxReady."+this.element.id),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc);var e="mousedown";this.isTouchDevice()&&(e=ne.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.host,"dragstart."+this.element.id),this.removeHandler(this.host,"keydown"),this.table&&(this.removeHandler(this.table,"mouseleave"),this.removeHandler(this.table,"mousemove"),this.removeHandler(this.table,e),this.removeHandler(this.table,"selectstart."+this.element.id),ne.jqx.browser.msie&&ne.jqx.browser.version<9&&this.removeHandler(this.table,"dblclick"))},_addHandlers:function(){var v=this;this._mousewheelfunc=this._mousewheelfunc||function(e){return v.wheel(e,v),!1},this.addHandler(this.host,"dragstart."+this.element.id,function(e){return!1}),this.addHandler(this.table,"selectstart."+this.element.id,function(e){return!!v.enableBrowserSelection||(!(!v.filterable||!ne(e.target).ischildof(v.filterrow))||(!!(v.rowDetails&&0<ne(e.target).parents("[data-role=details]").length)||null!=v.editKey&&void 0))}),this.addHandler(ne(window),"jqxReady."+this.element.id,function(){v._updatecolumnwidths(),v.refresh()}),this.editable&&this.addHandler(ne(document),"mousedown.gridedit"+this.element.id,function(n){if(v.editable&&v.editSettings.saveOnBlur&&null!=v.editKey&&!v.vScrollInstance.isScrolling()&&!v.vScrollInstance.isScrolling()){var e=v.host.coord(),t=v.host.width(),i=v.host.height(),o=!1,a=!1;if((n.pageY<e.top||n.pageY>e.top+i)&&(a=o=!0),(n.pageX<e.left||n.pageX>e.left+t)&&(o=!0),o){var s=function(e){var t=ne(e.children()[0]).data();if(t&&!t.jqxWidget&&(t=e.data()),t||(t=e.data()),t.jqxWidget&&t.jqxWidget.container&&"block"==t.jqxWidget.container[0].style.display){var i=t.jqxWidget,s=i.container.coord().top,r=i.container.coord().top+i.container.height();return!(!a||!(n.pageY<s||n.pageY>r))&&(o=!0,i.close(),!0)}},r=v._editors;if(r)for(var l=0;l<r.length;l++){var d=r[l].editor,h=s(d),c=d.attr("aria-owns");if(c){if(c==document.activeElement.id)return!0;if(ne(document.activeElement).ischildof(ne("#"+c)))return!0}else if(c=d.children().attr("aria-owns")){if(c==document.activeElement.id)return!0;if(ne(document.activeElement).ischildof(ne("#"+c)))return!0}if(!1===h)return}}o&&v.endroweditbykey(v.editKey)}}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"focus",function(e){e.preventDefault});var t=this.isTouchDevice();this.vScrollInstance.valueChanged=function(e){v._timer&&clearTimeout(v._timer),t?v.table&&(v.table[0].style.top=0-v.vScrollInstance.value+"px"):v._timer=setTimeout(function(){v.table&&(v.table[0].style.top=0-v.vScrollInstance.value+"px")},5)},this.hScrollInstance.valueChanged=function(e){v._timer&&clearTimeout(v._timer),t?v.table&&v._renderhorizontalscroll():v._timer=setTimeout(function(){v.table&&v._renderhorizontalscroll()},5)};var e="mousedown";this.isTouchDevice()&&(e=ne.jqx.mobile.getTouchEventName("touchend"),ne.jqx.browser.msie&&ne.jqx.browser.version<10&&(e="mousedown"));var x=function(e,t){for(var i=null,s=v._table.coord(),r=s.top,n=s.left,o=v._table[0].rows,a=0;a<o.length;a++)for(var l=o[a].cells,d=0;d<l.length;d++){var h=l[d],c=h.offsetLeft+n,u=h.offsetTop+r,p=h.offsetWidth,m=h.offsetHeight;if(0!==p&&0!==m){if(!(u<=t&&t<u+m))break;if(c<=e&&e<c+p){i=h;break}}}return i},n=function(){if(v.hoveredRow){var e=v.hoveredRow[0].cells,t=function(e){for(var t=0;t<e.length;t++){var i=e[t],s=i.className;s=(s=s.replace(" "+v.toTP("jqx-fill-state-hover"),"")).replace(" "+v.toTP("jqx-grid-cell-hover"),""),i.className=s}};if(t(e),v._pinnedTable&&0<e.length)t(v._pinnedTable[0].rows[v.hoveredRow[0].rowIndex].cells)}v.hoveredRow=null};this.addHandler(this.table,"mouseleave",function(e){n(),v.wrapper&&(v.wrapper.parent().removeAttr("tabindex",0),v.wrapper.removeAttr("tabindex",1),v.content.removeAttr("tabindex",2))});var w=function(e){if(!v.enableHover)return!0;if(!(v.hoveredRow=e))return!0;var t=e[0].cells,i=v.rowDetails&&!v.treeGrid&&!v.treeGrid?1:0,s=0;0<i&&v.rtl&&(i=0,s=1);for(var r=i;r<t.length-s;r++){t[r].className+=" "+v.toTP("jqx-fill-state-hover")+" "+v.toTP("jqx-grid-cell-hover")}if(v._pinnedTable&&v._pinnedTable[0].rows.length){var n=v._pinnedTable[0].rows[v.hoveredRow[0].rowIndex].cells;for(r=i;r<n.length-s;r++){n[r].className+=" "+v.toTP("jqx-fill-state-hover")+" "+v.toTP("jqx-grid-cell-hover")}}};v.isTouchDevice()&&(v.enableHover=!1),this.addHandler(this.table,"mousemove",function(e){var t=e.pageX,i=e.pageY;if(v.disabled)return!0;if(!v.enableHover)return!0;if(v.hScrollInstance.isScrolling()||v.vScrollInstance.isScrolling())return!0;var s=x(t,i);if(!s)return!0;var r=ne(s).parent();return n(),v.rowDetails&&v.treeGrid&&"row-details"==r.attr("data-role")||v.renderedRecords&&0===v.renderedRecords.length||null!=v.editKey&&v.editKey===r.attr("data-key")||w(r),!0}),this.addHandler(this.host,"keydown",function(e){return v._handleKey(e)}),ne.jqx.browser.msie&&ne.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(e){v.table.trigger("mousedown",e)}),this.addHandler(this.table,e,function(e){e.target;var t=null;if(v.disabled)return!0;if(!(v.touchmode&&e.originalEvent&&e.originalEvent._pageX)){v.table.coord();var i,s=e.pageX,r=e.pageY;if(ne.jqx.browser.msie&&ne.jqx.browser.version<9&&arguments&&2==arguments.length&&(s=arguments[1].pageX,r=arguments[1].pageY),v.isTouchDevice())if(s=(i=ne.jqx.position(e)).left,r=i.top,isNaN(s)||isNaN(r))s=(i=ne.jqx.position(e.originalEvent)).left,r=i.top;t=x(s,r);var n=ne(t).parent(),o=n.attr("data-key");if(v.rowDetails&&v.treeGrid&&"row-details"==n.attr("data-role"))return!0;var a=function(){v.enableBrowserSelection||(e.preventDefault&&e.preventDefault(),e.stopPropagation()),v.host.focus()};if(void 0!==o){var l=ne(t).index(),d=v.columns.records[l];if(o==v.editKey){if(!v.editSettings.editSingleCell)return!0;if(v.clickedTD==t)return!0;if(null!=v.editKey&&v.editSettings.saveOnSelectionChange&&!v.endroweditbykey(v.editKey))return!0}else{if(null!=v.editKey&&v.editSettings.saveOnSelectionChange)if(!v.endroweditbykey(v.editKey))return!0}if(v.clickedTD=t,(m=v.rowinfo[o])&&m.group)return!0;var h=!1;if(m){var c=v.getrowdisplayindex(m.row),u=v.getrowindex(m.row);v._raiseEvent("rowClick",{index:c,boundIndex:u,key:o,row:m.row,originalEvent:e,dataField:d.datafield});var p=(new Date).getTime();v.clickTime||(v.clickTime=new Date),v._lastSelectedKey==o&&p-v.clickTime.getTime()<300&&(v._raiseEvent("rowDoubleClick",{index:c,boundIndex:u,key:o,row:m.row,originalEvent:e,dataField:d.datafield}),h=!0,e.preventDefault&&e.preventDefault())}if(v.clickTime=new Date,0<=t.className.indexOf("jqx-grid-group"))m.expanded?v.hidedetailsbykey(o):v.showdetailsbykey(o);else if(e.target&&e.target.className.indexOf&&0<=e.target.className.indexOf("jqx-grid-group")&&v.treeGrid)m.expanded?v.treeGrid.collapseRow(o):v.treeGrid.expandRow(o),w(v._getuirow(o)),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault();else{if(!(e.target&&e.target.className.indexOf&&0<=e.target.className.indexOf("checkbox")&&v.treeGrid)){l=ne(t).index(),d=v.columns.records[l];if(e.stopPropagation&&e.stopPropagation(),v.editable&&null==v.editKey&&v._lastSelectedKey==o&&v.editSettings.editOnDoubleClick&&h){v.beginroweditbykey(o,d);return!0}if(v.isTouchDevice()&&v.scrolled&&new Date-v.scrolled<500)return v.enableBrowserSelection||e.preventDefault&&e.preventDefault(),!1;if("singlerow"===v.selectionMode&&"custom"!==v.selectionMode)return v.selectrowbykey(o,"mouse",!1),v._lastSelectedKey=o,v._updateSelection(),e.preventDefault&&e.preventDefault(),a(),!0;if("custom"!==v.selectionMode&&(e.ctrlKey||e.metaKey||v.clearSelection(!1),e.shiftKey&&v._lastSelectedKey)){var m=v.rowinfo[v._lastSelectedKey];v._doSelection(v._lastSelectedKey,!0,!1);var f=ne(v._table.children()[1]).children("[data-key="+v._lastSelectedKey+"]").index(),g=n.index();return v._selectRange(g,f),v.selectrowbykey(o,"mouse",!1),v._updateSelection(),e.preventDefault&&e.preventDefault(),a(),!0}return v._lastSelectedKey=o,v.clickTime=new Date,"custom"===v.selectionMode||(m&&(m.selected?v.unselectrowbykey(o,"mouse",!1):v.selectrowbykey(o,"mouse",!1),a()),v._updateSelection(),v.enableBrowserSelection||e.preventDefault&&e.preventDefault()),!0}m.checked?v.treeGrid.uncheckRow(o):v.treeGrid.checkRow(o),w(v._getuirow(o)),e.stopPropagation&&e.stopPropagation()}}}})},_updateSelection:function(){var e=this,t=ne(e._table.children()[1]).children(),i=e._pinnedTable?ne(e._pinnedTable.children()[1]).children():null,s=e.rowDetails&&!e.treeGrid?1:0,r=0;0<s&&e.rtl&&(s=0,r=1);for(var n=0;n<t.length;n++){var o=t[n].cells;if(i)var a=i[n].cells;var l=null;if(t[n].getAttribute&&(l=t[n].getAttribute("data-key")),e.rowinfo[l]&&"none"!==e.selectionMode)if(e.rowinfo[l].selected)for(var d=s;d<o.length-r;d++){var h=o[d];ne(h).addClass(e.toTP("jqx-grid-cell-selected")+" "+e.toTP("jqx-fill-state-pressed")),a&&ne(a[d]).addClass(e.toTP("jqx-grid-cell-selected")+" "+e.toTP("jqx-fill-state-pressed"))}else for(d=s;d<o.length-r;d++){h=o[d];if(a)var c=a[d];var u=h.className;u=(u=(u=(u=u.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+e.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+e.theme,""),h.className=u,c&&(c.className=u)}}},_selectRange:function(e,t){var i=ne(ne(this._table.children()[1]).children()[t]);if(t<e)for(var s=t,r=i;s<e;){var n=(r=r.next()).attr("data-key");this._doSelection(n,!0,!1),s++}else if(e<t)for(s=t,r=i;e<s;){n=(r=r.prev()).attr("data-key");this._doSelection(n,!0,!1),s--}},_getuikey:function(e,t){var i=null,s=ne(this._table.children()[1]).children();if(i=ne(s[e]).attr("data-key"),ne(s[e]).attr("data-role")){var r=ne(s[e]);if("next"==t)for(;r;){if(r=r.next())if(!r.attr("data-role"))return i=r.attr("data-key")}else if("prev"==t)for(;r;){if(r=r.prev())if(!r.attr("data-role"))return i=r.attr("data-key")}return null}return i},getRows:function(){return this.source.records},getView:function(){var r=this,n=this._names(),e=new Array,o=function(e,t){if(t)for(var i=0;i<t.length;i++)if(t[i]&&!1!==t[i]._visible){var s=ne.extend({},t[i]);e.push(s),t[i][n.expanded]?(s.records=new Array,o(s.records,t[i].records)):0<r.dataview.filters.length&&(s.records=new Array,o(s.records,t[i].records))}};return o(e,this.dataViewRecords),e},getKeys:function(){for(var e=new Array,t=this.source.records,i=0;i<t.length;i++)e.push(t[i].uid);return e},getKey:function(e){var t=this.getRows();return t?t[e].uid:-1},_getkey:function(o){if(this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);var e=null,t=function(){var e=ne(this._table.children()[1]).children(),t=null,i=0;if(this.pageable&&(i-=this.dataview.pagenum*this.dataview.pagesize),0<this.groups.length){for(var s=0,r=0;r<e.length;r++){var n=ne(e[r]);if(!(0<n.children()[0].getAttribute("colspan"))){if(s===i+o)return t=n.attr("data-key");s++}}return t}if(this.rowDetails)for(s=0,r=0;r<e.length;r++){if(s===o+i)return t=ne(e[r]).attr("data-key");r%2==1&&s++}else t=ne(e[i+o]).attr("data-key");return t};if(null==(e=t.call(this))&&this.pageable){var i=Math.floor(o/this.dataview.pagesize);if(this.dataview.pagenum!=i){var s=this.getRows()[o];if(s&&null!=s.uid)return s.uid;if(isNaN(i))return null;this.goToPage(i),e=t.call(this)}}return e},_getuirow:function(t){try{var e=ne(this._table.children()[1]).children("[data-key="+t+"]");if(0<e.length)return e}catch(e){for(var i=ne(this._table.children()[1]).children(),s=0;s<i.length;s++){var r=i[s];if(t==r.getAttribute("data-key"))return ne(r)}return null}return null},_getpinneduirow:function(t){if(!this._pinnedTable)return null;try{var e=ne(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(0<e.length)return e}catch(e){for(var i=ne(this._pinnedTable.children()[1]).children(),s=0;s<i.length;s++){var r=i[s];if(t==r.getAttribute("data-key"))return ne(r)}return null}return null},_names:function(){var e={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};if(!this.source||this.source&&!this.source._source.hierarchy)return e;var t=this.source._source.hierarchy.reservedNames;return t||e},_getMatches:function(i,e){if(null==i||0==i.length)return-1;var t=this.renderedRecords;null!=e&&(t=t.slice(e));var s=0;if(this.rowDetails&&!this.treeGrid&&s++,s<this.columns.records.length)var r=this.columns.records[s].datafield;else new Array;var n=new Array;return ne.each(t,function(e){var t=this[r];t||(t=""),ne.jqx.string.startsWithIgnoreCase(t.toString(),i)&&n.push(this.uid)}),n},_handleKey:function(e){if(this._loading)return!0;if(ne(e.target).ischildof(this.filter))return!0;if(ne(e.target).ischildof(this.toolbar))return!0;if(ne(e.target).ischildof(this.statusbar))return!0;var t=this._names(),r=this,s=e.charCode?e.charCode:e.keyCode?e.keyCode:0,i=this._lastSelectedKey,n=(this.rowinfo[i],this._getuirow(i)),o=e.shiftKey&&"singlerow"!=this.selectionMode,a=e.ctrlKey||e.metaKey;if(n){if(this.handleKeyboardNavigation)if(this.handleKeyboardNavigation(s))return!0;if(this.editable&&null==this.editKey&&113===s&&this.editSettings.editOnF2&&this.beginroweditbykey(n.attr("data-key")),null==this.editKey&&!a&&!o&&this.incrementalSearch&&!(33<=s&&s<=40)){this._searchString||(this._searchString=""),(8==s||46==s)&&1<=this._searchString.length&&(this._searchString=this._searchString.substr(0,this._searchString.length-1));var l=String.fromCharCode(s),d=!isNaN(parseInt(l));if(65<=s&&s<=97||d||8==s||32==s||46==s){if(e.shiftKey||(l=l.toLocaleLowerCase()),8!=s&&32!=s&&46!=s&&(0<this._searchString.length&&this._searchString.substr(0,1)==l||(this._searchString+=l)),32==s&&(this._searchString+=" "),this._searchTime=new Date,1<=(i=this.getSelection()).length){for(var h=i[0].uid,c=-1,u=0;u<this.renderedRecords.length;u++)if(this.renderedRecords[u].uid==h){c=u;break}if(0==(p=this._getMatches(this._searchString,c)).length||0<p.length&&p[0]==h)var p=this._getMatches(this._searchString)}else p=this._getMatches(this._searchString);if(0<p.length){if(1<=(i=this.getSelection()).length){var m=p.indexOf(i[0].uid);if(-1==m)this.clearSelection(!1),this.selectrowbykey(p[0]);else{var f=m+1;f>=p.length&&(f=0),this.clearSelection(!1),this.selectrowbykey(p[f])}}else this.clearSelection(!1),this.selectrowbykey(p[0]);this._lastSearchString=this._searchString}}null!=this._searchTimer&&clearTimeout(this._searchTimer),27!=s&&13!=s||(this._searchString="",this._lastSearchString=""),this._searchTimer=setTimeout(function(){r._searchString="",r._lastSearchString=""},500)}if(null!=this.editKey){if(27===s&&this.editSettings.cancelOnEsc)this.endroweditbykey(this.editKey,!0);else if(13===s&&this.editSettings.saveOnEnter){if(e.target&&"div"!=e.target.nodeName.toLowerCase()&&"input"!=e.target.nodeName.toLowerCase())return!0;this.endroweditbykey(this.editKey,!1)}else if(this.editSettings.editSingleCell&&this.editColumn){var g=this.columns.records.indexOf(this.editColumn);if(9==s&&g<this.columns.records.length-1&&!e.shiftKey){var v=this.editKey,x=null;for(u=g+1;u<this.columns.records.length;u++)if(this.columns.records[u].editable&&!this.columns.records[u].hidden){x=this.columns.records[u];break}x&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(v,x))}else if(9==s&&e.shiftKey&&0<g){v=this.editKey;var w=null;for(u=g-1;0<=u;u--)if(this.columns.records[u].editable&&!this.columns.records[u].hidden){w=this.columns.records[u];break}w&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(v,w))}if(9==s){var y=this.rowinfo[this.editKey];c=this.getrowindex(y),n=this._getuirow(this.editKey);if(e.shiftKey||x){if(!w&&e.shiftKey){for(b=null,u=this.columns.records.length-1;0<=u;u--)if(this.columns.records[u].editable&&!this.columns.records[u].hidden){b=this.columns.records[u];break}if(b){for(;n;){if(n=n.prev())if(!n.attr("data-role")){_=n.attr("data-key");break}}if(_){this.clearSelection(!1),this._lastSelectedKey=_;y=this.rowsByKey[_],c=this.getrowindex(y),j=this.getrowdisplayindex(y);this._raiseEvent("rowSelect",{key:_,index:j,boundIndex:c,row:this.rowsByKey[_]}),this.endroweditbykey(this.editKey,!1),this._doSelection(_,!0,!0),this.beginroweditbykey(_,b)}}}}else{for(var b=null,u=0;u<this.columns.records.length;u++)if(this.columns.records[u].editable&&!this.columns.records[u].hidden){b=this.columns.records[u];break}if(b){for(;n;){if(n=n.next())if(!n.attr("data-role")){var _=n.attr("data-key");break}}if(_){this.clearSelection(!1),this._lastSelectedKey=_;var y=this.rowsByKey[_],c=this.getrowindex(y),j=this.getrowdisplayindex(y);this._raiseEvent("rowSelect",{key:_,index:j,boundIndex:c,row:this.rowsByKey[_]}),this.endroweditbykey(this.editKey,!1)?(this._doSelection(_,!0,!0),this.beginroweditbykey(_,b)):this.beginroweditbykey(this.editKey,b)}}}return!1}}return!0}if(e.ctrlKey||e.metaKey){var q=String.fromCharCode(s).toLowerCase();if("c"==q||"x"==q)if(1<=(i=this.getSelection()).length){for(var T="",C=0;C<this.renderedRecords.length;C++){var S=this.renderedRecords[C];for(u=0;u<i.length;u++){if((y=i[u]).uid===S.uid){for(var k=0;k<this.columns.records.length;k++){T+=this.getCellTextByKey(y.uid,this.columns.records[k].displayfield),k<this.columns.records.length-1&&(T+="\t")}T+="\r\n";break}}}if(""!=T&&(T=T.substring(0,T.length-1)),window.clipboardData)window.clipboardData.setData("Text",T);else{var I=ne('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');I.val(T),ne("body").append(I),I.select(),setTimeout(function(){document.designMode="off",I.select(),I.remove()},100)}}}if(32===s&&this.treeGrid&&this.treeGrid.checkboxes){if(1<(i=this.getSelection()).length){for(u=0;u<i.length;u++){var D=i[u].uid;this.rowinfo[D].checked?this.treeGrid.uncheckRow(D,!1):this.treeGrid.checkRow(D,!1)}return this._renderrows(),!1}if(h=n.attr("data-key"))return this.rowinfo[h].checked?this.treeGrid.uncheckRow(h):this.treeGrid.checkRow(h),!1}var P=n.index(),A=function(e){var t=null,i=ne(r._table.children()[1]).children().length-1,s=ne(ne(r._table.children()[1]).children()[i]);if(s.attr("data-role"))for(;s;){if(s=s.prev())if(!s.attr("data-role")){t=s.attr("data-key");break}}else t=s.attr("data-key");return"all"==e?{row:s,key:t}:t},M=function(e){var t=null,i=ne(ne(r._table.children()[1]).children()[0]);if(i.attr("data-role"))for(;i;){if(i=i.next())if(!i.attr("data-role")){t=i.attr("data-key");break}}else t=i.attr("data-key");return"all"==e?{row:i,key:t}:t},B=(h=null,function(){if(a||o||r.clearSelection(!1),33==s||37==s){var e=P;(h=r._getuikey(e,"prev"))||(h=M())}else if(34==s||39==s){e=P;(h=r._getuikey(e,"next"))||(h=A())}else 38==s?h=A():40==s&&(h=M());r._lastSelectedKey=h;var t=r.rowsByKey[h],i=(e=r.getrowindex(t),r.getrowdisplayindex(t));r._raiseEvent("rowSelect",{key:h,index:i,boundIndex:e,row:r.rowsByKey[h]}),r._doSelection(h,!0,!0),r.host.focus()});if(this.treeGrid&&this.rtl&&(37==s?s=39:39==s&&(s=37)),36==s||a&&38==s)return function(){r.clearSelection(!1);var e=M();o||a?r._selectRange(n.index(),0):r._lastSelectedKey=e,r.selectrowbykey(e,"keyboard")}(),!1;if(35==s||a&&40==s)return function(){r.clearSelection(!1);var e=A("all"),t=e.key;o||a?r._selectRange(n.index(),e.row.index()):r._lastSelectedKey=t,r.selectrowbykey(t,"keyboard")}(),!1;if(33==s||37==s){h=n.attr("data-key");if(this.rowDetails&&37==s&&!this.treeGrid)return this.hidedetailsbykey(h),!1;if(this.treeGrid&&37==s){if(this.rowinfo[h].row&&!this.rowinfo[h].row[t.parent]&&!this.rowinfo[h][t.leaf]&&!this.rowinfo[h].expanded)return!1;if(this.rowinfo[h].expanded&&!this.rowinfo[h][t.leaf])return this.treeGrid.collapseRow(h),!1;if(this.rowinfo[h].row&&this.rowinfo[h].row[t.parent]&&(h=this.rowinfo[h].row[t.parent].uid),this.rowinfo[h][t.leaf])return!1}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToNextPage(B):this.goToPrevPage(B),!1;if(this.treeGrid&&this.pageable&&33==s)return this.goToPrevPage(B),!1}else if(34==s||39==s){h=n.attr("data-key");if(this.rowDetails&&39==s&&!this.treeGrid)return this.showdetailsbykey(h),!1;if(this.treeGrid&&39==s){if(this.rowinfo[h][t.leaf])return!1;if(!this.rowinfo[h].expanded)return this.treeGrid.expandRow(h),!1;if(this.rowinfo[h].row&&this.rowinfo[h].row.records&&0<this.rowinfo[h].row.records.length)if(0<this.dataview.filters.length){var H=this.rowinfo[h].row.records;for(u=0;u<H.length;u++)if(H[u]._visible){h=H[u].uid;break}}else h=this.rowinfo[h].row.records[0].uid}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToPrevPage(B):this.goToNextPage(B),!1;if(this.treeGrid&&this.pageable&&34==s)return this.goToNextPage(B),!1}else if(38==s){for(;n;){if(n=n.prev())if(!n.attr("data-role")){h=n.attr("data-key");break}}if(this.pageable&&null==h)return this.goToPrevPage(B),!1}else if(40==s){for(;n;){if(n=n.next())if(!n.attr("data-role")){h=n.attr("data-key");break}}if(this.pageable&&null==h)return this.goToNextPage(B),!1}if(null!=h){if(a||o||this.clearSelection(!1),this.rowinfo[h]&&this.rowinfo[h].selected&&(a||o)){this._doSelection(this._lastSelectedKey,!1,!1),this._lastSelectedKey=h;y=this.rowsByKey[h],c=this.getrowindex(y);r._updateSelection();j=this.getrowdisplayindex(y);return this._raiseEvent("rowUnselect",{key:h,index:j,boundIndex:c,row:y}),!1}this._lastSelectedKey=h;y=this.rowsByKey[h],c=this.getrowindex(y);this._doSelection(h,!0,!1),r._updateSelection();j=this.getrowdisplayindex(y);if(this._raiseEvent("rowSelect",{key:h,index:j,boundIndex:c,row:y}),this.treeGrid)if(37==s){var z=null;if(n=this._getuirow(h))n.attr("data-role")||(z=n.attr("data-key"));if(this.pageable&&null==z&&0<this.dataview.pagenum)for(;null==this._getuirow(h)&&0<this.dataview.pagenum;)this.goToPrevPage()}else if(39==s){z=null;if(n=this._getuirow(h))n.attr("data-role")||(z=n.attr("data-key"));this.pageable&&null==z&&this.goToNextPage()}return!1}}},_selection:function(e){if("selectionStart"in e[0]){var t=e[0],i=t.selectionEnd-t.selectionStart;return{start:t.selectionStart,end:t.selectionEnd,length:i,text:t.value}}var s=document.selection.createRange();if(null==s)return{start:0,end:t.value.length,length:0};var r=e[0].createTextRange(),n=r.duplicate();r.moveToBookmark(s.getBookmark()),n.setEndPoint("EndToStart",r);i=s.text.length;return{start:n.text.length,end:n.text.length+s.text.length,length:i,text:s.text}},_doSelection:function(e,t,i){if(null!=e){var s;if("singlerow"===this.selectionMode&&this.clearSelection(!1),s=this.rowinfo[e])s.selected=t,this.ensurerowvisiblebykey(e);else this.ensurerowvisiblebykey(e),(s=this.rowinfo[e])?s.selected=t:this.rowinfo[e]={selected:t};"none"!=this.selectionMode&&!1!==i&&this._renderrows()}else this.clearSelection()},clearSelection:function(e){if(this.rowinfo){var t=this.getRows();for(var i in this.rowinfo){var s=this.rowinfo[i];if(s.selected){s.selected=!1;var r=t.indexOf(s.row),n=this.getrowdisplayindex(s.row);this._raiseEvent("rowUnselect",{key:i,index:n,boundIndex:r,row:s.row})}}}!1!==e&&this._renderrows()},exportData:function(h){if(!ne.jqx.dataAdapter.ArrayExporter){if(!this.treeGrid)throw"jqxDataTable: Missing reference to jqxdata.export.js!";throw"jqxTreeGrid: Missing reference to jqxdata.export.js!"}var c=this.exportSettings.columnsHeader;null==c&&(c=!0);var e=this.exportSettings.hiddenColumns;null==e&&(e=!1);var t=this.exportSettings.serverURL,i=this.exportSettings.characterSet,a=this.exportSettings.collapsedRecords;null==a&&(a=!1);var s=this.exportSettings.fileName;void 0===s&&(s=this.treeGrid?"jqxTreeGrid_Data":"jqxDataTable_Data");var u=this,p=this.getRows();if(1==this.exportSettings.recordsInView&&(p=this.getView()),this.treeGrid&&this.treeGrid.virtualModeCreateRecords)p=this.treeGrid.getRows();if(this.groups&&0<this.groups.length){var r=this.source.getGroupedRecords(this.groups,"records","label",null,"data",null,"parent",p),o=function(e,t){for(var i=0;i<e.length;i++){var s=ne.extend({},e[i]);if(t.push(s),s.records&&0<s.records.length)for(var r=o(s.records,new Array),n=0;n<r.length;n++)r[n].leaf,t.push(r[n])}return t},n=o.call(this,r,new Array);p=n}if(0==p.length)throw"No data to export.";this.exporting=!0,this.altRows&&this._renderrows();for(var m=new Array,l=0;l<this.columns.records.length;l++)!e&&this.columns.records[l].hidden||m.push(ne.extend({},this.columns.records[l]));if(this.groups&&0<this.groups.length&&0<m.length){var d=this._names();for(l=0;l<p.length;l++)p[l][d.leaf]||(u.rtl?p[l][m[m.length-1].displayfield]=p[l].label:p[l][m[0].displayfield]=p[l].label)}var f=0;if(this.treeGrid){var g=this.treeGrid.getRows();1==this.exportSettings.recordsInView&&(g=this.getView());d=this._names();var v=function(e){for(var t=0;t<e.length;t++){var i=e[t],s=i[d.expanded]||!i[d.expanded]&&a;f=Math.max(f,1+i[d.level]),i.records&&0<i.records.length&&s&&v(e[t].records)}};if(v(g),"xml"!=h&&"json"!=h){var x=m.length;for(l=0;l<f;l++){(O=new K(this,this)).width=this.indentWidth,O.datafield="Level"+l,O.displayfield="Level"+l,O.align="center",O.cellsalign="center",O.text="",this.rtl?m.splice(x,0,O):m.splice(l,0,O)}var w=new Array,y=!(!this.source._source.hierarchy||!this.source._source.hierarchy.groupingDataFields),b=function(e){for(var t=0;t<e.length;t++){for(var i=ne.extend({},e[t]),s=0;s<i[d.level];s++)i["Level"+s]="";var r=i[d.expanded]||!i[d.expanded]&&a;("xls"==h||"html"==h||"pdf"==h)&&i.records&&0<i.records.length?i["Level"+i[d.level]]=r?"-":"+":i["Level"+i[d.level]]="",i[d.leaf]&&(i["Level"+i[d.level]]="");for(s=i[d.level]+1;s<f;s++)i["Level"+s]="";if(y&&!i[d.leaf]&&(u.rtl?i[m[m.length-f-1].displayfield]=i.label:i[m[f].displayfield]=i.label),i.aggregate){var n="xls"==h?"_AG":"";for(s=f;s<m.length;s++){var o=s;u.rtl&&(o=m.length-s-1),null!=i[m[o].displayfield]&&(i[m[o].displayfield]=n+i[m[o].displayfield])}}w.push(i),r&&!i[d.leaf]&&b(i.records)}};b(g),p=w}else p=g}var _=null!=e&&e,j={},q={},T=this.host.find(".jqx-grid-cell:first"),C=this.host.find(".jqx-grid-cell-alt:first"),S=this.toThemeProperty;T.removeClass(S("jqx-grid-cell-selected")),T.removeClass(S("jqx-fill-state-pressed")),C.removeClass(S("jqx-grid-cell-selected")),C.removeClass(S("jqx-fill-state-pressed")),T.removeClass(S("jqx-grid-cell-hover")),T.removeClass(S("jqx-fill-state-hover")),C.removeClass(S("jqx-grid-cell-hover")),C.removeClass(S("jqx-fill-state-hover"));for(var k="cell",I=1,D=1,P=[],A=0;A<m.length;A++){if(""!=(O=m[A]).cellclassname)if(O.customCellStyles=new Array,"string"==typeof O.cellclassname)O.customCellStyles.push(O.cellclassname);else for(l=0;l<p.length;l++){var M=l,B=O.cellclassname(M,O.displayfield,p[l][O.displayfield],p[l]);B&&(O.customCellStyles[l]=B)}}if(ne.each(m,function(e){var t=e;u.treeGrid&&(f<=e?t=m.length-f-1:0<f&&e<f&&(t=0));var i=ne(u._table[0].rows[0].cells[t]);if(1<u._table[0].rows.length&&0==(s=ne(u._table[0].rows[1].cells[t])).length)var s=ne(u._table[0].rows[1].cells[0]);if(0==i.length)i=ne(u._table[0].rows[0].cells[0]);var r=this,n=function(e){var t=u.toThemeProperty;if(e.removeClass(t("jqx-cell")),e.removeClass(t("jqx-grid-cell-selected")),e.removeClass(t("jqx-fill-state-pressed")),e.removeClass(t("jqx-grid-cell-hover")),e.removeClass(t("jqx-fill-state-hover")),r.customCellStyles)for(var i in r.customCellStyles)e.removeClass(r.customCellStyles[i])};if(n(i),s&&n(s),null==this.displayfield)return!0;u.showAggregates&&u.getcolumnaggregateddata&&P.push(u.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,p));var d=u._getexportcolumntype(this);!this.exportable||this.hidden&&!_||(j[this.displayfield]={},j[this.displayfield].text=this.text,j[this.displayfield].width=parseInt(this.width),isNaN(j[this.displayfield].width)&&(j[this.displayfield].width=60),500<j[this.displayfield].width&&(j[this.displayfield].width=500),j[this.displayfield].formatString=this.cellsFormat,j[this.displayfield].localization=u.gridlocalization,j[this.displayfield].type=d,j[this.displayfield].cellsAlign=this.cellsalign,j[this.displayfield].hidden=!c,j[this.displayfield].index=t,j[this.displayfield].maxIndex=m.length),k="cell"+I;var o=this.element;if("json"!=h&&"xml"!=h){var a=function(e,t,i,s,r,n,o,a,l){q[e]={index:1+o,maxIndex:m.length},n.rtl&&(q[e].index=m.length-o),"html"!=h&&"xls"!=h&&"pdf"!=h||(t&&(q[e]["font-size"]=t.css("font-size"),q[e]["font-weight"]=t.css("font-weight"),q[e]["font-style"]=t.css("font-style"),q[e]["background-color"]=n._getexportcolor(t.css("background-color")),q[e].color=n._getexportcolor(t.css("color")),q[e]["border-color"]=n._getexportcolor(t.css("border-top-color"))),i?q[e]["text-align"]=r.align:(q[e]["text-align"]=r.cellsalign,q[e].formatString=r.cellsFormat,q[e].dataType=d),"html"!=h&&"pdf"!=h||(q[e]["border-top-width"]="0px",n.rtl?(q[e]["border-left-width"]="1px",q[e]["border-right-width"]="0px",o==m.length-f-1&&i&&(q[e]["border-right-width"]="1px")):(q[e]["border-left-width"]="0px",q[e]["border-right-width"]="1px"),q[e]["border-bottom-width"]="1px",t&&(q[e]["border-top-style"]=t.css("border-top-style"),q[e]["border-left-style"]=t.css("border-left-style"),q[e]["border-right-style"]=t.css("border-right-style"),q[e]["border-bottom-style"]=t.css("border-bottom-style")),i?(0!=o||n.rtl?o==m.length-1&&n.rtl&&(q[e]["border-right-width"]="1px"):q[e]["border-left-width"]="1px",t&&(q[e]["border-top-width"]="1px",q[e]["border-bottom-width"]=t.css("border-bottom-width"))):0!=o||n.rtl?o==m.length-1&&n.rtl&&(q[e]["border-right-width"]="1px"):q[e]["border-left-width"]="1px",t&&(q[e].height=t.css("height")),n.treeGrid&&!i&&(q[e].index-1<f?n.rtl?q[e]["border-left-width"]="0px":q[e]["border-right-width"]="0px":q[e].index-1==f&&(n.rtl?q[e]["border-right-width"]="0px":q[e]["border-left-width"]="0px")))),!r.exportable||r.hidden&&!_||(1==a?(j[r.displayfield].customCellStyles||(j[r.displayfield].customCellStyles=new Array),j[r.displayfield].customCellStyles[l]=e):i?j[r.displayfield].style=e:s?j[r.displayfield].cellAltStyle=e:j[r.displayfield].cellStyle=e)};if(a("column"+D,o,!0,!1,this,u,e),D++,a(k,i,!1,!1,this,u,e),u.altRows&&a(k="cellalt"+I,s,!1,!0,this,u,e),this.customCellStyles){for(var l in r.customCellStyles)i.removeClass(r.customCellStyles[l]);for(var l in r.customCellStyles)i.addClass(r.customCellStyles[l]),a(k+r.customCellStyles[l],i,!1,!1,this,u,e,!0,l),i.removeClass(r.customCellStyles[l])}I++}}),"json"!=h&&"xml"!=h&&0<f&&this.treeGrid){var H=f+1;if(this.rtl&&(H=m.length-f),q["column"+H]){var z=q["column"+H];z.merge=f,z["border-left-width"]="1px";for(q["cell"+H],l=0;l<m.length;l++){H=l+1;if(this.rtl&&(H=m.length-l),q["column"+H].level=l,q["column"+H].maxLevel=f,q["cell"+H].maxLevel=f,(O=m[l]).customCellStyles)for(var E in O.customCellStyles)q["cell"+H+O.customCellStyles[E]]&&(q["cell"+H+O.customCellStyles[E]].maxLevel=f);q["cellalt"+H]&&(q["cellalt"+H].maxLevel=f)}for(l=0;l<f;l++){H=l+1;var O,N=l;if(this.rtl&&(H=m.length-l),(L=q["column"+H]).disabled=!0,q["cell"+H].level=N,q["cell"+H].maxLevel=f,q["column"+H].level=N,q["cellalt"+H]&&(q["cellalt"+H].level=N,q["cellalt"+H].maxLevel=f),(O=m[l]).customCellStyles)for(var E in O.customCellStyles)q["cell"+H+O.customCellStyles[E]]&&(q["cell"+H+O.customCellStyles[E]].maxLevel=f,q["cell"+H+O.customCellStyles[E]].level=N);if(("html"==h||"pdf"==h||"xls"==h)&&(L["font-size"]=z["font-size"],L["font-weight"]=z["font-weight"],L["font-style"]=z["font-style"],L["background-color"]=z["background-color"],L.color=z.color,L["border-color"]=z["border-color"],"html"==h||"pdf"==h)){L["border-top-width"]=z["border-top-width"],L["border-left-width"]=z["border-left-width"],this.rtl&&(L["border-right-width"]=z["border-right-width"],0==l&&(L["border-right-width"]="1px")),0!=l||this.rtl?0==l&&this.rtl&&(L["border-left-width"]="0px"):L["border-left-width"]="0px",this.rtl?this.rtl&&(L["border-left-width"]="0px"):L["border-right-width"]="0px",L["border-bottom-width"]="0px";var L=q["cell"+H];this.rtl?this.rtl&&(L["border-left-width"]="0px"):L["border-right-width"]="0px"}}}}if(this.showAggregates){var R=[],F="xls"==h?"_AG":"",W=0;this.rowDetails&&!this.treeGrid&&W++,0<P.length&&(ne.each(m,function(e){if(this.aggregates)for(var t=0;t<this.aggregates.length;t++)if(R[t]||(R[t]={}),R[t]){var i=u._getaggregatename(this.aggregates[t]),s=u._getaggregatetype(this.aggregates[t]),r=P[e-W];r&&(R[t][this.displayfield]=F+i+": "+r[s])}}),ne.each(m,function(e){for(var t=0;t<R.length;t++)null==R[t][this.displayfield]&&(R[t][this.displayfield]=F)})),ne.each(R,function(){p.push(this)})}var V=this,G=ne.jqx.dataAdapter.ArrayExporter(p,j,q,t,this.treeGrid&&("xml"==h||"json"==h));if(null==s){this._renderrows();var U=this.treeGrid&&("xml"==h||"json"==h),Y=G.exportTo(h,this.treeGrid&&("xml"==h||"json"==h));return this.showAggregates&&ne.each(R,function(){p.pop(this)}),setTimeout(function(){V.exporting=!1},50),Y}U=this.treeGrid&&("xml"==h||"json"==h);G.exportToFile(h,s,t,i,U),this.showAggregates&&ne.each(R,function(){p.pop(this)}),this._renderrows(),setTimeout(function(){V.exporting=!1},50)},_getexportcolor:function(e){var t=e;if("transparent"==e&&(t="#FFFFFF"),t&&t.toString()||(t="#FFFFFF"),-1!=t.toString().indexOf("rgb")){var i=t.split(",");if(-1!=t.toString().indexOf("rgba")){var s=parseInt(i[0].substring(5)),r=parseInt(i[1]),n=parseInt(i[2]),o=parseInt(i[3].substring(1,4)),a={r:s,g:r,b:n},l=this._rgbToHex(a);return 0==s&&0==r&&0==n&&0==o?"#ffffff":"#"+l}a={r:s=parseInt(i[0].substring(4)),g:r=parseInt(i[1]),b:n=parseInt(i[2].substring(1,4))};return"#"+(l=this._rgbToHex(a))}if(-1!=t.toString().indexOf("#")&&4==t.toString().length){var d=t.toString().substring(1,4);t+=d}return t},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},_getexportcolumntype:function(e){var t="string",i=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(i){var s="";if(ne.each(i,function(){if(this.name==e.displayfield)return this.type&&(s=this.type),!1}),s)return s}if(null!=e){if(null==this.dataview.cachedrecords)return t;var r=null;if(this.virtualmode)ne.each(this.dataview.cachedrecords,function(){return r=this[e.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return t;if(null!=(r=this.dataview.cachedrecords[0][e.displayfield])&&""==r.toString())return"string"}if(null!=r){if(-1!=e.cellsFormat.indexOf("c"))return"number";if(-1!=e.cellsFormat.indexOf("n"))return"number";if(-1!=e.cellsFormat.indexOf("p"))return"number";if(-1!=e.cellsFormat.indexOf("d"))return"date";if(-1!=e.cellsFormat.indexOf("y"))return"date";if(-1!=e.cellsFormat.indexOf("M"))return"date";if(-1!=e.cellsFormat.indexOf("m"))return"date";if(-1!=e.cellsFormat.indexOf("t"))return"date";if("boolean"==typeof r)t="boolean";else if(ne.jqx.dataFormat.isNumber(r))t="number";else{var n=new Date(r);if("NaN"==n.toString()||"Invalid Date"==n.toString())if(ne.jqx.dataFormat){if(null!=(n=ne.jqx.dataFormat.tryparsedate(r))){if(n&&n.getFullYear()&&1970==n.getFullYear()&&0==n.getMonth()&&1==n.getDate()){var o=new Number(r);return isNaN(o)?"string":"number"}return"date"}t="string"}else t="string";else t="date"}}}return t},showDetails:function(e){var t=this._getkey(e);this.showdetailsbykey(t)},hideDetails:function(e){var t=this._getkey(e);this.hidedetailsbykey(t)},setCellValueByKey:function(e,t,i){var s=this.rowsByKey[e],r=this.getrowindex(s),n=s;if(null!=n&&n[t]==i)return!1;if(null==n||null!==n[t]||""!==i){var o="";if(null!=n&&n[t]!==i){var a,l=this.getColumn(t),d="string";if(f=this.source.datafields||(this.source._source?this.source._source.datafields:null)){var h="";ne.each(f,function(){if(this.name==l.displayfield)return this.type&&(h=this.type),!1}),h&&(d=h)}if(o=n[t],!l.nullable||null!=i&&""!==i&&l.nullable&&void 0===i.label){if(ne.jqx.dataFormat.isNumber(o)||"number"==d||"float"==d||"int"==d||"decimal"==d&&"date"!=d)i=new Number(i),i=parseFloat(i),isNaN(i)&&(i=0);else if((ne.jqx.dataFormat.isDate(o)||"date"==d)&&""!=i){var c=i;"Invalid Date"!=(c=new Date(c))&&null!=c?i=c:"Invalid Date"==c&&(i=c=new Date)}if(n[t]===i)return}if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,n[t]=i,this.treeGrid)(a=this.treeGrid.getRow(e))&&(a[t]=i);if(null!=i&&null!=i.label)if(n[(l=this.getColumn(t)).displayfield]=i.label,n[t]=i.value,this.treeGrid)(a=this.treeGrid.getRow(e))&&(a[l.displayfield]=i.label,a[t]=i.value)}if(this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var u=r,p=this.source._source._localdata()[u];this.source.suspendKO=!0;var m=p;if(m[t]&&m[t].subscribe)null!=i&&null!=i.label?(m[l.displayfield](i.label),m[t](i.value)):m[t](i);else{var f=this.source._source.datafields,g=null;if(f&&ne.each(f,function(){if(this.name==t)return g=this.map,!1}),null==g)null!=i&&null!=i.label?(m[t]=i.value,m[l.displayfield]=i.label):m[t]=i;else{var v=g.split(this.source.mapChar);if(0<v.length){for(var x=m,w=0;w<v.length-1;w++)x=x[v[w]];x[v[v.length-1]]=i}}this.source._source._localdata.replace(p,ne.extend({},m))}this.source.suspendKO=!1}if(this.source.updaterow&&(null==sync||1==sync)){try{var y=e;null==this.source.updaterow(y,n,function(e){0==e&&this.setCellValue(s,t,o,!0,!1)})&&!0}catch(e){return!1,void this.setCellValue(s,t,o)}}var b=this.getrowdisplayindex(s);l=this.getColumn(t);this._raiseEvent("cellValueChanged",{value:i,oldValue:o,dataField:t,displayField:l.displayfield,key:e,boundIndex:r,index:b,row:this.rowsByKey[e]}),this.editable&&null!=this.editKey||this._renderrows()}},setCellValue:function(e,t,i){if(null==e||null==t)return!1;var s=parseInt(e),r=this._getkey(s);this.setCellValueByKey(r,t,i)},getCellText:function(e,t){if(null==e||null==t)return!1;var i=parseInt(e),s=this._getkey(i);return this.getCellTextByKey(s,t)},getCellTextByKey:function(e,t){if(null==e||null==t)return null;var i=this.getCellValueByKey(e,t),s=this.getColumn(t);return s&&""!=s.cellsFormat&&ne.jqx.dataFormat&&(ne.jqx.dataFormat.isDate(i)?i=ne.jqx.dataFormat.formatdate(i,s.cellsFormat,this.gridlocalization):(ne.jqx.dataFormat.isNumber(i)||!isNaN(parseFloat(i))&&isFinite(i))&&(i=ne.jqx.dataFormat.formatnumber(i,s.cellsFormat,this.gridlocalization))),i},getCellValue:function(e,t){if(null==e||null==t)return!1;var i=parseInt(e),s=this._getkey(i);return this.getCellValueByKey(s,t)},getCellValueByKey:function(e,t){var i=this.rowsByKey[e];!i&&this.treeGrid&&(i=this.treeGrid.getRow(e));this.getrowindex(i);return null!=i?i[t]:null},beginRowEdit:function(e){var t=this._getkey(e);this.beginroweditbykey(t)},beginCellEdit:function(e,t){var i=this._getkey(e),s=this.getColumn(t);this.beginroweditbykey(i,s)},endCellEdit:function(e,t,i){this.endRowEdit(e,i)},endRowEdit:function(e,t){var i=this._getkey(e);this.endroweditbykey(i,t)},getrowindex:function(e){var t=this.getRows().indexOf(e);if(-1!=t)return t;if(this.groups&&0<this.groups.length)for(var i=this.getRows(),s=0;s<i.length;s++)if(e.originalRecord){if(i[s].uid==e.originalRecord.uid){t=s;break}}else if(i[s].uid==e.uid){t=s;break}return t},getrowdisplayindex:function(e){if(this.treeGrid)return-1;var t=this.getView(),i=t.indexOf(e);if(-1!=i)return i;if(null==e)return i;for(var s=t,r=0;r<s.length;r++)if(s[r].uid==e.uid||e.originalRecord&&s[r].uid==e.originalRecord.uid){i=r;break}return i},beginroweditbykey:function(e,t){if(this.beginEdit&&!1===this.beginEdit(e,t))return!1;var i=this.treeGrid?this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0:this.groups.length;if(0<i){var s=this.rowsByKey[e];if(this.treeGrid)s=this.treeGrid.getRow(e);if(s.level<i)return!1}if(null==this._lastSelectedKey&&this.selectrowbykey(e),this.editKey===e&&null!=this.editKey)return!1;if(this.rowinfo[e]&&this.rowinfo[e].locked)return!1;if(null!=this.editKey)return this.endroweditbykey(e,!0),!1;var r=this.editSettings.editSingleCell;if(!t&&r&&this.columns.records&&0<this.columns.records.length){for(var n=0;n<this.columns.records.length&&(!(t=this.columns.records[n]).editable||t.hidden);n++);if(!t)return!1}if(r&&t&&!t.editable)return this.editKey=null,!1;r&&(this.editColumn=t);var d=this;s=this.rowsByKey[e];if(this.treeGrid)s=this.treeGrid.getRow(e);var o=this.getrowindex(s),a=this._getuirow(e),l=this._getpinneduirow(e);this._editors=new Array;var h=!1;if(a){var c=a[0].cells,u=0;for(n=0;n<c.length;n++){var p=this.columns.records[n],m=c[n];if(!p.rowDetailscolumn&&!(p.checkboxcolumn||(p.pinned&&(m=l[0].cells[n]),r&&t&&p.datafield!=t.datafield||(ne(m).removeClass(this.toTP("jqx-grid-cell-selected")),ne(m).removeClass(this.toTP("jqx-fill-state-pressed")),ne(m).removeClass(this.toTP("jqx-grid-cell-hover")),ne(m).removeClass(this.toTP("jqx-fill-state-hover")),"none"==p.columntype)))){var f=ne(m).outerWidth(),g=ne(m).width();0===u&&(u=ne(m).outerHeight()-1),ne(m).css("padding","0px"),cellContent="<div style='height:"+u+"px; width: 100%; overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 9999;'></div>";var v=this.getCellTextByKey(e,p.displayfield);m.innerHTML=cellContent;var x=ne(m.firstChild);switch(p.columntype){case"textbox":case"default":var w=ne("<input style='border: none;' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox'/>").appendTo(x);if(this.rtl&&w.css("direction","rtl"),w.addClass(this.toThemeProperty("jqx-input")),w.addClass(this.toThemeProperty("jqx-widget-content")),w.addClass(this.toThemeProperty("jqx-cell-editor")),w[0].onfocus=function(t){setTimeout(function(){var e;t?0<=(e=ne(t.target).parent().parent().index())&&d.ensureColumnVisible(d.columns.records[e].datafield):0<=(e=ne(document.activeElement).parent().parent().index())&&d.ensureColumnVisible(d.columns.records[e].datafield);d.content&&(d.content[0].scrollTop=0,d.content[0].scrollLeft=0),d.gridcontent&&(d.gridcontent[0].scrollLeft=0,d.gridcontent[0].scrollTop=0)},10)},p.editable){if(!h){h=!0;var y=ne.jqx.browser.msie&&10<ne.jqx.browser.version;y||w.focus();var b=w;setTimeout(function(){var e=b.val().length;y||b.focus();try{if("selectionStart"in b[0])b[0].setSelectionRange(0,e);else{var t=b[0].createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",0),t.select()}}catch(e){}},10)}}else w.attr("disabled",!0),w.attr("readOnly",!0),w.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(w.width(g),w.height(u),ne.jqx.browser.msie&&ne.jqx.browser.version<9&&w.css("line-height",parseInt(u)+"px"),w.css("text-align",p.cellsalign),null===v&&(v=""),null==v&&(v=""),w.val(v),p.createeditor){var _=v;v=this.getCellValueByKey(e,p.displayfield);p.createeditor(this.treeGrid?e:o,v,w,_,g,u)}if(this._editors.push({column:p,editor:w}),""!=p.cellsFormat&&(-1==p.cellsFormat.indexOf("p")&&-1==p.cellsFormat.indexOf("c")&&-1==p.cellsFormat.indexOf("n")&&-1==p.cellsFormat.indexOf("f")||w.keydown(function(e){var t=e.charCode?e.charCode:e.keyCode?e.keyCode:0,i=String.fromCharCode(t),s=parseInt(i);if(isNaN(s))return!0;if(0<d._selection(w).length)return!0;var r="",n=w.val();if(1<p.cellsFormat.length){var o=parseInt(p.cellsFormat.substring(1));isNaN(o)&&(o=0)}else o=0;if(0<o&&-1!=n.indexOf(d.gridlocalization.decimalseparator)&&d._selection(w).start>n.indexOf(d.gridlocalization.decimalseparator))return!0;for(var a=0;a<n.length-o;a++){var l=n.substring(a,a+1);null!=l.match(/^[0-9]+$/)&&(r+=l)}return!(11<=r.length)&&void 0})),p.initeditor){_=v,v=this.getCellValueByKey(e,p.displayfield);p.initeditor(this.treeGrid?e:o,v,w,_,g,u)}break;case"custom":case"template":this.editorsCache||(this.editorsCache=new Array);var j=ne("<div style='width: 100%; height: 100%; border: none;'></div>").appendTo(x),q=ne.trim(p.datafield).split(" ").join("");-1!=q.indexOf(".")&&(q=q.replace(".",""));var T=this.editorsCache["templateeditor_"+q];if("custom"==p.columntype)T=this.editorsCache["customeditor_"+q+"_"+e];_=v,v=this.getCellValueByKey(e,p.displayfield);if(T)(w=T).width(f),w.height(u),w.appendTo(j);else(w=ne("<div style='border: none;'></div>")).width(f),w.height(u),T=w,null===v&&(v=""),"custom"!=p.columntype?this.editorsCache["templateeditor_"+q]=w:this.editorsCache["customeditor_"+q+"_"+e]=w,w.appendTo(j),p.createeditor&&p.createeditor(this.treeGrid?e:o,v,w,_,f,u);p.initeditor&&p.initeditor(this.treeGrid?e:o,v,w,_,f,u),this._editors.push({column:p,editor:w})}}}}this.editKey=e,this.beginUpdate();var C=this.getrowdisplayindex(s);if(this._raiseEvent("rowBeginEdit",{key:e,index:C,boundIndex:o,row:this.rowsByKey[e]}),r){var S=null,k=null;(s=this.rowsByKey[e])&&(S=s[t.datafield],k=s[t.displayfield]),this._raiseEvent("cellBeginEdit",{value:S,displayValue:k,key:e,index:C,dataField:t.datafield,displayField:t.displayfield,boundIndex:o,row:this.rowsByKey[e]})}this.endUpdate(!1)},_toNumber:function(e){e.indexOf||null==e||(e=e.toString()),-1<e.indexOf(this.gridlocalization.currencysymbol)&&(e=e.replace(this.gridlocalization.currencysymbol,""));-1<(e=(e=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s}(e,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)&&(e=e.replace(this.gridlocalization.percentsymbol,""));for(var t="",i=0;i<e.length;i++){var s=e.substring(i,i+1);"-"===s&&(t+="-"),"."===s&&(t+="."),null!=s.match(/^[0-9]+$/)&&(t+=s)}return e=(e=t).replace(/ /g,"")},_geteditorvalue:function(e,t,i,s){var r=new String;if(t){if(!e.geteditorvalue)switch(e.columntype){case"textbox":default:if(r=t.val(),""!=e.cellsFormat){var n="string",o=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(o){var a="";ne.each(o,function(){if(this.name==e.displayfield)return this.type&&(a=this.type),!1}),a&&(n=a)}var l="date"===n||"time"===n;if("number"===n||"float"===n||"int"===n||"integer"===n||"string"===n&&(-1!=e.cellsFormat.indexOf("p")||-1!=e.cellsFormat.indexOf("c")||-1!=e.cellsFormat.indexOf("n")||-1!=e.cellsFormat.indexOf("f"))){if(""===r&&e.nullable)return"";r=this._toNumber(r),r=new Number(r),isNaN(r)&&(r="")}if(l||"string"===n&&(-1!=e.cellsFormat.indexOf("H")||-1!=e.cellsFormat.indexOf("m")||-1!=e.cellsFormat.indexOf("M")||-1!=e.cellsFormat.indexOf("y")||-1!=e.cellsFormat.indexOf("h")||-1!=e.cellsFormat.indexOf("d"))){if(""===r&&e.nullable)return"";var d=r;("Invalid Date"==(r=new Date(r))||null==r||1<e.cellsFormat.length)&&(ne.jqx.dataFormat&&(r=ne.jqx.dataFormat.parsedate(d,e.cellsFormat,this.gridlocalization)),"Invalid Date"!=r&&null!=r||(r=""))}}e.displayfield!=e.datafield&&(r={label:r,value:r})}if(e.geteditorvalue){var h=this.getCellValueByKey(s,e.displayfield);r=e.geteditorvalue(this.treeGrid?s:i,h,t)}}return r},_validateEditors:function(e){for(var t=this,i=!0,s=t.rowsByKey[e],r=t.getrowindex(s),n=t._editors,o=(e=t.editKey,t._getuirow(e)),a=0;a<n.length;a++){var l=n[a].editor,d=n[a].column,h=t._geteditorvalue(d,l,r,e);if(d.validation){l.removeClass(t.toThemeProperty("jqx-grid-validation-label"));var c=d.datafield;try{var u=d.validation({value:h,row:e,datafield:d.datafield,displayfield:d.displayfield,column:d},h),p=t.gridlocalization.validationstring;null!=u.message&&(p=u.message),("boolean"==typeof u?u:u.result)||(null!=u.showmessage&&1!=u.showmessage||t._showvalidationpopup(o,c,p,l),i=!1)}catch(e){t._showvalidationpopup(o,c,t.gridlocalization.validationstring,l),i=!1}}}return i},endroweditbykey:function(c,e){var u=this;if(null!==u.editKey){if(this.endEdit)if(!1===this.endEdit(c))return;var p=u.rowsByKey[c],m=u.getrowindex(p),f=u._editors,g=u.editKey;u._getuirow(g);if(!0!==e){var t=!0;if(f&&(t=u._validateEditors(g))){for(var i=ne.extend({},p),v=ne.extend({},p),s=0;s<f.length;s++){var r=f[s].editor,n=f[s].column,o=u._geteditorvalue(n,r,m,g);o&&null!=o.label?(i[n.displayfield]=o.label,i[n.datafield]=o.value):i[n.displayfield]=o}u.updaterowbykey(u.editKey,i,!1,function(){u.dataview._sortHierarchyData=null,u.dataview._sortData=null;for(var e=0;e<f.length;e++){var t=f[e].editor,i=f[e].column,s=u._geteditorvalue(i,t,m,g),r=v[i.displayfield];if(s&&null!=s.label?(p[i.displayfield]=s.label,p[i.datafield]=s.value):p[i.displayfield]=s,u.treeGrid){var n=u.treeGrid.getRow(g);n&&(n[i.displayfield]=s)}if(u.editorsCache){var o=function(e){if(e&&e.jqxWidget){var t=e.jqxWidget.element.className;(0<=t.indexOf("dropdownlist")||0<=t.indexOf("datetimeinput")||0<=t.indexOf("combobox")||0<=t.indexOf("menu"))&&e.jqxWidget.isOpened&&e.jqxWidget.isOpened()&&e.jqxWidget.close()}},a="customeditor_"+i.displayfield+"_"+c,l="templateeditor_"+i.displayfield;if(u.editorsCache[a]){var d=ne(u.editorsCache[a]).data(),h=u.editorsCache[a];!d.jqxWidget&&ne(h).children()[0]&&ne(ne(h).children()[0]).data().jqxWidget&&(d=ne(ne(h).children()[0]).data()),o(d),u.editorsCache[a].detach()}u.editorsCache[l]&&(u.editorsCache[l].detach(),d=ne(u.editorsCache[l]).data(),h=u.editorsCache[l],!d.jqxWidget&&ne(h).children()[0]&&ne(ne(h).children()[0]).data().jqxWidget&&(d=ne(ne(h).children()[0]).data()),o(d))}s!=r&&(u.beginUpdate(),u._raiseEvent("cellValueChanged",{value:s,oldValue:r,dataField:i.datafield,displayField:i.displayfield,key:c,index:m,row:p}),u.endUpdate(!1))}})}if(!t)return!1}return u._detachEditors(g),!0}},_detachEditors:function(e){var t=this,i=t.rowsByKey[e],s=t.getrowindex(i);if(t.editorsCache)for(var r in t.editorsCache){var n=ne(t.editorsCache[r]).data();if(n&&n.jqxWidget){var o=n.jqxWidget.element.className;if(0<=o.indexOf("dropdownlist")||0<=o.indexOf("datetimeinput")||0<=o.indexOf("combobox")||0<=o.indexOf("menu"))if(n.jqxWidget.isOpened)n.jqxWidget.isOpened()&&n.jqxWidget.close()}ne(t.editorsCache[r]).detach()}t.beginUpdate();var a=t.getrowdisplayindex(i);if(t.editSettings.editSingleCell){var l=null,d=null;(i=t.rowsByKey[e])&&(l=i[t.editColumn.datafield],d=i[t.editColumn.displayfield]),t._raiseEvent("cellEndEdit",{value:l,displayValue:d,key:e,index:a,dataField:t.editColumn.datafield,displayField:t.editColumn.displayfield,boundIndex:s,row:t.rowsByKey[e]})}t._raiseEvent("rowEndEdit",{key:e,index:a,boundIndex:s,row:t.rowsByKey[e]}),t.endUpdate(!1),t.editColumn=null,t.editKey=null,t._renderrows(),t._renderhorizontalscroll(),t.host.focus(),setTimeout(function(){t.host.focus()},10)},_showvalidationpopup:function(e,t,i,s){if(null==i)i=this.gridlocalization.validationstring;s.addClass(this.toThemeProperty("jqx-grid-validation-label"));var r=ne("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),n=ne("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");r.html(i),n.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),r.addClass(this.toThemeProperty("jqx-grid-validation")),r.addClass(this.toThemeProperty("jqx-rc-all")),r.hide(),n.hide(),r.prependTo(this.table),n.prependTo(this.table);var o=this.hScrollInstance.value,a=parseInt(o),l=this.getColumn(t).uielement;if(e){var d=e;r.css("top",parseInt(d.position().top)+30+"px");var h=parseInt(r.css("top"));n.css("top",h-11),n.removeClass(),n.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var c=!1;h>=this._table.height()&&(n.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),n.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),(h=parseInt(d.position().top)-d.outerHeight()-5)<0&&(h=0,n.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),c=!0),r.css("top",h+"px"),n.css("top",h+r.outerHeight()-9));var u=-a+parseInt(ne(l).position().left),p=parseInt(this._table.css("left"));isNaN(p)&&(p=0),0!=p&&(a=0),n.css("left",a+u+30);var m=r.width();if(m+u>this.host.width()-20)u-=m+u-this.host.width()+40;c?r.css("left",a+parseInt(ne(l).position().left)-r.outerWidth()):r.css("left",a+u),s.mouseenter(function(){s.hasClass("jqx-grid-validation-label")&&(r.show(),n.show())}),s.mouseleave(function(){r.hide(),n.hide()}),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:r,validationrow:n}}},addRow:function(s,r,i,h){if(null!=r){this._datachanged=!0,null==i&&(i="last");var t=!1,n=this.that;if(null==s){var e=this.dataview.filters&&0<this.dataview.filters.length,o=e?this.source.records.length:this.dataview.totalrecords;if(!this.pageable){this.source._source.totalrecords?this.dataview.totalrecords=this.source._source.totalrecords:this.source._source.totalRecords?this.dataview.totalrecords=this.source._source.totalRecords:0!==this.source.hierarchy.length?this.dataview.totalrecords=this.source.hierarchy.length:this.dataview.totalrecords=this.source.records.length;o=e?this.source.records.length:this.dataview.totalrecords}if(ne.isArray(r)){var a=new Array;ne.each(r,function(e,t){var i=n.dataview.getid(n.dataview.source.id,r[e],o+e);a.push(i),n.getColumn(n.dataview.source.id)&&(r[e][n.dataview.source.id]=i)}),s=a}else s=this.dataview.getid(this.dataview.source.id,r,o),this.getColumn(this.dataview.source.id)&&(r[this.dataview.source.id]=s)}else ne.isArray(r)?ne.each(r,function(e,t){var i=s[e];n.getColumn(n.dataview.source.id)&&(r[e][n.dataview.source.id]=i)}):this.getColumn(this.dataview.source.id)&&(r[this.dataview.source.id]=s);var c=!!this.treeGrid&&!!this.treeGrid.virtualModeCreateRecords,l=function(s,r,e,n){if(s._loading)throw new Error("jqxDataTable: "+s.loadingErrorMessage);var t=s.vScrollInstance.value,o=!1;if(ne.isArray(e)?ne.each(e,function(e,t){var i=null;null!=r&&null!=r[e]&&(i=r[e]),this.uid=i,s.rowsByKey[i]=this,r==h&&(h=null),o=s.source.addRecord(this,n,h,c)}):(e.uid=r,s.rowsByKey[r]=e,r==h&&(h=null),o=s.source.addRecord(e,n,h,c)),s.groups&&0<s.groups.length){var i=Object.prototype.toString,a=s.groups[0];if(Object.prototype.toString="function"==typeof a?a:function(){return this[a]},!s.source.records.sort){var l=new Array,d=0;ne.each(data,function(){l[startindex+d++]=this}),data=l}s.source.records.sort(function(e,t){if(void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t)return 0;if(null===e&&null!==t)return-1;if(null!==e&&null===t)return 1;var i=0,s=0;if(e&&e.uid&&(i=e.uid),t&&t.uid&&(s=t.uid),e=e.toString(),t=t.toString(),ne.jqx.dataFormat.isNumber(e)&&ne.jqx.dataFormat.isNumber(t))return e<t?-1:t<e?1:0;if(ne.jqx.dataFormat.isDate(e)&&ne.jqx.dataFormat.isDate(t))return e<t?-1:t<e?1:0;ne.jqx.dataFormat.isNumber(e)||ne.jqx.dataFormat.isNumber(t)||(e=String(e).toLowerCase(),t=String(t).toLowerCase());try{if(e<t)return-1;if(t<e)return 1}catch(e){}if("number"==typeof i){if(i<s)return-1;if(s<i)return 1}return 0}),Object.prototype.toString=i}return s.dataview._filteredData=null,s.dataview._sortData=null,(s.dataview._sortHierarchyData=null)!=s._updating&&0!=s._updating||s.refresh(),s.source&&s.source._knockoutdatasource&&!s._updateFromAdapter&&s.autokoupdates&&s.source._source._localdata&&(s.source.suspendKO=!0,s.source._source._localdata.push(e),s.source.suspendKO=!1),s.vScrollInstance.setPosition(t),o};if(this.source.addrow){var d=function(e,t){1!=e&&null!=e||(null!=t&&(s=t),l(n,s,r,i))};try{null==(t=n.treeGrid?this.source.addrow(s,r,i,h,d):this.source.addrow(s,r,i,d))&&(t=!0)}catch(e){t=!1}if(0==t)return!1}else l(this,s,r,i);return t}return!1},deleteRow:function(e){var t=this._getkey(e);this.deleterowbykey(t)},deleterowbykey:function(t){if(null!=t){var i=!(this._datachanged=!0),s=this.that,r=function(r,e){if(r._loading)throw new Error("jqxDataTable: "+r.loadingErrorMessage);r.dataview._filteredData=null,r.dataview._sortData=null,r.dataview._sortHierarchyData=null;var n=!1,t=r.vScrollInstance.value;if(ne.isArray(e))ne.each(e,function(){if(r.rowsByKey[this]){if(n=!0,r.rowinfo[this].selected&&r.unselectrowbykey(this,!1),r.treeGrid)var e=r._names(),t=r.rowsByKey[this][e.parent];if(delete r.rowsByKey[this],r.treeGrid&&r.rowinfo[this]){var i=r.rowinfo[this].row.records,s=function(e){for(var t=0;t<e.length;t++){var i=e[t].uid;delete r.rowsByKey[i],delete r.rowinfo[i],e[t].records&&s(e[t].records)}};i&&(s(i),delete r.rowinfo[this])}r.source.deleteRecord(this),t&&e&&t.records&&0==t.records.length&&(t[e.leaf]=!0,r.rowinfo[t.uid][e.leaf]=!0)}});else{n=!1;if(r.rowsByKey[e]){if(n=!0,r.rowinfo[e]&&r.rowinfo[e].selected&&r.unselectrowbykey(e,!1),r.treeGrid)var i=r._names(),s=r.rowsByKey[e][i.parent];if(delete r.rowsByKey[e],r.treeGrid&&r.rowinfo[e]){var o=r.rowinfo[e].row.records,a=function(e){for(var t=0;t<e.length;t++){var i=e[t].uid;delete r.rowsByKey[i],delete r.rowinfo[i],e[t].records&&a(e[t].records)}};o&&a(o)}delete r.rowinfo[e],r.source.deleteRecord(e),s&&i&&s.records&&0==s.records.length&&(s[i.leaf]=!0,r.rowinfo[s.uid][i.leaf]=!0)}}return r.refresh(),r.source&&r.source._knockoutdatasource&&!r._updateFromAdapter&&r.autokoupdates&&r.source._source._localdata&&(r.source.suspendKO=!0,r.source._source._localdata.pop(rowdata),r.source.suspendKO=!1),r.vScrollInstance.setPosition(t),n};if(this.source.deleterow){try{this.source.deleterow(t,function(e){1!=e&&null!=e||r(s,t)}),null==i&&(i=!0)}catch(e){i=!1}}else i=r(s,t);return i}return!1},updateRow:function(e,t){var i=this._getkey(e);this.updaterowbykey(i,t)},updaterowbykey:function(t,i,d,s){if(null!=t&&null!=i){var r=this.that,n=!1,o=function(r,e,n){if(r._loading)throw new Error("jqxDataTable: "+r.loadingErrorMessage);r.dataview._filteredData=null,r.dataview._sortData=null,r.dataview._sortHierarchyData=null;var o=!1;if(ne.isArray(e))ne.each(e,function(i,e){var s=r.rowsByKey[this],t=function(e,t){s?s[this]=n[i]:o=!1,o=!0};t(),r.treeGrid&&(s=r.treeGrid.getRow(this),t())});else{var t=function(e){if(e){for(var t=0;t<r.columns.records.length;t++)e[r.columns.records[t].datafield]=n[r.columns.records[t].datafield],0<r.groups.length&&e.originalRecord&&(e.originalRecord[r.columns.records[t].datafield]=n[r.columns.records[t].datafield]);o=!0}else o=!1};t(s=r.rowsByKey[e]),r.treeGrid&&t(s=r.treeGrid.getRow(e))}var i=r.vScrollInstance.value;if(null!=d&&1!=d||null!=r._updating&&0!=r._updating||r._renderrows(),r.showAggregates&&r._updatecolumnsaggregates&&r._updatecolumnsaggregates(),r.source&&r.source._knockoutdatasource&&!r._updateFromAdapter&&r.autokoupdates&&r.source._source._localdata){var s=r.rowsByKey[e],a=r.getrowindex(s),l=r.source._source._localdata()[a];r.source.suspendKO=!0,r.source._source._localdata.replace(l,ne.extend({},s)),r.source.suspendKO=!1}return r.vScrollInstance.setPosition(i),o};if(this.source.updaterow){try{null==(n=this.source.updaterow(t,i,function(e){1!=e&&null!=e||(o(r,t,i),s&&s(),r._renderrows(!1),r.autoRowHeight&&(r._updateScrollbars(),r._arrange()))}))&&(n=!0)}catch(e){n=!1}}else(n=o(r,t,i))&&s&&s(),r._renderrows(!1),r.autoRowHeight&&(r._updateScrollbars(),r._arrange());return n}return!1},lockRow:function(e){var t=this._getkey(e);this.lockrowbykey(t)},unlockRow:function(e){var t=this._getkey(e);this.unlockrowbykey(t)},lockrowbykey:function(e){this.rowinfo[e]?this.rowinfo[e].locked=!0:this.rowinfo[e]={locked:!0},this._renderrows()},unlockrowbykey:function(e){this.rowinfo[e]?this.rowinfo[e].locked=!1:this.rowinfo[e]={locked:!1},this._renderrows()},selectRow:function(e){var t=this._getkey(e);this.selectrowbykey(t)},unselectRow:function(e){var t=this._getkey(e);this.unselectrowbykey(t)},selectrowbykey:function(e,t,i){"keyboard"!=t&&"mouse"!=t&&(this._lastSelectedKey=e);var s=!1!==i;this._doSelection(e,!0,s);var r=this.rowsByKey[e],n=this.getrowindex(r),o=this.getrowdisplayindex(r);this._raiseEvent("rowSelect",{key:e,index:o,boundIndex:n,row:this.rowsByKey[e]})},unselectrowbykey:function(e,t){var i=!1!==t;this._doSelection(e,!1,i);var s=this.rowsByKey[e],r=this.getrowindex(s),n=this.getrowdisplayindex(s);this._raiseEvent("rowUnselect",{key:e,index:n,boundIndex:r,row:this.rowsByKey[e]})},getSelection:function(){var e=new Array;if(this.rowinfo)for(var t in this.rowinfo){var i=this.rowinfo[t];i.selected&&e.push(i.row)}return e},showdetailsbykey:function(e){if(this.rowDetails){var t=this.rowinfo[e];if(t){t.expanded=!0;var i=ne(this._table.children()[1]).children("[data-key="+e+"]"),s=ne(this._pinnedTable.children()[1]).children("[data-key="+e+"]");if(i){var r=s.children(),n=ne(r[0]);if(this.rtl)n=ne(r[r.length-1]);this.rtl?(n.removeClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),n.addClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),n.removeClass(this.toThemeProperty("jqx-icon-arrow-left"))):(n.removeClass(this.toThemeProperty("jqx-grid-group-collapse")),n.addClass(this.toThemeProperty("jqx-grid-group-expand")),n.removeClass(this.toThemeProperty("jqx-icon-arrow-right"))),n.addClass(this.toThemeProperty("jqx-icon-arrow-down")),i.next().show();var o=s.next();if(o.show(),ne.jqx.browser.msie&&ne.jqx.browser.version<8&&(i.next().children().show(),s.next().children().show()),!t.initialized){var a=t.detailsHeight,l=this.initRowDetails(e,t.row,ne(ne(o).children().children().children()[0]),t);t.details=ne(o).children().children().children()[0],!(t.initialized=!0)!==l&&t.detailsHeight==a||(!1===l&&(t.expanded=!1,t.nodetails=!0,o.hide()),this._renderrows())}this._updateScrollbars(),("auto"===this.height||null===this.height||this.autoheight)&&this._arrange();var d=this.getrowindex(t.row),h=this.getrowdisplayindex(t.row);this._raiseEvent("rowExpand",{row:t.row,index:h,boundIndex:d,rowKey:e})}}}},hidedetailsbykey:function(e){if(this.rowDetails){var t=this.rowinfo[e];if(t){t.expanded=!1;var i=ne(this._table.children()[1]).children("[data-key="+e+"]"),s=ne(this._pinnedTable.children()[1]).children("[data-key="+e+"]");if(i){var r=s.children(),n=ne(r[0]);if(this.rtl)n=ne(r[r.length-1]);this.rtl?(n.addClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),n.removeClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),n.addClass(this.toThemeProperty("jqx-icon-arrow-left"))):(n.addClass(this.toThemeProperty("jqx-grid-group-collapse")),n.removeClass(this.toThemeProperty("jqx-grid-group-expand")),n.addClass(this.toThemeProperty("jqx-icon-arrow-right"))),n.removeClass(this.toThemeProperty("jqx-icon-arrow-down")),i.next().hide(),s.next().hide(),ne.jqx.browser.msie&&ne.jqx.browser.version<8&&(i.next().children().hide(),s.next().children().hide()),this._updateScrollbars(),("auto"===this.height||null===this.height||this.autoheight)&&this._arrange();var o=this.getrowindex(t.row),a=this.getrowdisplayindex(t.row);this._raiseEvent("rowCollapse",{row:t.row,index:a,boundIndex:o,rowKey:e})}}}},_getvirtualcolumnsindexes:function(e,t,i,s,r){if(this.rowDetails||this.rtl||this.editcell||this.width&&0<=this.width.toString().indexOf("%")||this.exporting)return{start:0,end:i+s};var n=0,o=-1,a=i+s;if(this.autorowheight)return{start:0,end:i+s};if(!r)for(var l=0;l<i+s;l++){if(this.columns.records[l].hidden||(n+=this.columns.records[l].width),e<=n&&-1==o&&(o=l),t+e<n){a=l;break}}return i+s<++a&&(a=i+s),-1==o&&(o=0),{start:o,end:a}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value;"hidden"===this.hScrollBar.css("visibility")&&(t=e.value=0);var i=parseInt(t);if(null!=this.table){var s=this.columnsrow,r=this.columns.records.length-0,n=this.columns.records,o=0==this.source.records.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),o&&!this._haspinned)this.table[0].style.left=-i+"px",s[0].style.marginLeft=-i+"px";else{if(this._haspinned||null==this._haspinned){for(var a=0;a<0+r;a++){if(n[a].pinned){var l=null;if(this.showAggregates&&this.statusbar[0].cells&&(l=this.statusbar[0].cells[a]),this.filterrow&&this.filterrow[0].cells&&(filtercell=this.filterrow[0].cells[a]),this.rtl)s[0].cells[a].style.marginLeft=-parseInt(t)+"px",l&&(l.style.marginLeft=-parseInt(t)+"px"),this.filterrow&&filtercell&&(filtercell.style.marginLeft=-parseInt(t)+"px");else s[0].cells[a].style.marginLeft=i+"px",l&&(l.style.marginLeft=i+"px"),this.filterrow&&filtercell&&(filtercell.style.marginLeft=i+"px")}}if(this.columnsVirtualization){for(var d=(m=this._getvirtualcolumnsindexes(i,this.host.width(),0,this.columns.records.length,!1)).start,h=m.end,c=0;c<d;c++){var u=c,p=this.columns.records[u].element[0];if(!this.columns.records[u].pinned)if(p.parentNode&&p.parentNode.removeChild(p),this.filterrow&&this.filterrow[0])(f=this.filterrow[0].cells[u]).parentNode&&f.parentNode.removeChild(f)}for(c=h;c<this.columns.records.length;c++){u=c,p=this.columns.records[u].element[0];if(!this.columns.records[u].pinned)if(p.parentNode&&p.parentNode.removeChild(p),this.filterrow&&this.filterrow[0])(f=this.filterrow[0].cells[u]).parentNode&&f.parentNode.removeChild(f)}for(c=d;c<h;c++){u=c;if(p=this.columns.records[u].element[0],!this.columns.records[u].pinned)if(p.parentNode||this.columnsrow[0].appendChild(p),this.filterrow&&this.filterrow[0])(f=this.filterrow[0].cells[u]).parentNode||this.filterrow[0].appendChild(f)}}this._table[0].style.left=-i+"px",s[0].style.marginLeft=-i+"px"}else if(0==this._haspinned){if(this.columnsVirtualization){var m;for(d=(m=this._getvirtualcolumnsindexes(i,this.host.width(),0,this.columns.records.length,!1)).start,h=m.end,c=0;c<d;c++){u=c;if((p=this.columns.records[u].element[0]).parentNode&&p.parentNode.removeChild(p),this.filterrow&&this.filterrow[0])(f=this.filterrow[0].cells[u]).parentNode&&f.parentNode.removeChild(f)}for(c=h;c<this.columns.records.length;c++){u=c;if((p=this.columns.records[u].element[0]).parentNode&&p.parentNode.removeChild(p),this.filterrow&&this.filterrow[0])(f=this.filterrow[0].cells[u]).parentNode&&f.parentNode.removeChild(f)}for(c=d;c<h;c++){var f;u=c;if((p=this.columns.records[u].element[0]).parentNode||this.columnsrow[0].appendChild(p),this.filterrow&&this.filterrow[0])(f=this.filterrow[0].cells[u]).parentNode||this.filterrow[0].appendChild(f)}}this.table[0].style.left=-i+"px",s[0].style.marginLeft=-i+"px"}this.filterrow&&(this.filterrow[0].style.left=-i+"px",this.rtl&&(this.filterrow[0].style.left=-i+parseInt(this.content.css("left"))+"px"))}if(this.showAggregates&&this.aggregates[0].cells){var g=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&(g="hidden"!=this.hScrollBar.css("visibility")?2+parseInt(this.hScrollBar.css("left")):3+parseInt(this.vScrollBar.width())),this.aggregates[0].style.marginLeft=-i+g+"px"}}},_initializeColumns:function(){var e=this.source.datafields;null==e&&this.source._source&&(e=this.source._source.datafields);var i=!!e&&0<e.length;if(this.columns&&this.columns.records)for(var t=0;t<this.columns.records.length;t++)this._removecolumnhandlers(this.columns.records[t]);var s,r=this,n=new ne.jqx.dataCollection(this.element),o=0;(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,"checkbox"==this.selectionMode)&&((s=new K(r,this)).visibleindex=o++,s.width=r.indentWidth,s.checkboxcolumn=!0,s.editable=!1,s.columntype="checkbox",s.groupable=!1,s.draggable=!1,s.filterable=!1,s.resizable=!1,s.datafield="_checkboxcolumn",n.add(s));this.rowDetails&&!this.treeGrid&&((s=new K(r,this)).visibleindex=o++,s.width=r.indentWidth,s.editable=!1,s.rowDetailscolumn=!0,s.groupable=!1,s.draggable=!1,s.pinned=!0,s.filterable=!1,s.resizable=!1,s.text="",n.add(s));var a=new Array;ne.each(this.columns,function(e){if(null!=r.columns[e]){var t=new K(r,this);if(t.visibleindex=o++,null!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(r._haspinned=!0),null==this.datafield)r.source&&r.source._source&&"array"==r.source._source.datatype&&(i||(r.source._source.datafields||(r.source._source.datafields=new Array),r.source._source.datafields.push({name:e.toString()})),this.datafield=e.toString(),this.displayfield=e.toString(),t.datafield=this.datafield,t.displayfield=this.displayfield);else{if(a[this.datafield])throw new Error("jqxDataTable: Invalid column 'dataField' setting. jqxDataTable's columns should be initialized with unique data fields.");a[this.datafield]=!0}n.add(t)}}),this.rtl&&n.records.reverse(),this.columns=n},addFilter:function(e,t){this.getColumn(e)&&this.dataview.addFilter(e,t)},removeFilter:function(e){this.getColumn(e)&&this.dataview.removeFilter(e)},clearFilters:function(e,t){this.dataview.filters=new Array,this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,!1!==t&&this.resetfilter(),!1!==e&&this.applyFilters()},resetfilter:function(){if(this.filterinput&&this.filterinput.val(""),this.filterrow)for(var e=0;e<this.filterrow[0].cells.length;e++){var t=this.filterrow[0].cells[e],i=ne(t).find("input:first"),s=ne(t).find(".filterconditions"),r=this.columns.records[e];if(r.filterable){i.val("");var n=this.getcolumntypebydatafield(r),o=new ne.jqx.filter;switch(n){case"number":case"int":case"float":case"decimal":filtertype="numericfilter",conditions=o.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":filtertype="booleanfilter",conditions=o.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":filtertype="datefilter",conditions=o.getoperatorsbyfiltertype("datefilter");break;case"string":filtertype="stringfilter",conditions=o.getoperatorsbyfiltertype("stringfilter")}0<s.length&&("stringfilter"===filtertype?s.jqxDropDownList({selectedIndex:2}):s.jqxDropDownList({selectedIndex:0}))}}},applyFilters:function(){if(this.editable&&null!=this.editKey)this.endroweditbykey(this.editKey);if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this.serverProcessing?(this.dataview.pagenum=0,this.updateBoundData("filter")):(this.goToPage(0),this.refresh()),arguments&&0<arguments.length){if(this._updateSimpleFilter&&this.filtercolumnsList){var e=this.filtercolumnsList.jqxDropDownList("getSelectedItem").value;this._updateSimpleFilter(e)}this._updateFilterRow&&this._updateFilterRow()}this._raiseEvent("filter",{filters:this.dataview.filters})},sortBy:function(e,t){if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);if(this.editable&&null!=this.editKey)this.endroweditbykey(this.editKey);if(null==e&&(t=null,e=this.sortcolumn),e){var i=this;ascending="a"==t||"asc"==t||"ascending"==t||1==t,i.sortdirection=null!=t?{ascending:ascending,descending:!ascending}:{ascending:!1,descending:!1},i.sortcolumn=null!=t?e:null,i.source.sort&&(i.dataview.sortfield=e,i.dataview.sortfielddirection=null==t?"":ascending?"asc":"desc",i.source.sort&&!this._loading&&i.source.sort(e,t)),i.dataview.sortBy(e,t),i._raiseEvent("sort",{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection})}this.serverProcessing?this.updateBoundData("sort"):this.refresh()},_togglesort:function(e){if(!this.disabled&&e.sortable&&this.sortable){var t={sortcolumn:this.sortcolumn,sortdirection:this.sortdirection},i=null;i=null==t.sortcolumn||t.sortcolumn!=e.displayfield||1!=(i=t.sortdirection.ascending)&&null,this.sortBy(e.displayfield,i)}},_renderfilter:function(){var a=this,e=ne("<div style='position: relative; margin: 4px;'><input style='height: 22px; direction: ltr;' role='textbox' type='text'/><div style='cursor: pointer; height: 100%;'><div></div></div></div>");e.height(22);var l=e.find("input"),d=e.find("div:first");e.addClass(this.toThemeProperty("jqx-rc-all")),e.addClass(this.toThemeProperty("jqx-widget")),e.addClass(this.toThemeProperty("jqx-input-group")),l.addClass(this.toThemeProperty("jqx-input")),l.addClass(this.toThemeProperty("jqx-rc-l")),l.addClass(this.toThemeProperty("jqx-input-group-addon")),l.addClass(this.toThemeProperty("jqx-widget")),l.addClass(this.toThemeProperty("jqx-widget-content")),d.addClass(this.toThemeProperty("jqx-fill-state-normal")),d.addClass(this.toThemeProperty("jqx-rc-r")),d.addClass(this.toThemeProperty("jqx-input-group-addon")),d.find("div").addClass(this.toThemeProperty("jqx-icon-search")),this.rtl&&(l.addClass(this.toThemeProperty("jqx-rtl")),l.css("direction","rtl")),this.filter.children().remove(),this.filterbutton=d;for(var t=new Array,i=0;i<a.columns.records.length;i++)a.columns.records[i].datafield&&a.columns.records[i].filterable&&t.push({label:a.columns.records[i].text,value:a.columns.records[i].displayfield});var s=t.length<10,r=ne("<div style='position: relative; top: 50%; display: none; margin-right: 4px; margin-left: 4px; float: left;'>"+this.gridlocalization.filtersearchstring+"</div>");this.filter.append(r);var h=ne("<div class='filtercolumns' style='position: relative; margin: 4px; float: left;'></div>");this.filter.append(h),h.jqxDropDownList&&h.jqxDropDownList({theme:this.theme,enableBrowserBoundsDetection:!0,autoDropDownHeight:s,rtl:a.rtl,dropDownWidth:220,selectedIndex:0,width:"auto",height:20,source:t,displayMember:"label",valueMember:"value"}),this.filtercolumnsList=h;var n=function(e){a.filterinput.val("");for(var t=0;t<a.dataview.filters.length;t++){var i=a.dataview.filters[t];i.datafield===e&&a.filterinput.val(i.filter.getfilterat(0).filtervalue)}};30!==a.filterHeight&&(a.filtercolumnsList.css("margin-top",a.filterHeight/2-10),e.css("margin-top",a.filterHeight/2-10)),a._updateSimpleFilter=n,this.addHandler(h,"select",function(e){var t=e.args.item.value;n(t)}),"simple"===this.filterMode?(this.filtercolumnsList.hide(),r.show(),r.css("margin-top",-this.filter.height()/2),e.css("float","left")):(this.filtercolumnsList.show(),r.hide());var o=function(){if(!d.hasClass("jqx-fill-state-disabled")){var e=l.val();if(h.jqxDropDownList)var t=h.jqxDropDownList("getSelectedItem");var i=function(e,t,i){var s=new ne.jqx.filter,r=a.getcolumntypebydatafield(e),n=a._getfiltertype(r);if("datefilter"==n)var o=s.createfilter(n,t,"EQUAL",null,e.cellsFormat,a.gridlocalization);else if("numericfilter"==n||"booleanfilter"==n){"numericfilter"==n&&(","==a.gridlocalization.decimalseparator&&0<=t.indexOf(a.gridlocalization.decimalseparator)&&(t=t.replace(a.gridlocalization.decimalseparator,".")),0<=t.indexOf(a.gridlocalization.currencysymbol)&&(t=t.replace(a.gridlocalization.currencysymbol,"")),0<=t.indexOf(a.gridlocalization.percentagesymbol)&&(t=t.replace(a.gridlocalization.percentagesymbol,"")));o=s.createfilter(n,t,"EQUAL",null,e.cellsFormat,a.gridlocalization)}else o=s.createfilter(n,t,"CONTAINS");return s.operator=i,s.addfilter(0,o),s};if("simple"!==a.filterMode){if(t){var s=t.value,r=i(o=a.getColumn(s),e,"and");0<e.length?(a.removeFilter(s),a.addFilter(s,r)):a.removeFilter(s),a.applyFilters(),"advanced"===a.filterMode&&a._updateFilterRow&&a._updateFilterRow(!0)}}else{if(a.clearFilters(!1,!1),0<e.length)for(var n=0;n<a.columns.records.length;n++){var o;r=i(o=a.columns.records[n],e,"or");a.addFilter(o.datafield,r)}a.applyFilters()}0==a.dataview.filters.length?a.filtericon.fadeOut(200):a.filtericon.fadeIn(200)}};if(l.keydown(function(e){if(13===e.keyCode)return o(),e.preventDefault&&e.preventDefault(),!1}),d.click(function(){o()}),this.filterinput=l,this.filter.append(e),"advanced"==this.filterMode){var c=ne("<a style='float: left; position: relative; margin: 2px; margin-left: 10px;' href='#'>"+this.gridlocalization.filterstring+"</a>");e.append(c),this.addHandler(c,"click",function(e){var t=function(e){if(a.filterrow)for(var t=0;t<a.filterrow[0].cells.length;t++){var i=a.filterrow[0].cells[t],s=ne(i).find("input:first"),r=a.columns.records[t];if(r.filterable){!0===e&&s.val("");for(var n=0;n<a.dataview.filters.length;n++){var o=a.dataview.filters[n];if(o.datafield===r.displayfield){s.val(o.filter.getfilterat(0).filtervalue);break}}}}},i=function(e){if(a.filterrow)for(var t=0;t<a.filterrow[0].cells.length;t++){var i=a.filterrow[0].cells[t],s=ne(i).find("input:first"),r=a.columns.records[t];r.hidden?i.style.visibility="hidden":i.style.visibility="inherit",r.filterable&&(i.style.left=parseInt(0)+parseInt(r.uielement[0].style.left)+"px",i.style.width=6+r.width+"px",s[0]&&(s[0].style.width=r.width-6-22+"px"))}};a._updateFilterRow=t,a._arrangeFilterRow=i;var s=function(){a.filtercolumnsList.jqxDropDownList({disabled:!0}),a.filterinput.addClass(a.toThemeProperty("jqx-fill-state-disabled")),a.filterinput.attr("disabled",!0),a.filterbutton.addClass(a.toThemeProperty("jqx-fill-state-disabled"))};return 0===a.filter.find(".filterrow").length?(a._renderadvancedfilter(),s(),t(),a._arrange(),i()):("none"===a.filter.find(".filterrow").css("display")?(s(),a.filter.find(".filterrow").removeClass("filterrow-hidden"),t(),a.filter.find(".filterrow").show(),i()):(a.filtercolumnsList.jqxDropDownList({disabled:!1}),a.filterinput.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),a.filterinput.attr("disabled",!1),a.filterbutton.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),n(a.filtercolumnsList.jqxDropDownList("getSelectedItem").value),a.filter.find(".filterrow").addClass("filterrow-hidden"),a.filter.find(".filterrow").hide()),a._arrange()),!1})}var u=ne("<div style='float: left; width: 16px; height: 16px; position: relative; margin: 3px;'></div>");u.attr("title",a.gridlocalization.filterclearstring),u.addClass(a.toThemeProperty("jqx-icon-close")),e.append(u),u.hide(),(a.filtericon=u).click(function(){a.clearFilters(),a.filtericon.fadeOut(200)}),0<a.dataview.filters.length&&("advanced"!=a.filterMode?n(a.dataview.filters[0].datafield):a._updateFilterRow&&a._updateFilterRow())},_renderadvancedfilter:function(){var p=this,a=function(){p.clearFilters(!1,!1);for(var e=p.filtercolumnsList.jqxDropDownList("getSelectedItem").value,t=(p.filterinput.val(),0);t<p.filterrow[0].cells.length;t++){var i=p.filterrow[0].cells[t],s=ne(i).find("input:first"),r=ne(i).find(".filterconditions"),n=p.columns.records[t],o="";if(n.filterable){n.displayfield===e&&p.filterinput.val(s.val());var a=p.getcolumntypebydatafield(n),l=new ne.jqx.filter;switch(a){case"number":case"int":case"float":case"decimal":filtertype="numericfilter",conditions=l.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":filtertype="booleanfilter",conditions=l.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":filtertype="datefilter",conditions=l.getoperatorsbyfiltertype("datefilter");break;case"string":filtertype="stringfilter",conditions=l.getoperatorsbyfiltertype("stringfilter")}if(0==r.length)o="stringfilter"===filtertype?conditions[2]:conditions[0];else{var d=r.jqxDropDownList("getSelectedItem");o=d?conditions[d.index]:"stringfilter"===filtertype?conditions[2]:conditions[0]}var h=s.val();if(0<h.length||0==h.length&&"NOT_NULL"==o||0==h.length&&"NOT_EMPTY"==o||0==h.length&&"EMPTY"==o||0==h.length&&"NULL"==o){var c=n.displayfield,u=new ne.jqx.filter;"numericfilter"==filtertype&&(","==p.gridlocalization.decimalseparator&&0<=h.indexOf(p.gridlocalization.decimalseparator)&&(h=h.replace(p.gridlocalization.decimalseparator,".")),0<=h.indexOf(p.gridlocalization.currencysymbol)&&(h=h.replace(p.gridlocalization.currencysymbol,"")),0<=h.indexOf(p.gridlocalization.percentagesymbol)&&(h=h.replace(p.gridlocalization.percentagesymbol,"")));l=u.createfilter(filtertype,h,o,null,n.cellsFormat,p.gridlocalization);u.addfilter(0,l),p.addFilter(c,u)}}}0<p.dataview.filters.length?p.applyFilters():p.clearFilters(),0==p.dataview.filters.length?p.filtericon.fadeOut(200):p.filtericon.fadeIn(200)};!function(){var t=ne("<div style='position: relative;' class='filterrow'></div>").appendTo(p.filter);(p.filterrow=t)[0].cells=new Array,t.height(24),t.width(p.table.width());var i=p.filtercolumnsList.jqxDropDownList("getSelectedItem").value,o=p.filterinput.val();ne.each(p.columns.records,function(){var s=this,e=ne("<div></div>").appendTo(t);if(e.css("position","absolute"),e.css("left",0+parseInt(s.uielement[0].style.left)),s.pinned&&(e.css("z-index",p.tableZIndex+p.columns.records.length),e.addClass(p.toThemeProperty("jqx-widget-header"))),t[0].cells.push(e[0]),!this.filterable)return!0;var r=ne("<input style='margin-left: 4px; height: 20px; float: left;' role='textbox' type='text'/>").appendTo(e);r.keydown(function(e){13===e.keyCode&&a()}),s.displayfield===i&&r.val(o),r.addClass(p.toThemeProperty("jqx-input")),r.addClass(p.toThemeProperty("jqx-rc-all")),r.addClass(p.toThemeProperty("jqx-widget")),r.addClass(p.toThemeProperty("jqx-widget-content"));var n=ne("<div style='cursor: pointer; margin-left: 4px; margin-bottom: 4px; margin-top: 6px; width: 18px; position: relative; margin-top: 4px; float: left;'></div>").appendTo(e);n.append(ne("<div style='width: 16px; height: 16px;' class='"+p.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>")),r.focus(function(){p.ensureColumnVisible(s.displayfield),p.filter[0].scrollLeft=0,p.ensureColumnVisible(s.displayfield),setTimeout(function(){p.filter[0].scrollLeft=0,p.ensureColumnVisible(s.displayfield)},10)}),n.click(function(){var e=ne("<div class='filterconditions' style='position: relative; margin-top: 1px; float: left;'></div>");e.insertAfter(n),n.remove();var t=p.getcolumntypebydatafield(s),i=p._getfiltersbytype(t);index="string"===t?2:0,e.jqxDropDownList({theme:p.theme,enableBrowserBoundsDetection:!0,renderMode:"simple",arrowSize:0,selectedIndex:index,rtl:p.rtl,dropDownWidth:230,dropDownHeight:180,width:20,height:20,source:i,selectionRenderer:function(){return"<div style='width: 16px; height: 16px;' class='"+p.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>"}}),p.addHandler(e,"close",function(e){r.focus(),setTimeout(function(){r.focus()},10)}),e.removeAttr("tabindex"),e.find("div").removeAttr("tabindex"),e.jqxDropDownList("open")}),r[0].style.width=s.width-6-22+"px"}),ne("<div style='clear: both;'></div>").appendTo(t)}();var e=ne("<div style='position:relative;' class='filterrow'></div>").appendTo(p.filter),t=ne("<input type='button' style='position: relative; float: left; margin-top: 4px; margin-left: 4px;' value='"+p.gridlocalization.filterapplystring+"'/>").appendTo(e),i=ne("<input type='button' style='position: relative; float: left; margin-top: 4px;  margin-left: 4px;' value='"+p.gridlocalization.filtercancelstring+"'/>").appendTo(e);t.css("left",0),i.css("left",0),t.jqxButton({theme:p.theme}),i.jqxButton({theme:p.theme}),i.click(function(){p.filtercolumnsList.jqxDropDownList({disabled:!1}),p.filterinput.removeClass(p.toThemeProperty("jqx-fill-state-disabled")),p.filterinput.attr("disabled",!1),p.filterbutton.removeClass(p.toThemeProperty("jqx-fill-state-disabled")),p.filter.find(".filterrow").addClass("filterrow-hidden"),p.filter.find(".filterrow").hide(),p._arrange()}),t.click(function(){a()}),p._renderhorizontalscroll()},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":t="datefilter";break;case"string":t="stringfilter"}return t},getcolumntypebydatafield:function(e){var t=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(t){var i="";if(ne.each(t,function(){if(this.name==e.displayfield)return this.type&&(i=this.type),!1}),i)return i}return"string"},_getfiltersbytype:function(e){var t="";switch(e){case"number":case"float":case"int":t=this.gridlocalization.filternumericcomparisonoperators;break;case"date":t=this.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":t=this.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:t=this.gridlocalization.filterstringcomparisonoperators}return t},_getcellvalue:function(e,t){var i=null;return i=t[e.datafield],null!=e.displayfield&&(i=t[e.displayfield]),null==i&&(i=""),i},_renderrows:function(e){if(this.editable&&null!=this.editKey&&!1!==e)this.endroweditbykey(this.editKey);if(this.treeGrid)this.treeGrid._renderrows();else if(!this._loading&&!this._updating){this.rendering&&this.rendering();var n=this,t=0;this.table[0].rows=new Array;var i=this.toTP("jqx-cell")+" "+this.toTP("jqx-widget-content");this.rtl&&(i+=" "+this.toTP("jqx-cell-rtl"));var s=this.columns.records.length,r=ne.jqx.browser.msie&&ne.jqx.browser.version<8;r&&this.host.attr("hideFocus","true");var o=n.groups.length,a=new Array,l=this.source.records;if(l=this.dataview.evaluate(l),this.dataViewRecords=l,"all"==this.dataview.pagesize||!this.pageable||this.serverProcessing){var d=l;if(this.pageable&&this.serverProcessing&&l.length>this.dataview.pagesize)d=l.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize)}else d=l.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize);if(n.groups&&0<n.groups.length){var h=this.pageable?this.dataview.pagesize*this.dataview.pagenum:0;if("root"===this.pageSizeMode){var c=n.source.getGroupedRecords(n.groups,"records","label",null,"data",null,"parent",l,0);n.rootRecordsLength=c.length,c=function(e){for(var t=0,i=new Array,s=0;s<e.length;s++){var r=e[s];if(0==r.level&&t++,t>n.dataview.pagesize*n.dataview.pagenum&&t<=n.dataview.pagesize*n.dataview.pagenum+n.dataview.pagesize&&i.push(r),t>n.dataview.pagesize*n.dataview.pagenum+n.dataview.pagesize)break}return i}(c)}else c=n.source.getGroupedRecords(n.groups,"records","label",null,"data",null,"parent",d,h);var u=function(e,t){for(var i=0;i<e.length;i++){var s=e[i];if(t.push(s),s.records&&0<s.records.length)for(var r=u(s.records,new Array),n=0;n<r.length;n++)r[n].leaf,t.push(r[n])}return t};d=a=u.call(n,c,new Array),this.rowsByKey=new Array;for(var p=0;p<d.length;p++){var m=d[p];this.rowsByKey[m.uid]=m}}a=d;var f=(this.renderedRecords=a).length,g=this.tableZIndex,v=0,x=0;if(r)for(var w=0;w<s;w++){(N=(C=this.columns.records[w]).width)<C.minwidth&&(N=C.minwidth),N>C.maxwidth&&(N=C.maxwidth);var y=ne('<table><tr><td role="gridcell" style="max-width: '+N+"px; width:"+N+'px;" class="'+i+'"></td></tr></table>');ne(document.body).append(y);var b=y.find("td");v=1+parseInt(b.css("padding-left"))+parseInt(b.css("padding-right")),y.remove();break}var _=this.rtl?" "+this.toTP("jqx-grid-table-rtl"):"",j="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+_+"' id='table"+this.element.id+"'><colgroup>",q="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+_+"' id='pinnedtable"+this.element.id+"'><colgroup>",T=0;for(w=0;w<s;w++){var C;if((C=this.columns.records[w]).hidden)T++,0;else{if((N=C.width)<C.minwidth&&(N=C.minwidth),N>C.maxwidth&&(N=C.maxwidth),(N-=v)<0&&(N=0),r){var S=N;if(w==T&&S++,C.rowDetailscolumn)q+="<col style='max-width: "+(S=S+4)+"px; width: "+S+"px;'>",j+="<col style='max-width: "+S+"px; width: "+S+"px;'>";else q+="<col style='max-width: "+S+"px; width: "+S+"px;'>",j+="<col style='max-width: "+S+"px; width: "+S+"px;'>"}else q+="<col style='max-width: "+N+"px; width: "+N+"px;'>",j+="<col style='max-width: "+N+"px; width: "+N+"px;'>";x+=N}}j+="</colgroup>",q+="</colgroup>";var k=this._hiddencolumns=!1;if(this.rowDetails&&this._pinnedTable&&(this._pinnedTable.find("[data-role=details]").detach(),this._table.find("[data-role=details]").detach()),0===f){var I='<tr role="row">',D=this.host.height();if(this.pageable&&(D-=this.pagerHeight,"both"===this.pagerPosition&&(D-=this.pagerHeight)),D-=this.columnsHeight,this.filterable){var P=this.filter.find(".filterrow"),A=1;0<this.filter.find(".filterrow-hidden").length&&(A=0),D-=this.filterHeight+this.filterHeight*P.length*A}this.showstatusbar&&(D-=this.statusBarHeight),this.showAggregates&&(D-=this.aggregatesHeight),D<25&&(D=25),"hidden"!=this.hScrollBar[0].style.visibility&&(D-=this.hScrollBar.outerHeight()),("auto"===this.height||null===this.height||this.autoheight)&&(D=300);y='<td colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+D+"px; height: "+D+"px; max-width:"+x+"px; width:"+x+"px;",i=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");y+='" class="'+(i+=" "+this.toTP("jqx-center-align"))+'">',y+=this.gridlocalization.emptydatastring,j+=I+=y+="</td>",q+=I,this.table[0].style.width=x+2+"px",t=x}var M=this.getRows(),B=new Array;for(p=0;p<a.length;p++){var H=(m=a[p]).uid;void 0===m.uid&&(m.uid=this.dataview.generatekey());I='<tr data-key="'+H+'" role="row" id="row'+p+this.element.id+'">';var z='<tr data-key="'+H+'" role="row" id="row'+p+this.element.id+'">';if(0<o&&m.level<o)I='<tr data-role="row-group" data-key="'+H+'" role="row" id="row'+p+this.element.id+'">',z='<tr data-role="row-group" data-key="'+H+'" role="row" id="row'+p+this.element.id+'">';var E=0,O=0;for(w=0;w<s;w++){var N,L=this.columns.records[w];(L.pinned||this.rtl&&this.columns.records[s-1].pinned)&&(k=!0),(N=L.width)<L.minwidth&&(N=L.minwidth),N>L.maxwidth&&(N=L.maxwidth),(N-=v)<0&&(N=0);i=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");L.pinned&&(i+=" "+this.toTP("jqx-grid-cell-pinned")),this.sortcolumn===L.displayfield&&(i+=" "+this.toTP("jqx-grid-cell-sort")),this.altRows&&p%2!=0&&(i+=" "+this.toTP("jqx-grid-cell-alt")),this.rtl&&(i+=" "+this.toTP("jqx-cell-rtl"));var R="";if(0<o&&m.level<o)if(r)i+=" "+this.toTP("jqx-grid-cell-pinned");else{i+=" "+this.toTP("jqx-grid-cell-pinned"),R+=' colspan="'+s+'"';S=0;for(var F=0;F<s;F++){var W=n.columns.records[F],V=W.width;V<W.minwidth&&(N=W.minwidth),V>W.maxwidth&&(N=W.maxwidth),(V-=v)<0&&(V=0),W.hidden||(S+=V)}N=S}y='<td role="gridcell" '+R+' style="max-width:'+N+"px; width:"+N+"px;";var G='<td role="gridcell" '+R+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+N+"px; width:"+N+"px;";w==s-1&&1==s&&(y+="border-right-color: transparent;",G+="border-right-color: transparent;");var U=!1;0<o&&m.level<o&&(U=!0),U?this.rtl&&(i+=" "+this.toTP("jqx-right-align")):"left"!=L.cellsalign&&("right"===L.cellsalign?i+=" "+this.toTP("jqx-right-align"):i+=" "+this.toTP("jqx-center-align")),this.rowinfo[m.uid]&&(this.rowinfo[m.uid].selected&&!L.rowDetailscolumn&&this.editKey!==m.uid&&"none"!==this.selectionMode&&(i+=" "+this.toTP("jqx-grid-cell-selected"),i+=" "+this.toTP("jqx-fill-state-pressed")),this.rowinfo[m.uid].locked&&(i+=" "+this.toTP("jqx-grid-cell-locked"))),L.hidden?U||(y+="display: none;",G+="display: none;",this._hiddencolumns=!0):(E+=v+N,0==O&&(y+="border-left-width: 0px;",G+="border-left-width: 0px;"),O++),0<o&&r&&U&&o<=w&&(y+="font-size: 1px; border-color: transparent;  color: transparent;",G+="font-size: 1px; border-color: transparent; color: transparent;"),L.pinned&&(y+="pointer-events: auto;",G+="pointer-events: auto;"),!U&&L.rowDetailscolumn&&(this.rowinfo[m.uid]?this.rowinfo[m.uid].nodetails||(this.rowinfo[m.uid].expanded?(this.rtl?i+=" "+this.toTP("jqx-grid-group-expand-rtl"):i+=" "+this.toTP("jqx-grid-group-expand"),i+=" "+this.toTP("jqx-icon-arrow-down")):this.rtl?(i+=" "+this.toTP("jqx-grid-group-collapse-rtl"),i+=" "+this.toTP("jqx-icon-arrow-left")):(i+=" "+this.toTP("jqx-grid-group-collapse"),i+=" "+this.toTP("jqx-icon-arrow-right"))):this.rtl?(i+=" "+this.toTP("jqx-grid-group-collapse-rtl"),i+=" "+this.toTP("jqx-icon-arrow-left")):(i+=" "+this.toTP("jqx-grid-group-collapse"),i+=" "+this.toTP("jqx-icon-arrow-right"))),(!this.autoRowHeight||this.autoRowHeight&&!L.autoCellHeight)&&(i+=" "+this.toTP("jqx-grid-cell-nowrap "));var Y=n._getcellvalue(L,m),K=L.cellsFormat;if(0<o&&m.level<o&&(Y=m.label,K=n.getColumn(n.groups[m.level]).cellsFormat),""!=K&&ne.jqx.dataFormat&&(ne.jqx.dataFormat.isDate(Y)?Y=ne.jqx.dataFormat.formatdate(Y,K,n.gridlocalization):(ne.jqx.dataFormat.isNumber(Y)||!isNaN(parseFloat(Y))&&isFinite(Y))&&(Y=ne.jqx.dataFormat.formatnumber(Y,K,n.gridlocalization))),U)this.groupsRenderer&&(Y=this.groupsRenderer(Y,m,m.level));else{if(""!=L.cellclassname&&L.cellclassname)if("string"==typeof L.cellclassname)i+=" "+L.cellclassname;else{var X=L.cellclassname(p,L.datafield,Y,m);X&&(i+=" "+X)}if(""!=L.cellsRenderer&&L.cellsRenderer){if(-1===($=M.indexOf(m))&&m.originalRecord)var $=M.indexOf(m.originalRecord);(Y=L.cellsRenderer($,L.datafield,Y,m))&&(0<=Y.indexOf("<jqx-")||0<=Y.indexOf(" ng-"))&&B.push({rowKey:m.uid,row:$,column:L.datafield,value:Y,columnIndex:w})}}if(y+='" class="'+i+'">',y+=Y,y+="</td>",G+='" class="'+i+'">',G+=Y,G+="</td>",L.pinned?(z+=y,I+=y):(I+=y,k&&(z+=G)),0<o&&!r&&m.level<o)break}if(0==t&&(this.table[0].style.width=E+2+"px",t=E),j+=I+="</tr>",q+=z+="</tr>",this.rowinfo[m.uid]?("group"in this.rowinfo[m.uid]||(this.rowinfo[m.uid].group=U),"row"in this.rowinfo[m.uid]||(this.rowinfo[m.uid].row=m),"details"in this.rowinfo[m.uid]||(this.rowinfo[m.uid].details=null),"detailsHeight"in this.rowinfo[m.uid]||(this.rowinfo[m.uid].detailsHeight=200),"initialized"in this.rowinfo[m.uid]||(this.rowinfo[m.uid].initialized=!1),"expanded"in this.rowinfo[m.uid]||(this.rowinfo[m.uid].expanded=!1)):this.rowinfo[m.uid]={group:U,row:m,details:null,detailsHeight:200,initialized:!1,expanded:!1},this.serverProcessing&&(this.rowinfo[m.uid].row=m),this.rowDetails){var Z=this.rowinfo[m.uid].detailsHeight;if(this.rowinfo[m.uid])if(this.rowinfo[m.uid].expanded)var J='<tr data-role="row-details"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+Z+"px; max-height: "+Z+"px; height: "+Z+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';else J='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+Z+"px; max-height: "+Z+"px; height: "+Z+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';else J='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+Z+"px; max-height: "+Z+"px; height: "+Z+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';i=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");i+=" "+this.toTP("jqx-details"),i+=" "+this.toTP("jqx-reset"),j+=J+='" class="'+i+'"><div style="pointer-events: auto; overflow: hidden; min-height: '+Z+"px; max-height: "+Z+"px; height: "+Z+'px;"><div data-role="details"></div></div></td></tr>',q+=J}}if(j+="</table>",q+="</table>",k){n.WinJS?MSApp.execUnsafeLocalFunction(function(){n.table.html(q+j)}):n.table[0].innerHTML=q+j;var Q=this.table.find("#table"+this.element.id),ee=this.table.find("#pinnedtable"+this.element.id);if(ee.css("float","left"),ee.css("pointer-events","none"),Q.css("float","left"),ee[0].style.position="absolute",Q[0].style.position="relative",Q[0].style.zIndex=g-10,ee[0].style.zIndex=g+10,this._table=Q,this._table[0].style.left="0px",this._pinnedTable=ee,this._pinnedTable[0].style.left="0px",this._pinnedTable[0].style.width=t+"px",this._table[0].style.width=t+"px",this.rtl&&t>parseInt(this.element.style.width)&&this._haspinned&&(this._pinnedTable[0].style.left=3-t+parseInt(this.element.style.width)+"px"),this.rowDetails)for(p=0;p<f;p++){H=(m=a[p]).uid;if(this.rowinfo[H].details){var te=ne(this._table.children()[1]).children("[data-key="+H+"]"),ie=ne(this._pinnedTable.children()[1]).children("[data-key="+H+"]");if(te){var se=ie.next(),re=ne(ne(se).children().children());re.children().detach(),re.append(this.rowinfo[m.uid].details)}}}}else{n.WinJS?MSApp.execUnsafeLocalFunction(function(){n.table.html(j)}):n.table[0].innerHTML=j;F=this.table.find("#table"+this.element.id);this._table=F,ne.jqx.browser.msie&&ne.jqx.browser.version<10&&(this._table[0].style.width=t+"px"),0===f&&(this._table[0].style.width=2+t+"px")}if(0===f&&(this._table[0].style.tableLayout="auto",this._pinnedTable&&(this._pinnedTable[0].style.tableLayout="auto")),B&&0<B.length){this._table[0].rows;ne.each(B,function(){this.row;var e=this.rowKey,t=(this.column,this.columnIndex),i=n._getuirow(e);if(i){var s=i[0].cells[t];ne.jqx.angularCompile&&ne.jqx.angularCompile(s,"<div>"+s.innerHTML+"</div>")}})}this.rendered&&this.rendered()}},getcolumnindex:function(e){var t=this.getColumn(e);return this.columns.records.indexOf(t)},setcolumnindex:function(e,t,i){if(!((l=this.getColumn(e)).pinned||l.hidden||l.checkboxcolumn||l.grouped)){var s=this.columns.records.indexOf(l);this.columns.records.splice(s,1),this.columns.records.splice(t,0,l);var n=0,o=this.headerZIndex;this.columnsrow.children().detach();this.toThemeProperty("jqx-grid-cell");" "+this.toThemeProperty("jqx-grid-cell-pinned")," "+this.toThemeProperty("jqx-item");var a=this;if(null!=a.filterrow)ne(a.filterrow.children()[0]);this.columnsrow[0].cells=[];if(ne.each(this.columns.records,function(e,t){var i=this.uielement;a.columnsrow.append(i),a.rtl?i.css("z-index",o++):i.css("z-index",o--);var s=a.rtl?250+o+1:250+o-1;this.pinned&&i.css("z-index",s);var r=this.width;i.css("left",n),a.columnsrow[0].cells[a.columnsrow[0].cells.length]=i[0],this.hidden&&!0,this.hidden&&this.hideable||(n+=r)}),this.groupable){var r=this.groups.length;0<r&&0<=s-r&&(s-=r,t-=r)}this.rowDetails&&0<=s-1&&(s--,t--),"checkbox"==this.selectionMode&&0<=s-1&&(s--,t--);var l=this._columns[s];this._columns.splice(s,1),this._columns.splice(t,0,l),this.resize(),this._rendercolumnGroups(),this._raiseEvent("columnReordered",{dataField:l.datafield,oldIndex:s,newIndex:t})}},_pinnedColumnsLength:function(){var e=0;return ne.each(this.columns.records,function(){this.pinned&&e++,this.grouped&&e++}),this.rowDetails&&e++,"checkbox"==this.selectionMode&&e++,e},_handlecolumnsReorder:function(){var v=this,x=-1,w=!1;if(v.columnsReorder){var e="mousemove.reorder"+this.element.id,t="mousedown.reorder"+this.element.id,i="mouseup.reorder"+this.element.id,y=!1;this.isTouchDevice()&&!0!==this.touchmode&&(y=!0,e=ne.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,t=ne.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,i=ne.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(ne(document),e),this.addHandler(ne(document),e,function(e){if(v.resizing)return!0;if(null!=v.reordercolumn){var t=parseInt(e.pageX),i=parseInt(e.pageY);if(y){var s=v.getTouches(e)[0];null!=s&&(t=parseInt(s.pageX),i=parseInt(s.pageY))}var r=v.host.coord(),n=parseInt(r.left),o=parseInt(r.top);null!=v.dragmousedownoffset&&null!=v.dragmousedownoffset||(v.dragmousedownoffset={left:0,top:0});var a=parseInt(t)-parseInt(v.dragmousedownoffset.left),l=parseInt(i)-parseInt(v.dragmousedownoffset.top);if(v.reordercolumn.css({left:a+"px",top:l+"px"}),w=!1,n<=t&&t<=n+v.host.width()&&o<=i&&i<=o+v.host.height()&&(w=!0),x=-1,w){v.reordercolumnicon.removeClass(v.toThemeProperty("jqx-grid-dragcancel-icon")),v.reordercolumnicon.addClass(v.toThemeProperty("jqx-grid-drag-icon"));var d=v.columnsheader.coord(),h=d.top+v.columnsheader.height();if(null!=v.columnsdropline)if(i>=d.top&&i<=h){if(x=v._handlereordercolumnsdroplines(t),v.columnGroups&&-1!=x){var c=0;c+=v._pinnedColumnsLength();var u=x.index;if(c<=u){var p=v.columns.records[u];if(null!=p){var m=v.columns.records.indexOf(v.getColumn(p.datafield));if(null==p.datafield)m=v.columns.records.indexOf(v.getcolumnbytext(p.text));var f=ne.data(v.reordercolumn[0],"reorderrecord"),g=p;if(v.columns.records.indexOf(v.getColumn(f))<m&&"before"==x.position&&(g=v.columns.records[m-1]),g.columngroup!=v.getColumn(f).columngroup)return void v.columnsdropline.hide()}}}}else v.columnsdropline.fadeOut("slow")}else null!=v.columnsdropline&&v.columnsdropline.fadeOut("slow"),v.reordercolumnicon.removeClass(v.toThemeProperty("jqx-grid-drag-icon")),v.reordercolumnicon.addClass(v.toThemeProperty("jqx-grid-dragcancel-icon"));if(e.preventDefault&&(e.preventDefault(),e.stopPropagation()),y)return e.preventDefault(),e.stopPropagation(),!1}}),this.columnsbounds=new Array,this.removeHandler(ne(document),t),this.addHandler(ne(document),t,function(e){if(v.resizing)return!0;v.columnsbounds=new Array;var i=v.host.coord().left,s=v.host.coord().top;v.showtoolbar&&(s+=v.toolbarHeight),v.filter&&(s+=v.filter.height());var r=0;ne.each(v.columns.records,function(e){if(this.hidden)return v.columnsbounds[v.columnsbounds.length]={top:s,column:this,left:i,width:0,height:2},!0;0==r&&(i=v.rtl?parseInt(v.host.coord().left)-v.hScrollInstance.max+v.hScrollInstance.value:parseInt(v.host.coord().left)-v.hScrollInstance.value),r++;var t=2+v.columnsHeight;v.columnshierarchy&&(s=ne(this.uielement).coord().top,t=ne(this.uielement).height()),v.columnsbounds[v.columnsbounds.length]={top:s,column:this,left:i,width:this.width,height:t},i+=this.width})}),this.removeHandler(ne(document),i),this.addHandler(ne(document),i,function(e){if(v.resizing)return!0;v.__drag=!1,ne(document.body).removeClass("jqx-disableselect");parseInt(e.pageX),parseInt(e.pageY);if(y){var t=v.getTouches(e)[0];parseInt(t.pageX),parseInt(t.pageY)}var i=v.host.coord();parseInt(i.left),parseInt(i.top);if(v.showtoolbar&&v.toolbarHeight,v.columndragstarted=!1,(v.dragmousedown=null)!=v.reordercolumn){var s=ne.data(v.reordercolumn[0],"reorderrecord"),r=v.columns.records.indexOf(v.getColumn(s));v.reordercolumn.remove(),v.reordercolumn=null;var n=0;if(n+=v._pinnedColumnsLength(),null!=s){if(w&&-1!=x){var o=x.index;if(n<=o){var a=v.columns.records[o];if(null!=a){var l=v.columns.records.indexOf(v.getColumn(a.datafield));if(null==a.datafield)l=v.columns.records.indexOf(v.getcolumnbytext(a.text));if(v.columnGroups){var d=a;if(r<l&&"before"==x.position&&(d=v.columns.records[l-1]),d.columngroup!=v.getColumn(s).columngroup)return void(null!=v.columnsdropline&&(v.columnsdropline.remove(),v.columnsdropline=null))}r<l?"before"==x.position?v.setcolumnindex(s,l-1):v.setcolumnindex(s,l):l<r&&v.setcolumnindex(s,l)}}}null!=v.columnsdropline&&(v.columnsdropline.remove(),v.columnsdropline=null)}}})}},getcolumnbytext:function(e){var t=null;return this.columns.records&&ne.each(this.columns.records,function(){if(this.text==e)return t=this,!1}),t},_handlereordercolumnsdroplines:function(t){var i=this,s=-1,r=i._pinnedColumnsLength(),n=parseInt(i.host.coord().left)+i.host.width(),o="hidden"!=i.vScrollBar.css("visibility")?19:0;return i.rtl||(o=0),ne.each(i.columnsbounds,function(e){if(r<=e){if(0==this.width)return!0;if(t<=this.left+this.width/2)return n<t?(i.columnsdropline.fadeOut(),!1):(i.columnsdropline.css("left",o+parseInt(this.left)+"px"),i.columnsdropline.css("top",parseInt(this.top)+"px"),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),!(s={index:e,position:"before"}));if(t>=this.left+this.width/2){if(this.left+this.width>n)return i.columnsdropline.fadeOut(),!1;i.columnsdropline.css("left",o+1+this.left+this.width),i.columnsdropline.css("top",this.top),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),s={index:e,position:"after"}}}}),s},_createreordercolumn:function(e,t,i){var s=this,r=t;s.reordercolumn&&s.reordercolumn.remove(),s.columnsdropline&&s.columnsdropline.remove(),s.reordercolumn=ne("<div></div>");var n=e.clone();s.reordercolumn.css("z-index",999999),n.css("border-width","1px"),n.css("opacity","0.4");var o=ne(n.find("."+s.toThemeProperty("jqx-grid-column-menubutton")));0<o.length&&o.css("display","none");var a=ne(n.find(".jqx-icon-close"));0<a.length&&a.css("display","none"),s.reordercolumnicon=ne('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),s.reordercolumnicon.addClass(s.toThemeProperty("jqx-grid-drag-icon")),s.reordercolumn.css("float","left"),s.reordercolumn.css("position","absolute");s.host.coord();n.width(e.width()+16),s.reordercolumn.append(n),s.reordercolumn.height(e.height()),s.reordercolumn.width(n.width()),s.reordercolumn.append(s.reordercolumnicon),ne(document.body).append(s.reordercolumn),n.css("margin-left",0),n.css("left",0),n.css("top",0),s.reordercolumn.css("left",r.left+s.dragmousedown.left),s.reordercolumn.css("top",r.top+s.dragmousedown.top),null!=i&&i&&(s.columnsdropline=ne('<div style="z-index: 9999; display: none; position: absolute;"></div>'),s.columnsdropline.width(2),s.columnsdropline.addClass(s.toThemeProperty("jqx-grid-group-drag-line")),ne(document.body).append(s.columnsdropline))},_handlecolumnsdragreorder:function(o,a){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null;var l=this,d=!1;this.isTouchDevice()&&!0!==this.touchmode&&(d=!0);var e="mousedown.drag",h="mousemove.drag";d?(e=ne.jqx.mobile.getTouchEventName("touchstart")+".drag",h=ne.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(a,"dragstart",function(e){return!1}),this.addHandler(a,e,function(e){if(0==o.draggable)return!0;if(l.resizing)return!0;l.__drag=!0;var t=e.pageX,i=e.pageY;if(d){var s=l.getTouches(e)[0];t=s.pageX,i=s.pageY}l.dragmousedown={left:t,top:i};var r=ne(e.target).coord();return l.dragmousedownoffset={left:parseInt(t)-parseInt(r.left),top:parseInt(i-r.top)},e.preventDefault&&e.preventDefault(),!0}),this.addHandler(a,h,function(e){if(!o.draggable)return!0;if(null==o.datafield)return!0;if(o.pinned)return!0;if(l.resizing)return!0;if(l.dragmousedown){var t=e.pageX,i=e.pageY;if(d){var s=l.getTouches(e)[0];null!=s&&(t=s.pageX,i=s.pageY)}if(h={left:t,top:i},!l.columndragstarted&&null==l.reordercolumn){var r=Math.abs(h.left-l.dragmousedown.left),n=Math.abs(h.top-l.dragmousedown.top);(3<r||3<n)&&(l._createreordercolumn(a,h,!0),ne(document.body).addClass("jqx-disableselect"),ne.data(l.reordercolumn[0],"reorderrecord",o.datafield))}}})},getTouches:function(e){return ne.jqx.mobile.getTouches(e)},_handlecolumnsResize:function(){var d=this;if(this.columnsResize){var h=!1;d.isTouchDevice()&&(h=!0);var e="mousemove.resize"+this.element.id,t="mousedown.resize"+this.element.id,i="mouseup.resize"+this.element.id;if(h)e=ne.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,t=ne.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,i=ne.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(ne(document),e),this.addHandler(ne(document),e,function(e){if(null!=d.resizablecolumn&&!d.disabled&&d.resizing&&null!=d.resizeline){d.resizablecolumn.columnelement;var t=d.host.coord(),i=parseInt(d.resizestartline.coord().left),s=i-d._startcolumnwidth,r=d.resizablecolumn.column.minwidth;r="auto"==r?0:parseInt(r);var n=d.resizablecolumn.column.maxwidth;n="auto"==n?0:parseInt(n);var o=e.pageX;if(h)o=ne.jqx.mobile.getTouches(e)[0].pageX;s+=r;var a=0<n?i+n:0,l=0==n||d._startcolumnwidth+o-i<n;if(d.rtl)l=!0;if(l)if(d.rtl){if(o>=t.left&&o<=t.left+d.host.width()&&(d.resizeline.css("left",o),h))return!1}else if(o>=t.left&&s<=o&&(0!=a&&e.pageX<a?d.resizeline.css("left",o):0==a&&d.resizeline.css("left",o),h))return!1}if(!h&&null!=d.resizablecolumn)return!1}),this.removeHandler(ne(document),t),this.addHandler(ne(document),t,function(e){if(null!=d.resizablecolumn&&!d.disabled){var t=d.resizablecolumn.columnelement;if(t.coord().top+t.height()+5<e.pageY)return void(d.resizablecolumn=null);if(t.coord().top-5>e.pageY)return void(d.resizablecolumn=null);d._startcolumnwidth=d.resizablecolumn.column.width,d.resizablecolumn.column._width=null,ne(document.body).addClass("jqx-disableselect"),ne(document.body).addClass("jqx-position-reset"),d._mouseDownResize=new Date,d.resizing=!0,d._resizecolumn=d.resizablecolumn.column,d.resizeline=d.resizeline||ne('<div style="position: absolute;"></div>'),d.resizestartline=d.resizestartline||ne('<div style="position: absolute;"></div>'),d.resizebackground=d.resizebackground||ne('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),d.resizebackground.css("opacity",.01),d.resizebackground.css("cursor","col-resize"),d.resizeline.css("cursor","col-resize"),d.resizestartline.css("cursor","col-resize"),d.resizeline.addClass(d.toThemeProperty("jqx-grid-column-resizeline")),d.resizestartline.addClass(d.toThemeProperty("jqx-grid-column-resizestartline")),ne(document.body).append(d.resizeline),ne(document.body).append(d.resizestartline),ne(document.body).append(d.resizebackground);var r=d.resizablecolumn.columnelement.coord();d.resizebackground.css("left",d.host.coord().left),d.resizebackground.css("top",d.host.coord().top),d.resizebackground.width(d.host.width()),d.resizebackground.height(d.host.height()),d.resizebackground.css("z-index",999999999);var i=function(e){d.rtl?e.css("left",parseInt(r.left)):e.css("left",parseInt(r.left)+d._startcolumnwidth);var t=0;t+=d.showtoolbar?d.toolbarHeight:0,t+=d.showstatusbar?d.statusBarHeight:0,t+=d.showAggregates?d.aggregatesHeight:0,d.pageable&&"bottom"!=d.pagerPosition&&(t+=d.pagerHeight),d.filterable&&(t+=d.filter.height());var i=0;d.pageable&&"top"!=d.pagerPosition&&(i=d.pagerHeight);var s="hidden"!=d.hScrollBar.css("visibility")?d.scrollBarSize:0;e.css("top",parseInt(r.top)),e.css("z-index",9999999999),d.columnGroups?e.height(d.host.height()+d.resizablecolumn.columnelement.height()-i-t-s-d.columnGroupslevel*d.columnsHeight):e.height(d.host.height()-i-t-s),e.show("fast")};i(d.resizeline),i(d.resizestartline),d.dragmousedown=null}});var s=function(){if(ne(document.body).removeClass("jqx-disableselect"),ne(document.body).removeClass("jqx-position-reset"),d.resizing){if(d._mouseUpResize=new Date,d._mouseUpResize-d._mouseDownResize<200)return d.resizing=!1,void(null!=d._resizecolumn&&null!=d.resizeline&&"block"==d.resizeline.css("display")&&(d._resizecolumn=null,d.resizeline.hide(),d.resizestartline.hide(),d.resizebackground.remove()));if(d.resizing=!1,!d.disabled){var e=d.host.width();if("hidden"!=d.vScrollBar[0].style.visibility&&(e-=20),e<0&&(e=0),null!=d._resizecolumn&&null!=d.resizeline&&"block"==d.resizeline.css("display")){var t=parseInt(d.resizeline.css("left")),i=parseInt(d.resizestartline.css("left")),s=d._startcolumnwidth+t-i;if(d.rtl)s=d._startcolumnwidth-t+i;var r=d._resizecolumn.width;d._resizecolumn.width=s,null!=d._resizecolumn._percentagewidth&&(d._resizecolumn._percentagewidth=s/e*100);for(var n=0;n<d._columns.length;n++)if(d._columns[n].datafield===d._resizecolumn.datafield){d._columns[n].width=d._resizecolumn.width;break}d.hScrollBar[0].style.visibility;var o=d._resizecolumn.displayfield;d._updatecolumnwidths(),d.refresh(),d._resizecolumn=null,d.resizeline.hide(),d.resizestartline.hide(),d.resizebackground.remove(),d.resizablecolumn=null,d._raiseEvent("columnResized",{dataField:o,oldWidth:r,newWidth:s})}else d.resizablecolumn=null}}};try{if(""!=document.referrer||window.frameElement){var r=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(r=document.referrer),r&&-1!=r.indexOf(document.location.host)){var n=function(e){s()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",n,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",n)}}}catch(e){}this.removeHandler(ne(document),i),this.addHandler(ne(document),i,function(e){if(null!=ne.data(document.body,"contextmenu"+d.element.id)&&d.autoshowcolumnsmenubutton)return!0;s()})}},_updatecolumnwidths:function(){var l=this.host.width(),d=l;"hidden"!==this.vScrollBar.css("visibility")&&0<this.scrollBarSize&&(l-=parseInt(this.scrollBarSize)+6,d=l);var h="";if(null!=this.columns&&null!=this.columns.records){var c=this,u=!1;ne.each(this.columns.records,function(e,t){if(!this.hidden)if(-1!=this.width.toString().indexOf("%")||null!=this._percentagewidth){t=0,"hidden"==c.vScrollBar[0].style.visibility||c.scrollBarSize;0==c.scrollBarSize&&0,t=parseFloat(this.width)*d/100,null!=this._percentagewidth&&(t=parseFloat(this._percentagewidth)*d/100),t<this.minwidth&&"auto"!=this.minwidth&&(t=this.minwidth),t>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),l-=Math.round(t)}else"auto"==this.width||this._width?h+=this.text:l-=this.width});var e=this.columnsheader.find("#columntable"+this.element.id);if(0!=e.length){var p=0,m=e.find(".jqx-grid-column-header"),f=0;ne.each(this.columns.records,function(e,t){var i=ne(m[e]),s=!1,r=this.width,n=this.width;if(-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(r=null!=this._percentagewidth?parseFloat(this._percentagewidth)*d/100:parseFloat(this.width)*d/100,r=Math.round(r),s=!0),"auto"==this.width||this._width||s)if(s)r<this.minwidth&&"auto"!=this.minwidth&&(r=this.minwidth,this.width=r),r>this.maxwidth&&"auto"!=this.maxwidth&&(r=this.maxwidth,this.width=r),parseInt(i[0].style.width)!=r&&(i.width(r),this.width=r);else{var o=Math.floor(l*(this.text.length/h.length));isNaN(o)&&(o=this.minwidth);var a=l*(this.text.length/h.length)-o;1<=(p+=a)&&(p-=1,o++),.5<=p&&e==c.columns.records.length-1&&o++,o<0&&($element=ne("<span>"+this.text+"</span>"),ne(document.body).append($element),o=10+$element.width(),$element.remove()),o<this.minwidth&&(o=this.minwidth),o>this.maxwidth&&(o=this.maxwidth),this._width="auto",this.width=o,i.width(this.width)}else parseInt(i[0].style.width)!=this.width&&i.width(this.width);parseInt(i[0].style.left)!=f&&i.css("left",f),this.hidden||(f+=this.width),this._requirewidthupdate=!0,n!==this.width&&(u=!0)}),this.columnsheader.width(2+f),e.width(this.columnsheader.width()),this._resizecolumnGroups(),u&&this._renderrows(),this.showAggregates&&this._refreshcolumnsaggregates()}}},_rendercolumnheaders:function(){var w=this;if(!this._updating){w.columns.records.length>w.headerZIndex&&(w.headerZIndex=w.columns.records.length+10),this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var y=ne('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');y[0].cells=new Array;var b=0,_="",j=this.host.width(),q=j,i=new Array,s=new Array;if(ne.each(this.columns.records,function(e,t){if(!this.hidden)if("auto"==this.width||this._width)_+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)j-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)j-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){t=0;(t=parseFloat(this.width)*q/100)<this.minwidth&&"auto"!=this.minwidth&&(t=this.minwidth),t>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),j-=t}else"string"==typeof this.width&&(this.width=parseInt(this.width)),j-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(w._haspinned&&(this.pinned=!0),i[i.length]=this):s[s.length]=this}),this.rtl){var e=0;i.reverse();for(t=this.columns.records.length-1;t>=this.columns.records.length-i.length;t--)this.columns.replace(t,i[e++]);for(r=0;r<s.length;r++)this.columns.replace(r,s[r])}else{for(var t=0;t<i.length;t++)this.columns.replace(t,i[t]);for(var r=0;r<s.length;r++)this.columns.replace(i.length+r,s[r])}var T=this.headerZIndex,C=w.columnsHeight,S=0;ne.each(this.columns.records,function(e,t){var i,s;this.height=w.columnsHeight,w.columnGroups&&w.columnGroups.length&&(this.height=(this.datafield,i=this,s=w.columnGroupslevel*w.columnsHeight,s-=i.level*w.columnsHeight),C=this.height);var r=w.toTP("jqx-grid-column-header")+" "+w.toTP("jqx-widget-header");w.rtl&&(r+=" "+w.toTP("jqx-grid-column-header-rtl")),w.enableBrowserSelection||(r+=" "+w.toTP("jqx-disableselect"));var n=self.rtl?250+T+1:250+T-1,o=w.rtl?T++:T--,a=ne('<div role="columnheader" style="z-index: '+o+';position: absolute; height: 100%;" class="'+r+'"><div style="height: 100%; width: 100%;"></div></div>');w.rtl&&0===e&&(a[0].style.borderLeftColor="transparent"),w.columnGroups&&(a[0].style.height=C+"px",a[0].style.bottom="0px",this.pinned&&(a[0].style.zIndex=n)),this.uielement=a,this.element=a,""!=this.classname&&this.classname&&a.addClass(this.classname);var l=this.width,d=!1;if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(l=null!=this._percentagewidth?parseFloat(this._percentagewidth)*q/100:parseFloat(this.width)*q/100,l=Math.round(l),d=!0),"auto"==this.width||this._width||d)if(d)l<this.minwidth&&"auto"!=this.minwidth&&(l=this.minwidth),l>this.maxwidth&&"auto"!=this.maxwidth&&(l=this.maxwidth),null!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),a.width(l),this.width=l;else{var h=Math.floor(j*(this.text.length/_.length)),c=j*(this.text.length/_.length)-h;1<=(S+=c)&&(S-=1,h++),.5<=S&&e==w.columns.records.length-1&&h++,isNaN(h)&&(h=this.minwidth),h<0&&($element=ne("<span>"+this.text+"</span>"),ne(document.body).append($element),h=10+$element.width(),$element.remove()),h<this.minwidth&&(h=this.minwidth),h>this.maxwidth&&(h=this.maxwidth),this._width="auto",this.width=parseInt(h),l=this.width,a.width(this.width)}else l<this.minwidth&&"auto"!=this.minwidth&&(l=this.minwidth),l>this.maxwidth&&"auto"!=this.maxwidth&&(l=this.maxwidth),a[0].style.width=parseInt(l)+"px";this.hidden&&a.css("display","none");var u=ne(a.children()[0]);y[0].cells[e]=a[0];var p=null!=this.renderer?this.renderer(this.text,this.align,C):w._rendercolumnheader(this.text,this.align,C,w);if(null==p&&(p=w._rendercolumnheader(this.text,this.align,C,w)),null!=this.renderer&&(p=ne(p)),!0,w.WinJS?MSApp.execUnsafeLocalFunction(function(){u.append(ne(p))}):this.renderer?u.append(ne(p)):p&&(u[0].innerHTML=p),null!=p){var m=ne('<div class="iconscontainer" style="height: '+C+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+w.toTP("jqx-widget-header")+'" style="height: '+C+'px; float: right; display: none; width: 16px;"><div class="'+w.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+w.toTP("jqx-widget-header")+'" style="height: '+C+'px; float: right; display: none; width: 16px;"><div class="'+w.toTP("jqx-grid-column-sortascbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+w.toTP("jqx-widget-header")+'" style="height: '+C+'px; float: right; display: none; width: 16px;"><div class="'+w.toTP("jqx-grid-column-sortdescbutton")+'" style="width: 100%; height:100%;"></div></div></div>');u.append(m);var f=m.children();this.sortasc=f[1],this.sortdesc=f[2],this.filtericon=f[0],this.iconscontainer=m,w.rtl&&(m.css("margin-left","0px"),m.css("left","0px"),ne(this.sortasc).css("float","left"),ne(this.filtericon).css("float","left"),ne(this.sortdesc).css("float","left"))}y.append(a),w.columnsReorder&&this.draggable&&w._handlecolumnsdragreorder&&w._handlecolumnsdragreorder(this,a);var g=this;if(w.addHandler(a,"click",function(e){if(g.checkboxcolumn)return!0;w._togglesort&&(w._loading||w._togglesort(g)),e.preventDefault()}),w.columnsResize){var v=!1,x="mousemove";w.isTouchDevice()&&(v=!0,x=ne.jqx.mobile.getTouchEventName("touchstart")),w.addHandler(a,x,function(e){if(!g.resizable)return!(w.resizablecolumn=null);var t=parseInt(e.pageX),i=5,s=parseInt(a.coord().left);if(w.hasTransform&&(s=ne.jqx.utilities.getOffset(a).left),w._handlecolumnsResize){if(v)return i=40,(t=ne.jqx.mobile.getTouches(e)[0].pageX)>=s+g.width-i?(w.resizablecolumn={columnelement:a,column:g},a.css("cursor","col-resize")):(a.css("cursor",""),w.resizablecolumn=null),!0;var r=g.width;if(w.rtl&&(r=0),s+r-i<=t){if(t<=s+r+i)return w.resizablecolumn={columnelement:a,column:g},a.css("cursor","col-resize"),!1;a.css("cursor",""),w.resizablecolumn=null}else a.css("cursor",""),t<s+r-i&&(g._animating||g._menuvisible||a.mouseenter()),w.resizablecolumn=null}})}(a.css("left",b),this.hidden||(b+=l),g.rendered)&&(g.rendered(ne(u[0].firstChild),g.align,C)&&null!=m&&m.hide())}),0<b?this.columnsheader.width(2+b):this.columnsheader.width(b),this.columnsrow=y,w.columnsheader.append(y),y.width(b),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsReorder&&this._handlecolumnsReorder(),this._handlecolumnsResize&&this._handlecolumnsResize(),this.columnGroups&&this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(this.columnGroups){for(var e=0,t=0;t<this.columns.records.length;t++)this.columns.records[t].pinned&&e++;var i=this.headerZIndex-e+this.columns.records.length,s=this.toTP("jqx-grid-column-header")+" "+this.toTP("jqx-grid-columngroup-header")+" "+this.toTP("jqx-widget-header");this.rtl&&(s+=" "+this.toTP("jqx-grid-columngroup-header-rtl"));var r=this.columnsheader.find("#columntable"+this.element.id);r.find("jqx-grid-columngroup-header").remove();for(var n=0;n<this.columnGroupslevel-1;n++)for(t=0;t<this.columnGroups.length;t++){var o=this.columnGroups[t],a=o.level;if(a===n){var l=a*this.columnsHeight,d=99999;if(o.groups){var h=function(e){for(var t=0,i=0;i<e.groups.length;i++){var s=e.groups[i];s.groups?t+=h(s):s.hidden||(t+=s.width,d=Math.min(parseInt(s.element[0].style.left),d))}return t};o.width=h(o),o.left=d;var c=this.columnsHeight,u=i--,p=ne('<div role="columnheader" style="z-index: '+u+';position: absolute;" class="'+s+'"></div>'),m=ne(this._rendercolumnheader(o.text,o.align,this.columnsHeight,this));p.append(m),p[0].style.left=d+"px",0===d&&(p[0].style.borderLeftColor="transparent"),p[0].style.top=l+"px",p[0].style.height=c+"px",p[0].style.width=-1+o.width+"px",r.append(p),o.element=p}}}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var e=0;e<this.columnGroups.length;e++){var t=this.columnGroups[e],i=t.level*this.columnsHeight,r=99999;if(t.groups){var n=function(e){for(var t=0,i=0;i<e.groups.length;i++){var s=e.groups[i];s.groups?t+=n(s):s.hidden||(t+=s.width,r=Math.min(parseInt(s.element[0].style.left),r))}return t};t.width=n(t),t.left=r;var s=this.columnsHeight,o=t.element;o[0].style.left=r+"px",o[0].style.top=i+"px",o[0].style.height=s+"px",o[0].style.width=-1+t.width+"px"}}},_removecolumnhandlers:function(e){var t=ne(e.element);if(0<t.length){this.removeHandler(t,"mouseenter"),this.removeHandler(t,"mouseleave");var i=ne(e.filtericon);this.removeHandler(i,"mousedown"),this.removeHandler(i,"click"),this.removeHandler(t,"click")}},_calculateaggregate:function(e,t,i,s){if(!e.datafield)return null;var r=e.aggregates;if(r||(r=t),r){for(var n=new Array,o=0;o<r.length;o++)"count"!=r[o]&&(n[n.length]=e.cellsFormat);if(this.source&&this.source.getAggregatedData){null==s&&(s=this.getRows(),this.dataViewRecords&&(s=this.dataViewRecords));var a=s,l=-1;if(this.treeGrid){var d=new Array,h=function(e){for(var t=0;t<e.length;t++)null!=e[t]&&(-1==l&&(l=e[t].level),e[t].aggregate||d.push(e[t]),!e[t].leaf&&e[t].records&&0<e[t].records.length&&h(e[t].records))};h(s),s=d}if(this.treeGrid&&this.filterable&&0<this.dataview.filters.length){var c=new Array;for(o=0;o<s.length;o++)s[o]&&!1!==s[o]._visible&&c.push(s[o]);s=c;var u=new Array;for(o=0;o<a.length;o++)a[o]&&!1!==a[o]._visible&&u.push(a[o]);a=u}if(null==i||1==i){var p=this.source.getAggregatedData([{name:e.datafield,aggregates:r,formatStrings:n}],this.gridlocalization,s,l);if(this.treeGrid)if((0==(f=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0)||f<=l)&&p&&(null!=p[e.datafield].sum||null!=p[e.datafield].avg)){var m=this.source.getAggregatedData([{name:e.datafield,aggregates:r,formatStrings:n}],this.gridlocalization,a,l);null!=p[e.datafield].sum&&(p[e.datafield].sum=m[e.datafield].sum),null!=p[e.datafield].avg&&(p[e.datafield].avg=m[e.datafield].avg)}return p}var f;p=this.source.getAggregatedData([{name:e.datafield,aggregates:r}],this.gridlocalization,s,l);if(this.treeGrid&&p&&(null!=p[e.datafield].sum||null!=p[e.datafield].avg)&&(0==(f=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0)||f<=l)){m=this.source.getAggregatedData([{name:e.datafield,aggregates:r}],this.gridlocalization,a,l);null!=p[e.datafield].sum&&(p[e.datafield].sum=m[e.datafield].sum),null!=p[e.datafield].avg&&(p[e.datafield].avg=m[e.datafield].avg)}return p}}return null},getcolumnaggregateddata:function(e,t,i,s){var r=this.getColumn(e);if(!r)return"";var n=null!=i&&0!=i&&i;if(null==t)return"";var o=r.aggregates;r.aggregates=null;var a=this._calculateaggregate(r,t,n,s),l={};return a&&(l=a[e],r.aggregates=o),l},_updatecolumnaggregates:function(e,t,i){var s=this;if(t)if(i.children().remove(),i.html(""),e.aggregatesRenderer){if(t){n=e.aggregatesRenderer(t[e.datafield],e,i,this.getcolumnaggregateddata(e.datafield,e.aggregates),"aggregates");i.html(n)}}else ne.each(t,function(){for(r in this){var e=ne('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),t=r;t=s._getaggregatename(t),e.html(t+":"+this[r]),s.rtl&&e.addClass(s.toThemeProperty("jqx-rtl")),i.append(e)}});else if(i.children().remove(),i.html(""),e.aggregatesRenderer){var r={};e.aggregates&&(r=this.getcolumnaggregateddata(e.datafield,e.aggregates));var n=e.aggregatesRenderer({},e,i,null);i.html(n)}},_getaggregatetype:function(e){switch(e){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return e}var t=e;for(var i in e){t=i;break}return t},_getaggregatename:function(e){var t=e;switch(e){case"min":t="Min";break;case"max":t="Max";break;case"count":t="Count";break;case"avg":t="Avg";break;case"product":t="Product";break;case"var":t="Var";break;case"stdevp":t="StDevP";break;case"stdev":t="StDev";break;case"varp":t="VarP";case"sum":t="Sum"}if(e===t&&"string"!=typeof t)for(var i in e){t=i;break}return t},_updatecolumnsaggregates:function(){var e=this.getRows();this.dataViewRecords&&(e=this.dataViewRecords);var t=this.columns.records.length;if(null!=this.aggregates[0].cells)for(var i=0;i<t;i++){var s=ne(this.aggregates[0].cells[i]),r=this.columns.records[i],n=this._calculateaggregate(r,null,!0,e);this._updatecolumnaggregates(r,n,s)}},_refreshcolumnsaggregates:function(){var e=this.columns.records.length;if(null!=this.aggregates[0].cells)for(var t=0,i=0;i<e;i++){var s=ne(this.aggregates[0].cells[i]),r=this.columns.records[i];s&&(s.width(r.width),s[0].style.left=t+"px",r.hidden&&r.hideable?s.css("display","none"):t+=r.width)}},_updateaggregates:function(){var e=ne('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),t=0,i=this.columns.records.length,s=this.toThemeProperty("jqx-grid-cell");this.rtl&&(s+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),t=0,e.css("border-left-width","0px"),this.aggregates.css("border-left-color","transparent")),s+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var r=i+10,n=new Array;this.aggregates[0].cells=n;for(var o=0;o<i;o++){var a=this.columns.records[o],l=this._calculateaggregate(a),d=a.width;d<a.minwidth&&(d=a.minwidth),d>a.maxwidth&&(d=a.maxwidth);var h=s;a.cellsalign&&(h+=" "+this.toThemeProperty("jqx-"+a.cellsalign+"-align"));var c=ne('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+h+'"></div>');e.append(c),c.css("left",t),this.rtl?(c.css("z-index",r++),0==o&&c.css("border-left-width","0px")):c.css("z-index",r--),c.width(d),c[0].style.left=t+"px",a.hidden&&a.hideable?c.css("display","none"):t+=d,n[n.length]=c[0],this._updatecolumnaggregates(a,l,c)}ne.jqx.browser.msie&&ne.jqx.browser.version<8&&e.css("z-index",r--),e.width(parseInt(t)+2),e.height(this.aggregatesHeight),this.aggregates.children().remove(),this.aggregates.append(e),this.aggregates.removeClass(this.toThemeProperty("jqx-widget-header")),this.aggregates.addClass(s),this.aggregates.css("border-bottom-color","transparent"),this.aggregates.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll()},destroy:function(){var e=this;if(e.columns&&e.columns.records)for(var t=0;t<e.columns.records.length;t++)e._removecolumnhandlers(e.columns.records[t]);e.removeHandler(ne(document),"mouseup.pagerbuttonstop"),e.removeHandler(ne(document),"mouseup.pagerbuttonsbottom"),e.removeHandler(e.content,"scroll"),e.removeHandler(e.content,"mousedown"),e.removeHandler(ne(document),"mousedown.gridedit"+e.element.id);var i="mousemove.resize"+e.element.id,s="mousedown.resize"+e.element.id,r="mouseup.resize"+e.element.id;e.removeHandler(ne(document),i),e.removeHandler(ne(document),s),e.removeHandler(ne(document),r);i="mousemove.reorder"+e.element.id,s="mousedown.reorder"+e.element.id,r="mouseup.reorder"+e.element.id;if(e.removeHandler(ne(document),i),e.removeHandler(ne(document),s),e.removeHandler(ne(document),r),e.filterable){if(e.filterrow)for(t=0;t<e.filterrow[0].cells.length;t++){var n=e.filterrow[0].cells[t],o=ne(n).find(".filterconditions");e.columns.records[t];0<o.length&&o.jqxDropDownList("destroy")}e.filtercolumnsList&&e.filtercolumnsList.jqxDropDownList("destroy")}if(e.pageable){e.pagershowrowscombotop&&e.pagershowrowscombotop.jqxDropDownList&&e.pagershowrowscombotop.jqxDropDownList("destroy"),e.pagershowrowscombobottom&&e.pagershowrowscombobottom.jqxDropDownList&&e.pagershowrowscombobottom.jqxDropDownList("destroy");var a=e.pagerbuttonsbottom.find("a");e.removeHandler(a,"click"),e.removeHandler(a,"mouseenter"),e.removeHandler(a,"mouseleave"),a.remove();a=e.pagerbuttonstop.find("a");e.removeHandler(a,"click"),e.removeHandler(a,"mouseenter"),e.removeHandler(a,"mouseleave"),a.remove(),e.pagernexttop&&(e.pagernexttop.jqxButton("destroy"),e.pagerprevioustop.jqxButton("destroy"),e.pagernextbottom.jqxButton("destroy"),e.pagerpreviousbottom.jqxButton("destroy"),e.pagerfirsttop.jqxButton("destroy"),e.pagerfirstbottom.jqxButton("destroy"),e.pagerlasttop.jqxButton("destroy"),e.pagerlastbottom.jqxButton("destroy"))}e._removeHandlers(),e.vScrollBar.jqxScrollBar("destroy"),e.hScrollBar.jqxScrollBar("destroy"),delete e.vScrollBar,delete e.hScrollBar,delete e._mousewheelfunc,ne.jqx.utilities.resize(e.host,null,!0),e.host.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(e,t,i,s){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)&&s!==i)if("filterable"==t)e._render();else if("height"===t)e.host.height(e.height),e.host.width(e.width),e._updatesize(!1,!0);else if("width"===t)e.host.height(e.height),e.host.width(e.width),e._updatesize(!0,!1);else if("source"===t)e.updateBoundData();else if("columns"===t||"columnGroups"===t)e._columns=null,e._render();else if("rtl"===t)e.content.css("left",""),e.columns=e._columns,e.vScrollBar.jqxScrollBar({rtl:s}),e.hScrollBar.jqxScrollBar({rtl:s}),e._render();else if("pagerMode"===t)e.pagerMode=s,e._initpager();else if("pageSizeOptions"==t){e._initpager();for(var r=!1,n=0;n<s.length;n++)if(parseInt(s[n])==e.pageSize){r=!0;break}r||ne.jqx.set(e,[{pageSize:s[0]}])}else if("pageSize"==t){var o=e.dataview.pagenum*e.dataview.pagesize;e.dataview.pagesize=e.pageSize;var a=Math.floor(o/e.dataview.pagesize);if(a!==e.dataview.pagenum||parseInt(s)!==parseInt(i))e._raiseEvent("pageSizeChanged",{pagenum:s,oldpageSize:i,pageSize:e.dataview.pagesize}),e.goToPage(a)||(e.serverProcessing?e.updateBoundData("pager"):e.refresh())}else if("pagerPosition"===t)e.refresh();else if("selectionMode"===t)e.selectionMode=s.toLowerCase();else if("touchmode"==t)e.touchDevice=null,e._removeHandlers(),e.touchDevice=null,e.vScrollBar.jqxScrollBar({touchMode:s}),e.hScrollBar.jqxScrollBar({touchMode:s}),e._updateTouchScrolling(),e._arrange(),e._updatecolumnwidths(),e._renderrows(),e._addHandlers();else{if("enableHover"==t)return;if("disabled"==t)s?e.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),e.pageable&&(e.pagernexttop&&(e.pagernexttop.jqxButton({disabled:s}),e.pagerprevioustop.jqxButton({disabled:s}),e.pagernextbottom.jqxButton({disabled:s}),e.pagerpreviousbottom.jqxButton({disabled:s}),e.pagerfirsttop.jqxButton({disabled:s}),e.pagerfirstbottom.jqxButton({disabled:s}),e.pagerlasttop.jqxButton({disabled:s}),e.pagerlastbottom.jqxButton({disabled:s}),e.pagershowrowscombotop.jqxDropDownList&&"advanced"==e.pagerMode&&(e.pagershowrowscombotop.jqxDropDownList({disabled:!1}),e.pagershowrowscombobottom.jqxDropDownList({disabled:!1}))),e.host.find(".jqx-grid-pager-number").css("cursor",s?"default":"pointer")),e.host.find(".jqx-grid-group-collapse").css("cursor",s?"default":"pointer"),e.host.find(".jqx-grid-group-expand").css("cursor",s?"default":"pointer");else if("columnsHeight"==t)e._render();else if("theme"==t){if(ne.jqx.utilities.setTheme(i,s,e.host),e.vScrollBar.jqxScrollBar({theme:e.theme}),e.hScrollBar.jqxScrollBar({theme:e.theme}),e.pageable&&e.pagernexttop&&(e.pagernexttop.jqxButton({theme:e.theme}),e.pagerprevioustop.jqxButton({theme:e.theme}),e.pagernextbottom.jqxButton({theme:e.theme}),e.pagerpreviousbottom.jqxButton({theme:e.theme}),e.pagerfirsttop.jqxButton({theme:e.theme}),e.pagerfirstbottom.jqxButton({theme:e.theme}),e.pagerlasttop.jqxButton({theme:e.theme}),e.pagerlastbottom.jqxButton({theme:e.theme}),e.pagershowrowscombotop.jqxDropDownList&&"advanced"==e.pagerMode&&(e.pagershowrowscombotop.jqxDropDownList({theme:e.theme}),e.pagershowrowscombobottom.jqxDropDownList({theme:e.theme}))),e.filterable){var l=ne(".filterconditions");0<l.length&&l.jqxDropDownList({theme:e.theme}),e.filtercolumnsList&&e.filtercolumnsList.jqxDropDownList({theme:e.theme})}e.refresh()}else e.refresh()}},_rendercolumnheader:function(e,t,i,s){var r="4px";return s.columnGroups?((r=i/2-this._columnheight/2)<0&&(r=4),r+="px"):25!=this.columnsHeight&&((r=this.columnsHeight/2-this._columnheight/2)<0&&(r=4),r+="px"),'<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+r+"; margin-top: "+r+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>"}}),ne.jqx.dataCollection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginUpdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t},this.isempty=function(e){return null==this.records[e]},this.initialize=function(e){e<1&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null!=e&&(this.records[this.records.length]=e,!0)},this.insertAt=function(e,t){return null!=e&&null!=e&&(null!=t&&(0<=e&&(e<this.records.length?(this.records.splice(e,0,t),!0):this.add(t))))},this.remove=function(e){if(null==e||null==e)return!1;var t=this.records.indexOf(e);return-1!=t&&(this.records.splice(t,1),!0)},this.removeAt=function(e){if(null==e||null==e)return!1;if(e<0)return!1;if(e<this.records.length){this.records[e];return this.records.splice(e,1),!0}return!1},this},ne.jqx.dataView=function(){return(this.that=this).grid=null,this.records=[],this.rows=[],this.columns=[],this.filters=new Array,this.pagesize=0,this.pagenum=0,this.source=null,this.databind=function(e,t){var i=!!e._source,s=null;this._sortData=null,this._sortHierarchyData=null,i?e=(s=e)._source:s=new ne.jqx.dataAdapter(e,{autoBind:!1});var r,n=function(e){e.originaldata=s.originaldata,e.records=s.records,e.hierarchy=s.hierarchy,e.grid.serverProcessing||(e._sortData=null,e._sortfield=null,e._filteredData=null,e._sortHierarchyData=null),e.hierarchy||(e.hierarchy=new Array,s.hierarchy=new Array),s._source.totalrecords?e.totalrecords=s._source.totalrecords:s._source.totalRecords?e.totalrecords=s._source.totalRecords:0!==e.hierarchy.length?e.totalrecords=e.hierarchy.length:e.totalrecords=e.records.length,e.cachedrecords=s.cachedrecords};r=this,s.recordids=[],s.records=new Array,s.cachedrecords=new Array,s.originaldata=new Array,s._options.totalrecords=r.totalrecords,s._options.originaldata=r.originaldata,s._options.recordids=r.recordids,s._options.cachedrecords=new Array,s._options.pagenum=r.pagenum,s._options.pageable=r.pageable,null!=e.type&&(s._options.type=e.type),null!=e.formatdata&&(s._options.formatData=e.formatdata),null!=e.contenttype&&(s._options.contentType=e.contenttype),null!=e.async&&(s._options.async=e.async),null!=e.updaterow&&(s._options.updaterow=e.updaterow),null!=e.addrow&&(s._options.addrow=e.addrow),null!=e.deleterow&&(s._options.deleterow=e.deleterow),0==r.pagesize&&(r.pagesize=10),s._options.pagesize=r.pagesize,this.source=e,void 0!==t&&(uniqueId=t);var o=this;switch(e.datatype){case"local":case"array":default:if(null==e.localdata&&(e.localdata=[]),null!=e.localdata)s.unbindBindingUpdate(o.grid.element.id),(!o.grid.autoBind&&o.grid.isInitialized||o.grid.autoBind)&&s.dataBind(),(j=function(){n(o),o.update()})(),s.bindBindingUpdate(o.grid.element.id,j);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=e.localdata)return s.unbindBindingUpdate(o.grid.element.id),(!o.grid.autoBind&&o.grid.isInitialized||o.grid.autoBind)&&s.dataBind(),(j=function(e){n(o),o.update()})(),void s.bindBindingUpdate(o.grid.element.id,j);for(var a=[],l=0,d={},h=0;h<this.filters.length;h++){var c=this.filters[h].datafield,u=this.filters[h].filter;if(u.getfilters){var p=u.getfilters();d[c+"operator"]=u.operator;for(var m=0;m<p.length;m++){p[m].datafield=c;var f=p[m].value;if("datefilter"==p[m].type)if(p[m].value&&p[m].value.toLocaleString){var g=this.grid.getColumn(p[m].datafield);if(g&&g.cellsformat){var v=this.grid.source.formatDate(p[m].value,g.cellsformat,this.grid.gridlocalization);d["filtervalue"+l]=v||p[m].value.toLocaleString()}else d["filtervalue"+l]=f.toString()}else d["filtervalue"+l]=f.toString();else d["filtervalue"+l]=f.toString(),p[m].data&&(d["filterid"+l]=p[m].data.toString()),p[m].id&&(d["filterid"+l]=p[m].id.toString());d["filtercondition"+l]=p[m].condition,d["filteroperator"+l]=p[m].operator,d["filterdatafield"+l]=c;var x={label:f.toString()};p[m].data&&(x.value=p[m].data.toString()),p[m].id?x.value=p[m].id.toString():x.value=f.toString(),x.condition=p[m].condition,x.operator=0==p[m].operator?"and":"or",x.field=c,x.type=p[m].type;var w=!1;if(0<a.length)for(var y=0;y<a.length;y++){var b=a[y];if(b.field==c){b.filters.push(x),w=!0;break}}w||(a.push({field:c,filters:[]}),a[a.length-1].filters.push(x)),l++}}}d.filterGroups=a,d.filterslength=l,ne.extend(d,{sortdatafield:o.sortfield,sortorder:o.sortfielddirection,pagenum:o.pagenum,pagesize:o.grid.pageSize});var _=s._options.data;s._options.data?ne.extend(s._options.data,d):(e.data&&ne.extend(d,e.data),s._options.data=d);var j=function(){var e=function(){n(o),o.update()};if(ne.jqx.browser.msie&&ne.jqx.browser.version<9)try{e()}catch(e){}else e()};s.unbindDownloadComplete(o.grid.element.id),s.bindDownloadComplete(o.grid.element.id,j),s._source.loaderror=function(e,t,i){j()},(!o.grid.autoBind&&o.grid.isInitialized||o.grid.autoBind)&&s.dataBind(),s._options.data=_}},this.addFilter=function(e,t){this._sortData=null,this._sortHierarchyData=null;for(var i=-1,s=0;s<this.filters.length;s++)if(this.filters[s].datafield==e){i=s;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removeFilter=function(e){this._sortData=null,this._sortHierarchyData=null;for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this.sortBy=function(e,t){if(null==t)return this.sortfield="",void(this.sortfielddirection="");null==t&&(t=!0),t="a"==t||"asc"==t||"ascending"==t||1==t,"constructor"==e&&(e=""),this.sortfield=e,this.sortfielddirection=t?"asc":"desc"},this._sort=function(e){if(!this.sortfield||!this.sortfielddirection)return e;if(this._sortfield==this.sortfield&&this._sortfielddirection==this.sortfielddirection&&this._sortData)return this._sortData;var i=this,t=Object.prototype.toString;Object.prototype.toString="function"==typeof i.sortfield?i.sortfield:function(){return this[i.sortfield]};var s="";this.source.datafields&&ne.each(this.source.datafields,function(){if(this.name==i.sortfield)return this.type&&(s=this.type),!1});for(var r=new Array,n=0;n<e.length;n++)r.push(ne.extend({originalRecord:e[n]},e[n]));if(this._sortfield=this.sortfield,this._sortfielddirection=this.sortfielddirection,"desc"===this.sortfielddirection)var o=r.sort(function(e,t){return i._compare(e,t,s)}).reverse();else o=r.sort(function(e,t){return i._compare(e,t,s)});return this._sortData=o,Object.prototype.toString=t,o},this._compare=function(e,t,i){if(void 0===(e=e)&&(e=null),void 0===(t=t)&&(t=null),null===e&&null===t)return 0;if(null===e&&null!==t)return 1;if(null!==e&&null===t)return 1;if(e=e.toString(),t=t.toString(),ne.jqx.dataFormat)if(i&&""!=i)switch(i){case"number":case"int":case"float":return e<t?-1:t<e?1:0;case"date":case"time":return e<t?-1:t<e?1:0;case"string":case"text":e=String(e).toLowerCase(),t=String(t).toLowerCase()}else{if(ne.jqx.dataFormat.isNumber(e)&&ne.jqx.dataFormat.isNumber(t))return e<t?-1:t<e?1:0;if(ne.jqx.dataFormat.isDate(e)&&ne.jqx.dataFormat.isDate(t))return e<t?-1:t<e?1:0;ne.jqx.dataFormat.isNumber(e)||ne.jqx.dataFormat.isNumber(t)||(e=String(e).toLowerCase(),t=String(t).toLowerCase())}try{if(e<t)return-1;if(t<e)return 1}catch(e){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)},this.evaluate=function(e){if(this.grid.serverProcessing){if(e&&(""==this.grid.source._source.id||null==this.grid.source._source.id)&&this.grid.pageable){var t=this.grid.pageSize*this.pagenum;this.grid.rowsByKey=new Array;var r=this;ne.each(e,function(e){this.uid=t,r.grid.rowsByKey[this.uid]=this,t++})}return e}var i=new Array;if(this.filters.length){var d=new Array,s=function(e,t){for(var i=0;i<e.length;i++){var s=e[i];s._visible=!0;for(var r=void 0,n=0;n<this.filters.length;n++){var o=this.filters[n].filter,a=s[this.filters[n].datafield],l=o.evaluate(a);r=null==r?l:"or"==o.operator?r||l:r&&l}s._visible=!1,(r||s.aggregate)&&(s._visible=!0,t.push(s),d[s.uid]=s)}};if(this._filteredData)this.rows=this._filteredData;else{if(this.source.hierarchy||this.grid.source.hierarchy&&0<this.grid.source.hierarchy.length){var n=new Array,o=function(e,t){for(var i=0;i<t.length;i++){var s=t[i];n.push(s),s.records&&0<s.records.length&&o(s,s.records)}};o(null,e),s.call(this,n,i);for(var a=0;a<i.length;a++)for(var l=i[a];l.parent;){var h=l.parent;d[h.uid]||(h._visible=!0,d[h.uid]=h),l=h}i=e}else s.call(this,e,i);this._filteredData=i,this.rows=i}}else this.rows=e;if(this.source.hierarchy||this.grid.source.hierarchy&&0<this.grid.source.hierarchy.length){r=this;var c=new Array;this._sortData=null;var u=function(e,t){var i=r._sortData=null;if(r.source.hierarchy.groupingDataFields)if(t&&0<t.length&&t[0].level<r.source.hierarchy.groupingDataFields.length){i=new Array;for(var s=0;s<t.length;s++)i.push(ne.extend({originalRecord:t[s]},t[s]))}else i=r._sort(t);else i=r._sort(t);e.records?e.records=i:e=e.concat(i);for(s=0;s<i.length;s++)i[s].records&&i[s].records.length&&u(i[s],i[s].records);return e};(this.sortfield||this.sortfielddirection)&&(c=this._sortHierarchyData?this._sortHierarchyData:u(c,e),this.rows=c,this._sortHierarchyData=c)}else this.rows=this._sort(this.rows);return this.rows},this.getid=function(e,t,i){if(0<ne(e,t).length)return ne(e,t).text();if(this.rows&&""!=e&&null!=e&&0<this.rows.length){null==(n=this.rows[this.rows.length-1][e])&&(n=null);for(var s=1;s<=100;s++){if(!this.grid.rowsByKey[s+n]){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(this.grid.rowsByKey["jqx"+n+s])continue;return"jqx"+n+s}return n+s}}}if(null!=e&&0<e.toString().length){var r=ne(t).attr(e);if(null!=r&&0<r.toString().length)return this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords?"jqx"+r:r}if(this.rows&&0<this.rows.length&&this.grid.rowsByKey[i]){var n;null==(n=this.rows[this.rows.length-1][e])&&(n="");for(s=1;s<=1e3;s++){if(!this.grid.rowsByKey[s+n]){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(this.grid.rowsByKey["jqx"+n+s])continue;return"jqx"+n+s}return n+s}}}if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(!this.grid.rowsByKey["jqx"+i])return"jqx"+i;for(s=i+1;s<=100;s++){if(!this.grid.rowsByKey["jqx"+s]){if(this.grid.rowsByKey["jqx"+s])continue;return"jqx"+s}}}return i},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()},this}}(jqxBaseFramework),function(j){j.jqx.jqxWidget("jqxDateTimeInput","",{}),j.extend(j.jqx._jqxDateTimeInput.prototype,{defineInstance:function(){var e={value:j.jqx._jqxDateTimeInput.getDateTime(new Date),minDate:j.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:j.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),rowHeaderWidth:25,enableViews:!0,views:["month","year","decade"],selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],change:null,changing:null,template:"default",columnHeaderHeight:20,titleHeight:30,firstDayOfWeek:0,showWeekNumbers:!1,showTimeButton:!1,cookies:!1,cookieoptions:null,showFooter:!1,formatString:"dd/MM/yyyy",width:200,height:25,dayNameFormat:"firstTwoLetters",textAlign:"left",readonly:!1,culture:"default",activeEditor:null,showCalendarButton:!0,openDelay:250,closeDelay:300,closeCalendarAfterSelection:!0,isEditing:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",enableAbsoluteSelection:!1,disabled:!1,buttonSize:21,animationType:"slide",dropDownWidth:"200px",restrictedDates:new Array,dropDownHeight:"205px",dropDownContainer:"default",selectionMode:"default",renderMode:"full",rtl:!1,timeRange:null,_editor:!1,todayString:"Today",clearString:"Clear",popupZIndex:2e3,allowNullDate:!0,changeType:null,placeHolder:"",enableHover:!0,allowKeyboardDelete:!0,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","open","close","change"],aria:{"aria-valuenow":{name:"getDate",type:"date"},"aria-valuetext":{name:"getText",type:"string"},"aria-valuemin":{name:"min",type:"date"},"aria-valuemax":{name:"max",type:"date"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===j.jqx._jqxDateTimeInput.prototype||(j.extend(!0,this,e),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(1),this.minDate._setMinutes(1),this.minDate._setSeconds(1),this.minDate._setMilliseconds(1),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(1),this.maxDate._setMinutes(1),this.maxDate._setSeconds(1),this.maxDate._setMilliseconds(1),this.defaultMinDate=this.minDate,this.defaultMaxDate=this.maxDate),e},createInstance:function(e){var t="",i=this;if(!i.host.jqxCalendar)throw new Error("jqxDateTimeInput: Missing reference to jqxcalendar.js.");if("dd/MM/yyyy"!=i.formatString){var s=i.formatString.split(" ");if(s&&1<s.length){for(var r="",n=0;n<s.length;n++)"1"==s[n].length?r+=i._getFormatValue(s[n]):r+=s[n],n<s.length-1&&(r+=" ");i.formatString=r}}if("input"==i.element.nodeName.toLowerCase()){var o=i.element.getAttribute("type");if(o&&"dd/MM/yyyy"==i.formatString){if("date"==o&&(i.formatString="d"),"datetime"==o){var a=i._getFormatValue("d")+" "+i._getFormatValue("t");i.formatString=a,i.showTimeButton=!0}"time"==o&&(i.formatString="t",i.showTimeButton=!0,i.showCalendarButton=!1)}if(i.field=i.element,i.field.getAttribute("min")){var l=new Date(i.field.getAttribute("min"));"Invalid Date"!=l&&(i.min=l)}if(i.field.getAttribute("max")){var d=new Date(i.field.getAttribute("max"));"Invalid Date"!=d&&(i.max=d)}i.field.className&&(i._className=i.field.className);var h={title:i.field.title};i.field.value&&(h.value=i.field.value),i.field.id.length?h.id=i.field.id.replace(/[^\w]/g,"_")+"_jqxDateTimeInput":h.id=j.jqx.utilities.createId()+"_jqxDateTimeInput";var c=j("<div></div>",h);c[0].style.cssText=i.field.style.cssText,i.width||(i.width=j(i.field).width()),i.height||(i.height=j(i.field).outerHeight()),j(i.field).hide().after(c);var u=i.host.data();if(i.host=c,i.host.data(u),i.element=c[0],i.element.id=i.field.id,i.field.id=h.id,i._className&&(i.host.addClass(i._className),j(i.field).removeClass(i._className)),i.field.tabIndex){var p=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=p}}if(i.host.attr("value")){t=!0;var m,f=i.host.attr("value");if("range"!=i.selectionMode)null==(m=new Date(f))||isNaN(m)||(i.value=j.jqx._jqxDateTimeInput.getDateTime(m))}null!=i.value&&i.value instanceof Date?i.value=j.jqx._jqxDateTimeInput.getDateTime(i.value):null!=i.value&&"string"==typeof i.value&&(null==(m=new Date(i.value))||isNaN(m)?0<=i.value.indexOf(",")&&(i.value=i.value.replace(/\,/g,"/"),null==(m=new Date(i.value))||isNaN(m)||(i.value=j.jqx._jqxDateTimeInput.getDateTime(m))):i.value=j.jqx._jqxDateTimeInput.getDateTime(m));if(this._initTimeRange(),this._validateTimeRange(),i.host.attr("data-role","input"),i.render(),j.jqx.aria(this),null!=i.getDate()?j.jqx.aria(this,"aria-label","Current focused date is "+i.getDate().toLocaleString()):j.jqx.aria(this,"aria-label","Current focused date is Null"),i.minDate!==i.defaultMinDate&&(i.min=i.minDate),i.maxDate!==i.defaultMaxDate&&(i.max=i.maxDate),i.setMaxDate(i.max,!1),i.setMinDate(i.min,!1),"range"==i.selectionMode)if(t){var g=(f=i.host.attr("value")).substring(0,f.indexOf("-")),v=f.substring(f.indexOf("-")+1),x=new Date(g),w=new Date(v);null==x||isNaN(x)||null==w||isNaN(w)||i.setRange(x,w)}else null!=i.getDate()&&i.setRange(i.getDate(),i.getDate())},_validateTimeRange:function(){if(this.timeRange){var e=this.value.dateTime.getHours(),t=this.value.dateTime.getMinutes();e<=this.timeRange.minHour&&(this.value._setHours(this.timeRange.minHour),t<this.timeRange.minMinute&&this.value._setMinutes(this.timeRange.minMinute),this._updateEditorsValue()),e>=this.timeRange.maxHour&&(this.value._setHours(this.timeRange.maxHour),t>this.timeRange.maxMinute&&this.value._setMinutes(this.timeRange.maxMinute),this._updateEditorsValue())}},_initTimeRange:function(){if(this.timeRange){if(this.timeRange.min){var e=null;(0<=this.timeRange.min.indexOf("AM")||0<=this.timeRange.min.indexOf("PM"))&&(e=0<=this.timeRange.min.indexOf("AM")?"AM":"PM");var t=this.timeRange.min.split(":"),i=parseInt(t[0]),s=parseInt(t[1]);e&&(this.timeRange.minDefaultHour=i,this.timeRange.minMeridian=e),e&&"PM"==e&&(i+=12),this.timeRange.minHour=i,this.timeRange.minMinute=s}if(this.timeRange.max){e=null;(0<=this.timeRange.max.indexOf("AM")||0<=this.timeRange.max.indexOf("PM"))&&(e=0<=this.timeRange.max.indexOf("AM")?"AM":"PM");var r=this.timeRange.max.split(":");i=parseInt(r[0]),s=parseInt(r[1]);e&&(this.timeRange.maxDefaultHour=i,this.timeRange.maxMeridian=e),e&&"PM"==e&&(i+=12),this.timeRange.maxHour=i,this.timeRange.maxMinute=s}}},_format:function(t,i,e){var s=!1;try{null!=Globalize&&(s=!0),document.Globalize&&(Globalize=document.Globalize,s=!0)}catch(e){document.Globalize&&(Globalize=document.Globalize,s=!0)}if(document.Globalize&&(Globalize=document.Globalize,s=!0),j.global)return j.global.format(t,i,this.culture);if(!s){if(j.jqx.dataFormat)return t instanceof Date?j.jqx.dataFormat.formatdate(t,i,this.localization.calendar):"number"==typeof t?j.jqx.dataFormat.formatnumber(t,i,this.localization.calendar):j.jqx.dataFormat.formatdate(t,i,this.localization.calendar);throw new Error("jqxDateTimeInput: Missing reference to globalize.js.")}try{return i=Globalize.format(t,i,this.culture)}catch(e){return Globalize.format(t,i)}},render:function(){var e=this;e._removeHandlers(),e.element.innerHTML="",e.host.attr({role:"textbox"}),e.id=j.jqx.utilities.createId();j.jqx.utilities.createId(),j.jqx.utilities.createId();e._setSize(),null==e.width&&(e.width=e.host.width(),e.host.width(e.width)),e.touch=j.jqx.mobile.isTouchDevice();var t=j("<div class='jqx-max-size jqx-position-relative'></div>").appendTo(e.host);e.dateTimeInput=j("<input style='border: none; padding-left: 3px; padding-right: 3px;' class='jqx-position-absolute' id='input"+e.element.id+"' autocomplete='off' type='textarea'/>").appendTo(t),e.dateTimeInput.addClass(e.toThemeProperty("jqx-reset")),e.dateTimeInput.addClass(e.toThemeProperty("jqx-clear")),e.dateTimeInput.addClass(e.toThemeProperty("jqx-input-content")),e.dateTimeInput.addClass(e.toThemeProperty("jqx-widget-content")),e.dateTimeInput.addClass(e.toThemeProperty("jqx-rc-all")),e.dateTimeInput.attr("placeHolder",e.placeHolder),"full"!=e.renderMode&&e.dateTimeInput.remove();var i=e.host.attr("name");i&&e.dateTimeInput.attr("name",i),e.host.attr("tabindex")&&(e.dateTimeInput.attr("tabindex",e.host.attr("tabindex")),e.host.removeAttr("tabindex")),e.rtl&&(e.dateTimeInput.css("direction","rtl"),e.dateTimeInput.addClass("jqx-rtl")),e.calendarButton=j("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(t),e.rtl?e.calendarButton.addClass(e.toThemeProperty("jqx-action-button-rtl")):e.calendarButton.addClass(e.toThemeProperty("jqx-action-button")),e.calendarButtonIcon=j(e.calendarButton.children()[0]),e.calendarButtonIcon.addClass(e.toThemeProperty("jqx-icon")),e.calendarButtonIcon.addClass(e.toThemeProperty("jqx-icon-calendar")),e.calendarButton.addClass(e.toThemeProperty("jqx-fill-state-normal")),e.rtl?e.calendarButton.addClass(e.toThemeProperty("jqx-rc-l")):e.showTimeButton||e.calendarButton.addClass(e.toThemeProperty("jqx-rc-r")),e.timeButton=j("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(t),e.rtl?e.timeButton.addClass(e.toThemeProperty("jqx-action-button-rtl")):e.timeButton.addClass(e.toThemeProperty("jqx-action-button")),e.template&&(e.timeButton.addClass(e.toThemeProperty("jqx-"+e.template)),e.calendarButton.addClass(e.toThemeProperty("jqx-"+e.template))),e.timeButtonIcon=j(e.timeButton.children()[0]),e.timeButtonIcon.addClass(e.toThemeProperty("jqx-icon")),e.timeButtonIcon.addClass(e.toThemeProperty("jqx-icon-time")),e.timeButton.addClass(e.toThemeProperty("jqx-fill-state-normal")),e.rtl?e.timeButton.addClass(e.toThemeProperty("jqx-rc-l")):e.timeButton.addClass(e.toThemeProperty("jqx-rc-r"));var r=this;if(e._arrange(),null!=j.jqx._jqxCalendar&&null!=j.jqx._jqxCalendar)try{var s="calendar"+e.id,n=j(j.find("#"+s));0<n.length&&n.remove(),j.jqx.aria(this,"aria-owns",s),j.jqx.aria(this,"aria-haspopup",!0),j.jqx.aria(this,"aria-readonly","range"==e.selectionMode);var o=j("<div style='overflow: hidden; background: transparent; position: absolute;' id='calendar"+e.id+"'><div id='innerCalendar"+e.id+"'></div><div id='innerTime"+e.id+"'></div></div>");"opera"==j.jqx.utilities.getBrowser().browser&&o.hide(),"element"==e.dropDownContainer?o.appendTo(e.host):o.appendTo(document.body),e.container=o,e.calendarContainer=j(j.find("#innerCalendar"+e.id)).jqxCalendar({restrictedDates:this.restrictedDates,changing:e.changing,change:e.change,enableViews:e.enableViews,selectableDays:e.selectableDays,views:e.views,rowHeaderWidth:e.rowHeaderWidth,titleHeight:e.titleHeight,columnHeaderHeight:e.columnHeaderHeight,_checkForHiddenParent:!1,enableAutoNavigation:!1,canRender:!1,localization:e.localization,todayString:e.todayString,clearString:e.clearString,dayNameFormat:e.dayNameFormat,rtl:e.rtl,culture:e.culture,showFooter:e.showFooter,selectionMode:e.selectionMode,firstDayOfWeek:e.firstDayOfWeek,showWeekNumbers:e.showWeekNumbers,width:e.dropDownWidth,height:e.dropDownHeight,theme:e.theme}),"element"==e.dropDownContainer?e.calendarContainer.css({position:"absolute",top:0,left:0}):e.calendarContainer.css({position:"absolute",zIndex:e.popupZIndex,top:0,left:0}),e.calendarContainer.addClass(e.toThemeProperty("jqx-popup")),j.jqx.browser.msie&&e.calendarContainer.addClass(e.toThemeProperty("jqx-noshadow")),e.timeContainer=j(j.find("#innerTime"+e.id)),e.timeContainer.css({position:"absolute",zIndex:e.popupZIndex,top:0,left:0}),e.timeContainer.addClass(e.toThemeProperty("jqx-popup")),j.jqx.browser.msie&&e.timeContainer.addClass(e.toThemeProperty("jqx-noshadow")),e._calendar=j.data(e.calendarContainer[0],"jqxCalendar").instance;r=this;e._calendar.today=function(){r.today()},e._calendar.clear=function(){r.clear()},"opera"==j.jqx.utilities.getBrowser().browser&&o.show(),o.height(parseInt(e.calendarContainer.height())+25),o.width(parseInt(e.calendarContainer.width())+25),"range"==e.selectionMode&&(e.readonly=!0),"none"==e.animationType?e.container.css("display","none"):e.container.hide()}catch(e){}if(j.global&&j.global.preferCulture(e.culture),e.selectedText="",e._addHandlers(),e.self=this,e.oldValue=e.getDate(),e.items=new Array,e.editors=new Array,e._loadItems(),e.editorText="",1==e.readonly&&e.dateTimeInput.css("readonly",e.readonly),e.dateTimeInput.css("text-align",e.textAlign),e.host.addClass(e.toThemeProperty("jqx-widget")),e.host.addClass(e.toThemeProperty("jqx-datetimeinput")),e.host.addClass(e.toThemeProperty("jqx-input")),e.host.addClass(e.toThemeProperty("jqx-overflow-hidden")),e.host.addClass(e.toThemeProperty("jqx-rc-all")),e.host.addClass(e.toThemeProperty("jqx-reset")),e.host.addClass(e.toThemeProperty("jqx-clear")),e.host.addClass(e.toThemeProperty("jqx-widget-content")),e.propertyChangeMap.disabled=function(e,t,i,s){s?(e.host.addClass(r.toThemeProperty("jqx-input-disabled")),e.host.addClass(r.toThemeProperty("jqx-fill-state-disabled"))):(e.host.removeClass(r.toThemeProperty("jqx-fill-state-disabled")),e.host.removeClass(r.toThemeProperty("jqx-input-disabled"))),j.jqx.aria(e,"aria-disabled",s)},e.disabled&&(e.host.addClass(e.toThemeProperty("jqx-input-disabled")),e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e.dateTimeInput.attr("disabled",!0)),0<e.host.parents("form").length&&e.addHandler(e.host.parents("form"),"reset",function(){setTimeout(function(){r.setDate(new Date)},10)}),e.cookies){var a=j.jqx.cookie.cookie("jqxDateTimeInput"+e.element.id);null!=a&&e.setDate(new Date(a))}if(j.jqx.browser.msie&&j.jqx.browser.version<8&&0<e.host.parents(".jqx-window").length){var l=e.host.parents(".jqx-window").css("z-index");e.container.css("z-index",l+10),e.calendarContainer.css("z-index",l+10)}"default"!=e.culture&&e._applyCulture(),e.value&&(e.calendarContainer.jqxCalendar("_isDisabled",e.value.dateTime)?e.dateTimeInput.addClass(e.toThemeProperty("jqx-input-invalid")):e.dateTimeInput.removeClass(e.toThemeProperty("jqx-input-invalid")))},val:function(e){var t=this;if(0!=arguments.length){if(null==e&&t.setDate(null),"range"==t.selectionMode)return t.setRange(e,arguments[1]),t.getText();if(e instanceof Date&&t.setDate(e),"string"==typeof e){if("date"==e)return t.getDate();t.setDate(e)}t._calendar.getDate()!=t.getDate()&&t._calendar.setDate(t.getDate())}return t.getText()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=parseInt(this.width)+"px":null==this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width)+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=parseInt(this.height)+"px":null==this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height)+"px");var e=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(e=!0,this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(e=!0,this.host.height(this.height));var t=this;if(e&&this.calendarContainer){this._arrange();var i=this.host.width();"auto"!=this.dropDownWidth&&(i=this.dropDownWidth),this.calendarContainer.jqxCalendar({width:i}),this.container.width(parseInt(i)+25)}j.jqx.utilities.resize(this.host,function(){t.calendarContainer&&t._arrange()})},_arrange:function(){null==this.height&&(this.height=27,this.host.height(27));var e=parseInt(this.host.width()),t=parseInt(this.host.height()),i=this.buttonSize,s=2;this.showCalendarButton||this.showTimeButton||(i=0,buttonHeight=0,this.calendarButton.hide(),s=0),this.showCalendarButton?this.calendarButton.show():this.calendarButton.hide(),this.showTimeButton?this.timeButton.show():this.timeButton.hide();var r=e-i-1*s;if(this.showTimeButton&&this.showCalendarButton)r=e-2*i-1*s;else if(this.showTimeButton||this.showCalendarButton)r=e-i-1*s;0<r&&(this.dateTimeInput[0].style.width=r+"px"),this.rtl&&(this.dateTimeInput[0].style.width=-1+r+"px"),this.dateTimeInput[0].style.left="0px",this.dateTimeInput[0].style.top="0px",this.calendarButton[0].style.width=i+1+"px",this.calendarButton[0].style.left=1+r+"px",this.timeButton[0].style.width=i+1+"px",this.showCalendarButton?this.timeButton[0].style.left=1+this.calendarButton.width()+r+"px":this.timeButton[0].style.left=1+r+"px","full"!=this.renderMode&&(this.calendarButton[0].style.width="100%",this.calendarButton[0].style.left="0px",this.calendarButton.css("border","none"),this.timeButton[0].style.width="100%",this.timeButton[0].style.left="0px",this.timeButton.css("border","none"));var n=this.dateTimeInput.height();if(0==n&&"full"!=this.renderMode?(n=parseInt(this.dateTimeInput.css("font-size"))+3,this.calendarButton.addClass(this.toThemeProperty("jqx-rc-all")),this.timeButton.addClass(this.toThemeProperty("jqx-rc-all"))):n=17,-1==this.dateTimeInput[0].className.indexOf("jqx-rc-all")&&this.dateTimeInput.addClass(this.toThemeProperty("jqx-rc-all")),0<(a=parseInt(t)/2-parseInt(n)/2)){var o=this.dateTimeInput.css("font-size");""==o&&(o=13);var a=t-2-parseInt(o)-2;isNaN(a)&&(a=0),a<0&&(a=0);var l=a/2;j.jqx.browser.msie&&j.jqx.browser.version<8&&(l=a/4),this.dateTimeInput[0].style.paddingTop=Math.round(l)+"px",this.dateTimeInput[0].style.paddingBottom=Math.round(l)+"px"}this.rtl&&(this.calendarButton[0].style.width=i+"px",this.timeButton[0].style.width=i+"px",this.calendarButton.css("left","0px"),this.showCalendarButton?this.timeButton.css("left",i+"px"):this.timeButton.css("left","0px"),this.dateTimeInput.css("left",this.calendarButton.width()),this.showTimeButton&&this.showCalendarButton&&this.dateTimeInput.css("left",this.timeButton.width()+this.calendarButton.width()),j.jqx.browser.msie&&j.jqx.browser.version<=8&&(this.dateTimeInput.css("left",1+this.calendarButton.width()),this.showTimeButton&&this.showCalendarButton&&this.dateTimeInput.css("left",1+this.timeButton.width()+this.calendarButton.width())))},_removeHandlers:function(){this.removeHandler(j(document),"mousedown."+this.id),this.dateTimeInput&&(this.removeHandler(this.dateTimeInput,"keydown."+this.id),this.removeHandler(this.dateTimeInput,"blur"),this.removeHandler(this.dateTimeInput,"focus"),this.removeHandler(this.host,"focus"),this.removeHandler(this.dateTimeInput,"mousedown"),this.removeHandler(this.dateTimeInput,"mouseup"),this.removeHandler(this.dateTimeInput,"keydown"),this.removeHandler(this.dateTimeInput,"keyup"),this.removeHandler(this.dateTimeInput,"keypress")),null!=this.calendarButton&&this.removeHandler(this.calendarButton,"mousedown"),null!=this.timeButton&&this.removeHandler(this.timeButton,"mousedown"),null!=this.calendarContainer&&(this.removeHandler(this.calendarContainer,"cellSelected"),this.removeHandler(this.calendarContainer,"cellMouseDown")),this.removeHandler(j(window),"resize."+this.id)},isOpened:function(){var e=j.data(document.body,"openedJQXCalendar"+this.id);return null!=e&&e==this.calendarContainer},wheel:function(e,t){if(t.isEditing){t.changeType="mouse";var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return!s&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1,s)}e.preventDefault&&e.preventDefault(),e.returnValue=!1}},_handleDelta:function(e){return e<0?this.spinDown():this.spinUp(),!1},focus:function(){try{var e=this;e._firstFocusDate=e.getDate(),this._setSelectionStart(0),this._selectGroup(-1),this.dateTimeInput.focus(),setTimeout(function(){e._setSelectionStart(0),e._selectGroup(-1),e.dateTimeInput.focus()},25)}catch(e){}},_addHandlers:function(){this.element.id,this.element;var i=this;this.host.parents()&&this.addHandler(this.host.parents(),"scroll.datetimeinput"+this.element.id,function(e){i.isOpened()&&i.close()}),this.addHandler(this.host,"mouseenter",function(){!i.disabled&&i.enableHover&&(hovered=!0,i.calendarButtonIcon.addClass(i.toThemeProperty("jqx-icon-calendar-hover")),i.calendarButton.addClass(i.toThemeProperty("jqx-fill-state-hover")),i.showTimeButton&&(i.timeButtonIcon.addClass(i.toThemeProperty("jqx-icon-time-hover")),i.timeButton.addClass(i.toThemeProperty("jqx-fill-state-hover"))))}),this.addHandler(this.host,"mouseleave",function(){!i.disabled&&i.enableHover&&(i.calendarButtonIcon.removeClass(i.toThemeProperty("jqx-icon-calendar-hover")),i.calendarButton.removeClass(i.toThemeProperty("jqx-fill-state-hover")),i.showTimeButton&&(i.timeButtonIcon.removeClass(i.toThemeProperty("jqx-icon-time-hover")),i.timeButton.removeClass(i.toThemeProperty("jqx-fill-state-hover"))))}),this.addHandler(this.host,"mousewheel",function(e){i.wheel(e,i)}),this.addHandler(j(document),"mousedown."+this.id,this._closeOpenedCalendar,{me:this}),j.jqx.mobile.isTouchDevice()&&this.addHandler(j(document),j.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,this._closeOpenedCalendar,{me:this}),this.addHandler(this.dateTimeInput,"keydown."+this.id,function(e){var t=j.data(document.body,"openedJQXCalendar"+i.id);if(null!=t&&t==i.calendarContainer)return i.handleCalendarKey(e,i)}),null!=this.calendarContainer&&(this.addHandler(this.calendarContainer,"keydown",function(e){if(13==e.keyCode)return!(i.isOpened()&&!i._calendar._viewAnimating&&"month"==i._calendar.view)||(i.hideCalendar("selected","keyboard"),i.dateTimeInput.focus(),!1);if(9==e.keyCode){if(i.isOpened())return i.hideCalendar("selected","keyboard"),!0}else if(27==e.keyCode)return!i.isOpened()||(i.hideCalendar(null,"keyboard"),i.dateTimeInput.focus(),!1);if(i.timePopup=!1,84==e.keyCode&&(i.timePopup=!0),115==e.keyCode){if(i.isOpened())return i.hideCalendar("keyboard","keyboard"),i.dateTimeInput.focus(),!1;if(!i.isOpened())return i.showCalendar("keyboard","keyboard"),i.dateTimeInput.focus(),!1}if(e.altKey)if(38==e.keyCode){if(i.isOpened())return i.hideCalendar("keyboard","keyboard"),i.dateTimeInput.focus(),!1}else if(40==e.keyCode&&!i.isOpened())return i.showCalendar("keyboard","keyboard"),i.dateTimeInput.focus(),!1}),this.addHandler(this.calendarContainer,"cellSelected",function(e){if(i.closeCalendarAfterSelection){j.data(document.body,"openedJQXCalendarValue");"mouse"==e.args.selectionType&&("range"!=i.selectionMode?i.hideCalendar("selected","mouse"):0==i._calendar._clicks&&i.hideCalendar("selected","mouse"))}}),this.addHandler(this.calendarContainer,"cellMouseDown",function(e){i.closeCalendarAfterSelection&&i._calendar.value&&j.data(document.body,"openedJQXCalendarValue",new j.jqx._jqxDateTimeInput.getDateTime(i._calendar.value.dateTime))})),this.addHandler(this.dateTimeInput,"blur",function(e){if(null!=i.value){i.isEditing=!1;i.value.dateTime.getDay(),i._oldDT;i._validateValue(!0),e.stopPropagation&&e.stopPropagation(),i._updateText(),i._raiseEvent(9,e)}i.isOpened()||i.host.removeClass(i.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(e){i.focus()}),this.addHandler(this.dateTimeInput,"focus",function(e){if(i._firstFocusDate=i.getDate(),null!=i.value?("range"!=i.selectionMode?i._oldDT=new Date(i.value.dateTime):i._oldDT=i.getRange(),setTimeout(function(){var e=i._selection();i.isEditing=!0,i._validateValue(),i._updateText(),i._setSelectionStart(0),i._selectGroup(-1,e),i.host.addClass(i.toThemeProperty("jqx-fill-state-focus"))})):(i._setSelectionStart(0),i._selectGroup(-1),i.host.addClass(i.toThemeProperty("jqx-fill-state-focus"))),e.stopPropagation&&e.stopPropagation(),e.preventDefault)return e.preventDefault(),!1});var e="mousedown";this.touch&&(e=j.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.calendarButton,e,function(e){var t="block"==i.container.css("display");if(i.timePopup=!1,i.calendarPopup=!0,!i.disabled&&!i.isanimating){if(t)return i.hideCalendar(),!1;i.showCalendar("mouse"),e.preventDefault()}}),this.addHandler(this.timeButton,e,function(e){var t="block"==i.container.css("display");if(i.timePopup=!0,i.calendarPopup=!1,!i.disabled&&!i.isanimating){if(t)return i.hideCalendar("mouse","mouse"),!1;i.showCalendar("mouse"),e.preventDefault()}}),this.addHandler(this.dateTimeInput,"mousedown",function(e){return i._raiseEvent(2,e)}),this.addHandler(this.dateTimeInput,"mouseup",function(e){return i._raiseEvent(3,e)}),this.addHandler(this.dateTimeInput,"keydown",function(e){return i._raiseEvent(4,e)}),this.addHandler(this.dateTimeInput,"keyup",function(e){return i._raiseEvent(5,e)}),this.addHandler(this.dateTimeInput,"keypress",function(e){return i._raiseEvent(6,e)})},createID:function(){var e=Math.random()+"";return e="99"+(e=e.replace(".","")),"dateTimeInput"+(e/=1)},setMaxDate:function(e,t){null!=e&&(null!=e&&"string"==typeof e&&"Invalid Date"==(e=new Date(e))||(this.maxDate=j.jqx._jqxDateTimeInput.getDateTime(e),null!=this._calendar&&this._calendar.setMaxDate(e),0!=t&&(null!=this.getDate()&&this.getDate()>e&&this.setDate(e),j.jqx.aria(this,"aria-valuemax",e),this._refreshValue(),this._updateText())))},getMaxDate:function(){return null!=this.maxDate&&null!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(e,t){null!=e&&(null!=e&&"string"==typeof e&&"Invalid Date"==(e=new Date(e))||(this.minDate=j.jqx._jqxDateTimeInput.getDateTime(e),null!=this._calendar&&this._calendar.setMinDate(e),0!=t&&(null!=this.getDate()&&this.getDate()<e&&this.setDate(e),j.jqx.aria(this,"aria-valuemin",e),this._refreshValue(),this._updateText())))},getMinDate:function(){return null!=this.minDate&&null!=this.minDate?this.minDate.dateTime:null},_applyCulture:function(){var e=!1;try{null!=Globalize&&(e=!0)}catch(e){}try{if(j.global)j.global.preferCulture(this.culture),this.localization.calendar=j.global.culture.calendar;else if(e){var t=Globalize.culture(this.culture);this.localization.calendar=t.calendar}this._loadItems(),null!=this._calendar&&(this._calendar.culture=this.culture,this._calendar.localization=this.localization,this._calendar.render())}catch(e){}},propertyMap:function(e){return"value"==e?"range"!=this.selectionMode?this.getDate():this.getRange():null},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.refresh(),e.close())},propertyChangedHandler:function(e,t,i,s){if(null!=e.isInitialized&&0!=e.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){if("template"==t&&(e.timeButton.removeClass(e.toThemeProperty("jqx-"+i)),e.calendarButton.removeClass(e.toThemeProperty("jqx-"+i)),e.timeButton.addClass(e.toThemeProperty("jqx-"+e.template)),e.calendarButton.addClass(e.toThemeProperty("jqx-"+e.template))),"restrictedDates"==t&&e.calendarContainer.css({restrictedDates:s}),"popupZIndex"==t&&e.calendarContainer.css({zIndex:s}),"showCalendarButton"==t&&e._arrange(),"showTimeButton"==t&&(e._arrange(),e.timePopupElement&&(e.timePopupElement.remove(),e.timePopupElement=null)),"selectionMode"==t&&(e._calendar.selectionMode=s,e.refreshValue()),"min"==t&&("string"==typeof s?e.setMinDate(new Date(s)):e.setMinDate(s)),"max"==t&&("string"==typeof s?e.setMaxDate(new Date(s)):e.setMaxDate(s)),"value"==t)if(null!=s&&s instanceof Date){if(isNaN(s.getFullYear())||isNaN(s.getMonth())||isNaN(s.getDate()))return void(this.value=i);s=j.jqx._jqxDateTimeInput.getDateTime(s)}else if(null!=s&&"string"==typeof s){var r=new Date(s);null==r||isNaN(r)||(this.value=j.jqx._jqxDateTimeInput.getDateTime(r))}if("views"==t&&e.calendarContainer.jqxCalendar({views:s}),"enableViews"==t&&e.calendarContainer.jqxCalendar({enableViews:s}),"selectableDays"==t&&e.calendarContainer.jqxCalendar({selectableDays:s}),"showFooter"==t&&e.calendarContainer.jqxCalendar({showFooter:s}),"rtl"==t&&(e.calendarContainer.jqxCalendar({rtl:s}),s?(e.dateTimeInput.css("direction","rtl"),e.dateTimeInput.addClass("jqx-rtl")):(e.dateTimeInput.css("direction","ltr"),e.dateTimeInput.removeClass("jqx-rtl"))),"todayString"!=t&&"clearString"!=t||e.calendarContainer.jqxCalendar({clearString:e.clearString,todayString:e.todayString}),"dayNameFormat"==t&&e.calendarContainer.jqxCalendar({dayNameFormat:s}),"firstDayOfWeek"==t&&e.calendarContainer.jqxCalendar({firstDayOfWeek:s}),"showWeekNumbers"==t&&e.calendarContainer.jqxCalendar({showWeekNumbers:s}),"culture"==t||"localization"==t?e._applyCulture():"formatString"==t&&(e.items=new Array,e._loadItems()),"theme"==t&&(j.jqx.utilities.setTheme(i,s,e.host),e.calendarContainer.jqxCalendar({theme:s})),"width"==t||"height"==t)return e.close(),void e.refresh();e._setOption(t,s,i),"dropDownWidth"!=t&&"dropDownHeight"!=t||(e.calendarContainer.jqxCalendar({width:e.dropDownWidth,height:e.dropDownHeight}),e._calendar.render(),e.container.height(e.calendarContainer.height()),e.container.width(e.calendarContainer.width()))}},clear:function(){this.allowNullDate?("range"!=this.selectionMode?this.setDate(null):(this._calendar._clicks=1,this.setRange(null,null)),this._calendar._clicks=0):"range"!=this.selectionMode?this.setDate(me.getMinDate()):(this._calendar._clicks=1,this.setRange(me.getMinDate(),me.getMinDate()),this._calendar._clicks=0),this.hideCalendar()},today:function(){var e=new Date;if(e.setHours(0,0,0,0),"range"!=this.selectionMode)this.setDate(e);else{this._calendar._clicks=0;var t=new Date;t.setHours(23,59,59,0),this.setRange(e,t),this._calendar._clicks=0}this.hideCalendar()},setDate:function(e){var t=this.getDate();if(null!=e&&"string"==typeof e){var i=e;if(0<=e.toString().indexOf(",")&&(e=e.replace(/\,/g,"/"),"Invalid Date"==(e=new Date(e))&&(e=i)),0<=e.toString().indexOf("-")&&(e=e.replace(/\-/g,"/"),"Invalid Date"==(e=new Date(e))&&(e=i)),""!=e){var s=e;if("Invalid Date"==(e=null!=Globalize?Globalize.parseDate(s,this.formatString,this.culture):j.jqx.dataFormat?j.jqx.dataFormat.parsedate(s,this.formatString,this.localization.calendar):new Date(e)))return;null===e&&null!==s&&"Invalid Date"!=s&&(e=s)}}if(null!=e&&"null"!=e&&"undefined"!=e||this.allowNullDate||(e=this.min),"Invalid Date"==e&&(e=null),null!=e&&"null"!=e&&"undefined"!=e&&""!==e){if(!(e<this.getMinDate()||e>this.getMaxDate()))return null==this.value&&(this.value=new j.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),e.getFullYear&&(this.value._setYear(e.getFullYear()),this.value._setDay(1),this.value._setMonth(e.getMonth()+1),this.value._setHours(e.getHours()),this.value._setMinutes(e.getMinutes()),this.value._setSeconds(e.getSeconds()),this.value._setMilliseconds(e.getMilliseconds()),this.value._setDay(e.getDate())),this._validateTimeRange(),this._refreshValue(),this.cookies&&null!=this.value&&j.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),0!=this.getDate()-t?(this._raiseEvent("0",e,t),this._raiseEvent("9",e,t),!0):void 0}else null!=this.value&&(this.value=null,this._calendar.setDate(null),this._refreshValue(),this.cookies&&null!=this.value&&j.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this._setSelectionStart(0),this._selectGroup(-1),this._raiseEvent("0",e,t),this._raiseEvent("9",e,t))},getDate:function(){return null==this.value?null:new Date(this.value.dateTime)},getText:function(){return this.dateTimeInput.val()},setRange:function(e,t){if("Invalid Date"==e&&(e=null),"Invalid Date"==t&&(t=null),!(null!=e&&"string"==typeof e&&"Invalid Date"==(e=new Date(e))||null!=t&&"string"==typeof t&&"Invalid Date"==(t=new Date(t))||e&&isNaN(e)&&"NaN"==e.toString()&&"string"!=typeof e||t&&isNaN(t)&&"NaN"==t.toString()&&"string"!=typeof t)){this._calendar.setRange(e,t),t&&e&&t.valueOf()!=e.valueOf()?this._range={from:e,to:t}:this._range=this._calendar.getRange();var i=e;null!=i&&i.getFullYear&&(null==this.value&&(this.value=new j.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),this.value._setYear(i.getFullYear()),this.value._setMonth(i.getMonth()+1),this.value._setHours(i.getHours()),this.value._setMinutes(i.getMinutes()),this.value._setSeconds(i.getSeconds()),this.value._setMilliseconds(i.getMilliseconds()),this.value._setDay(i.getDate())),this._refreshValue(),this.value?this._raiseEvent("0",this.value.dateTime):this._raiseEvent("0",null)}},getRange:function(){var e=this._calendar.getRange();if(this._range){var t=this._range.from,i=this._range.to;i&&t&&i.valueOf()!=t.valueOf()&&(e.from&&e.from.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e.to&&e.to.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()))}return e},_validateValue:function(e){for(var t=0;t<this.items.length;t++){var i=this.editors[t].value;switch(this.items[t].type){case"FORMAT_AMPM":i<0?i=0:1<i&&(i=1);break;case"Character":break;case"Day":i<1?i=1:31<i&&(i=31);break;case"FORMAT_hh":i<1?i=1:12<i&&(i=12);break;case"FORMAT_HH":i<0?i=0:23<i&&(i=23);break;case"Millisecond":i<0?i=0:999<i&&(i=999);break;case"Minute":i<0?i=0:59<i&&(i=59);break;case"Month":i<1?i=1:12<i&&(i=12);break;case"ReadOnly":break;case"Second":i<0?i=0:59<i&&(i=59);break;case"Year":i<this.minDate.year?i=this.minDate.year:i>this.maxDate.year&&(i=this.maxDate.year)}this.editors[t].value!=i&&(this.editors[t].value=i,!0)}this.updateValue(e),null!=this.value&&!0===e&&(this.value.dateTime>this.maxDate.dateTime?(this._internalSetValue(this.maxDate),this._updateEditorsValue()):this.value.dateTime<this.minDate.dateTime&&(this._internalSetValue(this.minDate),this._updateEditorsValue()),this._updateText())},spinUp:function(){if(null!=this.value){if(null!=this.activeEditor){var e=this.editors.indexOf(this.activeEditor);if(-1==e)return;"Day"==this.items[e].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var t=this.activeEditor.positions;this.activeEditor.increaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=t}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var i=this.editors.indexOf(this.activeEditor);0<=i&&this._selectGroup(i)}},spinDown:function(){if(null!=this.value){if(null!=this.activeEditor){var e=this.editors.indexOf(this.activeEditor);if(-1==e)return;"Day"==this.items[e].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var t=this.activeEditor.positions;this.activeEditor.decreaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=t}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var i=this.editors.indexOf(this.activeEditor);0<=i&&this._selectGroup(i)}},_passKeyToCalendar:function(e){if(13==e.keyCode||9==e.keyCode)return this.hideCalendar("selected","keyboard"),!0;if(27==e.keyCode){this.calendarContainer;var t=this._calendar,i=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1,t.setDate(this.value.dateTime),this.closeCalendarAfterSelection=i,this.hideCalendar()}i=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1;var s=this._calendar._handleKey(e);return this.closeCalendarAfterSelection=i,s},handleCalendarKey:function(e,t){j(e.target);var i=j.data(document.body,"openedJQXCalendar"+this.id);if(null!=i&&0<i.length)return t._passKeyToCalendar(e);return!0},_findPos:function(e){if(null!=e){for(;e&&("hidden"==e.type||1!=e.nodeType||j.expr.filters.hidden(e));)e=e.nextSibling;var t=j(e).coord(!0);return[t.left,t.top]}},testOffset:function(e,t,i){var s=e.outerWidth(),r=e.outerHeight(),n=j(window).width()+j(window).scrollLeft(),o=j(window).height()+j(window).scrollTop();if(t.left+s>n&&s>this.host.width()){var a=this.host.coord().left,l=s-this.host.width();t.left=a-l+2}return t.left<0&&(t.left=parseInt(this.host.coord().left)+"px"),t.top-=Math.min(t.top,t.top+r>o&&r<o?Math.abs(r+i+23):0),t},open:function(e){this.timePopup="time"==e,this.showCalendar()},close:function(e){this.hideCalendar()},_getBodyOffset:function(){var e=0,t=0;return"0px"!=j("body").css("border-top-width")&&(e=parseInt(j("body").css("border-top-width")),isNaN(e)&&(e=0)),"0px"!=j("body").css("border-left-width")&&(t=parseInt(j("body").css("border-left-width")),isNaN(t)&&(t=0)),{left:t,top:e}},initTimePopup:function(){this.timePopupElement=j("<div style='border-style: solid; border-width: 0px;'></div>").appendTo(this.timeContainer),this.timePopupElement.addClass(this.toThemeProperty("jqx-widget-content jqx-widget jqx-date-time-input-popup"));var e="";e+="<table><tbody><tr><td><a class='increment-hour-column' href='javascript:;' data-action='incrementHour'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-minute-column' href='javascript:;' data-action='incrementMinute'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-second-column' href='javascript:;' data-action='incrementSecond'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-millisecond-column' href='javascript:;' data-action='incrementMSSecond'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td class='increment-meridian-column'><a href='javascript:;' data-action='toggleMeridian'><div class='jqx-icon-up'></div></a></td></tr><tr><td><input type='text' class='jqx-timepicker-hour' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-minute' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-second' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-millisecond' maxlength='3'></td><td class='separator'>&nbsp;</td><td><input type='text' class='jqx-timepicker-meridian' maxlength='2'></td></tr><tr><td><a class='decrement-hour-column' href='javascript:;' data-action='decrementHour'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-minute-column' href='javascript:;' data-action='decrementMinute'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-second-column' href='javascript:;' data-action='decrementSecond'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-millisecond-column' href='javascript:;' data-action='decrementMillisecond'><div class='jqx-icon-down'></div></a></td><td class='separator'>&nbsp;</td><td><a class='decrement-meridian-column' href='javascript:;' data-action='toggleMeridian'><div class='jqx-icon-down'></div></a></td></tr></tbody></table>";var s=this._getFormatValue(this.formatString);"range"!=this.selectionMode?this.timePopupElement[0].innerHTML=e:this.timePopupElement[0].innerHTML="<table><tr><td>"+e+"</td><td>-</td><td>"+e+"</td></tr></table>",this.timePopupElement.find(".jqx-icon-down").addClass(this.toThemeProperty("jqx-icon jqx-icon-arrow-down")),this.timePopupElement.find(".jqx-icon-up").addClass(this.toThemeProperty("jqx-icon jqx-icon-arrow-up"));var t=this.timePopupElement.find("input");t.addClass(this.toThemeProperty("jqx-input")),t.addClass(this.toThemeProperty("jqx-rc-all")),this.addHandler(t,"mousedown",function(e){e.stopPropagation()});var r=function(e){0<=e.target.className.indexOf("hour")&&i._decrementHour(j(e.target)),0<=e.target.className.indexOf("minute")&&i._decrementMinuteSecond(j(e.target)),0<=e.target.className.indexOf("second")&&i._decrementMinuteSecond(j(e.target)),0<=e.target.className.indexOf("millisecond")&&i._decrementMillisecond(j(e.target)),0<=e.target.className.indexOf("meridian")&&i._decrementMeridian(j(e.target))},n=function(e){0<=e.target.className.indexOf("hour")&&i._incrementHour(j(e.target)),0<=e.target.className.indexOf("minute")&&i._incrementMinuteSecond(j(e.target)),0<=e.target.className.indexOf("second")&&i._incrementMinuteSecond(j(e.target)),0<=e.target.className.indexOf("millisecond")&&i._incrementMillisecond(j(e.target)),0<=e.target.className.indexOf("meridian")&&i._incrementMeridian(j(e.target))};this.addHandler(t,"wheel",function(e){!function(e,t){if(t.isEditing){var i=0;e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.originalEvent&&null!=e.originalEvent.deltaY&&(i=-e.originalEvent.deltaY),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i&&(document.activeElement==e.target&&"input"==e.target.nodeName.toLowerCase()&&(i<0?r(e):n(e)),e.preventDefault&&e.preventDefault(),e.returnValue=!1),e.preventDefault&&e.preventDefault(),e.returnValue=!1}}(e,i)}),this.addHandler(t,"keydown",function(e){j(e.target);if(e.ctrlKey)if(38==e.keyCode){if(i.isOpened())return i.hideCalendar("keyboard","keyboard"),i.dateTimeInput.focus(),!1}else if(40==e.keyCode&&!i.isOpened())return i.showCalendar("keyboard","keyboard"),i.dateTimeInput.focus(),!1;40==e.keyCode?(r(e),e.preventDefault()):38==e.keyCode?(n(e),e.preventDefault()):13==e.keyCode?(e.preventDefault(),i.hideCalendar("keyboard","keyboard"),i.dateTimeInput.focus()):27==e.keyCode&&(e.preventDefault(),i.hideCalendar("cancel"),i.dateTimeInput.focus())}),this.hourInput=j(t[0]),this.minuteInput=j(t[1]),this.secondInput=j(t[2]),this.mssecondInput=j(t[3]),this.meridianInput=j(t[4]),this.hourInput2=j(t[5]),this.minuteInput2=j(t[6]),this.secondInput2=j(t[7]),this.mssecondInput2=j(t[8]),this.meridianInput2=j(t[9]);var i=this,o=this.timePopupElement.find(".increment-hour-column");this.hourIncrement=j(o[0]),this.hourIncrement2=j(o[1]),this.addHandler(t,"change",function(e){var t=j(e.target);if(t.val().length<=1&&t.val("0"+j(e.target).val()),0<=e.target.className.indexOf("hour")){var i=parseInt(j(e.target).val());if(0<=s.indexOf("HH"))for(;24<i;)i-=24;else for(;12<i;)i-=12;i<10&&(i="0"+i),t.val()!=i&&t.val(i)}if(0<=e.target.className.indexOf("minute")||0<=e.target.className.indexOf("second")){for(i=parseInt(j(e.target).val());59<i;)i--;i<10&&(i="0"+i),t.val()!=i&&t.val(i)}}),this._incrementHour=function(e){var t=parseInt(e.val());t++,0<=s.indexOf("HH")?23<t&&(t=0):12<t&&(t=1),t<10&&(t="0"+t),e.val(t)},this._incrementMinuteSecond=function(e){var t=parseInt(e.val());59<++t&&(t=0),t<10&&(t="0"+t),e.val(t)},this._incrementMillisecond=function(e){var t=parseInt(e.val());999<++t&&(t=0),t<10&&(t="0"+t),e.val(t)},this._incrementMeridian=function(e){var t=e.val();t=0<=t.toLowerCase().indexOf("a")?"PM":"AM",e.val(t)},this._decrementHour=function(e){var t=parseInt(e.val());t--,0<=s.indexOf("HH")?t<0&&(t=23):t<1&&(t=12),t<10&&(t="0"+t),e.val(t)},this._decrementMinuteSecond=function(e){var t=parseInt(e.val());--t<0&&(t=59),t<10&&(t="0"+t),e.val(t)},this._decrementMillisecond=function(e){var t=parseInt(e.val());--t<0&&(t=999),t<10&&(t="0"+t),e.val(t)},this._decrementMeridian=function(e){var t=e.val();t=0<=t.toLowerCase().indexOf("a")?"PM":"AM",e.val(t)},this.addHandler(this.hourIncrement,"mousedown",function(e){e.stopPropagation(),i._incrementHour(i.hourInput)}),this.addHandler(this.hourIncrement2,"mousedown",function(e){e.stopPropagation(),i._incrementHour(i.hourInput2)});var a=this.timePopupElement.find(".increment-minute-column");this.minuteIncrement=j(a[0]),this.minuteIncrement2=j(a[1]),this.addHandler(this.minuteIncrement,"mousedown",function(e){e.stopPropagation(),i._incrementMinuteSecond(i.minuteInput)}),this.addHandler(this.minuteIncrement2,"mousedown",function(e){e.stopPropagation(),i._incrementMinuteSecond(i.minuteInput2)});var l=this.timePopupElement.find(".increment-second-column");this.secondIncrement=j(l[0]),this.secondIncrement2=j(l[1]),this.addHandler(this.secondIncrement,"mousedown",function(e){e.stopPropagation(),i._incrementMinuteSecond(i.secondInput)}),this.addHandler(this.secondIncrement2,"mousedown",function(e){e.stopPropagation(),i._incrementMinuteSecond(i.secondInput2)});var d=this.timePopupElement.find(".increment-millisecond-column");this.millisecondsIncrement=j(d[0]),this.millisecondsIncrement2=j(d[1]),this.addHandler(this.millisecondsIncrement,"mousedown",function(e){e.stopPropagation(),i._incrementMillisecond(i.mssecondInput)}),this.addHandler(this.millisecondsIncrement2,"mousedown",function(e){e.stopPropagation(),i._incrementMillisecond(i.mssecondInput2)});var h=this.timePopupElement.find(".increment-meridian-column");this.meridianIncrement=j(h[0]),this.meridianIncrement2=j(h[1]),this.addHandler(this.meridianIncrement,"mousedown",function(e){e.stopPropagation(),i._incrementMeridian(i.meridianInput)}),this.addHandler(this.meridianIncrement2,"mousedown",function(e){e.stopPropagation(),i._incrementMeridian(i.meridianInput2)});var c=this.timePopupElement.find(".decrement-hour-column");this.hourDecrement=j(c[0]),this.hourDecrement2=j(c[1]),this.addHandler(this.hourDecrement,"mousedown",function(e){e.stopPropagation(),i._decrementHour(i.hourInput)}),this.addHandler(this.hourDecrement2,"mousedown",function(e){e.stopPropagation(),i._decrementHour(i.hourInput2)});var u=this.timePopupElement.find(".decrement-minute-column");this.minuteDecrement=j(u[0]),this.minuteDecrement2=j(u[1]),this.addHandler(this.minuteDecrement,"mousedown",function(e){e.stopPropagation(),i._decrementMinuteSecond(i.minuteInput)}),this.addHandler(this.minuteDecrement2,"mousedown",function(e){e.stopPropagation(),i._decrementMinuteSecond(i.minuteInput2)});var p=this.timePopupElement.find(".decrement-second-column");this.secondDecrement=j(p[0]),this.secondDecrement2=j(p[1]),this.addHandler(this.secondDecrement,"mousedown",function(e){e.stopPropagation(),i._decrementMinuteSecond(i.secondInput)}),this.addHandler(this.secondDecrement2,"mousedown",function(e){e.stopPropagation(),i._decrementMinuteSecond(i.secondInput2)});var m=this.timePopupElement.find(".decrement-millisecond-column");this.millisecondsDecrement=j(m[0]),this.millisecondsDecrement2=j(m[1]),this.addHandler(this.millisecondsDecrement,"mousedown",function(e){e.stopPropagation(),i._decrementMillisecond(i.mssecondInput)}),this.addHandler(this.millisecondsDecrement2,"mousedown",function(e){e.stopPropagation(),i._decrementMillisecond(i.mssecondInput2)});var f=this.timePopupElement.find(".decrement-meridian-column");this.meridianDecrement=j(f[0]),this.meridianDecrement2=j(f[1]),this.addHandler(this.meridianDecrement,"mousedown",function(e){e.stopPropagation(),i._decrementMeridian(i.meridianInput)}),this.addHandler(this.meridianDecrement2,"mousedown",function(e){e.stopPropagation(),i._decrementMeridian(i.meridianInput2)});var g=this.timePopupElement.find("table");this.addHandler(this.timePopupElement,"mousedown",function(e){e.stopPropagation()});var v=function(e){var t=e.find("tr");-1==s.indexOf("ss")&&(i.secondInput.hide(),i.secondInput2.hide(),j(j(t[0]).children()[3]).hide(),j(j(t[0]).children()[4]).hide(),j(j(t[1]).children()[3]).hide(),j(j(t[1]).children()[4]).hide(),j(j(t[2]).children()[3]).hide(),j(j(t[2]).children()[4]).hide()),-1==s.indexOf("tt")&&-1==s.indexOf("hh")&&(i.meridianInput.hide(),i.meridianInput2.hide(),j(j(t[0]).children()[7]).hide(),j(j(t[0]).children()[8]).hide(),j(j(t[1]).children()[7]).hide(),j(j(t[1]).children()[8]).hide(),j(j(t[2]).children()[7]).hide(),j(j(t[2]).children()[8]).hide()),-1==s.indexOf("zz")&&(i.mssecondInput.hide(),i.mssecondInput2.hide(),j(j(t[0]).children()[5]).hide(),j(j(t[0]).children()[6]).hide(),j(j(t[1]).children()[5]).hide(),j(j(t[1]).children()[6]).hide(),j(j(t[2]).children()[5]).hide(),j(j(t[2]).children()[6]).hide())};1==g.length?v(g):(v(j(j(g)[1])),v(j(j(g)[2])))},updateTimePopup:function(){var e=this._getFormatValue(this.formatString);if("range"!=this.selectionMode){var t=this.getDate();if(this.hourInput){if(t)var i=t.getHours(),s=t.getMinutes(),r=t.getHours(),n=t.getSeconds(),o=t.getMilliseconds();else i=0,s=0,r=0,n=0,o=0;12<=i?(r="PM",-1==e.indexOf("HH")&&0==(i-=12)&&(i=12)):r="AM","none"!=this.meridianInput.css("display")&&0==i&&(i=12),i<10&&(i="0"+i),s<10&&(s="0"+s),n<10&&(n="0"+n),o<10&&(o="0"+o),this.hourInput.val(i),this.minuteInput.val(s),this.secondInput.val(n),this.mssecondInput.val(o),this.meridianInput.val(r)}}else{t=this.getRange().from;if(this.hourInput){if(t)i=t.getHours(),s=t.getMinutes(),r=t.getHours(),n=t.getSeconds(),o=t.getMilliseconds();else i=0,s=0,r=0,n=0,o=0;12<=i?(r="PM",-1==e.indexOf("HH")&&0==(i-=12)&&(i=12)):r="AM","none"!=this.meridianInput.css("display")&&0==i&&(i=12),i<10&&(i="0"+i),s<10&&(s="0"+s),n<10&&(n="0"+n),o<10&&(o="0"+o),this.hourInput.val(i),this.minuteInput.val(s),this.secondInput.val(n),this.mssecondInput.val(o),this.meridianInput.val(r)}t=this.getRange().to;if(this.hourInput2){if(t)i=t.getHours(),s=t.getMinutes(),r=t.getHours(),n=t.getSeconds(),o=t.getMilliseconds();else i=0,s=0,r=0,n=0,o=0;12<=i?(r="PM",-1==e.indexOf("HH")&&0==(i-=12)&&(i=12)):r="AM","none"!=this.meridianInput.css("display")&&0==i&&(i=12),i<10&&(i="0"+i),s<10&&(s="0"+s),n<10&&(n="0"+n),o<10&&(o="0"+o),this.hourInput2.val(i),this.minuteInput2.val(s),this.secondInput2.val(n),this.mssecondInput2.val(o),this.meridianInput2.val(r)}}},showCalendar:function(){var e=this.calendarContainer,t=this._calendar;if(j.jqx.aria(this,"aria-expanded",!0),this.showTimeButton)if(this.timePopup){this.timePopupElement||this.initTimePopup(),this.calendarContainer.css("visibility","hidden"),this.timeContainer.css("visibility","visible"),this.updateTimePopup();for(var i=this.timeContainer.find("input"),s=0,r=0;r<i.length;r++)"none"!=i[r].style.display&&(s+=50);this.container.width(parseInt(s)),this.touch||setTimeout(function(){i[0].focus(),j(i[0]).select()},150+this.openDelay)}else this.container.width(parseInt(this.calendarContainer.width())+25),this.timeContainer.css("visibility","hidden"),this.calendarContainer.css("visibility","visible");null!=this.value?"range"!=this.selectionMode?this._oldDT=new Date(this.value.dateTime):this._oldDT=this.getRange():this._oldDT=null,t.canRender||(t.canRender=!0,t.render());this.container;var n,o=this,a=(j(window).scrollTop(),j(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),l=parseInt(Math.round(this.host.coord(!0).left));"element"===this.dropDownContainer&&(a=parseInt(this.host.outerHeight())-1+"px",n=0),n=l+"px";var d=j.jqx.mobile.isSafariMobileBrowser()||j.jqx.mobile.isWindowsPhone();null!=d&&d&&(n=j.jqx.mobile.getLeftPos(this.element),a=j.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=j("body").css("border-top-width")&&(a=parseInt(a)-this._getBodyOffset().top+"px"),"0px"!=j("body").css("border-left-width")&&(n=parseInt(n)-this._getBodyOffset().left+"px")),this.container.css("left",n),this.container.css("top",a);var h=this.closeCalendarAfterSelection;if(this.closeCalendarAfterSelection=!1,this.isEditing=!1,"default"==o.selectionMode){this._validateValue(),this._updateText();var c=null!=this.value?this.value.dateTime:new Date;t.setDate(c)}this.closeCalendarAfterSelection=h;var u=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var p=this.container.outerWidth(),m=Math.abs(p-this.host.outerWidth()+2);if(this.rtl||(m-=2),p>this.host.width()){this.container.css("left",23+parseInt(Math.round(l))-m+"px")}else this.container.css("left",25+parseInt(Math.round(l))+m+"px")}if("top"==this.dropDownVerticalAlignment){var f=e.height();this.timePopup&&this.timeContainer.css("top",this.container.height()-75),u=!0,e.css("top",23),e.addClass(this.toThemeProperty("jqx-popup-up"));var g=parseInt(this.host.outerHeight()),v=parseInt(a)-Math.abs(f+g+23);this.container.css("top",v)}if(this.enableBrowserBoundsDetection){var x=this.testOffset(e,{left:parseInt(this.container.css("left")),top:parseInt(a)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=x.top?(u=!0,e.css("top",23),e.addClass(this.toThemeProperty("jqx-popup-up"))):e.css("top",0),this.container.css("top",x.top),parseInt(this.container.css("left"))!=x.left&&this.container.css("left",x.left)}if(this._raiseEvent(7,e),"none"!=this.animationType){this.container.css("display","block");var w=parseInt(e.outerHeight());e.stop(),this.isanimating=!0,this.opening=!0,"fade"==this.animationType?(e.css("margin-top",0),e.css("opacity",0),e.animate({opacity:1},this.openDelay,function(){o.isanimating=!1,o.opening=!1,j.data(document.body,"openedJQXCalendar"+o.id,e),o.calendarContainer.focus()}),this.timePopup&&(this.timeContainer.css("margin-top",0),this.timeContainer.css("opacity",0),this.timeContainer.animate({opacity:1},this.openDelay,function(){o.isanimating=!1,o.opening=!1,j.data(document.body,"openedJQXCalendar"+o.id,e),o.timeContainer.focus()}))):(e.css("opacity",1),this.timePopup&&this.timeContainer.css("opacity",1),u?e.css("margin-top",w):e.css("margin-top",-w),this.timePopup&&(u?this.timeContainer.css("margin-top",w):this.timeContainer.css("margin-top",-w),this.timeContainer.animate({"margin-top":0},this.openDelay,function(){o.isanimating=!1,o.opening=!1,j.data(document.body,"openedJQXCalendar"+o.id,e),o.timeContainer.focus()})),e.animate({"margin-top":0},this.openDelay,function(){o.isanimating=!1,o.opening=!1,j.data(document.body,"openedJQXCalendar"+o.id,e),o.calendarContainer.focus()}))}else e.stop(),o.isanimating=!1,o.opening=!1,e.css("opacity",1),e.css("margin-top",0),this.container.css("display","block"),j.data(document.body,"openedJQXCalendar"+o.id,e),this.calendarContainer.focus(),this.timePopup&&(this.timeContainer.stop(),this.timeContainer.css("opacity",1),this.timeContainer.css("margin-top",0),this.timeContainer.focus());null==this.value&&this._calendar&&this._calendar._getSelectedCell()&&(this._calendar._getSelectedCell().isSelected=!1),this.timePopup?(this.timeButtonIcon.addClass(this.toThemeProperty("jqx-icon-time-pressed")),this.timeButton.addClass(this.toThemeProperty("jqx-fill-state-hover")),this.timeButton.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.timeContainer.addClass(this.toThemeProperty("jqx-fill-state-focus"))):(this.calendarButtonIcon.addClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.calendarContainer.addClass(this.toThemeProperty("jqx-fill-state-focus"))),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"))},hideCalendar:function(e,t){t&&(this.changeType=t);var i=this.calendarContainer,s=this.container,r=this;if(j.jqx.aria(this,"aria-expanded",!1),this.showTimeButton&&"hidden"!=this.timeContainer.css("visibility")&&"cancel"!=e)if("range"!=this.selectionMode&&this.hourInput){var n=this.getDate(),o=parseInt(this.hourInput.val()),a=parseInt(this.minuteInput.val()),l=parseInt(this.secondInput.val()),d=parseInt(this.mssecondInput.val()),h=this.meridianInput.val();isNaN(o)&&(o=0),isNaN(a)&&(a=0),isNaN(l)&&(l=0),isNaN(d)&&(d=0),"none"!=this.meridianInput.css("display")&&(0<=h.toLowerCase().indexOf("p")&&o<12&&(o+=12),0<=h.toLowerCase().indexOf("a")&&12<=o&&(o-=12)),n||(n=new Date),n.setHours(o,a,l,d),this.setDate(n)}else if(this.hourInput&&"selected"!=e){var c=this.getRange();o=parseInt(this.hourInput.val()),a=parseInt(this.minuteInput.val()),l=parseInt(this.secondInput.val()),d=parseInt(this.mssecondInput.val()),h=this.meridianInput.val();isNaN(o)&&(o=0),isNaN(a)&&(a=0),isNaN(l)&&(l=0),isNaN(d)&&(d=0),"none"!=this.meridianInput.css("display")&&(0<=h.toLowerCase().indexOf("p")&&o<12&&(o+=12),0<=h.toLowerCase().indexOf("a")&&12<=o&&(o-=12));var u=c.from;u||(u=new Date),u.setHours(o,a,l,d);o=parseInt(this.hourInput2.val()),a=parseInt(this.minuteInput2.val()),l=parseInt(this.secondInput2.val()),d=parseInt(this.mssecondInput2.val()),h=this.meridianInput2.val();""==a&&(a=0),""==l&&(l=0),""==d&&(d=0),"none"!=this.meridianInput2.css("display")&&(0<=h.toLowerCase().indexOf("p")&&o<12&&(o+=12),0<=h.toLowerCase().indexOf("a")&&12<=o&&(o-=12));var p=c.to;if(p||(p=new Date),p.setHours(o,a,l,d),p.valueOf()<u.valueOf())return!1;this.setRange(u,p)}else if("selected"==e)return;if(j.data(document.body,"openedJQXCalendar"+this.id,null),"none"!=this.animationType){var m=i.outerHeight();i.css("margin-top",0),this.showTimeButton&&this.timeContainer.css("margin-top",0),this.isanimating=!0;var f=-m;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(f=m),"fade"==this.animationType?i.animate({opacity:0},this.closeDelay,function(){s.css("display","none"),r.isanimating=!1}):i.animate({"margin-top":f},this.closeDelay,function(){s.css("display","none"),r.isanimating=!1}),this.showTimeButton&&("fade"==this.animationType?this.timeContainer.animate({opacity:0},this.closeDelay,function(){s.css("display","none"),r.isanimating=!1}):this.timeContainer.animate({"margin-top":f},this.closeDelay,function(){s.css("display","none"),r.isanimating=!1}))}else s.css("display","none");null!=e&&this._updateSelectedDate(e),this.timeButtonIcon.removeClass(this.toThemeProperty("jqx-icon-time-pressed")),this.timeButton.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this.timeButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.calendarButtonIcon.removeClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.timeContainer.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.calendarContainer.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent(8,i)},_updateSelectedDate:function(){var e=this.value;null==e&&((e=new j.jqx._jqxDateTimeInput.getDateTime(new Date))._setHours(0),e._setMinutes(0),e._setSeconds(0),e._setMilliseconds(0));var t=e.hour,i=e.minute,s=e.second,r=e.millisecond;if("range"!=this.selectionMode||null!=this._calendar.getRange().from){(o=new j.jqx._jqxDateTimeInput.getDateTime(this._calendar.value.dateTime))._setHours(t),o._setMinutes(i),o._setSeconds(s),o._setMilliseconds(r);var n=this.setDate(o.dateTime);if("range"==this.selectionMode&&!n&&this._oldDT){var o,a=this.getRange(),l=(this._oldDT,!1),d=!1,h=this._oldDT.from;if(null!=(o=a.from)&&h&&o.getFullYear()==h.getFullYear()&&o.getMonth()==h.getMonth()&&o.getDate()==h.getDate()&&o.getHours()==h.getHours()&&o.getMinutes()==h.getMinutes()&&o.getSeconds()==h.getSeconds()&&(l=!0),null!=(o=a.to)&&(h=this._oldDT.to)&&o.getFullYear()==h.getFullYear()&&o.getMonth()==h.getMonth()&&o.getDate()==h.getDate()&&o.getHours()==h.getHours()&&o.getMinutes()==h.getMinutes()&&o.getSeconds()==h.getSeconds()&&(d=!0),l&&d)return!0;this._raiseEvent(0,{}),this._raiseEvent(9,{})}}else this.setDate(null)},_closeOpenedCalendar:function(e){var t=j(e.target),i=j.data(document.body,"openedJQXCalendar"+e.data.me.id),s=!1;if(j.each(t.parents(),function(){if(this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-calendar"))return!(s=!0);if(-1!=this.className.indexOf("jqx-date-time-input-popup"))return!(s=!0);if(-1!=this.className.indexOf("jqx-input"))return!1}}),j(e.target).ischildof(e.data.me.host))return!0;if(null!=e.target&&("B"==e.target.tagName||"b"==e.target.tagName)){var r=e.data.me.host.coord(),n=e.data.me.host.width(),o=e.data.me.host.height(),a=parseInt(r.top),l=parseInt(r.left);if(a<=e.pageY&&e.pageY<=a+o&&l<=e.pageX&&e.pageX<=l+n)return!0}if(null!=i&&!s&&0<i.length){var d=i[0].id.toString().toString().substring(13);j(document).find("#"+d);!1!==e.data.me.hideCalendar()&&j.data(document.body,"openedJQXCalendar"+e.data.me.id,null)}},_loadItems:function(){if(null!=this.value){this.items=new Array;var e=this._getFormatValue(this.formatString);this.items=this._parseFormatValue(e),this.editors=new Array;for(var t=0;t<this.items.length;t++){var i=this.items[t].getDateTimeEditorByItemType(this.value,this);this.editors[t]=i}}this._updateEditorsValue(),this._updateText()},_updateText:function(){var e=this,t="";(0==e.items.length&&null!=e.value&&e._loadItems(),null!=e.value)&&(1<=e.items.length&&(t=e.format(e.value,0,e.items.length)),e.dateTimeInput.val()!=t&&e._raiseEvent(1,e.value));if("range"==e.selectionMode){var i=e.getRange();if(fromText=e.format(e.value,0,e.items.length),i.to){var s=j.jqx._jqxDateTimeInput.getDateTime(i.from);fromText=e.format(s,0,e.items.length);var r=j.jqx._jqxDateTimeInput.getDateTime(i.to);toText=e.format(r,0,e.items.length)," - "==(t=fromText+" - "+toText)&&(t="")}else t=""}e.dateTimeInput.val(t)},format:function(e,t,i){for(var s="",r=t;r<i;++r){var n=this.items[r].dateParser(e,this);if(this.isEditing&&"ReadOnly"!=this.items[r].type&&"range"!=this.selectionMode){var o="Day"==this.items[r].type&&2<this.items[r].format.length;if("FORMAT_AMPM"==this.items[r].type&&(o=!0,n=0==this.editors[r].value?this.editors[r].amString:this.editors[r].pmString),!o)for(n=this.items[r].dateParserInEditMode(new Number(this.editors[r].value),"d"+this.editors[r].maxEditPositions,this);n.length<this.editors[r].maxEditPositions;)n="0"+n}s+=n}return s},_getFormatValueGroupLength:function(e){for(i=1;i<e.toString().length;++i)if(e.substring(i,i+1)!=e.substring(0,1))return i;return e.length},_parseFormatValue:function(e){for(var t=new Array,i=e.toString(),s=0;0<i.length;){var r=this._getFormatValueGroupLength(i),n=null;switch(i.substring(0,1)){case":":case"/":r=1,n=j.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,1),"ReadOnly",this.culture);break;case'"':case"'":var o=i.indexOf(i[0],1);n=j.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(1,1+Math.max(1,o-1)),"ReadOnly",this.culture),r=Math.max(1,o+1);break;case"\\":2<=i.length&&(n=j.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(1,1),"ReadOnly",this.culture),r=2);break;case"d":case"D":n=j.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r),"Day",this.culture);break;case"f":case"F":7<r&&(r=7),n=3<r?j.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r),"ReadOnly",this.culture):j.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r),"Millisecond",this.culture);break;case"g":n=j.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r),"ReadOnly",this.culture);break;case"h":n=j.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r),"FORMAT_hh",this.culture);break;case"H":n=j.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r),"FORMAT_HH",this.culture);break;case"m":n=j.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r),"Minute",this.culture);break;case"M":4<r&&(r=4),n=j.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r),"Month",this.culture);break;case"s":case"S":n=j.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r),"Second",this.culture);break;case"t":case"T":n=j.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r),"FORMAT_AMPM",this.culture);break;case"y":case"Y":1<r?n=j.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r),"Year",this.culture):(r=1,n=j.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,1),dateTimeFormatInfo,"ReadOnly",this.culture));break;case"z":n=j.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r),"ReadOnly",this.culture);break;default:r=1,n=j.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,1),"ReadOnly",this.culture)}t[s]=j.extend(!0,{},n),i=i.substring(r),s++}return t},_getFormatValue:function(e){if(null!=e&&0!=e.length||(e="d"),1==e.length)switch(e.substring(0,1)){case"d":return this.localization.calendar.patterns.d;case"D":return this.localization.calendar.patterns.D;case"t":return this.localization.calendar.patterns.t;case"T":return this.localization.calendar.patterns.T;case"f":return this.localization.calendar.patterns.f;case"F":return this.localization.calendar.patterns.F;case"M":return this.localization.calendar.patterns.M;case"Y":return this.localization.calendar.patterns.Y;case"S":return this.localization.calendar.patterns.S}return 2==e.length&&"%"==e.substring(0,1)&&(e=e.substring(1)),e},_updateEditorsValue:function(){var e=this.value;if(null!=e){var t=e.year,i=e.day,s=e.hour,r=e.millisecond,n=e.second,o=e.minute,a=e.month;if(null!=this.items)for(var l=0;l<this.items.length;l++)switch(this.items[l].type){case"FORMAT_AMPM":0==(d=s%12)&&(d=12),this.editors[l].value=0<=s&&s<12?0:1;break;case"Day":this.editors[l].value=i;break;case"FORMAT_hh":var d;0==(d=s%12)&&(d=12),this.editors[l].value=d;break;case"FORMAT_HH":this.editors[l].value=s;break;case"Millisecond":this.editors[l].value=r;break;case"Minute":this.editors[l].value=o;break;case"Month":this.editors[l].value=a;break;case"Second":this.editors[l].value=n;break;case"Year":this.editors[l].value=t}}},updateValue:function(e){if(!(this.isEditing||this.items&&0==this.items.length)){for(var t=1,i=1,s=0,r=0,n=0,o=0,a=1,l=!1,d=!1,h=!1,c=!1,u=!1,p=!1,m=!1,f=new Array,g=null,v=0,x=0;x<this.items.length;x++)switch(this.items[x].type){case"FORMAT_AMPM":this.editors[x].value,g=this.editors[x];break;case"Character":break;case"Day":this.items[x].format.length<3&&(i=this.editors[x].value,f[v++]=this.editors[x],0==i&&(i=1),h=!0);break;case"FORMAT_hh":s=this.editors[x].value,c=!0;break;case"FORMAT_HH":s=this.editors[x].value,c=!0;break;case"Millisecond":r=this.editors[x].value,m=!0;break;case"Minute":o=this.editors[x].value,u=!0;break;case"Month":d=!0,0==(a=this.editors[x].value)&&(a=1);break;case"ReadOnly":break;case"Second":n=this.editors[x].value,p=!0;break;case"Year":if(l=!0,t=this.editors[x].value,this.editors[x].getDateTimeItem().format.length<3){if(4=="1900".Length)t+=100*parseInt(""+"1900"[0]+"1900"[1])}0==t&&(t=1)}var w=null!=this.value?new Date(this.value.dateTime):null;if(0<t&&0<a&&0<i&&0<=o&&0<=s&&0<=n&&0<=r){var y=this.value;null!=y&&(l||(t=y.year),d||(a=y.month),h||(i=y.day));try{if(12<a&&(a=12),a<1&&(a=1),e&&y._daysInMonth(t,a)<=i&&(i=y._daysInMonth(t,a),null!=f&&0<f.length))for(x=0;x<f.length;x++)f[x].value=i;null!=g&&(0==g.value?12<=s&&(s-=12):s+12<24&&(s+=12));this.value.dateTime.getDate();this.value._setYear(parseInt(t)),this.value._setDay(i),this.value._setMonth(a),c&&this.value._setHours(s),u&&this.value._setMinutes(o),p&&this.value._setSeconds(n),m&&this.value._setMilliseconds(r),this._validateTimeRange()}catch(e){this.value=y}if(null!=w)if(!(this.value.dateTime.getFullYear()==w.getFullYear()&&this.value.dateTime.getDate()==w.getDate()&&this.value.dateTime.getMonth()==w.getMonth()&&this.value.dateTime.getHours()==w.getHours()&&this.value.dateTime.getMinutes()==w.getMinutes()&&this.value.dateTime.getSeconds()==w.getSeconds())){if(this.changing){var b=this.changing(w,this.value.dateTime);b&&(this.value=j.jqx._jqxDateTimeInput.getDateTime(b))}this._raiseEvent("0",this.value.dateTime),this.cookies&&null!=this.value&&j.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this.change&&this.change(this.value.dateTime)}}var _=this.editors.indexOf(this.activeEditor);this.items[_];this.value&&(this.calendarContainer.jqxCalendar("_isDisabled",this.value.dateTime)?this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-invalid")):this.dateTimeInput.removeClass(this.toThemeProperty("jqx-input-invalid")))}},_internalSetValue:function(e){this.value._setYear(parseInt(e.year)),this.value._setDay(e.day),this.value._setMonth(e.month),this.value._setHours(e.hour),this.value._setMinutes(e.minute),this.value._setSeconds(e.second),this.value._setMilliseconds(e.milisecond)},_raiseEvent:function(e,t,i){var s=this.events[e],r={};r.owner=this,null==t&&(t={}),null==i&&(i=t);var n=t.charCode?t.charCode:t.keyCode?t.keyCode:0,o=!0,a=this.readonly,l=new j.Event(s);if(l.owner=this,l.args=r,l.args.date=this.getDate(),9==e&&(l.args.type=this.changeType,this.changeType=null),this.element.value=this.dateTimeInput.val(),9==e&&"range"!=this.selectionMode){var d=l.args.date;if(this._oldDT){if(null!=d&&d.getFullYear()==this._oldDT.getFullYear()&&d.getMonth()==this._oldDT.getMonth()&&d.getDate()==this._oldDT.getDate()&&d.getHours()==this._oldDT.getHours()&&d.getMinutes()==this._oldDT.getMinutes()&&d.getSeconds()==this._oldDT.getSeconds())return!0;j.jqx.aria(this,"aria-valuenow",this.getDate()),j.jqx.aria(this,"aria-valuetext",this.getText()),null!=this.getDate()?j.jqx.aria(this,"aria-label","Current focused date is "+this.getDate().toLocaleString()):j.jqx.aria(this,"aria-label","Current focused date is Null")}l.args.oldValue=i,l.args.newValue=l.args.date,this._oldDT&&(l.args.oldValue=this._oldDT)}if("range"==this.selectionMode){if(l.args.date=this.getRange(),this._oldDT){d=l.args.date.from;if(9==e){var h=!1,c=!1,u=this._oldDT.from;if(null!=d&&u&&d.getFullYear()==u.getFullYear()&&d.getMonth()==u.getMonth()&&d.getDate()==u.getDate()&&d.getHours()==u.getHours()&&d.getMinutes()==u.getMinutes()&&d.getSeconds()==u.getSeconds()&&(h=!0),null!=(d=l.args.date.to)&&(u=this._oldDT.to)&&d.getFullYear()==u.getFullYear()&&d.getMonth()==u.getMonth()&&d.getDate()==u.getDate()&&d.getHours()==u.getHours()&&d.getMinutes()==u.getMinutes()&&d.getSeconds()==u.getSeconds()&&(c=!0),h&&c)return!0;h=null==(h=l.args.date.from)?"":h.toString(),c=null==(c=l.args.date.to)?"":c.toString(),j.jqx.aria(this,"aria-valuenow",h+"-"+c),j.jqx.aria(this,"aria-valuetext",this.getText()),h&&c&&j.jqx.aria(this,"aria-label","Current focused range is "+h.toLocaleString()+"-"+c.toLocaleString())}}l.args.oldValue=i,l.args.newValue=l.args.date,this._oldDT&&(l.args.oldValue=this._oldDT)}if("none"==this.host.css("display"))return!0;2!=e&&3!=e&&4!=e&&5!=e&&6!=e&&(o=this.host.trigger(l),l.stopPropagation&&l.stopPropagation());var p=this;if(a||2!=e||this.disabled||setTimeout(function(){p.isEditing=!0,this.selectionMode,p._selectGroup(-1)},25),4==e){if(a||this.disabled){if(8!=n&&46!=n||(this.isEditing=!1,this.allowKeyboardDelete&&(this.allowNullDate?this.setDate(null):"range"!=this.selectionMode?this.setDate(this.getMinDate()):this.setRange(this.getMinDate(),this.getMinDate()))),9==n)return!0;if(!t.altKey)return!1}o=this._handleKeyDown(t,n)}else if(5==e){if(9==n)return!0;if(a||this.disabled)return!1}else if(6==e){if(9==n)return!0;if(a||this.disabled)return!1;o=this._handleKeyPress(t,n)}return o},_doLeftKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var e=this.activeEditor,t=!1,i=this.editors.indexOf(this.activeEditor),s=i;if(this.enableAbsoluteSelection&&0<=i&&0<this.activeEditor.positions)return this.activeEditor.positions--,void this._selectGroup(i);for(;0<i;)if(this.activeEditor=this.editors[--i],this._selectGroup(i),"ReadOnly"!=this.items[i].type){t=!0;break}return t||0<=s&&(this.activeEditor=this.editors[s]),null!=this.activeEditor&&e!=this.activeEditor&&"ReadOnly"!=this.items[i].type&&(this.enableAbsoluteSelection?this.activeEditor.positions=this.activeEditor.maxEditPositions-1:this.activeEditor.positions=0),this.activeEditor!=e&&(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0)}},_doRightKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var e=this.activeEditor,t=!1,i=this.editors.indexOf(this.activeEditor),s=i;if(this.enableAbsoluteSelection&&0<=i&&this.activeEditor.positions<this.activeEditor.maxEditPositions-1)return this.activeEditor.positions++,void this._selectGroup(i);for(;i<=this.editors.length-2;)if(this.activeEditor=this.editors[++i],this._selectGroup(i),"ReadOnly"!=this.items[i].type){if("Day"==this.items[i].type&&2<this.items[i].format.length)break;t=!0;break}return t||0<=s&&(this.activeEditor=this.editors[s]),null!=this.activeEditor&&this.activeEditor!=e&&"ReadOnly"!=this.items[i].type&&(this.activeEditor.positions=0),this.activeEditor!=e&&(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0)}},_saveSelectedText:function(){var e=this._selection(),t="",s=this.dateTimeInput.val();if(0<e.start||0<e.length)for(i=e.start;i<e.end;i++)t+=s[i];return window.clipboardData&&window.clipboardData.setData("Text",t),t},_selectWithAdvancePattern:function(){var e=this.editors.indexOf(this.activeEditor),t=!1;if("ReadOnly"!=this.items[e].type&&(t=!0),t){var i=this.activeEditor;if(null!=i)if(i.positions==i.maxEditPositions){this.editorText="";var s=i.value,r=!1;switch(this.items[e].type){case"FORMAT_AMPM":s<0?s=0:1<s&&(s=1);break;case"Character":break;case"Day":s<1?s=1:31<s&&(s=31);break;case"FORMAT_hh":s<1?s=1:12<s&&(s=12);break;case"FORMAT_HH":s<0?s=0:23<s&&(s=23);break;case"Millisecond":s<0?s=0:99<s&&(s=99);break;case"Minute":s<0?s=0:59<s&&(s=59);break;case"Month":s<1?s=1:12<s&&(s=12);break;case"ReadOnly":break;case"Second":s<0?s=0:59<s&&(s=59);break;case"Year":s<this.minDate.year?s=this.minDate.year:s>this.maxDate.year&&(s=this.maxDate.year)}return i.value!=s&&(r=!0),!r&&(this.isEditing=!1,this._validateValue(),this._updateText(),this.isEditing=!0,this._doRightKey(),!0)}}},_handleKeyPress:function(e,t){var i=this._selection(),s=e.ctrlKey||e.metaKey;if(s&&97==t||s&&65==t)return!0;if(8==t)return 0<i.start&&this._setSelectionStart(i.start),!1;if(46==t)return i.start<this.items.length&&this._setSelectionStart(i.start),!1;if(27===t)return this._firstFocusDate&&(this.setDate(this._firstFocusDate),this._setSelectionStart(0),this._selectGroup(-1)),!1;if(0<=i.start){this.changeType="keyboard";var r=String.fromCharCode(t),n=parseInt(r);if("p"!=r&&"a"!=r&&"A"!=r&&"P"!=r||"FORMAT_AMPM"==this.activeEditor.item.type&&(0!=this.activeEditor.value||"p"!=r&&"P"!=r?1!=this.activeEditor.value||"a"!=r&&"A"!=r||this.spinDown():this.spinUp()),!isNaN(n)){"block"==this.container.css("display")&&this.hideCalendar(),this.updateValue(),this._updateText();var o=this.editors.indexOf(this.activeEditor),a=null;if(this.isEditing=!0,"ReadOnly"!=o.type&&(a=this.activeEditor),null!=a&&0==a.positions&&(this.editorText=""),null==this.activeEditor&&(this.activeEditor=this.editors[0]),null==this.activeEditor)return!1;this.activeEditor.insert(r),null!=a&&this.editorText.length>=a.maxEditPositions&&(this.editorText=""),this.editorText+=r;var l=this._selectWithAdvancePattern();if(this.activeEditor.positions==this.activeEditor.maxEditPositions){var d=this._getLastEditableEditorIndex();this.editors.indexOf(this.activeEditor)==d&&l&&this.enableAbsoluteSelection?this.activeEditor.positions=this.activeEditor.maxEditPositions-1:this.activeEditor.positions=0}return!0,this.updateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!1}}return this._isSpecialKey(t)},_getLastEditableEditorIndex:function(){for(itemIndex=this.items.length-1;0<=itemIndex;itemIndex--)if("ReadOnly"!=this.items[itemIndex].type)return itemIndex;return-1},_handleKeyDown:function(e,t){var i=this;if(this.timePopup=!1,84==t&&(this.timePopup=!0),115==e.keyCode){if(i.isOpened())return i.hideCalendar("keyboard","keyboard"),!1;if(!i.isOpened())return i.showCalendar("keyboard","keyboard"),!1}if(e.altKey){if(38==e.keyCode){if(i.isOpened())return i.showTimeButton&&!i.showCalendarButton&&(i.timePopup=!0),i.hideCalendar("keyboard","keyboard"),!1}else if(40==e.keyCode&&!i.isOpened())return i.showTimeButton&&!i.showCalendarButton&&(i.timePopup=!0),i.showCalendar("keyboard","keyboard"),!1}else if(e.ctrlKey)if(this.timePopup=!0,38==e.keyCode){if(i.isOpened())return i.hideCalendar("keyboard","keyboard"),!1}else if(40==e.keyCode&&!i.isOpened())return i.showCalendar("keyboard","keyboard"),!1;if(i.isOpened())return 9==e.keyCode?(i.hideCalendar("selected","keyboard"),!0):void 0;i._selection();var s=e.ctrlKey||e.metaKey;if(s&&99==t||s&&67==t)return i._saveSelectedText(e),!0;if(s&&122==t||s&&90==t)return!1;if(s&&118==t||s&&86==t||e.shiftKey&&45==t){i.val();var r=this,n=j('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');return j("body").append(n),n.select(),setTimeout(function(){var e=n.val();r.setDate(e),n.remove()},100),!0}if(8==t||46==t){if(e.altKey||s||46!=t){if(null!=i.activeEditor){var o=i.editors.indexOf(i.activeEditor);if(0<=i.activeEditor.positions){var a=i._format(Number(i.activeEditor.value),"d"+i.activeEditor.maxEditPositions,i.culture);if(tmp=a,tmp=tmp.substring(0,i.activeEditor.positions)+"0"+tmp.substring(i.activeEditor.positions+1),parseInt(tmp)<i.activeEditor.minValue&&(tmp=i._format(Number(i.activeEditor.minValue),"d"+i.activeEditor.maxEditPositions,i.culture)),i.enableAbsoluteSelection?i.activeEditor.value=tmp:i.activeEditor.value=i.activeEditor.minValue,i._validateValue(),i._updateText(),i.changeType="keyboard",8==t){var l=this;i.enableAbsoluteSelection&&0<i.activeEditor.positions?setTimeout(function(){l.activeEditor.positions=l.activeEditor.positions-1,l._selectGroup(o)},10):setTimeout(function(){l._doLeftKey()},10)}else i._selectGroup(o)}else i._doLeftKey()}}else i.isEditing=!1,i.allowKeyboardDelete&&(i.changeType="keyboard",i.allowNullDate?i.setDate(null):"range"!=i.selectionMode?i.setDate(i.getMinDate()):i.setRange(i.getMinDate(),i.getMinDate()));return!1}if(38==t)return this.spinUp(),!(i.changeType="keyboard");if(40==t)return this.spinDown(),!(i.changeType="keyboard");if(9==t){if(null==i.value)return!0;if(e.shiftKey)var d=this._doLeftKey();else d=this._doRightKey();return!d}if(37==t){if(this._editor)return(d=this._doLeftKey())||(this.isEditing=!1,this._validateValue()),!d;d=this._doLeftKey();return!1}if(39==t||191==t){if(this._editor)return(d=this._doRightKey())||(this.isEditing=!1,this._validateValue()),!d;d=this._doRightKey();return!1}var h=this._isSpecialKey(t);return null==this.value&&(48<=t&&t<=57||96<=t&&t<=105)&&(i.changeType="keyboard",new Date>=this.getMinDate()&&new Date<=this.getMaxDate()?this.setDate(new Date):this.setDate(this.getMaxDate())),!j.jqx.browser.mozilla||(!!(j.jqx.browser.mozilla&&24<j.jqx.browser.version)||h)},_isSpecialKey:function(e){return 8==e||9==e||13==e||35==e||36==e||37==e||39==e||27==e||46==e},_selection:function(){if("selectionStart"in this.dateTimeInput[0]){var e=this.dateTimeInput[0],t=e.selectionEnd-e.selectionStart;return{start:e.selectionStart,end:e.selectionEnd,length:t,text:e.value}}var i=document.selection.createRange();if(null==i)return{start:0,end:e.value.length,length:0};var s=this.dateTimeInput[0].createTextRange(),r=s.duplicate();s.moveToBookmark(i.getBookmark()),r.setEndPoint("EndToStart",s);t=i.text.length;return{start:r.text.length,end:r.text.length+i.text.length,length:t,text:i.text}},_selectGroup:function(e,t){if("none"!=this.host.css("display")&&!this.readonly){if(!t)t=this._selection();for(var i="",s="",r=null,n=0;n<this.items.length;n++){if(s=this.items[n].dateParser(this.value,this),this.isEditing&&"ReadOnly"!=this.items[n].type)if(!("Day"==this.items[n].type&&2<this.items[n].format.length)&&"FORMAT_AMPM"!=this.items[n].type)for(s=this.items[n].dateParserInEditMode(new Number(this.editors[n].value),"d"+this.editors[n].maxEditPositions,this);s.length<this.editors[n].maxEditPositions;)s="0"+s;if(i+=s,"ReadOnly"!=this.items[n].type&&!("Day"==this.items[n].type&&2<this.items[n].format.length))if(null!=e&&-1!=e){if(e<=n){var o=i.length-s.length,a=s.length;this.enableAbsoluteSelection&&!isNaN(parseInt(s))&&this.isEditing&&-1!=e&&(a=1,o+=this.editors[n].positions),o==this.dateTimeInput.val().length&&o--,this._setSelection(o,o+a),r=this.editors[n],this.activeEditor=r;break}}else if(i.length>=t.start){r=this.editors[n],this.activeEditor=r;o=i.length-s.length,a=1;this.enableAbsoluteSelection?!isNaN(parseInt(s))&&this.isEditing&&-1!=e&&(a=1,o+=this.editors[n].positions):a=s.length,this._setSelection(o,o+a);break}}n<this.items.length&&-1==e&&"ReadOnly"!=this.items[n].type&&(this.activeEditor.positions=0);var l=this._selection();if(0==l.length&&0<l.start)this._getLastEditableEditorIndex()}},_getLastEditableEditorIndex:function(){var e=-1;for(i=0;i<this.editors.length;i++)"ReadOnly"!=this.items[i].type&&("Day"==this.items[i].type&&2<this.items[i].format.length||(e=i));return e},_setSelection:function(e,t){try{if("selectionStart"in this.dateTimeInput[0])this.dateTimeInput[0].setSelectionRange(e,t);else{var i=this.dateTimeInput[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}}catch(e){}},_setSelectionStart:function(e){this._setSelection(e,e)},destroy:function(){j.jqx.utilities.resize(this.host,null,!0),this.host.removeClass("jqx-rc-all"),this.timePopupElement&&this.timePopupElement.remove(),this._calendar.destroy(),this.container.remove(),this._removeHandlers(),this.dateTimeInput.remove(),this.host.remove()},refreshValue:function(){this._refreshValue()},refresh:function(e){1!=e&&(this._setSize(),this._arrange())},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_setOption:function(e,t,i){"value"===e&&(this.selectionMode,this._oldDT=null,this.value=t,this._refreshValue(),this._raiseEvent(9,{type:null})),"maxDate"==e&&(this._calendar.maxDate=t,this._raiseEvent(9,{type:null})),"minDate"==e&&(this._calendar.minDate=t,this._raiseEvent(9,{type:null})),"showCalendarButton"==e&&(t?this.calendarButton.css("display","block"):this.calendarButton.css("display","none")),"disabled"==e&&this.dateTimeInput.attr("disabled",t),"readonly"==e&&(this.readonly=t,this.dateTimeInput.css("readonly",t)),"textAlign"==e&&(this.dateTimeInput.css("text-align",t),this.textAlign=t),"width"==e?(this.width=t,this.width=parseInt(this.width),this._arrange()):"height"==e&&(this.height=t,this.height=parseInt(this.height),this._arrange())},_refreshValue:function(){this._updateEditorsValue(),this.updateValue(),this._validateValue(),this._updateText()}})}(jqxBaseFramework),function(g){g.jqx._jqxDateTimeInput.DateTimeFormatItem={},g.extend(g.jqx._jqxDateTimeInput.DateTimeFormatItem,{_create:function(e,t,i){return this.format=e,this.type=t,this.culture=i,this},_itemValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},_maximumValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},dateParser:function(e,t){return null==e?"":t._format(e.dateTime,1==this.format.length?"%"+this.format:this.format,this.culture)},dateParserInEditMode:function(e,t,i){return null==e?"":i._format(e.toString(),1==t.length?"%"+t:t,this.culture)},getDateTimeEditorByItemType:function(e,t){switch(this.type){case"FORMAT_AMPM":var i=g.jqx._jqxDateTimeInput.AmPmEditor._createAmPmEditor(this.format,e.hour/12,t.localization.calendar.AM[0],t.localization.calendar.PM[0],this,t);return g.extend({},i);case"Character":return null;case"Day":var s,r=e.year,n=e.month;s=3==this.format.length?t.localization.calendar.days.namesAbbr:3<this.format.length?t.localization.calendar.days.names:null;e.day;null!=s&&e.dayOfWeek+1;var o=g.jqx._jqxDateTimeInput.DateEditor._createDayEditor(e,e.day,1,e._daysInMonth(r,n),1==this.format.length?1:2,2,s,this,t);return g.extend({},o);case"FORMAT_hh":var a=e.hour%12;0==a&&(a=12);var l=g.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(a,1,12,1==this.format.length?1:2,2,this,t);return g.extend({},l);case"FORMAT_HH":var d=g.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(e.hour,0,23,1==this.format.length?1:2,2,this,t);return g.extend({},d);case"Millisecond":var h=g.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(e.millisecond/this._itemValue(),0,this._maximumValue(),this.format.length,this.format.length,this,t);return g.extend({},h);case"Minute":var c=g.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(e.minute,0,59,1==this.format.length?1:2,2,this,t);return g.extend({},c);case"Month":var u;u=3==this.format.length?t.localization.calendar.months.namesAbbr:3<this.format.length?t.localization.calendar.months.names:null;var p=g.jqx._jqxDateTimeInput.DateEditor._createMonthEditor(e.month,2==this.format.length?2:1,u,this,t);return g.extend({},p);case"ReadOnly":return g.jqx._jqxDateTimeInput.DisabledEditor._create(this.format.length,e.day,this,t);case"Second":var m=g.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(e.second,0,59,1==this.format.length?1:2,2,this,t);return g.extend({},m);case"Year":var f=g.jqx._jqxDateTimeInput.DateEditor._createYearEditor(e.year,4,this,t);return g.extend({},f)}return null}})}(jqxBaseFramework),function(d){d.jqx._jqxDateTimeInput.DateEditor=d.extend(d.jqx._jqxDateTimeInput.DateEditor,{formatValueLength:0,handleYears:!1,handleDays:!1,handleMonths:!1,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,dateTimeFormatInfo:null,days:null,dateTimeMonths:null,lastDayInput:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:4<=this.positions?4:this.positions:this.minEditPositions},initializeFields:function(e,t,i,s,r){this.minValue=e,this.maxValue=t,this.minEditPositions=i,this.maxEditPositions=s,this.updateActiveEditor(e),this.item=r},_createYearEditor:function(e,t,i,s){return d.jqx._jqxDateTimeInput.DateEditor=d.extend(!0,{},this),this.initializeFields(0,t<4?99:9999,2==t?2:1,3<t?4:2,i),this.initializeYearEditor(e,t,i.culture),this.handleYears=!0,this.that=s,this},initializeYearEditor:function(e,t,i){this.formatValueLength=t,this.dateTimeFormatInfo=i;var s=e;s=Math.min(s,9999),s=Math.max(s,1),s=this.formatValueLength<4?s%100:s,this.updateActiveEditor(s),this.value=s},updateActiveEditor:function(e){this.value=e,this.positions=0},_createDayEditor:function(e,t,i,s,r,n,o,a,l){return d.jqx._jqxDateTimeInput.DateEditor=d.extend(!0,{},this),this.initializeFields(i,s,1,n,a),this.currentValue=e,this.value=t,this.days=o,this.handleDays=!0,this.that=l,this},getDayOfWeek:function(e){return typeof this.currentValue==d.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),e},defaultTextValue:function(){this.value;var e=this.minEditPositions;return this.that._format(this.value,"d"+e,"")},textValue:function(){if(this.handleDays){if(null==this.days)return this.defaultTextValue();var e=this.value%7+1;return e=this.getDayOfWeek(e),this.days[e]}return this.handleMonths?null==this.dateTimeMonths||this.value<1||12<this.value?this.defaultTextValue():this.dateTimeMonths[this.value-1]:this.defaultTextValue()},defaultInsertString:function(e){if(null==e)return this.deleteValue();if(0==e.length)return this.deleteValue();var t=e.substring(0,1);if(!isNaN(t)){var i;return i=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),this.positions>=this.maxEditPositions&&(this.positions=0),i=i.substring(0,this.positions)+t+i.substring(this.positions+1),i=this.setValueByString(i,1),!0}},setValueByString:function(e,t){e=this.fixValueString(e);var i=new Number(e);return this.value=i,this.positions+=t,e},fixValueString:function(e){return e.length>this.maxEditPositions&&(e=e.substring(e.length-this.maxEditPositions)),e},initializeValueString:function(e){var t;return t="",this.hasDigits()&&(t=e),t},deleteValue:function(){return(this.value!=this.minValue||0!=this.hasDigits())&&(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return 0<this.positions},insert:function(e){if(this.handleDays){if(null!=this.days){var t=!1;if(t=this.insertLongString(e,t))return t;if(t=this.insertShortString(e,t))return t}return 1==this.value&&null!=this.lastDayInput&&0<this.lastDayInput.toString().length&&"0"==this.lastDayInput.toString()&&(this.value=0),this.lastDayInput=e,this.defaultInsertString(e)}if(this.handleMonths&&null!=this.dateTimeMonths){t=!1;if(t=this.insertLongString2(e,t))return t;if(t=this.insertShortString2(e,t))return t}return this.defaultInsertString(e)},insertShortString:function(e,t){if(1==e.length)for(i=0;i<6;++i){var s=(this.value+i)%7+1;if(this.days[s-1].substring(0,1)==e)return this.updateActiveEditor(s),t=!0}return t},insertLongString:function(e,t){if(0<e.length)for(i=0;i<6;++i){var s=(this.value+i)%7+1;if(this.days[s-1]==e)return this.updateActiveEditor(s),t=!0}return t},_createMonthEditor:function(e,t,i,s,r){return d.jqx._jqxDateTimeInput.DateEditor=d.extend(!0,{},this),this.initializeFields(1,12,t,2,s),this.dateTimeMonths=i,this.value=e,null!=this.dateTimeMonths&&null!=this.dateTimeMonths[12]&&0<this.dateTimeMonths[12].length&&(this.dateTimeMonths=null),this.handleMonths=!0,this.that=r,this},insertLongString2:function(e,t){if(0<e.length)for(i=0;i<11;++i)if(month=(this.value+i)%12+1,this.dateTimeMonths[month-1]==e)return this.updateActiveEditor(month),t=!0;return t},insertShortString2:function(e,t){if(1==e.length)for(i=0;i<11;++i){var s=(this.value+i)%12+1;if(this.dateTimeMonths[s-1].substring(0,1)==e)return this.updateActiveEditor(s),t=!0}return t},correctMaximumValue:function(e){return e>this.maxValue&&(e=this.minValue),e},correctMinimumValue:function(e){return e<this.minValue&&(e=this.maxValue),e},increaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if(9<(i=parseInt(i)+1)&&(i=0),!e){var s=this.value+1;return s=this.correctMaximumValue(s),this.updateActiveEditor(s),!0}var r=t.substring(0,this.positions)+i+t.substring(this.positions+1);return!(r==this.value&&!this.hasDigits())&&(this.updateActiveEditor(r),!0)},decreaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if((i=parseInt(i)-1)<0&&(i=9),!e){var s=this.value-1;return s=this.correctMinimumValue(s),this.updateActiveEditor(s),!0}var r=t.substring(0,this.positions)+i+t.substring(this.positions+1);return!(r==this.value&&!this.hasDigits())&&(this.updateActiveEditor(r),!0)},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(a){a.jqx._jqxDateTimeInput.NumberEditor={},a.extend(a.jqx._jqxDateTimeInput.NumberEditor,{formatValueLength:0,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:4<=this.positions?4:this.positions:this.minEditPositions},_createNumberEditor:function(e,t,i,s,r,n,o){return a.jqx._jqxDateTimeInput.NumberEditor=a.extend(!0,{},this),this.initializeFields(t,i,s,r,n),this.that=o,this},initializeFields:function(e,t,i,s,r){this.minValue=e,this.maxValue=t,this.minEditPositions=i,this.maxEditPositions=s,this.updateActiveEditor(e),this.item=r},updateActiveEditor:function(e){this.value=e,this.positions=0},getDayOfWeek:function(e){return typeof this.currentValue==a.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),e},textValue:function(){this.value;var e=this.minEditPositions;return this.that._format(this.value,"d"+e,"")},insert:function(e){if(null==e)return this.deleteValue();if(0==e.length)return this.deleteValue();var t=e.substring(0,1);if(!isNaN(t)){var i;return i=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),this.positions>=this.maxEditPositions&&(this.positions=0),i=i.substring(0,this.positions)+t+i.substring(this.positions+1),i=this.setValueByString(i,1),!0}},setValueByString:function(e,t){e=this.fixValueString(e);var i=new Number(e);return this.value=i,this.positions+=t,e},fixValueString:function(e){return e.length>this.maxEditPositions&&(e=e.substring(e.length-this.maxEditPositions)),e},initializeValueString:function(e){var t;return t="",this.hasDigits()&&(t=e),t},deleteValue:function(){return(this.value!=this.minValue||0!=this.hasDigits())&&(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return 0<this.positions},correctMaximumValue:function(e){return e>this.maxValue&&(e=this.minValue),e},correctMinimumValue:function(e){return e<this.minValue&&(e=this.maxValue),e},increaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if(9<(i=parseInt(i)+1)&&(i=0),!e){var s=this.value+1;return s=this.correctMaximumValue(s),this.updateActiveEditor(s),!0}var r=t.substring(0,this.positions)+i+t.substring(this.positions+1);return!(r==this.value&&!this.hasDigits())&&(this.updateActiveEditor(r),!0)},decreaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if((i=parseInt(i)-1)<0&&(i=9),!e){var s=this.value-1;return s=this.correctMinimumValue(s),this.updateActiveEditor(s),!0}var r=t.substring(0,this.positions)+i+t.substring(this.positions+1);return!(r==this.value&&!this.hasDigits())&&(this.updateActiveEditor(r),!0)},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.DisabledEditor={},e.extend(e.jqx._jqxDateTimeInput.DisabledEditor,{_create:function(e,t,i,s,r,n){return this.format=e,this.value=-1,this.item=r,this.that=n,this},textValue:function(){return""},insert:function(e){return!1},deleteValue:function(){return!1},increaseValue:function(){return!1},decreaseValue:function(){return!1},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.AmPmEditor={},e.extend(e.jqx._jqxDateTimeInput.AmPmEditor,{_createAmPmEditor:function(e,t,i,s,r,n){return this.format=e,this.value=t,this.minValue=0,this.amString=i,this.pmString=s,this.item=r,this.that=n,i==s&&(this.amString="<"+i,this.pmString=">"+s),this},textValue:function(){var e=this.amString;return 0!=this.value&&(e=this.pmString),1==this.format.length&&1<e.length&&(e=e.substring(0,1)),e},insert:function(e){var t=e.toString();if(0==t.Length)return this.deleteValue();var i=!1;if(0<this.amString.Length&&0<this.pmString.Length){var s=amString[0],r=t[0],n=pmString[0];s.toString()==r.toString()?i=!(this.value=0):n.toString()==r.toString()&&(this.value=1,i=!0)}else 0<this.pmString.Length?(this.value=1,i=!0):0<this.amString.Length&&(i=!(this.value=0));return i},deleteValue:function(){if(0==this.amString.Length&&0!=this.pmString.Length){if(0==this.value)return!1;this.value=0}else{if(1==this.value)return!1;this.value=1}return!0},increaseValue:function(){return this.value=1-this.value,!0},decreaseValue:function(){return this.increaseValue(),!0},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),jqxBaseFramework.jqx._jqxDateTimeInput.getDateTime=function(e){return{dateTime:new Date(e),daysPer4Years:1461,daysPerYear:365,daysToMonth365:{0:0,1:31,2:59,3:90,4:120,5:151,6:181,7:212,8:243,9:273,10:304,11:334,12:365},daysToMonth366:{0:0,1:31,2:60,3:91,4:121,5:152,6:182,7:213,8:244,9:274,10:305,11:335,12:366},maxValue:3155378976e9,millisPerDay:864e5,millisPerHour:36e5,millisPerMinute:6e4,millisPerSecond:1e3,minTicks:0,minValue:0,ticksPerDay:864e9,ticksPerHour:36e9,ticksPerMillisecond:1e4,ticksPerMinute:6e8,ticksPerSecond:1e7,hour:e.getHours(),minute:e.getMinutes(),day:e.getDate(),second:e.getSeconds(),month:1+e.getMonth(),year:e.getFullYear(),millisecond:e.getMilliseconds(),dayOfWeek:e.getDay(),isWeekend:function(e){return null!=e&&null!=e||(e=this.dateTime),e.getDay()%6==0},dayOfYear:function(e){null!=e&&null!=e||(e=this.dateTime);var t=new Date(e.getFullYear(),0,1);return Math.ceil((e-t)/864e5)},_setDay:function(e){null!=e&&null!=e||(e=0),this.dateTime.setDate(e),this.day=this.dateTime.getDate()},_setMonth:function(e){null!=e&&null!=e||(e=0),this.dateTime.setMonth(e-1),this.month=1+this.dateTime.getMonth()},_setYear:function(e){null!=e&&null!=e||(e=0),this.dateTime.setFullYear(e),this.year=this.dateTime.getFullYear()},_setHours:function(e){null!=e&&null!=e||(e=0),this.dateTime.setHours(e),this.hour=this.dateTime.getHours()},_setMinutes:function(e){null!=e&&null!=e||(e=0),this.dateTime.setMinutes(e),this.minute=this.dateTime.getMinutes()},_setSeconds:function(e){null!=e&&null!=e||(e=0),this.dateTime.setSeconds(e),this.second=this.dateTime.getSeconds()},_setMilliseconds:function(e){null!=e&&null!=e||(e=0),this.dateTime.setMilliseconds(e),this.millisecond=this.dateTime.getMilliseconds()},_addDays:function(e){var t=this.dateTime,i=t.getDate();return t.setDate(t.getDate()+e),i===t.getDate()&&t.setHours(t.getHours()+t.getTimezoneOffset()/60),t},_addWeeks:function(e){var t=this.dateTime;return t.setDate(t.getDate()+7*e),t},_addMonths:function(e){var t=this.dateTime;return t.setMonth(t.getMonth()+e),t},_addYears:function(e){var t=this.dateTime;return t.setFullYear(t.getFullYear()+e),t},_addHours:function(e){var t=this.dateTime;return t.setHours(t.getHours()+e),t},_addMinutes:function(e){var t=this.dateTime;return t.setMinutes(t.getMinutes()+e),t},_addSeconds:function(e){var t=this.dateTime;return t.setSeconds(t.getSeconds()+e),t},_addMilliseconds:function(e){var t=this.dateTime;return t.setMilliseconds(t.getMilliseconds()+e),t},_isLeapYear:function(e){if(e<1||9999<e)throw"invalid year";return e%4==0&&(e%100!=0||e%400==0)},_dateToTicks:function(e,t,i){if(1<=e&&e<=9999&&1<=t&&t<=12){var s=this._isLeapYear(e)?this.daysToMonth366:this.daysToMonth365;if(1<=i&&i<=s[t]-s[t-1])return 864e9*(365*(e-=1)+e/4-e/100+e/400+s[t-1]+i-1)}},_daysInMonth:function(e,t){if(t<1||12<t)throw"Invalid month.";var i=this._isLeapYear(e)?this.daysToMonth366:this.daysToMonth365;return i[t]-i[t-1]},_timeToTicks:function(e,t,i){return 1e7*(3600*e+60*t+i)},_equalDate:function(e){return this.year==e.getFullYear()&&this.day==e.getDate()&&this.month==e.getMonth()+1}}},function(k){k.jqx.jqxWidget("jqxLayout","",{}),k.extend(k.jqx._jqxLayout.prototype,{defineInstance:function(){var e={width:null,height:null,minGroupWidth:100,minGroupHeight:100,layout:[],resizable:!0,contextMenu:!1,rtl:!1,events:["create","resize","pin","unpin","floatGroupClosed"]};return this===k.jqx._jqxLayout.prototype||k.extend(!0,this,e),e},createInstance:function(){var e=this;e._originalElement=k(e.element.cloneNode(!0)),e._coordinates=[],e._oldIE=k.jqx.browser.msie&&k.jqx.browser.version<9,e._ie7=k.jqx.browser.msie&&k.jqx.browser.version<8,e._touchDevice=k.jqx.mobile.isTouchDevice(),"none"!==e.host.css("display")&&!0===document.body.contains(e.element)?(e._initiallyHidden=!1,e._initialization=!0,e.render()):e._initiallyHidden=!0,k.jqx.utilities.resize(this.host,function(){!0!==e._suppressResizeHandler&&(!0===e._initiallyHidden&&(e._initialization=!0),e.render(),!0===e._initiallyHidden&&(e.dockingLayout&&(e.dockingLayout._createOverlay(),e.dockingLayout._createEdgeOverlays()),e._initiallyHidden=!1))})},render:function(){var e,t,i=this,s=[];if(i._tabbedGroupsList=[],i.dockingLayout&&!(i._overlayGroups=[])===i._initialization){e=i.dockingLayout._overlay.detach(),t=i.dockingLayout._dropOverlayHelper.detach();for(var r=0;r<i.dockingLayout._edgeOverlays.length;r++)s.push(k(i.dockingLayout._edgeOverlays[r]).detach())}if(!0===i._rendered&&i._detachContent(i.layout[0].items),i.element.innerHTML="",!i.host.jqxRibbon)throw new Error("jqxLayout: Missing reference to jqxribbon.js.");if(i._setSize(),i._addClasses(),i._removeHandlers(),!i._rendered){if("layoutGroup"!==i.layout[0].type)throw new Error('jqxLayout: Invalid layout structure. The first member of the layout array has to be with type: "layoutGroup".');var n=i.layout[0].items[0].width,o=i.layout[0].items[0].height;n&&"string"==typeof n&&"%"===n.charAt(n.length-1)||o&&"string"==typeof o&&"%"===o.charAt(o.length-1)||(i.layout[0].initialPxWidth=i.element.offsetWidth,i.layout[0].initialPxHeight=i.element.offsetHeight,i._pxToPercent(i.layout[0],!0))}if(i._createLayout(i.layout,i.host,{type:"host"},0),!0===i.resizable&&(i._addResizeFeedbacks(),i._getGroupCoordinates(),i._addHandlers()),!0===i.contextMenu&&i._initMenu(),!0===i._initialization)i._initialization=!1,i._raiseEvent("0");else if(i.dockingLayout){if(i._ie7){k("body").append(e,t);for(var a=0;a<s.length;a++)k("body").append(s[a])}else{e.appendTo(i.host),t.appendTo(i.host);for(var l=0;l<s.length;l++)s[l].appendTo(i.host)}i.dockingLayout._trackFloatGroups()}for(var d=0;d<i._tabbedGroupsList.length;d++)i._validateTabbedGroup(i._tabbedGroupsList[d]);i._rendered||(i._rendered=!0)},refresh:function(e){!0!==e&&this.render()},destroy:function(){this._mouseupHandler=null,this._docUP=null,this._removeHandlers(),!0===this.contextMenu&&this._menu.jqxMenu("destroy"),this.host.remove()},saveLayout:function(){for(var e=[],t=0;t<this.layout.length;t++)this._copyItem(this.layout[t],e);return e},loadLayout:function(e){if(void 0!==e&&!1===k.isEmptyObject(e)){this.layout=e,this._rendered=!1,this.render()}},propertyChangedHandler:function(f,e,t,g){if("layout"!==e){if(g!==t)switch(e){case"width":case"height":f.element.style[e]=f._toPx(g);break;case"theme":k.jqx.utilities.setTheme(t,g,f.host),f._menuInitialized&&k.jqx.utilities.setTheme(t,g,f._menu),f.dockingLayout&&0<k("."+f.element.id+"FloatGroup").length&&k("."+f.element.id+"FloatGroup").jqxWindow({theme:g});break;case"layout":case"resizable":f.render();break;case"contextMenu":!0!==g||f._menuInitialized||f.render();break;case"rtl":var v=g?"rtl":"ltr",x=g?"ltr":"rtl",i=function(e){for(var t=f._find(e,".jqx-layout-pseudo-window-title-"+x),i=f._find(e,".jqx-layout-pseudo-window-pin-background-"+x),s=f._find(e,".jqx-layout-pseudo-window-close-background-"+x),r=f._find(e,".jqx-layout-ribbon-header"),n=f._find(e,".jqx-ribbon"),o=0;o<t.length;o++){var a=k(t[o]);a.removeClass(f.toThemeProperty("jqx-layout-pseudo-window-title-"+x)),a.addClass(f.toThemeProperty("jqx-layout-pseudo-window-title-"+v))}for(var l=0;l<i.length;l++){var d=k(i[l]);d.removeClass(f.toThemeProperty("jqx-layout-pseudo-window-pin-background-"+x)),d.addClass(f.toThemeProperty("jqx-layout-pseudo-window-pin-background-"+v))}for(var h=0;h<s.length;h++){var c=k(s[h]);c.removeClass(f.toThemeProperty("jqx-layout-pseudo-window-close-background-"+x)),c.addClass(f.toThemeProperty("jqx-layout-pseudo-window-close-background-"+v))}for(var u=0;u<r.length;u++){var p=k(r[u]);p.removeClass(f.toThemeProperty("jqx-layout-ribbon-header-"+x)),p.addClass(f.toThemeProperty("jqx-layout-ribbon-header-"+v))}for(var m=0;m<n.length;m++)k(n[m]).jqxRibbon({rtl:g})};if(i(f.host),f.dockingLayout)for(var s=f._find(document.body,"."+f.element.id+"FloatGroup"),r=0;r<s.length;r++){var n=k(s[r]);i(n),n.jqxWindow({rtl:g})}}}else f.render()},_raiseEvent:function(e,t){void 0===t&&(t={owner:null});var i=this.events[e];t.owner=this;var s=new k.Event(i);return s.owner=this,s.args=t,s.preventDefault&&s.preventDefault(),this.host.trigger(s)},_setSize:function(){this.element.style.width=this._toPx(this.width),this.element.style.height=this._toPx(this.height)},_addClasses:function(){this.host.addClass(this.toThemeProperty("jqx-layout jqx-widget jqx-widget-content jqx-rc-all"))},_getPercentage:function(e,t,i){return e/t.widget[i]()*100},_addHandlers:function(){var p,m,f=this,e=f.element.id;function i(e,t){for(var i=0;i<f._coordinates.length;i++){var s=f._coordinates[i];if(e>=s.x.from&&e<=s.x.to&&t>=s.y.from&&t<=s.y.to){"horizontal"===s.orientation?f.element.style.cursor="col-resize":f.element.style.cursor="row-resize",f._resize={allowed:!0,widget:s.widget,side:s.side};break}f.element.style.cursor="default",f._resize.allowed=!1}}function s(e){if(!0===f._resize.allowed){var t=f._resize.widget,i=t.current.parent,s=f._percentToPx("width",t.current.minWidth,i),r=f._percentToPx("height",t.current.minHeight,i),n=i.items[t.current.index-1],o=i.items[t.current.index+1];switch(f._resizeStartPosition={x:e.pageX,y:e.pageY},s||(s=f._percentToPx("width",f.minGroupWidth,i)),s=Math.min(s,t.width()),t.current.minWidth=s,r||(r=f._percentToPx("height",f.minGroupHeight,i)),r=Math.min(r,t.height()),t.current.minHeight=r,f._resize.side){case"left":var a=f._percentToPx("width",n.minWidth,i);a||(a=f._percentToPx("width",f.minGroupWidth,i)),p=n.widget.offset().left+a,m=t.offset().left+t.width()-s;break;case"right":var l=f._percentToPx("width",o.minWidth,i);l||(l=f._percentToPx("width",f.minGroupWidth,i)),p=t.offset().left+s,m=o.widget.offset().left+o.widget.width()-l;break;case"top":var d=f._percentToPx("height",n.minHeight,i);d||(d=f._percentToPx("height",f.minGroupHeight,i)),p=n.widget.offset().top+d,m=t.offset().top+t.height()-r;break;case"bottom":var h=f._percentToPx("height",o.minHeight,i);h||(h=f._percentToPx("height",f.minGroupHeight,i)),p=t.offset().top+r,m=o.widget.offset().top+o.widget.height()-h}var c,u=function(e,t){if(t=void 0===t?{top:0,left:0}:t,e!==top){var i=e.frameElement.getBoundingClientRect();t.left+=i.left,t.top+=i.top,t=u(e.parent,t)}return t};f._clickedToResize=!0,f._overlay[0].style.display="block","left"===f._resize.side||"right"===f._resize.side?(f._verticalFeedback[0].style.height=f._resize.widget.height()+"px",c=f._ie7?u(window).top:0,f._verticalFeedback.offset({top:f._resize.widget.offset().top-f.host.offset().top+document.body.scrollTop-c})):(f._horizontalFeedback[0].style.width=f._resize.widget.width()+"px",c=f._ie7?u(window).left:0,f._horizontalFeedback.offset({left:f._resize.widget.offset().left-f.host.offset().left+document.body.scrollLeft+1-c}))}}function g(e,t,i,s,r){var n,o,a=r.charAt(0).toUpperCase()+r.slice(1),l=t.parent;return e?(n=f._percentToPx(r,i["min"+a],l),o=parseFloat(i[r])/100*t.parent.widget[r]()-s):(n=f._percentToPx(r,t["min"+a],l),o=parseFloat(t[r])/100*t.parent.widget[r]()-s),n||(n=f._percentToPx(r,f["minGroup"+a],l)),o<n?n:o}function t(e){if(!0===f._clickedToResize){var t,i,s,r,n,o,a=function(){f._clickedToResize=!1,f._overlay[0].style.display="none",f._verticalFeedback[0].style.display="none",f._horizontalFeedback[0].style.display="none"},l=e.pageX,d=e.pageY,h=f._resize.widget.current,c=f._resize.widget.offset(),u=c.left,p=c.top;if(e.pageX===f._resizeStartPosition.x&&e.pageY===f._resizeStartPosition.y)return void a();if("left"===f._resize.side||"right"===f._resize.side){if(o=h.width,"left"===f._resize.side?(t=h.parent.items[h.index-1],s=l<(i=u)):(t=h.parent.items[h.index+1],s=(i=u+h.widget.width())<=l),0===(r=Math.abs(l-i)))return void a();if(s?(n=f._getPercentage(g(!0,h,t,r,"width"),h.parent,"width"),r=Math.abs(n-parseFloat(t.width)),t.width=n+"%",h.width=parseFloat(h.width)+r+"%"):(n=f._getPercentage(g(!1,h,t,r,"width"),h.parent,"width"),r=Math.abs(n-parseFloat(h.width)),h.width=n+"%",t.width=parseFloat(t.width)+r+"%"),h.width===o)return void a()}else{if(o=h.height,"top"===f._resize.side?(t=h.parent.items[h.index-1],s=d<(i=p)):(t=h.parent.items[h.index+1],s=(i=p+h.widget.height())<=d),0===(r=Math.abs(d-i)))return void a();if(s?(n=f._getPercentage(g(!0,h,t,r,"height"),h.parent,"height"),r=Math.abs(n-parseFloat(t.height)),t.height=n+"%",h.height=parseFloat(h.height)+r+"%"):(n=f._getPercentage(g(!1,h,t,r,"height"),h.parent,"height"),r=Math.abs(n-parseFloat(h.height)),h.height=n+"%",t.height=parseFloat(t.height)+r+"%"),h.height===o)return void a()}a(),f.render(),f._raiseEvent("1",{item:h})}}function r(e){if(!0===f._clickedToResize){var t=e.pageX,i=e.pageY;"left"===f._resize.side||"right"===f._resize.side?(f._verticalFeedback[0].style.display="block",t<p?(t=p,f._verticalFeedback.addClass(f.toThemeProperty("jqx-layout-resize-feedback-warning"))):m<t?(t=m,f._verticalFeedback.addClass(f.toThemeProperty("jqx-layout-resize-feedback-warning"))):f._verticalFeedback.removeClass(f.toThemeProperty("jqx-layout-resize-feedback-warning")),f._verticalFeedback.offset({left:t-2})):(f._horizontalFeedback[0].style.display="block",i<p?(i=p,f._horizontalFeedback.addClass(f.toThemeProperty("jqx-layout-resize-feedback-warning"))):m<i?(i=m,f._horizontalFeedback.addClass(f.toThemeProperty("jqx-layout-resize-feedback-warning"))):f._horizontalFeedback.removeClass(f.toThemeProperty("jqx-layout-resize-feedback-warning")),f._horizontalFeedback.offset({top:i-2}),f._horizontalFeedback.offset({left:f._resize.widget.offset().left+document.body.scrollLeft+1}))}}if(f._resize={allowed:!1},f._clickedToResize=!1,f._docUP=t,f._touchDevice?(f.addHandler(k(document),"touchstart.jqxDockingLayout"+e,function(e){var t=e.originalEvent.touches[0];i(t.pageX,t.pageY),s(t)}),f.addHandler(k(document),"touchmove.jqxDockingLayout"+e,function(e){r(e.originalEvent.touches[0])}),f.addHandler(k(document),"touchend.jqxDockingLayout"+e,function(e){t(e.originalEvent.changedTouches[0])})):(f.addHandler(f.host,"mousemove.jqxLayout"+e,function(e){!1===f._clickedToResize&&(!f.dockingLayout||f.dockingLayout&&!0!==f.dockingLayout._windowDragged)&&i(e.pageX,e.pageY)}),f.addHandler(k(document),"mousemove.jqxLayout"+e,function(e){r(e)}),f.addHandler(f.host,"mousedown.jqxLayout"+e,function(e){s(e)}),f.addHandler(k(document),"mouseup.jqxLayout"+e,function(e){t(e)})),f.addHandler(k(document),"selectstart.jqxLayout"+e,function(){if(!0===f._clickedToResize)return!1}),f.dockingLayout)try{(""!==document.referrer||window.frameElement)&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",f._mouseupHandler,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",f._mouseupHandler))}catch(e){}},_removeHandlers:function(){var e=this,t=e.element.id;if(e._touchDevice?(e.removeHandler(k(document),"touchstart.jqxLayout"+t),e.removeHandler(k(document),"touchmove.jqxLayout"+t),e.removeHandler(k(document),"touchend.jqxLayout"+t)):(e.removeHandler(e.host,"mousemove.jqxLayout"+t),e.removeHandler(k(document),"mousemove.jqxLayout"+t),e.removeHandler(e.host,"mousedown.jqxLayout"+t),e.removeHandler(k(document),"mouseup.jqxLayout"+t)),e.removeHandler(k(document),"selectstart.jqxLayout"+t),e.dockingLayout)try{(""!==document.referrer||window.frameElement)&&(window.top.document.removeEventListener?window.top.document.removeEventListener("mouseup",e._mouseupHandler,!1):window.top.document.detachEvent&&window.top.document.detachEvent("onmouseup",e._mouseupHandler))}catch(e){}if(e._oldIE)k("."+t+"FloatGroup").off("close");else for(var i=document.body.querySelectorAll("."+t+"FloatGroup"),s=0;s<i.length;s++)e.removeHandler(i[s],"close")},_createLayout:function(e,n,t){function i(e){var t=n.children(),i=t[0],s=t[1];if(i.innerHTML=e.title,e.content)c=e.content;else{var r=o._find(o._originalElement,'[data-container="'+e.contentContainer+'"]')[0];c=void 0!==r?r.innerHTML:""}void 0===c&&(c=""),s.innerHTML=c}for(var o=this,s=t.type,r=0;r<e.length;r++){var a,l,d,h,c,u,p,m,f=e[r];switch(f.type){case"layoutGroup":if(a=document.createElement("div"),d="jqx-layout-group-default","horizontal"===f.orientation&&(d+=" jqx-layout-group-default-horizontal"),"host"===s)d+=" jqx-layout-group-root";else{var g="horizontal"===t.orientation?f.width:"100%",v="horizontal"===t.orientation?"100%":f.height;a.style.width=o._toPx(g),a.style.height=o._toPx(v)}a.className=o.toThemeProperty(d),n[0].appendChild(a),l=k(a);break;case"tabbedGroup":"floatGroup"!==s?((l=document.createElement("div")).className=o.toThemeProperty("jqx-layout-group-tabbed"),l.innerHTML='<div class="jqx-layout-window-header"><div></div></div><div><div class="jqx-layout-ribbon"><ul class="jqx-layout-ribbon-header jqx-layout-ribbon-header-'+(o.rtl?"rtl":"ltr")+'"></ul><div class="jqx-layout-ribbon-content"></div></div></div>',n[0].appendChild(l),l=k(l),o._addRightClickHandler(o._find(l,".jqx-layout-window-header")[0],l)):((l=document.createElement("div")).className="jqx-layout-ribbon",l.innerHTML='<ul class="jqx-layout-ribbon-header jqx-layout-ribbon-header-'+(o.rtl?"rtl":"ltr")+'"></ul><div class="jqx-layout-ribbon-content"></div>',n.children()[1].appendChild(l),l=k(l));break;case"documentGroup":case"autoHideGroup":a=document.createElement("div");var x="";"documentGroup"===f.type&&(x="jqx-layout-ribbon-header jqx-layout-ribbon-header-"+(o.rtl?"rtl":"ltr")),a.innerHTML='<ul class="'+x+'"></ul><div></div>',o._ie7&&"autoHideGroup"===f.type&&(a.style.zIndex=9999-500*r),n[0].appendChild(a),l=k(a);break;case"floatGroup":if(o._rendered&&!0!==f.programmaticallyAdded)continue;if(!o.dockingLayout)throw new Error("Float groups are only available in the jqxDockingLayout widget. Initialize a jqxDockingLayout (requires jqxdockinglayout.js) instead of a jqxLayout.");(l=document.createElement("div")).className=o.toThemeProperty("jqx-docking-layout-group-floating"),l.innerHTML="<div></div><div></div>",n[0].appendChild(l),l=k(l),!0===f.programmaticallyAdded&&delete f.programmaticallyAdded;break;case"layoutPanel":if(l={},"tabbedGroup"===s){var w=o._find(n,".jqx-layout-window-header")[0];if(w)""===k(w).text()&&(w.firstChild.innerHTML=f.title);if((p=document.createElement("li")).innerHTML=f.title,o._find(n,".jqx-layout-ribbon-header")[0].appendChild(p),o._rendered||f.docked?c=f.detachedContent:(h=o._find(o._originalElement,'[data-container="'+f.contentContainer+'"]')[0],c=void 0!==h?h.innerHTML:""),u=document.createElement("div"),"string"==typeof c)u.innerHTML=c;else for(var y=0;y<c.length;y++)k(c[y]).appendTo(u);o._find(n,".jqx-layout-ribbon-content")[0].appendChild(u),o._addRightClickHandler(p,l)}else if("autoHideGroup"===s){if(m=n.children(),(p=document.createElement("li")).innerHTML=f.title,m[0].appendChild(p),o._rendered?c=f.detachedContent:(h=o._find(o._originalElement,'[data-container="'+f.contentContainer+'"]')[0],c=void 0!==h?h.innerHTML:""),u=document.createElement("div"),"string"==typeof c)u.innerHTML=c;else for(var b=0;b<c.length;b++)c[b].appendTo(u);var _;"left"===t.alignment||"right"===t.alignment?(void 0!==t.popupContentSize&&(u.style.width=parseInt(t.popupContentSize,10)+"px"),_="jqx-layout-group-auto-hide-content-vertical"):(void 0!==t.popupContentSize&&(u.style.height=parseInt(t.popupContentSize,10)+"px"),_="jqx-layout-group-auto-hide-content-horizontal"),u.className=o.toThemeProperty(_);var j=document.createElement("div"),q=document.createElement("div");q.className="jqx-layout-window",q.innerHTML="<div><div>"+f.title+"</div></div>",q.appendChild(u),j.appendChild(q),m[1].appendChild(j),o._addRightClickHandler(q,l)}else"floatGroup"===s&&i(f);break;case"documentPanel":if(l={},"floatGroup"===s)i(f);else{if(m=n.children(),(p=document.createElement("li")).innerHTML=f.title,m[0].appendChild(p),o._rendered||f.docked?c=f.detachedContent:(h=o._find(o._originalElement,'[data-container="'+f.contentContainer+'"]')[0],c=void 0!==h?h.innerHTML:""),u=document.createElement("div"),"string"==typeof c)u.innerHTML=c;else for(var T=0;T<c.length;T++)c[T].appendTo(u);m[1].appendChild(u),o._addRightClickHandler(p,l)}}if(f.items&&0<f.items.length){var C=l;o._createLayout(f.items,C,f)}if(o._createWidget(t,n,f,l,r),o.dockingLayout&&("documentGroup"===f.type||"tabbedGroup"===f.type||"layoutGroup"===f.type&&0===f.items.length)){var S={element:l,width:l.width(),height:l.height(),offset:l.offset(),settings:f};o._overlayGroups.push(S),"floatGroup"===f.parent.type&&(f.parent._overlayGroup=S)}}},_createWidget:function(s,e,o,a,t){var l=this,i="horizontal"===s.orientation?o.width:"100%",r="horizontal"===s.orientation?"100%":o.height,n=!1;function d(){for(var e=0,t=0;t<o.items.length;t++)if(!0===o.items[t].selected){e=t;break}return o.items[e].selected=!0,e}switch(o.parent=s,o.widget=a,o.index=t,o.widget&&(o.widget.current=o),o.type){case"tabbedGroup":var h,c;"floatGroup"!==s.type?(h=l._initWindowPanel(a,i,r,o.type),c=k(l._find(a,".jqx-layout-ribbon")[0]),l._tabbedGroupsList.push(o)):c=a,l.dockingLayout&&!1!==o.allowDrag&&(n=!0),c.jqxRibbon({theme:l.theme,width:"100%",height:"100%",position:"bottom",selectionMode:"click",animationType:"none",rtl:l.rtl,_roundedCorners:!1,initContent:function(e){var t=o.items[e];!t.initialized&&t.initContent&&(t.initContent(k(this._contentSections[e])),t.initialized=!0)},_removeByDrag:n,reorder:!0,_suppressReorder:!1}),c.on("select",function(e){if(e.stopPropagation(),e.target.id===c[0].id){e.stopPropagation();var t=e.args.selectedIndex;o.items[t].selected=!0;var i=k(k(c.children()[1]).children()[t]).text();"floatGroup"!==s.type?h[0].innerHTML=i:l._find(s.widget,".jqx-window-header")[0].firstChild.innerHTML=i}}),c.on("unselect",function(e){e.stopPropagation(),e.target.id===c[0].id&&(o.items[e.args.unselectedIndex].selected=!1)}),c.on("reorder",function(e){l._swapPanelsInLayout(o.items,e.args.newIndex,e.args.oldIndex);var t=e.args.newIndex;setTimeout(function(){o.items[t]&&l._addRightClickHandler(l._find(c,".jqx-ribbon-item")[t],o.items[t].widget)},200)}),n&&(c.on("_removeByDrag",function(e){l.dockingLayout._removeByDragHandler(e,o,c),"floatGroup"===o.parent.type&&1===o.items.length&&c.jqxRibbon({_removeByDrag:!1})}),"floatGroup"!==o.parent.type&&l.dockingLayout._addTabbedGroupHandlers(o,a)),c.jqxRibbon("selectAt",d());break;case"documentGroup":l.dockingLayout&&!1!==o.allowDrag&&(n=!0),a.jqxRibbon({theme:l.theme,width:i,height:r,_roundedCorners:!1,position:"top",selectedIndex:d(),selectionMode:"click",animationType:"none",rtl:l.rtl,initContent:function(e){var t=o.items[e];!t.initialized&&t.initContent&&(t.initContent(k(this._contentSections[e])),t.initialized=!0)},_removeByDrag:n,reorder:!0,_suppressReorder:!1}),a.on("select",function(e){e.stopPropagation(),e.target.id===a[0].id&&(o.items[e.args.selectedIndex].selected=!0)}),a.on("unselect",function(e){e.stopPropagation(),e.target.id===a[0].id&&(o.items[e.args.unselectedIndex].selected=!1)}),a.on("reorder",function(e){l._swapPanelsInLayout(o.items,e.args.newIndex,e.args.oldIndex);var t=e.args.newIndex;setTimeout(function(){l._addRightClickHandler(l._find(a,".jqx-ribbon-item")[t],o.items[t].widget)},200)}),n&&a.on("_removeByDrag",function(e){l.dockingLayout._removeByDragHandler(e,o,a)}),a.addClass(l.toThemeProperty("jqx-layout-group-document"));break;case"autoHideGroup":a.jqxRibbon({theme:l.theme,width:i,height:r,mode:"popup",popupCloseMode:"click",position:o.alignment,selectionMode:"click",animationType:"none",_roundedCorners:!1,rtl:l.rtl,initContent:function(e){var t=k(this._contentSections[e]),i=k(l._find(t,".jqx-layout-window")[0]);i.current=a.current.items[e],i[0].style.border="none",l._initWindowPanel(i,"100%","100%",o.type),!o.items[e].initialized&&o.items[e].initContent&&(o.items[e].initContent(k(i.children()[1])),o.items[e].initialized=!0)}}),a.addClass(l.toThemeProperty("jqx-layout-group-auto-hide"));break;case"floatGroup":a.addClass(l.element.id+"FloatGroup"),a.jqxWindow({theme:l.theme,width:o.width,maxWidth:null,height:o.height,maxHeight:null,position:{x:o.position.x,y:o.position.y},showCloseButton:!1!==o.allowClose,closeButtonAction:"close",rtl:l.rtl,initContent:function(){var e=this._header,t=l._touchDevice?"touchstart":"mousedown",i=".jqxLayout"+l.element.id;if(l.addHandler(e,t+i,function(){var e,t,i;l.dockingLayout._windowDragged=!0,o._overlayGroup&&(o._overlayGroup.self=!0),l.dockingLayout._interval(),l.resizable&&(l._overlay[0].style.display="block"),"documentPanel"===o.items[0].type?(e={type:"documentGroup"},i=(t=o.items[0]).title):"layoutPanel"===o.items[0].type?(e={type:"tabbedGroup"},i=(t=o.items[0]).title):"tabbedGroup"===o.items[0].type&&(e=o.items[0]),l.dockingLayout._draggedWindow={fromGroup:e,fromPanel:t,title:i,element:a},l.dockingLayout._showEdgeOverlays()}),l.addHandler(e,"mouseup"+i,function(){l.dockingLayout._hideOverlays()}),"tabbedGroup"===o.items[0].type){for(var s=0,r=0;r<o.items[0].items.length;r++)if(o.items[0].items[r].selected){s=r;break}var n=o.items[0].items[s].title;a.jqxWindow("setTitle",n)}else o.items[0].initContent&&o.items[0].initContent(this._content)}}),a.on("moved",function(e){o.position.x=e.args.x,o.position.y=e.args.y,o._overlayGroup&&l.dockingLayout._updateOverlayGroup(o._overlayGroup),l.dockingLayout._windowCreate=!1,l.dockingLayout._hideOverlays(),l.dockingLayout._clearTextSelection()}),a.on("resized",function(e){o.width=e.args.width,o.height=e.args.height;var t=k(this).offset();o.position.x=t.left,o.position.y=t.top,o._overlayGroup&&l.dockingLayout._updateOverlayGroup(o._overlayGroup)}),a.on("close",function(e){e.stopPropagation(),e.target.id===a[0].id&&(l._raiseEvent("4",{element:a,floatGroup:a.current}),a.current._overlayGroup&&(a.current._overlayGroup.removed=!0,l.dockingLayout._updateOverlayGroups()),l.dockingLayout._removeFloatGroupObject(a.current))})}},_initWindowPanel:function(e,t,i,s){var r=this;if(e.addClass(r.toThemeProperty("jqx-widget jqx-widget-content jqx-window jqx-layout-pseudo-window jqx-rc-all")),r._ie7){var n=e.parent();if("tabbedGroup"===s){var o,a,l=parseInt(e.css("border-left-width"),10),d=parseInt(e.css("border-right-width"),10),h=parseInt(e.css("border-top-width"),10),c=parseInt(e.css("border-bottom-width"),10);o="100%"===t?n.width():parseFloat(t)/100*n.width(),o-=l+d,a="100%"===i?n.height():parseFloat(i)/100*n.height(),a-=h+c,e.css({width:o,height:a})}else"autoHideGroup"===s&&e.css({width:t,height:i})}else e[0].style.width=t,e[0].style.height=i;var u=r.rtl?"rtl":"ltr",p=k(e[0].firstChild),m=k(p[0].firstChild);m.addClass(r.toThemeProperty("jqx-layout-pseudo-window-title jqx-layout-pseudo-window-title-"+u)),p.addClass(r.toThemeProperty("jqx-widget-header jqx-window-header jqx-disableselect jqx-layout-pseudo-window-header")),r._ie7&&(p.css("width",p.width()-parseInt(p.css("padding-left"),10)-parseInt(p.css("padding-right"),10)),p.css("height",p.height()-parseInt(p.css("padding-top"),10)-parseInt(p.css("padding-bottom"),10)));var f,g,v=0;if((r.dockingLayout?"layoutPanel"===e.current.type?void 0===e.current.parent.allowClose||!0===e.current.parent.allowClose:void 0===e.current.allowClose||!0===e.current.allowClose:"layoutPanel"===e.current.type?!0===e.current.parent.allowClose:!0===e.current.allowClose)&&((f=document.createElement("div")).className=r.toThemeProperty("jqx-window-close-button-background jqx-layout-pseudo-window-close-background jqx-layout-pseudo-window-close-background-"+u),f.setAttribute("title","Close"),f.innerHTML='<div class="'+r.toThemeProperty("jqx-window-close-button jqx-icon-close jqx-layout-pseudo-window-close-icon")+'"></div>',p[0].appendChild(f),v+=16),"tabbedGroup"===s&&!1!==e.current.allowPin||"autoHideGroup"===s&&!1!==e.current.parent.allowUnpin){var x;switch(s){case"tabbedGroup":x="jqx-layout-pseudo-window-pin-icon",e.pinned=!1;break;case"autoHideGroup":x="jqx-layout-pseudo-window-pinned-icon",e.pinned=!0}(g=document.createElement("div")).className=r.toThemeProperty("jqx-window-close-button-background jqx-layout-pseudo-window-pin-background"),g.setAttribute("title","Auto Hide"),g.innerHTML='<div class="'+r.toThemeProperty(x)+'"></div>',f?g.className+=" "+r.toThemeProperty("jqx-layout-pseudo-window-pin-background-"+u):!1===r.rtl&&(g.style.right="0px"),p[0].appendChild(g),v+=16,r.dockingLayout&&"autoHideGroup"===s&&r.dockingLayout._addAutoHideGroupHandlers(e.current,p,e.current.title,e.children()[1])}m[0].style.maxWidth=r._toPx(p.width()-v);var w=e.children()[1];return w.style.height=r._toPx(1+e.height()-p.outerHeight()),w.style.marginLeft="-1px",w.style.marginRight="-1px",r._addWindowPanelHandlers(f,g,e),m},_addWindowPanelHandlers:function(e,t,i){var s=this,r=s.element.id,n=i.current,o=n.type;e&&s.addHandler(e,"click.jqxLayout"+r,function(){if("tabbedGroup"===o&&1<n.items.length){var e=s._find(i,".jqx-ribbon-item-selected")[0]._index;s._close(n.items[e])}else i.initAnimate&&i.initAnimate(),i.fadeOut({complete:function(){s._close(n),i.remove()}})}),t&&s.addHandler(t,"click.jqxLayout"+r,function(){"tabbedGroup"===o&&!0===n.pinValid?s._pin(n):"layoutPanel"===o&&s._unPin(n.parent)})},_getGroupCoordinates:function(){var u=this;function p(e){return"layoutGroup"===e||"tabbedGroup"===e||"documentGroup"===e}u._coordinates=[],function e(t){for(var i=0;i<t.length;i++){var s=t[i];if(p(s.type)){var r,n,o,a,l,d=t[i-1],h=t[i+1],c=s.widget.offset();d&&p(d.type)&&("horizontal"===s.parent.orientation?(n=10+(r=c.left-5),a=(o=c.top-5)+s.widget.height()+10,l="left"):(n=(r=c.left-5)+s.widget.width()+10,a=10+(o=c.top-5),l="top"),u._coordinates.push({x:{from:r,to:n},y:{from:o,to:a},widget:s.widget,side:l,orientation:s.parent.orientation})),h&&p(h.type)&&("horizontal"===s.parent.orientation?(n=10+(r=c.left+s.widget.width()-5),a=(o=c.top-5)+s.widget.height()+10,l="right"):(n=(r=c.left-5)+s.widget.width()+10,a=10+(o=c.top+s.widget.height()-5),l="bottom"),u._coordinates.push({x:{from:r,to:n},y:{from:o,to:a},widget:s.widget,side:l,orientation:s.parent.orientation})),s.items&&e(s.items)}}}(u.layout[0].items)},_close:function(i){var e,s=this;if(i.removed=!0,"tabbedGroup"===i.type||"autoHideGroup"===i.type||"documentGroup"===i.type){if((e="tabbedGroup"===i.type?k(s._find(i.widget,".jqx-ribbon")[0]):i.widget).jqxRibbon("destroy"),i.parent.items){var t=i.parent.items[i.index-1],r=i.parent.items[i.index+1],n="vertical"===i.parent.orientation?"height":"width",o=function(e){var t=parseFloat(e[n])+parseFloat(i[n])+"%";"documentGroup"===e.type?"height"===n?e.widget.jqxRibbon({height:t}):e.widget.jqxRibbon({width:t}):"layoutGroup"!==e.type&&"tabbedGroup"!==e.type||(e.widget[0].style[n]=t),e[n]=t,s._raiseEvent("1",{item:e})};t&&"autoHideGroup"!==t.type&&"floatGroup"!==t.type?o(t):r&&"autoHideGroup"!==r.type&&"floatGroup"!==r.type&&o(r)}}else if("layoutPanel"===i.type){if("tabbedGroup"===i.parent.type)return(e=k(s._find(i.parent.widget,".jqx-ribbon")[0])).jqxRibbon("removeAt",i.index),s._updateLayout(s.layout),void(0===i.index?e.jqxRibbon("selectAt",0):e.jqxRibbon("selectAt",i.index-1));if("autoHideGroup"===i.parent.type){(e=i.parent.widget).jqxRibbon("removeAt",i.index);for(var a=e.children(),l=0,d=0;d<a.length;d++)if("ul"===a[d].nodeName.toLowerCase()){l=k(a[d]).children().length;break}0===l&&s._close(e.current)}}s._updateLayout(s.layout),s.render()},_updateLayout:function(e){for(var t=0;t<e.length;t++)if(!0===e[t].removed){e.splice(t,1);for(var i=0;i<e.length;i++)e[i].index=i}else e[t].items&&this._updateLayout(e[t].items)},_pin:function(e){var t,i,s,r=e.parent;if(e.alignment)t=e.alignment;else{var n=Math.abs(e.parent.items.length-1-e.index);t=Math.abs(0-e.index)<n?"horizontal"===e.parent.orientation?"left":"top":"horizontal"===e.parent.orientation?"right":"bottom"}var o="top"===t||"left"===t?e.index+1:e.index-1;"left"===t||"right"===t?(i="width",s=e.pinnedWidth):(i="height",s=e.pinnedHeight),"number"==typeof s&&(s=this._getPercentage(s,r,i)+"%"),s||("width"===i?s=8e3/e.parent.widget.width()+"%":"height"===i&&(s=3e3/e.parent.widget.height()+"%")),this._detachContent(e.items,!0);var a={type:"autoHideGroup",alignment:t,items:e.items};a[i]=s,a["min"+i.charAt(0).toUpperCase()+i.slice(1)]=e["min"+i.charAt(0).toUpperCase()+i.slice(1)],a["unpinned"+i.charAt(0).toUpperCase()+i.slice(1)]=e[i],a.allowDrag=e.allowDrag,a.allowDrop=e.allowDrop,a.allowClose=e.allowClose;for(var l=0;l<a.items.length;l++)a.items[l].allowClose=e.allowClose;e.popupContentSize&&(a.popupContentSize=e.popupContentSize);var d=r.items[o];d[i]=parseFloat(d[i])+parseFloat(e[i])-parseFloat(s)+"%",r.items.splice(e.index,0,a),e.removed=!0,k(this._find(e.widget,".jqx-ribbon")[0]).jqxRibbon("destroy"),e.widget.remove(),this._updateLayout(this.layout),this.render(),this._raiseEvent("1",{item:d}),this._raiseEvent("2",{item:a})},_unPin:function(e){var t,i,s,r=e.parent,n=e.alignment,o="top"===n||"left"===n?e.index+1:e.index-1,a=r.items[o];"left"===n||"right"===n?(t="width",i=e.unpinnedWidth):(t="height",i=e.unpinnedHeight),i||(i="10%"),this._detachContent(e.items,!0);var l={type:"tabbedGroup",alignment:n,items:e.items};if(l["pinned"+t.charAt(0).toUpperCase()+t.slice(1)]=e[t],l.allowDrag=e.allowDrag,l.allowDrop=e.allowDrop,l.allowClose=e.allowClose,e.popupContentSize&&(l.popupContentSize=e.popupContentSize),a){var d=parseFloat(a[t])+parseFloat(e[t])-parseFloat(i)+"%",h=a["min"+t.charAt(0).toUpperCase()+t.slice(1)];h||(h=this["minGroup"+t.charAt(0).toUpperCase()+t.slice(1)]),parseFloat(d)<this._getPercentage(h,r,t)?(i=e[t],d=this._getPercentage(h,r,t)+"%",l["min"+t.charAt(0).toUpperCase()+t.slice(1)]=e.widget.width()):l["min"+t.charAt(0).toUpperCase()+t.slice(1)]=e["min"+t.charAt(0).toUpperCase()+t.slice(1)],l[t]=i,a[t]=d,s=a}else l["min"+t.charAt(0).toUpperCase()+t.slice(1)]=e["min"+t.charAt(0).toUpperCase()+t.slice(1)],l[t]="100%",s=l;r.items.splice(e.index,0,l),e.removed=!0,e.widget.jqxRibbon("destroy"),this._updateLayout(this.layout),this.render(),this._raiseEvent("1",{item:s}),this._raiseEvent("3",{item:l})},_copyItem:function(e,t){var i={};for(var s in e)if(e.hasOwnProperty(s)&&"parent"!==s&&"widget"!==s&&"initialized"!==s)if("position"===s)i.position={x:e.position.x,y:e.position.y};else if("items"===s){for(var r=[],n=0;n<e.items.length;n++)this._copyItem(e.items[n],r);i.items=r}else i[s]=e[s];t.push(i)},_addResizeFeedbacks:function(){var e=this;e._horizontalFeedback=document.createElement("div"),e._horizontalFeedback.className=e.toThemeProperty("jqx-fill-state-normal jqx-layout-resize-feedback jqx-layout-resize-feedback-horizontal"),e._verticalFeedback=document.createElement("div"),e._verticalFeedback.className=e.toThemeProperty("jqx-fill-state-normal jqx-layout-resize-feedback jqx-layout-resize-feedback-vertical"),e._overlay=document.createElement("div"),e._overlay.className=e.toThemeProperty("jqx-layout-overlay"),e.dockingLayout&&e.dockingLayout._windowDragged&&(e._overlay.style.display="block"),e.element.appendChild(e._horizontalFeedback),e.element.appendChild(e._verticalFeedback),e.element.appendChild(e._overlay),e._horizontalFeedback=k(e._horizontalFeedback),e._verticalFeedback=k(e._verticalFeedback),e._overlay=k(e._overlay)},_detachContent:function(e,i){var s=this;function t(e){if(!0===e.prevent)e.prevent=!1;else{var t=s._find(e.parent.widget,".jqx-ribbon-content-section")[e.index];n=s._detachChildNodes(t),k(t).remove(),e.detachedContent=n,!0===i&&(e.prevent=!0)}}for(var r=e.length-1;0<=r;r--){var n,o=e[r],a=o.type;if("layoutGroup"===a||"tabbedGroup"===a||"documentGroup"===a||"autoHideGroup"===a||"floatGroup"===a)o.items&&0<o.items.length&&this._detachContent(o.items);else if("layoutPanel"===a){if("tabbedGroup"===o.parent.type)t(o);else if("autoHideGroup"===o.parent.type)if(!0===o.prevent)o.prevent=!1;else{if("left"===o.parent.alignment||"right"===o.parent.alignment){var l=s._find(o.parent.widget,".jqx-layout-group-auto-hide-content-vertical")[r];n=s._detachChildNodes(l),k(l).remove()}else{var d=s._find(o.parent.widget,".jqx-layout-group-auto-hide-content-horizontal")[r];n=s._detachChildNodes(d),k(d).remove()}o.detachedContent=n,!0===i&&(o.prevent=!0)}}else"documentPanel"===a&&t(o)}},_pxToPercent:function(i,s){function e(e,t){return(100*(e=parseInt(e,10))/(s?r.element["offset"+t]:i["initialPx"+t])).toString()+"%"}for(var r=this,t=0;t<i.items.length;t++){var n=i.items[t];void 0!==n.width?(n.initialPxWidth=n.width,n.width=e(n.width,"Width")):n.initialPxWidth=i.initialPxWidth,void 0!==n.height?(n.initialPxHeight=n.height,n.height=e(n.height,"Height")):n.initialPxHeight=i.initialPxHeight,void 0!==n.unpinnedWidth&&(n.unpinnedWidth=e(n.unpinnedWidth,"Width")),void 0!==n.pinnedWidth&&(n.pinnedWidth=e(n.pinnedWidth,"Width")),void 0!==n.unpinnedHeight&&(n.unpinnedHeight=e(n.unpinnedHeight,"Height")),void 0!==n.pinnedHeight&&(n.pinnedHeight=e(n.pinnedHeight,"Height")),"layoutGroup"===n.type&&n.items&&0<n.items.length&&r._pxToPercent(n,!1)}},_percentToPx:function(e,t,i){return void 0===t?void 0:"string"!=typeof t||"string"==typeof t&&"%"!==t.charAt(t.length-1)?parseFloat(t):parseFloat(t.slice(0,t.length-1))/100*i.widget[e]()},_swapPanelsInLayout:function(e,t,i){var s=e[t];e[t]=e[i],e[t].index=t,e[i]=s,e[i].index=i},_initMenu:function(){var s=this;if(!s._menuInitialized){var r=s.element.id,e="",t=function(e,t,i){s._menu.jqxMenu("disable","dockOption"+r,e),s._menu.jqxMenu("disable","autoHideOption"+r,t),s._menu.jqxMenu("disable","closeOption"+r,i)};if(!s.host.jqxMenu)throw new Error("jqxLayout: Missing reference to jqxmenu.js.");s.dockingLayout&&(e='<li id="floatOption'+r+'">Float</li>');var i=document.createElement("div");i.className=s.toThemeProperty("jqx-layout-context-menu jqx-layout-context-menu-"+r),i.innerHTML="<ul>"+e+'<li id="dockOption'+r+'">Dock</li><li id="autoHideOption'+r+'" style="white-space: nowrap;">Auto Hide</li><li id="closeOption'+r+'">Close</li></ul>',s._menu=k(i),document.body.appendChild(i),s._menu.jqxMenu({theme:s.theme,width:100,height:"auto",autoOpenPopup:!1,mode:"popup",popupZIndex:99999,rtl:s.rtl}),s._menuInitialized=!0,s.addHandler(s._menu,"itemclick.jqxLayout"+r,function(e){s._handleMenuItemClick(k(e.target).text())});var n=function(e){return s.dockingLayout?!1===e.allowClose:!0!==e.allowClose};s.addHandler(s._menu,"shown.jqxLayout"+r,function(){switch(s._contextMenuTarget.type){case"tabbedGroup":t(!0,!1===s._contextMenuTarget.allowPin||!1===s._contextMenuTarget.pinValid,n(s._contextMenuTarget));break;case"layoutPanel":var e=s._contextMenuTarget.parent;"tabbedGroup"===e.type?t(!0,!1===e.allowPin||s._isMiddleTabbedGroup(e),n(e)):"autoHideGroup"===e.type&&t(!1===e.allowUnpin,!0,n(s._contextMenuTarget));break;case"documentPanel":t(!0,!0,n(s._contextMenuTarget))}})}},_addRightClickHandler:function(e,s){var r=this;!0===r.contextMenu&&(r.addHandler(e,"mousedown.jqxLayout"+r.element.id,function(e){if(!0===r.contextMenu&&(e.which&&3===e.which||e.button&&2===e.button)){var t=document.body.scrollTop,i=k(window).scrollLeft();r._contextMenuTarget=s.current,r._menu.jqxMenu("open",parseInt(e.clientX,10)+5+i,parseInt(e.clientY,10)+5+t)}}),r.addHandler(e,"contextmenu.jqxLayout"+r.element.id,function(){if(!0===r.contextMenu)return!1}))},_handleMenuItemClick:function(e){var t=this,i=t._contextMenuTarget.type,s=t._contextMenuTarget.parent;switch(e){case"Float":switch(i){case"tabbedGroup":t.dockingLayout._floatTabbedGroup(t._contextMenuTarget,t._contextMenuTarget.widget);break;case"layoutPanel":if("tabbedGroup"===s.type)t.dockingLayout._removeByDragHandler(void 0,s,s.widget,t._contextMenuTarget.index,!1);else if("autoHideGroup"===s.type){var r=t._find(k(k(t._find(t._contextMenuTarget.parent.widget,".jqx-ribbon-content")[0]).children()[t._contextMenuTarget.index]),".jqx-layout-window")[0].firstChild;t.dockingLayout._floatAutoHideGroup(t._contextMenuTarget,t._contextMenuTarget.title,r)}break;case"documentPanel":t.dockingLayout._removeByDragHandler(void 0,s,s.widget,t._contextMenuTarget.index,!1)}break;case"Dock":t._unPin(t._contextMenuTarget.parent);break;case"Auto Hide":switch(i){case"tabbedGroup":t._pin(t._contextMenuTarget);break;case"layoutPanel":t._pin(t._contextMenuTarget.parent)}break;case"Close":switch(i){case"tabbedGroup":t._close(t._contextMenuTarget);break;case"layoutPanel":1<t._contextMenuTarget.parent.items.length?t._close(t._contextMenuTarget):t._close(t._contextMenuTarget.parent);break;case"documentPanel":t._closeDocumentPanel(t._contextMenuTarget.index,t._contextMenuTarget.parent.items,t._contextMenuTarget.parent,t._contextMenuTarget.parent.widget,!1)}}},_closeDocumentPanel:function(e,t,i,s,r){if(!1===r&&s.jqxRibbon("removeAt",e),1<t.length){var n=!1;t[e].removed=!0,this._updateLayout(t);for(var o=0;o<t.length;o++)if(!0===t[o].selected){n=!0;break}setTimeout(function(){!1===n?t[e]?s.jqxRibbon("selectAt",e):s.jqxRibbon("selectAt",e-1):s.jqxRibbon("render")},0)}else this._close(i)},_isMiddleTabbedGroup:function(e){return!(0===e.index||e.index===e.parent.items.length-1)},_validateTabbedGroup:function(e){var t=!0;if((t=t&&1<e.parent.items.length)&&2===e.parent.items.length){var i=0===e.index?1:0;"autoHideGroup"===e.parent.items[i].type&&(t=!1)}t&&(t=t&&!this._isMiddleTabbedGroup(e)),!1===(e.pinValid=t)&&k(this._find(e.widget,".jqx-layout-pseudo-window-pin-background")[0]).addClass("jqx-fill-state-disabled")},_mouseupHandler:function(e){try{this.dockingLayout&&(this._docUP(e),this.dockingLayout._windowCreate=!1,this.dockingLayout._hideOverlays())}catch(e){}},_toPx:function(e){return"number"==typeof e?e+"px":e},_find:function(e,t){return this._oldIE?e.find(t):e[0]?e[0].querySelectorAll(t):e.querySelectorAll(t)},_detachChildNodes:function(e){for(var t=[],i=e.childNodes;0<i.length;)t.push(k(i[0]).detach());return t}})}(jqxBaseFramework),function(I){I.jqx.jqxWidget("jqxDockingLayout","jqxLayout",{}),I.extend(I.jqx._jqxDockingLayout.prototype,{defineInstance:function(){var e={events:["float","dock"]};return this.base&&(this.base.dockingLayout=this),this===I.jqx._jqxDockingLayout.prototype||I.extend(!0,this,e),e},createInstance:function(){if(!this.base.host.jqxWindow)throw new Error("jqxDockingLayout: Missing reference to jqxwindow.js.");this._oldIE=I.jqx.browser.msie&&I.jqx.browser.version<9,this._addClasses(),!0!==this.base._initiallyHidden&&(this._createOverlay(),this._createEdgeOverlays())},loadLayout:function(e){if(void 0!==e&&!1===I.isEmptyObject(e)){for(var t=this.base,i=t.element.id,s=t._find(document.body,"."+i+"FloatGroup"),r=0;r<s.length;r++){var n=I(s[r]);n.off(),n.jqxWindow("destroy")}t.loadLayout(e)}},destroy:function(){for(var e=this.base,t=e.element.id,i=e._find(document.body,"."+t+"FloatGroup"),s=0;s<i.length;s++){var r=I(i[s]);r.off(),r.jqxWindow("destroy")}this._removeHandlers(),e.destroy()},addFloatGroup:function(e,t,i,s,r,n,o){var a=this.base,l={type:"floatGroup",width:e,height:t,position:i,items:[],programmaticallyAdded:!0},d={type:s,title:r,content:n,initContent:o};l.items.push(d),a.layout.push(l),a.render()},_raiseEvent:function(e,t){void 0===t&&(t={owner:null});var i=this.events[e];t.owner=this;var s=new I.Event(i);return s.owner=this,s.args=t,s.preventDefault&&s.preventDefault(),this.base.host.trigger(s)},_addClasses:function(){var e=this.base;e.host.addClass(e.toThemeProperty("jqx-docking-layout"))},_removeHandlers:function(){var e=this.base,t=e.element.id;this.removeHandler(I(document),"mousemove.jqxDockingLayout"+t),this.removeHandler(e.host,"mouseleave.jqxDockingLayout"+t),e._touchDevice&&(this.removeHandler(I(document),"touchmove.jqxDockingLayout"+t),this.removeHandler(I(document),"touchend.jqxDockingLayout"+t))},_removeByDragHandler:function(e,t,i,s,r){void 0===s&&(s=e.args.draggedIndex),void 0===r&&(r=!0);var n=this.base,o=t.items,a=o[s],l=n._find(t.widget,".jqx-ribbon-content-section")[s],d=n._detachChildNodes(l);i.hasClass("jqx-ribbon")||(i=I(n._find(i,".jqx-ribbon")[0])),this.base._suppressResizeHandler=!0,this._createFloatGroup(e,a.title,d,"documentGroup",t,a),this.base._closeDocumentPanel(s,o,t,i,r),this.base._suppressResizeHandler=!1},_floatTabbedGroup:function(e,t,i){for(var s,r,n=this.base,o=[],a=I(n._find(t,".jqx-ribbon")[0]),l=n._find(a,".jqx-ribbon-content-section"),d=0;d<e.items.length;d++){var h=e.items[d],c=n._detachChildNodes(l[d]);h.selected&&(s=h.title,r=d),o.push(c)}this._createFloatGroup(i,s,o,"tabbedGroup",e,null,r),this.base._close(e),i&&(i.target.style.cursor="")},_addTabbedGroupHandlers:function(i,t){var s,r=this,n=r.base,e=n.element.id,o=n._find(t,".jqx-layout-window-header")[0],a=!1,l=n._touchDevice?["touchstart","touchend"]:["mousedown","mouseup"];function d(e){!0===a&&!0!==n._clickedToResize&&(r._floatTabbedGroup(i,t,e),a=!1)}r.addHandler(o,l[0]+".jqxDockingLayout"+e,function(e){if(!1!==i.allowDrag&&(a=!0,e.target.style.cursor="move",n._touchDevice)){var t=e.originalEvent.touches[0];s=document.elementFromPoint(t.pageX,t.pageY)}}),r.addHandler(o,l[1]+".jqxDockingLayout"+e,function(e){a=!1,e.target.style.cursor=""}),n._touchDevice?r.addHandler(I(document),"touchmove.jqxDockingLayout"+e,function(e){!0===n._clickedToResize&&e.preventDefault();var t=e.originalEvent.touches[0];s!==document.elementFromPoint(t.pageX,t.pageY)&&d({pageX:t.pageX,pageY:t.pageY,target:s})}):r.addHandler(o,"mouseleave.jqxDockingLayout"+e,function(e){d({pageX:e.pageX,pageY:e.pageY,target:e.target})})},_floatAutoHideGroup:function(e,t,i,s){var r=this.base._detachChildNodes(i);this._createFloatGroup(s,t,r,"autoHideGroup",e,e),this.base._close(e)},_addAutoHideGroupHandlers:function(i,e,t,s){var r,n=this,o=n.base,a=o.element.id,l=!1,d=o._touchDevice?["touchstart","touchend"]:["mousedown","mouseup"];function h(e){!0===l&&(n._floatAutoHideGroup(i,t,s,e),l=!1,e.target.style.cursor="")}n.addHandler(e,d[0]+".jqxDockingLayout"+a,function(e){if(!1!==i.parent.allowDrag&&(l=!0,e.target.style.cursor="move",o._touchDevice)){var t=e.originalEvent.touches[0];r=document.elementFromPoint(t.pageX,t.pageY)}}),n.addHandler(e,d[1]+".jqxDockingLayout"+a,function(e){l=!1,e.target.style.cursor=""}),o._touchDevice?n.addHandler(I(document),"touchmove.jqxDockingLayout"+a,function(e){!0===o._clickedToResize&&e.preventDefault();var t=e.originalEvent.touches[0];r!==document.elementFromPoint(t.pageX,t.pageY)&&h({pageX:t.pageX,pageY:t.pageY,target:r})}):n.addHandler(e,"mouseleave.jqxDockingLayout"+a,function(e){h({pageX:e.pageX,pageY:e.pageY,target:e.target})})},_createFloatGroup:function(s,r,e,n,o,a,l){var d,h,t,i,c,u,p=this,m=p.base,f=document.createElement("div");if(f.className=m.toThemeProperty("jqx-docking-layout-group-floating")+" "+m.element.id+"FloatGroup",f.innerHTML="<div></div><div></div>",document.body.appendChild(f),f=I(f),"documentGroup"===n)s&&(d=s.args.x,h=s.args.y),t=o.widget.width(),i=o.widget.height(),c=e;else if("tabbedGroup"===n){s&&(d=s.pageX,h=s.pageY),t=o.widget.width(),i=o.widget.height(),c="",u=document.createElement("div");var g=document.createElement("div"),v=document.createElement("ul");v.className="jqx-layout-ribbon-header jqx-layout-ribbon-header-"+(p.rtl?"rtl":"ltr");for(var x=0;x<o.items.length;x++){var w=o.items[x],y=document.createElement("div"),b=document.createElement("li");b.innerHTML=w.title,v.appendChild(b);for(var _=0;_<e[x].length;_++)e[x][_].appendTo(y);g.appendChild(y)}u.appendChild(v),u.appendChild(g),c=u=I(u)}else"autoHideGroup"===n&&(s&&(d=s.pageX,h=s.pageY),t=I(m._find(o.parent.widget,".jqx-ribbon-content")[0]).width(),i=o.parent.widget.height(),c=e);if(!d&&!h){var j=m.host.offset();d=(m.host.width()-t)/2+j.left+100,h=(m.host.height()-i)/2+j.top+10}f.on("moved close",function(e){p._hideOverlays();var t=f.current;"moved"===e.type?(t.position.x=e.args.x,t.position.y=e.args.y,t._overlayGroup&&p._updateOverlayGroup(t._overlayGroup),p._clearTextSelection(),p._windowCreate=!1,p._hideOverlays()):(m._raiseEvent("4",{element:f,floatGroup:f.current}),t._overlayGroup&&(t._overlayGroup.removed=!0,p._updateOverlayGroups()),t.removed=!0,m._updateLayout(m.layout))}),f.on("resized",function(e){var t=f.current,i=I(this).offset();t.width=e.args.width,t.height=e.args.height,t.position.x=i.left,t.position.y=i.top,t._overlayGroup&&p._updateOverlayGroup(t._overlayGroup)}),f.jqxWindow({theme:m.theme,title:r,content:c,width:t,maxWidth:null,height:i,maxHeight:null,position:{x:d-100,y:h-10},closeButtonAction:"close",rtl:m.rtl,initContent:function(){var e,t=this._header,i=m._touchDevice?"touchstart":"mousedown";e="autoHideGroup"===n?o.parent:o,s&&(p._draggedWindow={fromGroup:e,fromPanel:a,title:r,element:f},t.trigger("mousedown",[d,h]),p._windowDragged=!0,p._windowCreate=!0,p._interval(),m.resizable&&(m._overlay[0].style.display="block"),p._showEdgeOverlays()),t.on(i,function(){p._windowDragged=!0,f.current._overlayGroup&&(f.current._overlayGroup.self=!0),p._interval(),m.resizable&&(m._overlay[0].style.display="block"),p._draggedWindow={fromGroup:e,fromPanel:a,title:r,element:f},p._showEdgeOverlays()}),t.on("mouseup",function(){p._hideOverlays(),p._windowCreate=!1}),"tabbedGroup"===n&&(u.jqxRibbon({theme:m.theme,width:"100%",height:"100%",position:"bottom",selectedIndex:l,selectionMode:"click",animationType:"none",rtl:m.rtl,reorder:!0,_suppressReorder:!1,_removeByDrag:!0}),u.on("select",function(e){if(!e.owner.widgetName||"jqxRibbon"===e.owner.widgetName){var t=f.current.items[0].items[e.args.selectedIndex];f.jqxWindow("setTitle",t.title),t.selected=!0}}),u.on("unselect",function(e){e.owner.widgetName&&"jqxRibbon"!==e.owner.widgetName||(f.current.items[0].items[e.args.unselectedIndex].selected=!1)}),u.on("reorder",function(e){m._swapPanelsInLayout(f.current.items[0].items,e.args.newIndex,e.args.oldIndex)}),u.on("_removeByDrag",function(e){p._removeByDragHandler(e,f.current.items[0],u),1===f.current.items[0].items.length&&u.jqxRibbon({_removeByDrag:!1})}))}});var q,T,C={type:"floatGroup",parent:{type:"host"},widget:f,position:{x:d-100,y:h-10},index:m.layout.length,width:t,height:i};if(f.current=C,a)C.items=[],m._copyItem(a,C.items),q=C.items,T=C;else{C.items=[{type:"tabbedGroup",items:[],parent:C,widget:u}],q=C.items[0].items;for(var S=0;S<o.items.length;S++)m._copyItem(o.items[S],q);T=C.items[0]}for(var k=0;k<q.length;k++)q[k].parent=T;m.layout.push(C),p._raiseEvent("0",{item:C}),p._trackFloatGroups()},_interval:function(){var e=this;if(!0===e._oldIE){var t=e._overlayWidth,i=e._overlayHeight;e._oldIEInterval=setInterval(function(){e._checkPosition(t,i),e._windowCreate&&e._draggedWindow.element.jqxWindow("move",e._x-50,e._y-10)},1e3)}},_createOverlay:function(){var h=this,c=h.base,e=c.element.id;h._overlay=document.createElement("div"),h._overlay.className=c.toThemeProperty("jqx-docking-layout-overlay"),h._overlay.innerHTML='<div class="jqx-docking-layout-overlay-section"><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-top")+'"><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+c.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+c.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-top")+'"></div></div></div></div><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div></div><div class="jqx-docking-layout-overlay-section"><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-left")+'"><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+c.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+c.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-left")+'"></div></div></div></div><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-center")+'"><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+c.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+c.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-inner-square-content jqx-docking-layout-overlay-highlight")+'"></div></div></div><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-right")+'"><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+c.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+c.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-right")+'"></div></div></div></div></div><div class="jqx-docking-layout-overlay-section"><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-bottom")+'"><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+c.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+c.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-bottom")+'"></div></div></div></div><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div></div>',h._overlay=I(h._overlay);var t=c._find(h._overlay,".jqx-docking-layout-overlay-square-center")[0];h._overlayCenter=I(t.firstChild),h._dropOverlay=document.createElement("div"),h._dropOverlay.className=h.toThemeProperty("jqx-docking-layout-drop-overlay"),h._dropOverlayHelper=I(h._dropOverlay),c._ie7?I("body").append(h._overlay,h._dropOverlay):(c.element.appendChild(h._overlay[0]),c.element.appendChild(h._dropOverlay)),h._overlayWidth=h._overlay[0].offsetWidth,h._overlayHeight=h._overlay[0].offsetHeight,h._overlay[0].style.display="none",h._addOverlayHandlers(),h._squares=[c._find(h._overlay,".jqx-docking-layout-overlay-square-top")[0],c._find(h._overlay,".jqx-docking-layout-overlay-square-left")[0],t,c._find(h._overlay,".jqx-docking-layout-overlay-square-right")[0],c._find(h._overlay,".jqx-docking-layout-overlay-square-bottom")[0]];var r=!(h._sansCenter=[I(c._find(I(h._squares[0]),".jqx-docking-layout-overlay-inner-square")[0]),I(c._find(I(h._squares[1]),".jqx-docking-layout-overlay-inner-square")[0]),I(c._find(I(h._squares[3]),".jqx-docking-layout-overlay-inner-square")[0]),I(c._find(I(h._squares[4]),".jqx-docking-layout-overlay-inner-square")[0])]);function n(e,t,i,s){h._dropOverlay.style.display="block",h._dropOverlay.style.width=e+"px",h._dropOverlay.style.height=t+"px",I(h._dropOverlay).offset({left:i,top:s})}function i(e){if(e=h._closest(e,"jqx-docking-layout-overlay-square"),r=e,!I(c._find(e,".jqx-docking-layout-overlay-inner-square")[0]).hasClass("jqx-fill-state-disabled")){var t=h._dropToGroup.element.width(),i=h._dropToGroup.element.height(),s=h._dropToGroup.element.offset();e.hasClass("jqx-docking-layout-overlay-square-top")?n(t,i/2,s.left,s.top):e.hasClass("jqx-docking-layout-overlay-square-left")?n(t/2,i,s.left,s.top):e.hasClass("jqx-docking-layout-overlay-square-center")&&!h._overlayCenter.hasClass("jqx-docking-layout-square-disabled")?n(t,i,s.left,s.top):e.hasClass("jqx-docking-layout-overlay-square-right")?n(t/2,i,s.left+t/2,s.top):e.hasClass("jqx-docking-layout-overlay-square-bottom")?n(t,i/2,s.left,s.top+i/2):c._touchDevice&&(h._dropOverlay.style.display="none",r=!1)}}function s(e){var t=h._dropToGroup.settings;if(I(c._find(e,".jqx-docking-layout-overlay-inner-square")[0]).hasClass("jqx-fill-state-disabled"))h._hideOverlays();else{if(e.hasClass("jqx-docking-layout-overlay-square-top"))h._dropHandler(0,"vertical","height","top");else if(e.hasClass("jqx-docking-layout-overlay-square-left"))h._dropHandler(0,"horizontal","width","left");else if(e.hasClass("jqx-docking-layout-overlay-square-center")){var i,s,r=h._getDraggedWindowInformation(),n=r.title,o=r.content;if("documentGroup"===t.type?(i=t.widget,s="documentPanel"):"tabbedGroup"===t.type&&(i="floatGroup"===t.parent.type?t.widget:I(c._find(t.widget,".jqx-ribbon")[0]),s="layoutPanel"),"layoutGroup"===t.type)h._dropToEmptyLayoutGroup(r);else for(var a=0;a<n.length;a++){i.jqxRibbon({_suppressReorder:!0}),i.jqxRibbon("addAt",c._find(i,".jqx-ribbon-content-section").length,{title:n[a],content:o[a]},!0);var l=t.items.length,d={type:s,title:n[a],parent:t,index:l,detachedContent:r.content[a],docked:!0};t.items.push(d),c._addRightClickHandler(I(c._find(i,".jqx-ribbon-item")[l]),{current:d}),i.jqxRibbon({_suppressReorder:!1})}"floatGroup"===t.parent.type&&t.widget.jqxRibbon({_removeByDrag:!0}),h._clearTextSelection(),h._raiseEvent("1",{position:"center",item:t})}else e.hasClass("jqx-docking-layout-overlay-square-right")?h._dropHandler(1,"horizontal","width","right"):e.hasClass("jqx-docking-layout-overlay-square-bottom")&&h._dropHandler(1,"vertical","height","bottom");h._removeFloatGroupObject(h._draggedWindow.element.current),h._draggedWindow.element.remove(),h._hideOverlays()}}c._touchDevice?(h.addHandler(I(document),"touchmove.jqxDockingLayout"+e,function(e){if(h._windowDragged){e.preventDefault();var t=e.originalEvent.touches[0];i(I(document.elementFromPoint(t.pageX,t.pageY)))}}),h.addHandler(I(document),"touchend.jqxDockingLayout"+e,function(){!1!==r&&(s(r),r=!1)})):I.each(h._squares,function(){h.addHandler(this,"mouseenter.jqxDockingLayout"+e,function(){i(I(this))}),h.addHandler(this,"mouseleave.jqxDockingLayout"+e,function(){h._dropOverlay.style.display="none"}),h.addHandler(this,"mouseup.jqxDockingLayout"+e,function(){s(I(this))})})},_addOverlayHandlers:function(){var i=this,s=i._overlayWidth,r=i._overlayHeight;i.base._touchDevice?i.addHandler(I(document),"touchmove.jqxDockingLayout"+i.base.element.id,function(e){var t=e.originalEvent.touches[0];i._x=t.pageX,i._y=t.pageY,i._windowDragged&&!i._oldIE&&(i._checkPosition(s,r),i._windowCreate&&i._draggedWindow.element.jqxWindow("move",t.pageX-50,t.pageY-10))}):i.addHandler(I(document),"mousemove.jqxDockingLayout"+i.base.element.id,function(e){i._x=e.pageX,i._y=e.pageY,i._windowDragged&&!i._oldIE&&(i._checkPosition(s,r),i._windowCreate&&i._draggedWindow.element.jqxWindow("move",e.pageX-50,e.pageY-10))})},_checkPosition:function(e,t){for(var i=this,s=i.base,r=i._x,n=i._y,o=0;o<s._overlayGroups.length;o++){var a=s._overlayGroups[o];if(!a.self){var l=a.width,d=a.height,h=a.offset,c=h.left,u=h.top;if(c<=r&&r<=c+l&&u<=n&&n<=u+d){if(("documentGroup"===a.settings.type&&"documentGroup"===i._draggedWindow.fromGroup.type||"tabbedGroup"===a.settings.type&&("tabbedGroup"===i._draggedWindow.fromGroup.type||"autoHideGroup"===i._draggedWindow.fromGroup.type)||"layoutGroup"===a.settings.type)&&!1!==a.settings.allowDrop)i._overlayCenter.removeClass(s.toThemeProperty("jqx-fill-state-disabled"));else if(i._overlayCenter.addClass(s.toThemeProperty("jqx-fill-state-disabled")),"floatGroup"===a.settings.parent.type)return;for(var p=0;p<i._sansCenter.length;p++)"floatGroup"===a.settings.parent.type?i._sansCenter[p].addClass(s.toThemeProperty("jqx-fill-state-disabled")):i._sansCenter[p].removeClass(s.toThemeProperty("jqx-fill-state-disabled"));return i._overlay[0].style.display="block",i._overlay.offset({left:parseInt(c+l/2-e/2,10),top:parseInt(u+d/2-t/2,10)}),void(i._dropToGroup=a)}}}i._overlay[0].style.display="none"},_dropHandler:function(e,t,i,s){var r,n,o=this.base,a=this._dropToGroup.settings,l=a.parent,d=this._getDraggedWindowInformation(),h=d.title,c=d.content,u=d.groupType,p=d.itemType,m=[];if(l.orientation===t){r=a.index+e,(n={type:u,parent:l})[i]=this._draggedWindow.element[i]();for(var f=0;f<h.length;f++)m.push({type:p,title:h[f],parent:n,prevent:!0,selected:this._getFloatGroupItemSelection(f),detachedContent:c[f],docked:!0});n.items=m,this._setOptimalDimension(i,n,a),l.items.splice(r,0,n)}else{var g,v;"width"===i?(g="height",v="minHeight"):(g="width",v="minWidth");var x={type:"layoutGroup",orientation:t,parent:a.parent,index:a.index};x[g]=a[g],a[v]&&(x[v]=a[v]),a.parent.items.splice(a.index,1),a.parent.items.splice(a.index,0,x),n={type:u,parent:a.parent=x};for(var w=0;w<h.length;w++)m.push({type:p,title:h[w],parent:n,prevent:!0,selected:this._getFloatGroupItemSelection(w),detachedContent:c[w],docked:!0});n.items=m,delete a[g],a[i]="50%",n[i]="50%",x.items=[a],x.items.splice(0+e,0,n)}o.render();for(var y=o._find(n.widget,".jqx-ribbon-content-section"),b=0;b<y.length;b++)for(var _=I(y[b]),j=c[b],q=0;q<j.length;q++)c[b][q].appendTo(_);this._clearTextSelection(),o._raiseEvent("1",{item:a}),this._raiseEvent("1",{position:s,item:n})},_setOptimalDimension:function(e,t,i){var s,r="width"===e?"minWidth":"minHeight",n=i[r]||this.base["minGroup"+e.charAt(0).toUpperCase()+e.slice(1)],o=i.parent.widget[e]();s=parseFloat(i[e])-n/o*100;var a=t[e]/o*100;if(s<a){t[e]=parseFloat(i[e])/2+"%",t[r]=parseInt(parseFloat(t[e])/100*o,10),i[e]=parseFloat(i[e])-parseFloat(t[e])+"%";var l=parseInt(parseFloat(i[e])/100*o,10);l<n&&(i[r]=l)}else t[e]=a+"%",i[e]=parseFloat(i[e])-a+"%"},_dropToEmptyLayoutGroup:function(e){var t=this._dropToGroup.settings,i={type:e.groupType,items:[],parent:t},s=e.content;"horizontal"===t.orientation?i.width="100%":"vertical"===t.orientation&&(i.height="100%");for(var r=0;r<e.title.length;r++){var n={type:e.itemType,title:e.title[r],parent:i,prevent:!0,selected:this._getFloatGroupItemSelection(r),detachedContent:s[r],docked:!0};i.items.push(n)}t.items.push(i),this.base.render();for(var o=this.base._find(i.widget,".jqx-ribbon-content-section"),a=0;a<o.length;a++)for(var l=0;l<s[a].length;l++)s[a][l].appendTo(o[a])},_getFloatGroupItemSelection:function(e){return!!this._draggedWindow.fromPanel||this._draggedWindow.element.current.items[0].items[e].selected},_createEdgeOverlays:function(){function e(e){var t,i,s="left"===e||"right"===e?"horizontal":"vertical",r='<div class="'+a.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-mini-window-edge-"+s)+'"><div class="'+a.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header jqx-docking-layout-overlay-inner-square-header-"+s)+'"></div><div class="'+a.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-inner-square-content jqx-docking-layout-overlay-inner-square-content-"+s)+'"></div></div>',n='<div class="'+a.toThemeProperty("jqx-docking-layout-overlay-square-edge-arrow-container jqx-docking-layout-overlay-square-edge-arrow-container-"+s)+'"><div class="'+a.toThemeProperty("jqx-fill-state-pressed jqx-docking-layout-overlay-square-edge-arrow jqx-docking-layout-overlay-square-edge-arrow-"+e)+'"></div></div>';return i="left"===e||"top"===e?r+n:n+r,(t=document.createElement("div")).className=a.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-edge"),t.innerHTML='<div class="'+a.toThemeProperty("jqx-docking-layout-overlay-inner-square-edge")+'">'+i+"</div>",a._ie7?document.body.appendChild(t):a.element.appendChild(t),o._edgeOverlays.push(t),I(t)}var o=this,a=o.base;o._edgeOverlays=[],o._leftOverlay=e("left"),o._rightOverlay=e("right"),o._topOverlay=e("top"),o._bottomOverlay=e("bottom"),o._addEdgeOverlaysHandlers()},_addEdgeOverlaysHandlers:function(){function t(e,t,i,s){r._dropOverlay.style.display="block",r._dropOverlay.style.width=e,r._dropOverlay.style.height=t,I(r._dropOverlay).offset({left:i,top:s})}var i,r=this,s=r.base,e=s.element.id,n=!1;function o(e){switch(i=s.host.offset(),e=r._closest(I(e),"jqx-docking-layout-overlay-square-edge")[0],n=e){case r._leftOverlay[0]:t("100px",s.host.height()+"px",i.left,i.top);break;case r._rightOverlay[0]:t("100px",s.host.height()+"px",i.left+s.host.width()-100,i.top);break;case r._topOverlay[0]:t(s.host.width()+"px","100px",i.left,i.top);break;case r._bottomOverlay[0]:t(s.host.width()+"px","100px",i.left,i.top+s.host.height()-100);break;default:s._touchDevice&&(n=!1)}}function a(e){switch(e){case r._leftOverlay[0]:r._dropToEdge("left",0,"horizontal","width");break;case r._rightOverlay[0]:r._dropToEdge("right",s.layout[0].items.length-1,"horizontal","width");break;case r._topOverlay[0]:r._dropToEdge("top",0,"vertical","height");break;case r._bottomOverlay[0]:r._dropToEdge("bottom",s.layout[0].items.length-1,"vertical","height")}}s._touchDevice?(r.addHandler(I(document),"touchmove.jqxDockingLayout"+e,function(e){if(r._windowDragged){e.preventDefault();var t=e.originalEvent.touches[0];o(I(document.elementFromPoint(t.pageX,t.pageY)))}}),r.addHandler(I(document),"touchend.jqxDockingLayout"+e,function(){!1!==n&&(a(n),n=!1)})):I.each(r._edgeOverlays,function(){r.addHandler(this,"mouseenter.jqxDockingLayout"+e,function(){o(this)}),r.addHandler(this,"mouseleave.jqxDockingLayout"+e,function(){r._dropOverlay.style.display="none"}),r.addHandler(this,"mouseup.jqxDockingLayout"+e,function(){a(this)})})},_dropToEdge:function(e,t,i,s){var r,n,o=this,a=o.base,l=a.layout[0],d=o._getDraggedWindowInformation(),h=d.title,c=d.content,u=d.groupType,p=d.itemType,m=[];if(o._removeFloatGroupObject(o._draggedWindow.element.current),l.orientation===i){(r={type:u,parent:l})[s]=o._draggedWindow.element[s]();for(var f=0;f<h.length;f++)m.push({type:p,title:h[f],parent:r,prevent:!0,selected:o._getFloatGroupItemSelection(f),detachedContent:c[f],docked:!0});r.items=m,n=l.items[t],o._setOptimalDimension(s,r,n),"left"===e||"top"===e?l.items.splice(t,0,r):l.items.push(r)}else{var g;"width"===s?(g="height","minHeight"):(g="width","minWidth");var v={type:"layoutGroup",orientation:i,parent:l.parent,index:l.index};r={type:u,parent:v};for(var x=0;x<h.length;x++)m.push({type:p,title:h[x],parent:r,prevent:!0,selected:o._getFloatGroupItemSelection(x),detachedContent:c[x],docked:!0});r.items=m,delete l[g],delete r[g],r[s]="50%",l[s]="50%",(l.parent=v).items="left"===e||"top"===e?[r,l]:[l,r],a.layout[0]=v,n=l}a.render();for(var w=a._find(r.widget,".jqx-ribbon-content-section"),y=0;y<w.length;y++)for(var b=0;b<c[y].length;b++)c[y][b].appendTo(w[y]);o._clearTextSelection(),a._raiseEvent("1",{item:n}),o._raiseEvent("1",{position:e+"-edge",item:r}),o._draggedWindow.element.remove(),o._hideOverlays()},_showEdgeOverlays:function(){var e=this.base,t=e.host.width(),i=e.host.height(),s=e.host.offset(),n=!0,o=!0,a=!0,l=!0;!function e(t){if(t.items&&0!==t.items.length){var i=t.orientation,s=t.items[0],r=t.items[t.items.length-1];"horizontal"===i?("autoHideGroup"===s.type?n=n&&!1:"layoutGroup"===s.type&&e(s),"autoHideGroup"===r.type?o=o&&!1:"layoutGroup"===r.type&&e(r)):"vertical"===i&&("autoHideGroup"===s.type?a=a&&!1:"layoutGroup"===s.type&&e(s),"autoHideGroup"===r.type?l=l&&!1:"layoutGroup"===r.type&&e(r))}}(e.layout[0]),n&&(this._leftOverlay[0].style.display="block"),o&&(this._rightOverlay[0].style.display="block"),a&&(this._topOverlay[0].style.display="block"),l&&(this._bottomOverlay[0].style.display="block"),this._leftOverlay.offset({left:s.left+5,top:s.top+i/2-20}),this._rightOverlay.offset({left:s.left+t-40,top:s.top+i/2-20}),this._topOverlay.offset({left:s.left+t/2-20,top:s.top+5}),this._bottomOverlay.offset({left:s.left+t/2-20,top:s.top+i-40})},_hideOverlays:function(){var e=this,t=e.base;!(e._windowDragged=!1)===e._oldIE&&clearInterval(e._oldIEInterval),t.resizable&&setTimeout(function(){e.base._overlay[0].style.display="none"},0),e._overlay[0].style.display="none";for(var i=0;i<e._edgeOverlays.length;i++)e._edgeOverlays[i].style.display="none";e._dropOverlay.style.display="none"},_getDraggedWindowInformation:function(){var e,t,i=this.base,s=[],r=[];if(this._draggedWindow.fromPanel)s.push(this._draggedWindow.title),r.push(i._detachChildNodes(i._find(this._draggedWindow.element,".jqx-window-content")[0]));else for(var n=i._find(this._draggedWindow.element,".jqx-ribbon-content-section"),o=0;o<this._draggedWindow.element.current.items[0].items.length;o++){var a=this._draggedWindow.element.current.items[0].items[o];s.push(a.title),r.push(i._detachChildNodes(n[o]))}return"documentGroup"===this._draggedWindow.fromGroup.type?(e="documentGroup",t="documentPanel"):(e="tabbedGroup",t="layoutPanel"),{title:s,content:r,groupType:e,itemType:t}},_removeFloatGroupObject:function(e){var t=this.base;e.removed=!0,t._updateLayout(t.layout)},_trackFloatGroups:function(){for(var e=this.base,t=1;t<e.layout.length;t++){var i=e.layout[t];if("tabbedGroup"===i.items[0].type){var s=i.items[0].widget,r={element:s,width:s.width(),height:s.height(),offset:s.offset(),settings:i.items[0]};i._overlayGroup=r,e._overlayGroups.push(r)}}},_updateOverlayGroup:function(e){if(e){var t=e.element;e.width=t.width(),e.height=t.height(),e.offset=t.offset(),e.self=!1}},_updateOverlayGroups:function(){for(var e=this.base._overlayGroups,t=e.length-1;0<=t;t--){!0===e[t].removed&&e.splice(t,1)}},_clearTextSelection:function(){try{document.selection?document.selection.empty():window.getSelection&&(window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges())}catch(e){}},_closest:function(e,t){if(e.hasClass(t))return e;for(var i=I(e[0].parentNode);null!==i[0]&&"#document"!==i[0].nodeName;){if(i.hasClass(t))return i;i=I(i[0].parentNode)}}})}(jqxBaseFramework),function(p){p.jqx.jqxWidget("jqxDockPanel","",{}),p.extend(p.jqx._jqxDockPanel.prototype,{defineInstance:function(){var e={width:null,height:null,lastchildfill:!0,disabled:!1,events:["layout"]};return this===p.jqx._jqxDockPanel.prototype||p.extend(!0,this,e),e},createInstance:function(e){var t=this;this.host.addClass(this.toThemeProperty("jqx-dockpanel")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.childrenCount=p(this.host).children().length,this.host.wrapInner('<div style="overflow: hidden; width: 100%; height: 100%;" class="innerContainer"></div>'),this.$wrapper=this.host.find(".innerContainer"),this.$wrapper.css("position","relative"),this.sizeCache=new Array,this.performLayout(),p.jqx.utilities.resize(this.host,function(){t.refresh()})},render:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height),this.sizeCache=new Array,this.performLayout()},resize:function(e,t){this.width=e,this.height=t,this.render()},performLayout:function(){if(!this.disabled){var n=this.childrenCount,o=0,a=0,l=0,d=0,h=this,c=this.host.width(),u=this.host.height();this.sizeCache.length<this.$wrapper.children().length&&p.each(this.$wrapper.children(),function(e){var t=p(this);t.css("position","absolute");var i={width:t.css("width"),height:t.css("height")};h.sizeCache[e]=i}),p.each(this.$wrapper.children(),function(e){var t=this.getAttribute("dock");null==t&&(t="left"),e==n-1&&h.lastchildfill&&(t="fill");var i=p(this);i.css("position","absolute"),i.css("width",h.sizeCache[e].width),i.css("height",h.sizeCache[e].height);var s={width:i.outerWidth(),height:i.outerHeight()},r={x:l,y:d,width:Math.max(0,c-(l+o)),height:Math.max(0,u-(d+a))};if(e<n)switch(t){case"left":l+=s.width,r.width=s.width;break;case"top":d+=s.height,r.height=s.height;break;case"right":o+=s.width,r.x=Math.max(0,c-o),r.width=s.width;break;case"bottom":a+=s.height,r.y=Math.max(0,u-a),r.height=s.height}i.css("left",r.x),i.css("top",r.y),i.css("width",r.width),i.css("height",r.height)}),this._raiseevent(0)}},destroy:function(){p.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_raiseevent:function(e,t,i){if(null!=this.isInitialized&&1==this.isInitialized){var s=this.events[e],r=new p.Event(s);return r.previousValue=t,r.currentValue=i,(r.owner=this).host.trigger(r)}},propertyChangedHandler:function(e,t,i,s){this.isInitialized&&e.render()},refresh:function(){this.render()}})}(jqxBaseFramework),function(o){o.jqx.jqxWidget("jqxDocking","",{}),o.extend(o.jqx._jqxDocking.prototype,{defineInstance:function(){var e={orientation:"horizontal",mode:"default",floatingWindowOpacity:.3,panelsRoundedCorners:!0,disabled:!1,width:"auto",height:"auto",windowsMode:null,cookies:!1,cookieOptions:{},windowsOffset:5,rtl:!1,keyboardNavigation:!1,_windowOptions:{},_draggedFired:!1,_dragging:!1,_draggingItem:null,_panels:[],_windows:[],_indicator:null,_events:["dragEnd","dragStart"]};return this===o.jqx._jqxDocking.prototype||o.extend(!0,this,e),e},createInstance:function(){if(!this.host.jqxWindow)throw new Error("jqxDocking: Missing reference to jqxwindow.js.");this._refresh(!0),this.disabled&&(this.disabled=!1,this.disable())},refresh:function(e){1!=e&&this._performLayout()},_refresh:function(e){this._render(),this._removeClasses(),this._addClasses(),this._setWindowsOptions(!0),this._performLayout(),this._cookieHandler(),this._cookieExporter(),this._removeEventListeners(),this._addEventListeners();var t=o.Event("resize");this.host.trigger(t)},resize:function(){this._refresh()},_addClasses:function(){this.host.addClass("jqx-docking");for(var e=0;e<this._panels.length;e+=1)this._panels[e].addClass(this.toThemeProperty("jqx-docking-panel")),this.panelsRoundedCorners&&this._panels[e].addClass(this.toThemeProperty("jqx-rc-all"));for(e=0;e<this._windows.length;e+=1)this._windows[e].addClass(this.toThemeProperty("jqx-docking-window"))},_removeClasses:function(){this.host.removeClass("jqx-docking");for(var e=0;e<this._panels.length;e+=1)this._panels[e].removeClass(this.toThemeProperty("jqx-docking-panel")),this._panels[e].removeClass(this.toThemeProperty("jqx-rc-all"));for(e=0;e<this._windows.length;e+=1)this._windows[e].removeClass(this.toThemeProperty("jqx-docking-window"))},_render:function(){for(var e=this.host.children("div"),t=0;t<e.length;t+=1)this._panels.push(o(e[t])),this._renderWindows(o(e[t]))},focus:function(e){this.focusedWindow&&o(this.focusedWindow).removeClass(this.toThemeProperty("jqx-fill-state-focus")),!o.isEmptyObject(e)&&"string"===o.type(e)&&0<o("#"+e).length?this.focusedWindow=o("#"+e)[0]:this.focusedWindow=this._windows[0][0],o(this.focusedWindow).addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.focus()},_renderWindows:function(e){for(var t=e.children("div"),i=0;i<t.length;i+=1)this._windows.push(o(t[i])),o(t[i]).jqxWindow({keyboardNavigation:!1,rtl:this.rtl,theme:this.theme,enableResize:!1,width:o(t[i]).css("width"),maxWidth:Number.MAX_VALUE}),o(t[i]).detach(),e.append(o(t[i]));e.append('<div class="spacer" style="clear: both;"></div>');var s=this;if(this.keyboardNavigation){var r=function(e){if(13===e.keyCode?s.focusedWindow&&o(s.focusedWindow).jqxWindow("showCollapseButton")&&o(s.focusedWindow).jqxWindow("_collapseButton").trigger("click"):(s.focusedWindow&&27===e.keyCode&&"esc"===o(s.focusedWindow).jqxWindow("keyboardCloseKey")||s.focusedWindow&&o(s.focusedWindow).jqxWindow("keyboardCloseKey")==e.keyCode)&&o(s.focusedWindow).jqxWindow("closeWindow",e),9===e.keyCode){if(null==s.focusedWindow)s.focusedWindow=s._windows[0],o(s.focusedWindow).focus(),e.stopPropagation();else{var i=-1;if(o.each(s._windows,function(e,t){this[0]==s.focusedWindow&&(i=e)}),e.shiftKey?i--:i++,i>=s._windows.length||i<0)return o(s.focusedWindow).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.focusedWindow=null,e.stopPropagation(),!0;var t=s._windows[i];t||(t=s._windows[0]),o(s.focusedWindow).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.focusedWindow=t[0],o(s.focusedWindow).focus()}o(s.focusedWindow).addClass(s.toThemeProperty("jqx-fill-state-focus")),e.preventDefault&&(e.preventDefault(),e.stopPropagation())}};o.each(s._windows,function(e,t){var i=o(this);s.removeHandler(i,"focus"),s.removeHandler(i,"blur"),s.removeHandler(i,"mousedown"),s.addHandler(i,"mousedown",function(e){s.focusedWindow&&o(s.focusedWindow).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.focusedWindow=i[0],o(s.focusedWindow).addClass(s.toThemeProperty("jqx-fill-state-focus")),o(s.focusedWindow).focus()}),s.addHandler(i,"focus",function(e){s.focusedWindow&&o(s.focusedWindow).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.focusedWindow=i[0],o(s.focusedWindow).addClass(s.toThemeProperty("jqx-fill-state-focus"))}),s.addHandler(i,"blur",function(e){if(o(document.activeElement).ischildof(o(i)))return!0;o(i).removeClass(s.toThemeProperty("jqx-fill-state-focus"))}),s.removeHandler(i,"keydown"),s.addHandler(i,"keydown",function(e){r(e)})}),this.removeHandler(this.host,"keydown"),this.addHandler(this.host,"keydown",function(e){r(e)}),this.removeHandler(this.host,"blur"),this.addHandler(this.host,"blur",function(e){s.focusedWindow&&(o(s.focusedWindow).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.focusedWindow=null)})}},_performLayout:function(){this.host.css("width",this.width),this.host.css("height",this.height),this._performWindowsLayout(),this._performPanelsLayout(),this._performWindowsLayout()},_performPanelsLayout:function(){this.host.css("overflow","hidden");for(var e,t=this.host.width(),i=0,s=0;s<this._panels.length;s+=1)(e=this._panels[s]).css("height","auto"),e.css("min-width","auto"),e[0].style.width="auto","vertical"===this.orientation?(e.css("width","auto"),e.css("float","none")):(i+=this._handleHorizontalSize(e,i,t),0<s&&e.css("margin-left",-this.windowsOffset));"horizontal"===this.orientation&&i<t&&this._fillContainer(t,i)},_handleHorizontalSize:function(e,t,i){var s,r=i/this._panels.length,n=e.outerWidth()-e.width();if(e.css("float","left"),"auto"===e[0].style.width||0===parseInt(e.css("width"),10)){var o=99.99/this._panels.length;return e[0].style.width=o+"%",e.outerWidth()}return t+e.outerWidth()>=i&&(s=t+r<i?r-n:e.width()-(t+e.outerWidth()-i),e.css("min-width",s),e.width(s)),e.outerWidth()},_fillContainer:function(e,t){var i=this._panels.length,s=this._panels[i-1];s.width();o.jqx.browser.msie&&o.jqx.browser.version<9&&this._panels.length},_performWindowsLayout:function(){for(var e,t=0;t<this._windows.length;t+=1)e=this._getWindowOptions(this._windows[t]),this._windows[t].ischildof(this.host)&&(e?"floating"!==e.mode&&(this._windows[t].css("margin",this.windowsOffset),this._windows[t].css("position","static")):"floating"!==this.mode&&(this._windows[t].css("position","static"),this._windows[t].css("margin",this.windowsOffset))),this._setWindowSize(this._windows[t],e)},_setWindowSize:function(e,t){if("floating"!==t.mode&&e.ischildof(this.host)){var i=e.parent().width()-(e.outerWidth()-e.width())-2*this.windowsOffset;this.orientation,e.jqxWindow("width",i)}this._setWindowOption(e,"size",{width:e.width(),height:e.height()})},_setWindowsOptions:function(e){for(var t=0;t<this._windows.length;t+=1){var i,s=this._windows[t].attr("id"),r=this._getWindowOptions(s);if(!e);i=null,this.windowsMode&&this.windowsMode.hasOwnProperty(s)?(i=this.windowsMode[s],this._setWindowOption(this._windows[t],"mode",i)):void 0!==r&&void 0===r.mode&&(i=this.mode,this._setWindowOption(this._windows[t],"mode",i)),e&&(this._setWindowOption(this._windows[t],"resizable",!0),"floating"==i?this._windows[t].jqxWindow({enableResize:!0}):this._windows[t].jqxWindow({enableResize:!1}),this._setWindowOption(this._windows[t],"size",{height:this._windows[t].height(),width:this._windows[t].width()}))}},_removeEventListeners:function(){for(var e=0;e<this._windows.length;e+=1)this.removeHandler(this._windows[e],"moving",this._itemDragging),this.removeHandler(this._windows[e],"moved",this._itemDrop),this.removeHandler(this._windows[e],"resized",this._itemResized),this.removeHandler(this._windows[e],"collapse",this._collapsed),this.removeHandler(this._windows[e],"expand",this._expanded)},_addEventListeners:function(){for(var e=0;e<this._windows.length;e+=1)this._addEventListenersTo(this._windows[e]);var t=this;o.jqx.utilities.resize(this.host,function(){t._performLayout()})},_addEventListenersTo:function(e){this.addHandler(e,"moving",this._itemDragging,{self:this}),this.addHandler(e,"moved",this._itemDrop,{self:this}),this.addHandler(e,"resized",this._itemResized,{self:this}),this.addHandler(e,"collapse",this._collapsed,{self:this}),this.addHandler(e,"expand",this._expanded,{self:this})},_itemDragging:function(e){var t=e.data.self,i=o(e.target),s=t._getWindowOptions(i);if(i.removeClass(t.toThemeProperty("jqx-docking-window")),i.css("margin","0px"),t._dragging||t._prepareForDragging(i),"floating"!==s.mode){var r={x:e.args.pageX,y:e.args.pageY},n=t._getMouseOverPanel(r);return n?t._mouseOverPanel(n,r):t._mouseLeavePanel(),t._draggedFired||(t._raiseEvent(1,{window:o(i).attr("id")}),t._draggedFired=!0),!0}},_prepareForDragging:function(e){this._dragging=!0;var t={parent:e.parent(),next:e.next(),prev:e.prev()};this._setWindowOption(e,"lastPosition",t),e.detach(),o(document.body).append(e),this._setDraggingStyles(e),this._draggingItem=e},_setDraggingStyles:function(e){e.css({position:"absolute",left:e.offset().left,top:e.offset().top}),e.fadeTo(0,this.floatingWindowOpacity)},_getMouseOverPanel:function(e){for(var t=0;t<this._panels.length;t+=1)if(this._isMouseOverItem(this._panels[t],e,!1))return this._panels[t];return null},_mouseOverPanel:function(e,t){if(this._dragging){var i=e.children("div"),s=this._getHoverWindow(t,i);if("indicator"===s)return;var r=this._centerOffset(s,t);this._handleIndicator(e,s,r)}},_getHoverWindow:function(e,t){if(this._isMouseOverItem(this._indicator,e,!0))return"indicator";for(var i=0;i<t.length;i+=1)if(this._isMouseOverItem(o(t[i]),e,!0))return o(t[i]);return null},_centerOffset:function(e,t){if(e){e.offset().left;var i,s=e.offset().top,r=e.height();e.width();return i=s+r/2,t.y>i?"next":"prev"}return"all"},_handleIndicator:function(e,t,i){var s=this._getIndicator(t);"all"===i?"vertical"===this.orientation?s.insertBefore(e.children(".spacer")):e.append(s):"prev"===i?s.insertBefore(t):s.insertAfter(t),this._resizeIndicator(s,e)},_getIndicator:function(){var e=this._indicator;return e||(e=o('<div class="'+this.toThemeProperty("jqx-docking-drop-indicator")+'"></div>')),this._indicator=e,this._indicator.css("margin",this.windowsOffset),"vertical"===this.orientation&&this._indicator.css("float","left"),e},_resizeIndicator:function(e,t){"horizontal"===this.orientation?e.width(t.width()-(e.outerWidth(!0)-e.width())):e.width(this._draggingItem.width()),e.height(this._draggingItem.height())},_mouseLeavePanel:function(e){this._indicator&&(this._indicator.remove(),this._indicator=null)},_itemDrop:function(e){var t=e.data.self,i=o(e.currentTarget);t._dragging=!1,t._indicator?(i.detach(),i.insertAfter(t._indicator),t._indicator.remove(),t._dropFixer(i)):t._dropHandler(i),i.fadeTo(0,1),i.focus(),t._indicator=null,t._cookieExporter(),t._draggedFired=!1,t._raiseEvent(0,{window:i.attr("id")})},_dropFixer:function(e){e.css("position","static"),e.addClass(this.toThemeProperty("jqx-docking-window")),e.css("margin",this.windowsOffset),e.jqxWindow("enableResize",!1),"horizontal"===this.orientation&&this._fixWindowSize(e)},_dropHandler:function(e){this._getWindowOptions(e);"docked"===this.mode?this._dropDocked(e):this._dropFloating(e)},_dropDocked:function(e){var t=this._getWindowOptions(e).lastPosition;e.detach(),t.next[0]?e.insertBefore(t.next):t.prev[0]?e.insertAfter(t.prev):t.parent.append(e),this._dropFixer(e)},_fixWindowSize:function(e){o(e).jqxWindow({width:e.parent().width()-(e.outerWidth()-e.width())-2*parseInt(this.windowsOffset,10)})},_itemResized:function(e){var t=e.data.self,i=o(e.currentTarget);t._setWindowOption(i,"size",{width:e.args.width,height:e.args.height}),t._cookieExporter()},_dropFloating:function(e){var t;o(e).jqxWindow("collapsed")||(t=this._getWindowOptions(e),o(e).jqxWindow("enableResize",t.resizable)),o(document.body).append(e),this._restoreWindowSize(e)},_restoreWindowSize:function(e){var t=this._getWindowOptions(e);o(e).jqxWindow({width:t.size.width})},_isMouseOverItem:function(e,t,i){if(!e)return!1;var s=e.outerWidth(!0),r=e.outerHeight(!0),n=e.width(),o=e.height(),a=e.offset().top,l=e.offset().left;return i&&(a-=(r-o)/2,l-=(s-n)/2,n=s,o=r),l<=t.x&&l+n>=t.x&&a<=t.y&&a+o+2*this._draggingItem.height()/3>=t.y},_cookieHandler:function(){if(this.cookies){var e=o.jqx.cookie.cookie("jqxDocking"+this.element.id);null!==e&&(this.importLayout(e),layoutImported=!0)}},_cookieExporter:function(){this.cookies&&o.jqx.cookie.cookie("jqxDocking"+this.element.id,this.exportLayout(),this.cookieOptions)},_indexOf:function(e,t){for(var i=0;i<t.length;i+=1)if(e[0]===t[i][0])return i;return-1},_exportFixed:function(){for(var e,t,i=[],s="",r=0;r<this._panels.length;r+=1){s+='"panel'+r+'": {',e=this._panels[r].children();for(var n=0;n<e.length;n+=1)(t=o(e[n])).attr("id")&&(i.push(t),s+='"'+t.attr("id")+'":{"collapsed":'+t.jqxWindow("collapsed")+"},");1<e.length&&(s=s.substring(0,s.length-1)),s+="},"}return{JSON:s=s.substring(0,s.length-1),children:i}},_exportFloating:function(e){var t,i="";i+='"floating":{';for(var s=0;s<this._windows.length;s+=1)t=o(this._windows[s]),-1===this._indexOf(t,e)&&(i+='"'+t.attr("id")+'":{"x":"'+t.css("left")+'","y":"'+t.css("top")+'","width":"'+t.jqxWindow("width")+'","height":"'+t.jqxWindow("height")+'","collapsed":'+t.jqxWindow("collapsed")+"},");return","===i.substring(i.length-1,i.length)&&(i=i.substring(0,i.length-1)),i+="}"},_importFixed:function(e){for(var t in e)if("orientation"!==t&&"floating"!==t&&e.hasOwnProperty(t))for(var t in order=t.substring(t.length-1,t.length),order=parseInt(order,10),children=e[t],children)o("#"+t).css("position","static"),children[t].collapsed&&function(e){setTimeout(function(){o("#"+e).jqxWindow("collapsed",!0)},0)}(t),this._panels[order].append(o("#"+t)),"horizontal"===this.orientation&&this._fixWindowSize(o("#"+t))},_importFloating:function(e){var t,i=e.floating;for(var s in i)i.hasOwnProperty(s)&&(o("#"+s).css("position","absolute"),o(document.body).append(o("#"+s)),t=this._dragging,o("#"+s).jqxWindow("move",i[s].x,i[s].y),this._dragging=t,o("#"+s).jqxWindow("width",i[s].width),o("#"+s).jqxWindow("height",i[s].height),o("#"+s).jqxWindow("enableResize",!0),this._setWindowsOptions(!0),function(e){setTimeout(function(){o("#"+e).jqxWindow("collapsed",i[e].collapsed)},0)}(s),o("#"+s).fadeTo(0,1))},_getWindowOptions:function(e){return"object"==typeof e&&null!==e&&(e=0<e.length?e.attr("id"):e.id),this._windowOptions[e]},_setWindowOption:function(e,t,i){"object"==typeof e&&null!==e&&(e=0<e.length?e.attr("id"):e.id),void 0===this._windowOptions[e]&&(this._windowOptions[e]={}),this._windowOptions[e][t]=i,"mode"===t&&this.setWindowMode(e,i)},_expanded:function(e){e.data.self._cookieExporter()},_collapsed:function(e){e.data.self._cookieExporter()},_raiseEvent:function(e){var t=o.Event(this._events[e]);return t.args=arguments[1],this.host.trigger(t)},_moveWindow:function(t,e,i){var s=e.children(),r=null,n=0;o.each(s,function(e){"static"==o(this).css("position")&&(n==i&&this!=t[0]&&(r=this),n++)}),n<=i?t.appendTo(e):null!=r&&t.insertBefore(r),t.css("position","static")},propertyChangedHandler:function(e,t,i,s){switch(t){case"rtl":o.each(e._windows,function(){this.jqxWindow({rtl:s})});break;case"theme":o.each(e._windows,function(){this.jqxWindow({theme:s})});break;case"orientation":case"height":case"width":e._performLayout(),e._cookieExporter();break;case"panelsRoundedCorners":e._removeClasses(),e._addClasses();break;case"disabled":s?(e.disabled=!1,e.disable()):(e.disabled=!0,e.enable());break;case"windowsMode":case"mode":e._setWindowsOptions(!1);break;case"cookies":e._cookieExporter();break;case"windowsOffset":e._performLayout()}},destroy:function(){this._removeEventListeners(),this.host.remove(),this.windowsMode=null,this.cookieOptions=null,this._windowOptions=null,this._panels=null,this._windows=null,this._events=null},disable:function(){if(!this.disabled){this.disabled=!0,this._removeEventListeners();for(var e=0;e<this._windows.length;e+=1)this._windows[e][0].style.opacity="",o(this._windows[e]).jqxWindow("disable")}},enable:function(){if(this.disabled){this.disabled=!1,this._addEventListeners();for(var e=0;e<this._windows.length;e+=1)o(this._windows[e]).jqxWindow("enable")}},move:function(e,t,i){if(t=this._panels[t]){var s=o(t.children(".spacer"));s.detach(),e=o("#"+e),"floating"!==this._getWindowOptions(e).mode&&(this._moveWindow(e,t,i),t.append(s),this._cookieExporter(),this._dropFixer(e))}},exportLayout:function(){var e="{",t=this._exportFixed();return e+=t.JSON+","+this._exportFloating(t.children)+',"orientation": "'+this.orientation+'"',e+="}"},importLayout:function(e){try{var t=o.parseJSON(e);this.orientation=t.orientation,this._performLayout(),this._importFixed(t),this._importFloating(t)}catch(e){alert("Invalid JSON string.")}},setWindowMode:function(e,t){e=o("#"+e);var i=this._getWindowOptions(e);"floating"===t?(e.css("position","absolute"),this._windowOptions[e.attr("id")].mode=t):"floating"===i.mode&&"absolute"===e.css("position")&&(i.lastPosition?this._dropDocked(e):(this._panels[0].append(e),this._dropFixer(e))),this._windowOptions[e.attr("id")].mode=t},hideCloseButton:function(e){o("#"+e).jqxWindow("showCloseButton",!1)},showCloseButton:function(e){o("#"+e).jqxWindow("showCloseButton",!0)},hideCollapseButton:function(e){o("#"+e).jqxWindow("showCollapseButton",!1)},showCollapseButton:function(e){o("#"+e).jqxWindow("showCollapseButton",!0)},expandWindow:function(e,t){o("#"+e).jqxWindow("expand",t)},collapseWindow:function(e,t){o("#"+e).jqxWindow("collapse",t)},setWindowProperty:function(e,t,i){o("#"+e).jqxWindow(t,i)},getWindowProperty:function(e,t){return o("#"+e).jqxWindow(t)},setWindowPosition:function(e,t,i){e=o("#"+e);"floating"===this._getWindowOptions(e).mode&&(e.css("position","absolute"),o(e).jqxWindow("move",t,i,null,!1))},hideAllCloseButtons:function(){for(var e=0;e<this._windows.length;e+=1)this._windows[e].jqxWindow("showCloseButton",!1)},hideAllCollapseButtons:function(){for(var e=0;e<this._windows.length;e+=1)this._windows[e].jqxWindow("showCollapseButton",!1)},showAllCloseButtons:function(){for(var e=0;e<this._windows.length;e+=1)this._windows[e].jqxWindow("showCloseButton",!0)},showAllCollapseButtons:function(){for(var e=0;e<this._windows.length;e+=1)this._windows[e].jqxWindow("showCollapseButton",!0)},pinWindow:function(e){o("#"+e).jqxWindow("draggable",!1)},unpinWindow:function(e){o("#"+e).jqxWindow("draggable",!0)},setDraggingMode:function(e){var t=o("#"+e);this._prepareForDragging(t),t.fadeTo(0,1)},enableWindowResize:function(e){"absolute"===(e=o("#"+e)).css("position")&&(this._setWindowOption(e,"resizable",!0),e.jqxWindow("enableResize",!0))},disableWindowResize:function(e){e=o("#"+e),this._setWindowOption(e,"resizable",!1),e.jqxWindow("enableResize",!1)},addWindow:function(e,t,i,s){var r="#"+e;o(r).jqxWindow({keyboardNavigation:!1,rtl:this.rtl,theme:this.theme,enableResize:!1,width:o(r).css("width"),maxWidth:Number.MAX_VALUE}),this._panels[0].append(o(r)),this._windows.push(o(r)),t?this._setWindowOption(o(r),"mode",t):this._setWindowOption(o(r),"mode",this.mode),this._setWindowOption(o(r),"resizable",!0),this._setWindowOption(o(r),"size",{width:o(r).width(),height:o(r).height()}),"floating"==t?o(r).jqxWindow({enableResize:!0}):o(r).jqxWindow({enableResize:!1}),null!=this._panels[i]&&this._setWindowOption(o(r),"size",{width:this._panels[i].width(),height:this._panels[i].height()}),this._addEventListenersTo(o(r)),void 0!==i&&void 0!==s&&this.move(e,i,s),this._dropFixer(o(r))},closeWindow:function(e){o("#"+e).jqxWindow("closeWindow")}})}(jqxBaseFramework),function(l){l.jqx.jqxWidget("jqxDragDrop","",{}),l.extend(l.jqx._jqxDragDrop.prototype,{defineInstance:function(){var e={restricter:"document",handle:!1,feedback:"clone",opacity:.6,revert:!1,revertDuration:400,distance:5,disabled:!1,tolerance:"intersect",data:null,dropAction:"default",dragZIndex:999999,appendTo:"parent",cursor:"move",onDragEnd:null,onDrag:null,onDragStart:null,onTargetDrop:null,onDropTargetEnter:null,onDropTargetLeave:null,initFeedback:null,dropTarget:null,isDestroyed:!1,triggerEvents:!0,_touchEvents:{mousedown:l.jqx.mobile.getTouchEventName("touchstart"),click:l.jqx.mobile.getTouchEventName("touchstart"),mouseup:l.jqx.mobile.getTouchEventName("touchend"),mousemove:l.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_restricter:null,_zIndexBackup:0,_targetEnterFired:!1,_oldOpacity:1,_feedbackType:void 0,_isTouchDevice:!1,_events:["dragStart","dragEnd","dragging","dropTargetEnter","dropTargetLeave"]};return this===l.jqx._jqxDragDrop.prototype||l.extend(!0,this,e),e},createInstance:function(){this._createDragDrop()},_createDragDrop:function(){var e=l.data(document.body,"jqx-draggables")||1;if(this.appendTo=this._getParent(),this._isTouchDevice=l.jqx.mobile.isTouchDevice(),/(static|relative)/.test(this.host.css("position"))&&(!this.feedback||"original"===this.feedback)){var t=this._getRelativeOffset(this.host),i=this.appendTo.offset();"static"!=this.appendTo.css("position")&&(i={left:0,top:0}),this.element.style.position="absolute",this.element.style.left=i.left+t.left+"px",this.element.style.top=i.top+t.top+"px"}this._validateProperties(),this._idHandler(e),this.disabled&&this.disable(),"string"==typeof this.dropTarget&&(this.dropTarget=l(this.dropTarget)),this._refresh(),e+=1,l.data(document.body,"jqx-draggables",e),this.host.addClass("jqx-draggable"),this.disabled||this.host.css("cursor",this.cursor)},_getParent:function(){var e=this.appendTo;if("string"==typeof this.appendTo)switch(this.appendTo){case"parent":e=this.host.parent();break;case"document":e=l(document);break;case"body":e=l(document.body);break;default:e=l(this.appendTo)}return e},_idHandler:function(e){if(!this.element.id){var t="jqx-draggable-"+e;this.element.id=t}},_refresh:function(){this._removeEventHandlers(),this._addEventHandlers()},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},_validateProperties:function(){"clone"===this.feedback?this._feedbackType="clone":this._feedbackType="original","default"!==this.dropAction&&(this.dropAction="nothing")},_removeEventHandlers:function(){this.removeHandler(this.host,"dragstart"),this.removeHandler(this.host,this._getEvent("mousedown")+".draggable."+this.element.id,this._mouseDown),this.removeHandler(l(document),this._getEvent("mousemove")+".draggable."+this.element.id,this._mouseMove),this.removeHandler(l(document),this._getEvent("mouseup")+".draggable."+this.element.id,this._mouseUp)},_addEventHandlers:function(){var t=this;this.addHandler(this.host,"dragstart",function(e){return!!t.disabled||(l.jqx.mobile.isTouchDevice()?void 0:(e.preventDefault(),!1))}),this.addHandler(this.host,this._getEvent("mousedown")+".draggable."+this.element.id,this._mouseDown,{self:this}),this.addHandler(l(document),this._getEvent("mousemove")+".draggable."+this.element.id,this._mouseMove,{self:this}),this.addHandler(l(document),this._getEvent("mouseup")+".draggable."+this.element.id,function(e){t._mouseUp(e)},{self:this});try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var e="";window.parent&&document.referrer&&(e=document.referrer),-1!=e.indexOf(document.location.host)&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",function(){t._mouseUp(t)},!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",function(){t._mouseUp(t)}))}}catch(e){}},_mouseDown:function(e){var t=e.data.self,i=t._getMouseCoordinates(e),s=t._mouseCapture(e);if(t._originalPageX=i.left,t._originalPageY=i.top,t.disabled)return!0;return t._mouseStarted||(t._clear(e),!0),s&&(t._mouseDownEvent=e),!!t._isTouchDevice||(1!==e.which||!s||void e.preventDefault())},_mouseMove:function(e){var t=e.data.self;return!!t.disabled||(t._mouseStarted?(t._mouseDrag(e),e.preventDefault&&e.preventDefault(),!1):(t._mouseDownEvent&&t._isMovedDistance(e)&&(t._mouseStart(t._mouseDownEvent,e)?t._mouseStarted=!0:t._mouseStarted=!1,t._mouseStarted?t._mouseDrag(e):t._mouseUp(e)),!t._mouseStarted))},_mouseUp:function(e){this._clear(e)},_clear:function(e){var t;return!!(t=e.data&&e.data.self?e.data.self:this).disabled||(t._mouseDownEvent=!1,t._movedDistance=!1,t._mouseStarted&&(t._mouseStarted=!1,t._mouseStop(e)),t.feedback&&t.feedback[0]&&"original"!==t._feedbackType&&"function"==typeof t.feedback.remove&&!t.revert&&t.feedback.remove(),!!t._isTouchDevice&&void 0)},cancelDrag:function(){var e=this.revertDuration;this.revertDuration=0,this._mouseDownEvent=!1,this._movedDistance=!1,this._mouseStarted=!1,this._mouseStop(),this.feedback.remove(),this.revertDuration=e},_isMovedDistance:function(e){var t=this._getMouseCoordinates(e);return!!this._movedDistance||(t.left>=this._originalPageX+this.distance||t.left<=this._originalPageX-this.distance||t.top>=this._originalPageY+this.distance||t.top<=this._originalPageY-this.distance)&&(this._movedDistance=!0)},_getMouseCoordinates:function(e){if(this._isTouchDevice){var t=l.jqx.position(e);return{left:t.left,top:t.top}}return{left:e.pageX,top:e.pageY}},destroy:function(){return this._enableSelection(this.host),this.host.removeData("draggable").off(".draggable").removeClass("jqx-draggable jqx-draggable-dragging jqx-draggable-disabled"),this._removeEventHandlers(),this.isDestroyed=!0,this},_disableSelection:function(e){e.each(function(){l(this).attr("unselectable","on").css({"-ms-user-select":"none","-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})},_enableSelection:function(e){e.each(function(){l(this).attr("unselectable","off").css({"-ms-user-select":"text","-moz-user-select":"text","-webkit-user-select":"text","user-select":"text"}).each(function(){this.onselectstart=null})})},_mouseCapture:function(e){return!this.disabled&&(!!this._getHandle(e)&&(this._disableSelection(this.host),!0))},_getScrollParent:function(e){var t;return t=l.jqx.browser.msie&&/(static|relative)/.test(e.css("position"))||/absolute/.test(e.css("position"))?e.parents().filter(function(){return/(relative|absolute|fixed)/.test(l.css(this,"position",1))&&/(auto|scroll)/.test(l.css(this,"overflow",1)+l.css(this,"overflow-y",1)+l.css(this,"overflow-x",1))}).eq(0):e.parents().filter(function(){return/(auto|scroll)/.test(l.css(this,"overflow",1)+l.css(this,"overflow-y",1)+l.css(this,"overflow-x",1))}).eq(0),/fixed/.test(e.css("position"))||!t.length?l(document):t},_mouseStart:function(e){var t=this._getMouseCoordinates(e);this._getParentOffset(this.host);this.feedback=this._createFeedback(e),this._zIndexBackup=this.feedback.css("z-index"),this.feedback[0].style.zIndex=this.dragZIndex,this._backupFeedbackProportions(),this._backupeMargins(),this._positionType=this.feedback.css("position"),this._scrollParent=this._getScrollParent(this.feedback),this._offset=this.positionAbs=this.host.offset(),this._offset={top:this._offset.top-this.margins.top,left:this._offset.left-this.margins.left},l.extend(this._offset,{click:{left:t.left-this._offset.left,top:t.top-this._offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset(),hostRelative:this._getRelativeOffset(this.host)}),this.position=this._generatePosition(e),this.originalPosition=this._fixPosition(),this.restricter&&this._setRestricter(),this.feedback.addClass(this.toThemeProperty("jqx-draggable-dragging"));this._raiseEvent(0,e);return this.onDragStart&&"function"==typeof this.onDragStart&&this.onDragStart(this.position),this._mouseDrag(e,!0),!0},_fixPosition:function(){var e=this._getRelativeOffset(this.host);this.position;return{left:this.position.left+e.left,top:this.position.top+e.top}},_mouseDrag:function(e,t){return this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.feedback[0].style.left=this.position.left+"px",this.feedback[0].style.top=this.position.top+"px",this._raiseEvent(2,e),this.onDrag&&"function"==typeof this.onDrag&&this.onDrag(this.data,this.position),this._handleTarget(),!1},_over:function(i,s,r){if(this.dropTarget){var n=!1,o=this;l.each(this.dropTarget,function(e,t){if((n=o._overItem(t,i,s,r)).over)return!1})}return n},_overItem:function(e,t,i,s){var r=(e=l(e)).offset(),n=e.outerHeight(),o=e.outerWidth();if(e&&e[0]!==this.element){var a=!1;switch(this.tolerance){case"intersect":t.left+i>r.left&&t.left<r.left+o&&t.top+s>r.top&&t.top<r.top+n&&(a=!0);break;case"fit":i+t.left<=r.left+o&&t.left>=r.left&&s+t.top<=r.top+n&&t.top>=r.top&&(a=!0)}return{over:a,target:e}}},_handleTarget:function(){if(this.dropTarget){var e=this.feedback.offset(),t=this.feedback.outerWidth(),i=this.feedback.outerHeight(),s=this._over(e,t,i);s.over?(this._targetEnterFired&&0<s.target.length&&this._oldtarget&&0<this._oldtarget.length&&s.target[0]!=this._oldtarget[0]&&(this._raiseEvent(4,{target:this._oldtarget}),this.onDropTargetLeave&&"function"==typeof this.onDropTargetLeave&&this.onDropTargetLeave(this._oldtarget)),(!this._targetEnterFired||0<s.target.length&&this._oldtarget&&0<this._oldtarget.length&&s.target[0]!=this._oldtarget[0])&&(this._targetEnterFired=!0,this._raiseEvent(3,{target:s.target}),this.onDropTargetEnter&&"function"==typeof this.onDropTargetEnter&&this.onDropTargetEnter(s.target)),this._oldtarget=s.target):this._targetEnterFired&&(this._targetEnterFired=!1,this._raiseEvent(4,{target:this._oldtarget||s.target}),this.onDropTargetLeave&&"function"==typeof this.onDropTargetLeave&&this.onDropTargetLeave(this._oldtarget||s.target))}},_mouseStop:function(e){var t=this._fixPosition(),i={width:this.host.outerWidth(),height:this.host.outerHeight()};return this.feedback[0].style.opacity=this._oldOpacity,this.revert||(this.feedback[0].style.zIndex=this._zIndexBackup),this._enableSelection(this.host),this.dropped&&(this.dropped,this.dropped=!1),(this.element&&this.element.parentNode||"original"!==this.feedback)&&(this._dropElement(t),this.feedback.removeClass(this.toThemeProperty("jqx-draggable-dragging")),this._raiseEvent(1,e),this.onDragEnd&&"function"==typeof this.onDragEnd&&this.onDragEnd(this.data),this.onTargetDrop&&"function"==typeof this.onTargetDrop&&this._over(t,i.width,i.height).over&&this.onTargetDrop(this._over(t,i.width,i.height).target),this._revertHandler()),!1},_dropElement:function(e){if("default"===this.dropAction&&this.feedback&&this.feedback[0]!==this.element&&"original"!==this.feedback&&!this.revert&&!/(fixed|absolute)/.test(this.host.css("position"))){this.host.css("position","relative");var t=this._getRelativeOffset(this.host);(e=this.position).left-=t.left,e.top-=t.top,this.element.style.left=e.left+"px",this.element.style.top=e.top+"px"}},_revertHandler:function(){if(this.revert||l.isFunction(this.revert)&&this.revert()){var e=this;"original"!=this._feedbackType?null!=this.feedback&&("none"!=this.dropAction?l(this.feedback).animate({left:e.originalPosition.left-e._offset.hostRelative.left,top:e.originalPosition.top-e._offset.hostRelative.top},parseInt(this.revertDuration,10),function(){e.feedback&&e.feedback[0]&&"original"!==e._feedbackType&&"function"==typeof e.feedback.remove&&e.feedback.remove()}):e.feedback&&e.feedback[0]&&"original"!==e._feedbackType&&"function"==typeof e.feedback.remove&&e.feedback.remove()):(this.element.style.zIndex=this.dragZIndex,l(this.host).animate({left:e.originalPosition.left-e._offset.hostRelative.left,top:e.originalPosition.top-e._offset.hostRelative.top},parseInt(this.revertDuration,10),function(){e.element.style.zIndex=e._zIndexBackup}))}},_getHandle:function(e){var t;return this.handle?l(this.handle,this.host).find("*").andSelf().each(function(){this==e.target&&(t=!0)}):t=!0,t},_createFeedback:function(e){var t;return t="function"==typeof this._feedbackType?this._feedbackType():"clone"===this._feedbackType?this.host.clone().removeAttr("id"):this.host,/(absolute|fixed)/.test(t.css("position"))||t.css("position","absolute"),this.appendTo[0]===this.host.parent()[0]&&t[0]===this.element||(t.css({left:this.host.offset().left-this._getParentOffset(this.host).left+this._getParentOffset(t).left,top:this.host.offset().top-this._getParentOffset(this.host).top+this._getParentOffset(t).top}),t.appendTo(this.appendTo)),"function"==typeof this.initFeedback&&this.initFeedback(t),t},_getParentOffset:function(e){e=e||this.feedback;this._offsetParent=e.offsetParent();var t=this._offsetParent.offset();return"absolute"==this._positionType&&this._scrollParent[0]!==document&&l.contains(this._scrollParent[0],this._offsetParent[0])&&(t.left+=this._scrollParent.scrollLeft(),t.top+=this._scrollParent.scrollTop()),(this._offsetParent[0]==document.body||this._offsetParent[0].tagName&&"html"==this._offsetParent[0].tagName.toLowerCase()&&l.jqx.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this._offsetParent.css("border-top-width"),10)||0),left:t.left+(parseInt(this._offsetParent.css("border-left-width"),10)||0)}},_getRelativeOffset:function(e){this._scrollParent||e.parent();if("relative"===(e=e||this.feedback).css("position")){var t=this.host.position();return{top:t.top-(parseInt(e.css("top"),10)||0),left:t.left-(parseInt(e.css("left"),10)||0)}}return{top:0,left:0}},_backupeMargins:function(){this.margins={left:parseInt(this.host.css("margin-left"),10)||0,top:parseInt(this.host.css("margin-top"),10)||0,right:parseInt(this.host.css("margin-right"),10)||0,bottom:parseInt(this.host.css("margin-bottom"),10)||0}},_backupFeedbackProportions:function(){this.feedback[0].style.opacity=this.opacity,this._feedbackProportions={width:this.feedback.outerWidth(),height:this.feedback.outerHeight()}},_setRestricter:function(){"parent"==this.restricter&&(this.restricter=this.feedback[0].parentNode),"document"!=this.restricter&&"window"!=this.restricter||this._handleNativeRestricter(),void 0!==this.restricter.left&&void 0!==this.restricter.top&&void 0!==this.restricter.height&&void 0!==this.restricter.width?this._restricter=[this.restricter.left,this.restricter.top,this.restricter.width,this.restricter.height]:/^(document|window|parent)$/.test(this.restricter)||this.restricter.constructor==Array?this.restricter.constructor==Array&&(this._restricter=this.restricter):this._handleDOMParentRestricter()},_handleNativeRestricter:function(){this._restricter=["document"===this.restricter?0:l(window).scrollLeft()-this._offset.relative.left-this._offset.parent.left,"document"===this.restricter?0:l(window).scrollTop()-this._offset.relative.top-this._offset.parent.top,("document"===this.restricter?0:l(window).scrollLeft())+l("document"===this.restricter?document:window).width()-this._feedbackProportions.width-this.margins.left,("document"===this.restricter?0:l(window).scrollTop())+(l("document"===this.restricter?document:window).height()||document.body.parentNode.scrollHeight)-this._feedbackProportions.height-this.margins.top]},_handleDOMParentRestricter:function(){var e=l(this.restricter),t=e[0];if(t){var i="hidden"!==l(t).css("overflow");this._restricter=[(parseInt(l(t).css("borderLeftWidth"),10)||0)+(parseInt(l(t).css("paddingLeft"),10)||0),(parseInt(l(t).css("borderTopWidth"),10)||0)+(parseInt(l(t).css("paddingTop"),10)||0),(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(l(t).css("borderLeftWidth"),10)||0)-(parseInt(l(t).css("paddingRight"),10)||0)-this._feedbackProportions.width-this.margins.left-this.margins.right,(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(l(t).css("borderTopWidth"),10)||0)-(parseInt(l(t).css("paddingBottom"),10)||0)-this._feedbackProportions.height-this.margins.top-this.margins.bottom],this._restrictiveContainer=e}},_convertPositionTo:function(e,t){var i,s,r;return t||(t=this.position),i="absolute"===e?1:-1,s="absolute"!==this._positionType||this._scrollParent[0]!=document&&l.contains(this._scrollParent[0],this._offsetParent[0])?this._scrollParent:this._offsetParent,r=/(html|body)/i.test(s[0].tagName),this._getPosition(t,i,r,s)},_getPosition:function(e,t,i,s){return{top:e.top+this._offset.relative.top*t+this._offset.parent.top*t-(l.jqx.browser.safari&&l.jqx.browser.version<526&&"fixed"==this._positionType?0:("fixed"==this._positionType?-this._scrollParent.scrollTop():i?0:s.scrollTop())*t),left:e.left+this._offset.relative.left*t+this._offset.parent.left*t-(l.jqx.browser.safari&&l.jqx.browser.version<526&&"fixed"==this._positionType?0:("fixed"==this._positionType?-this._scrollParent.scrollLeft():i?0:s.scrollLeft())*t)}},_generatePosition:function(e){var t,i="absolute"!=this._positionType||this._scrollParent[0]!=document&&l.contains(this._scrollParent[0],this._offsetParent[0])?this._scrollParent:this._offsetParent,s=/(html|body)/i.test(i[0].tagName),r=this._getMouseCoordinates(e),n=r.left,o=r.top;if(this.originalPosition&&this.restricter){if(this._restrictiveContainer){var a=this._restrictiveContainer.offset();t=[this._restricter[0]+a.left,this._restricter[1]+a.top,this._restricter[2]+a.left,this._restricter[3]+a.top]}else t=this._restricter;r.left-this._offset.click.left<t[0]&&(n=t[0]+this._offset.click.left),r.top-this._offset.click.top<t[1]&&(o=t[1]+this._offset.click.top),r.left-this._offset.click.left>t[2]&&(n=t[2]+this._offset.click.left),r.top-this._offset.click.top>t[3]&&(o=t[3]+this._offset.click.top)}return{top:o-this._offset.click.top-this._offset.relative.top-this._offset.parent.top+(l.jqx.browser.safari&&l.jqx.browser.version<526&&"fixed"==this._positionType?0:"fixed"==this._positionType?-this._scrollParent.scrollTop():s?0:i.scrollTop()),left:n-this._offset.click.left-this._offset.relative.left-this._offset.parent.left+(l.jqx.browser.safari&&l.jqx.browser.version<526&&"fixed"==this._positionType?0:"fixed"==this._positionType?-this._scrollParent.scrollLeft():s?0:i.scrollLeft())}},_raiseEvent:function(e,t){if(null==this.triggerEvents||0!=this.triggerEvents){var i=this._events[e],s=l.Event(i);return(t=t||{}).position=this.position,t.element=this.element,l.extend(t,this.data),t.feedback=this.feedback,s.args=t,this.host.trigger(s)}},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-draggable-disabled")),this._enableSelection(this.host)},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-draggable-disabled"))},propertyChangedHandler:function(e,t,i,s){"dropTarget"===t?"string"==typeof s&&(e.dropTarget=l(s)):"disabled"==t?s&&e._enableSelection(e.host):"cursor"==t&&e.host.css("cursor",e.cursor)}})}(jqxBaseFramework),function(f){jqxListBoxDragDrop=function(){f.extend(f.jqx._jqxListBox.prototype,{_hitTestBounds:function(e,t,i){var s=e.host.offset(),r=i-parseInt(s.top),n=t-parseInt(s.left),o=e._hitTest(n,r);if(r<0)return null;if(null!=o){var a=parseInt(s.left),l=a+e.host.width();return a<=t+o.width/2&&t<=l?o:null}if(e.items&&0<e.items.length){var d=e.items[e.items.length-1];if(e.groups.length<2&&d.top+d.height+15>=r)return d}return null},_handleDragStart:function(e,n){f.jqx.mobile.isTouchDevice()&&n.allowDrag&&e.on(f.jqx.mobile.getTouchEventName("touchstart"),function(){f.jqx.mobile.setTouchScroll(!1,n.element.id)}),e.off("dragStart"),e.on("dragStart",function(e){if(n.allowDrag&&!n.disabled){n.feedbackElement=f("<div style='z-index: 99999; position: absolute;'></div>"),n.feedbackElement.addClass(n.toThemeProperty("jqx-listbox-feedback")),n.feedbackElement.appendTo(f(document.body)),n.feedbackElement.hide(),n.isDragging=!0,n._dragCancel=!1;var t=n._getMouseCoordinates(e),i=n._hitTestBounds(n,t.left,t.top),s=f.find(".jqx-listbox");n._listBoxes=s,f.each(n._listBoxes,function(){if(!f.jqx.isHidden(f(this))){var e=f.data(this,"jqxListBox").instance;e._enableHover=e.enableHover,e.enableHover=!1,f.jqx.mobile.setTouchScroll(!1,n.element.id)}});var r=function(){n._dragCancel=!0,f(e.args.element).jqxDragDrop({triggerEvents:!1}),f(e.args.element).jqxDragDrop("cancelDrag"),clearInterval(n._autoScrollTimer),f(e.args.element).jqxDragDrop({triggerEvents:!0}),f.each(n._listBoxes,function(){if(!f.jqx.isHidden(f(this))){var e=f.data(this,"jqxListBox").instance;null!=e._enableHover&&(e.enableHover=e._enableHover,f.jqx.mobile.setTouchScroll(!0,n.element.id))}})};if(null==i||i.isGroup)null==i&&r();else{if(n._dragItem=i,n.dragStart)if(0==n.dragStart(i))return r(),!1;i.disabled&&r(),n._raiseEvent(4,{label:i.label,value:i.value,dragSourceElement:n.element,originalEvent:e.args})}}return!1})},_handleDragging:function(e,u){var t=this;e.off("dragging"),e.on("dragging",function(e){var d=e.args;if(!u._dragCancel){var h=u._getMouseCoordinates(e);u._lastDraggingPosition=h,u._dragOverItem=null,u.feedbackElement.hide();var c=t._getBestMatchItem(u,h);f.each(u._listBoxes,function(){if(f.jqx.isHidden(f(this)))return!0;var e=f(this).offset(),t=e.top+20,i=f(this).height()+t-40,s=e.left,r=s+f(this).width(),n=f.data(this,"jqxListBox").instance,o=n._hitTestBounds(n,h.left,h.top),a=n.vScrollInstance;if(o&&n.allowDrop&&!n.disabled&&o.element&&c&&c.item&&f(this)[0]==c.item[0]){u._dragOverItem=o,u.feedbackElement.show();var l=f(o.element).offset().top+1;h.top>l+o.height/2&&(l+=o.height),u.feedbackElement.css("top",l),u.feedbackElement.css("left",s),"visible"!=n.vScrollBar.css("visibility")?u.feedbackElement.width(f(this).width()):u.feedbackElement.width(f(this).width()-20),h.left>=s&&h.left<r?d.position.top<t&&d.position.top>=t-30?(clearInterval(n._autoScrollTimer),0!=a.value&&u.feedbackElement.hide(),n._autoScrollTimer=setInterval(function(){n.scrollUp()||clearInterval(n._autoScrollTimer)},100)):d.position.top>i&&d.position.top<i+30?(clearInterval(n._autoScrollTimer),"hidden"!=n.vScrollBar.css("visibility")&&a.value!=a.max&&u.feedbackElement.hide(),n._autoScrollTimer=setInterval(function(){n.scrollDown()||clearInterval(n._autoScrollTimer)},100)):clearInterval(n._autoScrollTimer):(null==u._dragOverItem&&u.feedbackElement.hide(),clearInterval(n._autoScrollTimer))}})}})},_getBestMatchItem:function(e,t){for(var i={},s=f.find(".jqx-listbox"),r=0;r<s.length;r++){var n=f(s[r]);if(!f.jqx.isHidden(n)){var o=parseInt(n.offset().left),a=o+n.width(),l=n.jqxListBox("getInstance");if(clearInterval(l._autoScrollTimer),null!=l._enableHover&&(l.enableHover=l._enableHover,f.jqx.mobile.setTouchScroll(!0,e.element.id)),null!=e._dragItem){var d=t.left>=o&&t.left<=a,h=t.left-e._dragItem.width/2>=o&&t.left-e._dragItem.width/2<=a,c=t.left-e._dragItem.width/2>=o&&t.left-e._dragItem.width/2<=a;if(d||h||c){var u=parseInt(n.offset().top),p=u+n.height();if(t.top>=u&&t.top<=p){var m=t.left+e._dragItem.width/2-(o+a)/2;(isNaN(i.distance)||i.distance>m)&&(i={distance:m,item:n})}}}}}return i},_handleDragEnd:function(e,c){var u=this;f.find(".jqx-listbox");e.off("dragEnd"),e.on("dragEnd",function(e){clearInterval(c._autoScrollTimer);var t=f.jqx.mobile.isTouchDevice()?c._lastDraggingPosition:c._getMouseCoordinates(e);f.find(".jqx-listbox");if(c.feedbackElement.remove(),!c._dragCancel){var i=u._getBestMatchItem(c,t).item,s=c._dragItem,r=null;if(null!=i&&0<i.length){var n=(o=f.data(i[0],"jqxListBox").instance).allowDrop;if(r=o.element,n&&!o.disabled){var o,a=(o=f.data(i[0],"jqxListBox").instance)._hitTestBounds(o,t.left,t.top);if(null==(a=c._dragOverItem)||a.isGroup){if("none"!=o.dropAction){if(0<o.content.find(".draggable").length&&o.content.find(".draggable").jqxDragDrop("destroy"),c.dragEnd){if(0==(l=c.dragEnd(c._dragItem,null,e.args)))return f(e.args.element).jqxDragDrop({triggerEvents:!1}),f(e.args.element).jqxDragDrop("cancelDrag"),clearInterval(c._autoScrollTimer),f(e.args.element).jqxDragDrop({triggerEvents:!0}),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1;null==l&&(l=!0)}o.addItem(c._dragItem),"default"==o.dropAction&&(0<s.visibleIndex&&c.selectIndex(s.visibleIndex-1),c.removeItem(s,!0)),o.clearSelection(),o.selectIndex(o.items.length-1)}}else{var l=!0;if(c.dragEnd){if(0==(l=c.dragEnd(s,a,e.args)))return f(e.args.element).jqxDragDrop({triggerEvents:!1}),f(e.args.element).jqxDragDrop("cancelDrag"),clearInterval(c._autoScrollTimer),f(e.args.element).jqxDragDrop({triggerEvents:!0}),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1;null==l&&(l=!0)}if(l){a.visibleIndex;if("none"!=o.dropAction){if(a.element)var d=f(a.element).offset().top+1;else d=f(o.element).offset().top+1;0<o.content.find(".draggable").length&&o.content.find(".draggable").jqxDragDrop("destroy"),t.top>d+a.height/2?o.insertAt(c._dragItem,a.index+1):o.insertAt(c._dragItem,a.index),"default"==c.dropAction&&(0<s.visibleIndex&&(c.clearSelection(),c.selectIndex(s.visibleIndex-1)),c.removeItem(s,!0));var h=function(){for(var e=a.visibleIndex,t=e-2;t<=e+2;t++)if(o.items&&o.items.length>t){var i=o.items[t];if(null!=i&&i.value==s.value)return i.visibleIndex}return e}();o.clearSelection(),o.selectIndex(h)}}}}}else{if(c.dragEnd)if(0==c.dragEnd(s,e.args))return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1}return null!=s&&c._raiseEvent(5,{label:s.label,value:s.value,index:s.index,dropTargetElement:r,originalEvent:e.args}),!1}e.stopPropagation()})},_enableDragDrop:function(){if(this.allowDrag&&this.host.jqxDragDrop){var e=this.content.find(".draggable");if(0<e.length){var s=this;e.jqxDragDrop({cursor:"arrow",revertDuration:0,appendTo:"body",dragZIndex:99999,revert:!0,initFeedback:function(e){var t=f('<span style="white-space: nowrap;" class="'+s.toThemeProperty("jqx-fill-state-normal")+'">'+e.text()+"</span>");f(document.body).append(t);var i=t.width();t.remove(),e.width(i+5),e.addClass(s.toThemeProperty("jqx-fill-state-pressed"))}}),this._autoScrollTimer=null,s._dragItem=null,s._handleDragStart(e,s),s._handleDragging(e,s),s._handleDragEnd(e,s)}}},_getMouseCoordinates:function(e){if(this._isTouchDevice=f.jqx.mobile.isTouchDevice(),this._isTouchDevice){var t=f.jqx.position(e.args);return{left:t.left,top:t.top}}return{left:e.args.pageX,top:e.args.pageY}}})},jqxTreeDragDrop=function(){f.extend(f.jqx._jqxTree.prototype,{_hitTestBounds:function(i,s,r){var n=null;if(i._visibleItems){var o=parseInt(i.host.offset().left),a=i.host.outerWidth();f.each(i._visibleItems,function(e){if(o<=s&&s<o+a&&this.top+5<r&&r<this.top+this.height){var t=f(this.element).parents("li:first");if(0<t.length&&null!=(n=i.getItem(t[0])))return n.height=this.height,n.top=this.top,!1}})}return n},_handleDragStart:function(e,n){n._dragOverItem&&n._dragOverItem.titleElement.removeClass(n.toThemeProperty("jqx-fill-state-hover")),f.jqx.mobile.isTouchDevice()&&n.allowDrag&&e.on(f.jqx.mobile.getTouchEventName("touchstart"),function(){f.jqx.mobile.setTouchScroll(!1,"panel"+n.element.id)}),e.off("dragStart"),e.on("dragStart",function(r){n.feedbackElement=f("<div style='z-index: 99999; position: absolute;'></div>"),n.feedbackElement.addClass(n.toThemeProperty("jqx-listbox-feedback")),n.feedbackElement.appendTo(f(document.body)),n.feedbackElement.hide(),n._dragCancel=!1;r.args.position;var e=f.find(".jqx-tree");return n._trees=e,f.each(e,function(){var e=f.data(this,"jqxTree").instance,t=e.host.find(".draggable");if(e._syncItems(t),e.allowDrag&&!e.disabled){var i=f(r.target).parents("li:first");if(0<i.length){var s=e.getItem(i[0]);if(s){if(n._dragItem=s,e.dragStart)if(0==e.dragStart(s))return n._dragCancel=!0,f(r.args.element).jqxDragDrop({triggerEvents:!1}),f(r.args.element).jqxDragDrop("cancelDrag"),clearInterval(n._autoScrollTimer),f(r.args.element).jqxDragDrop({triggerEvents:e}),!1;e._raiseEvent(8,{label:s.label,value:s.value,originalEvent:r.args})}}}}),!1})},_getMouseCoordinates:function(e){if(this._isTouchDevice=f.jqx.mobile.isTouchDevice(),this._isTouchDevice){var t=f.jqx.position(e.args);return{left:t.left,top:t.top}}return{left:e.args.pageX,top:e.args.pageY}},_handleDragging:function(e,u){(e=this.host.find(".draggable")).off("dragging"),e.on("dragging",function(e){e.args.position;var t=u._trees;if(!u._dragCancel){u._dragOverItem&&u._dragOverItem.titleElement.removeClass(u.toThemeProperty("jqx-fill-state-hover"));var h=!0,c=u._getMouseCoordinates(e);u._lastDraggingPosition=c,f.each(t,function(){if(f.jqx.isHidden(f(this)))return!0;var e=f(this).offset(),t=e.top+20,i=f(this).height()+t-40,s=(d=e.left)+f(this).width(),r=f.data(this,"jqxTree").instance;if(!r.disabled&&r.allowDrop){var n=r.vScrollInstance,o=r._hitTestBounds(r,c.left,c.top);if(null!=o&&(u._dragOverItem&&u._dragOverItem.titleElement.removeClass(r.toThemeProperty("jqx-fill-state-hover")),(u._dragOverItem=o).element)){u.feedbackElement.show();var a=o.top,l=c.top;u._dropPosition="before",l>a+o.height/3&&(a=o.top+o.height/2,u._dragOverItem.titleElement.addClass(u.toThemeProperty("jqx-fill-state-hover")),u.feedbackElement.hide(),u._dropPosition="inside"),l>o.top+o.height-o.height/3&&(a=o.top+o.height,u._dragOverItem.titleElement.removeClass(u.toThemeProperty("jqx-fill-state-hover")),u.feedbackElement.show(),u._dropPosition="after"),u.feedbackElement.css("top",a);var d=-2+parseInt(o.titleElement.offset().left);u.feedbackElement.css("left",d),u.feedbackElement.width(f(o.titleElement).width()+12)}c.left>=d&&c.left<s?(c.top+20>=t&&c.top<=t+r.host.height()&&(h=!1),c.top<t&&c.top>=t-30?(clearInterval(r._autoScrollTimer),0!=n.value&&u.feedbackElement.hide(),r._autoScrollTimer=setInterval(function(){var e=r.panelInstance.scrollUp(),t=r.host.find(".draggable");r._syncItems(t),e||clearInterval(r._autoScrollTimer)},100)):c.top>i&&c.top<i+30?(clearInterval(r._autoScrollTimer),n.value!=n.max&&u.feedbackElement.hide(),r._autoScrollTimer=setInterval(function(){var e=r.panelInstance.scrollDown(),t=r.host.find(".draggable");r._syncItems(t),e||clearInterval(r._autoScrollTimer)},100)):clearInterval(r._autoScrollTimer)):clearInterval(r._autoScrollTimer)}}),h&&u.feedbackElement&&u.feedbackElement.hide()}})},_handleDragEnd:function(e,u){e.off("dragEnd"),e.on("dragEnd",function(e){u.host.find(".draggable");clearInterval(u._autoScrollTimer);e.args.position;var t=u._trees,n=null,o=f.jqx.mobile.isTouchDevice()?u._lastDraggingPosition:u._getMouseCoordinates(e);if(u.feedbackElement.remove(),u._dragCancel)return!1;u._dragOverItem&&u._dragOverItem.titleElement.removeClass(u.toThemeProperty("jqx-fill-state-hover")),f.each(t,function(){if(f.jqx.isHidden(f(this)))return!0;var e=parseInt(f(this).offset().left),t=e+f(this).width(),i=f.data(this,"jqxTree").instance;if(clearInterval(i._autoScrollTimer),null!=u._dragItem&&o.left>=e&&o.left<t){var s=parseInt(f(this).offset().top),r=s+f(this).height();o.top>=s&&o.top<=r&&(n=f(this))}});var i=u._dragItem;if(null!=n&&0<n.length){if(n.jqxTree("allowDrop")){var s=f.data(n[0],"jqxTree").instance,r=u._dragOverItem;if(null!=r&&u._dragOverItem.treeInstance.element.id==s.element.id){var a=!0;if(u.dragEnd&&(0==(a=u.dragEnd(i,r,e.args,u._dropPosition,n))&&(f(e.args.element).jqxDragDrop({triggerEvents:!1}),f(e.args.element).jqxDragDrop("cancelDrag"),clearInterval(u._autoScrollTimer),f(e.args.element).jqxDragDrop({triggerEvents:!0})),null==a&&(a=!0)),a){var l=function(){var e=u._dragItem.treeInstance;e._refreshMapping(),e._updateItemsNavigation(),e._render(!0,!1),e.checkboxes&&e._updateCheckStates(),u._dragItem.treeInstance=s,u._syncItems(u._dragItem.treeInstance.host.find(".draggable"))};if("none"!=s.dropAction&&u._dragItem.id!=u._dragOverItem.id)if("inside"==u._dropPosition)s._drop(u._dragItem.element,u._dragOverItem.element,-1,s),l();else{var d=0;"after"==u._dropPosition&&d++,s._drop(u._dragItem.element,u._dragOverItem.parentElement,d+f(u._dragOverItem.element).index(),s),l()}s._render(!0,!1);var h=s.host.find(".draggable");u._syncItems(h),u._dragOverItem=null,u._dragItem=null,s._refreshMapping(),s._updateItemsNavigation(),s.selectedItem=null,s.selectItem(i.element),s.checkboxes&&s._updateCheckStates(),s._render(!0,!1)}}else if("none"!=s.dropAction&&s.allowDrop){a=!0;if(u.dragEnd&&(0==(a=u.dragEnd(i,r,e.args,u._dropPosition,n))&&(f(e.args.element).jqxDragDrop({triggerEvents:!1}),f(e.args.element).jqxDragDrop("cancelDrag"),clearInterval(u._autoScrollTimer),f(e.args.element).jqxDragDrop({triggerEvents:!0})),null==a&&(a=!0)),a){u._dragItem.parentElement=null,s._drop(u._dragItem.element,null,-1,s);var c=u._dragItem.treeInstance;c._refreshMapping(),c._updateItemsNavigation(),c.checkboxes&&c._updateCheckStates();h=c.host.find(".draggable");u._syncItems(h),(u._dragItem.treeInstance=s).items[s.items.length]=u._dragItem,s._render(!0,!1),s._refreshMapping(),s.selectItem(i.element),s._updateItemsNavigation();h=s.host.find(".draggable");s._syncItems(h),s.checkboxes&&s._updateCheckStates(),u._dragOverItem=null,u._dragItem=null}}}}else if(u.dragEnd&&0==u.dragEnd(i,e.args))return!1;return null!=i&&u._raiseEvent(7,{label:i.label,value:i.value,originalEvent:e.args}),!1})},_drop:function(e,t,i,s){if(!(0<f(t).parents("#"+e.id).length||null!=t&&t.id==e.id)){var r;if(s.element.innerHTML.indexOf("UL"))var n=s.host.find("ul:first");if(null==t&&null==t)null==i||-1==i?n.append(e):0==n.children("li").eq(i).length?n.children("li").eq(i-1).after(e):n.children("li").eq(i)[0].id!=e.id&&n.children("li").eq(i).before(e);else if(null==i||-1==i)if(0==(r=(t=f(t)).find("ul:first")).length)ulElement=f("<ul></ul>"),f(t).append(ulElement),r=t.find("ul:first"),(o=s.itemMapping["id"+t[0].id].item).subtreeElement=r[0],o.hasItems=!0,r.addClass(s.toThemeProperty("jqx-tree-dropdown")),r.append(e),e=r.find("li:first"),o.parentElement=e;else r.append(e);else if(0==(r=(t=f(t)).find("ul:first")).length){var o;if(ulElement=f("<ul></ul>"),f(t).append(ulElement),r=t.find("ul:first"),t)(o=s.itemMapping["id"+t[0].id].item).subtreeElement=r[0],o.hasItems=!0;r.addClass(s.toThemeProperty("jqx-tree-dropdown")),r.append(e),e=r.find("li:first"),o.parentElement=e}else 0==r.children("li").eq(i).length?r.children("li").eq(i-1).after(e):r.children("li").eq(i)[0].id!=e.id&&r.children("li").eq(i).before(e)}},_enableDragDrop:function(){if(this.allowDrag&&this.host.jqxDragDrop){var e=this.host.find(".draggable"),s=this;if(0<e.length)e.jqxDragDrop({cursor:"arrow",revertDuration:0,appendTo:"body",dragZIndex:99999,revert:!0,initFeedback:function(e){var t=f('<span style="white-space: nowrap;" class="'+s.toThemeProperty("jqx-fill-state-normal")+'">'+e.text()+"</span>");f(document.body).append(t);var i=t.width();t.remove(),e.width(i+5),e.addClass(s.toThemeProperty("jqx-fill-state-pressed"))}}),!0===e.jqxDragDrop("isDestroyed")&&e.jqxDragDrop("_createDragDrop"),this._autoScrollTimer=null,s._dragItem=null,s._handleDragStart(e,s),s._handleDragging(e,s),s._handleDragEnd(e,s)}}})}}(jqxBaseFramework),function(g){g.jqx.jqxWidget("jqxDropDownButton","",{}),g.extend(g.jqx._jqxDropDownButton.prototype,{defineInstance:function(){var e={disabled:!1,width:null,height:null,arrowSize:19,enableHover:!0,openDelay:250,closeDelay:300,animationType:"default",enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",popupZIndex:2e3,dropDownContainer:"default",autoOpen:!1,rtl:!1,initContent:null,dropDownWidth:null,dropDownHeight:null,focusable:!0,template:"default",touchMode:!1,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","opening","closing"]};return this===g.jqx._jqxDropDownButton.prototype||g.extend(!0,this,e),e},createInstance:function(e){var t=this;t.width||(t.width=200),t.height||(t.height=25),t.isanimating=!1;var i=g("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropDownButtonWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropDownButtonContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropDownButtonArrow' unselectable='on'  style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>");t.host.attr("tabindex")?(i.attr("tabindex",t.host.attr("tabindex")),t.host.removeAttr("tabindex")):i.attr("tabindex",0),t.focusable||i.removeAttr("tabIndex"),g.jqx.aria(this),t.popupContent=t.host.children(),t.host.attr("role","button"),0==t.popupContent.length?(t.popupContent=g("<div>"+t.host.text()+"</div>"),t.popupContent.css("display","block"),t.element.innerHTML=""):t.popupContent.detach();var s=this;t.addHandler(t.host,"loadContent",function(e){s._arrange()});try{var r="dropDownButtonPopup"+t.element.id,n=g(g.find("#"+r));0<n.length&&n.remove(),g.jqx.aria(this,"aria-haspopup",!0),g.jqx.aria(this,"aria-owns",r);var o=g("<div class='dropDownButton' style='overflow: hidden; left: -1000px; top: -1000px; position: absolute;' id='dropDownButtonPopup"+t.element.id+"'></div>");o.addClass(t.toThemeProperty("jqx-widget-content")),o.addClass(t.toThemeProperty("jqx-dropdownbutton-popup")),o.addClass(t.toThemeProperty("jqx-popup")),o.addClass(t.toThemeProperty("jqx-rc-all")),"element"!=t.dropDownContainer&&o.css("z-index",t.popupZIndex),g.jqx.browser.msie&&o.addClass(t.toThemeProperty("jqx-noshadow")),t.popupContent.appendTo(o),"element"==t.dropDownContainer?o.appendTo(t.host):o.appendTo(document.body),t.container=o,t.container.css("visibility","hidden")}catch(e){}t.touch=g.jqx.mobile.isTouchDevice(),t.dropDownButtonStructure=i,t.host.append(i),t.dropDownButtonWrapper=t.host.find("#dropDownButtonWrapper"),t.firstDiv=t.dropDownButtonWrapper.parent(),t.dropDownButtonArrow=t.host.find("#dropDownButtonArrow"),t.arrow=g(t.dropDownButtonArrow.children()[0]),t.dropDownButtonContent=t.host.find("#dropDownButtonContent"),t.dropDownButtonContent.addClass(t.toThemeProperty("jqx-dropdownlist-content")),t.dropDownButtonWrapper.addClass(t.toThemeProperty("jqx-disableselect")),t.rtl&&t.dropDownButtonContent.addClass(t.toThemeProperty("jqx-rtl"));var a=this;t.host.parents()&&t.addHandler(t.host.parents(),"scroll.dropdownbutton"+t.element.id,function(e){a.isOpened()&&a.close()}),t.addHandler(t.dropDownButtonWrapper,"selectstart",function(){return!1}),t.dropDownButtonWrapper[0].id="dropDownButtonWrapper"+t.element.id,t.dropDownButtonArrow[0].id="dropDownButtonArrow"+t.element.id,t.dropDownButtonContent[0].id="dropDownButtonContent"+t.element.id;a=this;t.propertyChangeMap.disabled=function(e,t,i,s){s?(e.host.addClass(a.toThemeProperty("jqx-dropdownlist-state-disabled")),e.host.addClass(a.toThemeProperty("jqx-fill-state-disabled")),e.dropDownButtonContent.addClass(a.toThemeProperty("jqx-dropdownlist-content-disabled"))):(e.host.removeClass(a.toThemeProperty("jqx-dropdownlist-state-disabled")),e.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),e.dropDownButtonContent.removeClass(a.toThemeProperty("jqx-dropdownlist-content-disabled"))),g.jqx.aria(e,"aria-disabled",e.disabled)},t.disabled&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.dropDownButtonContent.addClass(t.toThemeProperty("jqx-dropdownlist-content-disabled")));var l=t.toThemeProperty("jqx-rc-all")+" "+t.toThemeProperty("jqx-fill-state-normal")+" "+t.toThemeProperty("jqx-widget")+" "+t.toThemeProperty("jqx-widget-content")+" "+t.toThemeProperty("jqx-dropdownlist-state-normal");if(t.host.addClass(l),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.arrow.addClass(t.toThemeProperty("jqx-icon")),t.template&&t.host.addClass(t.toThemeProperty("jqx-"+t.template)),t._setSize(),t.render(),g.jqx.browser.msie&&g.jqx.browser.version<8&&(t.container.css("display","none"),0<t.host.parents(".jqx-window").length)){var d=t.host.parents(".jqx-window").css("z-index");o.css("z-index",d+10),t.container.css("z-index",d+10)}},setContent:function(e){this.dropDownButtonContent.children().remove(),this.dropDownButtonContent[0].innerHTML="",this.dropDownButtonContent.append(e)},val:function(e){if(0==arguments.length||"object"==typeof e)return this.dropDownButtonContent.text();this.dropDownButtonContent.html(e)},getContent:function(){return 0<this.dropDownButtonContent.children().length?this.dropDownButtonContent.children():this.dropDownButtonContent.text()},_setSize:function(){var e=this;null!=e.width&&-1!=e.width.toString().indexOf("px")?e.host[0].style.width=e.width:null==e.width||isNaN(e.width)||(e.host[0].style.width=parseInt(e.width)+"px"),null!=e.height&&-1!=e.height.toString().indexOf("px")?e.host[0].style.height=e.height:null==e.height||isNaN(e.height)||(e.host[0].style.height=parseInt(e.height)+"px");var t=!1;null!=e.width&&-1!=e.width.toString().indexOf("%")&&(t=!0,e.host.width(e.width)),null!=e.height&&-1!=e.height.toString().indexOf("%")&&(t=!0,e.host.height(e.height));var i=this;t&&e.refresh(!1),g.jqx.utilities.resize(e.host,function(){i._arrange()})},isOpened:function(){var e=g.data(document.body,"openedJQXButton"+this.element.id);return null!=e&&e==this.popupContent},focus:function(){try{this.host.focus()}catch(e){}},render:function(){var e=this;e.removeHandlers();var a=this;e.touch||(e.addHandler(e.host,"mouseenter",function(){!a.disabled&&a.enableHover&&(!0,a.host.addClass(a.toThemeProperty("jqx-dropdownlist-state-hover")),a.arrow.addClass(a.toThemeProperty("jqx-icon-arrow-down-hover")),a.host.addClass(a.toThemeProperty("jqx-fill-state-hover")))}),e.addHandler(e.host,"mouseleave",function(){!a.disabled&&a.enableHover&&(a.host.removeClass(a.toThemeProperty("jqx-dropdownlist-state-hover")),a.host.removeClass(a.toThemeProperty("jqx-fill-state-hover")),a.arrow.removeClass(a.toThemeProperty("jqx-icon-arrow-down-hover")),!1)})),a.autoOpen&&(e.addHandler(e.host,"mouseenter",function(){!a.isOpened()&&a.autoOpen&&(a.open(),a.host.focus())}),e.addHandler(g(document),"mousemove."+a.element.id,function(e){if(a.isOpened()&&a.autoOpen){var t=a.host.coord(),i=t.top,s=t.left,r=a.container.coord(),n=r.left,o=r.top;canClose=!0,e.pageY>=i&&e.pageY<=i+a.host.height()&&e.pageX>=s&&e.pageX<s+a.host.width()&&(canClose=!1),e.pageY>=o&&e.pageY<=o+a.container.height()&&e.pageX>=n&&e.pageX<n+a.container.width()&&(canClose=!1),canClose&&a.close()}})),e.addHandler(e.dropDownButtonWrapper,"mousedown",function(e){if(!a.disabled){var t="visible"==a.container.css("visibility");if(!a.isanimating){if(t)return a.close(),!1;a.open(),a.focusable||e.preventDefault&&e.preventDefault()}}}),e.touch&&e.addHandler(g(document),g.jqx.mobile.getTouchEventName("touchstart")+"."+e.element.id,a.closeOpenedDropDown,{me:this,popup:e.container,id:e.element.id}),e.addHandler(g(document),"mousedown."+e.element.id,a.closeOpenedDropDown,{me:this,popup:e.container,id:e.element.id}),e.addHandler(e.host,"keydown",function(e){var t="visible"==a.container.css("visibility");return"none"==a.host.css("display")||("13"==e.keyCode&&(a.isanimating||t&&a.close()),115==e.keyCode?(a.isanimating||(a.isOpened()?a.isOpened()&&a.close():a.open()),!1):(e.altKey&&"block"==a.host.css("display")&&(38==e.keyCode?a.isOpened()&&a.close():40==e.keyCode&&(a.isOpened()||a.open())),void("27"==e.keyCode&&(a.ishiding||(a.close(),null!=a.tempSelectedIndex&&a.selectIndex(a.tempSelectedIndex))))))}),e.addHandler(e.firstDiv,"focus",function(){a.host.addClass(a.toThemeProperty("jqx-dropdownlist-state-focus")),a.host.addClass(a.toThemeProperty("jqx-fill-state-focus"))}),e.addHandler(e.firstDiv,"blur",function(){a.host.removeClass(a.toThemeProperty("jqx-dropdownlist-state-focus")),a.host.removeClass(a.toThemeProperty("jqx-fill-state-focus"))})},removeHandlers:function(){var e=this;e.removeHandler(e.dropDownButtonWrapper,"mousedown"),e.removeHandler(e.host,"keydown"),e.removeHandler(e.firstDiv,"focus"),e.removeHandler(e.firstDiv,"blur"),e.removeHandler(e.host,"mouseenter"),e.removeHandler(e.host,"mouseleave"),e.autoOpen&&(e.removeHandler(e.host,"mouseenter"),e.removeHandler(e.host,"mouseleave")),e.removeHandler(g(document),"mousemove."+this.element.id)},_findPos:function(e){for(;e&&("hidden"==e.type||1!=e.nodeType||g.expr.filters.hidden(e));)e=e.nextSibling;var t=g(e).coord(!0);return[t.left,t.top]},testOffset:function(e,t,i){var s=e.outerWidth(),r=e.outerHeight(),n=g(window).width()+g(window).scrollLeft(),o=g(window).height()+g(window).scrollTop();if(t.left+s>n&&s>this.host.width()){var a=this.host.coord().left,l=s-this.host.width();t.left=a-l+2}return t.left<0&&(t.left=parseInt(this.host.coord().left)+"px"),t.top-=Math.min(t.top,t.top+r>o&&r<o?Math.abs(r+i+22):0),t},_getBodyOffset:function(){var e=0,t=0;return"0px"!=g("body").css("border-top-width")&&(e=parseInt(g("body").css("border-top-width")),isNaN(e)&&(e=0)),"0px"!=g("body").css("border-left-width")&&(t=parseInt(g("body").css("border-left-width")),isNaN(t)&&(t=0)),{left:t,top:e}},open:function(){g.jqx.aria(this,"aria-expanded",!0);var i=this,t=this;if((null==i.dropDownWidth||"auto"==i.dropDownWidth)&&null!=i.width&&i.width.indexOf&&-1!=i.width.indexOf("%")){var e=i.host.width();i.container.width(parseInt(e))}t._raiseEvent("2");var s,r=i.popupContent,n=(g(window).scrollTop(),g(window).scrollLeft(),parseInt(i._findPos(i.host[0])[1])+parseInt(i.host.outerHeight())-1+"px"),o=parseInt(Math.round(i.host.coord(!0).left));s=o+"px";var a=g.jqx.mobile.isSafariMobileBrowser()||g.jqx.mobile.isWindowsPhone();i.ishiding=!1,i.tempSelectedIndex=i.selectedIndex,null!=a&&a&&(s=g.jqx.mobile.getLeftPos(i.element),n=g.jqx.mobile.getTopPos(i.element)+parseInt(i.host.outerHeight()),"0px"!=g("body").css("border-top-width")&&(n=parseInt(n)-i._getBodyOffset().top+"px"),"0px"!=g("body").css("border-left-width")&&(s=parseInt(s)-i._getBodyOffset().left+"px")),r.stop(),i.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-selected")),i.host.addClass(i.toThemeProperty("jqx-fill-state-pressed")),i.arrow.addClass(i.toThemeProperty("jqx-icon-arrow-down-selected"));var l=!1;g.jqx.browser.msie&&g.jqx.browser.version<8&&(l=!0),l&&i.container.css("display","block"),i.container.css("left",s),i.container.css("top",n);var d=!1,h=function(){if("right"==i.dropDownHorizontalAlignment||i.rtl){var e=i.container.width(),t=Math.abs(e-i.host.width());e>i.host.width()?i.container.css("left",parseInt(Math.round(o))-t+"px"):i.container.css("left",parseInt(Math.round(o))+t+"px")}};if(h.call(this),"top"==i.dropDownVerticalAlignment){var c=r.height();d=!0,i.container.height(r.outerHeight()),r.addClass(this.toThemeProperty("jqx-popup-up"));var u=parseInt(i.host.outerHeight()),p=parseInt(n)-Math.abs(c+u);i.interval&&clearInterval(i.interval),i.interval=setInterval(function(){if(r.outerHeight()!=i.container.height()){i.container.height(r.outerHeight());var e=parseInt(n)-Math.abs(r.height()+u);i.container.css("top",e)}},50),r.css("top",23),i.container.css("top",p)}if(i.enableBrowserBoundsDetection){var m=i.testOffset(r,{left:parseInt(i.container.css("left")),top:parseInt(n)},parseInt(i.host.outerHeight()));parseInt(i.container.css("top"))!=m.top?(d=!0,i.container.height(r.outerHeight()),r.css("top",23),i.interval&&clearInterval(i.interval),i.interval=setInterval(function(){if(r.outerHeight()!=t.container.height()){var e=t.testOffset(r,{left:parseInt(i.container.css("left")),top:parseInt(n)},parseInt(i.host.outerHeight()));i.container.css("top",e.top),i.container.height(r.outerHeight())}},50)):r.css("top",0),i.container.css("top",m.top),parseInt(i.container.css("left"))!=m.left&&i.container.css("left",m.left)}if("none"==i.animationType)i.container.css("visibility","visible"),g.data(document.body,"openedJQXButtonParent",t),g.data(document.body,"openedJQXButton"+i.element.id,r),r.css("margin-top",0),r.css("opacity",1),i._raiseEvent("0"),h.call(t);else{i.container.css("visibility","visible");var f=r.outerHeight();t.isanimating=!0,"fade"==i.animationType?(r.css("margin-top",0),r.css("opacity",0),r.animate({opacity:1},i.openDelay,function(){g.data(document.body,"openedJQXButtonParent",t),g.data(document.body,"openedJQXButton"+t.element.id,r),t.ishiding=!1,t.isanimating=!1,t._raiseEvent("0")}),h.call(t)):(r.css("opacity",1),d?r.css("margin-top",f):r.css("margin-top",-f),h.call(t),r.animate({"margin-top":0},i.openDelay,function(){g.data(document.body,"openedJQXButtonParent",t),g.data(document.body,"openedJQXButton"+t.element.id,r),t.ishiding=!1,t.isanimating=!1,t._raiseEvent("0")}))}d?(i.host.addClass(i.toThemeProperty("jqx-rc-t-expanded")),i.container.addClass(i.toThemeProperty("jqx-rc-b-expanded"))):(i.host.addClass(i.toThemeProperty("jqx-rc-b-expanded")),i.container.addClass(i.toThemeProperty("jqx-rc-t-expanded"))),i.focusable&&(i.firstDiv.focus(),setTimeout(function(){t.firstDiv.focus()},10)),i.container.addClass(i.toThemeProperty("jqx-fill-state-focus")),i.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),i.host.addClass(t.toThemeProperty("jqx-fill-state-focus"))},close:function(){g.jqx.aria(this,"aria-expanded",!1);var e=this,t=e.popupContent,i=e.container,s=this;s._raiseEvent("3");var r=!1;if(g.jqx.browser.msie&&g.jqx.browser.version<8&&(r=!0),e.isOpened()){if(g.data(document.body,"openedJQXButton"+e.element.id,null),"none"==e.animationType)e.container.css("visibility","hidden"),r&&e.container.css("display","none");else if(!s.ishiding){s.isanimating=!0,t.stop();var n=t.outerHeight();t.css("margin-top",0);var o=-n;parseInt(e.container.coord().top)<parseInt(e.host.coord().top)&&(o=n),"fade"==e.animationType?(t.css({opacity:1}),t.animate({opacity:0},e.closeDelay,function(){i.css("visibility","hidden"),s.isanimating=!1,s.ishiding=!1,r&&i.css("display","none")})):t.animate({"margin-top":o},e.closeDelay,function(){i.css("visibility","hidden"),s.isanimating=!1,s.ishiding=!1,r&&i.css("display","none")})}e.ishiding=!0,e.host.removeClass(e.toThemeProperty("jqx-dropdownlist-state-selected")),e.host.removeClass(e.toThemeProperty("jqx-fill-state-pressed")),e.arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down-selected")),e.host.removeClass(e.toThemeProperty("jqx-rc-b-expanded")),e.container.removeClass(e.toThemeProperty("jqx-rc-t-expanded")),e.host.removeClass(e.toThemeProperty("jqx-rc-t-expanded")),e.container.removeClass(e.toThemeProperty("jqx-rc-b-expanded")),e.container.removeClass(e.toThemeProperty("jqx-fill-state-focus")),e.host.removeClass(e.toThemeProperty("jqx-dropdownlist-state-focus")),e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus")),e._raiseEvent("1")}},closeOpenedDropDown:function(e){var t=e.data.me,i=g(e.target);if(g(e.target).ischildof(e.data.me.host))return!0;if(g(e.target).ischildof(e.data.me.popupContent))return!0;var s=!1;return g.each(i.parents(),function(){if("undefined"!=this.className){if(this.className.indexOf&&-1!=this.className.indexOf("dropDownButton"))return!(s=!0);if(this.className.indexOf&&-1!=this.className.indexOf("jqx-popup"))return!(s=!0)}}),s||t.close(),!0},refresh:function(){this._arrange()},_arrange:function(){var e=this,t=parseInt(e.host.width()),i=parseInt(e.host.height()),s=(e.arrowSize,e.arrowSize),r=t-s-6;if(0<r&&(e.dropDownButtonContent[0].style.width=r+"px"),e.dropDownButtonContent[0].style.height=parseInt(i)+"px",e.dropDownButtonContent[0].style.left="0px",e.dropDownButtonContent[0].style.top="0px",e.dropDownButtonArrow[0].style.width=parseInt(s)+"px",e.dropDownButtonArrow[0].style.height=parseInt(i)+"px",e.rtl&&(e.dropDownButtonArrow.css("float","left"),e.dropDownButtonContent.css("float","right"),e.dropDownButtonContent.css("left",-3)),null!=e.dropDownWidth)if(0<=e.dropDownWidth.toString().indexOf("%")){t=parseInt(e.dropDownWidth)*e.host.width()/100;e.container.width(t)}else e.container.width(e.dropDownWidth);null!=e.dropDownHeight&&e.container.height(e.dropDownHeight)},destroy:function(){g.jqx.utilities.resize(this.host,null,!0);var e=this;e.interval&&clearInterval(e.interval),e.removeHandler(e.dropDownButtonWrapper,"selectstart"),e.removeHandler(e.dropDownButtonWrapper,"mousedown"),e.removeHandler(e.host,"keydown"),e.host.removeClass(),e.removeHandler(g(document),"mousedown."+e.element.id,self.closeOpenedDropDown),e.host.remove(),e.container.remove()},_raiseEvent:function(e,t){null==t&&(t={owner:null}),2!=e||this.contentInitialized||this.initContent&&(this.initContent(),this.contentInitialized=!0);var i=this.events[e];args=t,args.owner=this;var s=new g.Event(i);return s.owner=this,2!=e&&3!=e&&4!=e||(s.args=t),this.host.trigger(s)},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this._arrange()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),e._arrange(),e.close())},propertyChangedHandler:function(e,t,i,s){null!=this.isInitialized&&0!=this.isInitialized&&(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("template"==t&&(e.host.removeClass(e.toThemeProperty("jqx-"+i)),e.host.addClass(e.toThemeProperty("jqx-"+e.template))),"rtl"==t&&(s?(e.dropDownButtonArrow.css("float","left"),e.dropDownButtonContent.css("float","right")):(e.dropDownButtonArrow.css("float","right"),e.dropDownButtonContent.css("float","left"))),"autoOpen"==t&&e.render(),"theme"==t&&null!=s&&g.jqx.utilities.setTheme(i,s,e.host),"width"!=t&&"height"!=t||(e._setSize(),e._arrange())))}})}(jqxBaseFramework),function(v){v.jqx.jqxWidget("jqxDropDownList","",{}),v.extend(v.jqx._jqxDropDownList.prototype,{defineInstance:function(){var e={disabled:!1,width:null,height:null,items:new Array,selectedIndex:-1,source:null,scrollBarSize:15,arrowSize:19,enableHover:!0,enableSelection:!0,autoItemsHeight:!1,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,openDelay:250,closeDelay:300,dropDownContainer:"default",animationType:"default",autoOpen:!1,dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,keyboardSelection:!0,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",displayMember:"",valueMember:"",groupMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,renderer:null,placeHolder:"Please Choose:",promptText:"Please Choose:",emptyString:"",rtl:!1,selectionRenderer:null,listBox:null,popupZIndex:2e3,renderMode:"default",touchMode:"auto",_checkForHiddenParent:!0,autoBind:!0,ready:null,focusable:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===v.jqx._jqxDropDownList.prototype||v.extend(!0,this,e),e},createInstance:function(e){this.render()},render:function(){(a=this).width||(a.width=200),a.height||(a.height=25);var e=a.element.nodeName.toLowerCase();if("select"==e||"ul"==e||"ol"==e){a.field=a.element,a.field.className&&(a._className=a.field.className);var t={title:a.field.title};a.field.id.length?t.id=a.field.id.replace(/[^\w]/g,"_")+"_jqxDropDownList":t.id=v.jqx.utilities.createId()+"_jqxDropDownList";var i=v("<div></div>",t);a.width||(a.width=v(a.field).width()),a.height||(a.height=v(a.field).outerHeight()),i[0].style.cssText=a.field.style.cssText,v(a.field).hide().after(i);var s=a.host.data();if(a.host=i,a.host.data(s),a.element=i[0],a.element.id=a.field.id,a.field.id=t.id,a._className&&(a.host.addClass(a._className),v(a.field).removeClass(a._className)),a.field.tabIndex){var r=a.field.tabIndex;a.field.tabIndex=-1,a.element.tabIndex=r}var n=v.jqx.parseSourceTag(a.field);a.source=n.items,-1==a.selectedIndex&&(a.selectedIndex=n.index)}else if(0<a.host.find("li").length||0<a.host.find("option").length){n=v.jqx.parseSourceTag(a.element);a.source=n.items}a.element.innerHTML="",a.isanimating=!1,a.id=a.element.id||v.jqx.utilities.createId(),a.host.attr("role","combobox"),v.jqx.aria(a,"aria-autocomplete","both"),v.jqx.aria(a,"aria-readonly",!1);var o="<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='overflow: hidden; outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'></div><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>";if(null==v.jqx._jqxListBox||null==v.jqx._jqxListBox)throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.");a.host.attr("tabindex")||a.host.attr("tabindex",0);a.touch=v.jqx.mobile.isTouchDevice(),a.comboStructure=o,a.element.innerHTML=o,a.dropdownlistWrapper=v(a.element.firstChild.firstChild),a.dropdownlistArrow=v(a.dropdownlistWrapper[0].firstChild.nextSibling),a.arrow=v(a.dropdownlistArrow[0].firstChild),a.dropdownlistContent=v(a.dropdownlistWrapper[0].firstChild),a.dropdownlistContent.addClass(a.toThemeProperty("jqx-dropdownlist-content jqx-disableselect")),a.rtl&&a.dropdownlistContent.addClass(a.toThemeProperty("jqx-rtl jqx-dropdownlist-content-rtl")),a.addHandler(a.dropdownlistWrapper,"selectstart",function(){return!1}),a.dropdownlistWrapper[0].id="dropdownlistWrapper"+a.element.id,a.dropdownlistArrow[0].id="dropdownlistArrow"+a.element.id,a.dropdownlistContent[0].id="dropdownlistContent"+a.element.id,a._addInput(),"Please Choose:"!=a.promptText&&(a.placeHolder=a.promptText);var a,l=a.toThemeProperty("jqx-widget")+" "+a.toThemeProperty("jqx-dropdownlist-state-normal")+" "+a.toThemeProperty("jqx-rc-all")+" "+a.toThemeProperty("jqx-fill-state-normal");a.element.className+=" "+l,a._firstDiv=v(a.element.firstChild);try{var d="listBox"+a.id,h=v(v.find("#"+d));0<h.length&&h.remove(),v.jqx.aria(a,"aria-owns",d),v.jqx.aria(a,"aria-haspopup",!0);var c=v("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+a.id+"'><div id='innerListBox"+a.id+"'></div></div>");c.hide(),"element"==a.dropDownContainer?c.appendTo(a.host):c.appendTo(document.body),a.container=c,a.listBoxContainer=v(v.find("#innerListBox"+a.id));var u=a.width;"auto"!=a.dropDownWidth&&(u=a.dropDownWidth),null==u&&0==(u=a.host.width())&&(u=a.dropDownWidth),null==a.dropDownHeight&&(a.dropDownHeight=200);a.container.width(parseInt(u)+25),a.container.height(parseInt(a.dropDownHeight)+25),a._ready=!1,a.addHandler(a.listBoxContainer,"bindingComplete",function(e){a.listBox||(a.listBox=v.data(a.listBoxContainer[0],"jqxListBox").instance),a.selectedIndex!=a.listBoxContainer.jqxListBox("selectedIndex")&&(a.listBox=v.data(a.listBoxContainer[0],"jqxListBox").instance,a.listBoxContainer.jqxListBox({selectedIndex:a.selectedIndex})),a.renderSelection("mouse"),a._ready||(a.ready&&a.ready(),a._ready=!0),a._raiseEvent("6")}),a.addHandler(a.listBoxContainer,"itemAdd",function(e){a._raiseEvent("7",e.args)}),a.addHandler(a.listBoxContainer,"itemRemove",function(e){a._raiseEvent("8",e.args)}),a.addHandler(a.listBoxContainer,"itemUpdate",function(e){a._raiseEvent("9",e.args)}),a.listBoxContainer.jqxListBox({filterHeight:a.filterHeight,filterPlaceHolder:a.filterPlaceHolder,filterDelay:a.filterDelay,autoItemsHeight:a.autoItemsHeight,filterable:a.filterable,allowDrop:!1,allowDrag:!1,autoBind:a.autoBind,_checkForHiddenParent:!1,focusable:a.focusable,touchMode:a.touchMode,checkboxes:a.checkboxes,rtl:a.rtl,_renderOnDemand:!0,emptyString:a.emptyString,itemHeight:a.itemHeight,width:u,searchMode:a.searchMode,incrementalSearch:a.incrementalSearch,incrementalSearchDelay:a.incrementalSearchDelay,groupMember:a.groupMember,searchMember:a.searchMember,displayMember:a.displayMember,valueMember:a.valueMember,height:a.dropDownHeight,autoHeight:a.autoDropDownHeight,scrollBarSize:a.scrollBarSize,selectedIndex:a.selectedIndex,source:a.source,theme:a.theme,rendered:function(){a.selectedIndex!=a.listBoxContainer.jqxListBox("selectedIndex")&&(a.listBox=v.data(a.listBoxContainer[0],"jqxListBox").instance,a.listBoxContainer.jqxListBox({selectedIndex:a.selectedIndex})),a.renderSelection("mouse")},renderer:a.renderer,filterChange:function(e){a.autoDropDownHeight&&a.container.height(a.listBoxContainer.height()+25)}}),"element"===a.dropDownContainer?a.listBoxContainer.css({position:"absolute",top:0,left:0}):a.listBoxContainer.css({position:"absolute",zIndex:a.popupZIndex,top:0,left:0}),a.template&&a.listBoxContainer.addClass(a.toThemeProperty("jqx-"+a.template+"-item")),a.listBox=v.data(a.listBoxContainer[0],"jqxListBox").instance,a.listBox.enableSelection=a.enableSelection,a.listBox.enableHover=a.enableHover,a.listBox.equalItemsWidth=a.equalItemsWidth,a.listBox.selectIndex(a.selectedIndex),a.listBox._arrange(),a.listBoxContainer.addClass(a.toThemeProperty("jqx-popup")),v.jqx.browser.msie&&a.listBoxContainer.addClass(a.toThemeProperty("jqx-noshadow")),a.addHandler(a.listBoxContainer,"unselect",function(e){a._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})}),a.addHandler(a.listBoxContainer,"change",function(e){e.args&&("keyboard"!=e.args.type?a._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}):"keyboard"==e.args.type&&(a.isOpened()||a._raiseEvent("4",{index:a.selectedIndex,type:"keyboard",item:a.getItem(a.selectedIndex)})))}),"none"==a.animationType?a.container.css("display","none"):a.container.hide()}catch(e){console&&console.log(e)}if((a=a).propertyChangeMap.disabled=function(e,t,i,s){s?(e.host.addClass(a.toThemeProperty("jqx-dropdownlist-state-disabled")),e.host.addClass(a.toThemeProperty("jqx-fill-state-disabled")),e.dropdownlistContent.addClass(a.toThemeProperty("jqx-dropdownlist-content-disabled"))):(e.host.removeClass(a.toThemeProperty("jqx-dropdownlist-state-disabled")),e.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),e.dropdownlistContent.removeClass(a.toThemeProperty("jqx-dropdownlist-content-disabled"))),v.jqx.aria(e,"aria-disabled",e.disabled)},a.disabled&&(a.host.addClass(a.toThemeProperty("jqx-dropdownlist-state-disabled")),a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled")),a.dropdownlistContent.addClass(a.toThemeProperty("jqx-dropdownlist-content-disabled"))),"top"==a.dropDownVerticalAlignment?a.arrow.addClass(a.toThemeProperty("jqx-icon-arrow-up")):a.arrow.addClass(a.toThemeProperty("jqx-icon-arrow-down")),a.arrow.addClass(a.toThemeProperty("jqx-icon")),"simple"===a.renderMode&&(a.arrow.remove(),a.host.removeClass(a.toThemeProperty("jqx-fill-state-normal")),a.host.removeClass(a.toThemeProperty("jqx-rc-all"))),a.template&&a.host.addClass(a.toThemeProperty("jqx-"+a.template)),a._updateHandlers(),a._setSize(),a._arrange(),a.listBox&&a.renderSelection(),v.jqx.browser.msie&&v.jqx.browser.version<8&&0<a.host.parents(".jqx-window").length){var p=a.host.parents(".jqx-window").css("z-index");c.css("z-index",p+10),a.listBoxContainer.css("z-index",p+10)}},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this._arrange()},val:function(i){if(!this.dropdownlistContent)return"";if(this.input&&(function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return"number"!=typeof i&&"date"!=typeof i&&"boolean"!=typeof i&&"string"!=typeof i}(i)||0==arguments.length))return this.input.val();var e=this.getItemByValue(i);return null!=e&&this.selectItem(e),this.input?this.input.val():void 0},focus:function(){try{var e=this,t=function(){e.host&&(e.host.focus(),e._firstDiv&&e._firstDiv.focus())};t(),setTimeout(function(){t()},10)}catch(e){}},_addInput:function(){var e=this.host.attr("name");this.input=v("<input type='hidden'/>"),this.host.append(this.input),e&&this.input.attr("name",e)},getItems:function(){return this.listBox?this.listBox.items:new Array},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=this.width:null==this.width||isNaN(this.width)||(this.element.style.width=this.width+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=this.height:null==this.height||isNaN(this.height)||(this.element.style.height=this.height+"px");var e=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(e=!0,this.element.style.width=this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(e=!0,this.element.style.height=this.height);var t=this;if(e){var i=this.host.width();"auto"!=this.dropDownWidth&&(i=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:i}),this.container.width(parseInt(i)+25)}v.jqx.utilities.resize(this.host,function(){!function(){if(t._arrange(),"auto"==t.dropDownWidth){var e=t.host.width();t.listBoxContainer.jqxListBox({width:e}),t.container.width(parseInt(e)+25)}}()},!1,this._checkForHiddenParent)},isOpened:function(){var e=v.data(document.body,"openedJQXListBox"+this.id);return null!=e&&e==this.listBoxContainer},_updateHandlers:function(){var a=this;this.removeHandlers(),this.touch||(this.addHandler(this.host,"mouseenter",function(){!a.disabled&&a.enableHover&&"simple"!==a.renderMode&&(!0,a.host.addClass(a.toThemeProperty("jqx-dropdownlist-state-hover")),"top"==a.dropDownVerticalAlignment?a.arrow.addClass(a.toThemeProperty("jqx-icon-arrow-up-hover")):a.arrow.addClass(a.toThemeProperty("jqx-icon-arrow-down-hover")),a.host.addClass(a.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!a.disabled&&a.enableHover&&"simple"!==a.renderMode&&(a.host.removeClass(a.toThemeProperty("jqx-dropdownlist-state-hover")),a.host.removeClass(a.toThemeProperty("jqx-fill-state-hover")),a.arrow.removeClass(a.toThemeProperty("jqx-icon-arrow-down-hover")),a.arrow.removeClass(a.toThemeProperty("jqx-icon-arrow-up-hover")),!1)})),this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(e){a.isOpened()&&a.close()});var e="mousedown";this.touch&&(e=v.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,e,function(e){if(!a.disabled){var t="block"==a.container.css("display");if(!a.isanimating){if(t)return a.hideListBox(),!1;a.showListBox(),a.focusable?a.focus():e.preventDefault&&e.preventDefault()}}}),a.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){!a.isOpened()&&a.autoOpen&&(a.open(),a.host.focus())}),v(document).on("mousemove."+a.id,function(e){if(a.isOpened()&&a.autoOpen){var t=a.host.coord(),i=t.top,s=t.left,r=a.container.coord(),n=r.left,o=r.top;canClose=!0,e.pageY>=i&&e.pageY<=i+a.host.height()&&e.pageX>=s&&e.pageX<s+a.host.width()&&(canClose=!1),e.pageY>=o&&e.pageY<=o+a.container.height()&&e.pageX>=n&&e.pageX<n+a.container.width()&&(canClose=!1),canClose&&a.close()}})),this.touch?this.addHandler(v(document),v.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,a.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(v(document),"mousedown."+this.id,a.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(e){var t="block"==a.container.css("display");if("none"==a.host.css("display"))return!0;if(("13"==e.keyCode||"9"==e.keyCode)&&!a.isanimating)return t&&(a.renderSelection(),"13"==e.keyCode&&a.focusable&&a._firstDiv.focus(),a.hideListBox(),a.keyboardSelection||a._raiseEvent("2",{index:a.selectedIndex,type:"keyboard",item:a.getItem(a.selectedIndex)}),"13"==e.keyCode&&a._raiseEvent("4",{index:a.selectedIndex,type:"keyboard",item:a.getItem(a.selectedIndex)})),!t||"9"==e.keyCode;if(115==e.keyCode)return a.isanimating||(a.isOpened()?a.isOpened()&&a.hideListBox():a.showListBox()),!1;if(e.altKey&&"block"==a.host.css("display"))if(38==e.keyCode){if(a.isOpened())return a.hideListBox(),!0}else if(40==e.keyCode&&!a.isOpened())return a.showListBox(),!0;return"27"!=e.keyCode||a.ishiding?a.disabled?void 0:(a._kbnavigated=a.listBox._handleKeyDown(e),a._kbnavigated):(a.isOpened()&&(a.hideListBox(),null!=a.tempSelectedIndex&&a.selectIndex(a.tempSelectedIndex)),!0)}),this.addHandler(this.listBoxContainer,"checkChange",function(e){a.renderSelection(),a._updateInputSelection(),a._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})}),this.addHandler(this.listBoxContainer,"select",function(e){if(!a.disabled){if(!e.args)return;"keyboard"!=e.args.type||a.isOpened()||a.renderSelection(),("keyboard"!=e.args.type||a.keyboardSelection)&&(a.renderSelection(),a._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item,originalEvent:e.args.originalEvent}),"mouse"==e.args.type&&(a.checkboxes||(a.hideListBox(),a._firstDiv&&a.focusable&&a._firstDiv.focus())))}}),this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",function(e){if(!a.disabled){if(a.listBox.itemswrapper&&e.target===a.listBox.itemswrapper[0])return!0;a.renderSelection("mouse"),a.touch||a.ishiding||a.checkboxes||(a.hideListBox(),a._firstDiv&&a.focusable&&a._firstDiv.focus()),a.keyboardSelection||(!1===a._kbnavigated&&(a.tempSelectedIndex!=a.selectedIndex&&a._raiseEvent("4",{index:a.selectedIndex,type:"mouse",item:a.getItem(a.selectedIndex)}),a._kbnavigated=!0),null==a._oldSelectedInd&&(a._oldSelectedIndx=a.selectedIndex),a.selectedIndex!=a._oldSelectedIndx&&(a._raiseEvent("2",{index:a.selectedIndex,type:"keyboard",item:a.getItem(a.selectedIndex)}),a._oldSelectedIndx=a.selectedIndex))}}),this.addHandler(this.host,"focus",function(e){"simple"!==a.renderMode&&(a.host.addClass(a.toThemeProperty("jqx-dropdownlist-state-focus")),a.host.addClass(a.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this.host,"blur",function(){"simple"!==a.renderMode&&(a.host.removeClass(a.toThemeProperty("jqx-dropdownlist-state-focus")),a.host.removeClass(a.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"focus",function(e){"simple"!==a.renderMode&&(a.host.addClass(a.toThemeProperty("jqx-dropdownlist-state-focus")),a.host.addClass(a.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"blur",function(){"simple"!==a.renderMode&&(a.host.removeClass(a.toThemeProperty("jqx-dropdownlist-state-focus")),a.host.removeClass(a.toThemeProperty("jqx-fill-state-focus")))})},removeHandlers:function(){var e="mousedown";this.touch&&(e=v.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistWrapper,e),this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.host,"loadContent"),this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this._firstDiv,"focus"),this.removeHandler(this._firstDiv,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(v(document),"mousemove."+this.id)},getItem:function(e){return this.listBox.getItem(e)},getItemByValue:function(e){return this.listBox.getItemByValue(e)},selectItem:function(e){null!=this.listBox&&(this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(e){null!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"))},checkItem:function(e){null!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){null!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){null!=this.listBox&&this.listBox.indeterminateItem(e)},renderSelection:function(){if(null!=this.listBox){this.height&&-1!=this.height.toString().indexOf("%")&&this._arrange();var e=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.filterable&&-1==this.listBox.selectedIndex)for(var t in this.listBox.selectedValues){var i=this.listBox.selectedValues[t],s=this.listBox.getItemByValue(i);s&&(e=s)}if(this.checkboxes){var r=this.getCheckedItems();e=null!=r&&0<r.length?r[0]:null}if(null==e){var n;(n=v('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>')).appendTo(v(document.body)),n.addClass(this.toThemeProperty("jqx-widget")),n.addClass(this.toThemeProperty("jqx-listitem-state-normal")),n.addClass(this.toThemeProperty("jqx-item")),v.jqx.utilities.html(n,this.placeHolder);var o=this.dropdownlistContent.css("padding-top"),a=this.dropdownlistContent.css("padding-bottom");n.css("padding-top",o),n.css("padding-bottom",a);var l=n.outerHeight();n.remove(),n.removeClass(),v.jqx.utilities.html(this.dropdownlistContent,n);var d=this.host.height();return null!=this.height&&null!=this.height&&-1===this.height.toString().indexOf("%")&&(d=parseInt(this.height)),0<(g=parseInt((parseInt(d)-parseInt(l))/2))&&(this.dropdownlistContent.css("margin-top",g+"px"),this.dropdownlistContent.css("margin-bottom",g+"px")),this.selectionRenderer&&(v.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(n,-1,"","")),this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px")),this._updateInputSelection(),this.selectedIndex=this.listBox.selectedIndex,"auto"===this.width&&this._arrange(),void(this.focusable&&this.isOpened()&&this.focus())}this.selectedIndex=this.listBox.selectedIndex,(n=v(document.createElement("span")))[0].setAttribute("unselectable","on");try{n[0].style.color="inherit"}catch(e){}n[0].style.borderWidth="0px",n[0].style.backgroundColor="transparent",n.appendTo(v(document.body)),n.addClass(this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-item"));var h=!1;try{null!=e.html&&null!=e.html&&0<e.html.toString().length?v.jqx.utilities.html(n,e.html):null!=e.label&&null!=e.label&&0<e.label.toString().length?v.jqx.utilities.html(n,e.label):null===e.label||""===e.label?(h=!0,v.jqx.utilities.html(n,"")):null!=e.value&&null!=e.value&&0<e.value.toString().length?v.jqx.utilities.html(n,e.value):null!=e.title&&null!=e.title&&0<e.title.toString().length?v.jqx.utilities.html(n,e.title):""!=e.label&&null!=e.label||(h=!0,v.jqx.utilities.html(n,""))}catch(e){}""===(o=this.dropdownlistContent[0].style.paddingTop)&&(o="0px"),""===(a=this.dropdownlistContent[0].style.paddingBottom)&&(a="0px"),n[0].style.paddingTop=o,n[0].style.paddingBottom=a,0===(l=n.outerHeight())&&(l=16),""!=e.label&&null!=e.label||!h||v.jqx.utilities.html(n,"");var c=this.width&&this.width.toString().indexOf("%")<=0;if(n.remove(),n.removeClass(),this.selectionRenderer)v.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(n,e.index,e.label,e.value)),this.focusable&&this.isOpened()&&this.focus();else if(this.checkboxes){for(var u=this.getCheckedItems(),p="",m=0;m<u.length;m++)m==u.length-1?p+=u[m].label:p+=u[m].label+",";n.text(p),c&&n.css("max-width",this.host.width()-30),n.css("overflow","hidden"),n.css("display","block"),this.rtl||c&&n.css("width",this.host.width()-30),n.css("text-overflow","ellipsis"),n.css("padding-bottom",1+parseInt(a)),this.dropdownlistContent.html(n),this.focusable&&this.isOpened()&&this.focus()}else{var f=this.host.width()-this.arrowSize-3;this.width&&"auto"!==this.width&&(c&&(this.rtl||n.css("max-width",f+"px")),n[0].style.overflow="hidden",n[0].style.display="block",n[0].style.paddingTop=1+parseInt(a)+"px",this.rtl||c&&(f<0&&(f=0),n[0].style.width=f+"px"),n[0].style.textOverflow="ellipsis"),this.dropdownlistContent[0].innerHTML=n[0].innerHTML,this.focusable&&this.isOpened()&&this.focus()}var g;d=this.host.height();null!=this.height&&null!=this.height&&-1===this.height.toString().indexOf("%")&&(d=parseInt(this.height)),0<=(g=parseInt((parseInt(d)-parseInt(l))/2))&&(this.dropdownlistContent[0].style.marginTop=g+"px",this.dropdownlistContent[0].style.marginBottom=g+"px"),this.selectionRenderer&&(this.dropdownlistContent[0].style.marginTop="0px",this.dropdownlistContent[0].style.marginBottom="0px"),this.dropdownlistContent&&this.input&&this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&v.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id),"auto"===this.width&&this._arrange()}},_updateInputSelection:function(){if(this.input){var i=new Array;if(-1==this.selectedIndex)this.input.val("");else{var e=this.getSelectedItem();null!=e?(this.input.val(e.value),i.push(e.value)):this.input.val(this.dropdownlistContent.text())}if(this.checkboxes){var t=this.getCheckedItems(),s="";if(null!=t)for(var r=0;r<t.length;r++){var n=t[r].value;null!=n&&(r==t.length-1?s+=n:s+=n+",",i.push(n))}this.input.val(s)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?v.each(this.field,function(e,t){v(this).removeAttr("selected"),this.selected=0<=i.indexOf(this.value),this.selected&&v(this).attr("selected",!0)}):v.each(this.items,function(e,t){v(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=0<=i.indexOf(this.value),this.selected&&v(this.originalItem.originalItem).attr("data-selected",!0)}))},setContent:function(e){v.jqx.utilities.html(this.dropdownlistContent,e),this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(e){this.selectedIndex=-1,this._updateInputSelection(),this.listBox.clearSelection(),this.renderSelection(),this.selectionRenderer||v.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(e,t){isNaN(e)||(this.listBox.unselectIndex(e,t),this.renderSelection())},selectIndex:function(e,t,i,s){this.listBox.selectIndex(e,t,i,s,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},addItem:function(e){return this.listBox.addItem(e)},insertAt:function(e,t){return null!=e&&this.listBox.insertAt(e,t)},removeAt:function(e){var t=this.listBox.removeAt(e);return this.renderSelection("mouse"),t},removeItem:function(e){var t=this.listBox.removeItem(e);return this.renderSelection("mouse"),t},updateItem:function(e,t){var i=this.listBox.updateItem(e,t);return this.renderSelection("mouse"),i},updateAt:function(e,t){var i=this.listBox.updateAt(e,t);return this.renderSelection("mouse"),i},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){return this.listBox.disableAt(e)},enableAt:function(e){return this.listBox.enableAt(e)},disableItem:function(e){return this.listBox.disableItem(e)},enableItem:function(e){return this.listBox.enableItem(e)},_findPos:function(e){for(;e&&("hidden"==e.type||1!=e.nodeType||v.expr.filters.hidden(e));)e=e.nextSibling;var t=v(e).coord(!0);return[t.left,t.top]},testOffset:function(e,t,i){var s=e.outerWidth(),r=e.outerHeight(),n=v(window).width()+v(window).scrollLeft(),o=v(window).height()+v(window).scrollTop();if(t.left+s>n&&s>this.host.width()){var a=this.host.coord().left,l=s-this.host.width();t.left=a-l+2}return t.left<0&&(t.left=parseInt(this.host.coord().left)+"px"),t.top-=Math.min(t.top,t.top+r>o&&r<o?Math.abs(r+i+22):0),t},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var e=0,t=0;return"0px"!=v("body").css("border-top-width")&&(e=parseInt(v("body").css("border-top-width")),isNaN(e)&&(e=0)),"0px"!=v("body").css("border-left-width")&&(t=parseInt(v("body").css("border-left-width")),isNaN(t)&&(t=0)),{left:t,top:e}},showListBox:function(){if(v.jqx.aria(this,"aria-expanded",!0),this.listBox._renderOnDemand&&this.listBoxContainer.jqxListBox({_renderOnDemand:!1}),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&(-1!=this.width.indexOf("%")||-1!=this.width.indexOf("auto"))&&this.listBox.host.width()!=this.host.width()){var e=this.host.width();this.listBoxContainer.jqxListBox({width:e}),this.container.width(parseInt(e)+25)}var t,i=this,s=this.listBoxContainer,r=this.listBox,n=(v(window).scrollTop(),v(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),o=parseInt(Math.round(this.host.coord(!0).left));t=o+"px","element"===this.dropDownContainer&&(n=parseInt(this.host.outerHeight())-1+"px",t=0);var a=v.jqx.mobile.isSafariMobileBrowser()||v.jqx.mobile.isWindowsPhone();if(null!=this.listBox){this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),null!=a&&a&&(t=v.jqx.mobile.getLeftPos(this.element),n=v.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=v("body").css("border-top-width")&&(n=parseInt(n)-this._getBodyOffset().top+"px"),"0px"!=v("body").css("border-left-width")&&(t=parseInt(t)-this._getBodyOffset().left+"px")),s.stop(),"simple"!==this.renderMode&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),"top"==this.dropDownVerticalAlignment?this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")):this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this.container.css("left",t),this.container.css("top",n),r._arrange();var l=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var d=this.container.outerWidth(),h=Math.abs(d-this.host.width());d>this.host.width()?this.container.css("left",25+parseInt(Math.round(o))-h+"px"):this.container.css("left",25+parseInt(Math.round(o))+h+"px")}if("top"==this.dropDownVerticalAlignment){var c=s.height();l=!0,s.css("top",23),s.addClass(this.toThemeProperty("jqx-popup-up"));var u=parseInt(this.host.outerHeight()),p=parseInt(n)-Math.abs(c+u+23);this.container.css("top",p)}if(this.enableBrowserBoundsDetection){var m=this.testOffset(s,{left:parseInt(this.container.css("left")),top:parseInt(n)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=m.top?(l=!0,s.css("top",23),s.addClass(this.toThemeProperty("jqx-popup-up"))):s.css("top",0),this.container.css("top",m.top),parseInt(this.container.css("left"))!=m.left&&this.container.css("left",m.left)}if("none"==this.animationType)this.container.css("display","block"),v.data(document.body,"openedJQXListBoxParent",i),v.data(document.body,"openedJQXListBox"+this.id,s),s.css("margin-top",0),s.css("opacity",1),r._renderItems(),i._raiseEvent("0",r);else if(this.container.css("display","block"),i.isanimating=!0,"fade"==this.animationType)s.css("margin-top",0),s.css("opacity",0),s.animate({opacity:1},this.openDelay,function(){v.data(document.body,"openedJQXListBoxParent",i),v.data(document.body,"openedJQXListBox"+i.id,s),i.ishiding=!1,i.isanimating=!1,r._renderItems(),i._raiseEvent("0",r)});else{s.css("opacity",1);var f=s.outerHeight();l?s.css("margin-top",f):s.css("margin-top",-f),s.animate({"margin-top":0},this.openDelay,function(){v.data(document.body,"openedJQXListBoxParent",i),v.data(document.body,"openedJQXListBox"+i.id,s),i.ishiding=!1,i.isanimating=!1,r._renderItems(),i._raiseEvent("0",r)})}l?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),s.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),s.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),"simple"!==this.renderMode&&(s.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")))}},hideListBox:function(){v.jqx.aria(this,"aria-expanded",!1);var e=this.listBoxContainer,t=this.listBox,i=this.container,s=this;if(v.data(document.body,"openedJQXListBox"+this.id,null),"none"==this.animationType)this.container.css("display","none");else if(!s.ishiding){e.stop();var r=e.outerHeight();e.css("margin-top",0),s.isanimating=!0;var n=-r;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(n=r),"fade"==this.animationType?(e.css({opacity:1}),e.animate({opacity:0},this.closeDelay,function(){i.css("display","none"),s.isanimating=!1,s.ishiding=!1})):e.animate({"margin-top":n},this.closeDelay,function(){i.css("display","none"),s.isanimating=!1,s.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),e.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),e.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),e.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1",t)},closeOpenedListBox:function(e){var t=e.data.me,i=v(e.target),s=e.data.listbox;if(null==s)return!0;if(v(e.target).ischildof(e.data.me.host))return!0;if(!t.isOpened())return!0;if(v(e.target).ischildof(t.listBoxContainer))return!0;var r=!1;return v.each(i.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return!(r=!0);if(-1!=this.className.indexOf("jqx-dropdownlist"))return t.element.id==this.id&&(r=!0),!1}}),null!=s&&!r&&t.isOpened()&&t.hideListBox(),!0},clearFilter:function(){this.listBox.clearFilter()},loadFromSelect:function(e){this.listBox.loadFromSelect(e)},refresh:function(e){!0!==e&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var e=this,t=parseInt(e.host.width()),i=parseInt(e.host.height()),s=(e.arrowSize,e.arrowSize),r=t-s-6;if(0<r&&"auto"!==e.width?e.dropdownlistContent[0].style.width=r+"px":r<=0&&(e.dropdownlistContent[0].style.width="0px"),"auto"===e.width&&(e.dropdownlistContent.css("width","auto"),t=e.dropdownlistContent.width()+s+6,e.host.width(t)),e.dropdownlistContent[0].style.height=i+"px",e.dropdownlistContent[0].style.left="0px",e.dropdownlistContent[0].style.top="0px",e.dropdownlistArrow[0].style.width=s+"px",e.width&&0<=e.width.toString().indexOf("%")){var n=100*s/t,o=100*r/t;e.dropdownlistArrow[0].style.width=n+"%",e.dropdownlistContent[0].style.width=o+"%"}e.dropdownlistArrow[0].style.height=i+"px",e.rtl&&(e.dropdownlistArrow.css("float","left"),e.dropdownlistContent.css("float","right"))},destroy:function(){v.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id),this.removeHandlers(),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(v(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(v(document),v.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.arrow,delete this.dropdownlistContent,delete this.listBox,delete this._firstDiv,this.container.remove(),delete this.container;var e=v.data(this.element,"jqxDropDownList");e&&delete e.instance,this.host.removeData(),this.host.remove(),delete this.comboStructure,delete this.host,delete this.element},_raiseEvent:function(e,t){null==t&&(t={owner:null});var i=this.events[e];args=t,args.owner=this;var s=new v.Event(i);return s.owner=this,2!=e&&3!=e&&4!=e&&5!=e&&6!=e&&7!=e&&8!=e&&9!=e||(s.args=t),this.host.trigger(s)},propertiesChangedHandler:function(e,t,i){if(i.width&&i.height&&2==Object.keys(i).length){if(e._setSize(),"width"==t&&"auto"==e.dropDownWidth){var s=e.host.width();e.listBoxContainer.jqxListBox({width:s}),e.container.width(parseInt(s)+25)}e._arrange(),e.close()}},propertyChangedHandler:function(e,t,i,s){if(null!=e.isInitialized&&0!=e.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){if("template"==t&&(e.listBoxContainer.removeClass(e.toThemeProperty("jqx-"+i+"-item")),e.listBoxContainer.addClass(e.toThemeProperty("jqx-"+e.template+"-item")),e.host.removeClass(e.toThemeProperty("jqx-"+i)),e.host.addClass(e.toThemeProperty("jqx-"+e.template))),"dropDownVerticalAlignment"==t&&(e.arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up")),e.arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down")),"top"==e.dropDownVerticalAlignment?e.arrow.addClass(e.toThemeProperty("jqx-icon-arrow-up")):e.arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down")),e.listBoxContainer.css("top",0),e.listBoxContainer.removeClass(this.toThemeProperty("jqx-popup-up"))),"autoItemsHeight"==t&&e.listBoxContainer.jqxListBox({autoItemsHeight:s}),"filterable"==t&&e.listBoxContainer.jqxListBox({filterable:s}),"filterHeight"==t&&e.listBoxContainer.jqxListBox({filterHeight:s}),"filterPlaceHolder"==t&&e.listBoxContainer.jqxListBox({filterPlaceHolder:s}),"filterDelay"==t&&e.listBoxContainer.jqxListBox({filterDelay:s}),"enableSelection"==t&&e.listBoxContainer.jqxListBox({enableSelection:s}),"enableHover"==t&&e.listBoxContainer.jqxListBox({enableHover:s}),"autoOpen"==t&&e._updateHandlers(),"emptyString"==t&&(e.listBox.emptyString=e.emptyString),"itemHeight"==t&&e.listBoxContainer.jqxListBox({itemHeight:s}),"renderer"==t&&e.listBoxContainer.jqxListBox({renderer:s}),"rtl"==t&&(s?(e.dropdownlistArrow.css("float","left"),e.dropdownlistContent.css("float","right")):(e.dropdownlistArrow.css("float","right"),e.dropdownlistContent.css("float","left")),e.listBoxContainer.jqxListBox({rtl:e.rtl})),"source"==t&&(e.listBoxContainer.jqxListBox({source:e.source}),e.listBox.selectedIndex=-1,e.listBox.selectIndex(this.selectedIndex),e.renderSelection(),null==s&&e.clear()),"displayMember"!=t&&"valueMember"!=t||(e.listBoxContainer.jqxListBox({displayMember:e.displayMember,valueMember:e.valueMember}),e.renderSelection()),"placeHolder"==t&&e.renderSelection(),"theme"==t&&null!=s&&(e.listBoxContainer.jqxListBox({theme:s}),e.listBoxContainer.addClass(e.toThemeProperty("jqx-popup")),v.jqx.utilities.setTheme(i,s,e.host)),"autoDropDownHeight"==t&&(e.listBoxContainer.jqxListBox({autoHeight:e.autoDropDownHeight}),e.autoDropDownHeight?e.container.height(e.listBoxContainer.height()+25):(e.listBoxContainer.jqxListBox({height:e.dropDownHeight}),e.container.height(parseInt(e.dropDownHeight)+25)),e.listBox._arrange(),e.listBox._updatescrollbars()),"searchMode"==t&&e.listBoxContainer.jqxListBox({searchMode:e.searchMode}),"incrementalSearch"==t&&e.listBoxContainer.jqxListBox({incrementalSearch:e.incrementalSearch}),"incrementalSearchDelay"==t&&e.listBoxContainer.jqxListBox({incrementalSearchDelay:e.incrementalSearchDelay}),"dropDownHeight"==t&&(e.autoDropDownHeight||(e.listBoxContainer.jqxListBox({height:e.dropDownHeight}),e.container.height(parseInt(e.dropDownHeight)+25))),"dropDownWidth"==t||"scrollBarSize"==t){var r=e.width;"auto"!=e.dropDownWidth&&(r=e.dropDownWidth),e.listBoxContainer.jqxListBox({width:r,scrollBarSize:e.scrollBarSize}),e.container.width(parseInt(r)+25)}if(("width"==t||"height"==t)&&s!=i){if(this.refresh(),"width"==t&&"auto"==e.dropDownWidth){r=e.host.width();e.listBoxContainer.jqxListBox({width:r}),e.container.width(parseInt(r)+25)}e.close()}"checkboxes"==t&&e.listBoxContainer.jqxListBox({checkboxes:e.checkboxes}),"selectedIndex"==t&&null!=e.listBox&&(e.listBox.selectIndex(parseInt(s)),e.renderSelection())}}})}(jqxBaseFramework),function(q){q.jqx.jqxWidget("jqxEditor","",{}),q.extend(q.jqx._jqxEditor.prototype,{defineInstance:function(){var e={width:null,height:null,disabled:!1,pasteMode:"html",editable:!0,lineBreak:"default",changeType:null,toolbarPosition:"top",fontFamily:"sans-serif",commands:{bold:{tooltip:"Bold",command:"bold",type:"toggleButton"},italic:{tooltip:"Italic",command:"italic",type:"toggleButton"},underline:{tooltip:"Underline",command:"underline",type:"toggleButton"},format:{placeHolder:"Format Block",tooltip:"Format Block",command:"formatblock",value:[{value:"p",label:"Paragraph"},{value:"h1",label:"Header 1"},{value:"h2",label:"Header 2"},{value:"h3",label:"Header 3"},{value:"h4",label:"Header 4"}],type:"list",width:120,dropDownWidth:190,height:25},font:{placeHolder:"Font",tooltip:"Font Name",command:"fontname",value:[{label:"Arial",value:"Arial, Helvetica, sans-serif"},{label:"Comic Sans MS",value:'"Comic Sans MS", cursive, sans-serif'},{label:"Courier New",value:'"Courier New", Courier, monospace'},{label:"Georgia",value:"Georgia,serif"},{label:"Impact",value:"Impact,Charcoal,sans-serif"},{label:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{label:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{label:"Times New Roman",value:"'Times New Roman',Times,serif"},{label:"Trebuchet MS",value:'"Trebuchet MS",Helvetica,sans-serif'},{label:"Verdana",value:"Verdana,Geneva,sans-serif"}],type:"list",width:160,height:25,dropDownWidth:160},size:{placeHolder:"Size",tooltip:"Font Size",command:"fontsize",value:[{label:"1 (8pt)",value:"xx-small"},{label:"2 (10pt)",value:"x-small"},{label:"3 (12pt)",value:"small"},{label:"4 (14pt)",value:"medium"},{label:"5 (18pt)",value:"large"},{label:"6 (24pt)",value:"x-large"},{label:"7 (36pt)",value:"xx-large"}],type:"list",width:45,height:25,dropDownWidth:160},color:{tooltip:"Text Color",command:"forecolor",value:"#000",type:"colorPicker"},background:{tooltip:"Fill Color",command:"backcolor",value:"#fff",type:"colorPicker"},left:{tooltip:"Align Left",command:"justifyleft",type:"toggleButton"},center:{tooltip:"Align Center",command:"justifycenter",type:"toggleButton"},right:{tooltip:"Align Right",command:"justifyright",type:"toggleButton"},outdent:{tooltip:"Indent Less",command:"outdent",type:"button"},indent:{tooltip:"Indent More",command:"indent",type:"button"},ul:{tooltip:"Insert unordered list",command:"insertunorderedlist",type:"toggleButton"},ol:{tooltip:"Insert ordered list",command:"insertorderedlist",type:"toggleButton"},image:{tooltip:"Insert image",command:"insertimage",type:"button"},link:{tooltip:"Insert link",command:"createlink",type:"toggleButton"},html:{tooltip:"View source",command:"viewsource",type:"toggleButton"},clean:{tooltip:"Remove Formatting",command:"removeformat",type:"button"}},createCommand:null,defaultLocalization:{bold:"Bold",italic:"Italic",underline:"Underline",format:"Format Block",font:"Font Name",size:"Font Size",color:"Text Color",background:"Fill Color",left:"Align Left",center:"Align Center",right:"Align Right",outdent:"Indent Less",indent:"Indent More",ul:"Insert unordered list",ol:"Insert ordered list",image:"Insert image",link:"Insert link",html:"View source",clean:"Remove Formatting",Remove:"Remove",Ok:"Ok",Cancel:"Cancel",Change:"Change","Go to link":"Go to link","Open in a new window/tab":"Open in a new window/tab",Align:"Align",VSpace:"VSpace",HSpace:"HSpace",Width:"Width",Height:"Height",Title:"Title",URL:"URL","Insert Image":"Insert Image","Insert Link":"Insert Link","Alt Text":"Alt Text","not set":"&ltnot set&gt",Left:"Left",Right:"Right",Paragraph:"Paragraph",Header:"Header",Arial:"Arial","Comic Sans MS":"Comic Sans MS","Courier New":"Courier New",Georgia:"Georgia",Impact:"Impact","Lucida Console":"Lucida Console",Tahoma:"Tahoma","Times New Roman":"Times New Roman","Trebuchet MS":"Trebuchet MS",Verdana:"Verdana"},localization:null,tools:"bold italic underline | format font size | color background | left center right | outdent indent | ul ol | image | link | clean | html",readOnly:!1,stylesheets:new Array,rtl:!1,colorPickerTemplate:'<div class="jqx-editor-color-picker"><div role="grid"><table class="jqx-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (0, 0, 0)"><div title="RGB (0, 0, 0)" style="background-color: rgb(0, 0, 0);"></div></td><td aria-label="RGB (68, 68, 68)"><div title="RGB (68, 68, 68)" style="background-color: rgb(68, 68, 68);"></div></td><td aria-label="RGB (102, 102, 102)"><div title="RGB (102, 102, 102)" style="background-color: rgb(102, 102, 102);"></div></td><td aria-label="RGB (153, 153, 153)"><div title="RGB (153, 153, 153)" style="background-color: rgb(153, 153, 153);"></div></td><td aria-label="RGB (204, 204, 204)"><div title="RGB (204, 204, 204)" style="background-color: rgb(204, 204, 204);"></div></td><td aria-label="RGB (238, 238, 238)"><div title="RGB (238, 238, 238)" style="background-color: rgb(238, 238, 238);"></div></td><td aria-label="RGB (243, 243, 243)"><div title="RGB (243, 243, 243)" style="background-color: rgb(243, 243, 243);"></div></td><td aria-label="RGB (255, 255, 255)"><div title="RGB (255, 255, 255)" style="background-color: rgb(255, 255, 255);"></div></td></tr></tbody></table></div><div role="grid"><table class="jqx-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (255, 0, 0)"><div title="RGB (255, 0, 0)" style="background-color: rgb(255, 0, 0);"></div></td><td aria-label="RGB (255, 153, 0)"><div title="RGB (255, 153, 0)" style="background-color: rgb(255, 153, 0);"></div></td><td aria-label="RGB (255, 255, 0)"><div title="RGB (255, 255, 0)" style="background-color: rgb(255, 255, 0);"></div></td><td aria-label="RGB (0, 255, 0)"><div title="RGB (0, 255, 0)" style="background-color: rgb(0, 255, 0);"></div></td><td aria-label="RGB (0, 255, 255)"><div title="RGB (0, 255, 255)" style="background-color: rgb(0, 255, 255);"></div></td><td aria-label="RGB (0, 0, 255)"><div title="RGB (0, 0, 255)" style="background-color: rgb(0, 0, 255);"></div></td><td aria-label="RGB (153, 0, 255)"><div title="RGB (153, 0, 255)" style="background-color: rgb(153, 0, 255);"></div></td><td aria-label="RGB (255, 0, 255)"><div title="RGB (255, 0, 255)" style="background-color: rgb(255, 0, 255);"></div></td></tr></tbody></table></div><div role="grid"><table class="jqx-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (244, 204, 204)"><div title="RGB (244, 204, 204)" style="background-color: rgb(244, 204, 204);"></div></td><td aria-label="RGB (252, 229, 205)"><div title="RGB (252, 229, 205)" style="background-color: rgb(252, 229, 205);"></div></td><td aria-label="RGB (255, 242, 204)"><div title="RGB (255, 242, 204)" style="background-color: rgb(255, 242, 204);"></div></td><td aria-label="RGB (217, 234, 211)"><div title="RGB (217, 234, 211)" style="background-color: rgb(217, 234, 211);"></div></td><td aria-label="RGB (208, 224, 227)"><div title="RGB (208, 224, 227)" style="background-color: rgb(208, 224, 227);"></div></td><td aria-label="RGB (207, 226, 243)"><div title="RGB (207, 226, 243)" style="background-color: rgb(207, 226, 243);"></div></td><td aria-label="RGB (217, 210, 233)"><div title="RGB (217, 210, 233)" style="background-color: rgb(217, 210, 233);"></div></td><td aria-label="RGB (234, 209, 220)"><div title="RGB (234, 209, 220)" style="background-color: rgb(234, 209, 220);"></div></td></tr><tr><td id="T-Kw-Jn88" aria-label="RGB (234, 153, 153)"><div title="RGB (234, 153, 153)" style="background-color: rgb(234, 153, 153);"></div></td><td aria-label="RGB (249, 203, 156)"><div title="RGB (249, 203, 156)" style="background-color: rgb(249, 203, 156);"></div></td><td aria-label="RGB (255, 229, 153)"><div title="RGB (255, 229, 153)" style="background-color: rgb(255, 229, 153);"></div></td><td aria-label="RGB (182, 215, 168)"><div title="RGB (182, 215, 168)" style="background-color: rgb(182, 215, 168);"></div></td><td aria-label="RGB (162, 196, 201)"><div title="RGB (162, 196, 201)" style="background-color: rgb(162, 196, 201);"></div></td><td aria-label="RGB (159, 197, 232)"><div title="RGB (159, 197, 232)" style="background-color: rgb(159, 197, 232);"></div></td><td aria-label="RGB (180, 167, 214)"><div title="RGB (180, 167, 214)" style="background-color: rgb(180, 167, 214);"></div></td><td aria-label="RGB (213, 166, 189)"><div title="RGB (213, 166, 189)" style="background-color: rgb(213, 166, 189);"></div></td></tr><tr><td aria-label="RGB (224, 102, 102)"><div title="RGB (224, 102, 102)" style="background-color: rgb(224, 102, 102);"></div></td><td aria-label="RGB (246, 178, 107)"><div title="RGB (246, 178, 107)" style="background-color: rgb(246, 178, 107);"></div></td><td aria-label="RGB (255, 217, 102)"><div title="RGB (255, 217, 102)" style="background-color: rgb(255, 217, 102);"></div></td><td aria-label="RGB (147, 196, 125)"><div title="RGB (147, 196, 125)" style="background-color: rgb(147, 196, 125);"></div></td><td aria-label="RGB (118, 165, 175)"><div title="RGB (118, 165, 175)" style="background-color: rgb(118, 165, 175);"></div></td><td aria-label="RGB (111, 168, 220)"><div title="RGB (111, 168, 220)" style="background-color: rgb(111, 168, 220);"></div></td><td aria-label="RGB (142, 124, 195)"><div title="RGB (142, 124, 195)" style="background-color: rgb(142, 124, 195);"></div></td><td aria-label="RGB (194, 123, 160)"><div title="RGB (194, 123, 160)" style="background-color: rgb(194, 123, 160);"></div></td></tr><tr><td id="T-Kw-Jn104" aria-label="RGB (204, 0, 0)"><div title="RGB (204, 0, 0)" style="background-color: rgb(204, 0, 0);"></div></td><td aria-label="RGB (230, 145, 56)"><div title="RGB (230, 145, 56)" style="background-color: rgb(230, 145, 56);"></div></td><td aria-label="RGB (241, 194, 50)"><div title="RGB (241, 194, 50)" style="background-color: rgb(241, 194, 50);"></div></td><td aria-label="RGB (106, 168, 79)"><div title="RGB (106, 168, 79)" style="background-color: rgb(106, 168, 79);"></div></td><td aria-label="RGB (69, 129, 142)"><div title="RGB (69, 129, 142)" style="background-color: rgb(69, 129, 142);"></div></td><td aria-label="RGB (61, 133, 198)"><div title="RGB (61, 133, 198)" style="background-color: rgb(61, 133, 198);"></div></td><td aria-label="RGB (103, 78, 167)"><div title="RGB (103, 78, 167)" style="background-color: rgb(103, 78, 167);"></div></td><td aria-label="RGB (166, 77, 121)"><div title="RGB (166, 77, 121)" style="background-color: rgb(166, 77, 121);"></div></td></tr><tr><td aria-label="RGB (153, 0, 0)"><div title="RGB (153, 0, 0)" style="background-color: rgb(153, 0, 0);"></div></td><td aria-label="RGB (180, 95, 6)"><div title="RGB (180, 95, 6)" style="background-color: rgb(180, 95, 6);"></div></td><td aria-label="RGB (191, 144, 0)"><div title="RGB (191, 144, 0)" style="background-color: rgb(191, 144, 0);"></div></td><td aria-label="RGB (56, 118, 29)"><div title="RGB (56, 118, 29)" style="background-color: rgb(56, 118, 29);"></div></td><td aria-label="RGB (19, 79, 92)"><div title="RGB (19, 79, 92)" style="background-color: rgb(19, 79, 92);"></div></td><td aria-label="RGB (11, 83, 148)"><div title="RGB (11, 83, 148)" style="background-color: rgb(11, 83, 148);"></div></td><td aria-label="RGB (53, 28, 117)"><div title="RGB (53, 28, 117)" style="background-color: rgb(53, 28, 117);"></div></td><td aria-label="RGB (116, 27, 71)"><div title="RGB (116, 27, 71)" style="background-color: rgb(116, 27, 71);"></div></td></tr><tr><td aria-label="RGB (102, 0, 0)"><div title="RGB (102, 0, 0)" style="background-color: rgb(102, 0, 0);"></div></td><td aria-label="RGB (120, 63, 4)"><div title="RGB (120, 63, 4)" style="background-color: rgb(120, 63, 4);"></div></td><td aria-label="RGB (127, 96, 0)"><div title="RGB (127, 96, 0)" style="background-color: rgb(127, 96, 0);"></div></td><td aria-label="RGB (39, 78, 19)"><div title="RGB (39, 78, 19)" style="background-color: rgb(39, 78, 19);"></div></td><td aria-label="RGB (12, 52, 61)"><div title="RGB (12, 52, 61)" style="background-color: rgb(12, 52, 61);"></div></td><td aria-label="RGB (7, 55, 99)"><div title="RGB (7, 55, 99)" style="background-color: rgb(7, 55, 99);"></div></td><td aria-label="RGB (32, 18, 77)"><div title="RGB (32, 18, 77)" style="background-color: rgb(32, 18, 77);"></div></td><td aria-label="RGB (76, 17, 48)"><div title="RGB (76, 17, 48)" style="background-color: rgb(76, 17, 48);"></div></td></tr></tbody></table></div></div>',touchMode:!1,keyPressed:null,events:["change"]};return this===q.jqx._jqxEditor.prototype||(q.extend(!0,this,e),this.localization=this.defaultLocalization),e},createInstance:function(e){var r=this;r.textArea=r.host;var t=r.host.attr("contenteditable");if(r.host.addClass(r.toThemeProperty("jqx-widget")),1==t||"true"==t){r.inline=!0,r.widget=r.host,r.editorDocument=document,r.selection=new l(r.editorDocument);var i=q("<div class='jqx-editor-toolbar-container' unselectable='on' aria-label='Formatting options' role='toolbar'><div class='jqx-editor-toolbar'></div>");i.insertBefore(r.host),r.toolbarContainer=i,r.toolbar=i.find(".jqx-editor-toolbar"),r.editor=r.host,r.contentEditableElement=r.element}else{var n=q("<div class='jqx-editor'><div class='jqx-editor-container'><div class='jqx-editor-toolbar-container' aria-label='Formatting options' role='toolbar'><div class='jqx-editor-toolbar'></div></div><div class='jqx-editor-content'><iframe  src='javascript:\"<html></html>\"' allowtransparency='true' frameborder='0'></iframe></div></div></div>");r.widget=n,r.widget[0].className=r.widget[0].className+" "+r.element.className;try{r.widget[0].style=r.element.style}catch(e){}var o=q.trim(r.host.html())+"&#8203;";"default"==r.lineBreak||"div"==r.lineBreak?o="<div>"+o+"</div>":"p"==r.lineBreak&&(o="<p>"+o+"</p>"),o=(o=o.replace(/&lt;/gi,"<")).replace(/&gt;/gi,">"),r.host.css("display","none"),r.host.after(n),n.find("iframe").after(r.host),r.container=n.find(".jqx-editor-container"),r.toolbarContainer=n.find(".jqx-editor-toolbar-container"),r.toolbar=n.find(".jqx-editor-toolbar"),r.iframe=n.find("iframe"),r.content=n.find(".jqx-editor-content");var a=function(){r.editorDocument=r.iframe[0].contentWindow.document,r.selection=new l(r.editorDocument);var e=0;r.addHandler(r.iframe,"load",function(){if(1<++e){r.iframe.off("load"),r.content.find("iframe").remove();q("<iframe  src='javascript:\"<html></html>\"' allowtransparency='true' frameborder='0'></iframe>").appendTo(r.content);r.iframe=n.find("iframe"),a()}}),q.jqx.browser.mozilla||(r.editorDocument.designMode="On"),r.editorDocument.open();var t,i=r.rtl?"direction:rtl;":"",s=q.jqx.browser.msie?"::selection{color: #fff; background: #328EFD;};::-moz-selection{color: #fff; background: #328eD;};::selection:window-inactive {background: #c7c7c7; color: #000;}::-moz-selection:window-inactive {background: #c7c7c7; color: #000;}html{font-size:13px; height:100%;}body{padding-top:1px;margin-top:-1px; padding-right: 1px; overflow-x: hidden;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;":"";(r.editorDocument.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0; margin:0; font-size: 13px; font-family: "+r.fontFamily+"; background:#fff; min-height:100%; "+i+"}"+s+"}h1{font-size:2em;margin:.67em 0}h2{font-size: 1.5em; margin: .75em 0}h3{font-size: 1.17em; margin: .83em 0}h4{font-size:1em; margin: 1.12em 0 }h5{font-size: .83em; margin: 1.5em 0}h6{font-size: .75em; margin: 1.67em 0}p{margin: 0px;padding:0 .2em}ul,ol{padding-left:2.5em}a{color:#00a}code{font-size:1.23em}.jqx-editor-paste-element {position: absolute; left: -1000px; height: 1px; overflow: hidden; top: -1000px;}.jqx-editor-focus {border: 1px solid #aaa !important;}</style>"+q.map(r.stylesheets,function(e){return"<link rel='stylesheet' href='"+e+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>"),r.contentEditableElement=r.editorDocument.body,r.host.is("textarea"))?(r._textArea=r.element,(t=r.host.data()).jqxEditor.host=n,t.jqxEditor.element=n[0],r.element=n[0],n[0].id=r._textArea.id,r._textArea.id=r._textArea.id+"TextArea",q(r.element).addClass(r.toThemeProperty("jqx-widget")),r.host=q(r.element),r.host.data(t)):((t=r.host.data()).jqxEditor.host=n,t.jqxEditor.element=n[0],r.element=n[0],r.host=q(r.element),r.host.data(t));try{r.editorDocument.execCommand("useCSS",!1,!1),r.editorDocument.execCommand("enableInlineTableEditing",null,!1)}catch(e){}try{r.editorDocument.execCommand("styleWithCSS",0,!0)}catch(e){}r.editorDocument.close(),r.editor=q(r.editorDocument.body),r.editor.html(o).attr("spellcheck",!1).attr("autocorrect","off")};a(),q.jqx.utilities.resize(r.host,function(){r.widget.css("width",r.width),r.widget.css("height",r.height),r._arrange()})}},focus:function(){var e=this;q.jqx.browser.mozilla&&(e.focused||(e.iframe&&e.iframe.focus(),e.selection.selectNode(e.editor[0].firstChild,!0),e.selection.getRange().collapse(!0))),e.editor.focus();var t=null!=e.range?e.range:e.getRange();e.selectRange(t)},print:function(){var e=window.open("","_blank","width=450,height=470,left=400,top=100,menubar=yes,toolbar=no,location=no,scrollbars=yes");e.document.open(),e.document.write('<!doctype html><html><head><title>Print</title></head><body onload="print();">'+this.val()+"</body></html>"),e.document.close()},refresh:function(e){var j=this;q.each(this.defaultLocalization,function(e,t){j.localization[e]||(j.localization[e]=t)}),j._removeHandlers(),j.toolbar.addClass(j.toThemeProperty("jqx-widget-header")),j.content?(j.widget.css("width",j.width),j.widget.css("height",j.height),j.widget.addClass(j.toThemeProperty("jqx-editor")),j.widget.addClass(j.toThemeProperty("jqx-widget")),j.widget.addClass(j.toThemeProperty("jqx-rc-all")),j.widget.addClass(j.toThemeProperty("jqx-widget-header")),j.content.addClass(j.toThemeProperty("jqx-widget-content")),j.container.addClass(j.toThemeProperty("jqx-editor-container"))):(j.toolbarContainer.addClass(j.toThemeProperty("jqx-widget-header")),j.toolbarContainer.addClass(j.toThemeProperty("jqx-editor-toolbar-inline")),j.toolbarContainer.addClass(j.toThemeProperty("jqx-widget")),j.toolbarContainer.addClass(j.toThemeProperty("jqx-rc-all")),j.toolbarContainer.hide(),j.toolbarContainer.css("position","absolute"),j.editor.addClass(j.toThemeProperty("jqx-editor-inline")),j.toolbarContainer.css("width",j.host.outerWidth()+"px"));var t=j.toolbarContainer.index();if("top"==j.toolbarPosition&&0!=t||"bottom"==j.toolbarPosition&&1!=t)switch(j.toolbarPosition){case"bottom":j.toolbarContainer.insertAfter(j.content);break;case"top":default:j.toolbarContainer.insertBefore(j.content)}var i=j.tools;if(!1!==i){var s=i.split(" "),r=i.split(" | "),n=function(b,_){q.each(_,function(e,t){var c=j.commands[this];if(c){if(j.createCommand){var i=j.createCommand(this.toString());c=q.extend(c,i)}}else{if(!j.createCommand)return!0;if(!(c=j.createCommand(this.toString())))return!0;j.commands[this]||(j.commands[this]=c)}switch(j.localization[this]&&(c.tooltip=j.localization[this]),c.type){case"list":c.widget&&c.widget.jqxDropDownList("destroy");var s="formatblock"==c.command||"fontname"==c.command||"fontsize"==c.command,r=c.value||[],n=new Array,o=c.placeHolder||"Please Choose:";"fontname"==c.command?q.each(r,function(){var e=j.localization[this.label];n.push({label:e,value:this.value})}):"formatblock"==c.command?(o=j.localization.format,q.each(r,function(){if(0<=this.label.indexOf("Header"))var e=this.label.replace("Header",j.localization.Header);else e=j.localization[this.label];n.push({label:e,value:this.value})})):n=r;var a={enableBrowserBoundsDetection:!0,touchMode:j.touchMode,width:c.width||100,height:c.height||25,dropDownWidth:c.dropDownWidth||"auto",autoDropDownHeight:(c.value&&c.value.length)<12,placeHolder:o,source:n,theme:j.theme,keyboardSelection:!1,focusable:!1,disabled:j.disabled,rtl:j.rtl,selectionRenderer:"fontsize"==c.command?function(){return"<div unselectable='on' style='margin-top: 0px; padding:0px;' class='"+j.toThemeProperty("jqx-editor-toolbar-icon")+" "+j.toThemeProperty("jqx-editor-toolbar-icon-"+c.command)+"'></div>"}:null,renderer:s?function(e,t,i){return"formatblock"==c.command?"<"+i+' unselectable="on" style="padding: 0px; margin: 0px;">'+t+"</"+i+">":"fontname"==c.command?'<span unselectable="on" style="font-family: '+i+';">'+t+"<span>":"fontsize"==c.command?'<span unselectable="on" style="font-size: '+i+';">'+t+"<span>":void 0}:null},l="jqx-disableselect "+j.toThemeProperty("jqx-editor-dropdownlist")+" "+j.toThemeProperty("jqx-editor-toolbar-item");(y=q("<div unselectable='on' class='"+l+"'></div>")).appendTo(b),y.jqxDropDownList(a),c.init&&c.init(y);t=null;var d=null,h="";j.addHandler(y,"mousedown",function(e){if(0<q(".jqx-editor-dropdownpicker").length&&q(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),0<q(".jqx-editor-dropdownlist").length){var t=q(".jqx-editor-dropdownlist");q.each(t,function(e,t){t!=y[0]&&q(t).jqxDropDownList("close")})}}),j.addHandler(y,"open",function(e){j.focused||j.focus(),j.updating=!0,j.activeElement=y,t=y.val(),h=""}),j.addHandler(y,"change",function(e){j.updating=!1,j.activeElement=null,d=y.val(),h=e.args.type,q.jqx.browser.msie&&q.jqx.browser.version<9&&j.focus()}),j.addHandler(y,"close",function(e){j.updating=!1,j.activeElement=null,t!=d&&("mouse"!=h&&"keyboard"!=h||j._refreshTools())}),j._addCommandHandler(y,"change",c.command,null,c);break;case"colorPicker":c.widget&&(q(c.colorPicker).remove(),c.widget.jqxDropDownButton("destroy"));var u=q('<div unselectable="on" style="padding-top: 4px;"></div>').attr("id","picker-"+c.command);l="jqx-disableselect "+j.toThemeProperty("jqx-editor-dropdownpicker")+" "+j.toThemeProperty("jqx-editor-toolbar-item");(y=q("<div unselectable='on' class='"+l+"'></div>")).appendTo(b),y.append(u),y.jqxDropDownButton({touchMode:j.touchMode,disabled:j.disabled,enableBrowserBoundsDetection:!0,width:c.width||45,height:c.height||25,rtl:j.rtl,focusable:!1,theme:j.theme});var p=q('<div unselectable="on" style="z-index: 55;">'),m=j.toThemeProperty("jqx-editor-toolbar-icon")+" "+j.toThemeProperty("jqx-editor-toolbar-icon-"+c.command),f=q("<div unselectable='on' class='"+m+"'></div>");p.append(f);var g=q('<div unselectable="on" class="jqx-editor-color-bar">').attr("id","bar-"+c.command).css("background-color",c.value);p.append(g),y.jqxDropDownButton("setContent",p),u.append(q(j.colorPickerTemplate)),c.colorPicker=u,c.init&&c.init(y),u.find("tr").attr("role","row").attr("unselectable","on"),u.find("td").attr("role","gridcell").attr("unselectable","on").css("-webkit-user-select","none"),u.find("div").attr("unselectable","on"),j.addHandler(y,"mousedown",function(e){if(0<q(".jqx-editor-dropdownlist").length&&q(".jqx-editor-dropdownlist").jqxDropDownList("close"),0<q(".jqx-editor-dropdownpicker").length){var t=q(".jqx-editor-dropdownpicker");q.each(t,function(e,t){t!=y[0]&&q(t).jqxDropDownButton("close")})}}),j.addHandler(y,"open",function(){j.focused||j.focus(),j.updating=!0,j.activeElement=u}),j.addHandler(y,"close",function(e){j.updating=!1,j.activeElement=null,t!=d&&("mouse"!=h&&"keyboard"!=h||j._refreshTools())}),j.addHandler(u,"keydown",function(e){var t=e.keyCode,i=q(u).find(".jqx-editor-color-picker-selected-cell"),s=u.find("tr"),r=s.length,n=i.parent().children().length,o=i.index(),a=-999,l=i.parent();switch(q.each(s,function(e,t){if(this==l[0])return a=e,!1}),t){case 27:y.jqxDropDownButton("close");break;case 13:q(i).trigger("mousedown");break;case 38:a--;break;case 40:a++;break;case 39:o++;break;case 37:o--}if(0<=a&&a<=r&&0<=o&&o<=n){l=u.find("tr")[a];var d=q(l).children()[o],h=q(d).children().css("background-color");c.val(h)}});var v=q(u).find("td");c.val=function(e){var t=j._rgbToHex(e);q.each(v,function(){var e=q(this).children().css("background-color");if(j._rgbToHex(e)==t)return v.removeClass("jqx-editor-color-picker-selected-cell"),q(this).addClass("jqx-editor-color-picker-selected-cell"),q("#bar-"+c.command).css("background",e),!1})},c.val(c.value),j._addCommandHandler(v,"mousedown",c.command,null,c);break;case"button":case"toggleButton":default:c.widget&&("button"==c.type?c.widget.jqxButton("destroy"):c.widget.jqxToggleButton("destroy"));var x=c.command,w=c.action,y=(m=j.toThemeProperty("jqx-editor-toolbar-icon")+" "+j.toThemeProperty("jqx-editor-toolbar-icon-"+x),f=q("<div unselectable='on' class='"+m+"'></div>"),q("<div unselectable='on'></div>").addClass("jqx-disableselect").addClass(j.toThemeProperty("jqx-editor-toolbar-button")));c.init?x&&y.append(f):y.append(f),y.appendTo(b),"button"==c.type?y.jqxButton({disabled:j.disabled,rtl:j.rtl,theme:j.theme}):"toggleButton"==c.type&&y.jqxToggleButton({disabled:j.disabled,rtl:j.rtl,uiToggle:!1,theme:j.theme}),c.init&&c.init(y),c.toggled=!1,c.toggle=function(){c.toggled=!c.toggled},j.addHandler(y,"mousedown",function(e){return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1}),q.jqx.mobile.isTouchDevice()?j._addCommandHandler(y,"mousedown",x,w,c):j._addCommandHandler(y,"click",x,w,c)}if(c.widget=y){try{""!=c.tooltip&&(c.widget.attr("title",c.tooltip),c.widget.attr("data-tooltip",c.tooltip)),c.command&&c.widget.attr("data-command",c.command),c.widget.attr("aria-label",c.tooltip)}catch(e){}"button"!=c.type&&"toggleButton"!=c.type||(2<_.length&&(0==e?(y.css("border-right-radius","0px"),y.addClass(j.toThemeProperty("jqx-rc-l"))):e==_.length-1&&(y.css("border-left-radius","0px"),y.addClass(j.toThemeProperty("jqx-rc-r"))),y.removeClass(j.toThemeProperty("jqx-rc-all"))),0!=e&&e!=_.length-1&&2<_.length?(y.css("border-left-radius","0px"),y.css("border-right-radius","0px"),y.removeClass(j.toThemeProperty("jqx-rc-all"))):2==_.length?(0==e?(y.css("border-right-radius","0px"),y.addClass(j.toThemeProperty("jqx-rc-l"))):(y.css("border-left-radius","0px"),y.addClass(j.toThemeProperty("jqx-rc-r"))),y.removeClass(j.toThemeProperty("jqx-rc-all"))):1==_.length&&y.css("margin-right","0px"))}})};if(j.toolbar.css("direction",this.rtl?"rtl":"ltr"),0==r.length)n(j.toolbar,s);else{for(var o=0;o<r.length;o++){s=r[o].split(" ");var a=j.toThemeProperty("jqx-editor-toolbar-group")+" "+j.toThemeProperty("jqx-fill-state-normal"),l=q("<div class='"+a+"'></div>");l.addClass(j.toThemeProperty("jqx-rc-all")),j.toolbar.append(l),n(l,s)}var d=j.toolbar.find(".jqx-editor-toolbar-group"),h=d.length;for(o=0;o<h;o++)0==q(d[o]).children().length&&q(d[o]).remove()}q.jqx.browser.msie&&q.jqx.browser.version<8&&(q(".jqx-editor-toolbar-group").css("float","left"),q(".jqx-editor-toolbar-group").children().css("float","left"),q(".jqx-editor-toolbar-group").css("zoom","1"),q(".jqx-editor-toolbar-group").children().css("zoom","1"))}j._arrange(),j._addHandlers()},_arrange:function(){var e=this;e.content&&(""==e.tools||0==e.tools?(e.content.height(e.container.outerHeight()-parseInt(e.container.css("padding-top"))-parseInt(e.container.css("padding-bottom"))-6),e.content.css("margin-top","4px"),e.toolbar.hide()):(e.toolbar.show(),e.content.css("margin-top","0px"),e.content.height(e.container.outerHeight()-e.toolbar.outerHeight()-parseInt(e.container.css("padding-top"))-parseInt(e.container.css("padding-bottom"))-2),"top"!=e.toolbarPosition&&(e.content.css("margin-top","4px"),e.content.css("margin-bottom","0px"))),q.jqx.browser.msie&&q.jqx.browser.version<8&&(e.content.css("margin-top","4px"),e.content.height(e.container.height()-e.toolbar.outerHeight()-2*parseInt(e.container.css("padding-bottom"))-10),e.content.width(e.container.width()-2*parseInt(e.container.css("padding-left"))-2)),e.editor.height()<e.content.height()&&e.editor.height(e.content.height()))},propertyChangedHandler:function(e,t,i,s){var r=e;null!=r.isInitialized&&0!=r.isInitialized&&"pasteMode"!=t&&"lineBreak"!=t&&"editable"!=t&&("disabled"==t&&e._refreshTools(),"width"!=t&&"height"!=t&&"toolbarPosition"!=t?("theme"==t&&q.jqx.utilities.setTheme(i,s,e.host),e.refresh()):e._arrange())},selectRange:function(e){e||(e=this.getRange()),this.selection.selectRange(e)},getRange:function(){return this.selection.getRange()},getSelectedElement:function(){var e,t,i,s;try{if(this.editorDocument.getSelection){var r=this.editorDocument.getSelection();return i=(e=r.getRangeAt(r.rangeCount-1)).startContainer,s=e.endContainer,t=e.commonAncestorContainer,"#text"==i.nodeName&&(t=t.parentNode),"#text"==i.nodeName&&(i=i.parentNode),"body"==i.nodeName.toLowerCase()&&(i=i.firstChild),"#text"==s.nodeName&&(s=s.parentNode),"body"==s.nodeName.toLowerCase()&&(s=s.lastChild),i==s&&(t=i),s}if(this.editorDocument.selection){if(!(e=this.editorDocument.selection.createRange()).duplicate)return null;t=e.parentElement();var n=e.duplicate(),o=e.duplicate();return n.collapse(!0),o.moveToElementText(n.parentElement()),o.setEndPoint("EndToStart",n),i=n.parentElement(),n=e.duplicate(),(o=e.duplicate()).collapse(!1),n.moveToElementText(o.parentElement()),n.setEndPoint("StartToEnd",o),s=o.parentElement(),"body"==i.nodeName.toLowerCase()&&(i=i.firstChild),"body"==s.nodeName.toLowerCase()&&(s=s.lastChild),i==s&&(t=i),s}}catch(e){return null}return null},_addHandlers:function(){var c=this;c.addHandler(c.toolbar,"mousedown.editor"+c.element.id,function(e){return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1});var t=function(){if(c._textArea&&(c.updating||(c._textArea.value=c.val())),c.changed&&(c._raiseEvent("change"),c.changed=!1),c.focused=!1,c.inline){if(c.host.removeClass(c.toThemeProperty("jqx-fill-state-focus")),c.host.removeClass(c.toThemeProperty("jqx-editor-inline-focus")),""==c.tools||null==c.tools)return;c.toolbarContainer.fadeOut("fast")}},u=function(){if(c.focused=!0,c.inline){if(c.host.addClass(c.toThemeProperty("jqx-fill-state-focus")),c.host.addClass(c.toThemeProperty("jqx-editor-inline-focus")),c.host.addClass(c.toThemeProperty("jqx-rc-all")),""==c.tools||null==c.tools)return;c.toolbarContainer.fadeIn("fast");var e=c.host.coord();"bottom"!=c.toolbarPosition?c.toolbarContainer.offset({left:e.left,top:e.top-c.toolbarContainer.outerHeight()-5}):c.toolbarContainer.offset({left:e.left,top:e.top+5+c.host.height()})}};q.jqx.browser.mozilla&&this.addHandler(q(document),"mousedown.editor"+c.element.id,function(e){t()}),c.addHandler(c.editor,"blur.editor"+c.element.id,function(e){t()}),c.addHandler(c.editor,"focus.editor"+c.element.id,function(e){u()}),c.addHandler(c.editor,"beforedeactivate.editor"+c.element.id,function(e){c.range=c.getRange()}),c.addHandler(c.editor,"mousedown.editor"+c.element.id,function(e){e.target.href||c.linkPopup&&c.linkPopup.remove(),c.range=c.getRange(),q.jqx.browser.mozilla&&(u(),e.stopPropagation()),0<q(".jqx-editor-dropdownpicker").length&&q(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),0<q(".jqx-editor-dropdownlist").length&&q(".jqx-editor-dropdownlist").jqxDropDownList("close"),c.inline&&c.editor.focus()}),q.jqx.mobile.isTouchDevice()&&(c.addHandler(q(c.editorDocument),"selectionchange.editor"+c.element.id,function(){c.editorDocument.activeElement!=c.editor[0]&&setTimeout(function(){c.iframe&&c.iframe[0].contentWindow.focus()},500)}),c.addHandler(q(c.editorDocument),"touchstart.editor"+c.element.id,function(){setTimeout(function(){c.iframe&&c.iframe[0].contentWindow.focus()},500)})),c.addHandler(c.editor,"mouseup.editor"+c.element.id,function(e){if("source"==c._documentMode)return!0;c.range=c.getRange(),c._refreshTools(null,!0)}),c.addHandler(c.editor,"keydown.editor"+c.element.id,function(e){if(c.keyPressed&&c.keyPressed(e),"source"==c._documentMode)return!0;if(q.jqx.browser.mozilla&&(c.focused||u()),c.changeType="keyboard",c.disabled)return e.preventDefault&&e.preventDefault(),!1;if(c.updating){if(c.activeElement){var t=q.Event("keydown");q.extend(t,e),c.activeElement.trigger(t)}return e.preventDefault&&e.preventDefault(),!1}var i=e||window.event,s=i.keyCode,r=String.fromCharCode(s).toLowerCase();if(!c.editable){var n=[9,33,34,35,36,37,38,39,40,40,45];-1!=q.inArray(i.keyCode,n)||i.ctrlKey&&"c"==r||i.ctrlKey&&"a"==r||e.preventDefault()}if(0<c.selection.getText().length||c.linkPopup){n=[8,9,13,33,34,35,36,37,38,39,40,40,45,46];(-1!=!q.inArray(i.keyCode,n)||65==i.keyCode&&i.ctrlKey&&!i.altKey&&!i.shiftKey)&&(c._refreshToolsTimer&&clearTimeout(c._refreshToolsTimer),c._refreshToolsTimer=setTimeout(function(){c._refreshTools(null,!0,i.keyCode)},10))}if(13==s&&"default"!=c.lineBreak){var o=c.getSelectedElement();if(o){switch(o.nodeName.toLowerCase()){case"pre":case"li":case"ul":case"ol":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return!0}for(var a=o;null!=a;){if("#document"==a.nodeName){a=c.editorDocument.body;break}if(a.parentNode==c.editorDocument.body||a==c.editorDocument.body)break;a=a.parentNode}}if(a){var l=c.getRange();"<div></div>"==c.editorDocument.body.innerHTML&&"br"!=c.lineBreak&&c.selection.insertContent("&#8203;"),"div"==c.lineBreak?a==c.editorDocument.body?q(a).append("<div>&#8203;</div><span id='INSERTION_MARKER'>&nbsp;</span>"):q("<div>&#8203;</div><span id='INSERTION_MARKER'>&nbsp;</span>").insertAfter(a):"p"==c.lineBreak?a==c.editorDocument.body?q(a).append("<p>&#8203;</p><span id='INSERTION_MARKER'>&nbsp;</span>"):q("<p>&#8203;</p><span id='INSERTION_MARKER'>&nbsp;</span>").insertAfter(a):c.execute("insertHTML","<br/>&#8203;<span id='INSERTION_MARKER'>&nbsp;</span>"),c.selectRange(l);var d=q(c.editorDocument).find("#INSERTION_MARKER");return"br"!=c.lineBreak?c.selection.selectNode(q(d).prev()[0],!0):(c.selection.selectNode(d[0],!0),c.getRange().setStartAfter&&c.getRange().setStartAfter(d[0])),d.remove(),c.selection.collapse(!1),a&&a.nodeName&&"br"==c.lineBreak&&"#text"!=a.nodeName.toLowerCase()&&(c.selection.selectNode(a,!0),c.getRange().setStartAfter&&c.getRange().setStartAfter(a),c.selection.collapse(!1)),"br"!=c.lineBreak&&(l=c.getRange()).select&&l.select(),e.preventDefault&&e.preventDefault(),!1}}if(i.ctrlKey&&("k"==r||"u"==r||"b"==r||"i"==r)){e.preventDefault&&e.preventDefault();var h=null;switch(r){case"k":h="link";break;case"u":h="underline";break;case"b":h="bold";break;case"i":h="italic"}return c.commands[h].widget&&c.commands[h].widget.trigger("click"),!1}}),c.addHandler(c.editor,"paste.editor"+c.element.id,function(e){if("source"==c._documentMode)return!0;if(c.readOnly)return!0;c.updating=!0,c.readOnly=!0;try{var d=c.getRange();"text"!=c.pasteMode||q.jqx.browser.mozilla?c.selection.insertContent('<div class="jqx-editor-paste-element">&nbsp;</div>'):c.selection.insertContent('<textarea cols="50" contenteditable="false" class="jqx-editor-paste-element"></textarea>');var t=q(window).scrollTop(),i=q(c.editorDocument).find(".jqx-editor-paste-element");if(i.css("top",t+"px"),c.editor[0].createTextRange){e.preventDefault();var s=c.editor[0].createTextRange();s.moveToElementText(i[0]),s.execCommand("Paste")}else{var r=c.editorDocument.createRange();r.selectNodeContents(i[0]),c.selectRange(r)}"text"!=c.pasteMode||q.jqx.browser.mozilla||i.select(),c.marker=i,setTimeout(function(){c.selectRange(d);var e=function(e){var t=c.editorDocument.createElement("div"),i=c.editorDocument.createDocumentFragment();for(t.innerHTML=e;t.firstChild;)i.appendChild(t.firstChild);return i};if("text"!=c.pasteMode){var t=e(c.marker.html());if(t.firstChild&&"jqx-editor-paste-element"===t.firstChild.className){for(var i=[],s=0,r=t.childNodes.length;s<r;s++)i.push(t.childNodes[s].innerHTML);t=e(i.join("<br />"))}var n=document.createElement("div");n.appendChild(t.cloneNode(!0));var o=n.innerHTML}else{o=c.marker.val();if(""!=c.marker.html()&&-1==c.marker.val().indexOf("\n")){o=(o=(o=(o=(o=(o=c.marker.html()).replace(/&nbsp;/gm,"")).replace(/\n\n/gm,"\n")).replace(/<br[^>]*>/gi,"\n")).replace(/<li[^>]*>/gi,"\n")).replace(/<p[^>]*>/gi,"\n"),c.marker.html(o);o=c.marker.text()}}var a=function(e,t){t?e=c.paragraphise?(e=(e="<p>"+e+"</p>").replace(/\n/g,"</p><p>")).replace(/<p>\s<\/p>/gi,""):e.replace(/\n/g,"<br />"):((e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/<html[^>]*?>(.*)/gim,"$1")).replace(/<\/html>/gi,"")).replace(/<body[^>]*?>(.*)/gi,"$1")).replace(/<\/body>/gi,"")).replace(/<style[^>]*?>[\s\S]*?<\/style[^>]*>/gi,"")).replace(/<(?:meta|link)[^>]*>\s*/gi,"")).replace(/<\\?\?xml[^>]*>/gi,"")).replace(/<w:[^>]*>[\s\S]*?<\/w:[^>]*>/gi,"")).replace(/<o:p>\s*<\/o:p>/g,"")).replace(/<o:p>[\s\S]*?<\/o:p>/g,"&nbsp;")).replace(/<\/?\w+:[^>]*>/gi,"")).replace(/<\!--[\s\S]*?-->/g,"")).replace(/<\!\[[\s\S]*?\]>/g,"")).replace(/\s*mso-[^:]+:[^;"']+;?/gi,"")).replace(/<(\w[^>]*) style='([^\']*)'([^>]*)/gim,"<$1$3")).replace(/<(\w[^>]*) style="([^\"]*)"([^>]*)/gim,"<$1$3")).replace(/\s*margin: 0cm 0cm 0pt\s*;/gi,"")).replace(/\s*margin: 0cm 0cm 0pt\s*"/gi,'"')).replace(/\s*text-indent: 0cm\s*;/gi,"")).replace(/\s*text-indent: 0cm\s*"/gi,'"')).replace(/\s*text-align: [^\s;]+;?"/gi,'"')).replace(/\s*page-break-before: [^\s;]+;?"/gi,'"')).replace(/\s*font-variant: [^\s;]+;?"/gi,'"')).replace(/\s*tab-stops:[^;"']*;?/gi,"")).replace(/\s*tab-stops:[^"']*/gi,"")).replace(/\s*face="[^"']*"/gi,"")).replace(/\s*face=[^ >]*/gi,"")).replace(/\s*font-family:[^;"']*;?/gi,"")).replace(/\s*font-size:[^;"']*;?/gi,"")).replace(/<(\w[^>]*) class=([^ |>]*)([^>]*)/gi,"<$1$3")).replace(/<(\w+)[^>]*\sstyle="[^"']*display\s?:\s?none[\s \S]*?<\/\1>/gi,"")).replace(/\s*style='\s*'/gi,"")).replace(/\s*style="\s*"/gi,"")).replace(/<span\s*[^>]*>\s*&nbsp;\s*<\/span>/gi,"&nbsp;")).replace(/<span\s*[^>]*><\/span>/gi,"")).replace(/<(\w[^>]*) align=([^ |>]*)([^>]*)/gi,"<$1$3")).replace(/<(\w[^>]*) lang=([^ |>]*)([^>]*)/gi,"<$1$3")).replace(/<span([^>]*)>([\s\S]*?)<\/span>/gi,"$2")).replace(/<font\s*>([\s\S]*?)<\/font>/gi,"$1")).replace(/<(u|i|strike)>&nbsp;<\/\1>/gi,"&nbsp;")).replace(/<h\d>\s*<\/h\d>/gi,"")).replace(/<(\w[^>]*) language=([^ |>]*)([^>]*)/gi,"<$1$3")).replace(/<(\w[^>]*) onmouseover="([^\"']*)"([^>]*)/gi,"<$1$3")).replace(/<(\w[^>]*) onmouseout="([^\"']*)"([^>]*)/gi,"<$1$3")).replace(/<h(\d)([^>]*)>/gi,"<h$1>")).replace(/<(h\d)><font[^>]*>([\s\S]*?)<\/font><\/\1>/gi,"<$1>$2</$1>")).replace(/<(h\d)><em>([\s\S]*?)<\/em><\/\1>/gi,"<$1>$2</$1>")).replace(/<b\b[^>]*>(.*?)<\/b[^>]*>/gi,"<strong>$1</strong>")).replace(/<i\b[^>]*>(.*?)<\/i[^>]*>/gi,"<em>$1</em>")).replace(/<\s+[^>]*>/gi,"")).replace(/<span>([\s\S]*?)<\/span>/gi,"$1")).replace(/<span>([\s\S]*?)<\/span>/gi,"$1")).replace(/<div>([\s\S]*?)<\/div>/gi,"$1")).replace(/<div>([\s\S]*?)<\/div>/gi,"$1")).replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,"")).replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,"")).replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,"")).trim&&(e=e.trim()),c.paragraphise?"<p"!==e.substr(0,2)&&(e=(e=(e="<p>"+e+"</p>").replace(/\n/g,"</p><p>")).replace(/<br[^>]*>/gi,"</p><p>")):(e.replace(/<p>/gi,"<br />"),e.replace(/<\/p>/gi,"")),e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/<br>/gi,"<br />")).replace(/<br[^>]*><\/p>/gim,"</p>")).replace(/<p>&nbsp;<\/p>/gi,"")).replace(/<p>\s<\/p>/gi,"")).replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,"")).replace(/MsoNormal/gi,"")).replace(/<\/?meta[^>]*>/gi,"")).replace(/<\/?xml[^>]*>/gi,"")).replace(/<\?xml[^>]*\/>/gi,"")).replace(/<!--(.*)-->/gi,"")).replace(/<!--(.*)>/gi,"")).replace(/<!(.*)-->/gi,"")).replace(/<w:[^>]*>(.*)<\/w:[^>]*>/gi,"")).replace(/<w:[^>]*\/>/gi,"")).replace(/<\/?w:[^>]*>/gi,"")).replace(/<m:[^>]*\/>/gi,"")).replace(/<m:[^>]>(.*)<\/m:[^>]*>/gi,"")).replace(/<o:[^>]*>(.*)<\/o:[^>]*>/gi,"")).replace(/<o:[^>]*\/>/gi,"")).replace(/<\/?m:[^>]*>/gi,"")).replace(/style=\"([^>]*)\"/gi,"")).replace(/style=\'([^>]*)\'/gi,"")).replace(/class=\"(.*)\"/gi,"")).replace(/class=\'(.*)\'/gi,"")).replace(/<b>/gi,"<strong>")).replace(/<\/b>/gi,"</strong>")).replace(/<p[^>]*>/gi,"<p>")).replace(/<\/p[^>]*>/gi,"</p>")).replace(/<span[^>]*>/gi,"")).replace(/<\/span[^>]*>/gi,"")).replace(/<st1:[^>]*>/gi,"")).replace(/<\/st1:[^>]*>/gi,"")).replace(/<font[^>]*>/gi,"")).replace(/<\/font[^>]*>/gi,"")).replace("  ","")).replace(/<strong><\/strong>/gi,"")).replace(/<p><\/p>/gi,"")).replace(/\/\*(.*)\*\//gi,"")).replace(/<!--/gi,"")).replace(/-->/gi,"")).replace(/<style[^>]*>[^<]*<\/style[^>]*>/gi,"")).trim());return e}(o,"text"==c.pasteMode);c.getRange();c.selection.insertContent(a+"<span id='INSERTION_MARKER'>&nbsp;</span>"),c.marker.remove();var l=q(c.editorDocument).find("#INSERTION_MARKER");c.selection.selectNode(l[0],!0),c.getRange().setStartAfter&&c.getRange().setStartAfter(l[0]),l.remove(),c.selection.collapse(!1),l.removeAttr("id"),c._refreshTools(),c.changed=!0},100),c.updating=!1,c.readOnly=!1}catch(e){console&&console.log(e)}}),c.addHandler(c.editor,"keyup.editor"+c.element.id,function(e){if("source"==c._documentMode)return!0;if(c.updating||c.disabled||!c.editable)return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1;c.range=c.getRange(),c.changed=!0;var t=e||window.event;t.keyCode;(-1!=q.inArray(t.keyCode,[8,9,13,33,34,35,36,37,38,39,40,40,45,46])||65==t.keyCode&&t.ctrlKey&&!t.altKey&&!t.shiftKey)&&c._refreshTools(null,!0,t.keyCode)}),c.addHandler(c.editor,"click.editor"+c.element.id,function(e){if("source"==c._documentMode)return!0;if(c.editImage&&(q(c.editImage).removeClass("jqx-editor-focus"),c.editImage=null),"img"==e.target.tagName.toLowerCase()){var t=e.target;c.editImage=t,q(c.editImage).addClass("jqx-editor-focus")}}),c.addHandler(c.editor,"dblclick.editor"+c.element.id,function(e){if("source"==c._documentMode)return!0;if("img"==e.target.tagName.toLowerCase()){var t=e.target;0<q("#imageWindow"+this.element.id).length&&(c.editImage=t,c._updateImageWindow())}})},_updateLinkWindow:function(){var e=q("#linkWindow"+this.element.id);e.jqxWindow({position:{center:this.widget}}),e.jqxWindow("open");var t=e.find("input"),i=e.find(".jqx-editor-link-checkbox"),s=e.find("button:first"),r=q(e.find("button")[1]);if(this.editLink&&this.editLink.href)t[0].value=this.editLink.href||"",t[1].value=q(this.editLink).text()||this.editLink.href,i.val("_blank"==q(this.editLink).attr("target")),r.show();else{if(t[0].value="",t[1].value="",!this.selection.isCollapsed()){var n=this.selection.getText();n.match(/^(?!:\/\/)([a-zA-Z0-9]+\.)?[a-zA-Z0-9][a-zA-Z0-9-]+\.[a-zA-Z]{2,6}?$/i)?t[0].value=n:t[1].value=n}i.val(!1),r.hide()}0<t[0].value.length?s.jqxButton({disabled:!1}):s.jqxButton({disabled:!0})},_updateImageWindow:function(){var e=this.editImage;e||(e=q("<img>")[0]);var t=q("#imageWindow"+this.element.id);t.jqxWindow({position:{center:this.widget}}),t.jqxWindow("open");var i=t.find("input"),s=q(t.find("button")[1]);this.editImage?s.show():s.hide(),i[0].value=e.src,""==i[0].value&&(i[0].value=""),i[1].value=e.alt,"auto"!=e.style.width?i[2].value=e.style.width:i[2].value="","auto"!=e.style.height?i[3].value=e.style.height:i[3].value="",e.style.marginLeft&&"0px"!=e.style.marginLeft?i[4].value=e.style.marginLeft:i[4].value="",e.style.marginTop&&"0px"!=e.style.marginTop?i[5].value=e.style.marginTop:i[5].value="";var r=t.find(".jqx-editor-align"),n=q(e).css("float");"left"==n?r.jqxDropDownList({selectedIndex:1}):"right"==n?r.jqxDropDownList({selectedIndex:2}):r.jqxDropDownList({selectedIndex:0})},_removeHandlers:function(){var e=this;e.editor&&(e.removeHandler(e.editor,"blur.editor"+e.element.id),e.removeHandler(e.editor,"focus.editor"+e.element.id),e.removeHandler(e.editor,"click.editor"+e.element.id),e.removeHandler(e.editor,"mousedown.editor"+e.element.id),e.removeHandler(e.editor,"mouseup.editor"+e.element.id),e.removeHandler(e.editor,"keyup.editor"+e.element.id),e.removeHandler(e.editor,"keydown.editor"+e.element.id),e.removeHandler(e.editor,"beforedeactivate.editor"+e.element.id),e.removeHandler(e.editor,"dblclick.editor"+e.element.id)),e.toolbar&&e.removeHandler(e.toolbar,"mousedown.editor"+e.element.id)},getParentByTag:function(e,t){t=t.toLowerCase();var i=e;do{if(""==t||i.nodeName.toLowerCase()==t)return i}while(i=i.parentNode);return e},isStyleProperty:function(e,t,i,s){t=t.toLowerCase();var r=e;do{if(r.nodeName.toLowerCase()==t&&r.style[i]==s)return!0}while(r=r.parentNode);return!1},setStyleProperty:function(e,t){this.style[t]=!1;var i=this.getParentByTag(e,t);i&&i.tagName.toLowerCase()==t&&(this.style[t]=!0),"del"==t&&this.getParentByTag(e,"strike")&&"strike"==this.getParentByTag(e,"strike").tagName.toLowerCase()&&(this.style.del=!0)},updateStyle:function(e){var t=this;if((e=t.getSelectedElement()?t.getSelectedElement():e)&&t.setStyleProperty)try{if(window.getComputedStyle){"#text"==e.nodeName.toLowerCase()&&(e=t.editor[0]);var i=401==(s=window.getComputedStyle(e,null)).getPropertyValue("font-weight")?700:s.getPropertyValue("font-weight");t.style={fontStyle:s.getPropertyValue("font-style"),fontSize:s.getPropertyValue("font-size"),textDecoration:s.getPropertyValue("text-decoration"),fontWeight:i,fontFamily:s.getPropertyValue("font-family"),textAlign:s.getPropertyValue("text-align"),color:t._rgbToHex(s.color),backColor:t._rgbToHex(s.backgroundColor)},t.style.fontStyle=s.getPropertyValue("font-style"),t.style.vAlign=s.getPropertyValue("vertical-align"),t.style.del=t.isStyleProperty(e,"span","textDecoration","line-through"),t.style.u=t.isStyleProperty(e,"span","textDecoration","underline");t.style.backColor||(t.style.backColor=t._rgbToHex(function(e){for(var t="transparent";e&&(window.getComputedStyle(e).backgroundColor==t||"rgba(0, 0, 0, 0)"==window.getComputedStyle(e).backgroundColor);)e=e.parentNode;return e?window.getComputedStyle(e).backgroundColor:t}(e)))}else{var s=e.currentStyle;t.style={fontStyle:s.fontStyle,fontSize:s.fontSize,textDecoration:s.textDecoration,fontWeight:s.fontWeight,fontFamily:s.fontFamily,textAlign:s.textAlign,color:t._rgbToHex(s.color),backColor:t._rgbToHex(s.backgroundColor)}}t.setStyleProperty(e,"h1"),t.setStyleProperty(e,"h2"),t.setStyleProperty(e,"h3"),t.setStyleProperty(e,"h4"),t.setStyleProperty(e,"h5"),t.setStyleProperty(e,"h6"),t.setStyleProperty(e,"del"),t.setStyleProperty(e,"sub"),t.setStyleProperty(e,"sup"),t.setStyleProperty(e,"u"),"a"==e.nodeName.toLowerCase()&&"underline"==t.style.textDecoration&&(t.style.u=!0),(t.style.h1||t.style.h2||t.style.h3||t.style.h4||t.style.h5||t.style.h6)&&(t.style.heading=!0)}catch(e){return null}},_refreshTools:function(w,y,e){var b=this;if(!b.updating&&((w=b.getSelectedElement()?b.getSelectedElement():w)&&b.setStyleProperty)){b.updateStyle(w);var t=b.readOnly;if(!(b.readOnly=!0)!==b.tools){var i=b.tools.split(" "),s=b.tools.split(" | "),r=function(e){q.each(e,function(e,t){var i=b.commands[this];if(!i)return!0;switch(i.type){case"list":i.widget.jqxDropDownList("clearSelection"),i.widget.jqxDropDownList({disabled:b.disabled});break;case"colorPicker":i.val(i.value),i.widget.jqxDropDownButton({disabled:b.disabled});break;case"toggleButton":i.widget.jqxToggleButton("unCheck"),i.widget.jqxToggleButton({disabled:b.disabled});break;case"button":default:i.widget.jqxButton({disabled:b.disabled})}})};if(0==s.length)r(i);else for(var n=0;n<s.length;n++){r(i=s[n].split(" "))}if(b.style){var o=function(e){q.each(e,function(e,t){var i,s=b.commands[this];if(!s)return!0;if(s.refresh)return s.refresh(s.widget,b.style),!0;switch(s.type){case"list":if("fontname"==s.command){for(var r=-1,n=999,o=0;o<s.value.length;o++){t=s.value[o].label.toLowerCase();var a=b.style.fontFamily.toLowerCase().indexOf(t);0<=a&&(a<n&&(r=o),n=Math.min(n,a))}s.widget.jqxDropDownList("selectIndex",r)}else if("formatblock"==s.command){t=null;b.style.h1?t="h1":b.style.h2?t="h2":b.style.h3?t="h3":b.style.h4?t="h4":b.style.h5?t="h5":b.style.h6&&(t="h6"),s.widget.jqxDropDownList("selectItem",t)}else if("fontsize"==s.command){var l="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),d=-1;try{-1==(d=w.getAttribute("size")-1)&&(d=b.editorDocument.queryCommandValue(s.command)-1)}catch(e){}var h=l[d];s.widget.val(h)}break;case"colorPicker":var c="number"!=typeof(i=b.editorDocument.queryCommandValue(s.command))?i:"rgb("+(255&i)+", "+((65280&i)>>8)+", "+((16711680&i)>>16)+")";"backcolor"==s.command&&null==b.style.backColor&&(c="#FFFFFF");var u=b._rgbToHex(c);u?s.val(u):"forecolor"==s.command?s.val(b.style.color):"backcolor"==s.command&&s.val(b.style.backColor);break;case"toggleButton":if("viewsource"==s.command)return;if(!s.command)return;var p=!1,m=b.editorDocument.queryCommandState(s.command)&&b.editorDocument.queryCommandEnabled(s.command);if("createlink"==s.command&&"a"==w.nodeName.toLowerCase()){var f=!0;if(-1==q(w).text().indexOf(b.selection.getText())&&""!=b.selection.getText()&&(f=!1),f){b.linkPopup&&b.linkPopup.remove(),m=!0,b.linkPopup=q("<div class='jqx-editor-link-popup' contentEditable='false' style='overflow: hidden; white-space: nowrap; padding: 5px; height: 17px; font-size: 12px; color: #222222; background: #F5F5F5; position: absolute; z-index: 9999;'>"+b.localization["Go to link"]+": <a target='_blank' style='color:#222222;' href='"+w.href+"'>"+w.href+"</a> - <a style='color:#222222;' href='#change'>"+b.localization.Change+"</a> - <a style='color:#222222;' href='#remove'>"+b.localization.Remove+"</a></div>").appendTo(b.editor);var g=q(w).coord(),v=g.left;g.left+b.linkPopup.width()>b.editor.width()&&(v=b.editor.width()-b.linkPopup.width()-15),b.linkPopup.offset({top:q(w).height()+g.top+5,left:v}),b.addHandler(b.linkPopup,"mousedown",function(e){if(e.target&&e.target.href)switch(q(e.target).index()){case 1:b.editor.focus(),b.selection.selectNode(w,!0),b.commands.link.widget.trigger("click");break;case 2:try{b.editor.focus(),b.selection.selectNode(w),b.execute("unlink"),b.commands.underline.toggled=!1,b.selection.collapse(!1),b._refreshTools()}catch(e){}break;default:window.open(e.target.href,"_blank")}return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1})}}"bold"==s.command?(b.style.fontWeight&&(600<=b.style.fontWeight||"bold"==b.style.fontWeight)&&(p=!0),b.selection.isCollapsed()?s.toggled=m:s.toggled=m||p,m=s.toggled):"italic"==s.command?(b.style.fontStyle&&"italic"==b.style.fontStyle&&(p=!0),y?s.toggled=m:m=s.toggled):"underline"==s.command?(b.style.u&&(p=!0),y?s.toggled=m:m=s.toggled):"justifyleft"==s.command?"left"==b.style.textAlign&&(p=!0):"justifyright"==s.command?"right"==b.style.textAlign&&(p=!0):"justifycenter"==s.command?"center"==b.style.textAlign&&(p=!0):"justifyfull"==s.command?"justify"==b.style.textAlign&&(p=!0):q.each(b.style,function(e,t){s.command==e.toLowerCase()&&(p=!0)});var x=m;p&&-1!=s.command.indexOf("justify")?s.widget.jqxToggleButton("check"):x?s.widget.jqxToggleButton("check"):p&&!1===b.range.collapsed?s.widget.jqxToggleButton("check"):q.jqx.browser.msie&&q.jqx.browser.version<9&&p&&!b.selection.isCollapsed()&&s.widget.jqxToggleButton("check");break;case"button":default:s.refresh&&s.refresh(s.widget,b.style)}})};if(0==s.length)o(i);else for(n=0;n<s.length;n++){o(i=s[n].split(" "))}}}b.readOnly=t}},_rgbToHex:function(e){if(e){if("#"===e.substr(0,1))return 4==e.length?"#"+(i=e.substr(1,1))+i+(s=e.substr(2,1))+s+(r=e.substr(3,1))+r:e;var t=/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/i.exec(e);if(!t)return null;var i=parseInt(t[2],10).toString(16),s=parseInt(t[3],10).toString(16),r=parseInt(t[4],10).toString(16);return"#"+((1==i.length?"0"+i:i)+(1==s.length?"0"+s:s)+(1==r.length?"0"+r:r))}return null},_preventDefault:function(e,t){!1!==t&&(0<q(".jqx-editor-dropdownpicker").length&&q(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),0<q(".jqx-editor-dropdownlist").length&&q(".jqx-editor-dropdownlist").jqxDropDownList("close")),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!1},_addCommandHandler:function(e,t,s,i,r){var n=this;switch(!s&&r.init&&(s="custom"),s){case"custom":switch(r.type){case"list":action=function(e){"source"!=n._documentMode&&"none"!=e.args.type&&(r.value=q(this).val(),n.execute("custom",r),n.readOnly||n._refreshTools()),n._preventDefault(e,!1)};break;case"colorPicker":action=function(e){if("source"!=n._documentMode){q(r.colorPicker).find("td").removeClass("jqx-editor-color-picker-selected-cell");if("div"==e.target.nodeName.toLowerCase()){var i=q(e.target).css("background-color");q(e.target).parent().addClass("jqx-editor-color-picker-selected-cell")}else{i=q(e.target).find("div").css("background-color");q(e.target).addClass("jqx-editor-color-picker-selected-cell")}q("#bar-"+s).css("background",i),r.widget.val=function(){var e,t="number"!=typeof(e=i)?e:"rgb("+(255&e)+", "+((65280&e)>>8)+", "+((16711680&e)>>16)+")";return n._rgbToHex(t)},r.widget.jqxDropDownButton("close"),n.execute("custom",r)}return n._preventDefault(e),!1};break;case"button":case"toggleButton":default:action=function(e){0<q(".jqx-editor-dropdownpicker").length&&q(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),0<q(".jqx-editor-dropdownlist").length&&q(".jqx-editor-dropdownlist").jqxDropDownList("close"),n._preventDefault(e);q(this).attr("data-command");return"source"!=n._documentMode&&(r.toggle&&r.toggle(),n.execute("custom",r),n._refreshTools()),!1}}break;case"formatblock":action=function(e){"source"!=n._documentMode&&"none"!=e.args.type&&(n.execute(q(this).attr("data-command"),"<"+q(this).val()+">",r),n.readOnly||(n.commands.bold.toggled=!1,n._refreshTools())),n._preventDefault(e,!1)};break;case"fontsize":action=function(e){if("source"!=n._documentMode&&"none"!=e.args.type){var t=q(this).val(),i="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),s=q(this).jqxDropDownList("getSelectedIndex");s=1+i.indexOf(t);n.execute(q(this).attr("data-command"),s,r)}n._preventDefault(e,!1)};break;case"fontname":action=function(e){if("source"!=n._documentMode&&"none"!=e.args.type){var t=q(this).val();n.execute(q(this).attr("data-command"),t,r)}n._preventDefault(e,!1)};break;case"forecolor":case"backcolor":action=function(e){if("source"!=n._documentMode){q(r.colorPicker).find("td").removeClass("jqx-editor-color-picker-selected-cell");if("div"==e.target.nodeName.toLowerCase()){var t=q(e.target).css("background-color");q(e.target).parent().addClass("jqx-editor-color-picker-selected-cell")}else{t=q(e.target).find("div").css("background-color");q(e.target).addClass("jqx-editor-color-picker-selected-cell")}q("#bar-"+s).css("background",t),r.widget.jqxDropDownButton("close"),n.execute(s,t,r)}return n._preventDefault(e),!1};break;case"viewsource":action=function(e){return n.linkPopup&&n.linkPopup.remove(),r.toggle(),n.setMode(r.toggled),0<q(".jqx-editor-dropdownpicker").length&&q(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),0<q(".jqx-editor-dropdownlist").length&&q(".jqx-editor-dropdownlist").jqxDropDownList("close"),n._preventDefault(e),!1};break;case"insertimage":action=function(e){n._insertImageAction(e,n,r)};break;case"createlink":action=function(e){n._createLinkAction(e,n,r)};break;default:action=function(e){0<q(".jqx-editor-dropdownpicker").length&&q(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),0<q(".jqx-editor-dropdownlist").length&&q(".jqx-editor-dropdownlist").jqxDropDownList("close"),n._preventDefault(e);var t=q(this).attr("data-command");if("source"!=n._documentMode){if("underline"==t&&n.getSelectedElement()){var i=n.getSelectedElement();if(i&&"a"==i.nodeName.toLowerCase())return r.toggled?q(i).css("text-decoration","none"):q(i).css("text-decoration","underline"),r.toggle(),n._refreshTools(),!1}r.toggle&&r.toggle(),n.execute(t,q(this).val(),r),n._refreshTools()}return!1}}return n.addHandler(e,t,action),!1},_createLinkAction:function(e,r,n){if("source"!=(r=this)._documentMode){r.focused||r.editor.focus(),r.range=r.getRange();var t=r.getSelectedElement();if("a"==t.nodeName.toLowerCase()?r.editLink=t:r.editLink=null,0<q("#linkWindow"+this.element.id).length)return r.editLink&&r.selection.selectNode(t,!0),r._updateLinkWindow(),r._preventDefault(e),!1;var o=q("<div class='jqx-editor-window jqx-editor-link-window'><div>"+r.localization["Insert Link"]+"</div><div><table style='border-collapse: separate; border-spacing: 2px;'><tr><td align='right'>"+r.localization.URL+":</td><td><input style='width: 200px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+r.localization.Title+":</td><td><input style='width: 200px; height: 23px;' value=''/></td><tr/><tr><td align='right'></td><td><div class='jqx-editor-link-checkbox'>"+r.localization["Open in a new window/tab"]+"</div></td><tr/><tr><td align='right'></td><td align='right'><button>Ok</button><button style='margin-left: 5px;'>Remove</button><button style='margin-left: 5px;'>Cancel</button></td><tr/></table></div></div>");o[0].id="linkWindow"+this.element.id;var i=o.find("input");i.addClass(r.toThemeProperty("jqx-widget")),i.addClass(r.toThemeProperty("jqx-widget-content")),i.addClass(r.toThemeProperty("jqx-input"));var a=o.find(".jqx-editor-link-checkbox").jqxCheckBox({theme:r.theme,height:23,width:180}),s=o.find("button:first").jqxButton({theme:r.theme,disabled:!0}),l=q(o.find("button")[1]).jqxButton({theme:r.theme}),d=o.find("button:last").jqxButton({theme:r.theme});s.val(r.localization.Ok),d.val(r.localization.Cancel),l.val(r.localization.Remove),r.addHandler(d,q.jqx.mobile.isTouchDevice()?q.jqx.mobile.getTouchEventName("touchstart"):"click",function(e){r.editor.focus(),r.selectRange(r.range),r._refreshTools(),r._preventDefault(e)}),(!r.editLink||r.editLink&&!r.editLink.href)&&l.hide();var h=!1;if(r.addHandler(q(i[0]),"focus",function(){h=""==i[1].value||i[1].value==i[0].value}),r.addHandler(q(i[1]),"keyup",function(e){e.keyCode&&(13==e.keyCode&&s.trigger("click"),27==e.keyCode&&d.trigger("click"))}),r.addHandler(q(i[0]),"keyup change",function(e){0<i[0].value.length?s.jqxButton({disabled:!1}):s.jqxButton({disabled:!0}),h&&(i[1].value=i[0].value),e.keyCode&&(13==e.keyCode&&s.trigger("click"),27==e.keyCode&&d.trigger("click"))}),r.addHandler(l,q.jqx.mobile.isTouchDevice()?q.jqx.mobile.getTouchEventName("touchstart"):"click",function(e){o.jqxWindow("close");try{r.editor.focus(),r.selection.selectNode(r.editLink),r.execute("unlink"),r.selection.collapse(!1),r.commands.underline.toggled=!1,r._refreshTools()}catch(e){}r._preventDefault(e)}),r.addHandler(s,q.jqx.mobile.isTouchDevice()?q.jqx.mobile.getTouchEventName("touchstart"):"click",function(e){var t=o.find("input"),i=q("<a>"+(t[1].value||t[0].value)+"</a>");a.val()&&i.attr("target","_blank"),i[0].href=q.trim(t[0].value),-1==t[0].value.indexOf("http")&&-1==t[0].value.indexOf("mailto")&&(i[0].href="http://"+q.trim(t[0].value)),r.focused||r.editor.focus(),r.range&&r.selectRange(r.range),r.editLink&&q(r.editLink).remove(),r.execute("insertHTML",i[0].outerHTML+"<span id='INSERTION_MARKER'>&nbsp;</span>",n),r.editor.focus();var s=q(r.editorDocument).find("#INSERTION_MARKER");r.selection.selectNode(s[0],!0),r.getRange().setStartAfter&&r.getRange().setStartAfter(s[0]),s.remove(),r.selection.collapse(!1),r._refreshTools(),r._preventDefault(e)}),r.updating=!0,o.appendTo(document.body),r.addHandler(o,"open",function(){r.updating=!0,setTimeout(function(){r.range=r.getRange(),q(i[0]).focus()},25)}),o.jqxWindow({resizable:!1,width:280,okButton:s,cancelButton:d,theme:r.theme,isModal:!0,position:{center:r.widget}}),r.addHandler(o,"close",function(){r.updating=!1}),r.focused||(r.editor.focus(),r.selectRange(r.range)),r.editLink)i[0].value=r.editLink.href||"",i[1].value=q(r.editLink).text(),a.val("_blank"==q(r.editLink).attr("target"));else if(!r.selection.isCollapsed()){var c=r.selection.getText();c.match(/^(?!:\/\/)([a-zA-Z0-9]+\.)?[a-zA-Z0-9][a-zA-Z0-9-]+\.[a-zA-Z]{2,6}?$/i)?i[0].value=c:i[1].value=c}return 0<i[0].value.length?s.jqxButton({disabled:!1}):s.jqxButton({disabled:!0}),r._preventDefault(e),!1}r._preventDefault(e)},_insertImageAction:function(e,n,o){if("source"!=n._documentMode){if(n.focused||n.editor.focus(),n.range=n.getRange(),0<q("#imageWindow"+this.element.id).length)return n._updateImageWindow(),n._preventDefault(e),!1;var a=q("<div class='jqx-editor-window jqx-editor-image-window'><div>"+n.localization["Insert Image"]+"</div><div><table style='border-collapse: separate; border-spacing: 2px;'><tr><td align='right'>"+n.localization.URL+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+n.localization["Alt Text"]+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+n.localization.Width+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+n.localization.Height+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+n.localization.HSpace+":</td><td><input style='width: 180px; height: 23px;' class='jqx-editor-hspace'/></td><tr/><tr><td align='right'>"+n.localization.VSpace+":</td><td><input style='width: 180px; height: 23px;' class='jqx-editor-vspace'/></td><tr/><tr><td align='right'>"+n.localization.Align+":</td><td><div class='jqx-editor-align'></div></td><tr/><tr><td align='right'></td><td align='right'><button>Ok</button><button style='margin-left: 5px;'>Remove</button><button style='margin-left: 5px;'>Cancel</button></td><tr/></table></div></div>");a[0].id="imageWindow"+this.element.id;var t=a.find("input");t.addClass(n.toThemeProperty("jqx-widget")),t.addClass(n.toThemeProperty("jqx-widget-content")),t.addClass(n.toThemeProperty("jqx-input")),a.find(".jqx-editor-align").jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0,theme:n.theme,height:23,width:180,source:[n.localization["not set"],n.localization.Left,n.localization.Right]});var i=a.find("button:first").jqxButton({theme:n.theme}),s=a.find("button:last").jqxButton({theme:n.theme}),r=q(a.find("button")[1]).jqxButton({theme:n.theme});return i.val(n.localization.Ok),s.val(n.localization.Cancel),r.val(n.localization.Remove),r.hide(),n.addHandler(r,q.jqx.mobile.isTouchDevice()?q.jqx.mobile.getTouchEventName("touchstart"):"click",function(e){q(n.editImage).removeClass("jqx-editor-focus"),q(n.editImage).remove(),n.editImage=null,n._preventDefault(e),a.jqxWindow("close"),n._raiseEvent("change")}),n.addHandler(s,q.jqx.mobile.isTouchDevice()?q.jqx.mobile.getTouchEventName("touchstart"):"click",function(e){q(n.editImage).removeClass("jqx-editor-focus"),n.editImage=null,n._preventDefault(e)}),n.addHandler(i,q.jqx.mobile.isTouchDevice()?q.jqx.mobile.getTouchEventName("touchstart"):"click",function(e){q(n.editImage).removeClass("jqx-editor-focus");var t=a.find("input"),i=(n.editImage?q(n.editImage):q('<img style="border: 1px solid transparent;">')).attr("src",t[0].value).attr("unselectable","on");t[1].value&&i.attr("alt",t[1].value).attr("title",t[1].value),t[2].value&&!isNaN(parseInt(t[2].value))?i.width(t[2].value):i.css("width","auto"),t[3].value&&!isNaN(parseInt(t[3].value))?i.height(t[3].value):i.css("height","auto"),t[4].value?"auto"==t[4].value.toString()?(i.css("margin-left","auto"),i.css("margin-right","auto")):-1!=t[4].value.toString().indexOf("%")?(i.css("margin-left",parseInt(t[4].value)+"%"),i.css("margin-right",parseInt(t[4].value)+"%")):(i.css("margin-left",parseInt(t[4].value)+"px"),i.css("margin-right",parseInt(t[4].value)+"px")):(i.css("margin-left","0px"),i.css("margin-right","0px")),t[5].value?"auto"==t[5].value.toString()?(i.css("margin-top","auto"),i.css("margin-bottom","auto")):-1!=t[5].value.toString().indexOf("%")?(i.css("margin-top",parseInt(t[5].value)+"%"),i.css("margin-bottom",parseInt(t[5].value)+"%")):(i.css("margin-top",parseInt(t[5].value)+"px"),i.css("margin-bottom",parseInt(t[5].value)+"px")):(i.css("margin-top","0px"),i.css("margin-bottom","0px"));var s=a.find(".jqx-editor-align").jqxDropDownList("selectedIndex");if(1==s?i.css("float","left"):2==s?i.css("float","right"):0==s&&i.css("float","none"),i.css("resize",!1),i[0].oncontrolselect=function(){return!1},i[0].selectstart=function(){return!1},!n.editImage){n.focused||n.editor.focus(),n.range&&n.selectRange(n.range),n.execute("insertHTML",i[0].outerHTML+"<span id='INSERTION_MARKER'>&nbsp;</span>",o),n.editor.focus();var r=q(n.editorDocument).find("#INSERTION_MARKER");n.selection.selectNode(r[0],!0),n.getRange().setStartAfter&&n.getRange().setStartAfter(r[0]),r.remove(),n.selection.collapse(!1),n._refreshTools(),n._preventDefault(e)}n.editImage=null,n._preventDefault(e)}),a.appendTo(document.body),n.updating=!0,n.addHandler(a,"open",function(){n.updating=!0,setTimeout(function(){n.range=n.getRange(),q(t[0]).focus()},25)}),a.jqxWindow({resizable:!1,width:280,okButton:i,cancelButton:s,theme:n.theme,isModal:!0,position:{center:n.widget}}),n.addHandler(a,"close",function(){n.updating=!1}),n.focused||(n.editor.focus(),n.selectRange(n.range)),n._preventDefault(e),!1}n._preventDefault(e)},editmode:function(e){var t=this;if(e||t.readOnly){if(e&&t.readOnly){i=t.editor.find("#sourceText").text();t.editor.html(i),t.buttons.hasOwnProperty("html")&&t.buttons.html.removeClass("active"),t.editor.attr("contentEditable",!0),t._addHandlers()}}else{t._removeHandlers(),t.editor.attr("contentEditable",!1);var i=document.createTextNode(t.editor.html()),s=q("<pre>");s.html(i).attr({id:"sourceText",contentEditable:!0}).css("height","100%"),t.editor.html(s),t.buttons.hasOwnProperty("html")&&t.buttons.html.addClass("active"),s.focus()}t.readOnly=!e},setMode:function(e){var t,i=this;i.range||(i.editor.focus(),i.range=i.getRange());var s=i.editor[0];if(e){i._documentMode="source";var r=new d,n=r.HTMLtoXML(s.innerHTML);n=r.FormatHTML(n),t=document.createTextNode(n),s.innerHTML="";var o=document.createElement("pre");s.contentEditable=!1,o.style.height="100%",o.style.margin="0px",o.style.outline="none",o.style.display="block",o.id="sourceText",o.contentEditable=!0,o.appendChild(t),s.appendChild(o),this.readOnly=!0}else this._documentMode="html",document.all?s.innerHTML=s.innerText:s.textContent?s.innerHTML=s.textContent:((t=document.createRange()).selectNodeContents(s.firstChild),s.innerHTML=t.toString()),s.contentEditable=!0,i.readOnly=!1,i._refreshTools(),i.editor.focus(),i.selection.selectNode(i.editor[0]),i.editor.scrollTop(0),i.selection.collapse(!0);if(q.each(this.commands,function(){if(this.widget&&"viewsource"!=this.command)switch(this.type){case"list":this.widget.jqxDropDownList({disabled:e});break;case"colorPicker":this.widget.jqxDropDownButton({disabled:e});break;case"button":this.widget.jqxButton({disabled:e});break;case"toggleButton":this.widget.jqxToggleButton({toggled:!1,disabled:e})}}),i.editor.focus(),q.jqx.browser.mozilla){var a=q("<a href='#'>anchor</a>");i.editor.prepend(a),a.focus(),a.remove(),i.selection.collapse(!0)}i.commands.html.widget&&(i.commands.html.widget.jqxToggleButton({toggled:"source"==e||1==e}),i.commands.html.toggled="source"==e||1==e)},execute:function(t,i,e){var s=this;if(!s.readOnly){var r=s.editorDocument;if("source"==s._documentMode)return;s.changeType="mouse",s.linkPopup&&s.linkPopup.remove(),s.editor.focus(),q.jqx.browser.mozilla,q.jqx.mobile.isTouchDevice()&&setTimeout(function(){},25);var n=function(e){try{if(e.command&&"inserthtml"==e.command.toLowerCase()){var t=s.getRange(),i=e.value;-1==i.toString().indexOf("<")&&(i="<span>"+e.value+"</span>"),s.selection.insertContent(i+"<span id='INSERTION_MARKER'>&nbsp;</span>"),s.selectRange(t),setTimeout(function(){var e=q(s.editorDocument).find("#INSERTION_MARKER");s.selection.selectNode(q(e).prev()[0],!0),e.remove(),s.selection.collapse(!1)},10)}else if(e.command){if(!r.queryCommandEnabled(e.command))return!1;r.execCommand(e.command,!1,e.value)}else{if(!r.queryCommandEnabled(e))return!1;r.execCommand(e,!1,e)}}catch(e){}};if("custom"==t)(o=i.action(i.widget,s.editor))&&n(o);else try{var o;if(e&&e.action)n(o=e.action(e.widget,s.editor));else if(r.queryCommandEnabled(t))r.execCommand(t,!1,i);else{if("insertHTML"!=t)return!1;s.selection.insertContent(i)}}catch(e){if("insertHTML"!=t)return!1;s.selection.insertContent(i)}q.jqx.mobile.isTouchDevice()&&setTimeout(function(){s.iframe&&s.iframe[0].contentWindow.focus()},500),s._raiseEvent("change",{command:t,args:i}),s.changed=!0,s.range=s.getRange()}},destroy:function(){var s=this;s._removeHandlers();var e=s.tools.split(" "),t=s.tools.split(" | ");q.jqx.utilities.resize(this.host,null,!0);var i=function(e){q.each(e,function(e,t){var i=s.commands[this];if(!i)return!0;switch(i.type){case"list":i.widget.jqxDropDownList("destroy");break;case"colorPicker":i.colorPicker.remove(),i.widget.jqxDropDownButton("destroy");break;case"toggleButton":i.widget.jqxToggleButton("destroy");break;case"custom":s.destroyTool&&s.destroyTool(this);break;case"button":default:i.widget.jqxToggleButton("destroy"),"insertimage"===i.command?0<q("#imageWindow"+s.element.id).length&&(q("#imageWindow"+s.element.id).find(".jqx-editor-align").jqxDropDownList("destroy"),q("#imageWindow"+s.element.id).find("button").jqxButton("destroy")):"createlink"===i.command&&0<q("#linkWindow"+s.element.id).length&&(q("#linkWindow"+s.element.id).find(".jqx-editor-align").jqxDropDownList("destroy"),q("#linkWindow"+s.element.id).find("button").jqxButton("destroy"),q("#linkWindow"+s.element.id).find(".jqx-editor-link-checkbox").jqxCheckBox("destroy"))}})};if(0==t.length)i(e);else for(var r=0;r<t.length;r++){i(e=t[r].split(" "))}var n=q("#linkWindow"+this.element.id),o=q("#imageWindow"+this.element.id);n&&0<n.length&&n.jqxWindow("destroy"),o&&0<o.length&&o.jqxWindow("destroy"),s.inline?s.toolbar.remove():(s.widget.remove(),s.host.remove()),s.iframe.remove(),s.iframe=null,s.selection=null,s.editorDocument=null,s.contentEditableElement=null},val:function(e){if(void 0!==e&&"source"===e){var t=this.editor[0];"source"===this._documentMode&&(t=this.editor.find("pre:first")[0]);var i=new d,s=i.HTMLtoXML(t.innerHTML);return s=i.FormatHTML(s)}return null!=e&&"object"!=typeof e&&this.editor.html(e),"source"===this._documentMode?this.editor.find("pre:first").html():this.editor.html()},_raiseEvent:function(e,t){if(null==t&&(t={owner:null}),"source"==this._documentMode)return!0;var i=e;t.type=this.changeType,this.changeType=null,args=t,args.owner=this;var s=new q.Event(i);if(s.owner=this,s.args=args,this._textArea)var r=q(this._textArea).trigger(s);else r=this.host.trigger(s);return t=s.args,r}});var l=function(i){var e={initialize:function(e){this.document=e},getSelection:function(){return this.document.getSelection?this.document.getSelection():this.document.selection},getRange:function(){var e=this.getSelection();if(!e)return null;try{return 0<e.rangeCount?e.getRangeAt(0):this.document.createRange?this.document.createRange():this.document.selection.createRange()}catch(e){return this.document.body.createTextRange()}},selectRange:function(e){if(e.select)e.select();else{var t=this.getSelection();t.addRange&&(t.removeAllRanges(),t.addRange(e))}},selectNode:function(e,t){var i=this.getRange(),s=this.getSelection();if(i.moveToElementText)i.moveToElementText(e),i.select();else if(s.addRange)try{t?i.selectNodeContents(e):i.selectNode(e),s.removeAllRanges(),s.addRange(i)}catch(e){}else s.setBaseAndExtent(e,0,e,1);return e},isCollapsed:function(){var e=this.getRange();return!e.item&&(0==e.boundingWidth||this.getSelection().isCollapsed)},collapse:function(e){var t=this.getRange(),i=this.getSelection();t.select?(t.collapse(e),t.select()):e?i.collapseToStart():i.collapseToEnd()},getContent:function(){var e=this.getRange(),t=q("<div>")[0];return this.isCollapsed()?"":(e.cloneContents?t.appendChild(e.cloneContents()):null!=e.item||null!=e.htmlText?q(t).html(e.item?e.item(0).outerHTML:e.htmlText):q(t).html(e.toString()),q(t).html())},getText:function(){var e=this.getRange(),t=this.getSelection();return this.isCollapsed()?"":e.text||(t.toString?t.toString():"")},getNode:function(){var e=this.getRange();if(!q.jqx.browser.msie||9<=q.jqx.browser.version){var t=null;if(e)for(t=e.commonAncestorContainer,e.collapsed||e.startContainer==e.endContainer&&e.startOffset-e.endOffset<2&&e.startContainer.hasChildNodes()&&(t=e.startContainer.childNodes[e.startOffset]);"element"!=typeof t;)t=t.parentNode;return i.id(t)}return i.id(e.item?e.item(0):e.parentElement())},insertContent:function(e){var t=this.getRange();if(t.pasteHTML)t.pasteHTML(e),t.collapse(!1),t.select();else if(t.insertNode)if(t.deleteContents(),t.createContextualFragment)t.insertNode(t.createContextualFragment(e));else{var i=this.document,s=i.createDocumentFragment(),r=i.createElement("div");s.appendChild(r),r.outerHTML=e,t.insertNode(s)}}};return e.initialize(i),e},d=function(){var d=/^<([-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,h=/^<\/([-A-Za-z0-9_]+)[^>]*>/,c=/([-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,u=e("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),p=e("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul"),m=e("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),f=e("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),g=e("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),v=e("script,style"),t=this.HTMLParser=function(e,n){var t,i,s,o=[];for(o.last=function(){return this[this.length-1]};e;){if(i=!0,o.last()&&v[o.last()])e=e.replace(new RegExp("(.*)</"+o.last()+"[^>]*>"),function(e,t){return t=t.replace(/<!--(.*?)-->/g,"$1").replace(/<!\[CDATA\[(.*?)]]>/g,"$1"),n.chars&&n.chars(t),""}),l("",o.last());else if(0==e.indexOf("\x3c!--")?0<=(t=e.indexOf("--\x3e"))&&(n.comment&&n.comment(e.substring(4,t)),e=e.substring(t+3),i=!1):0==e.indexOf("</")?(s=e.match(h))&&(e=e.substring(s[0].length),s[0].replace(h,l),i=!1):0==e.indexOf("<")&&(s=e.match(d))&&(e=e.substring(s[0].length),s[0].replace(d,a),i=!1),i){var r=(t=e.indexOf("<"))<0?e:e.substring(0,t);e=t<0?"":e.substring(t),n.chars&&n.chars(r)}e}function a(e,t,i,s){if(t=t.toLowerCase(),p[t])for(;o.last()&&m[o.last()];)l("",o.last());if(f[t]&&o.last()==t&&l("",t),(s=u[t]||!!s)||o.push(t),n.start){var r=[];i.replace(c,function(e,t){var i=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:g[t]?t:"";r.push({name:t,value:i,escaped:i.replace(/(^|[^\\])"/g,'$1\\"')})}),n.start&&n.start(t,r,s)}}function l(e,t){if(t)for(i=o.length-1;0<=i&&o[i].toLowerCase()!=t.toLowerCase();i--);else var i=0;if(0<=i){for(var s=o.length-1;i<=s;s--)n.end&&n.end(o[s]);o.length=i}}l()};function e(e){for(var t={},i=e.split(","),s=0;s<i.length;s++)t[i[s]]=!0;return t}this.HTMLtoXML=function(e){var r="";return e=(e=e.replace(/\r/gi,"")).replace(/\n/gi,""),t(e,{start:function(e,t,i){r+="<"+e;for(var s=0;s<t.length;s++)r+=" "+t[s].name+'="'+t[s].escaped+'"';r+=(i?"/":"")+">"},end:function(e){r+="</"+e+">\r\n"},chars:function(e){r+=e},comment:function(e){r+="\x3c!--"+e+"--\x3e"}}),r},this.FormatHTML=function(e,t){var i,s,r,n,d;for(s=(t=t||{}).indent_size||4,r=t.indent_char||" ",n=t.brace_style||"collapse",1/0,d=t.unformatted||["a","span","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","pre","address","dt","h1","h2","h3","h4","h5","h6"],(i=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed,?php,?,?=".split(","),extra_liners:"head,body,/html".split(","),in_array:function(e,t){for(var i=0;i<t.length;i++)if(e===t[i])return!0;return!1}},this.get_content=function(){for(var e="",t=[],i=!1;"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(e=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(e,this.Utils.whitespace))t.length&&(i=!0),this.line_char_count--;else{if(i){if(this.line_char_count>=this.max_char){t.push("\n");for(var s=0;s<this.indent_level;s++)t.push(this.indent_string);this.line_char_count=0}else t.push(" "),this.line_char_count++;i=!1}t.push(e)}}return t.length?t.join(""):""},this.get_contents_to=function(e){if(this.pos==this.input.length)return["","TK_EOF"];var t="",i=new RegExp("</"+e+"\\s*>","igm");i.lastIndex=this.pos;var s=i.exec(this.input),r=s?s.index:this.input.length;return this.pos<r&&(t=this.input.substring(this.pos,r),this.pos=r),t},this.record_tag=function(e){this.tags[e+"count"]?this.tags[e+"count"]++:this.tags[e+"count"]=1,this.tags[e+this.tags[e+"count"]]=this.indent_level,this.tags[e+this.tags[e+"count"]+"parent"]=this.tags.parent,this.tags.parent=e+this.tags[e+"count"]},this.retrieve_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]],this.tags.parent=this.tags[t+"parent"]),delete this.tags[e+this.tags[e+"count"]+"parent"],delete this.tags[e+this.tags[e+"count"]],1==this.tags[e+"count"]?delete this.tags[e+"count"]:this.tags[e+"count"]--}},this.get_tag=function(){var e,t,i="",s=[],r=!1;do{if(this.pos>=this.input.length)return s.length?s.join(""):["","TK_EOF"];i=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(i,this.Utils.whitespace)?(r=!0,this.line_char_count--):("'"!==i&&'"'!==i||s[1]&&"!"===s[1]||(i+=this.get_unformatted(i),r=!0),"="===i&&(r=!1),s.length&&"="!==s[s.length-1]&&">"!==i&&r&&(this.line_char_count>=this.max_char?(this.print_newline(!1,s),this.line_char_count=0):(s.push(" "),this.line_char_count++),r=!1),"<"===i&&(e=this.pos-1),s.push(i))}while(">"!==i);var n,o=s.join("");n=-1!=o.indexOf(" ")?o.indexOf(" "):o.indexOf(">");var a=o.substring(1,n).toLowerCase();if("/"===o.charAt(o.length-2)||this.Utils.in_array(a,this.Utils.single_token))this.tag_type="SINGLE";else if("script"===a)this.record_tag(a),this.tag_type="SCRIPT";else if("style"===a)this.record_tag(a),this.tag_type="STYLE";else if(this.Utils.in_array(a,d)){var l=this.get_unformatted("</"+a+">",o);s.push(l),0<e&&this.Utils.in_array(this.input.charAt(e-1),this.Utils.whitespace)&&s.splice(0,0,this.input.charAt(e-1)),t=this.pos-1,this.Utils.in_array(this.input.charAt(t+1),this.Utils.whitespace)&&s.push(this.input.charAt(t+1)),this.tag_type="SINGLE"}else"!"===a.charAt(0)?-1!=a.indexOf("[if")?(-1!=o.indexOf("!IE")&&(l=this.get_unformatted("--\x3e",o),s.push(l)),this.tag_type="START"):-1!=a.indexOf("[endif")?(this.tag_type="END",this.unindent()):(l=-1!=a.indexOf("[cdata[")?this.get_unformatted("]]>",o):this.get_unformatted("--\x3e",o),s.push(l),this.tag_type="SINGLE"):("/"===a.charAt(0)?(this.retrieve_tag(a.substring(1)),this.tag_type="END"):(this.record_tag(a),this.tag_type="START"),this.Utils.in_array(a,this.Utils.extra_liners)&&this.print_newline(!0,this.output));return s.join("")},this.get_unformatted=function(e,t){if(t&&-1!=t.indexOf(e))return"";var i="",s="",r=!0;do{if(this.pos>=this.input.length)return s;if(i=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(i,this.Utils.whitespace)){if(!r){this.line_char_count--;continue}if("\n"===i||"\r"===i){s+="\n",this.line_char_count=0;continue}}s+=i,this.line_char_count++,r=!0}while(-1==s.indexOf(e));return s},this.get_token=function(){var e;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var t=this.last_token.substr(7);return"string"!=typeof(e=this.get_contents_to(t))?e:[e,"TK_"+t]}return"CONTENT"===this.current_mode?"string"!=typeof(e=this.get_content())?e:[e,"TK_CONTENT"]:"TAG"===this.current_mode?"string"!=typeof(e=this.get_tag())?e:[e,"TK_TAG_"+this.tag_type]:void 0},this.get_full_indent=function(e){return(e=this.indent_level+e||0)<1?"":Array(e+1).join(this.indent_string)},this.printer=function(e,t,i,s,r){this.input=e||"",this.output=[],this.indent_character=t,this.indent_string="",this.indent_size=i,this.brace_style=r,this.indent_level=0,this.max_char=s;for(var n=this.line_char_count=0;n<this.indent_size;n++)this.indent_string+=this.indent_character;this.print_newline=function(e,t){if(this.line_char_count=0,t&&t.length){if(!e)for(;this.Utils.in_array(t[t.length-1],this.Utils.whitespace);)t.pop();t.push("\n");for(var i=0;i<this.indent_level;i++)t.push(this.indent_string)}},this.print_token=function(e){this.output.push(e)},this.indent=function(){this.indent_level++},this.unindent=function(){0<this.indent_level&&this.indent_level--}},this}).printer(e,r,s,1/0,n);;){var o=i.get_token();if(i.token_text=o[0],i.token_type=o[1],"TK_EOF"===i.token_type)break;switch(i.token_type){case"TK_TAG_START":i.print_newline(!1,i.output),i.print_token(i.token_text),i.indent(),i.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":i.print_newline(!1,i.output),i.print_token(i.token_text),i.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===i.last_token&&""===i.last_text){var a=i.token_text.match(/\w+/)[0],l=i.output[i.output.length-1].match(/<\s*(\w+)/);null!==l&&l[1]===a||i.print_newline(!0,i.output)}i.print_token(i.token_text),i.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var h=i.token_text.match(/^\s*<([a-z]+)/i);h&&i.Utils.in_array(h[1],d)||i.print_newline(!1,i.output),i.print_token(i.token_text),i.current_mode="CONTENT";break;case"TK_CONTENT":""!==i.token_text&&i.print_token(i.token_text),i.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==i.token_text){i.output.push("\n");var c=i.token_text;if("keep"==t.indent_scripts)var u=0;else if("separate"==t.indent_scripts)u=-i.indent_level;else u=1;var p=i.get_full_indent(u),m=c.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(i.indent_string).length-1,f=i.get_full_indent(u-m);(c=c.replace(/^\s*/,p).replace(/\r\n|\r|\n/g,"\n"+f).replace(/\s*$/,""))&&(i.print_token(c),i.print_newline(!0,i.output))}i.current_mode="TAG"}i.last_token=i.token_type,i.last_text=i.token_text}return i.output.join("")}}}(jqxBaseFramework),function(n){n.jqx.jqxWidget("jqxExpander","",{}),n.extend(n.jqx._jqxExpander.prototype,{defineInstance:function(){var e={width:"auto",height:"auto",expanded:!0,expandAnimationDuration:259,collapseAnimationDuration:250,animationType:"slide",toggleMode:"click",showArrow:!0,arrowPosition:"right",headerPosition:"top",disabled:!1,initContent:null,rtl:!1,easing:"easeInOutSine",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["expanding","expanded","collapsing","collapsed","resize"]};return this===n.jqx._jqxExpander.prototype||n.extend(!0,this,e),e},createInstance:function(){this._isTouchDevice=n.jqx.mobile.isTouchDevice(),n.jqx.aria(this),this._cachedHTMLStructure=this.host.html(),this._rendered=!1,this.render(),this._rendered=!0},expand:function(){if(!1===this.disabled&&!1===this.expanded&&1==this._expandChecker){var e=this;switch(this._expandChecker=0,this._raiseEvent("0"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this._header.addClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-icon-arrow-down-selected jqx-expander-arrow-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-expander-arrow-bottom")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top jqx-expander-arrow-expanded-top"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideDown({duration:this.expandAnimationDuration,easing:this.easing,complete:function(){e.expanded=!0,n.jqx.aria(e._header,"aria-expanded",!0),n.jqx.aria(e._content,"aria-hidden",!1),e._raiseEvent("1"),e.initContent&&!1===e._initialized&&(e.initContent(),e._initialized=!0)}}):"bottom"==this.headerPosition&&(this._contentElement.style.display="",this._contentElement.style.height="0px",n.jqx.browser.msie&&n.jqx.browser.version<8&&(this._contentElement.style.display="block"),!0===this._cntntEmpty?this._content.animate({height:0},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){e.expanded=!0,n.jqx.aria(e._header,"aria-expanded",!0),n.jqx.aria(e._content,"aria-hidden",!1),e._raiseEvent("1"),e.initContent&&!1===e._initialized&&(e.initContent(),e._initialized=!0)}}):this._content.animate({height:this._contentHeight},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){e.expanded=!0,n.jqx.aria(e._header,"aria-expanded",!0),n.jqx.aria(e._content,"aria-hidden",!1),e._raiseEvent("1"),e.initContent&&!1===e._initialized&&(e.initContent(),e._initialized=!0)}}));break;case"fade":this._content.fadeIn({duration:this.expandAnimationDuration,easing:this.easing,complete:function(){e.expanded=!0,n.jqx.aria(e._header,"aria-expanded",!0),n.jqx.aria(e._content,"aria-hidden",!1),e._raiseEvent("1"),e.initContent&&!1===e._initialized&&(e.initContent(),e._initialized=!0)}});break;case"none":this._contentElement.style.display="",this.expanded=!0,n.jqx.aria(e._header,"aria-expanded",!0),n.jqx.aria(e._content,"aria-hidden",!1),this._raiseEvent("1"),this.initContent&&!1===this._initialized&&(this.initContent(),this._initialized=!0)}}},collapse:function(){if(!1===this.disabled&&!0===this.expanded&&0===this._expandChecker){var e=this;switch(this._expandChecker=1,this._raiseEvent("2"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),this._header.addClass(this.toThemeProperty("jqx-fill-state-normal")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")),e._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-hover"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-selected jqx-expander-arrow-top jqx-expander-arrow-expanded-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-expander-arrow-bottom")),e._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-hover"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideUp({duration:this.collapseAnimationDuration,easing:this.easing,complete:function(){e.expanded=!1,n.jqx.aria(e._header,"aria-expanded",!1),n.jqx.aria(e._content,"aria-hidden",!0),e._raiseEvent("3")}}):"bottom"==this.headerPosition&&this._content.animate({height:0},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){e._contentElement.style.display="none",e.expanded=!1,n.jqx.aria(e._header,"aria-expanded",!1),n.jqx.aria(e._content,"aria-hidden",!0),e._raiseEvent("3")}});break;case"fade":this._content.fadeOut({duration:this.collapseAnimationDuration,easing:this.easing,complete:function(){e.expanded=!1,n.jqx.aria(e._header,"aria-expanded",!1),n.jqx.aria(e._content,"aria-hidden",!0),e._raiseEvent("3")}});break;case"none":e._contentElement.style.display="none",this.expanded=!1,n.jqx.aria(e._header,"aria-expanded",!1),n.jqx.aria(e._content,"aria-hidden",!0),this._raiseEvent("3")}}},setHeaderContent:function(e){this._headerText.innerHTML=e,this.invalidate()},getHeaderContent:function(){return this._headerText.innerHTML},setContent:function(e){this._content.html(e),this._checkContent(),this.invalidate()},getContent:function(){return this._content.html()},enable:function(){this.disabled=!1,this.refresh(),n.jqx.aria(this,"aria-disabled",!1)},disable:function(){this.disabled=!0,this.refresh(),n.jqx.aria(this,"aria-disabled",!0)},invalidate:function(){n.jqx.isHidden(this.host)||this._setSize()},refresh:function(e){!0!==e&&(this._removeHandlers(),!0===this.showArrow?this._arrowElement.style.display="":this._arrowElement.style.display="none",this._setTheme(),this._setSize(),!1===this.disabled&&this._toggle(),this._keyBoard())},render:function(){var e=this;if(e._rendered)e.refresh();else{this.widgetID=this.element.id;var t=this.host.children();this._headerText=t[0],this._headerElement=document.createElement("div"),this._header=n(this._headerElement),this._contentElement=t[1],this._content=n(this._contentElement),this._content.initAnimate&&this._content.initAnimate(),"top"===this.headerPosition?e.element.insertBefore(e._headerElement,e._headerText):e.element.appendChild(e._headerElement),e._headerElement.appendChild(e._headerText);var i=this._headerText.className;this._headerElement.className=i,this._headerText.className="",this.rtl?this._headerText.className+=" "+e.toThemeProperty("jqx-expander-header-content-rtl"):this._headerText.className+=" "+e.toThemeProperty("jqx-expander-header-content"),e._arrowElement=document.createElement("div"),e._headerElement.appendChild(e._arrowElement),this._arrow=n(e._arrowElement),!0===this.showArrow?e._arrowElement.style.display="":e._arrowElement.style.display="none",null===this._headerElement.getAttribute("tabindex")&&null===this._contentElement.getAttribute("tabindex")&&("top"===e.headerPosition?(this._headerElement.setAttribute("tabindex",1),this._contentElement.setAttribute("tabindex",2)):(this._headerElement.setAttribute("tabindex",2),this._contentElement.setAttribute("tabindex",1))),this._setTheme();try{if(0===this._header.length||0===this._content.length||t.length<2||2<t.length)throw"Invalid jqxExpander structure. Please add only two child div elements to your jqxExpander div that will represent the expander's header and content."}catch(e){throw new Error(e)}this._setSize(),!0===this.expanded?("top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-selected jqx-expander-arrow-top jqx-expander-arrow-expanded-top")),this.initContent&&this.initContent(),this._initialized=!0,this._expandChecker=0):!1===this.expanded&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected jqx-icon-arrow-up-selected")),"top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-expander-arrow-bottom")),this._initialized=!1,this._expandChecker=1,this._contentElement.style.display="none"),this._checkContent(),!1===this.disabled&&this._toggle(),this._keyBoard(),n.jqx.utilities.resize(this.host,function(){e.invalidate()})}},destroy:function(){this.removeHandler(n(window),"resize.expander"+this.widgetID),this.host.remove(),n(this.element).removeData("jqxExpander")},focus:function(){try{!1===this.disabled&&this._headerElement.focus()}catch(e){}},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(e,t,i,s){e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("width"!=t&&"height"!=t?"expanded"==t?!0===s&&!1===i?(this.expanded=!1,this.expand()):!1===s&&!0===i&&(this.expanded=!0,this.collapse()):this.refresh():e._setSize())},_raiseEvent:function(e,t){var i,s=this.events[e],r=new n.Event(s);r.owner=this,r.args=t;try{i=this.host.trigger(r)}catch(e){}return i},resize:function(e,t){this.width=e,this.height=t,this._setSize()},_setSize:function(){this.element.style.width=this._toPx(this.width),this.element.style.height=this._toPx(this.height),this._headerElement.style.height="auto",this._headerElement.style.minHeight=this._arrowElement.offsetHeight;var e=this.arrowPosition;if(this.rtl)switch(e){case"left":e="right";break;case"right":e="left"}"right"==e?(this._headerText.style.float="left",this._headerText.style.marginLeft="0px",this._arrowElement.style.float="right",this._arrowElement.style.position="relative"):"left"==e&&("auto"==this.width?(this._headerText.style.float="left",this._headerText.style.marginLeft="17px",this._arrowElement.style.float="left",this._arrowElement.style.position="absolute"):(this._headerText.style.float="right",this._headerText.style.marginLeft="0px",this._arrowElement.style.float="left",this._arrowElement.style.position="relative")),this._arrowElement.style.marginTop=this._headerText.offsetHeight/2-this._arrowElement.offsetHeight/2+"px",this._contentElement.style.height="auto";var t=Math.max(0,this._content.height());if("auto"==this.height)this._contentHeight=t;else{var i=Math.round(this.element.offsetHeight)-Math.round(this._header.outerHeight())-1;i<0&&(i=0),this._contentHeight||(this._contentHeight=t),i!=this._contentHeight?(this._contentElement.style.height=this._toPx(i),this._contentHeight=Math.round(this._content.outerHeight())):this._contentElement.style.height=this._toPx(this._contentHeight)}},_toggle:function(){var e=this;if(!1===this._isTouchDevice)switch(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.toggleMode){case"click":this.addHandler(this._header,"click.expander"+this.widgetID,function(){e._animate()});break;case"dblclick":this.addHandler(this._header,"dblclick.expander"+this.widgetID,function(){e._animate()});break;case"none":this._header.addClass(this.toThemeProperty("jqx-expander-header-disabled"))}else{if("none"==this.toggleMode)return;this.addHandler(this._header,n.jqx.mobile.getTouchEventName("touchstart")+"."+this.widgetID,function(){e._animate()})}},_animate:function(){!0===this.expanded?(this.collapse(),this._header.addClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover"))):(this.expand(),this._header.removeClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==this.headerPosition?this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==this.headerPosition&&this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover")))},_removeHandlers:function(){this.removeHandler(this._header,"click.expander"+this.widgetID),this.removeHandler(this._header,"dblclick.expander"+this.widgetID),this.removeHandler(this._header,"mouseenter.expander"+this.widgetID),this.removeHandler(this._header,"mouseleave.expander"+this.widgetID)},_setTheme:function(){var e=this,t="jqx-widget jqx-expander",i="jqx-widget-header jqx-expander-header",s="jqx-widget-content jqx-expander-content";!0===this.rtl&&(t+=" jqx-rtl"),!1===this.disabled?(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),!0===this.expanded?i+=" jqx-fill-state-pressed jqx-expander-header-expanded":(i+=" jqx-fill-state-normal",this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded"))),this._hovered=!1,e._isTouchDevice||(this.addHandler(this._header,"mouseenter.expander"+this.widgetID,function(){e._hovered=!0,1==e._expandChecker&&(e._header.removeClass(e.toThemeProperty("jqx-fill-state-normal jqx-fill-state-pressed")),e._header.addClass(e.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==e.headerPosition?(e.expanded?e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-up-hover")):e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover"))):"bottom"==e.headerPosition&&(e.expanded&&e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover"))))}),this.addHandler(this._header,"mouseleave.expander"+this.widgetID,function(){e._hovered=!1,e._header.removeClass(e.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),e._arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-hover jqx-icon-arrow-down-hover")),"top"==e.headerPosition?e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==e.headerPosition&&e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover")),1==e._expandChecker?e._header.addClass(e.toThemeProperty("jqx-fill-state-normal")):e._header.addClass(e.toThemeProperty("jqx-fill-state-pressed"))}))):(t+=" jqx-fill-state-disabled",i+=" jqx-expander-header-disabled"),"top"==this.headerPosition?s+=" jqx-expander-content-bottom":"bottom"==this.headerPosition&&(s+=" jqx-expander-content-top"),this.host.addClass(this.toThemeProperty(t)),this._header.addClass(this.toThemeProperty(i)),this._content.addClass(this.toThemeProperty(s)),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow"))},_checkContent:function(){this._cntntEmpty=/^\s*$/.test(this._contentElement.innerHTML),!0===this._cntntEmpty?(this._contentElement.style.height="0px",this._content.addClass(this.toThemeProperty("jqx-expander-content-empty"))):("auto"===this.height?this._contentElement.style.height="auto":this._contentElement.style.height=this._contentHeight+"px",this._content.removeClass(this.toThemeProperty("jqx-expander-content-empty")))},_keyBoard:function(){var i=this;this._focus(),this.addHandler(this.host,"keydown.expander"+this.widgetID,function(e){var t=!1;if((!0===i.focusedH||!0===i.focusedC)&&!1===i.disabled){switch(e.keyCode){case 13:case 32:"none"!=i.toggleMode&&(!0===i.focusedH&&i._animate(),t=!0);break;case 38:!0===e.ctrlKey&&!0===i.focusedC&&i._headerElement.focus(),t=!0;break;case 40:!0===e.ctrlKey&&!0===i.focusedH&&i._contentElement.focus(),t=!0}return!0}return t&&e.preventDefault&&e.preventDefault(),!t})},_focus:function(){var e=this;this.addHandler(this._header,"focus.expander"+this.widgetID,function(){e.focusedH=!0,n.jqx.aria(e._header,"aria-selected",!0),e._header.addClass(e.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._header,"blur.expander"+this.widgetID,function(){e.focusedH=!1,n.jqx.aria(e._header,"aria-selected",!1),e._header.removeClass(e.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._headerText,"focus.expander"+this.widgetID,function(){e._headerElement.focus()}),this.addHandler(this._arrow,"focus.expander"+this.widgetID,function(){e._headerElement.focus()}),this.addHandler(this._content,"focus.expander"+this.widgetID,function(){e.focusedC=!0,e._content.addClass(e.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._content,"blur.expander"+this.widgetID,function(){e.focusedC=!1,e._content.removeClass(e.toThemeProperty("jqx-fill-state-focus"))})},_toPx:function(e){return"number"==typeof e?e+"px":e}})}(jqxBaseFramework),function(p){p.jqx.jqxWidget("jqxFileUpload","",{}),p.extend(p.jqx._jqxFileUpload.prototype,{defineInstance:function(){var e={width:null,height:"auto",uploadUrl:"",fileInputName:"",autoUpload:!1,multipleFilesUpload:!0,accept:null,browseTemplate:"",uploadTemplate:"",cancelTemplate:"",localization:null,renderFiles:null,disabled:!1,rtl:!1,events:["select","remove","uploadStart","uploadEnd"]};return this===p.jqx._jqxFileUpload.prototype||p.extend(!0,this,e),e},createInstance:function(){var e=this;if(void 0===e.host.jqxButton)throw new Error("jqxFileUpload: Missing reference to jqxbuttons.js");e._createFromInput("jqxFileUpload"),p.jqx.browser.msie?p.jqx.browser.version<11&&(e._ieOldWebkit=!0,p.jqx.browser.version<8&&(e._ie7=!0)):p.jqx.browser.webkit&&(e._ieOldWebkit=!0),e._fluidWidth="string"==typeof e.width&&"%"===e.width.charAt(e.width.length-1),e._fluidHeight="string"==typeof e.height&&"%"===e.height.charAt(e.height.length-1),e._render(!0)},_createFromInput:function(e){var t=this;if("input"==t.element.nodeName.toLowerCase()){t.field=t.element,t.field.className&&(t._className=t.field.className);var i={title:t.field.title};t.field.id.length?i.id=t.field.id.replace(/[^\w]/g,"_")+"_"+e:i.id=p.jqx.utilities.createId()+"_"+e;var s=p("<div></div>",i);s[0].style.cssText=t.field.style.cssText,t.width||(t.width=p(t.field).width()),t.height||(t.height=p(t.field).outerHeight()),p(t.field).hide().after(s);var r=t.host.data();if(t.host=s,t.host.data(r),t.element=s[0],t.element.id=t.field.id,t.field.id=i.id,t._className&&(t.host.addClass(t._className),p(t.field).removeClass(t._className)),t.field.tabIndex){var n=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=n}}},_render:function(e){var n=this;n._setSize(),n._addClasses(),!0===e?n._appendElements():n._removeHandlers(),n._addHandlers(),n._ie7&&(n._borderAndPadding("width",n.host),"auto"!==n.height&&n._borderAndPadding("height",n.host)),p.jqx.utilities.resize(n.host,null,!0),p.jqx.utilities.resize(n.host,function(){if(n._fluidWidth){n._ie7&&(n.host.css("width",n.width),n._borderAndPadding("width",n.host));for(var e=0;e<n._fileRows.length;e++){var t=n._fileRows[e],i=t.fileRow;n._ie7&&(i.css("width","100%"),n._borderAndPadding("width",i)),n.renderFiles||n._setMaxWidth(t)}if(n.rtl&&n._ieOldWebkit)for(var s=0;s<n._forms.length;s++){var r=n._browseButton.position();n._forms[s].form.css({left:r.left,top:r.top})}}n._ie7&&n._fluidHeight&&(n.host.css("height",n.height),n._borderAndPadding("height",n.host))})},render:function(){this._render(!1)},refresh:function(e){!0!==e&&this._render(!1)},destroy:function(){this.cancelAll(),this._removeHandlers(!0),this.host.remove()},browse:function(){if(!(p.jqx.browser.msie&&p.jqx.browser.version<10)){(!0===this.multipleFilesUpload||!1===this.multipleFilesUpload&&0===this._fileRows.length)&&this._forms[this._forms.length-1].fileInput.click()}},_uploadFile:function(e){0===this._uploadQueue.length&&this._uploadQueue.push(e),this.renderFiles||(e.uploadFile.add(e.cancelFile).hide(),e.loadingElement.show()),e.fileInput.attr("name",this.fileInputName),this._raiseEvent("2",{file:e.fileName}),e.form[0].submit(),this._fileObjectToRemove=e},uploadFile:function(e){var t=this._fileRows[e];void 0!==t&&this._uploadFile(t)},uploadAll:function(){if(0<this._fileRows.length){for(var e=this._fileRows.length-1;0<=e;e--)this._uploadQueue.push(this._fileRows[e]);this._uploadFile(this._fileRows[0])}},cancelFile:function(e){this._removeSingleFileRow(this._fileRows[e])},cancelAll:function(){var e=this;if(0<e._fileRows.length){for(var t=0;t<e._fileRows.length;t++)e._removeFileRow(e._fileRows[t]);setTimeout(function(){e._browseButton.css("margin-bottom",0)},400),e._fileRows.length=0,e._hideButtons(!0)}},propertyChangedHandler:function(r,e,t,i){var s=r.element.id;if("localization"===e)return!i.browseButton||t&&i.browseButton===t.browseButton||(r._browseButton.text(i.browseButton),r._browseButton.jqxButton({width:"auto"})),!i.uploadButton||t&&i.uploadButton===t.uploadButton||(r._uploadButton.text(i.uploadButton),r._uploadButton.jqxButton({width:"auto"})),!i.cancelButton||t&&i.cancelButton===t.cancelButton||(r._cancelButton.text(i.cancelButton),r._cancelButton.jqxButton({width:"auto"})),void(r.renderFiles||(!i.uploadFileTooltip||t&&i.uploadFileTooltip===t.uploadFileTooltip||p("#"+s+" .jqx-file-upload-file-upload").attr("title",i.uploadFileTooltip),!i.uploadFileTooltip||t&&i.cancelFileTooltip===t.cancelFileTooltip||p("#"+s+" .jqx-file-upload-file-cancel").attr("title",i.cancelFileTooltip)));if(i!==t)switch(e){case"width":if(r.host.css("width",i),r._ie7){r._borderAndPadding("width",r.host);for(var n=0;n<r._fileRows.length;n++){var o=r._fileRows[n].fileRow;o.css("width","100%"),r._borderAndPadding("width",o)}}return void(r._fluidWidth="string"==typeof i&&"%"===i.charAt(i.length-1));case"height":return r.host.css("height",i),r._ie7&&r._borderAndPadding("height",r.host),void(r._fluidHeight="string"==typeof i&&"%"===i.charAt(i-1));case"uploadUrl":for(var a=0;a<r._forms.length;a++)r._forms[a].form.attr("action",i);return;case"accept":for(var l=0;l<r._forms.length;l++)r._forms[l].fileInput.attr("accept",i);return;case"theme":return p.jqx.utilities.setTheme(t,i,r.host),r._browseButton.jqxButton({theme:i}),r._uploadButton.jqxButton({theme:i}),void r._cancelButton.jqxButton({theme:i});case"browseTemplate":return void r._browseButton.jqxButton({template:i});case"uploadTemplate":return void r._uploadButton.jqxButton({template:i});case"cancelTemplate":return void r._cancelButton.jqxButton({template:i});case"disabled":return r._browseButton.jqxButton({disabled:i}),r._uploadButton.jqxButton({disabled:i}),r._cancelButton.jqxButton({disabled:i}),void(!0===i?r.host.addClass(r.toThemeProperty("jqx-fill-state-disabled")):r.host.removeClass(r.toThemeProperty("jqx-fill-state-disabled")));case"rtl":return void function(e){var t=e?"addClass":"removeClass";r._browseButton[t](r.toThemeProperty("jqx-file-upload-button-browse-rtl")),r._cancelButton[t](r.toThemeProperty("jqx-file-upload-button-cancel-rtl")),r._uploadButton[t](r.toThemeProperty("jqx-file-upload-button-upload-rtl")),p.jqx.browser.msie&&8<p.jqx.browser.version&&r._uploadButton[t](r.toThemeProperty("jqx-file-upload-button-upload-rtl-ie"));for(var i=0;i<r._fileRows.length;i++){var s=r._fileRows[i];s.fileNameContainer[t](r.toThemeProperty("jqx-file-upload-file-name-rtl")),s.cancelFile[t](r.toThemeProperty("jqx-file-upload-file-cancel-rtl")),s.uploadFile[t](r.toThemeProperty("jqx-file-upload-file-upload-rtl")),s.loadingElement[t](r.toThemeProperty("jqx-file-upload-loading-element-rtl"))}}(i)}},_raiseEvent:function(e,t){void 0===t&&(t={owner:null});var i=this.events[e];t.owner=this;var s=new p.Event(i);return s.owner=this,s.args=t,s.preventDefault&&s.preventDefault(),this.host.trigger(s)},_setSize:function(){this.host.css("width",this.width),this.host.css("height",this.height)},_borderAndPadding:function(e,t){var i;i="width"===e?parseInt(t.css("border-left-width"),10)+parseInt(t.css("border-right-width"),10)+parseInt(t.css("padding-left"),10)+parseInt(t.css("padding-right"),10):parseInt(t.css("border-top-width"),10)+parseInt(t.css("border-bottom-width"),10)+parseInt(t.css("padding-top"),10)+parseInt(t.css("padding-bottom"),10),t.css(e,t[e]()-i)},_addClasses:function(){this.host.addClass(this.toThemeProperty("jqx-widget jqx-widget-content jqx-rc-all jqx-file-upload")),!0===this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))},_appendElements:function(){var e=this,t="Browse",i=90,s="Upload All",r=90,n="Cancel All",o=90,a=e.element.id;e.localization&&(e.localization.browseButton&&(t=e.localization.browseButton,i="auto"),e.localization.uploadButton&&(s=e.localization.uploadButton,r="auto"),e.localization.cancelButton&&(n=e.localization.cancelButton,o="auto")),e._browseButton=p('<button id="'+a+'BrowseButton" class="'+e.toThemeProperty("jqx-file-upload-button-browse")+'">'+t+"</button>"),e.host.append(e._browseButton),e._browseButton.jqxButton({theme:e.theme,width:i,template:e.browseTemplate,disabled:e.disabled}),e._browseButton.after('<div style="clear: both;"></div>'),e._bottomButtonsContainer=p('<div class="'+e.toThemeProperty("jqx-file-upload-buttons-container")+'"></div>'),e.host.append(e._bottomButtonsContainer),e._uploadButton=p('<button id="'+a+'UploadButton" class="'+e.toThemeProperty("jqx-file-upload-button-upload")+'">'+s+"</button>"),e._bottomButtonsContainer.append(e._uploadButton),e._uploadButton.jqxButton({theme:e.theme,width:r,template:e.uploadTemplate,disabled:e.disabled}),e._cancelButton=p('<button id="'+a+'CancelButton" class="'+e.toThemeProperty("jqx-file-upload-button-cancel")+'">'+n+"</button>"),e._bottomButtonsContainer.append(e._cancelButton),e._cancelButton.jqxButton({theme:e.theme,width:o,template:e.cancelTemplate,disabled:e.disabled}),e._bottomButtonsContainer.after('<div style="clear: both;"></div>'),e.rtl&&(e._browseButton.addClass(e.toThemeProperty("jqx-file-upload-button-browse-rtl")),e._cancelButton.addClass(e.toThemeProperty("jqx-file-upload-button-cancel-rtl")),e._uploadButton.addClass(e.toThemeProperty("jqx-file-upload-button-upload-rtl")),p.jqx.browser.msie&&8<p.jqx.browser.version&&e._uploadButton.addClass(e.toThemeProperty("jqx-file-upload-button-upload-rtl-ie"))),e._uploadIframe=p('<iframe name="'+a+'Iframe" class="'+e.toThemeProperty("jqx-file-upload-iframe")+'" src=""></iframe>'),e.host.append(e._uploadIframe),e._iframeInitialized=!1,e._uploadQueue=[],e._forms=[],e._addFormAndFileInput(),e._fileRows=[]},_addFormAndFileInput:function(){var s=this,r=s.element.id,n=p('<form class="'+s.toThemeProperty("jqx-file-upload-form")+'" action="'+s.uploadUrl+'" target="'+r+'Iframe" method="post" enctype="multipart/form-data"></form>');s.host.append(n);var o=p('<input type="file" class="'+s.toThemeProperty("jqx-file-upload-file-input")+'" />');if(s.accept&&o.attr("accept",s.accept),n.append(o),s._ieOldWebkit){var e=s._browseButton.position(),t=s._browseButton.outerWidth(),i=s._browseButton.outerHeight(),a=s.rtl&&s._ie7?12:0;n.css({left:e.left-a,top:e.top,width:t,height:i}),n.addClass(s.toThemeProperty("jqx-file-upload-form-ie9")),o.addClass(s.toThemeProperty("jqx-file-upload-file-input-ie9")),s.addHandler(n,"mouseenter.jqxFileUpload"+r,function(){s._browseButton.addClass(s.toThemeProperty("jqx-fill-state-hover"))}),s.addHandler(n,"mouseleave.jqxFileUpload"+r,function(){s._browseButton.removeClass(s.toThemeProperty("jqx-fill-state-hover"))}),s.addHandler(n,"mousedown.jqxFileUpload"+r,function(){s._browseButton.addClass(s.toThemeProperty("jqx-fill-state-pressed"))}),s.addHandler(p(document),"mouseup.jqxFileUpload"+r,function(){s._browseButton.hasClass("jqx-fill-state-pressed")&&s._browseButton.removeClass(s.toThemeProperty("jqx-fill-state-pressed"))})}s.addHandler(o,"change.jqxFileUpload"+r,function(){var e,t=this.value;p.jqx.browser.mozilla||(t=-1!==t.indexOf("fakepath")?t.slice(12):t.slice(t.lastIndexOf("\\")+1)),e=p.jqx.browser.msie&&p.jqx.browser.version<10?"IE9 and earlier do not support getting the file size.":this.files[0].size;var i=s._addFileRow(t,n,o,e);1===s._fileRows.length&&(s._browseButton.css("margin-bottom","10px"),s._hideButtons(!1)),s._ieOldWebkit&&(s.removeHandler(n,"mouseenter.jqxFileUpload"+r),s.removeHandler(n,"mouseleave.jqxFileUpload"+r),s.removeHandler(n,"mousedown.jqxFileUpload"+r)),s._addFormAndFileInput(),s.removeHandler(o,"change.jqxFileUpload"+r),!0===s.autoUpload&&s._uploadFile(i)}),!0===s._ieOldWebkit&&s.addHandler(o,"click.jqxFileUpload"+r,function(e){!1===s.multipleFilesUpload&&0<s._fileRows.length&&e.preventDefault()}),s._forms.push({form:n,fileInput:o})},_addFileRow:function(e,t,i,s){var r,n,o,a,l,d=this,h="Cancel",c="Upload File";r=p('<div class="'+d.toThemeProperty("jqx-widget-content jqx-rc-all jqx-file-upload-file-row")+'"></div>'),0===d._fileRows.length?d._browseButton.after(r):d._fileRows[d._fileRows.length-1].fileRow.after(r),d.renderFiles?r.html(d.renderFiles(e)):(n=p('<div class="'+d.toThemeProperty("jqx-widget-header jqx-rc-all jqx-file-upload-file-name")+'">'+e+"</div>"),r.append(n),d.localization&&(d.localization.cancelFileTooltip&&(h=d.localization.cancelFileTooltip),d.localization.uploadFileTooltip&&(c=d.localization.uploadFileTooltip)),a=p('<div class="'+d.toThemeProperty("jqx-widget-header jqx-rc-all jqx-file-upload-file-cancel")+'" title="'+h+'"><div class="'+d.toThemeProperty("jqx-icon-close jqx-file-upload-icon")+'"></div></div>'),r.append(a),l=p('<div class="'+d.toThemeProperty("jqx-widget-header jqx-rc-all jqx-file-upload-file-upload")+'" title="'+c+'"><div class="'+d.toThemeProperty("jqx-icon-arrow-up jqx-file-upload-icon jqx-file-upload-icon-upload")+'"></div></div>'),r.append(l),o=p('<div class="'+d.toThemeProperty("jqx-file-upload-loading-element")+'"></div>'),r.append(o),d.rtl&&(n.addClass(d.toThemeProperty("jqx-file-upload-file-name-rtl")),a.addClass(d.toThemeProperty("jqx-file-upload-file-cancel-rtl")),l.addClass(d.toThemeProperty("jqx-file-upload-file-upload-rtl")),o.addClass(d.toThemeProperty("jqx-file-upload-loading-element-rtl"))),d._setMaxWidth({fileNameContainer:n,uploadFile:l,cancelFile:a})),d._ie7&&(d._borderAndPadding("width",r),d._borderAndPadding("height",r),d.renderFiles||(d._borderAndPadding("height",n),d._borderAndPadding("height",l),d._borderAndPadding("height",a)));var u={fileRow:r,fileNameContainer:n,fileName:e,uploadFile:l,cancelFile:a,loadingElement:o,form:t,fileInput:i,index:d._fileRows.length};return d._addFileHandlers(u),d._fileRows.push(u),d._raiseEvent("0",{file:e,size:s}),u},_setMaxWidth:function(e){var t=e.cancelFile.outerWidth(!0)+e.uploadFile.outerWidth(!0),i=this._ie7?6:0,s=this.host.width()-parseInt(this.host.css("padding-left"),10)-parseInt(this.host.css("padding-right"),10)-t-i-7;e.fileNameContainer.css("max-width",s)},_addFileHandlers:function(e){var t=this;if(!t.renderFiles){var i=t.element.id;t.addHandler(e.uploadFile,"mouseenter.jqxFileUpload"+i,function(){!1===t.disabled&&e.uploadFile.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(e.uploadFile,"mouseleave.jqxFileUpload"+i,function(){!1===t.disabled&&e.uploadFile.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(e.uploadFile,"click.jqxFileUpload"+i,function(){!1===t.disabled&&t._uploadFile(e)}),t.addHandler(e.cancelFile,"mouseenter.jqxFileUpload"+i,function(){!1===t.disabled&&e.cancelFile.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(e.cancelFile,"mouseleave.jqxFileUpload"+i,function(){!1===t.disabled&&e.cancelFile.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(e.cancelFile,"click.jqxFileUpload"+i,function(){!1===t.disabled&&t._removeSingleFileRow(e)})}},_removeSingleFileRow:function(e){var t=this;if(t._removeFileRow(e),t._fileRows.splice(e.index,1),0===t._fileRows.length)setTimeout(function(){t._browseButton.css("margin-bottom",0)},400),t._hideButtons(!0);else for(var i=0;i<t._fileRows.length;i++)t._fileRows[i].index=i},_removeFileRow:function(e){var t=this.element.id;this.renderFiles||(this.removeHandler(e.uploadFile,"mouseenter.jqxFileUpload"+t),this.removeHandler(e.uploadFile,"mouseleave.jqxFileUpload"+t),this.removeHandler(e.uploadFile,"click.jqxFileUpload"+t),this.removeHandler(e.cancelFile,"mouseenter.jqxFileUpload"+t),this.removeHandler(e.cancelFile,"mouseleave.jqxFileUpload"+t),this.removeHandler(e.cancelFile,"click.jqxFileUpload"+t)),e.fileRow.fadeOut(function(){e.fileRow.remove(),e.form.remove()}),this._raiseEvent("1",{file:e.fileName})},_hideButtons:function(e){!0===e?this._bottomButtonsContainer.fadeOut():this._bottomButtonsContainer.fadeIn()},_addHandlers:function(){var t=this,e=t.element.id;t._ieOldWebkit||t.addHandler(t._browseButton,"click.jqxFileUpload"+e,function(){t.browse()}),t.addHandler(t._uploadButton,"click.jqxFileUpload"+e,function(){t.uploadAll()}),t.addHandler(t._cancelButton,"click.jqxFileUpload"+e,function(){t.cancelAll()}),t.addHandler(t._uploadIframe,"load.jqxFileUpload"+e,function(){if((p.jqx.browser.chrome||p.jqx.browser.webkit)&&(t._iframeInitialized=!0),!1===t._iframeInitialized)t._iframeInitialized=!0;else{var e=t._uploadIframe.contents().find("body").html();0<t._uploadQueue.length&&t._raiseEvent("3",{file:t._uploadQueue[t._uploadQueue.length-1].fileName,response:e}),t._fileObjectToRemove&&(t._removeSingleFileRow(t._fileObjectToRemove),t._fileObjectToRemove=null),t._uploadQueue.pop(),0<t._uploadQueue.length&&t._uploadFile(t._uploadQueue[t._uploadQueue.length-1])}})},_removeHandlers:function(e){var t=this,i=t.element.id;if(t.removeHandler(t._browseButton,"click.jqxFileUpload"+i),t.removeHandler(t._uploadButton,"click.jqxFileUpload"+i),t.removeHandler(t._cancelButton,"click.jqxFileUpload"+i),t.removeHandler(t._uploadIframe,"load.jqxFileUpload"+i),!0===e){var s=t._forms[t._forms.length-1];t.removeHandler(s.fileInput,"change.jqxFileUpload"+i),t._ieOldWebkit&&(t.removeHandler(s.form,"mouseenter.jqxFileUpload"+i),t.removeHandler(s.form,"mouseleave.jqxFileUpload"+i),t.removeHandler(s.form,"mousedown.jqxFileUpload"+i),t.removeHandler(p("body"),"mouseup.jqxFileUpload"+i))}}})}(jqxBaseFramework),function(u){u.jqx.jqxWidget("jqxFormattedInput","",{}),u.extend(u.jqx._jqxFormattedInput.prototype,{defineInstance:function(){var e={width:null,height:null,radix:10,decimalNotation:"default",value:"0",min:"-9223372036854775808",max:"9223372036854775807",upperCase:!1,spinButtons:!0,spinButtonsStep:1,dropDown:!1,dropDownWidth:null,popupZIndex:2e4,placeHolder:"",roundedCorners:!0,disabled:!1,rtl:!1,changeType:null,template:"",_opened:!1,$popup:u("<ul></ul>"),item:'<li><a href="#"></a></li>',events:["open","close","change","radixChange"]};return this===u.jqx._jqxFormattedInput.prototype||u.extend(!0,this,e),e},createInstance:function(){this._Long(),this._regex={2:new RegExp(/([0-1])/),8:new RegExp(/([0-7])/),10:new RegExp(/([0-9\-])/),16:new RegExp(/([0-9]|[a-f])/i)},this.render()},render:function(){var i=this;if(i._radixNumber=i._getRadix(i.radix),""!==i.value&&(i._number=new i.longObj.math.Long.fromString(i.value.toString(),i._radixNumber)),i.baseHost&&(i.host=i.baseHost,i.element=i.host[0]),"div"===this.element.nodeName.toLowerCase()){this.baseHost=this.element;var t=this.host.find("input"),s=!1;if(u.each(t,function(){var e=this.type;if(null===e||"text"===e||"textarea"===e)return t=u(this),!(s=!0)}),!s)throw new Error("jqxFormattedInput: Missing Text Input in the Input Group");if(0<t.length){this.baseHost=u(this.element);var e=this.host.data();this.host=t,this.element=t[0],this.host.data(e),this.baseHost.addClass(this.toThemeProperty("jqx-widget")),this.baseHost.addClass(this.toThemeProperty("jqx-rc-all")),this.baseHost.addClass(this.toThemeProperty("jqx-input-group"));var r=this.baseHost.children();u.each(r,function(e){if(u(this).addClass(i.toThemeProperty("jqx-input-group-addon")),u(this).removeClass(i.toThemeProperty("jqx-rc-all")),0===e&&u(this).addClass(i.toThemeProperty("jqx-rc-l")),e===r.length-1&&u(this).addClass(i.toThemeProperty("jqx-rc-r")),this!==i.element&&u(this).addClass(i.toThemeProperty("jqx-fill-state-normal")),"div"===this.nodeName.toLowerCase()){var t=function(e){i._addon=u(e),i._addon.addClass(i.toThemeProperty("jqx-formatted-input-addon")),i._arrow||(i._arrow=u('<div class="'+i.toThemeProperty("jqx-icon")+" "+i.toThemeProperty("jqx-icon-arrow-down")+'"></div>'),i._arrow.appendTo(i._addon)),i.template&&i._addon.addClass(i.toThemeProperty("jqx-"+i.template))};!(i.appendSpinButtons=function(e){i._spinButtonsContainer=u(e),i._spinButtonsContainer.addClass(i.toThemeProperty("jqx-formatted-input-spin-buttons-container"));var t='<div class="'+i.toThemeProperty("jqx-fill-state-normal jqx-formatted-input-spin-button")+'"><div class="'+i.toThemeProperty("jqx-input-icon")+'"></div></div>';i._upbutton=u(t),i._spinButtonsContainer.append(i._upbutton),i._downbutton=u(t),i._spinButtonsContainer.append(i._downbutton),i._upArrow=i._upbutton.find("div"),i._upArrow.addClass(i.toThemeProperty("jqx-icon-arrow-up")),i._downArrow=i._downbutton.find("div"),i._downArrow.addClass(i.toThemeProperty("jqx-icon-arrow-down")),i.template&&(i._upbutton.addClass(i.toThemeProperty("jqx-"+i.template)),i._downbutton.addClass(i.toThemeProperty("jqx-"+i.template))),i._spinButtonsStepLong=new i.longObj.math.Long.fromNumber(i.spinButtonsStep)})===i.rtl?i._spinButtonsContainer||!0!==i.spinButtons?i._addon||!0!==i.dropDown||2!==e&&(1!==e||!1!==i.spinButtons)||t(this):i.appendSpinButtons(this):i._addon||!0!==i.dropDown?i._spinButtonsContainer||!0!==i.spinButtons||1!==e&&(0!==e||!1!==i.dropDown)||(i.appendSpinButtons(this),i._spinButtonsContainer.addClass(i.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl")),!0===i.dropDown&&i._addon.addClass(i.toThemeProperty("jqx-formatted-input-addon-rtl"))):(t(this),!0===i.spinButtons&&i._addon.addClass(i.toThemeProperty("jqx-formatted-input-addon-rtl")))}})}}i._inputAndAddon=i.host,i.baseHost&&(i._spinButtonsContainer&&(i._inputAndAddon=i._inputAndAddon.add(i._spinButtonsContainer)),i._addon&&(i._inputAndAddon=i._inputAndAddon.add(i._addon))),i.removeHandlers(),this.addHandlers(),this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl")),this.host.attr("role","textbox"),u.jqx.aria(this,"aria-autocomplete","both"),u.jqx.aria(this,"aria-disabled",this.disabled),u.jqx.aria(this,"aria-readonly",!1),u.jqx.aria(this,"aria-multiline",!1),u.jqx.aria(this,"aria-haspopup",!0),""!==i.value&&null!==i.value?(!0===i.upperCase?i.host.addClass(i.toThemeProperty("jqx-formatted-input-upper-case")):i.host.addClass(i.toThemeProperty("jqx-formatted-input-lower-case")),10===i._radixNumber&&"exponential"===i.decimalNotation?i.element.value=i._getDecimalNotation("exponential"):i.element.value=i.value):i._spinButtonsContainer&&i._spinButtonsContainer.addClass(i.toThemeProperty("jqx-fill-state-disabled")),10!==i._radixNumber&&"-9223372036854775808"===i.min.toString()?i._minLong=new i.longObj.math.Long.fromNumber(i.min):i._setMinMax("min"),10!==i._radixNumber&&"9223372036854775807"===i.max.toString()?i._maxLong=new i.longObj.math.Long.fromNumber(i.max):i._setMinMax("max")},_refreshClasses:function(e){var t=e?"addClass":"removeClass";this.host[t](this.toThemeProperty("jqx-widget-content")),this.host[t](this.toThemeProperty("jqx-input")),this.host[t](this.toThemeProperty("jqx-formatted-input")),this.host[t](this.toThemeProperty("jqx-widget")),this.$popup[t](this.toThemeProperty("jqx-popup")),u.jqx.browser.msie&&this.$popup[t](this.toThemeProperty("jqx-noshadow")),this.$popup[t](this.toThemeProperty("jqx-input-popup")),this.$popup[t](this.toThemeProperty("jqx-menu")),this.$popup[t](this.toThemeProperty("jqx-menu-vertical")),this.$popup[t](this.toThemeProperty("jqx-menu-dropdown")),this.$popup[t](this.toThemeProperty("jqx-widget")),this.$popup[t](this.toThemeProperty("jqx-widget-content")),this.roundedCorners?(this.host[t](this.toThemeProperty("jqx-rc-all")),this.$popup[t](this.toThemeProperty("jqx-rc-all")),this.baseHost&&(this.baseHost[t](this.toThemeProperty("jqx-rc-all")),!1===this.rtl?(this.host[t](this.toThemeProperty("jqx-rc-l")),this._addon&&this._addon[t](this.toThemeProperty("jqx-rc-r"))):(this.host[t](this.toThemeProperty("jqx-rc-r")),this._addon&&this._addon[t](this.toThemeProperty("jqx-rc-l"))))):(this.host.removeClass(this.toThemeProperty("jqx-rc-all")),this.$popup.removeClass(this.toThemeProperty("jqx-rc-all")),this.baseHost&&(this.baseHost.removeClass(this.toThemeProperty("jqx-rc-all")),!1===this.rtl?(this.host.removeClass(this.toThemeProperty("jqx-rc-l")),this.dropDown?this._addon.removeClass(this.toThemeProperty("jqx-rc-r")):this.spinButtons&&this._spinButtonsContainer.removeClass(this.toThemeProperty("jqx-rc-r"))):(this.host.removeClass(this.toThemeProperty("jqx-rc-r")),this.dropDown?this._addon.removeClass(this.toThemeProperty("jqx-rc-l")):this.spinButtons&&this._spinButtonsContainer.removeClass(this.toThemeProperty("jqx-rc-l"))))),this.disabled?(this.host[t](this.toThemeProperty("jqx-fill-state-disabled")),this.baseHost&&(this._spinButtonsContainer&&this._spinButtonsContainer[t](this.toThemeProperty("jqx-fill-state-disabled")),this._addon&&this._addon[t](this.toThemeProperty("jqx-fill-state-disabled")))):(this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.baseHost&&""!==this.value&&null!==this.value&&(this._spinButtonsContainer&&this._spinButtonsContainer.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this._addon&&this._addon.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))))},selectAll:function(){var t=this.host;setTimeout(function(){if("selectionStart"in t[0])t[0].focus(),t[0].setSelectionRange(0,t[0].value.length);else{var e=t[0].createTextRange();e.collapse(!0),e.moveEnd("character",t[0].value.length),e.moveStart("character",0),e.select()}},10)},selectLast:function(){var e=this.host;this.selectStart(e[0].value.length)},selectFirst:function(){this.selectStart(0)},selectStart:function(t){var i=this.host;setTimeout(function(){if("selectionStart"in i[0])i[0].focus(),i[0].setSelectionRange(t,t);else{var e=i[0].createTextRange();e.collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select()}},10)},focus:function(){try{this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25)}catch(e){}},refresh:function(){var e=this;if(this._refreshClasses(!1),this._refreshClasses(!0),this.baseHost){if(this.width&&this.baseHost.width(this.width),this.height){this.baseHost.height(this.height);var t=0,i=this.baseHost.height()-2;u.jqx.browser.msie&&u.jqx.browser.version<8&&this.baseHost.css("display","inline-block"),u.each(this.baseHost.children(),function(){u(this).css("height","100%"),u.jqx.browser.msie&&u.jqx.browser.version<8&&u(this).css("height",i+"px"),this!==e.element&&(t+=u(this).outerWidth())});var s="string"==typeof e.width&&"%"===e.width.charAt(e.width.length-1)?1:0;if(this.host.css("width",this.baseHost.width()-t-s+"px"),u.jqx.browser.msie&&u.jqx.browser.version<9){e._spinButtonsContainer&&(!1===e.rtl||!0===e.rtl&&e._addon)&&e._spinButtonsContainer.css("border-left-width","0"),e._addon&&(!1===e.rtl?e._addon.css("border-left-width","0"):e._spinButtonsContainer||e._addon.css("border-right-width","0"));var r=0;if(u.jqx.browser.version<8){var n=0,o=parseInt(e.host.css("border-left-width"),10)+parseInt(e.host.css("border-right-width"),10),a=parseInt(e.host.css("padding-left"),10)+parseInt(e.host.css("padding-right"),10);e._spinButtonsContainer&&(o+=parseInt(e._spinButtonsContainer.css("border-left-width"),10)+parseInt(e._spinButtonsContainer.css("border-right-width"),10),a+=parseInt(e._spinButtonsContainer.css("padding-left"),10)+parseInt(e._spinButtonsContainer.css("padding-right"),10),e._addon||(n=2)),e._addon&&(o+=parseInt(e._addon.css("border-left-width"),10)+parseInt(e._addon.css("border-right-width"),10),a+=parseInt(e._addon.css("padding-left"),10)+parseInt(e._addon.css("padding-right"),10),e._spinButtonsContainer||(n=2)),e.host.width(e.host.width()-(a+o)-n),r=6}e.host.height(e.baseHost.height()-(parseInt(e.host.css("border-top-width"),10)+parseInt(e.host.css("border-bottom-width"),10)+parseInt(e.host.css("padding-top"),10)+parseInt(e.host.css("padding-bottom"),10)+r));var l=e.host.height()+"px";e.host.css("min-height",l),e.host.css("line-height",l)}}}else this.width&&this.host.width(this.width),this.height&&this.host.height(this.height);this.host.attr("disabled",this.disabled),this.host.attr("placeholder")||this._refreshPlaceHolder()},_refreshPlaceHolder:function(){if("placeholder"in this.element)this.host.attr("placeHolder",this.placeHolder);else{var e=this;""===this.element.value&&(this.element.value=this.placeHolder,this.host.focus(function(){e.element.value===e.placeHolder&&(e.element.value="")}),this.host.blur(function(){""!==e.element.value&&e.element.value!==e.placeHolder||(e.element.value=e.placeHolder)}))}},destroy:function(){this.removeHandlers(),this.baseHost?(u.jqx.utilities.resize(this.baseHost,null,!0),this.baseHost.remove()):(u.jqx.utilities.resize(this.host,null,!0),this.host.remove()),this.$popup&&this.$popup.remove()},propertyChangedHandler:function(a,e,t,i){if("placeHolder"!==e)if("template"==e&&a.template&&(a._upbutton.removeClass(a.toThemeProperty("jqx-"+t)),a._downbutton.removeClass(a.toThemeProperty("jqx-"+t)),a._addon.removeClass(a.toThemeProperty("jqx-"+t)),a._upbutton.addClass(a.toThemeProperty("jqx-"+a.template)),a._downbutton.addClass(a.toThemeProperty("jqx-"+a.template)),a._addon.addClass(a.toThemeProperty("jqx-"+a.template))),"theme"!==e)if("disabled"===e&&u.jqx.aria(a,"aria-disabled",a.disabled),"value"!==e||t.toString().toUpperCase()===i.toString().toUpperCase())if(t===i||"radix"!==e){if(t!==i&&"decimalNotation"===e&&10===a._radixNumber&&(a.element.value="exponential"===i?a._getDecimalNotation("exponential"):a._number.toString(10)),t!==i&&("min"===e||"max"===e))return a._setMinMax(e),a._validateValue(a.value,!0),void(a.value=a.element.value);if(t===i||"upperCase"!==e||""===a.element.value){if("spinButtons"===e)return t!==i?void(a._spinButtonsContainer?s(a._spinButtonsContainer,i):r("spinButtons",i)):void 0;if(t!==i&&"spinButtonsStep"===e&&(a._spinButtonsStepLong=new a.longObj.math.Long.fromNumber(i)),"dropDown"===e)return t!==i?void(a._addon?s(a._addon,i):r("dropDown",i)):void 0;a.refresh()}else!0===i?(a.host.removeClass(a.toThemeProperty("jqx-formatted-input-lower-case")),a.host.addClass(a.toThemeProperty("jqx-formatted-input-upper-case"))):(a.host.removeClass(a.toThemeProperty("jqx-formatted-input-upper-case")),a.host.addClass(a.toThemeProperty("jqx-formatted-input-lower-case")))}else a._changeRadix(i);else a.val(i);else u.jqx.utilities.setTheme(t,i,a.host);else a._refreshPlaceHolder();function s(e,t){var i=a.host.width(),s=e.outerWidth();!1===t?(a.host.width(i+s),e.hide(),!0===a.rtl&&(!0===a.spinButtons&&a._spinButtonsContainer.addClass(a.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl-border")),!0===a.dropDown&&a._addon.removeClass(a.toThemeProperty("jqx-formatted-input-addon-rtl")))):(a.host.width(i-s),e.show(),!0===a.rtl&&!0===a.spinButtons&&!0===a.dropDown&&(a._spinButtonsContainer.removeClass(a.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl-border")),a._addon.addClass(a.toThemeProperty("jqx-formatted-input-addon-rtl"))))}function r(e,t){if(!0===t){var i=u("<div></div>");if(a.baseHost){var s=a.baseHost.children("div");!1===a.rtl&&"spinButtons"===e||!0===a.rtl&&"dropDown"===e?s.before(i):s.after(i),a.render(),a.host.width(a.host.width()-i.outerWidth())}else{var r=a.element.id;a.host.removeAttr("id"),a.host.wrap('<div id="'+r+'" style="display: inline-block;"></div>');var n=u("#"+r);!1===a.rtl?n.append(i):n.prepend(i);var o=a.host.data();o.jqxFormattedInput.host=n,o.jqxFormattedInput.element=n[0],a.baseHost=n,a.baseHost.data(o),a.render(),a.refresh()}}}},select:function(e,t,i){i||(i=this.$popup.find(".jqx-fill-state-pressed").attr("data-value")),this._changeRadix(parseInt(i,10)),this._setMaxLength(!0),this.close()},val:function(e){var t=this;if(!e&&""!==e||"object"==typeof e&&!0===u.isEmptyObject(e)||"binary"===e||"octal"===e||"decimal"===e||"exponential"===e||"scientific"===e||"engineering"===e||"hexadecimal"===e){if(!e||"object"==typeof e&&!0===u.isEmptyObject(e))return t.element.value;if("exponential"===e||"scientific"===e||"engineering"===e)return t._getDecimalNotation(e);var i=t._getRadix(e);return t._number.toString(i)}if((e=e.toString()).toUpperCase()!==t.element.value.toString().toUpperCase()){var s=t.element.value;!0===t.upperCase&&(e=e.toUpperCase());for(var r=e.split(""),n=0;n<r.length;n++)if(!t._regex[""+t._radixNumber].test(r[n]))return;var o=t._validateValue(e,!0);return t._raiseEvent("2",{value:o,oldValue:s,radix:t._radixNumber}),t.value=o}return e},_changeRadix:function(e){var t=this._getRadix(e),i=""!==this.value?this._number.toString(t):"",s=this.radix,r=this.value;this.radix=e,this._radixNumber=t,this.element.value=i,this.value=i,this._raiseEvent("3",{radix:e,oldRadix:s,value:i,oldValue:r})},_raiseEvent:function(e,t){void 0===t&&(t={owner:null});var i=this.events[e];t.owner=this;var s=new u.Event(i);return s.owner=this,2==e&&(t.type=this.changeType,this.changeType=null),s.args=t,s.preventDefault&&s.preventDefault(),this.baseHost?this.baseHost.trigger(s):this.host.trigger(s)},open:function(){var e=this;if(e._setPopupOptions(),e._render(e._popupOptions),!u.jqx.isHidden(this.host)){var t;if(t=e.baseHost?u.extend({},e.baseHost.coord(!0),{height:e.baseHost[0].offsetHeight}):u.extend({},e.host.coord(!0),{height:e.host[0].offsetHeight}),0===this.$popup.parent().length){var i=this.element.id+"_popup";this.$popup[0].id=i,u.jqx.aria(this,"aria-owns",i)}this.$popup.appendTo(u(document.body)).css({position:"absolute",zIndex:this.popupZIndex,top:t.top+t.height,left:t.left}).show();var s=0,r=this.$popup.children();return u.each(r,function(){s+=u(this).outerHeight(!0)-1}),this.$popup.height(s),this._opened=!0,e.baseHost&&(e._addon.addClass(e.toThemeProperty("jqx-fill-state-pressed jqx-combobox-arrow-selected")),e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-selected"))),this._raiseEvent("0",{popup:this.$popup}),u.jqx.aria(this,"aria-expanded",!0),this}},close:function(){return this.$popup.hide(),this._opened=!1,this.baseHost&&(this._addon.removeClass(this.toThemeProperty("jqx-fill-state-pressed jqx-combobox-arrow-selected")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this._raiseEvent("1",{popup:this.$popup}),u.jqx.aria(this,"aria-expanded",!1),this},_render:function(e){var t,n=this;switch(e=u(e).map(function(e,t){var i,s=t;switch(e){case 0:i=2;break;case 1:i=8;break;case 2:i=10;break;case 3:i=16}(e=u(n.item).attr("data-value",i)).find("a").html(s).attr("data-value",i);var r="";return n.rtl&&(r=" "+n.toThemeProperty("jqx-rtl")+" "+n.toThemeProperty("jqx-formatted-input-item-rtl")),e[0].className=n.toThemeProperty("jqx-item")+" "+n.toThemeProperty("jqx-menu-item")+" "+n.toThemeProperty("jqx-formatted-input-item")+" "+n.toThemeProperty("jqx-rc-all")+r,e[0]}),n._radixNumber){case 2:t=0;break;case 8:t=1;break;case 10:t=2;break;case 16:t=3}if(e.eq(t).addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.$popup.html(e),this.dropDownWidth)this.$popup.width(this.dropDownWidth);else if(n.baseHost){var i="string"==typeof n.width&&"%"===n.width.charAt(n.width.length-1)?1:0;this.$popup.width(this.baseHost.outerWidth()-6-i)}else this.$popup.width(this.host.outerWidth()-6);return this},next:function(){var e=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")).next();e.length||(e=u(this.$popup.find("li")[0])),e.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},prev:function(){var e=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")).prev();e.length||(e=this.$popup.find("li").last()),e.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},addHandlers:function(){var i=this;if(this.addHandler(this.host,"focus",u.proxy(this.onFocus,this)),this.addHandler(this.host,"blur",u.proxy(this.onBlur,this)),this.addHandler(this.host,"keypress",u.proxy(this.keypress,this)),this.addHandler(this.host,"keyup",u.proxy(this.keyup,this)),this.addHandler(this.host,"keydown",u.proxy(this.keydown,this)),this.addHandler(this.$popup,"mousedown",u.proxy(this.click,this)),this.host.on?this.$popup.on("mouseenter","li",u.proxy(this.mouseenter,this)):this.$popup.bind("mouseenter","li",u.proxy(this.mouseenter,this)),this.addHandler(this.host,"change",function(e){e.stopPropagation(),e.preventDefault()}),i.baseHost){var e=i.baseHost.attr("id");if(i._spinButtonsContainer){var t=i._upbutton.add(i._downbutton);i.addHandler(i._upbutton,"mousedown.jqxFormattedInputSpinButtonUp"+e,function(){i.disabled||""===i.value||null===i.value||(i._upbutton.addClass(i.toThemeProperty("jqx-fill-state-pressed")),i.changeType="mouse",i._incrementOrDecrement("add"))}),i.addHandler(i._upbutton,"mouseup.jqxFormattedInputSpinButtonUp"+e,function(){i.disabled||""===i.value||null===i.value||i._upbutton.removeClass(i.toThemeProperty("jqx-fill-state-pressed"))}),i.addHandler(i._downbutton,"mousedown.jqxFormattedInputSpinButtonDown"+e,function(){i.disabled||""===i.value||null===i.value||(i.changeType="mouse",i._downbutton.addClass(i.toThemeProperty("jqx-fill-state-pressed")),i._incrementOrDecrement("subtract"))}),i.addHandler(i._downbutton,"mouseup.jqxFormattedInputSpinButtonDown"+e,function(){i.disabled||""===i.value||null===i.value||i._downbutton.removeClass(i.toThemeProperty("jqx-fill-state-pressed"))}),i.addHandler(t,"mouseenter.jqxFormattedInputSpinButtons"+e,function(e){if(!i.disabled&&""!==i.value&&null!==i.value){var t=u(e.target);t.hasClass("jqx-icon-arrow-up")||t.children().hasClass("jqx-icon-arrow-up")?(i._upbutton.addClass(i.toThemeProperty("jqx-fill-state-hover")),i._upArrow.addClass(i.toThemeProperty("jqx-icon-arrow-up-hover"))):(i._downbutton.addClass(i.toThemeProperty("jqx-fill-state-hover")),i._downArrow.addClass(i.toThemeProperty("jqx-icon-arrow-down-hover")))}}),i.addHandler(t,"mouseleave.jqxFormattedInputSpinButtons"+e,function(e){if(!i.disabled&&""!==i.value&&null!==i.value){var t=u(e.target);t.hasClass("jqx-icon-arrow-up")||t.children().hasClass("jqx-icon-arrow-up")?(i._upbutton.removeClass(i.toThemeProperty("jqx-fill-state-hover")),i._upArrow.removeClass(i.toThemeProperty("jqx-icon-arrow-up-hover"))):(i._downbutton.removeClass(i.toThemeProperty("jqx-fill-state-hover")),i._downArrow.removeClass(i.toThemeProperty("jqx-icon-arrow-down-hover")))}}),i.addHandler(u("body"),"mouseup.jqxFormattedInputSpinButtons"+e,function(){i._upbutton.add(i._downbutton).removeClass(i.toThemeProperty("jqx-fill-state-pressed"))})}i._addon&&(i.addHandler(i._addon,"click.jqxFormattedInputAddon"+e,function(){i.disabled||(i._opened?i.close():i.open())}),i.addHandler(i._addon,"mouseenter.jqxFormattedInputAddon"+e,function(){i.disabled||""===i.value||null===i.value||(i._addon.addClass(i.toThemeProperty("jqx-fill-state-hover jqx-combobox-arrow-hover")),i._arrow.addClass(i.toThemeProperty("jqx-icon-arrow-down-hover")))}),i.addHandler(i._addon,"mouseleave.jqxFormattedInputAddon"+e,function(){i.disabled||""===i.value||null===i.value||(i._addon.removeClass(i.toThemeProperty("jqx-fill-state-hover jqx-combobox-arrow-hover")),i._arrow.removeClass(i.toThemeProperty("jqx-icon-arrow-down-hover")))}),i.addHandler(i._addon.add(i._arrow),"blur.jqxFormattedInputAddon"+e,function(){i._opened&&!i.disabled&&i.close()})),u.jqx.utilities.resize(i.baseHost,function(){!0===i._opened&&i.close();var e=0;i._spinButtonsContainer&&(e+=i._spinButtonsContainer.outerWidth()),i._addon&&(e+=i._addon.outerWidth()),i.host.css("width",i.baseHost.width()-e-1)})}},removeHandlers:function(){var e=this;if(this.removeHandler(this.host,"focus",u.proxy(this.onFocus,this)),this.removeHandler(this.host,"blur",u.proxy(this.onBlur,this)),this.removeHandler(this.host,"keypress",u.proxy(this.keypress,this)),this.removeHandler(this.host,"keyup",u.proxy(this.keyup,this)),this.removeHandler(this.host,"keydown",u.proxy(this.keydown,this)),this.removeHandler(this.$popup,"mousedown",u.proxy(this.click,this)),this.host.off?this.$popup.off("mouseenter","li",u.proxy(this.mouseenter,this)):this.$popup.unbind("mouseenter","li",u.proxy(this.mouseenter,this)),e.baseHost){var t=e.baseHost.attr("id");if(e._spinButtonsContainer){var i=e._upbutton.add(e._downbutton);e.removeHandler(e._upbutton,"mousedown.jqxFormattedInputSpinButtonUp"+t),e.removeHandler(e._upbutton,"mouseup.jqxFormattedInputSpinButtonUp"+t),e.removeHandler(e._downbutton,"mousedown.jqxFormattedInputSpinButtonDown"+t),e.removeHandler(e._downbutton,"mouseup.jqxFormattedInputSpinButtonDown"+t),e.removeHandler(i,"mouseenter.jqxFormattedInputSpinButtons"+t),e.removeHandler(i,"mouseleave.jqxFormattedInputSpinButtons"+t),e.removeHandler(u("body"),"mouseup.jqxFormattedInputSpinButtons"+t)}e._addon&&(e.removeHandler(e._addon,"click.jqxFormattedInputAddon"+t),e.removeHandler(e._addon,"mouseenter.jqxFormattedInputAddon"+t),e.removeHandler(e._addon,"mouseleave.jqxFormattedInputAddon"+t),e.removeHandler(e._addon.add(e._arrow),"blur.jqxFormattedInputAddon"+t))}},move:function(e){if(this._opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(e){var t=this;t.changeType="keyboard",this.suppressKeyPressRepeat=~u.inArray(e.keyCode,[40,38,9,13,27]),this.move(e);var i=e.charCode?e.charCode:e.which,s=String.fromCharCode(i);if(96<=i&&i<=105&&(s=i-96,i-=48),!0===e.altKey){if(40===i)return void(t._addon&&this.open());if(38===i)return void(t._addon&&this.close())}if(!0===e.ctrlKey){if(67===i)return;if(65===i)return void t.selectAll()}var r=[8,9,13,37,38,39,40,46,88],n=t._regex[""+t._radixNumber];if(!(-1!==r.indexOf(i)||n.test(s)||n.test(e.key)||n.test(e.char)))return e.preventDefault(),!1;var o=t.host[0].selectionStart,a=t.host[0].selectionEnd-o,l=this._getCaretPosition(this.host[0]),d=this.element.value,h=d.split("");if(8===i)0<a?h.splice(o,a):h.splice(l-1,1);else if(46===i)0<a?h.splice(o,a):h.splice(l,1);else if(88===i)!0===e.ctrlKey?0<a&&h.splice(o,a):e.preventDefault();else if(189===i)"-"===h[0]?(h.splice(0,1),t._minus=!1):(h.splice(0,0,"-"),t._minus=!0),e.preventDefault();else{var c=-1===r.indexOf(i)?s:"";0<a?(h.splice(o,a),h.splice(o,0,c)):h.splice(l,0,c)}(h=h.join(""))!==d&&(!1===t._validateValue(h,!1)?t._inputAndAddon.addClass(t.toThemeProperty("jqx-input-invalid")):t._inputAndAddon.removeClass(t.toThemeProperty("jqx-input-invalid")))},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){var t=this;switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:this._opened?this.select(e,this):t._change();break;case 27:if(!this._opened)return;this.close();break;case 189:10===t._radixNumber&&(!0===t._minus?t.element.value="-"+t.element.value:t.element.value=t.element.value.slice(1))}e.stopPropagation(),e.preventDefault(),""!==t.element.value?(t.upperCase?t.host.addClass(t.toThemeProperty("jqx-formatted-input-upper-case")):t.host.addClass(t.toThemeProperty("jqx-formatted-input-lower-case")),t._spinButtonsContainer&&t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-fill-state-disabled"))):(t.host.removeClass(t.toThemeProperty("jqx-formatted-input-upper-case jqx-formatted-input-lower-case")),t._spinButtonsContainer&&t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-fill-state-disabled")))},_getCaretPosition:function(e){var t=0;if(document.selection){e.focus();var i=document.selection.createRange();i.moveStart("character",-e.value.length),t=i.text.length}else(e.selectionStart||"0"===e.selectionStart)&&(t=e.selectionStart);return t},onBlur:function(){var e=this;e._opened&&e.close(),e._setMaxLength(),e._inputAndAddon.removeClass(e.toThemeProperty("jqx-fill-state-focus")),e._change(),10===e._radixNumber&&"exponential"===e.decimalNotation&&(e.element.value=e._getDecimalNotation("exponential")),e._refreshPlaceHolder()},onFocus:function(){this._setMaxLength(!0),this._inputAndAddon.addClass(this.toThemeProperty("jqx-fill-state-focus")),10===this._radixNumber&&"exponential"===this.decimalNotation&&(this.element.value=this._number.toString(10))},click:function(e){e.stopPropagation(),e.preventDefault();var t=u(e.target).attr("data-value");this.select(e,this,t)},mouseenter:function(e){this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")),u(e.currentTarget).addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_change:function(){var e=this.value,t=this._validateValue(this.element.value,!0);this._inputAndAddon.removeClass(this.toThemeProperty("jqx-input-invalid")),t.toUpperCase()!==e.toString().toUpperCase()&&(this._raiseEvent("2",{value:t,oldValue:e,radix:this._radixNumber}),this.value=t)},_getRadix:function(e){switch(e){case 10:case"decimal":return 10;case 2:case"binary":return 2;case 8:case"octal":return 8;case 16:case"hexadecimal":return 16}},_setPopupOptions:function(){var e=this;e._popupOptions=new Array,""!==e.value?(e._popupOptions.push(e._number.toString(2)+" <em>(BIN)</em>"),e._popupOptions.push(e._number.toString(8)+" <em>(OCT)</em>"),e._popupOptions.push(e._number.toString(10)+" <em>(DEC)</em>"),e._popupOptions.push(e._number.toString(16)+" <em>(HEX)</em>")):(e._popupOptions.push("BIN"),e._popupOptions.push("OCT"),e._popupOptions.push("DEC"),e._popupOptions.push("HEX"))},_validateValue:function(e,t){var i=this;if(""!==e){var s=new i.longObj.math.Long.fromString(e.toString(),i._radixNumber);if(s.lessThan(i._minLong)){if(t){i._number=i._minLong;var r=i._minLong.toString(i._radixNumber);return 16===i._radixNumber&&!0===i.upperCase&&(r=r.toUpperCase()),i.element.value=r}return!1}if(s.greaterThan(i._maxLong)){if(t){i._number=i._maxLong;var n=i._maxLong.toString(i._radixNumber);return 16===i._radixNumber&&!0===i.upperCase&&(n=n.toUpperCase()),i.element.value=n}return!1}return!t||(i._number=s,i.element.value=e)}return!t||(i.element.value="",e)},_getNegativeDecimal:function(e,t){var i=e;if(8===t){for(var s=new Array,r=0;r<11;r++){for(var n=parseInt(e.charAt(r),8).toString(2);3!==n.length;)n="0"+n;s.push(n)}"0"===(i=s.join("")).charAt(0)&&(i=i.slice(1))}else if(16===t){for(var o=new Array,a=0;a<8;a++){for(var l=parseInt(e.charAt(a),16).toString(2);4!==l.length;)l="0"+l;o.push(l)}i=o.join("")}for(var d="",h=0;h<i.length;h++){d+="1"===i.charAt(h)?"0":"1"}return d=-1*(parseInt(d,2)+1)},_setMaxLength:function(e){var t;if(!0===e)switch(this._radixNumber){case 2:t=64;break;case 8:t=22;break;case 10:t=20;break;case 16:t=16}else t=524288;this.host.attr("maxlength",t)},_setMinMax:function(e){this["_"+e+"Long"]=new this.longObj.math.Long.fromString(this[e].toString(),this._radixNumber)},_getDecimalNotation:function(e){var o=this;var t,i,s,r,n=function(e){if("0"===e)return parseInt(e,10).toExponential();var t;"-"===e.charAt(0)?(t="-",e=e.slice(1,e.length)):t="";for(var i=e.length-1;"0"===e.charAt(e.length-1);)e=e.slice(0,e.length-1);var s=e.slice(1,e.length);return""!==s&&(s="."+s),t+""+e.charAt(0)+s+"e+"+i}(o._number.toString(10));return"scientific"===e?(i=(t=n).indexOf("e"),s=t.slice(i+1),r=(r=t.slice(0,i+1)).replace("e","Ãâ10"),r=(r+=o._toSuperScript(s)).replace("+","")):"engineering"===e?function(e){var t=e.indexOf("e"),i=e.slice(t+1),s=e.slice(0,t),r=parseInt(i,10)%3;s*=Math.pow(10,r);var n=e.slice(0,t).length-r-2;return 0<=n&&(s=s.toFixed(n)),s+"Ãâ10"+o._toSuperScript((parseInt(i,10)-r).toString())}(n):n},_toSuperScript:function(e,t){for(var i="-0123456789",s="Ã¢ÂÂ»Ã¢ÂÂ°ÃÂ¹ÃÂ²ÃÂ³Ã¢ÂÂ´Ã¢ÂÂµÃ¢ÂÂ¶Ã¢ÂÂ·Ã¢ÂÂ¸Ã¢ÂÂ¹",r="",n=0;n<e.length;n++)if(!0===t){var o=s.indexOf(e.charAt(n));r+=-1!==o?i[o]:e[n]}else{var a=i.indexOf(e.charAt(n));r+=-1!==a?s[a]:e[n]}return r},_incrementOrDecrement:function(e){var t=this;t._number.toString(t._radixNumber)!==t.element.value&&(t._number=new t.longObj.math.Long.fromString(t.element.value,t._radixNumber)),t._number=t._number[e](t._spinButtonsStepLong),t.element.value=t._number.toString(t._radixNumber),t._change()},_negativeBinary:function(e,t){var i="";for(e=e.slice(1,e.length);e.length<64;)e="0"+e;for(var s=0;s<e.length;s++){i+="1"===e.charAt(s)?"0":"1"}for(var r=!0,n="",o=i.length-1;0<=o;o--){var a;"0"===i.charAt(o)?!0===r?r=!(a="1"):a="0":a=!0===r?"0":"1",n=a+""+n}switch(t){case 2:return n;case 8:n="00"+n;for(var l="",d=22;1<=d;d--){var h=n[3*d-3]+""+n[3*d-2]+n[3*d-1];l=parseInt(h,2).toString(8)+""+l}return l;case 16:for(var c="",u=16;1<=u;u--){var p=n[4*u-4]+""+n[4*u-3]+n[4*u-2]+n[4*u-1];c=parseInt(p,2).toString(16)+""+c}return c}},_Long:function(){var d=this;d.longObj=new Object;var p=d.longObj;p.math=new Object,p.math.Long=new Object,p.math.Long=function(e,t){this.lowBits=0|e,this.highBits=0|t},p.math.Long.IntCache={},p.math.Long.fromInt=function(e){if(-128<=e&&e<128){var t=p.math.Long.IntCache[e];if(t)return t}var i=new p.math.Long(0|e,e<0?-1:0);return-128<=e&&e<128&&(p.math.Long.IntCache[e]=i),i},p.math.Long.fromNumber=function(e){return isNaN(e)||!isFinite(e)?p.math.Long.ZERO:e<=-p.math.Long.TWO_PWR_63_DBL_?p.math.Long.MIN_VALUE:e+1>=p.math.Long.TWO_PWR_63_DBL_?p.math.Long.MAX_VALUE:e<0?p.math.Long.fromNumber(-e).negate():new p.math.Long(e%p.math.Long.TWO_PWR_32_DBL_|0,e/p.math.Long.TWO_PWR_32_DBL_|0)},p.math.Long.fromBits=function(e,t){return new p.math.Long(e,t)},p.math.Long.fromString=function(e,t){if(0===e.length)throw new Error("number format error: empty string");var i=t||10;if(i<2||36<i)throw new Error("radix out of range: "+i);if("-"===e.charAt(0))return p.math.Long.fromString(e.substring(1),i).negate();if(0<=e.indexOf("-"))throw new Error('number format error: interior "-" character: '+e);for(var s=p.math.Long.fromNumber(Math.pow(i,8)),r=p.math.Long.ZERO,n=0;n<e.length;n+=8){var o=Math.min(8,e.length-n),a=parseInt(e.substring(n,n+o),i);if(o<8){var l=p.math.Long.fromNumber(Math.pow(i,o));r=r.multiply(l).add(p.math.Long.fromNumber(a))}else r=(r=r.multiply(s)).add(p.math.Long.fromNumber(a))}return r},p.math.Long.TWO_PWR_16_DBL_=65536,p.math.Long.TWO_PWR_24_DBL_=1<<24,p.math.Long.TWO_PWR_32_DBL_=p.math.Long.TWO_PWR_16_DBL_*p.math.Long.TWO_PWR_16_DBL_,p.math.Long.TWO_PWR_31_DBL_=p.math.Long.TWO_PWR_32_DBL_/2,p.math.Long.TWO_PWR_48_DBL_=p.math.Long.TWO_PWR_32_DBL_*p.math.Long.TWO_PWR_16_DBL_,p.math.Long.TWO_PWR_64_DBL_=p.math.Long.TWO_PWR_32_DBL_*p.math.Long.TWO_PWR_32_DBL_,p.math.Long.TWO_PWR_63_DBL_=p.math.Long.TWO_PWR_64_DBL_/2,p.math.Long.ZERO=p.math.Long.fromInt(0),p.math.Long.ONE=p.math.Long.fromInt(1),p.math.Long.NEG_ONE=p.math.Long.fromInt(-1),p.math.Long.MAX_VALUE=p.math.Long.fromBits(-1,2147483647),p.math.Long.MIN_VALUE=p.math.Long.fromBits(0,-2147483648),p.math.Long.TWO_PWR_24_=p.math.Long.fromInt(1<<24),p.math.Long.prototype.toInt=function(){return this.lowBits},p.math.Long.prototype.toNumber=function(){return this.highBits*p.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},p.math.Long.prototype.toString=function(e){var t,i,s=e||10;if(s<2||36<s)throw new Error("radix out of range: "+s);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(p.math.Long.MIN_VALUE)){var r=p.math.Long.fromNumber(s),n=this.div(r);return t=n.multiply(r).subtract(this),n.toString(s)+t.toInt().toString(s)}switch(s){case 2:case 8:case 16:return i="-"+this.negate().toString(2),d._negativeBinary(i,s);default:return i="-"+this.negate().toString(s)}}var o=p.math.Long.fromNumber(Math.pow(s,6));for(t=this,i="";;){var a=t.div(o),l=t.subtract(a.multiply(o)).toInt().toString(s);if((t=a).isZero())return l+i;for(;l.length<6;)l="0"+l;i=""+l+i}},p.math.Long.prototype.getHighBits=function(){return this.highBits},p.math.Long.prototype.getLowBits=function(){return this.lowBits},p.math.Long.prototype.getLowBitsUnsigned=function(){return 0<=this.lowBits?this.lowBits:p.math.Long.TWO_PWR_32_DBL_+this.lowBits},p.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(p.math.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!==this.highBits?this.highBits:this.lowBits,t=31;0<t&&0==(e&1<<t);t--);return 0!==this.highBits?t+33:t+1},p.math.Long.prototype.isZero=function(){return 0===this.highBits&&0===this.lowBits},p.math.Long.prototype.isNegative=function(){return this.highBits<0},p.math.Long.prototype.isOdd=function(){return 1==(1&this.lowBits)},p.math.Long.prototype.equals=function(e){return this.highBits===e.highBits&&this.lowBits===e.lowBits},p.math.Long.prototype.notEquals=function(e){return this.highBits!==e.highBits||this.lowBits!==e.lowBits},p.math.Long.prototype.lessThan=function(e){return this.compare(e)<0},p.math.Long.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},p.math.Long.prototype.greaterThan=function(e){return 0<this.compare(e)},p.math.Long.prototype.greaterThanOrEqual=function(e){return 0<=this.compare(e)},p.math.Long.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),i=e.isNegative();return t&&!i?-1:!t&&i?1:this.subtract(e).isNegative()?-1:1},p.math.Long.prototype.negate=function(){return this.equals(p.math.Long.MIN_VALUE)?p.math.Long.MIN_VALUE:this.not().add(p.math.Long.ONE)},p.math.Long.prototype.add=function(e){var t=this.highBits>>>16,i=65535&this.highBits,s=this.lowBits>>>16,r=65535&this.lowBits,n=e.highBits>>>16,o=65535&e.highBits,a=e.lowBits>>>16,l=0,d=0,h=0,c=0;return h+=(c+=r+(65535&e.lowBits))>>>16,c&=65535,d+=(h+=s+a)>>>16,h&=65535,l+=(d+=i+o)>>>16,d&=65535,l+=t+n,l&=65535,p.math.Long.fromBits(h<<16|c,l<<16|d)},p.math.Long.prototype.subtract=function(e){return this.add(e.negate())},p.math.Long.prototype.multiply=function(e){if(this.isZero())return p.math.Long.ZERO;if(e.isZero())return p.math.Long.ZERO;if(this.equals(p.math.Long.MIN_VALUE))return e.isOdd()?p.math.Long.MIN_VALUE:p.math.Long.ZERO;if(e.equals(p.math.Long.MIN_VALUE))return this.isOdd()?p.math.Long.MIN_VALUE:p.math.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(p.math.Long.TWO_PWR_24_)&&e.lessThan(p.math.Long.TWO_PWR_24_))return p.math.Long.fromNumber(this.toNumber()*e.toNumber());var t=this.highBits>>>16,i=65535&this.highBits,s=this.lowBits>>>16,r=65535&this.lowBits,n=e.highBits>>>16,o=65535&e.highBits,a=e.lowBits>>>16,l=65535&e.lowBits,d=0,h=0,c=0,u=0;return c+=(u+=r*l)>>>16,u&=65535,h+=(c+=s*l)>>>16,c&=65535,h+=(c+=r*a)>>>16,c&=65535,d+=(h+=i*l)>>>16,h&=65535,d+=(h+=s*a)>>>16,h&=65535,d+=(h+=r*o)>>>16,h&=65535,d+=t*l+i*a+s*o+r*n,d&=65535,p.math.Long.fromBits(c<<16|u,d<<16|h)},p.math.Long.prototype.div=function(e){if(e.isZero())throw new Error("division by zero");if(this.isZero())return p.math.Long.ZERO;var t,i;{if(this.equals(p.math.Long.MIN_VALUE))return e.equals(p.math.Long.ONE)||e.equals(p.math.Long.NEG_ONE)?p.math.Long.MIN_VALUE:e.equals(p.math.Long.MIN_VALUE)?p.math.Long.ONE:(t=this.shiftRight(1).div(e).shiftLeft(1)).equals(p.math.Long.ZERO)?e.isNegative()?p.math.Long.ONE:p.math.Long.NEG_ONE:(i=this.subtract(e.multiply(t)),t.add(i.div(e)));if(e.equals(p.math.Long.MIN_VALUE))return p.math.Long.ZERO}if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();var s=p.math.Long.ZERO;for(i=this;i.greaterThanOrEqual(e);){t=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var r=Math.ceil(Math.log(t)/Math.LN2),n=r<=48?1:Math.pow(2,r-48),o=p.math.Long.fromNumber(t),a=o.multiply(e);a.isNegative()||a.greaterThan(i);)t-=n,a=(o=p.math.Long.fromNumber(t)).multiply(e);o.isZero()&&(o=p.math.Long.ONE),s=s.add(o),i=i.subtract(a)}return s},p.math.Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},p.math.Long.prototype.not=function(){return p.math.Long.fromBits(~this.lowBits,~this.highBits)},p.math.Long.prototype.and=function(e){return p.math.Long.fromBits(this.lowBits&e.lowBits,this.highBits&e.highBits)},p.math.Long.prototype.or=function(e){return p.math.Long.fromBits(this.lowBits|e.lowBits,this.highBits|e.highBits)},p.math.Long.prototype.xor=function(e){return p.math.Long.fromBits(this.lowBits^e.lowBits,this.highBits^e.highBits)},p.math.Long.prototype.shiftLeft=function(e){if(0===(e&=63))return this;var t=this.lowBits;if(e<32){var i=this.highBits;return p.math.Long.fromBits(t<<e,i<<e|t>>>32-e)}return p.math.Long.fromBits(0,t<<e-32)},p.math.Long.prototype.shiftRight=function(e){if(0===(e&=63))return this;var t=this.highBits;if(e<32){var i=this.lowBits;return p.math.Long.fromBits(i>>>e|t<<32-e,t>>e)}return p.math.Long.fromBits(t>>e-32,0<=t?0:-1)},p.math.Long.prototype.shiftRightUnsigned=function(e){if(0===(e&=63))return this;var t=this.highBits;if(e<32){var i=this.lowBits;return p.math.Long.fromBits(i>>>e|t<<32-e,t>>>e)}return 32===e?p.math.Long.fromBits(t,0):p.math.Long.fromBits(t>>>e-32,0)}}})}(jqxBaseFramework),function(q){var e={defineInstance:function(){var e={width:350,height:350,radius:"50%",endAngle:270,startAngle:30,int64:!1,editableLabels:!1,value:0,min:0,max:220,disabled:!1,ticksDistance:"20%",colorScheme:"scheme01",animationDuration:400,showRanges:!0,easing:"easeOutCubic",labels:null,pointer:null,cap:null,caption:null,border:null,ticksMinor:null,ticksMajor:null,tickMode:"default",niceInterval:!1,style:null,ranges:[],_radius:100,_border:null,_radiusDifference:2,_pointer:null,_labels:[],_cap:null,_ticks:[],_ranges:[],_gauge:null,_caption:null,_animationTimeout:10,renderer:null,_animations:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===q.jqx._jqxGauge.prototype||q.extend(!0,this,e),e},createInstance:function(e){var t=this;if(t.that=this,q.jqx.aria(t),t._radius=t.radius,t.endAngle=t.endAngle*Math.PI/180+Math.PI/2,t.startAngle=t.startAngle*Math.PI/180+Math.PI/2,"s"===t.int64){if(!q.jqx.longInt)throw new Error("jqxGauge: Missing reference to jqxmath.js");q.jqx.longInt(t),t._value64=(new q.jqx.math).fromString(t.value.toString(),10),t._min64=(new q.jqx.math).fromString(t.min.toString(),10),t._max64=(new q.jqx.math).fromString(t.max.toString(),10)}else if("u"===t.int64){try{BigNumber}catch(e){throw new Error("jqxGauge: Missing reference to jqxmath.js")}t._value64=new BigNumber(t.value),t._min64=new BigNumber(t.min),t._max64=new BigNumber(t.max)}else t.value=new Number(t.value);t._refresh(),t.renderer.getContainer().css("overflow","hidden"),!1!==t.int64?t.setValue(t._value64,0):t.setValue(t.value,0),q.jqx.utilities.resize(t.host,function(){t._refresh(!0)}),t.host.addClass(t.toThemeProperty("jqx-widget"))},_validateEasing:function(){return!!q.easing[this.easing]},_validateProperties:function(){if(this.startAngle===this.endAngle)throw new Error("The end angle can not be equal to the start angle!");this._validateEasing()||(this.easing="linear"),this.ticksDistance=this._validatePercentage(this.ticksDistance,"20%"),this.border=this._borderConstructor(this.border,this),this.style=this.style||{fill:"#ffffff",stroke:"#E0E0E0"},this.ticksMinor=new this._tickConstructor(this.ticksMinor,this),this.ticksMajor=new this._tickConstructor(this.ticksMajor,this),this.cap=new this._capConstructor(this.cap,this),this.pointer=new this._pointerConstructor(this.pointer,this),this.labels=new this._labelsConstructor(this.labels,this),this.caption=new this._captionConstructor(this.caption,this);for(var e=0;e<this.ranges.length;e+=1)this.ranges[e]=new this._rangeConstructor(this.ranges[e],this)},_hostInit:function(e){var t=this._getScale(this.width,"width",this.host.parent()),i=this._getScale(this.height,"height",this.host.parent()),s=this._outerBorderOffset(),r=this.host;r.width(t),r.height(i),this.radius=0;var n=(this._getScale(this._radius,"width",this.host)||t/2)-s,o=(this._getScale(this._radius,"height",this.host)||i/2)-s;if(this.radius=Math.min(n,o),this._originalRadius=parseInt(this.radius,10)-this._radiusDifference,this._innerRadius=this._originalRadius,this.border&&(this._innerRadius-=this._getSize(this.border.size)),e||(r[0].innerHTML="<div />"),this._gaugeParent=r.children(),this._gaugeParent.width(t),this._gaugeParent.height(i),e){var a=this.renderer.getContainer();a[0].style.width=t+"px",a[0].style.height=i+"px"}else this.renderer.init(this._gaugeParent)},_initRenderer:function(e){if(!q.jqx.createRenderer)throw"Please include a reference to jqxdraw.js";return q.jqx.createRenderer(this,e)},_refresh:function(e){var t=this;if(e)return t._ticksIterator=0,t._labelsIterator=0,t._ranges&&q(t._ranges).remove(),t._pointer&&q(t._pointer).remove(),t._pointer=null,t._ranges=[],t.niceInterval&&(t._labels&&q(t._labels).remove(),t._labels=[],t._ticks&&(q(t._ticks).remove(),t._ticks=[])),t._hostInit(e),void t._render(e);t.renderer||(t._isVML=!1,t.host.empty(),t._initRenderer(t.host)),t.renderer&&(t._ranges&&q(t._ranges).remove(),t._pointer&&q(t._pointer).remove(),t._labels&&q(t._labels).remove(),t._cap&&q(t._cap).remove(),t._ticks&&q(t._ticks).remove(),t._border&&q(t._border).remove(),t._caption&&q(t._caption).remove(),t._caption=null,t._labels=[],t._cap=null,t._ticks=[],t._ranges=[],t._border=null,t._pointer=null,t._validateProperties(),t._removeElements(),t._hostInit(),t._render(),t.setValue(this.value,0),t._editableLabels())},val:function(e){if(0==arguments.length||"object"==typeof e)return this.value;this.setValue(e,0)},refresh:function(e){!0!==e&&this._refresh.apply(this,Array.prototype.slice(arguments))},_outerBorderOffset:function(){return(parseInt(this.border.style["stroke-width"],10)||1)/2},_removeCollection:function(e){for(var t=0;t<e.length;t+=1)q(e[t]).remove();e=[]},_render:function(e){this._addBorder(e),this._addGauge(e),this._addRanges(e),this.niceInterval?this._addTicks():(this._addTicks(e),this._addLabels(e)),this._styleLabels(),this._addCaption(e),this._addPointer(e),this._addCap(e)},_addBorder:function(e){if(this.border.visible){if(e){var t=this._outerBorderOffset();return this._border.setAttribute("cx",this._originalRadius+t),this._border.setAttribute("cy",this._originalRadius+t),void this._border.setAttribute("r",this._originalRadius)}var i=this.border.style.fill;t=this._outerBorderOffset();i||(i="#BABABA"),this.border.showGradient&&(i.indexOf("url")<0&&i.indexOf("#grd")<0?this._originalColor=i:i=this._originalColor,i=this.renderer._toLinearGradient(i,!0,[[0,1],[25,1.1],[50,1.5],[100,1]])),this._border=this.renderer.circle(this._originalRadius+t,this._originalRadius+t,this._originalRadius),this.border.style.fill=i,this.renderer.attr(this._border,this.border.style)}},_addGauge:function(e){var t=this._originalRadius,i=(this.renderer._toLinearGradient("#ffffff",[[3,2],[100,1]],!0),this._outerBorderOffset());e?(this._gauge.setAttribute("cx",t+i),this._gauge.setAttribute("cy",t+i),this._gauge.setAttribute("r",this._innerRadius)):(this._gauge=this.renderer.circle(t+i,t+i,this._innerRadius),this.renderer.attr(this._gauge,this.style))},_addCap:function(e){var t="visible",i=this._outerBorderOffset();this.cap.visible||(t="hidden");var s,r=this._originalRadius,n=this._getSize(this.cap.size);e?(this._cap.setAttribute("cx",r+i),this._cap.setAttribute("cy",r+i),this._cap.setAttribute("r",n),this._capCenter=[r,r]):(s=this.renderer.circle(r+i,r+i,n),this._capCenter=[r,r],this.renderer.attr(s,this.cap.style),q(s).css("visibility",t),this._cap=s)},_addTicks:function(t){var e,i,s=this,r=this.ticksMinor,n=this.ticksMajor,o={};if(!1!==n.visible||!1!==r.visible||!1!==this.labels.visible){var a=0;if("s"===s.int64)if("default"===this.tickMode?this.niceInterval?(i=this._getNiceInterval("radial"),e=this._getNiceInterval("radial",!0)):(i=(new q.jqx.math).fromString(n.interval.toString(),10),e=(new q.jqx.math).fromString(r.interval.toString(),10)):(startToEnd=this._max64.subtract(this._min64),e=startToEnd.div((new q.jqx.math).fromString(r.number.toString(),10)),i=startToEnd.div((new q.jqx.math).fromString(n.number.toString(),10))),this.niceInterval){p(this._min64),f(this._min64);for(var l=c=this._min64.subtract(this._min64.modulo(i)).add(i);l.greaterThanOrEqual(this._min64);l=l.subtract(e))u=l;for(var d=u,h=c;(d.lessThan(this._max64)||h.lessThan(this._max64))&&!(250<(a+=1))&&(h.lessThanOrEqual(this._max64)&&(p(h),o[h.toString()]=!0,d.equals(c)?Math.abs(this._getAngleByValue(h)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize().height&&f(h):h.add(i).lessThan(this._max64)?f(h):Math.abs(this._getAngleByValue(h)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize().height&&f(h)),!o[d.toString()]&&d.lessThanOrEqual(s._max64)&&m(d),!s._checkForOverflow(d,e)&&!s._checkForOverflow(h,i));d=d.add(e),h=h.add(i));p(this._max64),f(this._max64)}else for(d=(new q.jqx.math).fromString(s.min.toString(),10),h=(new q.jqx.math).fromString(s.min.toString(),10);(d.lessThanOrEqual(s._max64)||h.lessThanOrEqual(s._max64))&&!(250<(a+=1));d=d.add(e),h=h.add(i))h.lessThanOrEqual(s._max64)&&n.visible&&(p(h),o[h.toString()]=!0),!o[d.toString()]&&r.visible&&d.lessThanOrEqual(s._max64)&&m(d);else if("u"===s.int64)if("default"===this.tickMode?this.niceInterval?(i=this._getNiceInterval("radial"),e=this._getNiceInterval("radial",!0)):(i=new BigNumber(n.interval),e=new BigNumber(r.interval)):(startToEnd=this._max64.subtract(this._min64),e=startToEnd.divide(new BigNumber(r.number)),i=startToEnd.divide(new BigNumber(n.number))),this.niceInterval){p(this._min64),f(this._min64);for(l=c=this._min64.subtract(this._min64.mod(i)).add(i);-1!==l.compare(this._min64);l=l.subtract(e))u=l;for(d=u,h=c;(-1===d.compare(this._max64)||-1===h.compare(this._max64))&&!(250<(a+=1));d=d.add(e),h=h.add(i))1!==h.compare(this._max64)&&(p(h),o[h.toString()]=!0,0===d.compare(c)?Math.abs(this._getAngleByValue(h)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize().height&&f(h):-1===h.add(i).compare(this._max64)?f(h):Math.abs(this._getAngleByValue(h)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize().height&&f(h)),o[d.toString()]||1===d.compare(s._max64)||m(d);p(this._max64),f(this._max64)}else for(d=new BigNumber(s.min),h=new BigNumber(s.min);(1!==d.compare(s._max64)||1!==h.compare(s._max64))&&!(250<(a+=1));d=d.add(e),h=h.add(i))1!==h.compare(s._max64)&&n.visible&&(p(h),o[h.toString()]=!0),!o[d.toString()]&&r.visible&&1!==d.compare(s._max64)&&m(d);else if("default"===this.tickMode?this.niceInterval?(i=this._getNiceInterval("radial"),e=this._getNiceInterval("radial",!0)):(i=n.interval,e=r.interval):(startToEnd=this.max-this.min,e=startToEnd/r.number,i=startToEnd/n.number),this.niceInterval){p(this.min),f(this.min);var c,u;for(l=c=this.min-this.min%i+i;l>=this.min;l-=e)u=l;for(d=u,h=c;(d<this.max||h<this.max)&&!(250<(a+=1));d+=e,h+=i)h<=this.max&&(p(h),o[h.toFixed(5)]=!0,d===c?Math.abs(this._getAngleByValue(h)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize().height&&f(h):h+i<this.max?f(h):Math.abs(this._getAngleByValue(h)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize().height&&f(h)),!o[d.toFixed(5)]&&d<=this.max&&m(d);p(this.max),f(this.max)}else for(d=this.min,h=this.min;(d<=this.max||h<=this.max)&&!(250<(a+=1));d+=e,h+=i)h<=this.max&&n.visible&&(p(h),o[h.toFixed(5)]=!0),!o[d.toFixed(5)]&&r.visible&&d<=this.max&&m(d);this._handleTicksVisibility()}function p(e){n.visible&&s._drawTick({angle:s._getAngleByValue(e),distance:s._getDistance(s.ticksDistance),style:n.style,size:s._getSize(n.size),type:"major"},t)}function m(e){r.visible&&s._drawTick({angle:s._getAngleByValue(e),distance:s._getDistance(s.ticksDistance),style:r.style,size:s._getSize(r.size),type:"minor"},t)}function f(e){s.labels.visible&&s._addLabel({angle:s._getAngleByValue(e),value:1<=i?e:new Number(e).toFixed(2),distance:s._getDistance(s._getLabelsDistance()),style:s.labels.className},t)}},_handleTicksVisibility:function(){this.ticksMinor.visible?this.host.children(".jqx-gauge-tick-minor").css("visibility","visible"):this.host.children(".jqx-gauge-tick-minor").css("visibility","hidden"),this.ticksMajor.visible?this.host.children(".jqx-gauge-tick-major").css("visibility","visible"):this.host.children(".jqx-gauge-tick-major").css("visibility","hidden")},_getSize:function(e){return 0<=e.toString().indexOf("%")&&(e=parseInt(e,10)/100*this._innerRadius),e=parseInt(e,10)},_getDistance:function(e){return this._getSize(e)+(this._originalRadius-this._innerRadius)},_drawTick:function(e,t){var i,s=this.that,r=e.angle,n=e.distance,o=e.size,a=s._outerBorderOffset(),l=s._originalRadius,d=l-n,h=d-o,c=l+a+d*Math.sin(r),u=l+a+d*Math.cos(r),p=l+a+h*Math.sin(r),m=l+a+h*Math.cos(r);(e.style.class=s.toThemeProperty("jqx-gauge-tick-"+e.type),s._isVML&&(c=Math.round(c),p=Math.round(p),u=Math.round(u),m=Math.round(m)),t&&!s.niceInterval)?((i=s._ticks[s._ticksIterator]).setAttribute("x1",c),i.setAttribute("x2",p),i.setAttribute("y1",u),i.setAttribute("y2",m),s._ticksIterator++):(i=s.renderer.line(c,u,p,m,e.style),s._ticks.push(i))},_addRanges:function(e){var t="visible";if(this.showRanges)for(var i=this.ranges,s=0;s<i.length;s+=1)this._addRange(i[s],t,e);else t="hidden"},_getMaxRangeSize:function(){for(var e,t,i=-1,s=0;s<this.ranges.length;s+=1)i<(e=this.ranges[s].startWidth)&&(i=e),i<(t=this.ranges[s].endWidth)&&(i=t);return i},_getRangeDistance:function(e,t){var i=this._getLabelsDistance(),s=this._getDistance(e),r=this._getMaxRangeSize();if("outside"===this.labels.position){if(i<s+this._getMaxTickSize())return this._getDistance(this.ticksDistance)+r/2+this._getSize(this.ticksMajor.size)}else if("inside"===this.labels.position&&i+this._getMaxTickSize()<s)return this._getSize(this.border.size)+this._originalRadius/20;return s},_addRange:function(e,t,i){var s=this.that;if(!("s"===s.int64&&(e._startValue64.lessThan(s._min64)||e._endValue64.greaterThan(s._max64))||"u"===s.int64&&(-1===e._startValue64.compare(s._min64)||1===e._endValue64.compare(s._max64))||!1===s.int64&&(e.startValue<s.min||e.endValue>s.max))){var r,n=s.int64?s._getAngleByValue(e._startValue64):s._getAngleByValue(e.startValue),o=s.int64?s._getAngleByValue(e._endValue64):s._getAngleByValue(e.endValue),a=s._originalRadius,l=a-s._getRangeDistance(e.startDistance,e.startWidth),d=a-s._getRangeDistance(e.endDistance,e.endWidth),h=e.startWidth,c=e.endWidth,u=s._outerBorderOffset(),p={x:a+u+l*Math.sin(n),y:a+u+l*Math.cos(n)},m={x:a+u+d*Math.sin(o),y:a+u+d*Math.cos(o)},f=s._getProjectionPoint(n,a+u,l,h),g=s._getProjectionPoint(o,a+u,d,c),v="default";Math.abs(o-n)>Math.PI&&(v="opposite"),r=s._isVML?s._rangeVMLRender(p,m,a,f,g,c,h,l,d,v):s._rangeSVGRender(p,m,a,f,g,c,h,l,d,v),e.style.visibility=t,e.style.class=s.toThemeProperty("jqx-gauge-range"),e=s.renderer.path(r,e.style),s._ranges.push(e)}},_rangeSVGRender:function(e,t,i,s,r,n,o,a,l,d){var h="",c=(a=i-a,["0,1","0,0"]);return"opposite"===d&&(c=["1,1","1,0"]),h="M"+e.x+","+e.y+" ",h+="A"+(i-a)+","+(i-a)+" 100 "+c[0]+" "+t.x+","+t.y+" ",h+="L "+r.x+","+r.y+" ",h+="A"+(i-n-a)+","+(i-n-a)+" 100 "+c[1]+" "+s.x+","+s.y+" ",h+="L "+e.x+","+e.y+" ",h+="z"},_rangeVMLRender:function(e,t,i,s,r,n,o,a,l,d){i-=i-a+10;var h="",c=Math.floor(i+(o+n)/2),u=(a=Math.floor(i-a),l=Math.floor(l),(s.x+r.x)/2),p=(s.y+r.y)/2,m=Math.sqrt((r.x-s.x)*(r.x-s.x)+(r.y-s.y)*(r.y-s.y)),f=Math.floor(u+Math.sqrt(i*i-m/2*(m/2))*(s.y-r.y)/m),g=Math.floor(p+Math.sqrt(i*i-m/2*(m/2))*(r.x-s.x)/m),v=(e.x+t.x)/2,x=(e.y+t.y)/2,w=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),y=Math.floor(v+Math.sqrt(Math.abs(c*c-w/2*(w/2)))*(e.y-t.y)/w),b=Math.floor(x+Math.sqrt(Math.abs(c*c-w/2*(w/2)))*(t.x-e.x)/w);return"opposite"===d&&(f=Math.floor(u-Math.sqrt(i*i-m/2*(m/2))*(s.y-r.y)/m),g=Math.floor(p-Math.sqrt(i*i-m/2*(m/2))*(r.x-s.x)/m),y=Math.floor(v-Math.sqrt(Math.abs(c*c-w/2*(w/2)))*(e.y-t.y)/w),b=Math.floor(x-Math.sqrt(Math.abs(c*c-w/2*(w/2)))*(t.x-e.x)/w)),i=Math.floor(i),t={x:Math.floor(t.x),y:Math.floor(t.y)},e={x:Math.floor(e.x),y:Math.floor(e.y)},s={x:Math.floor(s.x),y:Math.floor(s.y)},r={x:Math.floor(r.x),y:Math.floor(r.y)},h="m "+t.x+","+t.y,h+="at "+(y-c)+" "+(b-c)+" "+(c+y)+" "+(c+b)+" "+t.x+","+t.y+" "+e.x+","+e.y,h+="l "+s.x+","+s.y,h+="m "+t.x+","+t.y,h+="l "+r.x+","+r.y,h+="at "+(f-i)+" "+(g-i)+" "+(i+f)+" "+(i+g)+" "+r.x+","+r.y+" "+s.x+","+s.y,h+="qx "+s.x+" "+s.y},_getProjectionPoint:function(e,t,i,s){return{x:t+(i-s)*Math.sin(e),y:t+(i-s)*Math.cos(e)}},_addLabels:function(e){var t=this,i=t._getLabelInterval();if(t.labels.visible&&"0"!==t.labels.interval.toString()){var s=this._getDistance(this._getLabelsDistance()),r=0;if("s"===t.int64)for(var n=(new q.jqx.math).fromNumber(t.min.toString(),10);n.lessThanOrEqual(t._max64)&&!(250<(r+=1))&&(!n.lessThan(t._min64)&&!n.greaterThan(t._max64));n=n.add(i))this._addLabel({angle:this._getAngleByValue(n),value:n.toString(),distance:s,style:this.labels.className});else if("u"===t.int64)for(n=new BigNumber(t.min);1!==n.compare(t._max64)&&!(250<(r+=1))&&(-1!==n.compare(t._min64)&&1!==n.compare(t._max64));n=n.add(i))this._addLabel({angle:this._getAngleByValue(n),value:n.toString(),distance:s,style:this.labels.className});else for(n=this.min;n<=this.max&&!(250<(r+=1));n+=i)this._addLabel({angle:this._getAngleByValue(n),value:1<=i?n:new Number(n).toFixed(2),distance:s,style:this.labels.className},e)}},_getLabelsDistance:function(){var e=this._getMaxLabelSize(),t=this._getDistance(this.labels.distance),i=this._getDistance(this.ticksDistance);return e=e.width,"inside"===this.labels.position?i+e-5:"outside"===this.labels.position?t<i-1.5*e?t:Math.max(i-1.5*e,.6*e):this.labels.distance},_addLabel:function(e,t){var i=this.that,s=e.angle,r=i._originalRadius,n=r-e.distance,o=i.labels.offset,a=i._outerBorderOffset(),l=r+a+n*Math.sin(s)+o[0],d=r+a+n*Math.cos(s)+o[1],h=e.value,c=e.style||"",u=i.labels.fontSize;h=i._formatLabel(h.toString());var p={class:c};if(u&&(p["font-size"]=u),i.labels.fontFamily&&(p["font-family"]=i.labels.fontFamily),i.labels.fontWeight&&(p["font-weight"]=i.labels.fontWeight),i.labels.fontStyle&&(p["font-style"]=i.labels.fontStyle),t&&!i.niceInterval){var m=i._labels[i._labelsIterator],f=i.renderer._measureText(h,0,p,!0),g=f.textPartsInfo,v=(g.parts,g.width,g.height);m.setAttribute("x",Math.round(l)-f.width/2+(f.width-g.width)/2),m.setAttribute("y",Math.round(d)+v+(f.height-v)/2),i._labelsIterator++}else{var x=i.renderer.measureText(h,0,p),w=0;void 0!==u&&Math.PI>s&&(w=-x.width/2*(parseInt(u)/25),parseInt(u)<=10&&(w*=-1)),p.class=this.toThemeProperty("jqx-gauge-label"),m=i.renderer.text(h,Math.round(l)-x.width/2+w,Math.round(d),x.width,x.height,0,p),i._labels.push(m)}},_addCaption:function(e){if(!1!==this.caption.visible){var t=this.that,i=t.caption.value,s=t.toThemeProperty("jqx-gauge-caption"),r=t.caption.offset,n=t.renderer.measureText(i,0,{class:s}),o=t._getPosition(this.caption.position,n,r),a=(t.caption.style,t._outerBorderOffset());if(e)this._caption.setAttribute("x",o.left+a),this._caption.setAttribute("y",o.top+a);else{var l=t.renderer.text(i,o.left+a,o.top+a,n.width,n.height,0,{class:s});this._caption=l}}},_getPosition:function(e,t,i){var s=0,r=0,n=this._originalRadius;switch(e){case"left":s=(n-t.width)/2,r=n-t.height/2;break;case"right":s=n+(n-t.width)/2,r=n-t.height/2;break;case"bottom":s=(2*n-t.width)/2,r=(n+2*n-t.height)/2;break;default:s=(2*n-t.width)/2,r=(n+t.height)/2}return{left:s+i[0],top:r+i[1]}},_addPointer:function(e){var t="visible";this.pointer.visible||(t="hidden");this._originalRadius;var i,s=this._getSize(this.pointer.length),r=this._getAngleByValue(this.value),n=this.pointer.pointerType;i=this._computePointerPoints(this._getSize(this.pointer.width),r,s,"default"!==n),this._pointer=this.renderer.path(i,this.pointer.style),q(this._pointer).css("visibility",t)},_computePointerPoints:function(e,t,i,s){return s?this._computeRectPoints(e,t,i):this._computeArrowPoints(e,t,i)},_computeArrowPoints:function(e,t,i){var s=this._originalRadius-.5,r=Math.sin(t),n=Math.cos(t),o=this._outerBorderOffset(),a=s+o+i*r,l=s+o+i*n,d=s+o+e*n,h=s+o-e*r,c=s+o-e*n,u=s+o+e*r;return this._isVML&&(d=Math.round(d),c=Math.round(c),h=Math.round(h),u=Math.round(u),a=Math.round(a),l=Math.round(l)),"M "+d+","+h+" L "+c+","+u+" L "+a+","+l},_computeRectPoints:function(e,t,i){var s=this._originalRadius,r=Math.sin(t),n=Math.cos(t),o=this._outerBorderOffset(),a=s+o-e*n+i*r,l=s+o+e*r+i*n,d=s+o+e*n+i*r,h=s+o-e*r+i*n,c=s+o+e*n,u=s+o-e*r,p=s+o-e*n,m=s+o+e*r;return this._isVML&&(c=Math.round(c),p=Math.round(p),u=Math.round(u),m=Math.round(m),a=Math.round(a),l=Math.round(l),d=Math.round(d),h=Math.round(h)),"M "+c+","+u+" L "+p+","+m+" L "+a+","+l+" "+d+","+h},_getAngleByValue:function(e){var t,i,s,r,n=this.startAngle,o=n-this.endAngle;if(!1!==this.int64){e="s"===this.int64?(new q.jqx.math).fromString(e.toString(),10):new BigNumber(e),t=this._min64,i=this._max64.subtract(t),s=e.subtract(t),"u"===this.int64&&(s=s.intPart());var a,l,d=i.toString(),h=s.toString();if(15<d.length){var c=d.length-15;if(d=d.slice(0,15)+"."+d.slice(15),a=parseFloat(d),h.length>c){var u=h.length-c;h=h.slice(0,u)+"."+h.slice(u)}else if(h.length===c)h="0."+h;else{for(var p="0.",m=0;m<c-h.length;m++)p+="0";h=p+""+h}l=parseFloat(h)}else a=parseFloat(i.toString()),l=parseFloat(s.toString());r=o*l/a+n+Math.PI}else r=o*(s=e-(t=this.min))/(i=this.max-t)+n+Math.PI;return r},_setValue:function(e){var t=this;if("s"===t.int64&&e.lessThanOrEqual(t._max64)&&e.greaterThanOrEqual(t._min64)||"u"===t.int64&&1!==e.compare(t._max64)&&-1!==e.compare(t._min64)||!1===t.int64&&e<=t.max&&e>=t.min){var i=t._getAngleByValue(e),s=t.pointer.pointerType,r=t._computePointerPoints(t._getSize(t.pointer.width),i,t._getSize(t.pointer.length),"default"!==s);t._isVML?(t._pointer&&q(t._pointer).remove(),t._pointer=t.renderer.path(r,t.pointer.style)):t.renderer.attr(t._pointer,{d:r}),!1!==t.int64?(t.value=e.toString(),"s"===t.int64?t._value64=(new q.jqx.math).fromString(t.value,10):t._value64=new BigNumber(t.value)):t.value=e,q.jqx.aria(t,"aria-valuenow",e.toString())}},resize:function(e,t){this.width=e,this.height=t,this.refresh()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._refresh(!0)},propertyChangedHandler:function(e,t,i,s){s!=i&&(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("min"==t&&(!0===e.int64?e._min64=(new q.jqx.math).fromString(s.toString(),10):this.min=parseInt(s),q.jqx.aria(e,"aria-valuemin",s)),"max"==t&&(!0===e.int64?e._max64=(new q.jqx.math).fromString(s.toString(),10):this.max=parseInt(s),q.jqx.aria(e,"aria-valuemax",s)),"disabled"===t?(s?this.disable():this.enable(),q.jqx.aria(this,"aria-disabled",s)):"value"===t?(this.value=i,this.setValue(s)):("startAngle"===t?this.startAngle=this.startAngle*Math.PI/180+Math.PI/2:"endAngle"===t?this.endAngle=this.endAngle*Math.PI/180+Math.PI/2:"colorScheme"===t?(this.pointer.style=null,this.cap.style=null):"radius"===t&&(this._radius=s),"animationDuration"!==t&&"easing"!==t&&this._refresh()),this.renderer instanceof q.jqx.HTML5Renderer&&this.renderer.refresh()))},_tickConstructor:function(i,s){if(this.host)return new this._tickConstructor(i,s);function e(e,t){!1===s.int64?e[t]=parseFloat(i[t]):e[t]=i[t],e[t]||(e[t]=5)}i=i||{},this.size=s._validatePercentage(i.size,"10%"),e(this,"interval"),e(this,"number"),this.style=i.style||{stroke:"#898989","stroke-width":1},void 0===i.visible?this.visible=!0:this.visible=i.visible},_capConstructor:function(e,t){var i=t._getColorScheme(t.colorScheme)[0];if(this.host)return new this._capConstructor(e,t);void 0===(e=e||{}).visible?this.visible=!0:this.visible=e.visible,this.size=t._validatePercentage(e.size,"4%"),this.style=e.style||{fill:i,"stroke-width":"1px",stroke:i,"z-index":30}},_pointerConstructor:function(e,t){var i=t._getColorScheme(t.colorScheme)[0];if(this.host)return new this._pointerConstructor(e,t);void 0===(e=e||{}).visible?this.visible=!0:this.visible=e.visible,this.pointerType=e.pointerType,"default"!==this.pointerType&&"rectangle"!==this.pointerType&&(this.pointerType="default"),this.style=e.style||{"z-index":0,stroke:i,fill:i,"stroke-width":1},this.length=t._validatePercentage(e.length,"70%"),this.width=t._validatePercentage(e.width,"2%")},_labelsConstructor:function(e,t){if(this.host)return new this._labelsConstructor(e,t);void 0===(e=e||{}).visible?this.visible=!0:this.visible=e.visible,this.offset=e.offset,this.offset instanceof Array||(this.offset=[0,-10]),e.interval||(e.interval=20),!1!==t.int64?(this.interval=e.interval,"s"===t.int64?this._interval64=(new q.jqx.math).fromString(e.interval.toString(),10):this._interval64=new BigNumber(e.interval)):this.interval=parseFloat(e.interval),e.number||(e.number=5),this.number=e.number,this.distance=t._validatePercentage(e.distance,"38%"),this.position=e.position,"inside"!==this.position&&"outside"!==this.position&&(this.position="none"),this.formatValue=e.formatValue,this.formatSettings=e.formatSettings,this.fontSize=e.fontSize,this.fontFamily=e.fontFamily,this.fontWeight=e.fontWeight,this.fontStyle=e.fontStyle},_captionConstructor:function(e,t){if(this.host)return new this._captionConstructor(e,t);void 0===(e=e||{}).visible?this.visible=!0:this.visible=e.visible,this.value=e.value||"",this.position=e.position,"bottom"!==this.position&&"top"!==this.position&&"left"!==this.position&&"right"!==this.position&&(this.position="bottom"),this.offset=e.offset,this.offset instanceof Array||(this.offset=[0,0])},_rangeConstructor:function(e,t){if(this.host)return new this._rangeConstructor(e,t);e=e||{},this.startDistance=t._validatePercentage(e.startDistance,"5%"),this.endDistance=t._validatePercentage(e.endDistance,"5%"),this.style=e.style||{fill:"#000000",stroke:"#111111"},this.startWidth=parseFloat(e.startWidth,10),this.startWidth||(this.startWidth=10),this.startWidth=Math.max(this.startWidth,2),this.endWidth=parseFloat(e.endWidth,10),this.endWidth||(this.endWidth=10),this.endWidth=Math.max(this.endWidth,2),void 0===e.startValue&&(e.startValue=0),void 0===e.endValue&&(e.endValue=100),!1!==t.int64?(this.startValue=e.startValue,this.endValue=e.endValue,"s"===t.int64?(this._startValue64=(new q.jqx.math).fromString(e.startValue.toString(),10),this._endValue64=(new q.jqx.math).fromString(e.endValue.toString(),10)):(this._startValue64=new BigNumber(e.startValue),this._endValue64=new BigNumber(e.endValue))):(this.startValue=parseFloat(e.startValue,10),this.endValue=parseFloat(e.endValue,10))},_borderConstructor:function(e,t){if(this.host)return new this._borderConstructor(e,t);e=e||{},this.size=t._validatePercentage(e.size,"10%"),this.style=e.style||{stroke:"#cccccc"},void 0===e.showGradient?this.showGradient=!0:this.showGradient=e.showGradient,void 0===e.visible?this.visible=!0:this.visible=e.visible}},t={_events:["valueChanging","valueChanged"],_animationTimeout:10,_schemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_getScale:function(e,t,i){return e&&0<=e.toString().indexOf("%")?(e=parseInt(e,10)/100,i[t]()*e):parseInt(e,10)},_removeElements:function(){this.host.children(".chartContainer").remove(),this.host.children("#tblChart").remove()},_getLabelInterval:function(){var e,t=this,i=t.labels;if("default"===t.tickMode)t.niceInterval?e=t._getNiceInterval("jqxGauge"===t.widgetName?"radial":"linear"):!1===t.int64?e=i.interval:(i._interval64||(i._interval64="s"===t.int64?(new q.jqx.math).fromNumber(i.interval):new BigNumber(i.interval)),e=i._interval64);else if(!1===t.int64){e=(s=t.max-t.min)/i.number}else{var s=t._max64.subtract(t._min64);e="s"===t.int64?s.div((new q.jqx.math).fromNumber(i.number)):s.divide(new BigNumber(i.number))}return e},_getMaxLabelSize:function(){var e=this.max,t=this.min;t=this._formatLabel(t),e=this._formatLabel(e);var i=q('<div style="position: absolute; visibility: hidden;" class="'+this.toThemeProperty("jqx-gauge-label")+'"></div>');i.css({"font-size":this.labels.fontSize,"font-family":this.labels.fontFamily,"font-weight":this.labels.fontWeight,"font-style":this.labels.fontStyle}),q("body").append(i),i.html(t);var s={width:i.width(),height:i.height()};i.html(e);var r={width:i.width(),height:i.height()};return i.remove(),r.width<s.width?s:r},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},destroy:function(){var e=this;e._timeout&&clearTimeout(this._timeout),e._timeout=null,q.jqx.utilities.resize(e.host,null,!0),e._removeElements(),e.renderer.clear(),e.renderer=null;var t=q.data(e.element,"jqxGauge");t&&delete t.instance,e.host.children().remove(),e._caption=null,e._caption=null,e._pointer=null,e._labels=[],e._cap=null,e._ticks=[],e._ranges=[],e._border=null,e._gauge=null,e._caption=null,e.renderer=null,e._animations=[],e.host.removeData(),e.host.removeClass(),e.host.remove(),e.that=null,e.element=null,e._gaugeParent=null,delete e._gaugeParent,delete e.element,delete e.host},_validatePercentage:function(e,t){return 0===parseFloat(e)||e&&parseInt(e,10)||(e=t),e},_getColorScheme:function(e){for(var t,i=0;i<this._schemes.length;i+=1)if((t=this._schemes[i]).name===e)return t.colors;return null},setValue:function(e,t){var i=this;i.disabled||(t=t||i.animationDuration||0,"s"===i.int64?("number"==typeof e?e=(new q.jqx.math).fromNumber(e,10):"string"==typeof e&&(e=(new q.jqx.math).fromString(e,10)),e.greaterThan(i._max64)&&(e=(new q.jqx.math).fromString(i._max64.toString(),10)),e.lessThan(i._min64)&&(e=(new q.jqx.math).fromString(i._min64.toString(),10)),i._animate(i._value64,e,t)):"u"===i.int64?(1===(e=new BigNumber(e)).compare(i._max64)&&(e=new BigNumber(i._max64)),-1===e.compare(i._min64)&&(e=new BigNumber(i._min64)),i._animate(i._value64,e,t)):(e>i.max&&(e=i.max),e<i.min&&(e=i.min),i._animate(i.value,e,t)),q.jqx.aria(i,"aria-valuenow",e.toString()))},_animate:function(e,t,i){this._timeout&&this._endAnimation(this.int64?this._value64:this.value,!1),i?this._animateHandler(e,t,0,i):this._endAnimation(t,!0)},_animateHandler:function(i,s,r,n){var o=this;r<=n?this._timeout=setTimeout(function(){if(!1!==o.int64){var e=s.subtract(i);if("s"===o.int64){var t=(new q.jqx.math).fromNumber(100*q.easing[o.easing](r/n,r,0,1,n),10);o._value64=i.add(e.multiply(t).div((new q.jqx.math).fromNumber(100,10)))}else{t=new BigNumber(100*q.easing[o.easing](r/n,r,0,1,n));o._value64=i.add(e.multiply(t).divide(100))}o.value=o._value64.toString(),o._setValue(o._value64)}else o.value=i+(s-i)*q.easing[o.easing](r/n,r,0,1,n),o._setValue(o.value);o._raiseEvent(0,{value:o.value.toString()}),o._animateHandler(i,s,r+o._animationTimeout,n)},this._animationTimeout):this._endAnimation(s,!0)},_endAnimation:function(e,t){clearTimeout(this._timeout),this._timeout=null,this._setValue(e),t&&this._raiseEvent(1,{value:e.toString()})},_getMaxTickSize:function(){return Math.max(this._getSize(this.ticksMajor.size),this._getSize(this.ticksMinor.size))},_raiseEvent:function(e,t){var i=q.Event(this._events[e]);return i.args=t||{},this.host.trigger(i)},_getNiceInterval:function(e,t){function i(e){return Math.log(parseFloat(e))/Math.LN10}var s=this,r="width";"linear"===e&&"vertical"===s.orientation&&(r="height");var n=q.jqx.browser.msie?0:1,o=q('<span class="'+s.toThemeProperty("jqx-gauge-label")+'" style="position: absolute; visibility: hidden;"></span>'),a=s._formatLabel(s.min),l=s._formatLabel(s.max);o.css({"font-size":s.labels.fontSize,"font-family":s.labels.fontFamily,"font-weight":s.labels.fontWeight,"font-style":s.labels.fontStyle}),q("body").append(o),o.text(a);var d=o[r]()+n;o.text(l);var h=o[r]()+n;o.remove();var c,u,p=Math.max(h,d),m=1;if("radial"===e){var f;f=s._innerRadius<50?.3:s._innerRadius<150?.6:s._innerRadius<250?.7:1,m=8/Math.max(1,i(s._innerRadius))*f}else{var g=0;105<p&&(g=(p-105)/100),m=1.5+g}p*=m,"radial"===e?(u=Math.abs(s.startAngle-s.endAngle)*s._innerRadius,c=Math.round(u)):c=s._getScaleLength();var v,x,w,y,b,_,j=Math.ceil(c/p);return!0===t&&(j*="radial"===e?4:3),!1===s.int64?(v=s.max-s.min,x=Math.floor(i(v)-i(j)),_=(b=v<2*(y=j*(w=Math.pow(10,x)))?1:v<3*y?2:v<7*y?5:10)*w):(v=new BigNumber(s.max).subtract(new BigNumber(s.min)),x=Math.floor(i(v.toString())-i(j)),w=new BigNumber(10).pow(new BigNumber(x)),y=new BigNumber(j).multiply(w),b=-1===v.compare(new BigNumber(2*y))?1:-1===v.compare(new BigNumber(3*y))?2:-1===v.compare(new BigNumber(7*y))?5:10,-1===(_=new BigNumber(b).multiply(w)).compare(1)&&(_=new BigNumber(1)),"s"===s.int64&&(_=(new q.jqx.math).fromString(_.toString()))),_},_styleLabels:function(){},_checkForOverflow:function(e,t){var i=new BigNumber("9223372036854775807"),s=new BigNumber(e.toString()),r=new BigNumber(t.toString());return 1===s.add(r).compare(i)},_formatLabel:function(e,t){var i,s=this.labels.formatValue,r=this.labels.formatSettings;return s?i=s(e,t):r?void 0!==r.radix?i=(new q.jqx.math).getRadixValue(e,this.int64,r.radix):void 0!==r.outputNotation&&"default"!==r.outputNotation&&"decimal"!==r.outputNotation?i=(new q.jqx.math).getDecimalNotation(e,r.outputNotation,r.decimalDigits,r.digits):void 0!==r.decimalDigits?i=Number(e).toFixed(r.decimalDigits):void 0!==r.digits&&(i=Number(e).toPrecision(r.digits)):i=e,i},_editableLabels:function(e){var o=this;function t(e,t){var i=o.renderer.measureText(o._formatLabel(t),0,{class:o.toThemeProperty("jqx-gauge-label")});r.offset(q(e).offset()),s.style.width=i.width+10+"px",s.style.height=i.height+"px",s.style.visibility="visible",s.value=t,r.select()}if(o.editableLabels){var i=o._labels;if(0===i.length)return;var s,r,n=i[0],a=i[i.length-1];!0!==e?(s=document.createElement("input"),r=q(s),s.className="jqx-gauge-label-input",o.element.appendChild(s)):(r=o.host.children("input"),s=r[0]),n.style.cursor="text",a.style.cursor="text",o.addHandler(q(n),"dblclick.jqxGauge"+o.element.id,function(e){t(this,o.min),o._editedProperty="min"}),o.addHandler(q(a),"dblclick.jqxGauge"+o.element.id,function(e){t(this,o.max),o._editedProperty="max"});var l=/^-?\d+\.?\d*$/;function d(e,t,i,s){if(e===o[t].toString())return!1;if("s"===o.int64){var r=(new q.jqx.math).fromString(e,10);if("min"===t&&-1!==r.compare(o["_"+s+"64"])||"max"===t&&1!==r.compare(o["_"+s+"64"]))return!1;o[i]=r,o[t]=e}else if("u"===o.int64){var n=new BigNumber(e);if(-1===n.compare(0)||"min"===t&&-1!==n.compare(o["_"+s+"64"])||"max"===t&&1!==n.compare(o["_"+s+"64"]))return!1;o[i]=n,o[t]=e}else{if("min"===t&&e>=o[s]||"max"===t&&e<=o[s])return!1;o[t]=parseFloat(e)}}!0!==e&&o.addHandler(r,"blur.jqxGauge"+o.element.id,function(e){var t=this.value;if(s.style.visibility="hidden",l.test(t)){if("min"===o._editedProperty){if(!1===d(t,"min","_min64","max"))return;q.jqx.aria(o,"aria-valuemin",t)}else{if(!1===d(t,"max","_max64","min"))return;q.jqx.aria(o,"aria-valuemax",t)}o.refresh(),o.renderer instanceof q.jqx.HTML5Renderer&&o.renderer.refresh()}})}}},i={defineInstance:function(){var e={int64:!1,editableLabels:!1,value:-50,max:40,min:-60,width:100,height:300,pointer:{},labels:{},animationDuration:1e3,showRanges:{},ticksMajor:{size:"15%",interval:5},ticksMinor:{size:"10%",interval:2.5},tickMode:"default",niceInterval:!1,ranges:[],easing:"easeOutCubic",colorScheme:"scheme01",disabled:!1,rangesOffset:0,background:{},ticksPosition:"both",rangeSize:"5%",scaleStyle:null,ticksOffset:null,scaleLength:"90%",orientation:"vertical",aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},displayTank:!1,tankStyle:null,_originalColor:"",_width:null,_height:null,renderer:null};return this===q.jqx._jqxLinearGauge.prototype||q.extend(!0,this,e),e},createInstance:function(){q.jqx.aria(this),this.host.css("overflow","hidden"),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.append('<input class="jqx-gauge-label-input"/>');var e=this;if("s"===e.int64){if(!q.jqx.longInt)throw new Error("jqxLinearGauge: Missing reference to jqxmath.js");q.jqx.longInt(e),e._value64=(new q.jqx.math).fromString(e.value.toString(),10),e._min64=(new q.jqx.math).fromString(e.min.toString(),10),e._max64=(new q.jqx.math).fromString(e.max.toString(),10)}else if("u"===e.int64){try{BigNumber}catch(e){throw new Error("jqxLinearGauge: Missing reference to jqxmath.js")}e._value64=new BigNumber(e.value),e._min64=new BigNumber(e.min),e._max64=new BigNumber(e.max)}q.jqx.utilities.resize(this.host,function(){e.refresh(!1,!1)})},val:function(e){if(0==arguments.length||"object"==typeof e)return this.value;this.setValue(e,0)},_initRenderer:function(e){if(!q.jqx.createRenderer)throw"Please include a reference to jqxdraw.js";return q.jqx.createRenderer(this,e)},refresh:function(e,t){var i=this;if(i._nearLabels=[],i._farLabels=[],i.renderer||(i._isVML=!1,i.host.empty(),i._initRenderer(i.host)),i.renderer&&(i._validateProperties(),i._reset(),i._init(),i._performLayout(),i._render(),!1!==t&&i.setValue(i.value,1),!e)){var s=i.labels.position;"both"!==s&&"near"!==s||(i._labels=i._nearLabels,i._editableLabels()),"both"!==s&&"far"!==s||(i._labels=i._farLabels,i._editableLabels("both"===s||void 0))}},_getBorderSize:function(){var e,t=1;return this._isVML&&(t=0),this.background?(e=(parseInt(this.background.style["stroke-width"],10)||t)/2,this._isVML?Math.round(e):e):t},_validateProperties:function(){this.background=this._backgroundConstructor(this.background,this),this.ticksOffset=this.ticksOffset||this._getDefaultTicksOffset(),this.rangesOffset=this.rangesOffset||0,this.rangeSize=this._validatePercentage(this.rangeSize,5),this.ticksOffset[0]=this._validatePercentage(this.ticksOffset[0],"5%"),this.ticksOffset[1]=this._validatePercentage(this.ticksOffset[1],"5%"),this.ticksMinor=this._tickConstructor(this.ticksMinor,this),this.ticksMajor=this._tickConstructor(this.ticksMajor,this),this.scaleStyle=this.scaleStyle||this.ticksMajor.style,this.labels=this._labelsConstructor(this.labels,this),this.pointer=this._pointerConstructor(this.pointer,this);for(var e=0;e<this.ranges.length;e+=1)this.ranges[e]=this._rangeConstructor(this.ranges[e],this)},_getDefaultTicksOffset:function(){return"horizontal"===this.orientation?["5%","36%"]:["36%","5%"]},_handleOrientation:function(){"vertical"===this.orientation?q.extend(this,linearVerticalGauge):q.extend(this,linearHorizontalGauge)},_reset:function(){this.host.empty()},_performLayout:function(){var e=parseInt(this.background.style["stroke-width"],10)||1;this._width-=e,this._height-=e,this.host.css("padding",e/2)},_init:function(){var e;this._getBorderSize();this._width=this._getScale(this.width,"width",this.host.parent())-3,this._height=this._getScale(this.height,"height",this.host.parent())-3,this.element.innerHTML="<div/>",this.host.width(this._width),this.host.height(this._height),this.host.children().width(this._width),this.host.children().height(this._height),this.renderer.init(this.host.children()),(e=this.renderer.getContainer()).width(this._width),e.height(this._height)},_render:function(){this._renderBackground(),this._renderTicks(),this.niceInterval||this._renderLabels(),this._styleLabels(),this._renderRanges(),this._renderPointer()},_renderBackground:function(){if(this.background.visible){var e,t=this.background.style,i=q.jqx._rup(this._getBorderSize()),s="rect";t=this._handleShapeOptions(t),"roundedRectangle"===this.background.backgroundType&&this._isVML&&(s="roundrect"),this._Vml||(t.x=i,t.y=i),e=this.renderer.shape(s,t),this._isVML&&this._fixVmlRoundrect(e,t)}},_handleShapeOptions:function(e){var t=this.background.style.fill;this._getBorderSize();return t||(t="#cccccc"),this.background.showGradient&&(t.indexOf("url")<0&&t.indexOf("#grd")<0?this._originalColor=t:t=this._originalColor,t=this.renderer._toLinearGradient(t,"horizontal"===this.orientation,[[1,1.1],[90,1.5]])),this.background.style.fill=t,"roundedRectangle"===this.background.backgroundType&&(this._isVML?e.arcsize=this.background.borderRadius+"%":(e.rx=this.background.borderRadius,e.ry=this.background.borderRadius)),e.width=this._width-1,e.height=this._height-1,e},_fixVmlRoundrect:function(e,t){var i=this._getBorderSize();e.style.position="absolute",e.style.left=i,e.style.top=i,e.style.width=this._width-1,e.style.height=this._height-1,e.strokeweight=0,delete t.width,delete t.height,delete t.arcsize,this.renderer.attr(e,t)},_renderTicks:function(){var e,t,i,s,r,n=this.ticksMinor,o=this.ticksMajor;"s"===this.int64?((e=this._max64.subtract(this._min64)).isNegative()&&(e=e.negate()),"default"===this.tickMode?this.niceInterval?(t=this._getNiceInterval("linear"),i=this._getNiceInterval("linear",!0)):(t=o._interval64,i=n._interval64):(t=e.div((new q.jqx.math).fromNumber(o.number)),i=e.div((new q.jqx.math).fromNumber(n.number)))):"u"===this.int64?(e=this._max64.subtract(this._min64).abs(),"default"===this.tickMode?this.niceInterval?(t=this._getNiceInterval("linear"),i=this._getNiceInterval("linear",!0)):(t=o._interval64,i=n._interval64):(t=e.divide(new BigNumber(o.number)),i=e.divide(new BigNumber(n.number)))):(e=Math.abs(this.max-this.min),"default"===this.tickMode?this.niceInterval?(t=this._getNiceInterval("linear"),i=this._getNiceInterval("linear",!0)):(t=o.interval,i=n.interval):(t=e/o.number,i=e/n.number)),s={size:this._getSize(o.size),style:o.style,visible:o.visible,interval:t,type:"major"},r={size:this._getSize(n.size),style:n.style,visible:n.visible,interval:i,checkOverlap:!0,type:"minor"},"near"!==this.ticksPosition&&"both"!==this.ticksPosition||(this._ticksRenderHandler(s),this._ticksRenderHandler(r)),"far"!==this.ticksPosition&&"both"!==this.ticksPosition||(s.isFar=!0,r.isFar=!0,this._ticksRenderHandler(s),this._ticksRenderHandler(r)),this._renderConnectionLine()},_ticksRenderHandler:function(e){if(e.visible||"minor"!==e.type){this._getSize(this.ticksOffset[0],"width"),this._getSize(this.ticksOffset[1],"height");var t=this._getBorderSize(),i=this._calculateTickOffset()+this._getMaxTickSize();e.isFar&&(i+=e.size),this._drawTicks(e,t,i+t)}},_drawTicks:function(r,n,o){var a,e,l=this,t=r.interval,i="vertical"===l.orientation?"width":"height",s="vertical"===l.orientation?"height":"width",d=l._getMaxLabelSize()[i],h=l._getMaxLabelSize()[s],c=l._getInterval("ticksMajor"),u=l._getInterval("ticksMinor");function p(e){if(a=l._valueToCoordinates(e),(!r.checkOverlap||!l._overlapTick(e,c,u))&&(r.visible&&l._renderTick(r.size,a,r.style,o),l.niceInterval&&l.labels.visible)){"vertical"===l.orientation?l._getSize(l.ticksOffset[1],"height"):l._getSize(l.ticksOffset[0],"width"),n;var t,i=r.isFar?"far":"near";if(t="near"===i?l._calculateTickOffset()-d+n+l._getSize(l.labels.offset):l._calculateTickOffset()+2*l._getMaxTickSize()+d+n+l._getSize(l.labels.offset),!1===l.int64){if(e!==l.min&&Math.abs(l._valueToCoordinates(l.min)-a)<h)return;if(e!==l.max&&Math.abs(l._valueToCoordinates(l.max)-a)<h)return}else if("s"===l.int64){if(!1===e.equals(l._min64)&&Math.abs(l._valueToCoordinates(l._min64)-a)<h)return!1;if(!1===e.equals(l._max64)&&Math.abs(l._valueToCoordinates(l._max64)-a)<h)return}else if("u"===l.int64){if(0!==e.compare(l._min64)&&Math.abs(l._valueToCoordinates(l._min64)-a)<h)return!1;if(0!==e.compare(l._max64)&&Math.abs(l._valueToCoordinates(l._max64)-a)<h)return}var s=l.labels.position;"major"===r.type&&("both"===s||"near"===s&&!0!==r.isFar||"far"===s&&r.isFar)&&l._renderLabel(a,i,t,d,e)}}if(l.niceInterval)if("s"===l.int64){if(p(l._min64),e=l._min64.subtract(l._min64.modulo(t)).add(t),"minor"===r.type)for(var m=e;m.greaterThanOrEqual(l._min64);m=m.subtract(t))e=m;for(var f=e;f.lessThan(l._max64)&&!l._checkForOverflow(f,t);f=f.add(t))p(f);p(l._max64)}else if("u"===l.int64){if(p(l._min64),e=l._min64.subtract(l._min64.mod(t)).add(t),"minor"===r.type)for(m=e;-1!==m.compare(l._min64);m=m.subtract(t))e=m;for(f=e;-1===f.compare(l._max64);f=f.add(t))p(f);p(l._max64)}else{if(p(l.min),e=l.min-l.min%t+t,"minor"===r.type)for(m=e;m>=l.min;m-=t)e=m;for(f=e;f<=l.max;f+=t)p(f);p(l.max)}else if("s"===l.int64)for(f=(new q.jqx.math).fromString(l._min64.toString(),10);f.lessThanOrEqual(l._max64);f=f.add(t))p(f);else if("u"===l.int64)for(f=new BigNumber(l._min64);1!==f.compare(l._max64);f=f.add(t))p(f);else for(f=l.min;f<=l.max;f+=t)p(f)},_calculateTickOffset:function(){var e=this._getSize(this.ticksOffset[0],"width"),t=this._getSize(this.ticksOffset[1],"height");return"vertical"===this.orientation&&(t=e),t},_getInterval:function(e){var t,i=this;if("default"===i.tickMode)t=!0===i.niceInterval?i._getNiceInterval("linear","ticksMinor"===e):!1!==i.int64?i[e]._interval64:i[e].interval;else{var s,r=i[e].number;!1!==i.int64?(s=i._max64.subtract(i._min64),t="s"===i.int64?s.div((new q.jqx.math).fromNumber(r)):s.divide(new BigNumber(r))):t=(s=i.max-i.min)/i[e].number}return t},_overlapTick:function(e,t,i){return"s"===this.int64?!!(e=e.add(this._min64)).modulo(i).equals(e.modulo(t)):"u"===this.int64?0===(e=e.add(this._min64)).mod(i).compare(e.mod(t)):(e+=this.min)%i==e%t},_renderConnectionLine:function(){if(this.ticksMajor.visible||this.ticksMinor.visible){this._getScaleLength();var e,t,i=this._getBorderSize(),s=this._getMaxTickSize()+i;if(!1!==this.int64?(e=this._valueToCoordinates(this._max64),t=this._valueToCoordinates(this._min64)):(e=this._valueToCoordinates(this.max),t=this._valueToCoordinates(this.min)),"vertical"===this.orientation)s+=this._getSize(this.ticksOffset[0],"width"),this.renderer.line(s,e,s,t,this.scaleStyle);else{s+=this._getSize(this.ticksOffset[1],"height");var r=this._getSize(this.ticksOffset[0],"width");this.renderer.line(r+e-t,s,r,s,this.scaleStyle)}}},_getScaleLength:function(){return this._getSize(this.scaleLength,"vertical"===this.orientation?"height":"width")},_renderTick:function(e,t,i,s){var r=this._handleTickCoordinates(e,t,s);this.renderer.line(Math.round(r.x1),Math.round(r.y1),Math.round(r.x2),Math.round(r.y2),i)},_handleTickCoordinates:function(e,t,i){return"vertical"===this.orientation?{x1:i-e,x2:i,y1:t,y2:t}:{x1:t,x2:t,y1:i-e,y2:i}},_getTickCoordinates:function(e,t){var i=this._handleTickCoordinates(e,0,this._calculateTickOffset());return i="vertical"===this.orientation?i.x1:i.y1,i+=e},_renderLabels:function(){if(this.labels.visible){var e,t=this._getSize(this.ticksOffset[0],"width"),i=this._getMaxTickSize(),s=this.labels.position,r="height",n=this._getBorderSize(),o=this._calculateTickOffset()+i;"vertical"===this.orientation&&(t=this._getSize(this.ticksOffset[1],"height"),r="width"),e=this._getMaxLabelSize()[r],"near"!==s&&"both"!==s||this._labelListRender(o-i-e+n,t+n,e,"near"),"far"!==s&&"both"!==s||this._labelListRender(o+i+e+n,t+n,e,"far")}},_labelListRender:function(e,t,i,s){var r,n,o,a,l,d=this._getScaleLength();e+=this._getSize(this.labels.offset),!1!==this.int64?(l=this._max64.subtract(this._min64),"default"===this.tickMode?(r=this.labels._interval64,n="s"===this.int64?l.div(r).toNumber():parseFloat(l.divide(r).toString())):(n=this.labels.number,r="s"===this.int64?l.div((new q.jqx.math).fromNumber(n)):l.divide(n)),a="vertical"===this.orientation?this._max64:this._min64):(l=Math.abs(this.max-this.min),"default"===this.tickMode?n=l/(r=this.labels.interval):r=l/(n=this.labels.number),a="vertical"===this.orientation?this.max:this.min),o=d/n;for(var h=0;h<=n;h+=1)this._renderLabel(t,s,e,i,a),!1!==this.int64?a="vertical"===this.orientation?a.subtract(r):a.add(r):a+="vertical"===this.orientation?-r:r,t+=o},_renderLabel:function(e,t,i,s,r){var n,o,a,l,d=this.labels,h={class:this.toThemeProperty("jqx-gauge-label")},c=(this.labels.interval,"");d.fontSize&&(c+="font-size: "+d.fontSize+";"),d.fontFamily&&(c+="font-family: "+d.fontFamily),d.fontWeight&&(c+="font-weight: "+d.fontWeight),d.fontStyle&&(c+="font-style: "+d.fontStyle),""!==c&&(h.style=c),a=this._formatLabel(r.toString(),t),o=this.renderer.measureText(a,0,h),"vertical"===this.orientation?(n="near"===t?s-o.width:0,l=this.renderer.text(a,Math.round(i)+n-s/2,Math.round(e-o.height/2),o.width,o.height,0,h)):(n="near"===t?s-o.height:0,l=this.renderer.text(a,Math.round(e-o.width/2),Math.round(i)+n-s/2,o.width,o.height,0,h)),"near"===t?this.niceInterval||"horizontal"===this.orientation?this._nearLabels.push(l):this._nearLabels.unshift(l):this.niceInterval||"horizontal"===this.orientation?this._farLabels.push(l):this._farLabels.unshift(l)},_renderRanges:function(){if(this.showRanges)for(var e,t="vertical"===this.orientation?"width":"height",i=this._getSize(this.rangesOffset,t),s=this._getSize(this.rangeSize,t),r=0;r<this.ranges.length;r+=1)(e=this.ranges[r]).size=s,this._renderRange(e,i)},_renderRange:function(e,t){this._getScaleLength();var i,s,r=this._getBorderSize(),n=this._getSize(this.ticksOffset[0],"width"),o=this._getSize(this.ticksOffset[1],"height"),a=this._getMaxTickSize(),l=this._getSize(e.size);!1!==this.int64?(i=this._valueToCoordinates(e._endValue64),s=e._startValue64,"s"===this.int64&&s.lessThan(this._min64)?s=(new q.jqx.math).fromString(this._min64.toString(),10):"u"===this.int64&&-1===s.compare(this._min64)&&(s=new BigNumber(this._min64))):(i=this._valueToCoordinates(e.endValue),(s=e.startValue)<this.min&&(s=this.min));var d,h,c=Math.abs(this._valueToCoordinates(s)-i);"vertical"===this.orientation?d=this.renderer.rect(n+a+t-l+r,i,e.size,c,e.style):(h=c,d=this.renderer.rect(this._valueToCoordinates(s),o+a+r,h,e.size,e.style)),this.renderer.attr(d,e.style)},_renderPointer:function(){this.pointer.visible&&("default"===this.pointer.pointerType?this._renderColumnPointer():this._renderArrowPointer())},_renderColumnPointer:function(){if(this.displayTank){var e={fill:"#FFFFFF","fill-opacity":0};this.tankStyle?(e.stroke=this.tankStyle.stroke,e["stroke-width"]=this.tankStyle.strokeWidth):(e.stroke="#A1A1A1",e["stroke-width"]="1px"),this._tank=this.renderer.rect(0,0,0,0,e),this._performTankLayout()}this._pointer=this.renderer.rect(0,0,0,0,this.pointer.style),this.renderer.attr(this._pointer,this.pointer.style),!1!==this.int64?this._setValue(this._value64):this._setValue(this.value)},_performTankLayout:function(){var e,t,i=this._valueToCoordinates(),s=this._getBorderSize(),r=this._getSize(this.ticksOffset[0],"width"),n=this._getSize(this.ticksOffset[1],"height"),o=this._getMaxTickSize(),a=this._getSize(this.pointer.size),l=this._getSize(this.pointer.offset),d={};!1!==this.int64?(i=this._valueToCoordinates(this._max64),e=this._valueToCoordinates(this._min64)):(i=this._valueToCoordinates(this.max),e=this._valueToCoordinates(this.min)),t=Math.abs(e-i),d="vertical"===this.orientation?{left:r+o+l+1+s,top:i,height:t,width:a}:{left:e,top:n+o+l-a-1+s,height:a,width:t},this._isVML?(this._tank.style.top=d.top,this._tank.style.left=d.left,this._tank.style.width=d.width,this._tank.style.height=d.height):(this.renderer.attr(this._tank,{x:d.left}),this.renderer.attr(this._tank,{y:d.top}),this.renderer.attr(this._tank,{width:d.width}),this.renderer.attr(this._tank,{height:d.height}))},_renderArrowPointer:function(){var e=this._getArrowPathByValue(0);this._pointer=this.renderer.path(e,this.pointer.style)},_renderArrowPointerByValue:function(e){var t=this._getArrowPathByValue(e);this._pointer=this.renderer.path(t,this.pointer.style)},_getArrowPathByValue:function(e){var t,i,s,r=this._getBorderSize(),n=Math.ceil(this._valueToCoordinates(e))+r,o=r,a=Math.ceil(this._getSize(this.ticksOffset[0],"width")),l=(Math.ceil(this._getSize(this.ticksOffset[1],"height")),Math.ceil(this._getSize(this.pointer.offset))),d=Math.ceil(this._getMaxTickSize()),h=Math.ceil(this._getSize(this.pointer.size)),c=Math.ceil(Math.sqrt(h*h/3));"vertical"===this.orientation?t="M "+(o+=a+d+l)+" "+n+" L "+(i=0<=l?o+h:o-h)+" "+(n-c)+" L "+i+" "+(n+c):(o+=a+d+l+this._getMaxLabelSize().height,this._isVML&&(o-=2),s=n,n=o,t="M "+(o=s)+" "+n+" L "+(o-c)+" "+(i=n-h)+" L "+(o+c)+" "+i);return t},_setValue:function(e){"default"===this.pointer.pointerType?this._performColumnPointerLayout(e):this._performArrowPointerLayout(e),this.value=e},_performColumnPointerLayout:function(e){var t,i,s=this._valueToCoordinates(e),r=this._getBorderSize(),n=this._getSize(this.ticksOffset[0],"width"),o=this._getSize(this.ticksOffset[1],"height"),a=this._getMaxTickSize(),l=this._getSize(this.pointer.size),d=this._getSize(this.pointer.offset),h={};t=!1!==this.int64?this._valueToCoordinates(this._min64):this._valueToCoordinates(this.min),i=Math.abs(t-s),h="vertical"===this.orientation?{left:n+a+d+1+r,top:s,height:i,width:l}:{left:t,top:o+a+d-l-1+r,height:l,width:i},this._setRectAttrs(h)},_performArrowPointerLayout:function(e){var t=this._getArrowPathByValue(e);this._isVML?(this._pointer&&q(this._pointer).remove(),this._renderArrowPointerByValue(e)):this.renderer.attr(this._pointer,{d:t})},_setRectAttrs:function(e){this._isVML?(this._pointer.style.top=e.top,this._pointer.style.left=e.left,this._pointer.style.width=e.width,this._pointer.style.height=e.height):(this.renderer.attr(this._pointer,{x:e.left}),this.renderer.attr(this._pointer,{y:e.top}),this.renderer.attr(this._pointer,{width:e.width}),this.renderer.attr(this._pointer,{height:e.height}))},_valueToCoordinates:function(e){var t,i,s,r=this._getBorderSize(),n=this._getScaleLength(),o=this._getSize(this.ticksOffset[0],"width"),a=this._getSize(this.ticksOffset[1],"height");if(!1!==this.int64){t=e.subtract(this._min64),i=this._max64.subtract(this._min64),"s"===this.int64?(t.isNegative()&&t.negate(),i.isNegative()&&i.negate()):(t=t.intPart().abs(),i=i.abs());var l,d,h=t.toString(),c=i.toString();if(15<c.length){var u=c.length-15;if(c=c.slice(0,15)+"."+c.slice(15),d=parseFloat(c),h.length>u){var p=h.length-u;h=h.slice(0,p)+"."+h.slice(p)}else if(h.length===u)h="0."+h;else{for(var m="0.",f=0;f<u-h.length;f++)m+="0";h=m+""+h}l=parseFloat(h)}else"s"===this.int64?(l=t.toNumber(),d=i.toNumber()):(l=parseFloat(t.toString()),d=parseFloat(i.toString()));s=l/d*n}else s=(t=Math.abs(this.min-e))/(i=Math.abs(this.max-this.min))*n;return"vertical"===this.orientation?this._height-s-(this._height-a-n)+r:s+o},_getSize:function(e,t){return t=t||("vertical"===this.orientation?"width":"height"),0<=e.toString().indexOf("%")&&(e=parseInt(e,10)/100*this["_"+t]),e=parseInt(e,10)},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(e,t,i,s){if(s!=i&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||"tankStyle"===t&&"arrow"===e.pointer.pointerType)){if("min"==t&&("s"===e.int64?e._min64=(new q.jqx.math).fromString(s.toString(),10):"u"===e.int64?e._min64=new BigNumber(s):this.min=parseFloat(s),q.jqx.aria(this,"aria-valuemin",s)),"max"==t&&("s"===e.int64?e._max64=(new q.jqx.math).fromString(s.toString(),10):"u"===e.int64?e._max64=new BigNumber(s):this.max=parseFloat(s),q.jqx.aria(this,"aria-valuemax",s)),"disabled"===t)s?this.disable():this.enable(),q.jqx.aria(this,"aria-disabled",s);else if("value"===t)null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.value=i,this.setValue(s);else{if("colorScheme"===t)this.pointer.style=null;else if("orientation"===t&&i!==s){var r=this.ticksOffset[0];this.ticksOffset[0]=this.ticksOffset[1],this.ticksOffset[1]=r}"animationDuration"!==t&&"easing"!==t&&this.refresh()}this.renderer instanceof q.jqx.HTML5Renderer&&this.renderer.refresh()}},_backgroundConstructor:function(e,t){if(this.host)return new this._backgroundConstructor(e,t);e=e||{},this.style=e.style||{stroke:"#cccccc",fill:null},e.visible||void 0===e.visible?this.visible=!0:this.visible=!1,!{rectangle:!0,roundedRectangle:!0}[e.backgroundType]?this.backgroundType="roundedRectangle":this.backgroundType=e.backgroundType,"roundedRectangle"===this.backgroundType&&("number"==typeof e.borderRadius?this.borderRadius=e.borderRadius:this.borderRadius=15),void 0===e.showGradient?this.showGradient=!0:this.showGradient=e.showGradient},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_tickConstructor:function(e,t){if(this.host)return new this._tickConstructor(e,t);this.size=t._validatePercentage(e.size,"10%"),e.interval?this.interval=e.interval:this.interval=5,"s"===t.int64?this._interval64=(new q.jqx.math).fromString(this.interval.toString(),10):"u"===t.int64?this._interval64=new BigNumber(this.interval):this.interval=parseFloat(this.interval),e.number?this.number=e.number:this.number=5,this.style=e.style||{stroke:"#A1A1A1","stroke-width":"1px"},void 0===e.visible?this.visible=!0:this.visible=e.visible},_labelsConstructor:function(e,t){if(this.host)return new this._labelsConstructor(e,t);this.position=e.position,"far"!==this.position&&"near"!==this.position&&"both"!==this.position&&(this.position="both"),this.formatValue=e.formatValue,this.formatSettings=e.formatSettings,this.visible=e.visible,!1!==this.visible&&!0!==this.visible&&(this.visible=!0),e.interval?this.interval=e.interval:this.interval=10,"s"===t.int64?this._interval64=(new q.jqx.math).fromString(this.interval.toString(),10):"u"===t.int64?this._interval64=new BigNumber(this.interval):this.interval=parseFloat(this.interval),e.number?this.number=e.number:this.number=10,this.fontSize=e.fontSize,this.fontFamily=e.fontFamily,this.fontWeight=e.fontWeight,this.fontStyle=e.fontStyle,this.offset=t._validatePercentage(e.offset,0)},_rangeConstructor:function(e,t){if(this.host)return new this._rangeConstructor(e,t);e.startValue?this.startValue=e.startValue:this.startValue=t.min,e.endValue?this.endValue=e.endValue:this.endValue=t.max,"s"===t.int64?(this._startValue64=(new q.jqx.math).fromString(this.startValue.toString(),10),this._endValue64=(new q.jqx.math).fromString(this.endValue.toString(),10),this._endValue64.lessThanOrEqual(this._startValue64)&&(this._endValue64=this._startValue64.add((new q.jqx.math).fromNumber(1,10)),this.endValue=this._endValue64.toString())):"u"===t.int64?(this._startValue64=new BigNumber(this.startValue),this._endValue64=new BigNumber(this.endValue),1!==this._endValue64.compare(this._startValue64)&&(this._endValue64=this._startValue64.add(1),this.endValue=this._endValue64.toString())):(this.startValue=parseFloat(this.startValue),this.endValue=parseFloat(this.endValue),this.endValue<=this.startValue&&(this.endValue=this.startValue+1)),this.style=e.style||{fill:"#dddddd",stroke:"#dddddd"}},_pointerConstructor:function(e,t){if(this.host)return new this._pointerConstructor(e,t);var i=t._getColorScheme(t.colorScheme)[0];this.pointerType=e.pointerType,"default"!==this.pointerType&&"arrow"!==this.pointerType&&(this.pointerType="default"),this.style=e.style||{fill:i,stroke:i,"stroke-width":1},this.size=t._validatePercentage(e.size,"7%"),this.visible=e.visible,!0!==this.visible&&!1!==this.visible&&(this.visible=!0),this.offset=t._validatePercentage(e.offset,0)}};q.extend(e,t),q.extend(i,t),q.jqx.jqxWidget("jqxLinearGauge","",{}),q.jqx.jqxWidget("jqxGauge","",{}),q.extend(q.jqx._jqxGauge.prototype,e),q.extend(q.jqx._jqxLinearGauge.prototype,i)}(jqxBaseFramework),function(te){function h(s,e){return this.owner=s,this.datafield=null,this.displayfield=null,this.text="",this.createfilterpanel=null,this.sortable=!0,this.hideable=!0,this.editable=!0,this.hidden=!1,this.groupable=!0,this.renderer=null,this.cellsrenderer=null,this.checkchange=null,this.threestatecheckbox=!1,this.buttonclick=null,this.columntype=null,this.cellsformat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.filteritems=[],this.resizable=!0,this.initeditor=null,this.createeditor=null,this.createwidget=null,this.initwidget=null,this.destroywidget=null,this.destroyeditor=null,this.geteditorvalue=null,this.validation=null,this.classname="",this.cellclassname="",this.cellendedit=null,this.cellbeginedit=null,this.cellvaluechanging=null,this.aggregates=null,this.aggregatesrenderer=null,this.menu=!0,this.createfilterwidget=null,this.filtertype="default",this.filtercondition=null,this.rendered=null,this.exportable=!0,this.exporting=!1,this.draggable=!0,this.nullable=!0,this.clipboard=!0,this.enabletooltips=!0,this.columngroup=null,this.filterdelay=800,this.reseteverpresentrowwidgetvalue=null,this.geteverpresentrowwidgetvalue=null,this.createeverpresentrowwidget=null,this.initeverpresentrowwidget=null,this.validateeverpresentrowwidgetvalue=null,this.destroyeverpresentrowwidget=null,this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hideable:this.hideable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){var i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){i=this[e.toLowerCase()];this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(e){if(null!=e){var t=this.that;if(te.jqx.hasProperty(e,"dataField")&&(this.datafield=te.jqx.get(e,"dataField")),te.jqx.hasProperty(e,"displayField")?this.displayfield=te.jqx.get(e,"displayField"):this.displayfield=this.datafield,te.jqx.hasProperty(e,"enableTooltips")&&(this.enabletooltips=te.jqx.get(e,"enableTooltips")),te.jqx.hasProperty(e,"text")?this.text=te.jqx.get(e,"text"):this.text=this.displayfield,te.jqx.hasProperty(e,"createfilterpanel")&&(this.createfilterpanel=te.jqx.get(e,"createfilterpanel")),te.jqx.hasProperty(e,"sortable")&&(this.sortable=te.jqx.get(e,"sortable")),te.jqx.hasProperty(e,"hideable")&&(this.hideable=te.jqx.get(e,"hideable")),te.jqx.hasProperty(e,"hidden")&&(this.hidden=te.jqx.get(e,"hidden")),te.jqx.hasProperty(e,"groupable")&&(this.groupable=te.jqx.get(e,"groupable")),te.jqx.hasProperty(e,"renderer")&&(this.renderer=te.jqx.get(e,"renderer")),te.jqx.hasProperty(e,"align")&&(this.align=te.jqx.get(e,"align")),te.jqx.hasProperty(e,"cellsAlign")&&(this.cellsalign=te.jqx.get(e,"cellsAlign")),te.jqx.hasProperty(e,"clipboard")&&(this.clipboard=te.jqx.get(e,"clipboard")),te.jqx.hasProperty(e,"cellsFormat")&&(this.cellsformat=te.jqx.get(e,"cellsFormat")),te.jqx.hasProperty(e,"width")&&(this.width=te.jqx.get(e,"width")),te.jqx.hasProperty(e,"minWidth")&&(this.minwidth=parseInt(te.jqx.get(e,"minWidth")),isNaN(this.minwidth)&&(this.minwidth=25)),te.jqx.hasProperty(e,"maxWidth")&&(this.maxwidth=parseInt(te.jqx.get(e,"maxWidth")),isNaN(this.maxwidth)&&(this.maxwidth="auto")),te.jqx.hasProperty(e,"cellsRenderer")?this.cellsrenderer=te.jqx.get(e,"cellsRenderer"):e.cellsRenderer&&(this.cellsrenderer=e.cellsRenderer),te.jqx.hasProperty(e,"columnType")&&(this.columntype=te.jqx.get(e,"columnType")),te.jqx.hasProperty(e,"checkChange")&&(this.checkchange=te.jqx.get(e,"checkChange")),te.jqx.hasProperty(e,"buttonClick")?this.buttonclick=te.jqx.get(e,"buttonClick"):e.buttonClick&&(this.buttonclick=e.buttonClick),te.jqx.hasProperty(e,"pinned")&&(this.pinned=te.jqx.get(e,"pinned")),te.jqx.hasProperty(e,"visibleIndex")&&(this.visibleindex=te.jqx.get(e,"visibleIndex")),te.jqx.hasProperty(e,"filterable")&&(this.filterable=te.jqx.get(e,"filterable")),te.jqx.hasProperty(e,"filter")&&(this.filter=te.jqx.get(e,"filter")),te.jqx.hasProperty(e,"resizable")&&(this.resizable=te.jqx.get(e,"resizable")),te.jqx.hasProperty(e,"editable")&&(this.editable=te.jqx.get(e,"editable")),te.jqx.hasProperty(e,"initEditor")?this.initeditor=te.jqx.get(e,"initEditor"):e.initEditor&&(this.initeditor=e.initEditor),te.jqx.hasProperty(e,"createEditor")?this.createeditor=te.jqx.get(e,"createEditor"):e.createEditor&&(this.createeditor=e.createEditor),te.jqx.hasProperty(e,"initWidget")?this.initwidget=te.jqx.get(e,"initWidget"):e.initWidget&&(this.initwidget=e.initWidget),te.jqx.hasProperty(e,"createWidget")?this.createwidget=te.jqx.get(e,"createWidget"):e.createWidget&&(this.createwidget=e.createWidget),te.jqx.hasProperty(e,"destroyWidget")?this.destroywidget=te.jqx.get(e,"destroyWidget"):e.destroyWidget&&(this.destroywidget=e.destroyWidget),te.jqx.hasProperty(e,"reseteverpresentrowwidgetvalue")||te.jqx.hasFunction(e,"reseteverpresentrowwidgetvalue")?this.reseteverpresentrowwidgetvalue=te.jqx.get(e,"reseteverpresentrowwidgetvalue"):e.resetEverPresentRowWidgetValue&&(this.reseteverpresentrowwidgetvalue=e.resetEverPresentRowWidgetValue),te.jqx.hasProperty(e,"geteverpresentrowwidgetvalue")||te.jqx.hasFunction(e,"geteverpresentrowwidgetvalue")?this.geteverpresentrowwidgetvalue=te.jqx.get(e,"geteverpresentrowwidgetvalue"):e.getEverPresentRowWidgetValue&&(this.geteverpresentrowwidgetvalue=e.getEverPresentRowWidgetValue),te.jqx.hasProperty(e,"createeverpresentrowwidget")||te.jqx.hasFunction(e,"createeverpresentrowwidget")?this.createeverpresentrowwidget=te.jqx.get(e,"createeverpresentrowwidget"):e.createEverPresentRowWidget&&(this.createeverpresentrowwidget=e.createEverPresentRowWidget),te.jqx.hasProperty(e,"initeverpresentrowwidget")||te.jqx.hasFunction(e,"initeverpresentrowwidget")?this.initeverpresentrowwidget=te.jqx.get(e,"initeverpresentrowwidget"):e.initEverPresentRowWidget&&(this.initeverpresentrowwidget=e.initEverPresentRowWidget),te.jqx.hasProperty(e,"validateeverpresentrowwidgetvalue")?this.validateeverpresentrowwidgetvalue=te.jqx.get(e,"validateeverpresentrowwidgetvalue"):e.validateEverPresentRowWidgetValue&&(this.validateeverpresentrowwidgetvalue=e.validateEverPresentRowWidgetValue),te.jqx.hasProperty(e,"destroyeverpresentrowwidget")||te.jqx.hasFunction(e,"destroyeverpresentrowwidget")?this.destroyeverpresentrowwidget=te.jqx.get(e,"destroyeverpresentrowwidget"):e.destroyEverPresentRowWidget&&(this.destroyEverPresentRowWidget=e.destroyEverPresentRowWidget),te.jqx.hasProperty(e,"destroyEditor")?this.destroyeditor=te.jqx.get(e,"destroyEditor"):e.destroyEditor&&(this.destroyeditor=e.destroyEditor),te.jqx.hasProperty(e,"getEditorValue")?this.geteditorvalue=te.jqx.get(e,"getEditorValue"):e.getEditorValue&&(this.geteditorvalue=e.getEditorValue),te.jqx.hasProperty(e,"validation")?this.validation=te.jqx.get(e,"validation"):e.validation&&(this.validation=e.validation),te.jqx.hasProperty(e,"cellBeginEdit")?this.cellbeginedit=te.jqx.get(e,"cellBeginEdit"):e.cellBeginEdit&&(this.cellbeginedit=e.cellBeginEdit),te.jqx.hasProperty(e,"cellEndEdit")?this.cellendedit=te.jqx.get(e,"cellEndEdit"):e.cellEndEdit&&(this.cellendedit=e.cellEndEdit),te.jqx.hasProperty(e,"className")&&(this.classname=te.jqx.get(e,"className")),te.jqx.hasProperty(e,"cellClassName")?this.cellclassname=te.jqx.get(e,"cellClassName"):e.cellClassName&&(this.cellclassname=e.cellClassName),te.jqx.hasProperty(e,"menu")&&(this.menu=te.jqx.get(e,"menu")),te.jqx.hasProperty(e,"aggregates")&&(this.aggregates=te.jqx.get(e,"aggregates")),te.jqx.hasProperty(e,"aggregatesRenderer")&&(this.aggregatesrenderer=te.jqx.get(e,"aggregatesRenderer")),te.jqx.hasProperty(e,"createFilterWidget")&&(this.createfilterwidget=te.jqx.get(e,"createFilterWidget")),te.jqx.hasProperty(e,"filterType")&&(this.filtertype=te.jqx.get(e,"filterType")),te.jqx.hasProperty(e,"filterDelay")&&(this.filterdelay=te.jqx.get(e,"filterDelay")),te.jqx.hasProperty(e,"rendered")&&(this.rendered=te.jqx.get(e,"rendered")),te.jqx.hasProperty(e,"exportable")&&(this.exportable=te.jqx.get(e,"exportable")),te.jqx.hasProperty(e,"filterItems")&&(this.filteritems=te.jqx.get(e,"filterItems")),te.jqx.hasProperty(e,"cellValueChanging")&&(this.cellvaluechanging=te.jqx.get(e,"cellValueChanging")),te.jqx.hasProperty(e,"draggable")&&(this.draggable=te.jqx.get(e,"draggable")),te.jqx.hasProperty(e,"filterCondition")&&(this.filtercondition=te.jqx.get(e,"filterCondition")),te.jqx.hasProperty(e,"threeStateCheckbox")&&(this.threestatecheckbox=te.jqx.get(e,"threeStateCheckbox")),te.jqx.hasProperty(e,"nullable")&&(this.nullable=te.jqx.get(e,"nullable")),te.jqx.hasProperty(e,"columnGroup")&&(this.columngroup=te.jqx.get(e,"columnGroup")),!e instanceof String&&"string"!=typeof e)for(var i in e)if(!t.hasOwnProperty(i)&&!t.hasOwnProperty(i.toLowerCase()))throw s.host.remove(),new Error("jqxGrid: Invalid property name - "+i+".")}},this._initfields(e),this}function f(e,t){return this.setdata=function(e){null!=e&&(this.bounddata=e,this.boundindex=e.boundindex,this.visibleindex=e.visibleindex,this.group=e.group,this.parentbounddata=e.parentItem,this.uniqueid=e.uniqueid,this.level=e.level)},this.setdata(t),this.parentrow=null,this.subrows=new Array,this.owner=e,this.height=25,this.hidden=!1,this.rowdetails=null,this.rowdetailsheight=100,this.rowdetailshidden=!0,this.top=-1,this.setrowinfo=function(e){this.hidden=e.hidden,this.rowdetails=e.rowdetails,this.rowdetailsheight=e.rowdetailsheight,this.rowdetailshidden=!e.showdetails,this.height=e.height},this}te.jqx.jqxWidget("jqxGrid","",{}),te.extend(te.jqx._jqxGrid.prototype,{defineInstance:function(){var e={disabled:!1,width:600,height:400,pagerheight:34,groupsheaderheight:34,pagesize:10,pagesizeoptions:["5","10","20"],rowsheight:28,columnsheight:30,filterrowheight:31,groupindentwidth:30,rowdetails:!1,enablerowdetailsindent:!0,enablemousewheel:!0,initrowdetails:null,layoutrowdetails:null,editable:!1,editmode:"selectedcell",pageable:!1,pagermode:"default",pagerbuttonscount:5,groupable:!1,sortable:!1,filterable:!1,filtermode:"default",autoshowfiltericon:!0,showfiltercolumnbackground:!0,showpinnedcolumnbackground:!0,showsortcolumnbackground:!0,altrows:!1,altstart:1,altstep:1,showrowdetailscolumn:!0,showtoolbar:!1,toolbarheight:34,showstatusbar:!1,statusbarheight:34,enableellipsis:!0,groups:[],groupsrenderer:null,groupcolumnrenderer:null,groupsexpandedbydefault:!1,pagerrenderer:null,touchmode:"auto",columns:[],selectedrowindex:-1,selectedrowindexes:new Array,selectedcells:new Array,autobind:!0,selectedcell:null,tableZIndex:79,headerZIndex:29,updatefilterconditions:null,showgroupaggregates:!1,showaggregates:!1,showfilterrow:!1,showeverpresentrow:!1,everpresentrowposition:"top",everpresentrowactions:"add reset",everpresentrowactionsmode:"buttons",everpresentrowheight:30,autorowheight:!1,autokoupdates:!0,handlekeyboardnavigation:null,showsortmenuitems:!0,showfiltermenuitems:!0,showgroupmenuitems:!0,enablebrowserselection:!1,enablekeyboarddelete:!0,clipboard:!0,clipboardbegin:null,clipboardend:null,copytoclipboardwithheaders:!1,copytoclipboardhiddencolumns:!1,ready:null,updatefilterpanel:null,autogeneratecolumns:!1,rowdetailstemplate:null,scrollfeedback:null,rendertoolbar:null,renderstatusbar:null,rendered:null,multipleselectionbegins:null,columngroups:null,cellhover:null,source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},filter:null,dataview:null,updatedelay:null,autoheight:!1,autowidth:!1,showheader:!0,showgroupsheader:!0,closeablegroups:!0,scrollbarsize:te.jqx.utilities.scrollBarSize,touchscrollbarsize:te.jqx.utilities.touchScrollBarSize,scrollbarautoshow:te.jqx.utilities.scrollBarAutoShow,virtualmode:!1,sort:null,columnsmenu:!0,columnsresize:!1,columnsautoresize:!0,columnsreorder:!1,columnsmenuwidth:15,autoshowcolumnsmenubutton:!0,popupwidth:"auto",popupheight:"auto",columnmenuopening:null,columnmenuclosing:null,sorttogglestates:2,rendergridrows:null,enableanimations:!0,enablecolumnsvirtualization:!0,enabletooltips:!1,selectionmode:"singlerow",enablehover:!0,loadingerrormessage:"The data is still loading. When the data binding is completed, the Grid raises the 'bindingcomplete' event. Call this function in the 'bindingcomplete' event handler.",verticalscrollbarstep:30,verticalscrollbarlargestep:400,horizontalscrollbarstep:10,horizontalscrollbarlargestep:50,keyboardnavigation:!0,keyboardmenunavigation:!0,touchModeStyle:"auto",autoshowloadelement:!0,showdefaultloadelement:!0,showemptyrow:!0,autosavestate:!1,autoloadstate:!1,_updating:!1,_pagescache:new Array,_pageviews:new Array,_cellscache:new Array,_rowdetailscache:new Array,_rowdetailselementscache:new Array,_requiresupdate:!1,_hasOpenedMenu:!1,scrollmode:"physical",deferreddatafields:null,localization:null,rtl:!1,menuitemsarray:[],events:["initialized","rowClick","rowSelect","rowUnselect","groupExpand","groupCollapse","sort","columnClick","cellClick","pageChanged","pageSizeChanged","bindingComplete","groupsChanged","filter","columnResized","cellSelect","cellUnselect","cellBeginEdit","cellEndEdit","cellValueChanged","rowExpand","rowCollapse","rowDoubleClick","cellDoubleClick","columnReordered","pageChanging"]};return this===te.jqx._jqxGrid.prototype||te.extend(!0,this,e),e},createInstance:function(e){var t=this.that=this;t.pagesize=parseInt(t.pagesize),t.toolbarheight=parseInt(t.toolbarheight),t.columnsheight=parseInt(t.columnsheight),t.filterrowheight=parseInt(t.filterrowheight),t.statusbarheight=parseInt(t.statusbarheight),t.groupsheaderheight=parseInt(t.groupsheaderheight),t.detailsVisibility=new Array,t.savedArgs=e&&0<e.length?e[0]:null;var i="<div class='jqx-clear jqx-border-reset jqx-overflow-hidden jqx-max-size jqx-position-relative'><div tabindex='1' class='jqx-clear jqx-max-size jqx-position-relative jqx-overflow-hidden jqx-background-reset' id='wrapper"+t.element.id+"'><div class='jqx-clear jqx-position-absolute' id='toolbar' style='visibility: hidden;'></div><div class='jqx-clear jqx-position-absolute' id='groupsheader' style='visibility: hidden;'></div><div class='jqx-clear jqx-overflow-hidden jqx-position-absolute jqx-border-reset jqx-background-reset' id='content"+t.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='verticalScrollBar"+t.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='horizontalScrollBar"+t.element.id+"'></div><div class='jqx-clear jqx-position-absolute jqx-border-reset' id='bottomRight'></div><div class='jqx-clear jqx-position-absolute' id='addrow'></div><div class='jqx-clear jqx-position-absolute' id='statusbar'></div><div class='jqx-clear jqx-position-absolute' id='pager' style='z-index: 20;'></div></div></div>";if(t.element.innerHTML="",15!=te.jqx.utilities.scrollBarSize&&(t.scrollbarsize=te.jqx.utilities.scrollBarSize),t.source){if(!t.source.dataBind){if(!te.jqx.dataAdapter)throw new Error("jqxGrid: Missing reference to jqxdata.js");t.source=new te.jqx.dataAdapter(t.source)}(n=t.source._source.datafields)&&0<n.length&&(t.editmode=t.editmode.toLowerCase(),t.selectionmode=t.selectionmode.toLowerCase())}t.host.attr("role","grid"),t.host.attr("align","left"),t.element.innerHTML=i,t.host.addClass(t.toTP("jqx-grid")),t.host.addClass(t.toTP("jqx-reset")),t.host.addClass(t.toTP("jqx-rc-all")),t.host.addClass(t.toTP("jqx-widget")),t.host.addClass(t.toTP("jqx-widget-content")),t.wrapper=t.host.find("#wrapper"+t.element.id),t.content=t.host.find("#content"+t.element.id),t.content.addClass(t.toTP("jqx-reset"));var s=t.host.find("#verticalScrollBar"+t.element.id),r=t.host.find("#horizontalScrollBar"+t.element.id);if(t.bottomRight=t.host.find("#bottomRight").addClass(t.toTP("jqx-grid-bottomright jqx-scrollbar-state-normal")),!s.jqxScrollBar)throw new Error("jqxGrid: Missing reference to jqxscrollbar.js");if(t.editors=new Array,t.vScrollBar=s.jqxScrollBar({vertical:!0,rtl:t.rtl,touchMode:t.touchmode,step:t.verticalscrollbarstep,largestep:t.verticalscrollbarlargestep,theme:t.theme,_triggervaluechanged:!1}),t.hScrollBar=r.jqxScrollBar({vertical:!1,rtl:t.rtl,touchMode:t.touchmode,step:t.horizontalscrollbarstep,largestep:t.horizontalscrollbarlargestep,theme:t.theme,_triggervaluechanged:!1}),t.addnewrow=t.host.find("#addrow"),t.addnewrow[0].id="addrow"+t.element.id,t.addnewrow.addClass(t.toTP("jqx-widget-header")),t.pager=t.host.find("#pager"),t.pager[0].id="pager"+t.element.id,t.toolbar=t.host.find("#toolbar"),t.toolbar[0].id="toolbar"+t.element.id,t.toolbar.addClass(t.toTP("jqx-grid-toolbar")),t.toolbar.addClass(t.toTP("jqx-widget-header")),t.statusbar=t.host.find("#statusbar"),t.statusbar[0].id="statusbar"+t.element.id,t.statusbar.addClass(t.toTP("jqx-grid-statusbar")),t.statusbar.addClass(t.toTP("jqx-widget-header")),t.pager.addClass(t.toTP("jqx-grid-pager")),t.pager.addClass(t.toTP("jqx-widget-header")),t.groupsheader=t.host.find("#groupsheader"),t.groupsheader.addClass(t.toTP("jqx-grid-groups-header")),t.groupsheader.addClass(t.toTP("jqx-widget-header")),t.groupsheader[0].id="groupsheader"+t.element.id,t.vScrollBar.css("visibility","hidden"),t.hScrollBar.css("visibility","hidden"),t.vScrollInstance=te.data(t.vScrollBar[0],"jqxScrollBar").instance,t.hScrollInstance=te.data(t.hScrollBar[0],"jqxScrollBar").instance,t.gridtable=null,t.isNestedGrid=!!t.host.parent()&&299==t.host.parent().css("z-index"),t.touchdevice=t.isTouchDevice(),t.localizestrings&&(t.localizestrings(),null!=t.localization&&t.localizestrings(t.localization,!1)),t.rowdetailstemplate&&(null==t.rowdetailstemplate.rowdetails&&(t.rowdetailstemplate.rowdetails="<div></div>"),null==t.rowdetailstemplate.rowdetailsheight&&(t.rowdetailstemplate.rowdetailsheight=200),null==t.rowdetailstemplate.rowdetailshidden&&(t.rowdetailstemplate.rowdetailshidden=!0)),t.showfilterrow&&!t.filterable)throw new Error('jqxGrid: "showfilterrow" requires setting the "filterable" property to true!');if(t.autorowheight&&!t.autoheight&&!t.pageable)throw new Error('jqxGrid: "autorowheight" requires setting the "autoheight" or "pageable" property to true!');if(t.virtualmode&&null==t.rendergridrows)throw new Error('jqxGrid: "virtualmode" requires setting the "rendergridrows"!');if(t.virtualmode&&!t.pageable&&t.groupable)throw new Error('jqxGrid: "grouping" in "virtualmode" without paging is not supported!');if(!t._testmodules()){var n;if(t._builddataloadelement(),t._cachedcolumns=t.columns,t.columns&&t.columns.length>t.headerZIndex&&(t.headerZIndex=t.columns.length+100),28!=t.rowsheight&&t._measureElement("cell"),(30!=t.columnsheight||t.columngroups)&&t._measureElement("column"),t.source)if(null==(n=t.source.datafields)&&t.source._source&&(n=t.source._source.datafields),n)for(var o=0;o<t.columns.length;o++){var a=t.columns[o];if(a&&a.cellsformat&&2<a.cellsformat.length)for(var l=0;l<n.length;l++)if(n[l].name==a.datafield&&!n[l].format){n[l].format=a.cellsformat;break}}t.databind(t.source),t.showtoolbar&&t.toolbar.css("visibility","inherit"),t.showstatusbar&&t.statusbar.css("visibility","inherit"),t._arrange(),t.pageable&&t._initpager&&t._initpager(),t.tableheight=null;var d=t.that,h=function(){d.content&&(d.content[0].scrollTop=0,d.content[0].scrollLeft=0),d.gridcontent&&(d.gridcontent[0].scrollLeft=0,d.gridcontent[0].scrollTop=0)};t.addHandler(t.content,"mousedown",function(){h()}),t.addHandler(t.content,"scroll",function(e){return h(),!1}),t.showfilterrow||(t.showstatusbar||t.showtoolbar||t.host.addClass("jqx-disableselect"),t.content.addClass("jqx-disableselect")),t.enablebrowserselection&&(t.content.removeClass("jqx-disableselect"),t.host.removeClass("jqx-disableselect")),t._resizeWindow(),t.disabled&&t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.hasTransform=te.jqx.utilities.hasTransform(t.host),"logical"==t.scrollmode&&(t.vScrollInstance.thumbStep=t.rowsheight,t.vScrollInstance.step=t.rowsheight),te.jqx.isHidden(t.host)||(t.filterable||t.groupable||t.sortable)&&t._initmenu()}},_resizeWindow:function(){var n=this.that;if(null!=this.width&&-1!=this.width.toString().indexOf("%")||null!=this.height&&-1!=this.height.toString().indexOf("%")){this._updatesizeonwindowresize=!0,te.jqx.utilities.resize(this.host,function(e){var t=te(window).width(),i=te(window).height(),s=n.host.width(),r=n.host.height();if(n.autoheight&&(n._lastHostWidth=i),n._lastHostWidth!=s||n._lastHostHeight!=r){if(n.touchdevice&&n.editcell&&"orientationchange"!==e)return;n._updatesize(n._lastHostWidth!=s,n._lastHostHeight!=r)}n._lastWidth=t,n._lastHeight=i,n._lastHostWidth=s,n._lastHostHeight=r});var e=n.host.width(),t=n.host.height();n._lastHostWidth=e,n._lastHostHeight=t}},_builddataloadelement:function(){if(this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=te('<div style="overflow: hidden; position: absolute;"></div>'),this.showdefaultloadelement){var e=te('<div style="z-index: 99; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");e.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),e.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(e)}else this.dataloadelement.addClass(this.toTP("jqx-grid-load"));this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this.wrapper.prepend(this.dataloadelement)},_measureElement:function(e){var t=te("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");t.addClass(this.toTP("jqx-widget")),te(document.body).append(t),"cell"==e?this._cellheight=t.height():this._columnheight=t.height(),t.remove()},_measureMenuElement:function(){var e=te("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");e.addClass(this.toTP("jqx-widget")),e.addClass(this.toTP("jqx-menu")),e.addClass(this.toTP("jqx-menu-item-top")),e.addClass(this.toTP("jqx-fill-state-normal")),this.isTouchDevice()&&e.addClass(this.toTP("jqx-grid-menu-item-touch")),te(document.body).append(e);var t=e.outerHeight();return e.remove(),t},_measureElementWidth:function(e){var t=te("<span style='visibility: hidden; white-space: nowrap;'>"+e+"</span>");t.addClass(this.toTP("jqx-widget")),t.addClass(this.toTP("jqx-grid")),t.addClass(this.toTP("jqx-grid-column-header")),t.addClass(this.toTP("jqx-widget-header")),te(document.body).append(t);var i=t.outerWidth()+20;return t.remove(),i},_getBodyOffset:function(){var e=0,t=0;return"0px"!=te("body").css("border-top-width")&&(e=parseInt(te("body").css("border-top-width")),isNaN(e)&&(e=0)),"0px"!=te("body").css("border-left-width")&&(t=parseInt(te("body").css("border-left-width")),isNaN(t)&&(t=0)),{left:t,top:e}},_testmodules:function(){var t="",i=this.that,s=function(){""!=t.length&&(t+=",")};if(this.columnsmenu&&!this.host.jqxMenu&&(this.sortable||this.groupable||this.filterable)&&(s(),t+=" jqxmenu.js"),this.host.jqxScrollBar||(s(),t+=" jqxscrollbar.js"),this.host.jqxButton||(s(),t+=" jqxbuttons.js"),te.jqx.dataAdapter||(s(),t+=" jqxdata.js"),this.pageable&&!this.gotopage&&(s(),t+="jqxgrid.pager.js"),this.filterable&&!this.applyfilters&&(s(),t+=" jqxgrid.filter.js"),this.groupable&&!this._initgroupsheader&&(s(),t+=" jqxgrid.grouping.js"),this.columnsresize&&!this.autoresizecolumns&&(s(),t+=" jqxgrid.columnsresize.js"),this.columnsreorder&&!this.setcolumnindex&&(s(),t+=" jqxgrid.columnsreorder.js"),this.sortable&&!this.sortby&&(s(),t+=" jqxgrid.sort.js"),this.editable&&!this.begincelledit&&(s(),t+=" jqxgrid.edit.js"),this.showaggregates&&!this.getcolumnaggregateddata&&(s(),t+=" jqxgrid.aggregates.js"),this.keyboardnavigation&&!this.selectrow&&(s(),t+=" jqxgrid.selection.js"),""!=t||this.editable||this.filterable||this.pageable){var r=[],e=function(e){switch(e){case"checkbox":i.host.jqxCheckBox||r.checkbox||(r.checkbox=!0,s(),t+=" jqxcheckbox.js");break;case"numberinput":i.host.jqxNumberInput||r.numberinput||(r.numberinput=!0,s(),t+=" jqxnumberinput.js");break;case"datetimeinput":i.host.jqxDateTimeInput||r.datetimeinput?i.host.jqxCalendar||r.calendar||(s(),t+=" jqxcalendar.js"):(s(),r.datetimeinput=!0,t+=" jqxdatetimeinput.js(requires: jqxcalendar.js)");break;case"combobox":i.host.jqxComboBox||r.combobox?i.host.jqxListBox||r.listbox||(s(),r.listbox=!0,t+=" jqxlistbox.js"):(s(),r.combobox=!0,t+=" jqxcombobox.js(requires: jqxlistbox.js)");break;case"dropdownlist":i.host.jqxDropDownList||r.dropdownlist?i.host.jqxListBox||r.listbox||(s(),r.listbox=!0,t+=" jqxlistbox.js"):(s(),r.dropdownlist=!0,t+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}};(this.filterable||this.pageable)&&e("dropdownlist");for(var n=0;n<this.columns.length;n++){var o;if(null!=this.columns[n])if(e(o=this.columns[n].columntype),this.filterable&&this.showfilterrow)"checkedlist"!=(o=this.columns[n].filtertype)&&"bool"!=o||e("checkbox"),"date"==o&&e("datetimeinput")}if(""!=t)throw new Error("jqxGrid: Missing references to the following module(s): "+t)}return!1},focus:function(){try{this.wrapper.focus();var e=this.that;setTimeout(function(){e.wrapper.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return te.jqx.isHidden(this.host)},resize:function(e,t){this.width=e,this.height=t,this._updatesize(!0,!0)},_updatesize:function(a,l){if(!this._loading){var d=this.that;d._newmax=null;var h=d.host.width(),e=d.host.height();d._oldWidth||(d._oldWidth=h),d._oldHeight||(d._oldHeight=e),d._resizeTimer&&clearTimeout(d._resizeTimer);d._resizeTimer=setTimeout(function(){if(d.resizingGrid=!0,!te.jqx.isHidden(d.host)){if(d.editcell&&(d.endcelledit(d.editcell.row,d.editcell.column,!0,!0),d._oldselectedcell=null),r!=d._oldHeight||1==l){var e=d.groupable&&0<d.groups.length,t=d.vScrollBar.css("visibility");if(!d.autoheight){if(d.virtualmode&&(d._pageviews=new Array),e||d.rowdetails||d.pageable){d._arrange(),d.prerenderrequired=!0;r=Math.round(d.host.height())+2*d.rowsheight;realheight=d._gettableheight();var i=Math.round(r/d.rowsheight),s=Math.max(d.dataview.totalrows,d.dataview.totalrecords);d.pageable&&(s=d.pagesize,d.pagesize>Math.max(d.dataview.totalrows,d.dataview.totalrecords)&&d.autoheight?s=Math.max(d.dataview.totalrows,d.dataview.totalrecords):d.autoheight||d.dataview.totalrows<d.pagesize&&(s=Math.max(d.dataview.totalrows,d.dataview.totalrecords)));d.rowsheight,d._getpagesize();!d.pageable&&d.autoheight&&(i=s),d.virtualsizeinfo&&(d.virtualsizeinfo.visiblerecords=i),d.rendergridcontent(!0,!1),d._renderrows(d.virtualsizeinfo)}else{d._arrange(),d.virtualsizeinfo=d._calculatevirtualheight();var r=Math.round(d.host.height())+2*d.rowsheight;parseInt(r)>=parseInt(d._oldHeight)&&(d.prerenderrequired=!0),d._renderrows(d.virtualsizeinfo),d.rtl&&(d._updatecolumnwidths(),d.table&&d.table.width(d.columnsheader.width()),d._updatecellwidths())}t!=d.vScrollBar.css("visibility")&&(d.vScrollInstance.setPosition(0),d._arrange(),d._updatecolumnwidths(),d.table&&d.table.width(d.columnsheader.width()),d._updatecellwidths())}}if(h!=d._oldWidth||1==a){var n=!1;if(d.editcell&&d.editcell.editor)switch(d.editcell.columntype){case"dropdownlist":if(n=d.editcell.editor.jqxDropDownList("isOpened")||d.editcell.editor.jqxDropDownList("isanimating")&&!d.editcell.editor.jqxDropDownList("ishiding"))return d.editcell.editor.jqxDropDownList({openDelay:0}),d.editcell.editor.jqxDropDownList("open"),void d.editcell.editor.jqxDropDownList({openDelay:250});break;case"combobox":if(n=d.editcell.editor.jqxComboBox("isOpened")||d.editcell.editor.jqxComboBox("isanimating")&&!d.editcell.editor.jqxComboBox("ishiding"))return d.editcell.editor.jqxComboBox({openDelay:0}),d.editcell.editor.jqxComboBox("open"),void d.editcell.editor.jqxComboBox({openDelay:250});break;case"datetimeinput":if(n)return n=d.editcell.editor.jqxDateTimeInput("isOpened")||d.editcell.editor.jqxDateTimeInput("isanimating")&&!d.editcell.editor.jqxDateTimeInput("ishiding"),d.editcell.editor.jqxDateTimeInput({openDelay:0}),d.editcell.editor.jqxDateTimeInput("open"),void d.editcell.editor.jqxDateTimeInput({openDelay:250})}var o=d.hScrollBar.css("visibility");d._arrange(),d._updatecolumnwidths(),d.table&&d.table.width(d.columnsheader.width()),d._updatecellwidths(),0==a&&d._oldWidth>h||l&&0!=d.dataview.rows.length||d._renderrows(d.virtualsizeinfo),o!=d.hScrollBar.css("visibility")&&d.hScrollInstance.setPosition(0)}d._oldWidth=h,d._oldHeight=r,d.resizingGrid=!1}},5)}},getTouches:function(e){return te.jqx.mobile.getTouches(e)},_updateTouchScrolling:function(){var i=this.that;if(i.isTouchDevice()){i.scrollmode="logical",i.vScrollInstance.thumbStep=i.rowsheight;var e=te.jqx.mobile.getTouchEventName("touchstart"),t=te.jqx.mobile.getTouchEventName("touchend"),s=te.jqx.mobile.getTouchEventName("touchmove");i.enablehover=!1,i.gridcontent&&(i.removeHandler(i.gridcontent,e+".touchScroll"),i.removeHandler(i.gridcontent,s+".touchScroll"),i.removeHandler(i.gridcontent,t+".touchScroll"),i.removeHandler(i.gridcontent,"touchcancel.touchScroll"),te.jqx.mobile.touchScroll(i.gridcontent[0],i.vScrollInstance.max,function(e,t){null!=t&&"visible"==i.vScrollBar.css("visibility")&&i.vScrollInstance.setPosition(t),null!=e&&"visible"==i.hScrollBar.css("visibility")&&i.hScrollInstance.setPosition(e),i.vScrollInstance.thumbCapture=!0,i._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),i._overlayElement&&(i.removeHandler(i._overlayElement,e+".touchScroll"),i.removeHandler(i._overlayElement,s+".touchScroll"),i.removeHandler(i._overlayElement,t+".touchScroll"),i.removeHandler(i._overlayElement,"touchcancel.touchScroll"),te.jqx.mobile.touchScroll(i._overlayElement[0],i.vScrollInstance.max,function(e,t){null!=t&&"visible"==i.vScrollBar.css("visibility")&&i.vScrollInstance.setPosition(t),null!=e&&"visible"==i.hScrollBar.css("visibility")&&i.hScrollInstance.setPosition(e),i.vScrollInstance.thumbCapture=!0,i._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),this.addHandler(this.host,e,function(){i.editcell?i._overlayElement.css("visibility","hidden"):i._overlayElement.css("visibility","visible")}),this.addHandler(this.host,t,function(){i.editcell?i._overlayElement.css("visibility","hidden"):i._overlayElement.css("visibility","visible")})))}},_rendercelltexts:function(){var e=String.fromCharCode("");if(-1==location.hostname.indexOf(e.substring(4))){this._gridRenderElement&&te(this._gridRenderElement).remove();var t=String.fromCharCode(83,80,65,78),i=String.fromCharCode(72,84,84,80,58,47,47),s=document.createElement(t);s.id=te.jqx.utilities.createId(),s.innerHTML=e,s.style.position="absolute",s.style.right="5px",s.style.bottom="5px",s.style.color="#909090",s.style.cursor="pointer",s.style.zIndex="999999",s.style.display="none",s.style.fontSize="9px",s.onmousedown=function(){open(i+e)},this.content[0].appendChild(s),this._gridRenderElement=s}},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var e=te.jqx.mobile.isTouchDevice();if(this.touchDevice=e,1==this.touchmode){if(te.jqx.browser.msie&&te.jqx.browser.version<9)return this.enablehover=!1;e=!0,te.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=e}else 0==this.touchmode&&(e=!1);return e&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),e},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(e,t){if(this._cellscache=new Array,te.jqx.dataFormat&&te.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null!=e){for(var i in e)i.toLowerCase()!==i&&(e[i.toLowerCase()]=e[i]);if(e.pagergotopagestring&&(this.gridlocalization.pagergotopagestring=e.pagergotopagestring),e.pagershowrowsstring&&(this.gridlocalization.pagershowrowsstring=e.pagershowrowsstring),e.pagerrangestring&&(this.gridlocalization.pagerrangestring=e.pagerrangestring),e.pagernextbuttonstring&&(this.gridlocalization.pagernextbuttonstring=e.pagernextbuttonstring),e.pagerpreviousbuttonstring&&(this.gridlocalization.pagerpreviousbuttonstring=e.pagerpreviousbuttonstring),e.pagerfirstbuttonstring&&(this.gridlocalization.pagerfirstbuttonstring=e.pagerfirstbuttonstring),e.pagerlastbuttonstring&&(this.gridlocalization.pagerlastbuttonstring=e.pagerlastbuttonstring),e.groupsheaderstring&&(this.gridlocalization.groupsheaderstring=e.groupsheaderstring),e.sortascendingstring&&(this.gridlocalization.sortascendingstring=e.sortascendingstring),e.sortdescendingstring&&(this.gridlocalization.sortdescendingstring=e.sortdescendingstring),e.sortremovestring&&(this.gridlocalization.sortremovestring=e.sortremovestring),e.groupbystring&&(this.gridlocalization.groupbystring=e.groupbystring),e.groupremovestring&&(this.gridlocalization.groupremovestring=e.groupremovestring),e.firstDay&&(this.gridlocalization.firstDay=e.firstDay),e.days&&(this.gridlocalization.days=e.days),e.months&&(this.gridlocalization.months=e.months),e.AM&&(this.gridlocalization.AM=e.AM),e.PM&&(this.gridlocalization.PM=e.PM),e.patterns&&(this.gridlocalization.patterns=e.patterns),e.percentsymbol&&(this.gridlocalization.percentsymbol=e.percentsymbol),e.currencysymbol&&(this.gridlocalization.currencysymbol=e.currencysymbol),e.currencysymbolposition&&(this.gridlocalization.currencysymbolposition=e.currencysymbolposition),null!=e.decimalseparator&&(this.gridlocalization.decimalseparator=e.decimalseparator),null!=e.thousandsseparator&&(this.gridlocalization.thousandsseparator=e.thousandsseparator),e.filterclearstring&&(this.gridlocalization.filterclearstring=e.filterclearstring),e.filterstring&&(this.gridlocalization.filterstring=e.filterstring),e.filtershowrowstring&&(this.gridlocalization.filtershowrowstring=e.filtershowrowstring),e.filtershowrowdatestring&&(this.gridlocalization.filtershowrowdatestring=e.filtershowrowdatestring),e.filterselectallstring&&(this.gridlocalization.filterselectallstring=e.filterselectallstring),e.filterchoosestring&&(this.gridlocalization.filterchoosestring=e.filterchoosestring),e.filterorconditionstring&&(this.gridlocalization.filterorconditionstring=e.filterorconditionstring),e.filterandconditionstring&&(this.gridlocalization.filterandconditionstring=e.filterandconditionstring),e.filterstringcomparisonoperators&&(this.gridlocalization.filterstringcomparisonoperators=e.filterstringcomparisonoperators),e.filternumericcomparisonoperators&&(this.gridlocalization.filternumericcomparisonoperators=e.filternumericcomparisonoperators),e.filterdatecomparisonoperators&&(this.gridlocalization.filterdatecomparisonoperators=e.filterdatecomparisonoperators),e.filterbooleancomparisonoperators&&(this.gridlocalization.filterbooleancomparisonoperators=e.filterbooleancomparisonoperators),e.emptydatastring&&(this.gridlocalization.emptydatastring=e.emptydatastring),e.filterselectstring&&(this.gridlocalization.filterselectstring=e.filterselectstring),e.todaystring&&(this.gridlocalization.todaystring=e.todaystring),e.clearstring&&(this.gridlocalization.clearstring=e.clearstring),e.validationstring&&(this.gridlocalization.validationstring=e.validationstring),e.loadtext&&(this.gridlocalization.loadtext=e.loadtext),e.addrowstring&&(this.gridlocalization.addrowstring=e.addrowstring),e.udpaterowstring&&(this.gridlocalization.udpaterowstring=e.udpaterowstring),e.deleterowstring&&(this.gridlocalization.deleterowstring=e.deleterowstring),e.resetrowstring&&(this.gridlocalization.resetrowstring=e.resetrowstring),e.everpresentrowplaceholder&&(this.gridlocalization.everpresentrowplaceholder=e.everpresentrowplaceholder),!1!==t){if(this._initpager&&this._initpager(),this._initgroupsheader&&this._initgroupsheader(),this._initmenu&&this._initmenu(),this._builddataloadelement(),te(this.dataloadelement).css("visibility","hidden"),te(this.dataloadelement).css("display","none"),this.filterable&&this.showfilterrow&&this._updatefilterrow){for(var i in this._filterrowcache)te(this._filterrowcache[i]).remove();this._filterrowcache=[],this._updatefilterrow()}this.showaggregates&&this.refresheaggregates&&this.refresheaggregates(),this._renderrows(this.virtualsizeinfo)}}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",groupsheaderstring:"Drag a column and drop it here to group by that column",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",groupbystring:"Group By this column",groupremovestring:"Remove from groups",filterclearstring:"Clear",filterstring:"Filter",filtershowrowstring:"Show rows where:",filtershowrowdatestring:"Show rows where date:",filterorconditionstring:"Or",filterandconditionstring:"And",filterselectallstring:"(Select All)",filterchoosestring:"Please Choose:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",addrowstring:"Add",udpaterowstring:"Update",deleterowstring:"Delete",resetrowstring:"Reset",everpresentrowplaceholder:"Enter "}},_getmenudefaultheight:function(){var e=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(e=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(e+=2);var t=e*this._measureMenuElement()+9;return this.filterable&&!this.showfilterrow&&this.showfiltermenuitems&&(t+=190,te.jqx.browser.msie&&te.jqx.browser.version<8&&(t+=20)),t},_initmenu:function(){var f=this.that;if(this.host.jqxMenu){if(this.gridmenu){if(this._hasOpenedMenu)return;this.filterable&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu.removeData(),this.gridmenu.remove()}this.menuitemsarray=new Array;var e="";this.isTouchDevice()&&(e="jqx-grid-menu-item-touch"),this.gridmenu=te('<div tabindex=0 id="gridmenu'+this.element.id+'" style="z-index: 99;"></div>'),this.host.append(this.gridmenu);var t=te("<ul></ul>"),i=te('<li class="'+e+'"><div class="jqx-grid-sortasc-icon"></div>'+this.gridlocalization.sortascendingstring+"</li>"),s=te('<li class="'+e+'"><div class="jqx-grid-sortdesc-icon"></div>'+this.gridlocalization.sortdescendingstring+"</li>"),r=te('<li class="'+e+'"><div class="jqx-grid-sortremove-icon"></div>'+this.gridlocalization.sortremovestring+"</li>"),n='<div class="jqx-grid-groupby-icon"></div>',o=te('<li class="'+e+'">'+n+this.gridlocalization.groupbystring+"</li>"),a=te('<li class="'+e+'">'+n+this.gridlocalization.groupremovestring+"</li>"),l=te('<li type="separator"></li>'),g=te('<li class="filter '+e+'" style="height: 190px;" ignoretheme="true"><div class="filter"></div></li>'),d=this.gridlocalization.sortascendingstring.length,h=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>d&&(d=this.gridlocalization.sortdescendingstring.length,h=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>d&&(d=this.gridlocalization.sortremovestring.length,h=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(this.gridlocalization.groupbystring.length>d&&(d=this.gridlocalization.groupbystring.length,h=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>d&&(d=this.gridlocalization.groupremovestring.length,h=this.gridlocalization.groupremovestring));var c=200;h=te.trim(h).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var u=te("<span>"+h+"</span>");u.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(u),c=u.outerWidth()+60,u.remove();var p=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(t.append(i),this.menuitemsarray[0]=i[0],t.append(s),this.menuitemsarray[1]=s[0],t.append(r),this.menuitemsarray[2]=r[0],p=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(t.append(o),this.menuitemsarray[3]=o[0],t.append(a),this.menuitemsarray[4]=a[0],p+=2);var m=p*this._measureMenuElement()+9,v=!0;if(this.filterable&&!this.showfilterrow&&this.showfiltermenuitems){if(!this._initfilterpanel)throw new Error("jqxGrid: Missing reference to jqxgrid.filter.js.");this.menuitemsarray[5]=g[0],this.menuitemsarray[6]=g[0],t.append(l),t.append(g),m+=190,te.jqx.browser.msie&&te.jqx.browser.version<8&&(m+=20),this.isTouchDevice()&&(m+=30);var x=te(g).find("div:first");this.excelfilterpanel=te("<div></div>"),this.filterpanel=x,this.filtermenu=te(g),c+=20,this._initfilterpanel(this,x,"",c),this._initfilterpanel(this,this.excelfilterpanel,"",c,!0),v=!1,this.removeHandler(te(document),"click.menu"+f.element.id,f._closemenuafterclick,f),this.addHandler(te(document),"click.menu"+f.element.id,f._closemenuafterclick,f)}if(this.gridmenu.append(t),te.jqx.browser.msie&&te.jqx.browser.version<8&&this.filterable&&(te("#listBoxfilter1"+this.element.id).css("z-index",49),te("#listBoxfilter2"+this.element.id).css("z-index",49),te("#listBoxfilter3"+this.element.id).css("z-index",49),te("#gridmenu"+this.element.id).css("z-index",50),this.addHandler(te("#gridmenu"+this.element.id),"initialized",function(){te("#menuWrappergridmenu"+f.element.id).css("z-index",49)})),null==this.menuitemsarray[0]&&(m=65),this.removeHandler(te(window),"orientationchange.jqxgrid"+this.element.id),this.removeHandler(te(window),"orientationchanged.jqxgrid"+this.element.id),this.addHandler(te(window),"orientationchange.jqxgrid"+this.element.id,function(){f.gridmenu.jqxMenu("close")}),this.addHandler(te(window),"orientationchanged.jqxgrid"+this.element.id,function(){f.gridmenu.jqxMenu("close")}),this.removeHandler(this.gridmenu,"keydown"),this.addHandler(this.gridmenu,"keydown",function(e){var i=te(f.gridmenu.find(".jqx-item")).toArray(),t=function(e){for(var t=i.indexOf(e)-1;0<=t;t--)if(!(0<=i[t].className.indexOf("disabled")))return i[t];return e},s=function(e){for(var t=i.indexOf(e)+1;t<i.length;t++)if(!(0<=i[t].className.indexOf("disabled")))return i[t];return e},r=function(){var e=i[i.length-1];return 0<=e.className.indexOf("disabled")?t(e):e},n=function(e){te(i).removeClass("jqx-fill-state-focus");for(var t=0;t<i.length;t++)i[t].active=!1;e&&(te(e).addClass("jqx-fill-state-focus"),e.active=!0)};if((o=function(){for(var e=0;e<i.length;e++)if(i[e].active)return i[e];return null})()||f.filterable||(i[0].active=!0),f.keyboardmenunavigation&&f.keyboardnavigation){if(40===e.keyCode){var o=o();n(s(o))}else if(38===e.keyCode){o=o();n(t(o))}if(9===e.keyCode){if(!o()){if(e.shiftKey)if(document.activeElement===te.find("#filter1"+f.element.id)[0])n(r()),te(te.find("#filter1"+f.element.id)).removeClass("jqx-fill-state-focus"),f.gridmenu.focus(),e.stopPropagation(),e.preventDefault();else if(document.activeElement===te.find("#filter1"+f.element.id+"ex")[0])n(r()),te(te.find("#filter1"+f.element.id)+"ex").removeClass("jqx-fill-state-focus"),f.gridmenu.focus(),e.stopPropagation(),e.preventDefault();return!0}if(e.shiftKey){o=o();n(t(o)),e.stopPropagation(),e.preventDefault()}else{(o=o())===r()&&f.filterable&&!f.showfilterrow?(n(null),0<te(te.find("#filter1"+f.element.id)).length?te(te.find("#filter1"+f.element.id)).jqxDropDownList("focus"):0<te(te.find("#filter1"+f.element.id+"ex")).length&&te(te.find("#filter1"+f.element.id+"ex")).jqxListBox("focus")):n(s(o)),e.stopPropagation(),e.preventDefault()}}}if(27==e.keyCode)f.gridmenu.jqxMenu("close");else if(13==e.keyCode){i=f.gridmenu.find(".jqx-item");if(o=o())te(o).trigger("click"),n(null);else if(f._buildfilter&&f.filterable&&!f.showfilterrow){var a="block"==te(te.find("#filter1"+f.element.id)).jqxDropDownList("container").css("display"),l="block"==te(te.find("#filter2"+f.element.id)).jqxDropDownList("container").css("display"),d="block"==te(te.find("#filter3"+f.element.id)).jqxDropDownList("container").css("display"),h=te(te.find("#filterclearbutton"+f.element.id)).hasClass("jqx-fill-state-focus"),c=te(te.find("#filterbutton"+f.element.id)).hasClass("jqx-fill-state-focus");if(h){var u=te.data(document.body,"contextmenu"+f.element.id).column;f._clearfilter(f,f.element,u),f.gridmenu.jqxMenu("close")}else if(c&&!a&&!l&&!d){u=te.data(document.body,"contextmenu"+f.element.id).column;f.gridmenu.jqxMenu("close"),f._buildfilter(f,g,u)}}f.clearselection();var p=f.getdisplayrows()[0],m=f.getboundindex(p);0<=f.selectionmode.indexOf("cell")?f.selectcell(m,f.columns.records[0].displayfield):f.selectrow(m)}}),"auto"!=this.popupwidth&&(c=this.popupwidth),this.gridmenu.jqxMenu({popupZIndex:1e3,width:c,height:m,autoCloseOnClick:v,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0}),this.filterable&&this.gridmenu.jqxMenu("_setItemProperty",g[0].id,"closeOnClick",!1),this.rtl){var w=this.that;te.each(t.find("li"),function(){te(this).addClass(w.toTP("jqx-rtl"))});var y=function(e){var t=e.find("div");t.css("float","right"),t.css("margin-left","4px"),t.css("margin-right","-4px")};y(r),y(s),y(i),y(o),y(a)}this._handlemenueevents()}else this.columnsmenu=!1},_arrangemenu:function(){this.gridmenu||this._initmenu();var e=this.gridlocalization.sortascendingstring.length,t=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>e&&(e=this.gridlocalization.sortdescendingstring.length,t=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>e&&(e=this.gridlocalization.sortremovestring.length,t=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&(this.gridlocalization.groupbystring.length>e&&(e=this.gridlocalization.groupbystring.length,t=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>e&&(e=this.gridlocalization.groupremovestring.length,t=this.gridlocalization.groupremovestring));var i=200;t=te.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var s=te("<span>"+t+"</span>");s.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(s),i=s.outerWidth()+60,s.remove();var r=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(r=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(r+=2);var n=r*this._measureMenuElement()+9;this.filterable&&this.showfiltermenuitems&&this._initfilterpanel&&(n+=190,i+=20,te.jqx.browser.msie&&te.jqx.browser.version<8&&(n+=20),this.isTouchDevice()&&(n+=30)),null==this.menuitemsarray[0]&&(n=65),"auto"!=this.popupwidth&&(i=this.popupwidth),"auto"!=this.popupheight&&(n=this.popupheight),this.gridmenu.jqxMenu({width:i,height:n})},_closemenuafterclick:function(e){var t=null!=e?e.data:this,i=!1;if(null==e.target||null!=e.target&&null==e.target.className.indexOf)t.gridmenu.jqxMenu("close");else if(-1==e.target.className.indexOf("filter")||-1!=e.target.className.indexOf("jqx-grid-cell-filter"))if(-1==e.target.className.indexOf("jqx-grid-cell")){if(!t._hasOpenedMenu||!te(e.target).ischildof(t.gridmenu)){t.host.coord();var s=t.gridmenu.coord(),r=e.pageX,n=e.pageY;if(te.each(te(e.target).parents(),function(){return null!=this.id&&this.id.indexOf&&-1!=this.id.indexOf("filter")?!(i=!0):this.className.indexOf&&-1!=this.className.indexOf("filter")&&-1==this.className.indexOf("jqx-grid-cell-filter")?!(i=!0):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-cell")?(t.gridmenu.jqxMenu("close"),!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-column")?(t.gridmenu.jqxMenu("close"),!1):void 0}),!i){try{if("default"===t.filtermode){var o=te(te.find("#filter1"+t.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;if((a=new Date)-o<100)return;if(a-te(te.find("#filter3"+t.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup<100)return;if("block"==te(te.find("#filter3"+t.element.id)).jqxDropDownList("container").css("display"))return;if("block"==te(te.find("#filter1"+t.element.id)).jqxDropDownList("container").css("display"))return;if("block"==te(te.find("#filter2"+t.element.id)).jqxDropDownList("container").css("display"))return;if(t._hasdatefilter&&"div"==te(".filtertext1"+t.element.id)[0].nodeName.toLowerCase()){if("block"==te(".filtertext1"+t.element.id).jqxDateTimeInput("container").css("display"))return;if("block"==te(".filtertext2"+t.element.id).jqxDateTimeInput("container").css("display"))return}}else{var a;o=te(te.find("#filter1"+t.element.id)).data().jqxListBox.instance.vScrollInstance._mouseup;if((a=new Date)-o<100)return;if(a-te(te.find("#filter1"+t.element.id)).data().jqxListBox.instance.hScrollInstance._mouseup<100)return}}catch(e){}if(!(r>=s.left&&r<=s.left+t.gridmenu.width()&&n>=s.top&&n<=s.top+t.gridmenu.height())){if(t.columnmenuclosing){var l=te.data(document.body,"contextmenu"+t.element.id);if(l||(l={column:{displayfield:null}}),!1===t.columnmenuclosing(t.gridmenu,l.column.displayfield,te(t.gridmenu).height()))return}t.gridmenu.jqxMenu("close")}}}}else t.gridmenu.jqxMenu("close")},_handlemenueevents:function(){var a=this.that;this.removeHandler(this.gridmenu,"closed"),this.addHandler(this.gridmenu,"closed",function(e){a._closemenu()}),this.removeHandler(this.gridmenu,"itemclick"),this.addHandler(this.gridmenu,"itemclick",function(e){for(var t=e.args,i=0;i<a.menuitemsarray.length;i++){if(t==a.menuitemsarray[i]){if(null!=te(t).attr("ignoretheme"))return;var s=te.data(document.body,"contextmenu"+a.element.id),r=s.column;a.filterable&&a.gridmenu.jqxMenu("close");var n=r.displayfield;if(null==n&&(n=r.datafield),null!=s)switch(i){case 0:a.sortby(n,"ascending",null);break;case 1:a.sortby(n,"descending",null);break;case 2:a.sortby(n,null,null);break;case 3:a.addgroup(n);break;case 4:a.removegroup(n);break;case 5:var o=te(a.menuitemsarray[6]);te(o).css("display","block")}break}}})},getdatainformation:function(){var e=this.dataview.totalrecords;return this.summaryrows&&(e+=this.summaryrows.length),{rowscount:e,sortinformation:this.getsortinformation(),paginginformation:this.getpaginginformation()}},getsortinformation:function(){return{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}},getpaginginformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pagesize,pagescount:Math.ceil(this.dataview.totalrecords/this.pagesize)}},_updaterowsproperties:function(){this._updatehiddenrows(),this._updaterowheights(),this._updaterowdetails()},_updatehiddenrows:function(){var i=this.that;this.hiddens=new Array;var e=this.hiddenboundrows;te.each(e,function(e){if(null!=this.index){this.index;var t=i.getrowvisibleindex(e);i.hiddens[t]=this.hidden}})},_updaterowheights:function(){var i=this.that;this.heights=new Array;var e=this.heightboundrows;te.each(e,function(e){if(null!=this.index){this.index;var t=i.getrowvisibleindex(e);i.heights[t]=this.height}})},_updaterowdetails:function(){var i=this.that;this.details=new Array;var e=this.detailboundrows;te.each(e,function(e){if(null!=this.index){this.index;var t=i.getrowvisibleindex(e);i.details[t]=this.details}})},_getmenuitembyindex:function(e){return null==e?null:this.menuitemsarray[e]},openmenu:function(e){if(!this._openingmenu){this._openingmenu=!0,this.closemenu();var t=this.getcolumn(e);if(!t.menu)return!1;this.gridmenu||this._initmenu();var i=t.columnsmenu;te(t.element).trigger("mouseenter"),this.menuOwner=t;for(var s=this,r=0;r<s.columns.records.length;r++)s.columns.records[r].datafield!=e&&te(s.columns.records[r].element).trigger("mouseleave");setTimeout(function(){"block"==te(i)[0].style.display&&te(i).trigger("click"),s._openingmenu=!1},200)}},closemenu:function(){this._closemenu()},_closemenu:function(){if(this._hasOpenedMenu){if(this.columnmenuclosing)if((e=te.data(document.body,"contextmenu"+this.element.id))||(e={column:{displayfield:null}}),!1===this.columnmenuclosing(this.gridmenu,e.column.displayfield,te(this.gridmenu).height()))return;null!=this.gridmenu&&this.gridmenu.jqxMenu("close");var e;if(null!=(e=te.data(document.body,"contextmenu"+this.element.id))&&this.autoshowcolumnsmenubutton){if(this.enableanimations){te(e.columnsmenu).animate({"margin-left":0},"fast",function(){te(e.columnsmenu).css("display","none")});var t=this.rtl?0:-32;e.column.iconscontainer.animate({"margin-left":t},"fast")}else{te(e.columnsmenu).css("display","none");t=this.rtl?0:-32;e.column.iconscontainer.css("margin-left",t)}te.data(document.body,"contextmenu"+this.element.id,null)}this._hasOpenedMenu=!1,this.menuOwner=null;var i=this._getmenuitembyindex(5);if(i){var s=te(i).find("#filter1"+this.element.id),r=te(i).find("#filter2"+this.element.id),n=te(i).find("#filter3"+this.element.id);0<s.length&&"default"===this.filtermode&&(s.jqxDropDownList("hideListBox"),0<r.length&&r.jqxDropDownList("hideListBox"),0<n.length&&n.jqxDropDownList("hideListBox"))}this.focus()}},scrolloffset:function(e,t){null!=e&&null!=t&&null!=e&&null!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&null!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&null!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginupdate:function(e,t){this._updating=!0,!(this._datachanged=!1)===e&&(this._batchupdate=!0),!0===t&&(this._stopbindings=!0)},endupdate:function(){this.resumeupdate()},resumeupdate:function(){if(this._updating=!1,this._batchupdate)return this._batchupdate=!1,this._datachanged=!1,void(this._stopbindings?this.updatebounddata():this.render());if(this._stopbindings)this.updatebounddata("data");else{if(1==this._datachanged){var e=this.vScrollInstance.value;this.render(!0,!0,!1),this._datachanged=!1,0!=e&&e<this.vScrollInstance.max&&this.scrolltop(e)}else this.rendergridcontent(!0),this._renderrows(this.virtualsizeinfo);this.showaggregates&&this.renderaggregates&&this.renderaggregates(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}},updating:function(){return this._updating},showloadelement:function(){this.renderloadelement&&this.dataloadelement.html(this.renderloadelement()),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),te(this.dataloadelement).css("visibility","visible"),te(this.dataloadelement).css("display","block")},hideloadelement:function(){te(this.dataloadelement).css("visibility","hidden"),te(this.dataloadelement).css("display","none")},_updatefocusedfilter:function(){var i=this.that;i.focusedfilter&&(i.focusedfilter.focus(),setTimeout(function(){if(i.focusedfilter.focus(),"input"==i.focusedfilter[0].nodeName.toLowerCase()){var e=i.focusedfilter.val().length;try{if("selectionStart"in i.focusedfilter[0])i.focusedfilter[0].setSelectionRange(e,e);else{var t=i.focusedfilter[0].createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",e),t.select()}}catch(e){}}},50))},databind:function(e,a){if(!0!==this.loadingstate&&!0!==this._stopbindings){var l=window;"block"==this.host.css("display")&&(this.autoshowloadelement?(te(this.dataloadelement).css("visibility","visible"),te(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this._hideemptyrow()):(te(this.dataloadelement).css("visibility","hidden"),te(this.dataloadelement).css("display","none"))),!this._initgroupsheader&&0<this.groups.length&&(this.groups=new Array);var d=this.that;null==e&&(e={}),e.recordstartindex||(e.recordstartindex=0),e.recordendindex||(e.recordendindex=0),null!=e.loadallrecords&&null!=e.loadallrecords||(e.loadallrecords=!0),null!=e.sortcomparer&&null!=e.sortcomparer||(e.sortcomparer=null),null!=e.filter&&null!=e.filter||(e.filter=null),null!=e.sort&&null!=e.sort||(e.sort=null),null!=e.data&&null!=e.data||(e.data=null);var t=null;if(null!=e&&(t=null!=e._source?e._source.url:e.url),this.dataview=this.dataview||new te.jqx.dataview,te.jqx.dataview.sort&&te.extend(this.dataview,new te.jqx.dataview.sort),te.jqx.dataview.grouping&&te.extend(this.dataview,new te.jqx.dataview.grouping),this.dataview.suspendupdate(),this.dataview.pageable=this.pageable,this.dataview.groupable=this.groupable,this.dataview.groups=this.groups,this.dataview.virtualmode=this.virtualmode,(this.dataview.grid=this).dataview._clearcaches(),!this.pageable&&this.virtualmode&&(this.loadondemand=!0),!d.initializedcall){if(e._source&&this.sortable&&(null!=e._source.sortcolumn&&(this.sortcolumn=e._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=e._source.sortcolumn,e._source.sortcolumn=null),null!=e._source.sortdirection)){this.dataview.sortfielddirection=e._source.sortdirection;var i=e._source.sortdirection;if("a"==i||"asc"==i||"ascending"==i||1==i)var s=!0;else s=!1;this.sortdirection=null!=i?{ascending:s,descending:!s}:{ascending:!1,descending:!1}}this.pageable&&e._source&&(null!=e._source.pagenum&&(this.dataview.pagenum=e._source.pagenum),null!=e._source.pagesize?(this.pagesize=e._source.pagesize,this.dataview.pagesize=e._source.pagesize):(this.dataview.pagesize=e._source.pagesize,null==this.dataview.pagesize&&(this.dataview.pagesize=this.pagesize))),this.sortable&&(e.sortcolumn&&(this.dataview.sortfield=e.sortcolumn),e.sortdirection&&(this.dataview.sortfielddirection=e.sortdirection)),this.filterable&&this.columns&&te.each(this.columns,function(){this.filter&&d.dataview.addfilter(this.datafield,this.filter)})}this._loading=!0,this.dataview.update=function(e){if(!d.pageable&&d.virtualmode&&(d.loadondemand=!0),d._loading=!1,d.dataview.isupdating()&&d.dataview.resumeupdate(!1),d.pageable&&d.pagerrenderer){if(!d._initpager)throw new Error("jqxGrid: Missing reference to jqxgrid.pager.js.");d._initpager()}if(d.source&&d.source.sortcolumn&&d.sortby&&!d.virtualmode)d.render(),d.source._source.sort||d.sortby(d.source.sortcolumn,d.source.sortdirection,d.source.sortcomparer),d.source.sortcolumn=null,d._postrender("data");else{var t=d.vScrollInstance.value,i=d.hScrollInstance.value,s=d.source?d.source.datatype:"array";if("local"!=s||"array"!=s){var r=null==d.virtualsizeinfo||null!=d.virtualsizeinfo&&0==d.virtualsizeinfo.virtualheight;if("cells"==a){var n=!1;if(d.filterable&&d._initfilterpanel&&d.dataview.filters.length&&(n=!0),0==e)return d.vScrollInstance.isScrolling()||d.hScrollInstance.isScrolling()||(d._cellscache=new Array,d._pagescache=new Array,d._renderrows(d.virtualsizeinfo),d.showfilterrow&&d.filterable&&d.filterrow&&d._updatelistfilters(!0),d.showaggregates&&d._updateaggregates&&d._updateaggregates()),d.sortcolumn&&d.sortby(d.sortcolumn,d.dataview.sortfielddirection,d.source.sortcomparer),d.autoshowloadelement&&(te(d.dataloadelement).css("visibility","hidden"),te(d.dataloadelement).css("display","none")),d.virtualmode&&!d._loading&&(d.loadondemand=!0,d._renderrows(d.virtualsizeinfo)),void d._postrender("data");n?a="filter":null!=d.sortcolumn&&(a="sort")}!d.virtualmode||r||d.virtualmode&&d.pageable?1==d.initializedcall&&"pagechanged"==a?(t=0,d.groupable&&0<d.groups.length?(d._render(!0,!0,!1,!1,!1),d._updatecolumnwidths(),d._updatecellwidths(),d._renderrows(d.virtualsizeinfo),d._postrender("data")):(d.rendergridcontent(!0),d.pageable&&d.updatepagerdetails&&(d.updatepagerdetails(),d.autoheight?(d._updatepageviews(),d.autorowheight&&d._renderrows(this.virtualsizeinfo)):d.autorowheight&&(d._updatepageviews(),d._renderrows(this.virtualsizeinfo)))),d.showaggregates&&d._updateaggregates&&d._updateaggregates(),d._postrender("data")):"filter"==a?(d.virtualmode,d._render(!0,!0,!1,!1,!1),d._updatecolumnwidths(),d._updatecellwidths(),d._renderrows(d.virtualsizeinfo),d._updatefocusedfilter(),d._postrender("data")):"sort"==a?(d.virtualmode?(d.rendergridcontent(!0),d.showaggregates&&d._updateaggregates&&d._updateaggregates()):(d._render(!0,!0,!1,!1,!1),d.sortcolumn&&!d.source.sort&&d.sortby(d.sortcolumn,d.dataview.sortfielddirection,d.source.sortcomparer)),d._postrender("data"),d.source.sort&&d._updatefocusedfilter()):("data"==a?d._render(!0,!0,!1,!1,!1):"state"==a?d._render(!0,!0,!1,d.menuitemsarray&&0<d.menuitemsarray.length&&!d.virtualmode):d._render(!0,!0,!0,d.menuitemsarray&&0<d.menuitemsarray.length&&!d.virtualmode),d._postrender("data")):(d.virtualmode&&1==e&&!d.pageable?(d._render(!0,!0,!1,!1,!1),d._updatefocusedfilter(),d._updatecolumnwidths(),d._updatecellwidths(),d._renderrows(d.virtualsizeinfo)):d.virtualmode&&!d.pageable&&0==e&&null!=a?(d.rendergridcontent(!0),d.showaggregates&&d._updateaggregates&&d._updateaggregates()):d.virtualmode&&0==d.dataview.totalrecords&&0<d.dataview.filters.length?d._render(!0,!0,!0,d.menuitemsarray&&!d.virtualmode):(d._pagescache=new Array,d._renderrows(d.virtualsizeinfo)),d._postrender("data")),d.vScrollInstance.value!=t&&t<=d.vScrollInstance.max&&d.vScrollInstance.setPosition(t),d.hScrollInstance.value!=i&&i<=d.hScrollInstance.max&&d.hScrollInstance.setPosition(i)}}if(d.autoshowloadelement&&(te(d.dataloadelement).css("visibility","hidden"),te(d.dataloadelement).css("display","none")),d.pageable&&(d.pagerrightbutton&&(d.pagerrightbutton.jqxButton({disabled:!1}),d.pagerleftbutton.jqxButton({disabled:!1}),d.pagershowrowscombo.jqxDropDownList({disabled:!1})),d.pagerfirstbutton&&(d.pagerfirstbutton.jqxButton({disabled:!1}),d.pagerlastbutton.jqxButton({disabled:!1}))),d._raiseEvent(11),d.initializedcall)d._updateTouchScrolling();else{var o=function(){if(d._raiseEvent(0),d.initializedcall=!0,d.isInitialized=!0,d.ready&&d.ready(),d.renderstatusbar&&d.renderstatusbar(d.statusbar),d.rendertoolbar&&d.rendertoolbar(d.toolbar),d._rendercelltexts&&d._rendercelltexts(),d._gridRenderElement){te(d._gridRenderElement).show("slow");var e=6e3+Math.floor(4e3*Math.random()+1),t=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();l[te.camelCase(t)](function(){te(d._gridRenderElement).hide("slow",function(){te(d._gridRenderElement).remove()})},e)}d.autoloadstate&&d.loadstate&&d.loadstate(null,!0)};if(te.jqx.isHidden(d.host)?(d.readyInterval&&clearInterval(d.readyInterval),d.readyInterval=setInterval(function(){te.jqx.isHidden(d.host)||d.__isRendered&&(clearInterval(d.readyInterval),d.readyInterval=null,o(),d._initmenu())},200)):o(),null!=d.width&&-1!=d.width.toString().indexOf("%")||null!=d.height&&d.height.toString().indexOf("%"),"hidden"==d.host.css("visibility")){te.jqx.browser.msie&&te.jqx.browser.version;"visible"==d.vScrollBar.css("visibility")&&d.vScrollBar.css("visibility","inherit"),d.autowidth||"visible"==d.hScrollBar.css("visibility")&&d.hScrollBar.css("visibility","inherit"),d._intervalTimer=setInterval(function(){"visible"==d.host.css("visibility")&&(d._updatesize(!0),clearInterval(d._intervalTimer))},100)}}},this.dataview.databind(e),this.dataview.isupdating()&&(null!=t?this.dataview.suspend=!1:this.dataview.resumeupdate(!1)),this._initializeRows()}},scrollto:function(e,t){null!=e&&this.hScrollInstance.setPosition(e),null!=t&&this.vScrollInstance.setPosition(t)},scrollposition:function(){return{top:this.vScrollInstance.value,left:this.hScrollInstance.value}},ensurerowvisible:function(e){var t=this;if(this.autoheight&&!this.pageable)return!0;var i=this._getpagesize(),s=Math.floor(e/i);if(this._pageviews[s]||this.pageable||this._updatepageviews(),this.groupable&&0<this.groups.length)return!0;var r=!1;if(this.pageable&&this.gotopage&&!this.virtualmode){s=Math.floor(e/i);if(this.dataview.pagenum!=s){if(this.groupable&&0<this.groups.length)return!0;if(this.editcell)return setTimeout(function(){t.pagerpageinput.focus()},25),!1;this.gotopage(s),r=!0}}var n=this.vScrollInstance.value,o=this._gettableheight()-this.rowsheight,a=i*(e/i-s);if(a=Math.round(a),this._pageviews[s]){var l=this._pageviews[s].top+a*this.rowsheight;if(this.rowdetails)for(var d=i*s;d<e;d++)this.details[d]&&0==this.details[d].rowdetailshidden&&(l+=this.details[d].rowdetailsheight);"deferred"==this.scrollmode&&this.vScrollInstance.max<=l+this.rowsheight&&(l=this.vScrollInstance.max),l<n?(this.scrolltop(l),r=!0):n+o+2<l&&(this.scrolltop(l-o),r=!0)}else if(this.pageable){l=a*this.rowsheight;if(this.rowdetails)for(d=i*s;d<i*s+a;d++)this.details[d]&&0==this.details[d].rowdetailshidden&&(l+=this.details[d].rowdetailsheight);(l<n||n+o<l)&&(this.scrollto(0,l),r=!0)}return r},ensurecellvisible:function(e,i){var s=this.that,r=this.hScrollBar.jqxScrollBar("value"),n=s.hScrollInstance.max;s.rtl&&"visible"!=this.hScrollBar.css("visibility")&&(n=0);var t=this.ensurerowvisible(e),o=0;if(this.columns.records){var a=r;if("hidden"==this.hScrollBar.css("visibility"))return;var l=this.host.width(),d=0,h="visible"==this.vScrollBar.css("visibility")?20:0,c=!1;te.each(this.columns.records,function(){if(this.hidden)return!0;if(this.datafield==i){var e=0,t=s.rtl?n-r:a;return o+this.width>t+l-h?(e=o+this.width-l+h,s.rtl&&(e=n-e),s.scrollleft(e),c=!0):o<=t&&(e=o-this.width,s.rtl&&(e=n-e),s.scrollleft(e),c=!0),0==d?(s.rtl?s.scrollleft(n):s.scrollleft(0),c=!0):d==s.columns.records.length-1&&"visible"==s.hScrollBar.css("visibility")&&(s.rtl?s.scrollleft(s.hScrollBar.jqxScrollBar("min")):s.scrollleft(s.hScrollBar.jqxScrollBar("max")),c=!0),!1}d++,o+=this.width}),c||s.scrollleft(a)}return t},setrowheight:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return null!=e&&null!=t&&(this.heightboundrows[e]={index:e,height:t},!((e=this.getrowvisibleindex(e))<0)&&(this.rows.records[e]?this.rows.records[e].height=t:(row=new f(this,null),row.height=t,this.rows.replace(e,row)),this.heights[e]=t,this.rendergridcontent(!0),!0))},getrowheight:function(e){return null==e?null:!((e=this.getrowvisibleindex(e))<0)&&(this.rows.records[e]?this.rows.records[e].height:void 0)},setrowdetails:function(e,t,i,s){if(!(null==e||null==e||e<0)){var r=e+"_";if(this._rowdetailscache[r]){var n=this._rowdetailscache[r].element;te(n).remove(),this._rowdetailscache[r]=null}var o=this.dataview.generatekey();return this.detailboundrows[e]={index:e,details:{rowdetails:t,rowdetailsheight:i,rowdetailshidden:s,key:o}},!((e=this.getrowvisibleindex(e))<0)&&this._setrowdetails(e,t,i,s,o)}},getcolumn:function(e){var t=null;return this.columns.records?te.each(this.columns.records,function(){if(this.datafield==e||this.displayfield==e)return t=this,!1}):this.columns&&te.each(this.columns,function(){if(this.datafield==e||this.displayfield==e)return t=this,!1}),t},_getcolumnindex:function(e){var t=-1;return this.columns.records&&te.each(this.columns.records,function(){if(t++,this.datafield==e)return!1}),t},_getcolumnat:function(e){return this.columns.records[e]},_getprevvisiblecolumn:function(e){for(var t=this.that;0<e;){e--;var i=t.getcolumnat(e);if(!i)return null;if(!i.hidden)return i}return null},_getnextvisiblecolumn:function(e){for(var t=this.that;e<this.columns.records.length;){e++;var i=t.getcolumnat(e);if(!i)return null;if(!i.hidden)return i}return null},getcolumnat:function(e){return isNaN(e)?null:this.columns.records[e]},_getcolumn:function(e){var t=null;return te.each(this._columns,function(){if(this.datafield==e||this.displayfield==e)return t=this,!1}),t},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;t=t.toLowerCase();var s=this.getcolumn(e);if(null!=s){var r=s[t];s[t]=i;var n=this._getcolumn(e);switch(null!=n&&(n[t]=i),this._cellscache=new Array,t){case"filteritems":this.filterable&&this.showfilterrow&&this._updatelistfilters(!0,!0);break;case"text":this.prerenderrequired=!0,this._rendercolumnheaders(),this._updatecellwidths(),this._groupsheader()&&this._initgroupsheader&&this._initgroupsheader(),this._renderrows(this.virtualsizeinfo),this.filterable&&this.showfilterrow&&this.refreshfilterrow();break;case"editable":case"resizable":case"draggable":if("editable"==t&&i!=r){if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),"checkbox"==s.columntype&&(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this.updating()))return!1;if(this.updating())return!1;this._renderrows(this.virtualsizeinfo)}break;case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"classname":case"class":if(this.prerenderrequired=!0,"pinned"==t&&(this._initializeColumns(),this._preparecolumngroups()),this.rendergridcontent(!0),this.updating())return!1;"hidden"==t&&(this._updatecolumnwidths(),this._updatecellwidths()),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updateaggregates&&this._updateaggregates();break;case"width":case"minwidth":case"maxwidth":if(this.updating())return!1;s._width=null,s._percentagewidth=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}}},_getcolumnproperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getcolumn(e)[t])},setcolumnproperty:function(e,t,i){this._setcolumnproperty(e,t,i)},getcolumnproperty:function(e,t){return this._getcolumnproperty(e,t)},hidecolumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showcolumn:function(e){this._setcolumnproperty(e,"hidden",!1)},iscolumnvisible:function(e){return!this._getcolumnproperty(e,"hidden")},pincolumn:function(e){this._setcolumnproperty(e,"pinned",!0)},unpincolumn:function(e){this._setcolumnproperty(e,"pinned",!1)},iscolumnpinned:function(e){return this._getcolumnproperty(e,"pinned")},_setrowdetails:function(e,t,i,s,r){if(0==i&&(i=100),null==e||null==i)return!1;if(null!=r)this.details[e]={rowdetails:t,rowdetailsheight:i,rowdetailshidden:s,detailskey:r};else{for(var n=null!=this.details[e]?this.details[e].detailskey:null,o={rowdetails:t,rowdetailsheight:i,rowdetailshidden:s,detailskey:n},a=(this.that,0);a<this.detailboundrows.length;a++)if(null!=this.detailboundrows[a]){var l=this.detailboundrows[a];if(l.details.detailskey==n){l.details.rowdetailsheight=o.rowdetailsheight,l.details.rowdetailshidden=o.rowdetailshidden,l.details.rowdetails=o.rowdetails;break}}this.details[e]=o}return this._detailsUpdate?void 0:(this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),!0)},getrowdetails:function(e){return null!=e&&(e=this.getrowvisibleindex(e),this._getrowdetails(e))},_getrowdetails:function(e){return null!=e&&(!(e<0)&&(this.details[e]?this.details[e]:this.rowdetailstemplate?this.rowdetailstemplate:void 0))},getrecordscount:function(){return this.dataview.totalrecords},showrowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e)return!1;if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[e]=!1,(e=this.getrowvisibleindex(e))<0)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!1)},hiderowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[e]=!0,(e=this.getrowvisibleindex(e))<0)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!0)},_togglerowdetails:function(e){this.detailsVisibility||(this.detailsVisibility=new Array);var t=e.visibleindex,i=this._getrowdetails(t);if(null!=i){var s=this.vScrollInstance.value,r=!i.rowdetailshidden,n=this.getboundindex(e);null!=n&&(this.detailsVisibility[n]=r);var o=this._setrowdetailsvisibility(t,i,r);return 0!==s&&"hidden"!==this.vScrollBar.css("visibility")&&(s<=this.vScrollInstance.max?this.vScrollInstance.setPosition(s):this.vScrollInstance.setPosition(this.vScrollInstance.max)),o}return!1},_setrowdetailsvisibility:function(e,t,i){if(this.rowdetailstemplate&&(this.details||(this.details=new Array),!this.details[e])){this.details[e]={rowdetailshidden:this.rowdetailstemplate.rowdetailshidden,rowdetailsheight:this.rowdetailstemplate.rowdetailsheight,rowdetails:this.rowdetailstemplate.rowdetails};var s=this.dataview.generatekey();this.details[e].detailskey=s,this.detailboundrows[e]={index:e,details:this.details[e]}}if(null==t)return!1;this.details[e].rowdetailshidden=i;var r=this.details[e];return i?this._raiseEvent(21,{rowindex:e,details:r.rowdetails,height:r.rowdetailsheight}):this._raiseEvent(20,{rowindex:e,details:r.rowdetails,height:r.rowdetailsheight}),this._setrowdetails(e,r.rowdetails,r.rowdetailsheight,r.rowdetailshidden)},getrowvisibleindex:function(e){if(null==e||null==e||e<0)return!1;if(this.virtualmode){var t=this.dataview.loadedrecords[e];return null==t?-1:t.visibleindex}return this.getrowdisplayindex(e)},hiderow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return!(null==e||null==e||e<0)&&(null!=e&&(this.hiddenboundrows[e]={index:e,hidden:!0},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!0)))},showrow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return!(null==e||null==e||e<0)&&(null!=e&&(this.hiddenboundrows[e]={index:e,hidden:!1},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!1)))},isrowhiddenat:function(e){return null==e?null:(e=this.getrowvisibleindex(e),this.rows.records[e]?this.rows.records[e].hidden:void 0)},_setrowvisibility:function(e,t,i){return null!=e&&(this.hiddens[e]=t,!(null!=i&&!i)&&(this.rendergridcontent(!0),!0))},_loadrows:function(){if(this._pageviews[this.dataview.pagenum]||this.pageable){var e=this.pageable?0:this._pageviews[this.dataview.pagenum].top;if(!this.pageable&&null!=this._pagescache[this.dataview.pagenum])return null;if(this.virtualsizeinfo){var t=this.that,i=new Array,s=new Array,r=t.groupable&&0<t.groups.length,n=(this.dataview.totalrecords,this.virtualsizeinfo.virtualheight,0);this.rows.beginupdate();var o=this.dataview.pagesize;this.pageable&&r&&(o=this.dataview.rows.length);for(var a=0;a<o&&!(a>=this.dataview.rows.length);a++){var l=this.dataview.rows[a],d=null;t.rows.records[l.visibleindex]?(d=t.rows.records[l.visibleindex]).setdata(l):d=new f(t,l),d.hidden=this.hiddens[d.visibleindex],this.rowdetailstemplate&&(d.rowdetails=this.rowdetailstemplate.rowdetails,d.rowdetailsheight=this.rowdetailstemplate.rowdetailsheight,d.rowdetailshidden=this.rowdetailstemplate.rowdetailshidden);var h=this.details[d.visibleindex];if(h?(d.rowdetails=h.rowdetails,d.rowdetailsheight=h.rowdetailsheight,d.rowdetailshidden=h.rowdetailshidden):this.rowdetailstemplate||(d.rowdetails=null),r&&this.pageable&&null!=d.parentbounddata){var c=i[d.parentbounddata.uniqueid];if(null!=c){var u=this._findgroupstate(c.uniqueid);this._setsubgroupsvisibility&&this._setsubgroupsvisibility(this,d.parentbounddata,!u,!1),d.hidden=this.hiddens[d.visibleindex]}null!=c&&null!=c&&((d.parentrow=c).subrows[c.subrows.length++]=d)}if(!d.hidden){var p=l.visibleindex;this.heights[p]||(this.heights[p]=this.rowsheight),d.height=this.heights[p],this.rowdetails&&d.rowdetails&&!d.rowdetailshidden&&(d.height+=d.rowdetailsheight),i[d.uniqueid]=d,(s[n++]=d).top=e,e+=d.height;var m=p;t.rows.replace(m,d)}}(this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews&&0<this._pageviews.length&&(this._pageviews[0].height=e),this.rows.resumeupdate(),0<s.length&&(this._pagescache[this.dataview.pagenum]=s)}}},_updateaddnewrowui:function(e){for(var t=this,i="bottom"!=t.everpresentrowposition?t.addnewrowtop:t.addnewrowbottom,s=t.columns.records.length,r=0,n=0;n<s;n++){(o=t.columns.records[n]).addnewrowwidget&&te(o.addnewrowwidget).detach()}for(n=0;n<s;n++){var o,a=(o=t.columns.records[n]).width;a<o.minwidth&&(a=o.minwidth),a>o.maxwidth&&(a=o.maxwidth);var l=te(i[0].cells[n]);l.css("left",r);l.width()==a&&!1,e&&!0,l.width(a),l[0].left=r,o.addnewrowwidget&&(l.html(""),l.append(o.addnewrowwidget)),o.hidden&&o.hideable?l.css("display","none"):r+=a}var d=t.everpresentrowactions.split(" ");t.addnewrowbutton.show(),t.addnewrowupdatebutton.show(),t.addnewrowresetbutton.show(),t.addnewrowdeletebutton.show(),-1==d.indexOf("add")&&-1==d.indexOf("addBottom")&&t.addnewrowbutton.hide(),-1==d.indexOf("update")&&t.addnewrowupdatebutton.hide(),-1==d.indexOf("reset")&&t.addnewrowresetbutton.hide(),-1==d.indexOf("delete")&&t.addnewrowdeletebutton.hide();var h=te(i.children()[0]);h.width(parseInt(r)+2),h.height(t.everpresentrowheight),h.css("max-height",t.everpresentrowheight+"px")},_removeaddnewrow:function(){for(var e=this,t=e.columns.records.length,i=0;i<t;i++){var s=e.columns.records[i];s.addnewrowwidget&&(s.destroyeverpresentrowwidget?s.destroyeverpresentrowwidget(s.addnewrowwidget):s.addnewrowwidget.remove(),s.addnewrowwidget=null)}e.addnewrowbutton&&e.addnewrowbutton.remove(),e.addnewrowupdatebutton&&e.addnewrowupdatebutton.remove(),e.addnewrowdeletebutton&&e.addnewrowdeletebutton.remove(),e.addnewrowresetbutton&&e.addnewrowresetbutton.remove(),e.addnewrowpopup&&(e.addnewrowpopup.remove(),e.addnewrowpopup=null),e.addnewrowtop&&(e.addnewrowtop.remove(),e.addnewrowtop=null),e.addnewrowbottom&&(e.addnewrowbottom.remove(),e.addnewrowbottom=null)},_updateaddnewrow:function(){var g=this,e="bottom"!=g.everpresentrowposition?g.addnewrowtop:g.addnewrowbottom,t=te('<div style="position: relative;" id="row000'+g.element.id+'"></div>'),i=0,v=g.columns.records.length,s=g.toThemeProperty("jqx-grid-cell");s+=" "+g.toThemeProperty("jqx-grid-cell-add-new-row"),s+=" "+g.toThemeProperty("jqx-grid-cell-filter-row");var r=v+10,n=new Array;g.that;e[0].cells=n,t.height(g.everpresentrowheight),g.showfilterrow||"bottom"==g.everpresentrowposition?g.showfilterrow&&"bottom"!=g.everpresentrowposition&&e.css("max-height",g.everpresentrowheight-3+"px"):e.css("max-height",g.everpresentrowheight-1+"px"),t.css("max-height",g.everpresentrowheight+"px"),e.append(t);var h=te("<div style='border-width: 1px; border-style: solid; padding: 5px; z-index: 99; display: none; position: absolute;'><div>").appendTo(te(document.body)),o=te("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+g.gridlocalization.addrowstring+"</button>"),a=te("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+g.gridlocalization.udpaterowstring+"</button>"),l=te("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+g.gridlocalization.deleterowstring+"</button>"),d=te("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+g.gridlocalization.resetrowstring+"</button>");h.addClass(g.toThemeProperty("jqx-popup")),h.addClass(g.toThemeProperty("jqx-rc-all")),h.addClass(g.toThemeProperty("jqx-fill-state-normal")),h.addClass(g.toThemeProperty("jqx-shadow")),h.append(o),h.append(a),h.append(l),h.append(d);var c=g.everpresentrowactions.split(" ");-1==c.indexOf("add")&&-1==c.indexOf("addBottom")&&o.hide(),-1==c.indexOf("update")&&a.hide(),-1==c.indexOf("reset")&&d.hide(),-1==c.indexOf("delete")&&l.hide(),g.addnewrowpopup=h,g.addnewrowbutton=o,g.addnewrowupdatebutton=a,g.addnewrowdeletebutton=l,g.addnewrowresetbutton=d,o.jqxButton({template:"success",theme:g.theme}),l.jqxButton({template:"danger",theme:g.theme}),a.jqxButton({template:"primary",theme:g.theme}),d.jqxButton({template:"warning",theme:g.theme}),a.mousedown(function(e){for(var t={},i={},s=0;s<v;s++){if((l=g.columns.records[s]).geteverpresentrowwidgetvalue){var r=l.geteverpresentrowwidgetvalue(l.displayfield,l.addnewrowwidget);i[l.datafield]=r,l.datafield!=l.displayfield&&(i[l.datafield]=r.value,i[l.displayfield]=r.label)}}var n=!1;for(s=0;s<v;s++){if((l=g.columns.records[s]).geteverpresentrowwidgetvalue){r=l.geteverpresentrowwidgetvalue(l.displayfield,l.addnewrowwidget);if(l.createeverpresentrowwidget&&l.validateeverpresentrowwidgetvalue){var o=l.validateeverpresentrowwidgetvalue(l.displayfield,r,i),a=g.gridlocalization.validationstring;null!=o.message&&(a=o.message),("boolean"==typeof o?o:o.result)?(l.addnewrowwidget.attr("title",""),l.addnewrowwidget.removeClass(g.toThemeProperty("jqx-input-invalid"))):(r="invalid editor state",l.addnewrowwidget.attr("title",a),l.addnewrowwidget.addClass(g.toThemeProperty("jqx-input-invalid")))}"invalid editor state"!==r||(e.preventDefault(),e.stopPropagation(),n=!0)}}if(n)return h.hide(),void g.focus();for(s=0;s<v;s++){var l;if((l=g.columns.records[s]).geteverpresentrowwidgetvalue){r=l.geteverpresentrowwidgetvalue(l.displayfield,l.addnewrowwidget);t[l.datafield]=r,l.datafield!=l.displayfield&&(t[l.datafield]=r.value,t[l.displayfield]=r.label),l.reseteverpresentrowwidgetvalue&&l.reseteverpresentrowwidgetvalue(l.displayfield,l.addnewrowwidget)}}if(0<g.selectedcells.length||0<g.selectedrowindexes.length){if(0<=g.selectionmode.indexOf("cell"))var d=g.getselectedcells()[0].rowindex;else d=g.selectedrowindexes[0];rowData=g.getrowdata(d),rowData&&g.updaterow(rowData.uid,t)}h.hide(),g.focus()}),l.mousedown(function(e){if(0<g.selectedcells.length||0<g.selectedrowindexes.length){if(0<=g.selectionmode.indexOf("cell"))var t=g.getselectedcells()[0].rowindex;else t=g.selectedrowindexes[0];rowData=g.getrowdata(t),rowData&&g.deleterow(rowData.uid)}for(var i=0;i<v;i++){var s=g.columns.records[i];s.reseteverpresentrowwidgetvalue&&s.reseteverpresentrowwidgetvalue(s.displayfield,s.addnewrowwidget)}h.hide(),g.focus(),g.updateeverpresentrow()}),o.mousedown(function(e){for(var t={},i={},s=0;s<v;s++){if((l=g.columns.records[s]).geteverpresentrowwidgetvalue){var r=l.geteverpresentrowwidgetvalue(l.displayfield,l.addnewrowwidget);i[l.datafield]=r,l.datafield!=l.displayfield&&(i[l.datafield]=r.value,i[l.displayfield]=r.label),l.datafield!=l.displayfield&&(i[l.datafield]=r.label,i[l.displayfield]=r.value)}}var n=!1;for(s=0;s<v;s++){if((l=g.columns.records[s]).geteverpresentrowwidgetvalue){r=l.geteverpresentrowwidgetvalue(l.displayfield,l.addnewrowwidget);if(l.createeverpresentrowwidget&&l.validateeverpresentrowwidgetvalue){var o=l.validateeverpresentrowwidgetvalue(l.displayfield,r,i),a=g.gridlocalization.validationstring;null!=o.message&&(a=o.message),("boolean"==typeof o?o:o.result)?(l.addnewrowwidget.attr("title",""),l.addnewrowwidget.removeClass(g.toThemeProperty("jqx-input-invalid"))):(r="invalid editor state",l.addnewrowwidget.attr("title",a),l.addnewrowwidget.addClass(g.toThemeProperty("jqx-input-invalid")))}"invalid editor state"!==r||(e.preventDefault(),e.stopPropagation(),n=!0)}}if(n)return h.hide(),void g.focus();for(s=0;s<v;s++){var l;if((l=g.columns.records[s]).geteverpresentrowwidgetvalue){r=l.geteverpresentrowwidgetvalue(l.displayfield,l.addnewrowwidget);t[l.datafield]=r,l.datafield!=l.displayfield&&(i[l.datafield]=r.label,i[l.displayfield]=r.value),l.reseteverpresentrowwidgetvalue&&l.reseteverpresentrowwidgetvalue(l.displayfield,l.addnewrowwidget)}}var d=0<=g.everpresentrowactions.indexOf("addBottom")?"last":"first";g.addrow(null,t,d),h.hide(),g.focus()}),d.mousedown(function(e){for(var t=0;t<v;t++){var i=g.columns.records[t];i.reseteverpresentrowwidgetvalue&&i.reseteverpresentrowwidgetvalue(i.displayfield,i.addnewrowwidget),i.addnewrowwidget&&(i.addnewrowwidget.attr("title",""),i.addnewrowwidget.removeClass(g.toThemeProperty("jqx-input-invalid")))}h.hide(),g.focus()});for(var u=0;u<v;u++){var p=g.columns.records[u],m=p.width;m<p.minwidth&&(m=p.minwidth),m>p.maxwidth&&(m=p.maxwidth);var f=te('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+s+'"></div>');if(t.append(f),f.css("left",i),g.rtl?(f.css("z-index",r++),f.css("border-left-width","1px")):f.css("z-index",r--),"auto"==m&&(m=0),f[0].style.width=parseFloat(m)+"px",f[0].left=i,p.hidden&&p.hideable?f.css("display","none"):i+=m,n[n.length]=f[0],p.checkboxcolumn){var x=g.toThemeProperty("jqx-grid-cell");x+=" "+g.toThemeProperty("jqx-grid-cell-filter-row"),x+=" "+g.toThemeProperty("jqx-grid-cell-pinned"),f.removeClass().addClass(x)}else{var w=!0;if(g.rtl){if(g.groupable){y=g.showrowdetailscolumn&&g.rowdetails?1:0;g.groups.length+y+u>v-1&&(w=!1)}g.showrowdetailscolumn&&g.rowdetails&&u==v-1&&(w=!1)}else{if(g.groupable){var y=g.showrowdetailscolumn&&g.rowdetails?1:0;g.groups.length+y>u&&(w=!1)}g.showrowdetailscolumn&&g.rowdetails&&0==u&&(w=!1)}if(g.updateeverpresentrow=function(){var e=null;if(0<g.selectedcells.length||0<g.selectedrowindexes.length){if(0<=g.selectionmode.indexOf("cell"))var t=g.getselectedcells()[0].rowindex;else t=g.selectedrowindexes[0];e=g.getrowdata(t)}if(e)for(var i=0;i<g.columns.records.length;i++){var s=g.columns.records[i];if(s.seteverpresentrowwidgetvalue){var r=g.getcelltext(t,s.displayfield);s.seteverpresentrowwidgetvalue(s.addnewrowwidget,r)}}},w)if(p.createeverpresentrowwidget){p.addnewrowwidget=p.createeverpresentrowwidget(p.datafield,f,h,function(){o.trigger("mousedown")}),p.initeverpresentrowwidget&&p.initeverpresentrowwidget(p.datafield,f,h)}else{g._measureElement("column");var b=g.everpresentrowheight/2-g._columnheight/2;if(b<0&&(b=6),b+="px","addButtonColumn"===p.datafield){var _=te('<div style="padding-bottom: 2px; text-align: center; margin-top: '+b+';"><a href="#">'+g.gridlocalization.addrowstring+"</a></div>");f.append(_),_.mousedown(function(){o.trigger("mousedown")});continue}if("resetButtonColumn"===p.datafield){_=te('<div style="padding-bottom: 2px; text-align: center; margin-top: '+b+';"><a href="#">'+g.gridlocalization.resetrowstring+"</a></div>");f.append(_),_.mousedown(function(){d.trigger("mousedown")});continue}!function(i,e,s){var m=te('<input style="box-sizing: border-box; padding-right: 4px; padding-left: 4px; border:none;" autocomplete="off" type="textarea"/>');if(m[0].id=te.jqx.utilities.createId(),m.addClass(i.toThemeProperty("jqx-widget")),m.addClass(i.toThemeProperty("jqx-input")),m.addClass(i.toThemeProperty("jqx-widget-content")),m.addClass(i.toThemeProperty("jqx-enableselect")),m.addClass(i.toThemeProperty("jqx-grid-cell-add-new-row")),m.css("text-align",s.cellsalign),i.rtl&&m.css("direction","rtl"),i.disabled&&m.attr("disabled",!0),m.attr("disabled",!1),m.attr("placeholder",i.gridlocalization.everpresentrowplaceholder+s.text),m.appendTo(e),m.css("width","100%"),m.css("height",i.everpresentrowheight+"px"),m.css("line-height",i.everpresentrowheight+"px"),m.css("max-height",i.everpresentrowheight+"px"),m.css("margin","0px"),m.focus(function(){(0<g.selectedcells.length||0<g.selectedrowindexes.length)&&(0<=g.selectionmode.indexOf("cell")?g.getselectedcells()[0].rowindex:g.selectedrowindexes[0]),m.addClass(i.toThemeProperty("jqx-fill-state-focus"));var e=i.columns.records.indexOf(s);"columns"!==i.everpresentrowactionsmode&&h.css({display:"block",top:m.coord().top+i.everpresentrowheight-1,left:0<e?m.coord().left:m.coord().left-1});var t=h.children().width();return"right"===s.cellsalign?(t=o.width()+d.width(),h.children().css("left",t-t+"px")):h.children().css("left","0px"),i.content[0].scrollLeft=0,i.content[0].scrollTop=0,setTimeout(function(){i.content[0].scrollLeft=0,i.content[0].scrollTop=0},50),!1}),s.addnewrowwidget=m,s.reseteverpresentrowwidgetvalue||(s.reseteverpresentrowwidgetvalue=function(e,t){t.val(""),t.focus(),t.blur(),t.removeClass(g.toThemeProperty("jqx-input-invalid")),t.attr("title","")}),s.seteverpresentrowwidgetvalue||(s.seteverpresentrowwidgetvalue=function(e,t){e.val(t)}),!s.geteverpresentrowwidgetvalue){var f=s;s.geteverpresentrowwidgetvalue=function(e,t,i){var s=t.val();if(!1!==i&&f.validateeverpresentrowwidgetvalue){for(var r={},n=0;n<v;n++){var o=g.columns.records[n];if(o.geteverpresentrowwidgetvalue){var a=o.geteverpresentrowwidgetvalue(o.displayfield,o.addnewrowwidget,!1);r[o.datafield]=a,o.datafield!=o.displayfield&&(r[o.datafield]=a.value,r[o.displayfield]=a.label)}}var l=f.validateeverpresentrowwidgetvalue(f.displayfield,s,r),d=g.gridlocalization.validationstring;if(null!=l.message&&(d=l.message),!("boolean"==typeof l?l:l.result))return m.addClass(g.toThemeProperty("jqx-input-invalid")),m.attr("title",d),"invalid editor state";m.removeClass(g.toThemeProperty("jqx-input-invalid")),m.attr("title","")}var h="string",c=g.source.datafields||(g.source._source?g.source._source.datafields:null);if(c){var u="";te.each(c,function(){if(this.name==f.displayfield)return this.type&&(u=this.type),!1}),u&&(h=u)}if("number"===h){var p=parseFloat(s);if(isNaN(p))return null}return"date"===h?te.jqx.dataFormat.tryparsedate(s,g.gridlocalization):"bool"===h||"boolean"===h?"true"===s||"1"==s||"false"!==s&&"0"!=s&&(!0===s?s:!1===s&&s):s}}m.keydown(function(e){13===e.keyCode&&(0<=g.everpresentrowactions.indexOf("add")?o.trigger("mousedown"):0<=g.everpresentrowactions.indexOf("update")?a.trigger("mousedown"):0<=g.everpresentrowactions.indexOf("delete")&&l.trigger("mousedown"))}),m.blur(function(){m.removeClass(i.toThemeProperty("jqx-fill-state-focus")),h.css("display","none")}),s.initeverpresentrowwidget&&s.initeverpresentrowwidget(s.datafield,e,h)}(this,f,p)}}}te.jqx.browser.msie&&te.jqx.browser.version<8&&t.css("z-index",r--),t.width(parseFloat(i)+2),e.addClass(s),e.css("border-bottom-width","0px"),g.showfilterrow?e.css("border-top-width","0px"):e.css("border-top-width","1px"),e.css("box-sizing","border-box"),e.css("border-right-width","0px")},_gettableheight:function(){if(null!=this.tableheight)return this.tableheight;var e=this.host.height();if(this.columnsheader){var t=this.columnsheader.outerHeight();this.showheader||(t=0)}return e-=t,"visible"==this.hScrollBar[0].style.visibility&&(e-=this.hScrollBar.outerHeight()),this.pageable&&(e-=this.pager.outerHeight()),this._groupsheader()&&(e-=this.groupsheader.outerHeight()),this.showtoolbar&&(e-=this.toolbarheight),this.showstatusbar&&(e-=this.statusbarheight),this.showeverpresentrow&&"bottom"===this.everpresentrowposition&&(e-=this.everpresentrowheight),0<e?this.tableheight=e:this.host.height()},_getpagesize:function(){if(this.pageable)return this.pagesize;if(this.virtualmode){var e=Math.round(this.host.height())+2*this.rowsheight;return Math.round(e/this.rowsheight)}return this.autoheight||this.autorowheight?0==this.dataview.totalrows?1:this.dataview.totalrows:this.dataview.totalrows<100&&this.dataview.totalrecords<100&&0<this.dataview.totalrows?this.dataview.totalrows:100},_calculatevirtualheight:function(){this.that;var e=Math.round(this.host.height())+2*this.rowsheight;realheight=this._gettableheight();var t=Math.round(e/this.rowsheight);this.heights=new Array,this.hiddens=new Array,this.details=new Array,this.expandedgroups=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array;var i=Math.max(this.dataview.totalrows,this.dataview.totalrecords);this.pageable&&(i=this.pagesize,this.pagesize>Math.max(this.dataview.totalrows,this.dataview.totalrecords)&&this.autoheight?i=Math.max(this.dataview.totalrows,this.dataview.totalrecords):this.autoheight||this.dataview.totalrows<this.pagesize&&(i=Math.max(this.dataview.totalrows,this.dataview.totalrecords)));var s=i*this.rowsheight,r=0,n=0,o=0,a=this._getpagesize(),l=a*this.rowsheight,d=0;if(!this.pageable&&this.autoheight&&(t=i),0<i+a)for(;d<=i+a;){if(r+=l,d-a<i&&i<=d){var h=d-i;0<h&&(o-=l,this._pageviews[n-1]={top:o,height:l-h*this.rowsheight});break}this._pageviews[n++]={top:o,height:l},o=r,d+=a}if(1!=this.resizingGrid&&this.vScrollBar.jqxScrollBar({value:0}),"hidden"==this.hScrollBar.css("visibility")){var c=0;if(this.columns&&this.columns.records){for(d=0;d<this.columns.records.length;d++)c+=isNaN(this.columns.records[d].width)?this.columns.records[d].minwidth:this.columns.records[d].width;!isNaN(c)&&parseInt(c)>this.host.width()&&(realheight-=30)}}return s>realheight&&!this.autoheight?(this.vScrollBar.css("visibility","visible"),"deferred"==this.scrollmode?this.vScrollBar.jqxScrollBar({max:s}):this.vScrollBar.jqxScrollBar({max:s-realheight})):this.vScrollBar.css("visibility","hidden"),this.dataview.pagesize=a,this.dataview.updateview(),{visiblerecords:t,virtualheight:s}},_updatepageviews:function(){if(!this.updating()){this._pagescache=new Array,this._pageviews=new Array,this.tableheight=null;var e=this.that,t=Math.round(this.host.height())+2*this.rowsheight,i=Math.round(t/this.rowsheight),s=Math.max(this.dataview.totalrows,this.dataview.totalrecords),r=s*this.rowsheight,n=0,o=0,a=0,l=0,d=0,h=this._getpagesize();if(this.pageable)this._updatepagedview&&(r=this._updatepagedview(s,r,0)),this.autoheight&&this._arrange();else for(var c=0;c<s;c++){var u={index:c,height:this.heights[c],hidden:this.hiddens[c],details:this.details[c]};if(null==this.heights[c]&&(this.heights[c]=this.rowsheight,u.height=this.rowsheight),null==this.hiddens[c]&&(this.hiddens[c]=!1,u.hidden=!1),null==this.details[c]&&(this.details[c]=null),u.height!=e.rowsheight&&(r-=e.rowsheight,r+=u.height),u.hidden)r-=u.height;else{o+=u.height;var p=0;this.rowdetails&&(this.rowdetailstemplate&&(u.details||(u.details=this.rowdetailstemplate)),u.details&&u.details.rowdetails&&!u.details.rowdetailshidden&&(o+=p=u.details.rowdetailsheight,r+=p)),n+=u.height+p}(h<=++d||c==s-1)&&(this._pageviews[a++]={top:l,height:o},l=n,d=o=0)}var m=this._gettableheight();if(m<r)if(this.pageable&&this.gotopage&&(r=this._pageviews[0].height)<0&&(r=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(r<=m||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),0<r-m)if("deferred"!=this.scrollmode){var f=r-m,g=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:f}),f!=g&&this.vScrollBar.jqxScrollBar({value:0})}else this.vScrollBar.jqxScrollBar({value:0,max:r});else this.vScrollBar.jqxScrollBar({value:0,max:r});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.autoheight&&(i=Math.round(this.host.height()/this.rowsheight)),this.virtualsizeinfo={visiblerecords:i,virtualheight:r}}},updatebounddata:function(e){"data"==e||"sort"==e||"filter"==e||"cells"==e||"pagechanged"==e||"pagesizechanged"==e||this.virtualmode||(this.virtualsizeinfo=null,this.showfilterrow&&this.filterable&&this.filterrow?(this.clearfilters&&this.clearfilters(!1),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.filterrow.remove(),this._filterrowcache=new Array,this.filterrow=null):this.filterable&&this.clearfilters&&this.clearfilters(!1),this.showeverpresentrow&&this._removeaddnewrow(),this.detailsVisibility=new Array,this.groupsVisibility=new Array,this.groupable&&(this.dataview.groups=[],this.groups=[]),this.pageable&&(this.pagenum=0,this.dataview.pagenum=0),this.sortable&&(this.sortcolumn=null,this.sortdirection="",this.dataview.sortfielddirection="",this.dataview.clearsortdata())),this.databind(this.source,e)},refreshdata:function(){this._refreshdataview(),this.render()},_updatevscrollbarmax:function(){if(this._pageviews&&0<this._pageviews.length){var e=this._pageviews[0].height;!this.virtualmode&&this.pageable||(e=this.virtualsizeinfo.virtualheight);var t=this._gettableheight();if(t<e)if(this.pageable&&this.gotopage&&(e=this._pageviews[0].height)<0&&(e=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(e<=t||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),0<e-t){var i=e-t;this.vScrollBar.jqxScrollBar({max:i})}else this.vScrollBar.jqxScrollBar({value:0,max:e});else this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0})}},_refreshdataview:function(){this.dataview.refresh()},refresh:function(e){if(1!=e){if(te.jqx.isHidden(this.host))return;null!=this.virtualsizeinfo&&(this._cellscache=new Array,this._renderrows(this.virtualsizeinfo),this._updatesize())}},render:function(){this._render(!0,!0,!0,!0)},invalidate:function(){this.virtualsizeinfo&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))},clear:function(){this.databind(null),this.render()},_preparecolumngroups:function(){var e=this.columnsheight;if(this.columngroups){if(this.columnshierarchy=new Array,this.columngroups.length){for(var s=this,t=0;t<this.columngroups.length;t++)this.columngroups[t].parent=null,this.columngroups[t].groups=null;for(t=0;t<this.columns.records.length;t++)this.columns.records[t].parent=null,this.columns.records[t].groups=null;var i=function(e){for(var t=0;t<s.columngroups.length;t++){var i=s.columngroups[t];if(i.name===e)return i}return null};for(t=0;t<this.columngroups.length;t++){if((d=this.columngroups[t]).groups||(d.groups=null),d.parentgroup)(r=i(d.parentgroup))&&((d.parent=r).groups||(r.groups=new Array),-1===r.groups.indexOf(d)&&r.groups.push(d))}for(t=0;t<this.columns.records.length;t++){var r;if((d=this.columns.records[t]).columngroup)(r=i(d.columngroup))&&(r.groups||(r.groups=new Array),-1===(d.parent=r).groups.indexOf(d)&&r.groups.push(d))}var n=0;for(t=0;t<this.columns.records.length;t++){var o=d=this.columns.records[t];for(d.level=0;o.parent;)o=o.parent,d.level++;o=d;var a=d.level;for(n=Math.max(n,d.level);o.parent;)(o=o.parent)&&(o.level=--a)}var l=function(e){var t=new Array;if(e.columngroup&&t.push(e),e.groups)for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var s=l(e.groups[i]),r=0;r<s.length;r++)t.push(s[r]);return t};for(t=0;t<this.columngroups.length;t++){var d=this.columngroups[t],h=l(d);d.columns=h;for(var c=new Array,u=0,p=0;p<h.length;p++)c.push(this.columns.records.indexOf(h[p])),h[p].pinned&&u++;if(0!=u)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:t<e?1:0});for(var m=1;m<c.length;m++)if(c[m]!=c[m-1]+1)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columngroupslevel=1+n,e=this.columngroupslevel*this.columnsheight}return e},_render:function(e,t,i,s,r){if(null!=this.dataview&&!this._loading&&!this._batchupdate){if(te.jqx.isHidden(this.host)){var n=this;return n.___hiddenTimer&&(clearInterval(n.___hiddenTimer),n.___hiddenTimer=null),void(this.___hiddenTimer=setInterval(function(){te.jqx.isHidden(n.host)||(clearInterval(n.___hiddenTimer),n.render())},300))}if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1),this.validationpopup=null,this._removeHandlers(),this._addHandlers(),this._initializeRows(),this._requiresupdate=null==t||t,this._newmax=null,i)if(this._requiresupdate||0!=s&&this._initmenu(),null==this.columns)this.columns=new te.jqx.collection(this.element);else{var o=this;this.columns&&"observableArray"===this.columns.name&&(this.columns.notifier=function(e){var t=function(){o.columns=o._columns,o.render()};switch(e.type){case"add":t();break;case"update":if("index"===e.name){for(var i in o.beginupdate(),e.newValue)o.setcolumnproperty(e.newValue.datafield,i,e.newValue[i]);o.endupdate()}else{var s=e.path.split(".");o.setcolumnproperty(o.columns[s[0]].datafield,e.name,e.newValue)}break;case"delete":t()}}),this.columngroups&&"observableArray"===this.columngroups.name&&(this.columngroups.notifier=function(e){o.render()}),this._initializeColumns()}this.tableheight=null,this._pagescache=new Array,this._pageviews=new Array,this.visiblerows=new Array,this.hittestinfo=new Array,this._requiresupdate&&(this._clearcaches(),1==s&&this._initmenu()),this.virtualsizeinfo=null,this.prerenderrequired=!0,(this.groupable&&0<this.groups.length&&this.rowdetails||this.rowdetails)&&this.gridcontent&&(this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,this.detailboundrows=new Array,this.details=new Array,te.jqx.utilities.html(this.gridcontent,""),this.gridcontent=null),this.gridcontent&&this.editable&&this._destroyeditors&&this._destroyeditors(),i?(this.filterrow&&this.filterrow.detach(),te.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||te('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header"))):this.gridcontent&&te.jqx.utilities.html(this.gridcontent,""),this.showheader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||te('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove();var a=this.columnsheight;if(a=this._preparecolumngroups(),this.showfilterrow&&this.filterable?(this.columnsheader.height(a+this.filterrowheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&this.columnsheader.height(a+this.filterrowheight+this.everpresentrowheight)):this.showeverpresentrow&&"bottom"!==this.everpresentrowposition?this.columnsheader.height(a+this.everpresentrowheight):this.columnsheader.height(a),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._arrange(),this._initgroupsheader&&this._initgroupsheader(),this.selectionarea=this.selectionarea||te("<div style='z-index: 99; visibility: hidden; position: absolute;'></div>"),this.selectionarea.addClass(this.toThemeProperty("jqx-grid-selectionarea")),this.selectionarea.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.content.append(this.selectionarea),this.tableheight=null,this.rendergridcontent(!1,i),0<this.groups.length&&this.groupable){var l=this.vScrollBar[0].style.visibility;this.suspendgroupevents=!0,this.collapseallgroups&&(this.groupsexpandedbydefault?this.expandallgroups(!1):(this.collapseallgroups(!1),this._updatescrollbarsafterrowsprerender())),this.vScrollBar[0].style.visibility!=l&&(this._updatecolumnwidths(),this._updatecellwidths()),this.suspendgroupevents=!1}this.pageable&&this.updatepagerdetails&&(this.updatepagerdetails(),this.autoheight&&this._updatepageviews(),this.autorowheight&&(this.autoheight||this._updatepageviews(),this._renderrows(this.virtualsizeinfo))),this.showaggregates&&this._updateaggregates&&this._updateaggregates(),this._addoverlayelement(),"deferred"==this.scrollmode&&this._addscrollelement(),this.showfilterrow&&this.filterable&&this.filterrow&&(null==r||1==r)&&this._updatelistfilters(!i),this.rendered&&this.rendered("full"),this.__isRendered=!0}},_addoverlayelement:function(){var e=te.jqx.utilities.getBrowser();if("msie"==e.browser&&parseInt(e.version)<9||this.isTouchDevice())if(this._overlayElement&&this._overlayElement.remove(),this._overlayElement=te("<div class='jqxgrid-overlay' style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._overlayElement.css("background","white"),this._overlayElement.css("z-index",180),this._overlayElement.css("opacity",.001),this.isTouchDevice())if("hidden"!==this.vScrollBar.css("visibility")||"hidden"!==this.hScrollBar.css("visibility")){var t=0;"checkbox"==this.selectionmode&&(t+=30),(this.groupable||this.rowdetails)&&this._overlayElement.css("left",30*(this.groups.length+(this.rowdetails?1:0)));var i=this._overlayElement.css("left");this._overlayElement.css("left",i+t)}else this._overlayElement&&this._overlayElement.remove();else this.content.prepend(this._overlayElement);this._updateTouchScrolling()},_addscrollelement:function(){this._scrollelement&&this._scrollelement.remove(),this._scrollelementoverlay&&this._scrollelementoverlay.remove(),this._scrollelementoverlay=te("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._scrollelementoverlay.css("background","black"),this._scrollelementoverlay.css("z-index",18),this._scrollelementoverlay.css("opacity",.1),this._scrollelement=te("<span style='visibility: hidden; top: 50%; right: 10px; position: absolute;'></span>"),this._scrollelement.css("z-index",19),this._scrollelement.addClass(this.toThemeProperty("jqx-button")),this._scrollelement.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._scrollelement.addClass(this.toThemeProperty("jqx-rc-all")),this._scrollelement.addClass(this.toThemeProperty("jqx-shadow")),this.content.prepend(this._scrollelement),this.content.prepend(this._scrollelementoverlay)},_postrender:function(e){if(("filter"==e||"sort"==e||"group"==e)&&this.rowdetails&&this.detailsVisibility&&0<this.detailsVisibility.length){this._detailsUpdate=!0;for(var t=0;t<this.details.length;t++)this.details[t]&&(this.details[t].rowdetailshidden=!0);for(t=0;t<this.detailsVisibility.length;t++)!1===this.detailsVisibility[t]?this.showrowdetails(t):!0===this.detailsVisibility[t]&&this.hiderowdetails(t);this._detailsUpdate=!1,this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}if(this.groupable&&0<this.groups.length)if("filter"==e||"sort"==e)for(t=0;t<this.dataview.loadedgroups.length;t++){var i=this.dataview.loadedgroups[t],s=0;for(var r in this.groupsVisibility)r==i.group&&this.groupsVisibility[r]&&(suspendgroupevents=!0,this._setgroupstate(i,!0,!1),s++);if(0<s){suspendgroupevents=!1;var n=this.vScrollBar[0].style.visibility;this.rendergridcontent(!0,!1),(n!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}}else"group"==e&&(this.groupsVisibility=new Array)},rendergridcontent:function(e,t){if(this.updating())return!1;null!=e&&null!=e||(e=!1),this._requiresupdate=e;var i=this.prerenderrequired;this.prerenderrequired&&this._arrange();var s=this.that;if(null!=(t=t)&&null!=t||(t=!0),this.tableheight=null,s.virtualsizeinfo=s.virtualsizeinfo||s._calculatevirtualheight(),s.pageable&&!s.autoheight&&s.dataview.totalrows<s.pagesize&&(s._requiresupdate=!0),t?s._rendercolumnheaders():(this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn()),s._renderrows(s.virtualsizeinfo),this.gridcontent&&(0!=this.gridcontent[0].scrollTop&&(this.gridcontent[0].scrollTop=0),0!=this.gridcontent[0].scrollLeft&&(this.gridcontent[0].scrollLeft=0)),i){var r=this.tableheight;this._arrange(),r!=this.tableheight&&this.autoheight&&s._renderrows(s.virtualsizeinfo)}return this.rtl&&this._renderhorizontalscroll(),this.autosavestate&&null!=this.initializedcall&&this.savestate&&this.savestate(),!0},_updatecolumnwidths:function(){var o=this.host.width(),a=o,l="";if(null!=this.columns&&null!=this.columns.records){var d=this.that,r=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;te.each(this.columns.records,function(e,t){if(!this.hidden||!this.hideable)if(-1!=this.width.toString().indexOf("%")||null!=this._percentagewidth){t=0;var i="hidden"==d.vScrollBar[0].style.visibility?0:d.scrollbarsize+5;(d.scrollbarautoshow||0==d.scrollbarsize)&&(i=0);var s=a;t=parseFloat(this.width)*s/100,i+=r,null!=this._percentagewidth&&(t=parseFloat(this._percentagewidth)*(s-i)/100),t<this.minwidth&&"auto"!=this.minwidth&&(t=this.minwidth),t>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),o-=t}else"auto"==this.width||this._width?l+=this.text:o-=this.width});var e=this._gettableheight();if(!this.autoheight&&this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>e)if(this.groupable&&0<this.groups.length)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var t=this.dataview.loadedrootgroups.length*this.rowsheight;if(this.pageable)for(var i=0;i<this.dataview.rows.length;i++)this.dataview.rows[i].group&&0===this.dataview.rows[i].level&&(t+=this.rowsheight);e<t?(o-=this.scrollbarsize+5,a-=this.scrollbarsize+5):"visible"==this.vScrollBar.css("visibility")&&(o-=this.scrollbarsize+5,a-=this.scrollbarsize+5)}else o-=this.scrollbarsize+5,a-=this.scrollbarsize+5;else"hidden"!=this.vScrollBar.css("visibility")&&0<this.scrollbarsize&&(o-=this.scrollbarsize+5,a-=this.scrollbarsize+5);r=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(a-=r,this.columnsheader){var s=this.columnsheader.find("#columntable"+this.element.id);if(0!=s.length){var h=0,c=0;te.each(this.columns.records,function(e,t){var i=te(this.element);this.hidden||"none"!==this.element.style.display||(this.element.style.display="block");var s=!1,r=this.width;if(-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(r=null!=this._percentagewidth?parseFloat(this._percentagewidth)*a/100:parseFloat(this.width)*a/100,s=!0),"auto"==this.width||this._width||s)if(s)r<this.minwidth&&"auto"!=this.minwidth&&(r=this.minwidth,this.width=r),r>this.maxwidth&&"auto"!=this.maxwidth&&(r=this.maxwidth,this.width=r),parseInt(i[0].style.width)!=r&&(i.width(r),this.width=r);else{var n=Math.floor(o*(this.text.length/l.length));o-(c+=n)<3&&o!=c&&.01<o-c?o-c==1?n++:n+=2:e==d.columns.records.length-1&&c<o&&(n+=o-c),isNaN(n)&&(n=this.minwidth),isNaN(n)&&(n=this.minwidth),n==1/0&&(n=0),n<0&&($element=te("<span>"+this.text+"</span>"),te(document.body).append($element),n=10+$element.width(),$element.remove()),n<this.minwidth&&(n=this.minwidth),n>this.maxwidth&&(n=this.maxwidth),this._width="auto",this.width=n,i.width(this.width)}else parseInt(i[0].style.width)!=this.width&&i.width(this.width);parseInt(i[0].style.left)!=h&&i.css("left",h),this.hidden&&this.hideable||(h+=this.width),this._requirewidthupdate=!0}),this.columnsheader.width(2+h),s.width(this.columnsheader.width()),this.columnsheader[0].style.visibility=0==h?"hidden":"inherit",this._resizecolumngroups(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui()),this.autowidth&&this._arrange()}}}},_rendercolumnheaders:function(){var C=this.that;if(!this.prerenderrequired)return this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),void(this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui()));this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var S=te('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');S[0].cells=new Array;var k=0,I=0,D="",P=this.host.width(),A=P,s=new Array,r=new Array,n=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(te.each(this.columns.records,function(e,t){if(!this.hidden||!this.hideable)if("auto"==this.width||this._width)D+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)P-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)P-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){t=0;var i="hidden"==C.vScrollBar[0].style.visibility?0:C.scrollbarsize+5;i+=n,(t=parseFloat(this.width)*(A-i)/100)<this.minwidth&&"auto"!=this.minwidth&&(t=this.minwidth),t>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),P-=t}else"string"==typeof this.width&&(this.width=parseInt(this.width)),P-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(C._haspinned&&(this.pinned=!0),s[s.length]=this):r[r.length]=this}),this.rtl){var e=0;s.reverse();for(t=this.columns.records.length-1;t>=this.columns.records.length-s.length;t--)this.columns.replace(t,s[e++]);for(i=0;i<r.length;i++)this.columns.replace(i,r[i])}else{for(var t=0;t<s.length;t++)this.columns.replace(t,s[t]);for(var i=0;i<r.length;i++)this.columns.replace(s.length+i,r[i])}var M=this.headerZIndex,B=C.groupable?C.groups.length:0;this.rowdetails&&this.showrowdetailscolumn&&B++;var H=C.columnsheader.height();this.showfilterrow&&(this.columngroups?H-=this.filterrowheight:H=this.columnsheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&(H-=this.everpresentrowheight);var o=this._gettableheight();if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>o&&!this.scrollbarautoshow)if(this.groupable&&0<this.groups.length)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var a=0;if(this.pageable){if(this.pageable)for(var l=0;l<this.dataview.rows.length;l++)this.dataview.rows[l].group&&0===this.dataview.rows[l].level&&(a+=this.rowsheight)}else a=this.dataview.loadedrootgroups.length*this.rowsheight;o<a&&(P-=this.scrollbarsize+5,A-=this.scrollbarsize+5)}else P-=this.scrollbarsize+5,A-=this.scrollbarsize+5;else!this.autoheight&&0<this.scrollbarsize&&(P-=this.scrollbarsize+5,A-=this.scrollbarsize+5);A-=n;var z=document.createDocumentFragment(),E=0;if(te.each(this.columns.records,function(e,t){var i,s;this.height=C.columnsheight,C.columngroups&&C.columngroups.length&&(this.height=(this.datafield,i=this,s=C.columngroupslevel*C.columnsheight,s-=i.level*C.columnsheight),H=this.height);var r=C.toTP("jqx-grid-column-header")+" "+C.toTP("jqx-widget-header");C.rtl&&(r+=" "+C.toTP("jqx-grid-column-header-rtl"));var n=C.rtl?150+M+1:150+M-1,o=C.rtl?M++:M--,a=te('<div role="columnheader" style="z-index: '+o+';position: absolute; height: 100%;" class="'+r+'"><div style="height: 100%; width: 100%;"></div></div>');C.columngroups&&(a[0].style.height=H+"px",a[0].style.bottom="0px",this.pinned&&(a[0].style.zIndex=n)),this.uielement=a,""!=this.classname&&this.classname&&a.addClass(this.classname);var l=this.width,d=!1;if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(l=null!=this._percentagewidth?parseFloat(this._percentagewidth)*A/100:parseFloat(this.width)*A/100,d=!0),"auto"==this.width||this._width||d){if(d)l<this.minwidth&&"auto"!=this.minwidth&&(l=this.minwidth),l>this.maxwidth&&"auto"!=this.maxwidth&&(l=this.maxwidth),null!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),a.width(l),this.width=l;else if(!this.hidden){var h=Math.floor(P*(this.text.length/D.length));P-(E+=h)<3&&P!=E&&.01<P-E?P-E==1?h++:h+=2:e==C.columns.records.length-1&&E<P&&(h+=P-E),isNaN(h)&&(h=this.minwidth),h<0&&($element=te("<span>"+this.text+"</span>"),te(document.body).append($element),h=10+$element.width(),$element.remove()),h<this.minwidth&&(h=this.minwidth),h>this.maxwidth&&(h=this.maxwidth),this._width="auto",this.width=h,l=this.width,a.width(this.width)}}else l<this.minwidth&&"auto"!=this.minwidth&&(l=this.minwidth,this.width=l),l>this.maxwidth&&"auto"!=this.maxwidth&&(l=this.maxwidth,this.width=l),a[0].style.width=parseInt(l)+"px";this.hidden&&this.hideable&&a.css("display","none");var c=te(a.children()[0]),u=C.rtl?C.toTP("jqx-grid-column-menubutton")+" "+C.toTP("jqx-grid-column-menubutton-rtl"):C.toTP("jqx-grid-column-menubutton");u+=" "+C.toTP("jqx-icon-arrow-down");var p=te('<div style="height: '+H+'px; display: none; left: 100%; top: 0%; position: absolute;"><div class="'+u+'" style="width: 100%; height:100%;"></div></div>');C.enableanimations||p.css("margin-left",-16),C.rtl&&p.css("left","0px"),this.columnsmenu=p[0],S[0].cells[e]=a[0],p[0].style.width=parseInt(C.columnsmenuwidth)+"px";var m=C.columnsmenu,f=!1,g=!1,v=C.groupable&&0<B&&k<B||C.rowdetails&&k<B;if(C.rtl&&(v=C.groupable&&0<B&&k<B||C.rowdetails&&k<B,v&=e>C.columns.records.length-1-B),v)k++,m&=!1,this.sortable=!1,g=!(this.editable=!1);else{var x=null!=this.renderer?this.renderer(this.text,this.align,H):C._rendercolumnheader(this.text,this.align,H,C);null==x&&(x=C._rendercolumnheader(this.text,this.align,H,C)),null!=this.renderer&&(x=te(x)),m&=!0,f=!0}if(C.WinJS?MSApp.execUnsafeLocalFunction(function(){c.append(te(x))}):this.renderer?c.append(te(x)):x&&(c[0].innerHTML=x),null!=x){var w=te('<div class="iconscontainer" style="height: '+H+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+C.toTP("jqx-widget-header")+'" style="height: '+H+'px; float: right; display: none; width: 16px;"><div class="'+C.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+C.toTP("jqx-widget-header")+'" style="height: '+H+'px; float: right; display: none; width: 16px;"><div class="'+C.toTP("jqx-grid-column-sortascbutton")+" "+C.toTP("jqx-icon-arrow-up")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+C.toTP("jqx-widget-header")+'" style="height: '+H+'px; float: right; display: none; width: 16px;"><div class="'+C.toTP("jqx-grid-column-sortdescbutton")+" "+C.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div></div>');p.addClass(C.toTP("jqx-widget-header")),c.append(w);var y=w.children();this.sortasc=y[1],this.sortdesc=y[2],this.filtericon=y[0],this.iconscontainer=w,C.rtl&&(w.css("margin-left","0px"),w.css("left","0px"),te(this.sortasc).css("float","left"),te(this.filtericon).css("float","left"),te(this.sortdesc).css("float","left")),!C.autoshowfiltericon&&this.filterable&&te(this.filtericon).css("display","block")}if(this.element=a[0],m&&(C._handlecolumnsmenu(C,c,a,p,this),this.menu||p.hide()),z.appendChild(a[0]),C.groupable&&f){if(a[0].id=C.dataview.generatekey(),!C._handlecolumnstogroupsdragdrop)throw new Error("jqxGrid: Missing reference to jqxgrid.grouping.js.");C._handlecolumnstogroupsdragdrop(this,a)}C.columnsreorder&&this.draggable&&C._handlecolumnsdragreorder&&C._handlecolumnsdragreorder(this,a);var b=this;if(C.addHandler(a,"click",function(e){if(b.checkboxcolumn)return!0;if(0<C.sorttogglestates&&C._togglesort&&!C._loading){if(C.suspendClick)return!0;C._togglesort(b)}e.preventDefault(),C._raiseEvent(7,{column:b.getcolumnproperties(),datafield:b.datafield,originalEvent:e})}),b.resizable&&C.columnsresize&&!g){var _=!1,j="mousemove";C.isTouchDevice()&&!0!==C.touchmode&&(_=!0,j=te.jqx.mobile.getTouchEventName("touchstart")),C.addHandler(a,j,function(e){var t=parseInt(e.pageX),i=5,s=parseInt(a.coord().left);if(C.hasTransform&&(s=te.jqx.utilities.getOffset(a).left),C.resizing)return!0;if(C._handlecolumnsresize){if(_)return i=40,(t=C.getTouches(e)[0].pageX)>=s+b.width-i?(C.resizablecolumn={columnelement:a,column:b},a.css("cursor","col-resize")):(a.css("cursor",""),C.resizablecolumn=null),!0;var r=b.width;if(C.rtl&&(r=0),s+r-i<=t){if(t<=s+r+i)return C.resizablecolumn={columnelement:a,column:b},a.css("cursor","col-resize"),!1;a.css("cursor",""),C.resizablecolumn=null}else a.css("cursor",""),t<s+r-i&&(b._animating||b._menuvisible||a.mouseenter()),C.resizablecolumn=null}})}(a.css("left",I),this.hidden&&this.hideable||(I+=l),b.rendered)&&(b.rendered(te(c[0].firstChild),b.align,H)&&null!=w&&w.hide());if(b.checkboxcolumn){if(w&&w.hide(),!C.host.jqxCheckBox)throw new Error("jqxGrid: Missing reference to jqxcheckbox.js");c.html('<div style="cursor: pointer; margin-left: 5px; top: 50%; margin-top: -8px; position: relative;"></div>');var q=c.find("div:first");q.jqxCheckBox({_canFocus:!1,disabled:C.disabled,disabledContainer:!0,theme:C.theme,enableContainerClick:!1,width:16,height:16,animationShowDelay:0,animationHideDelay:0});var T=(b.checkboxelement=q).data().jqxCheckBox.instance;C._checkboxcolumn=b,T.updated=function(e,t,i){C._checkboxcolumnupdating=!0,C.disabled&&(q.jqxCheckBox({disabled:C.disabled}),t=i),t?C.selectallrows():C.unselectallrows(),C._checkboxcolumnupdating=!1}}}),0<I?this.columnsheader.width(2+I):this.columnsheader.width(I),S[0].appendChild(z),this.columnsrow=S,C.columnsheader.append(S),this.showfilterrow&&this._updatefilterrow){if(this.columngroups?S.height(this.columngroupslevel*this.columnsheight):S.height(this.columnsheight),!this.filterrow){var d=te("<div style='position: relative !important; '></div>");d[0].id="filterrow."+this.element.id,d.height(this.filterrowheight),this.filterrow=d}this.filterrow.width(2+I),this.columnsheader.append(this.filterrow),this._updatefilterrow()}if(this.showeverpresentrow&&"bottom"!==this.everpresentrowposition){if(this.columngroups?S.height(this.columngroupslevel*this.columnsheight):S.height(this.columnsheight),!this.addnewrowtop){var h=te("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");h[0].id="addnewrowtop."+this.element.id,h.height(this.everpresentrowheight),this.addnewrowtop=h}this.addnewrowtop.width(2+I),"topAboveFilterRow"==this.everpresentrowposition&&this.filterrow?this.addnewrowtop.insertBefore(this.filterrow):this.columnsheader.append(this.addnewrowtop),this._updateaddnewrow()}else if(this.showeverpresentrow&&"bottom"===this.everpresentrowposition){if(!this.addnewrowbottom){var c=te("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");c[0].id="addnewrowbottom."+this.element.id,c.height(this.everpresentrowheight),this.addnewrowbottom=c}this.addnewrowbottom.width(2+I),this.addnewrow.append(this.addnewrowbottom),this._updateaddnewrow()}S[0].style.visibility=0==I?"hidden":"inherit",S.width(I),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsreorder&&this._handlecolumnsreorder(),this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this._handlecolumnsresize&&this._handlecolumnsresize(),this.columngroups&&this._rendercolumngroups(),this._updatecheckboxselection&&this._updatecheckboxselection()},_rendercolumngroups:function(){if(this.columngroups){for(var e=0,t=0;t<this.columns.records.length;t++)this.columns.records[t].pinned&&e++;var i=this.headerZIndex-e+this.columns.records.length,s=this.that,r=s.toTP("jqx-grid-column-header")+" "+s.toTP("jqx-grid-columngroup-header")+" "+s.toTP("jqx-widget-header");s.rtl&&(r+=" "+s.toTP("jqx-grid-columngroup-header-rtl"));var n=this.columnsheader.find("#columntable"+this.element.id);n.find("jqx-grid-columngroup-header").remove();for(var o=0;o<this.columngroupslevel-1;o++)for(t=0;t<this.columngroups.length;t++){var a=this.columngroups[t],l=a.level;if(l===o){var d=l*this.columnsheight,h=99999;if(a.groups){var c=function(e){for(var t=0,i=0;i<e.groups.length;i++){var s=e.groups[i];s.groups?t+=c(s):s.hidden||(t+=s.width,h=Math.min(parseFloat(s.element.style.left),h))}return t};a.width=c(a),a.left=h;var u=this.columnsheight,p=i--,m=te('<div role="columnheader" style="z-index: '+p+';position: absolute;" class="'+r+'"></div>'),f=te(this._rendercolumnheader(a.text,a.align,this.columnsheight,this));if(a.renderer){f=te("<div style='height: 100%; width: 100%;'></div>");var g=a.renderer(a.text,a.align,u);f.html(g)}m.append(f),m[0].style.left=h+"px",0===h&&(m[0].style.borderLeftColor="transparent"),m[0].style.top=d+"px",m[0].style.height=u+"px",m[0].style.width=-1+a.width+"px",n.append(m),a.element=m,a.rendered&&a.rendered(f,a.align,u)}}}}},_resizecolumngroups:function(){if(this.columngroups)for(var e=0;e<this.columngroups.length;e++){var t=this.columngroups[e],i=t.level*this.columnsheight,r=99999;if(t.groups){var n=function(e){for(var t=0,i=0;i<e.groups.length;i++){var s=e.groups[i];s.groups?t+=n(s):s.hidden||(t+=s.width,r=Math.min(parseFloat(s.element.style.left),r))}return t};t.width=n(t),t.left=r;var s=this.columnsheight,o=t.element;o[0].style.left=r+"px",o[0].style.top=i+"px",o[0].style.height=s+"px",o[0].style.width=-1+t.width+"px"}}},_handlecolumnsmenu:function(m,e,o,f,g){m.dragmousedown=null,f[0].id=m.dataview.generatekey(),e.append(f),o[0].columnsmenu=f[0],g.element=o[0];var a=this.columnsmenuwidth+1,t="mouseenter";if(m.isTouchDevice()&&(t="touchstart"),m.addHandler(o,t,function(e){var t=parseInt(e.pageX),i=m.columnsresize&&g.resizable?3:0,s=parseInt(o.coord().left);m.hasTransform&&(s=te.jqx.utilities.getOffset(o).left);var r=g.width;if(m.rtl&&(r=0),0!=i&&s+r-i<=t&&t<=s+r+i)return!1;var n=m.vScrollInstance.isScrolling();g.menu&&m.autoshowcolumnsmenubutton&&!n&&!m.disabled&&function(){if(!g.menu)return;if(!m.resizing){if(g._menuvisible&&m._hasOpenedMenu)return;if(g._animating=!0,m.menuitemsarray&&0<m.menuitemsarray.length)if(m.enableanimations)f.css("display","block"),f.stop(),g.iconscontainer.stop(),m.rtl?(f.css("margin-left",-a),f.animate({"margin-left":"0px"},"fast",function(){f.css("display","block"),g._animating=!1,g._menuvisible=!0})):(f.css("margin-left","0px"),f.animate({"margin-left":-a},"fast",function(){f.css("display","block"),g._animating=!1,g._menuvisible=!0})),e=m.rtl?a:-(32+a),g.iconscontainer.animate({"margin-left":e},"fast");else{f.css("display","block");var e=m.rtl?16:-48;g.iconscontainer.css("margin-left",e+"px"),g._animating=!1,g._menuvisible=!0}}}()}),!m.autoshowcolumnsmenubutton){f.css("display","block");var i=m.rtl?16:-48;g.iconscontainer.css("margin-left",i+"px"),m.rtl?f.css({"margin-left":"0px"}):f.css({"margin-left":-a})}m.addHandler(o,"mouseleave",function(e){if(m.menuitemsarray&&0<m.menuitemsarray.length&&g.menu){var t=te.data(document.body,"contextmenu"+m.element.id);if(null!=t&&f[0].id==t.columnsmenu.id)return;if(m.autoshowcolumnsmenubutton)if(m.enableanimations){m.rtl?f.css("margin-left","0px"):f.css("margin-left",-a),f.stop(),g.iconscontainer.stop(),m.rtl?f.animate({"margin-left":-a},"fast",function(){f.css("display","none"),g._menuvisible=!1}):f.animate({"margin-left":0},"fast",function(){f.css("display","none"),g._menuvisible=!1});i=m.rtl?0:-32;g.iconscontainer.animate({"margin-left":i},"fast")}else{f.css("display","none");var i=m.rtl?0:-32;g.iconscontainer.css("margin-left",i+"px"),g._menuvisible=!1}}});var v=!0,x="",s=te(g.filtericon);m.addHandler(f,"mousedown",function(e){m.gridmenu||m._initmenu(),v=!te.data(m.gridmenu[0],"contextMenuOpened"+m.gridmenu[0].id),null!=(x=te.data(document.body,"contextmenu"+m.element.id))&&(x=x.column.datafield)}),m.addHandler(s,"mousedown",function(e){m.gridmenu||m._initmenu(),v=!te.data(m.gridmenu[0],"contextMenuOpened"+m.gridmenu[0].id),null!=(x=te.data(document.body,"contextmenu"+m.element.id))&&(x=x.column.datafield)});var r=function(){if(!g.menu)return!1;if(m.gridmenu||m._initmenu(),m.disabled)return!1;for(var e=0;e<m.columns.records.length;e++)m.columns.records[e].datafield!=g.datafield&&(m.columns.records[e]._menuvisible=!1);var t=f.coord(!0),i=f.height();if(!v&&(v=!0,x==g.datafield))return m._closemenu(),!1;var s=m.host.coord(!0);m.hasTransform&&(s=te.jqx.utilities.getOffset(m.host),t=te.jqx.utilities.getOffset(f)),s.left+m.host.width()>parseInt(t.left)+m.gridmenu.width()?m.gridmenu.jqxMenu("open",t.left,t.top+i):m.gridmenu.jqxMenu("open",f.width()+t.left-m.gridmenu.width(),t.top+i),m.gridmenu.width()<100&&m._arrangemenu(),(!m.filterable||m.filterable&&m.showfilterrow)&&setTimeout(function(){m.gridmenu.focus();for(var e=m.gridmenu.find(".jqx-item"),t=0;t<e.length;t++)e[t].active&&(e[t].active=!1);var i=e[0];0<=e[0].className.indexOf("disabled")&&(i=e[1]),te(e).removeClass("jqx-fill-state-focus"),te(i).addClass("jqx-fill-state-focus"),i.active=!0},225),m._hasOpenedMenu=!0;var r=m._getmenuitembyindex(0),n=m._getmenuitembyindex(1),o=m._getmenuitembyindex(2),a=m._getmenuitembyindex(3),l=m._getmenuitembyindex(4),d=m._getmenuitembyindex(5);if(null!=r&&null!=n&&null!=o){var h=g.sortable&&m.sortable;if(m.gridmenu.jqxMenu("disable",r.id,!h),m.gridmenu.jqxMenu("disable",n.id,!h),m.gridmenu.jqxMenu("disable",o.id,!h),null!=g.displayfield)if(m.sortcolumn==g.displayfield){var c=m.getsortinformation();h&&(c.sortdirection.ascending?m.gridmenu.jqxMenu("disable",r.id,!0):m.gridmenu.jqxMenu("disable",n.id,!0))}else m.gridmenu.jqxMenu("disable",o.id,!0)}if(null!=a&&null!=l&&(m.groupable&&g.groupable?m.groups&&-1!=m.groups.indexOf(g.datafield)?(m.gridmenu.jqxMenu("disable",a.id,!0),m.gridmenu.jqxMenu("disable",l.id,!1)):(m.gridmenu.jqxMenu("disable",a.id,!1),m.gridmenu.jqxMenu("disable",l.id,!0)):(m.gridmenu.jqxMenu("disable",l.id,!0),m.gridmenu.jqxMenu("disable",a.id,!0))),null!=d){m.menuOwner=g,m._updatefilterpanel(m,d,g);var u=0;m.sortable&&m._togglesort&&m.showsortmenuitems&&(u+=3),m.groupable&&m.addgroup&&m.showgroupmenuitems&&(u+=2);var p=33*u+6;p=u*m._measureMenuElement()+14;te.jqx.browser.msie&&te.jqx.browser.version<8&&(p+=20,te(d).height(190)),m.isTouchDevice()&&(p+=10),m.filterable&&m.showfiltermenuitems&&(g.filterable?(m.gridmenu.height(p+190),te(d).css("display","block")):(m.gridmenu.height(p),te(d).css("display","none")))}m.columnmenuopening&&(!1===m.columnmenuopening(m.gridmenu,g.displayfield,m.gridmenu.height())&&m._closemenu());te.data(document.body,"contextmenu"+m.element.id,{column:g,columnsmenu:f[0]})};m.addHandler(s,"click",function(e){return g.menu&&(m.showfilterrow||("block"!=f[0].style.display&&o.trigger("mouseenter"),setTimeout(function(){"block"!=f[0].style.display&&o.trigger("mouseenter"),r()},200))),!1}),m.addHandler(f,"click",function(e){return g.menu&&r(),!1}),m.isTouchDevice()&&m.addHandler(f,te.jqx.mobile.getTouchEventName("touchstart"),function(e){return g.menu&&(m._hasOpenedMenu?m._closemenu():r()),!1})},_removecolumnhandlers:function(e){var t=this.that,i=te(e.element);if(0<i.length){t.removeHandler(i,"mouseenter"),t.removeHandler(i,"mouseleave");var s=te(e.filtericon);if(t.removeHandler(s,"mousedown"),t.removeHandler(s,"click"),t.removeHandler(i,"click"),t.removeHandler(i,"mousemove"),t.columnsreorder&&(t.removeHandler(i,"mousedown.drag"),t.removeHandler(i,"mousemove.drag")),t.removeHandler(i,"dragstart"),i[0].columnsmenu){var r=te(i[0].columnsmenu);t.removeHandler(r,"click"),t.removeHandler(r,"mousedown"),t.removeHandler(r,te.jqx.mobile.getTouchEventName("touchstart"))}}},_rendercolumnheader:function(e,t,i,s){var r="7px";return s.columngroups?((r=i/2-this._columnheight/2)<0&&(r=6),r+="px"):30!=this.columnsheight&&((r=this.columnsheight/2-this._columnheight/2)<0&&(r=6),r+="px"),this.enableellipsis?"left"==t?'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 2px; margin-bottom: "+r+"; margin-top: "+r+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>":'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 2px; margin-right: 4px; margin-bottom: "+r+"; margin-top: "+r+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>":"center"==t||"middle"==t?'<div style="padding-bottom: 2px; text-align: center; margin-top: '+r+';"><a href="#">'+e+"</a></div>":'<a style="margin-top: '+r+"; float: "+t+';" href="#">'+e+"</a>"},_renderrows:function(e,s,t){var a=this.that;if((this.pageable||this.groupable)&&(this.autoheight||this.autorowheight)&&null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length<this.dataview.rows.length&&(a.prerenderrequired=!0),!this.pageable&&(this.autoheight||this.autorowheight)&&(this.virtualmode||this.unboundmode)){var i=this.source.totalrecords;isNaN(i)||null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length!=i&&(a.prerenderrequired=!0)}!this.autoheight&&!this.autorowheight||a.prerenderrequired||this.table&&this.table[0].rows&&(this.table[0].rows.length<this.dataview.records.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?a.prerenderrequired=!0:this.pageable||(a.prerenderrequired=!0)),this.table[0].rows.length<this.dataview.cachedrecords.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?a.prerenderrequired=!0:this.pageable||(a.prerenderrequired=!0))),a._prerenderrows(e),a._requiresupdate&&(a._requiresupdate=!1,a._updatepageviews());var r=function(){a._loading||(a.WinJS?MSApp.execUnsafeLocalFunction(function(){a._rendervisualrows()}):a._rendervisualrows(),a.virtualmode&&a.showaggregates&&a._updateaggregates&&a.refreshaggregates())},n=te.jqx.browser.msie&&te.jqx.browser.version<10;if(this.virtualmode){this.loadondemand&&(r(),function(){if(a.rendergridrows){var e=a._startboundindex;null==e&&(e=0);var t=e+1+a.dataview.pagesize;if(null!=e&&null!=t){var i=!!a.source._source;if((i?a.source._source.recordstartindex:a.source.recordstartindex)!=e||1==s){if(i){if(t>=a.source._source.totalrecords&&((e=(t=a.source._source.totalrecords)-a.dataview.pagesize-1)<0&&(e=0),a.source._source.recordendindex==t&&a.source._source.recordstartindex==e))return;a.source._source.recordstartindex=e,a.source._source.recordendindex=t}else a.source.recordstartindex=e,a.source.recordendindex=t;a.updatebounddata("cells")}}}}(),this.loadondemand=!1);var o=null==this._browser?this._isIE10():this._browser;this.editable&&this.editcell&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()?r():this.autoheight?r():o||n||navigator&&-1!=navigator.userAgent.indexOf("Safari")?(null!=this._scrolltimer&&clearTimeout(this._scrolltimer),this._scrolltimer=setTimeout(function(){r()},5)):r()}else{if("deferred"==this.scrollmode&&(this.hScrollInstance.isScrolling()||this.vScrollInstance.isScrolling())){null!=this._scrolltimer&&clearInterval(this._scrolltimer);var l=this._getfirstvisualrow();if(null!=l){var d=this.scrollfeedback?this.scrollfeedback(l.bounddata):function(e){if(null==l)return"";var t="<table>",i=a.deferreddatafields;null==i&&0<a.columns.records.length&&(i=new Array).push(a.columns.records[0].displayfield);for(var s=0;s<i.length;s++){var r=i[s],n=a._getcolumnbydatafield(r);if(n){var o=a._getcellvalue(n,l);""!=n.cellsformat&&te.jqx.dataFormat&&(te.jqx.dataFormat.isDate(o)?o=te.jqx.dataFormat.formatdate(o,n.cellsformat,a.gridlocalization):te.jqx.dataFormat.isNumber(o)&&(o=te.jqx.dataFormat.formatnumber(o,n.cellsformat,a.gridlocalization))),t+="<tr><td>"+o+"</td></tr>"}}return t+="</table>"}(l.bounddata);d!=this._scrollelementcontent&&(this._scrollelement[0].innerHTML=d,this._scrollelementcontent=d)}return this._scrollelement.css("visibility","visible"),this._scrollelementoverlay.css("visibility","visible"),this._scrollelement.css("margin-top",-this._scrollelement.height()/2),void(this._scrolltimer=setInterval(function(){a.hScrollInstance.isScrolling()||a.vScrollInstance.isScrolling()||(r(),a._scrollelement.css("visibility","hidden"),a._scrollelementoverlay.css("visibility","hidden"),clearInterval(a._scrolltimer),l&&a.ensurerowvisible(l.visibleindex))},100))}if(navigator&&-1==navigator.userAgent.indexOf("Chrome")&&-1!=navigator.userAgent.indexOf("Safari")&&(this._updatedelay=1),null!=this.touchDevice&&1==this.touchDevice&&(this._updatedelay=5),((o=null==this._browser?this._isIE10():this._browser)||n)&&(this._updatedelay=5),o&&this.hScrollInstance.isScrolling())return void r();if(te.jqx.browser.mozilla&&0==this._updatedelay&&(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())&&(this._updatedelay=0),this.isTouchDevice()&&(this._updatedelay=0),null!=this.updatedelay&&(this._updatedelay=this.updatedelay),0==this._updatedelay)r();else{var h=this._jqxgridrendertimer;null!=h&&clearTimeout(h),this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()?(this._updatedelay?h=setTimeout(function(){r()},this._updatedelay):(h=null,r()),this._jqxgridrendertimer=h):(this._jqxgridrendertimer=h,r())}}if(a.autorowheight&&!a.autoheight&&0<this._pageviews.length){var c=this._gettableheight(),u=this._pageviews[0].height;if(c<u)if(this.pageable&&this.gotopage&&(u=this._pageviews[0].height)<0&&(u=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(u<=c||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),0<u-c){if("deferred"!=this.scrollmode){var p=u-c,m=this.vScrollInstance.max;if(this.vScrollBar.jqxScrollBar({max:p}),Math.round(p)!=Math.round(m))p<this.vScrollBar.jqxScrollBar("value")&&this.vScrollBar.jqxScrollBar({value:0})}}else this.vScrollBar.jqxScrollBar({value:0,max:u});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.virtualsizeinfo&&(this.virtualsizeinfo.virtualheight=u)}},scrolling:function(){return{vertical:this.vScrollInstance.isScrolling(),horizontal:this.hScrollInstance.isScrolling()}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value;"hidden"===this.hScrollBar.css("visibility")&&(t=e.value=0);var i=parseInt(t);if(null!=this.table){var s=this.table[0].rows.length,r=this.columnsrow,n=this.groupable&&0<this.groups.length?this.groups.length:0,o=this.columns.records.length-n,a=this.columns.records,l=0==this.dataview.rows.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),l&&!this._haspinned){for(var d=0;d<s;d++)for(var h=this.table[0].rows[d],c=0;c<n+o;c++){if(null!=(u=h.cells[c]))if(a[c].pinned)if(u.style.marginLeft=i+"px",0==d)r[0].cells[c].style.marginLeft=i+"px"}this.table[0].style.marginLeft=-i+"px",r[0].style.marginLeft=-i+"px"}else if(this._haspinned||null==this._haspinned){for(d=0;d<s;d++)for(h=this.table[0].rows[d],c=0;c<n+o;c++){var u;if(null!=(u=h.cells[c]))if(a[c].pinned){if(0==i&&""==u.style.marginLeft)continue;var p=null,m=null,f=null;if(this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(f=this.addnewrowtop[0].cells[c]),this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(m=this.filterrow[0].cells[c]),this.showaggregates&&this.statusbar[0].cells&&(p=this.statusbar[0].cells[c]),this.rtl){if(u.style.marginLeft=-parseInt(t)+"px",0==d)r[0].cells[c].style.marginLeft=-parseInt(t)+"px",p&&(p.style.marginLeft=-parseInt(t)+"px"),m&&(m.style.marginLeft=-parseInt(t)+"px"),f&&(f.style.marginLeft=-parseInt(t)+"px")}else if(u.style.marginLeft=i+"px",0==d)r[0].cells[c].style.marginLeft=i+"px",p&&(p.style.marginLeft=i+"px"),m&&(m.style.marginLeft=i+"px"),f&&(f.style.marginLeft=i+"px")}}this.table[0].style.marginLeft=-i+"px",r[0].style.marginLeft=-i+"px"}else 0==this._haspinned&&(this.table[0].style.marginLeft=-i+"px",r[0].style.marginLeft=-i+"px");if(this.showaggregates&&this.statusbar[0].cells){var g=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")&&(g=2+parseInt(this.hScrollBar.css("left"))),this.statusbar[0].style.marginLeft=-i+g+"px"}this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(this.filterrow[0].style.marginLeft=-i+"px"),this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(this.addnewrowtop[0].style.marginLeft=-i+"px")}},_updaterowdetailsvisibility:function(){if(this.rowdetails)for(var e=0;e<this._rowdetailselementscache.length;e++)te(this._rowdetailselementscache[e]).css("display","none")},_getvisualcolumnsindexes:function(e,t,i,s,r,n){if(this.rowdetails||this.rtl||this.editcell||this.width&&0<=this.width.toString().indexOf("%")||this.exporting)return{start:0,end:i+s};var o=0,a=-1,l=i+s,d=!1;if(this.autorowheight)return{start:0,end:i+s};if(!r)for(var h=0;h<i+s;h++){if(d||this.columns.records[h].pinned&&n&&(d=!0),this.columns.records[h].hidden||(o+=this.columns.records[h].width),e<=o&&-1==a&&(a=h),t+e<o){l=h;break}}return i+s<++l&&(l=i+s),(-1==a||d)&&(a=0),{start:a,end:l}},_getvirtualcolumnsindexes:function(e,t,i,s,r){if(this.rtl||this.editcell||this.exporting)return{start:0,end:i+s};var n=0,o=-1,a=i+s;if(this.autorowheight)return{start:0,end:i+s};if(!r)for(var l=0;l<i+s;l++){if(this.columns.records[l].hidden||(n+=this.columns.records[l].width),e<=n&&-1==o&&(o=l),t+e<n){a=l;break}}return i+s<++a&&(a=i+s),-1==o&&(o=0),{start:o,end:a}},_getfirstvisualrow:function(){var e=this.vScrollInstance.value,t=parseInt(e);if(0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"visible"!=this.vScrollBar[0].style.visibility&&(t=0),!this.pageable){var i=this._findvisiblerow(t,this._pageviews);if(-1==i)return null;i!=this.dataview.pagenum?(this.dataview.pagenum=i,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var s=this._findvisiblerow(t,this._pagescache[this.dataview.pagenum]),r=this._pagescache[this.dataview.pagenum];if(r&&r[0])return r[s]},_rendervisualrows:function(){if(this.virtualsizeinfo){var e=this.vScrollInstance,t=this.hScrollInstance,i=e.value,s=t.value,r=parseInt(i),n=parseInt(s),o=this._gettableheight(),a=null!=this._hostwidth?this._hostwidth:this.host.width();"visible"==this.hScrollBar[0].style.visibility&&(o+=29),"deferred"==this.scrollmode&&0!=this._newmax&&r>this._newmax&&null!=this._newmax&&(r=this._newmax);var l=e.isScrolling()||t.isScrolling()||this._keydown,d=this.groupable&&0<this.groups.length;if(this.visiblerows=new Array,this.hittestinfo=new Array,this.editcell&&null==this.editrow&&this._hidecelleditor(!1),null!=this.editrow&&this._hideeditors(),this.virtualmode&&!this.pageable&&(this._pagescache=new Array),0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"hidden"==this.vScrollBar[0].style.visibility&&(r=0),!this.pageable){var h=this._findvisiblerow(r,this._pageviews);if(-1==h)return this._clearvisualrows(),this._renderemptyrow(),void this._updaterowdetailsvisibility();h!=this.dataview.pagenum?(this.dataview.pagenum=h,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var c=this.groupable&&0<this.groups.length?this.groups.length:0;if(this.columns.records){var u=this.columns.records.length-c,p=this._findvisiblerow(r,this._pagescache[this.dataview.pagenum]),m=this._pagescache[this.dataview.pagenum],f=p;f<0&&(f=0);var g=0,v=0,x=0,w=0,y=this.virtualsizeinfo.visiblerecords,b=this.groupable?this.groups.length:0,_=this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");this.rtl&&(_+=" "+this.toTP("jqx-grid-cell-rtl")),(this.autoheight||this.autorowheight)&&this.pageable&&(!this.groupable||this.groupable&&0===this.groups.length)&&(y=this.dataview.pagesize),d&&(_=" "+this.toTP("jqx-grid-group-cell")),this.isTouchDevice()&&(_+=" "+this.toTP("jqx-touch")),this.autorowheight&&(_+=" jqx-grid-cell-wrap");var j=this.rowsheight,q=this._rendercell,T=this._getvisualcolumnsindexes(n,a,c,u,d,!0),C=T.start,S=T.end,k=this._getvirtualcolumnsindexes(n,a,c,u,d),I=k.start,D=k.end;te.jqx.browser.msie&&te.jqx.browser.version;if((this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews[0]&&(this._oldpageviewheight=this._pageviews[0].height),this.autorowheight&&(f=0),0<=f){this._updaterowdetailsvisibility(),this._startboundindex=null!=m?m[f].bounddata.boundindex:0,this._startvisibleindex=null!=m?m[f].bounddata.visibleindex:0;var P=this.table[0].rows;if(10<this.columns.records.length&&this.enablecolumnsvirtualization)for(var A=function(e){return!(!e.parentNode||"#document-fragment"==e.parentNode.nodeName)},M=0;M<P.length;M++){for(var B=P[M],H=0;H<I;H++){var z=H;if(!this.columns.records[z].pinned&&null!=this.columns.records[z].datafield){A(O=B.cells[z])&&O.parentNode.removeChild(O);var E=this.columns.records[z].element;this.columns.records[z]._rendered=!1,A(E)&&this.columnsrow[0].removeChild(E),this.filterrow&&A(this.filterrow[0].cells[z])&&this.columns.records[z].filterable&&this.filterrow[0].cells[z].parentNode.removeChild(this.filterrow[0].cells[z])}}for(H=D;H<this.columns.records.length;H++){z=H;if(!this.columns.records[z].pinned&&null!=this.columns.records[z].datafield){A(O=B.cells[z])&&O.parentNode.removeChild(O);E=this.columns.records[z].element;this.columns.records[z]._rendered=!1,A(E)&&this.columnsrow[0].removeChild(E),this.filterrow&&A(this.filterrow[0].cells[z])&&this.columns.records[z].filterable&&this.filterrow[0].cells[z].parentNode.removeChild(this.filterrow[0].cells[z])}}for(H=I;H<D;H++){var O;z=H;A(O=B.cells[z])||B.appendChild(O);E=this.columns.records[z].element;this.columns.records[z]._rendered=!0,A(E)||this.columnsrow[0].appendChild(E),this.filterrow&&!A(this.filterrow[0].cells[z])&&this.columns.records[z].filterable&&this.filterrow[0].firstChild.appendChild(this.filterrow[0].cells[z])}}for(var N=0;N<y&&v<y;N++){var L=null!=m?m[f+N]:null;if(this.virtualmode&&N>=this.source.totalrecords&&(L=null),null==L){if(f=-N,this._pagescache[this.dataview.pagenum+1])m=this._pagescache[this.dataview.pagenum+1],this.dataview.pagenum++;else{var R=this._pageviews.length;do{if(!(this.dataview.pagenum<this._pageviews.length-1)){m=void 0;break}this.dataview.pagenum++,m=void 0,0<this._pageviews[this.dataview.pagenum].height&&(this.dataview.updateview(),this._loadrows(),m=this._pagescache[this.dataview.pagenum])}while(null==m&&this.dataview.pagenum<R)}null!=m&&(L=m[f+N])}if(null!=L){if(L.hidden)continue;if(this._endboundindex=this._startboundindex+N,this._endvisibleindex=this._startvisibleindex+N,0==N){var F=Math.abs(r-L.top);this.table[0].style.top=-F+"px",w=-F}if(!(B=this.table[0].rows[v]))continue;parseInt(B.style.height)!=L.height&&(B.style.height=parseInt(L.height)+"px"),x+=L.height;var W=this.rowdetails&&L.rowdetails,V=!L.rowdetailshidden;W&&V&&(B.style.height=parseInt(L.height-L.rowdetailsheight)+"px",y++);var G=this._isrowselected(!0,L);for(H=C;H<S;H++){z=H;this._rendervisualcell(q,_,G,W,V,d,b,B,L,z,v,l)}if(null!=L.group&&this._rendergroup&&this._rendergroup(b,B,L,c,u,v,a),this.autorowheight&&(this.autoheight||this.pageable)){for(j=this.rowsheight,H=C;H<S;H++)this.editable&&this.editcell&&this.editcell.column==this.columns.records[H].datafield&&this.editcell.row==this.getboundindex(L)&&this.editcell.editor?j=Math.max(j,this.editcell.editor.height()):B.cells[H].firstChild&&(j=Math.max(j,8+parseInt(B.cells[H].firstChild.offsetHeight)));B.style.height=parseInt(j)+"px",this.heights[this._startboundindex+N]=j,W&&V&&(j+=L.rowdetailsheight),L.height=j}if(this.visiblerows[this.visiblerows.length]=L,this.hittestinfo[this.hittestinfo.length]={row:L,visualrow:B,details:!1},W&&V){v++;B=this.table[0].rows[v];this._renderrowdetails(_,B,L,c,u,v),this.visiblerows[this.visiblerows.length]=L,this.hittestinfo[this.hittestinfo.length]={row:L,visualrow:B,details:!0}}if(!this.autorowheight&&o<=x+w)break}else cansetheight=!0,this._clearvisualrow(n,d,v,c,u),x+g+w<=o&&(g+=j);v++}if(this._horizontalvalue=n,0<g&&"visible"==this.vScrollBar[0].style.visibility){parseInt(this.table.css("top"));var U=this._pageviews[this._pageviews.length-1],Y=e.max,K=U.top+U.height-o;"visible"==this.hScrollBar.css("visibility")&&(K+=this.scrollbarsize+20),Y==K||this.autorowheight||0<=K&&("deferred"!=this.scrollmode?(e.max=K,e.setPosition(e.max)):this._newmax!=K&&(this._newmax=K,this._rendervisualrows()))}}if((this.autoheight||this.pageable)&&this.autorowheight){this._pagescache=new Array;var X=0,$=0;for(M=0;M<this.visiblerows.length;M++){var Z=this.visiblerows[M];Z.top=X,X+=Z.height,$+=Z.height;W=this.rowdetails&&Z.rowdetails,V=!Z.rowdetailshidden,B=this.table[0].rows[M];W&&V&&M++;for(H=C;H<S;H++){var J=this.columns.records[H];if(!J.hidden&&!J.cellsrenderer){var Q=B.cells[H],ee=0;if(Q.firstChild){ee=(Z.height-parseInt(Q.firstChild.offsetHeight)-8)/2;if(W&&V)ee=(Z.height-Z.rowdetailsheight-te(Q.firstChild).height()-8)/2}else ee=(Z.height-parseInt(te(Q).height())-8)/2;if(0<=ee&&(ee=parseInt(ee)+4,Q.firstChild&&-1==Q.firstChild.className.indexOf("jqx-grid-groups-row")&&"checkbox"!=J.columntype&&"button"!=J.columntype)){if(this.editable&&this.editcell&&this.editcell.column==J.datafield&&this.editcell.row==this.getboundindex(Z))continue;Q.firstChild.style.marginTop=ee+"px"}}}}this._pageviews[0]&&(this._pageviews[0].height=$),this._arrange()}if(this._renderemptyrow(),this.toCompile&&0<this.toCompile.length){te.each(this.toCompile,function(e,t){if(this.compiled)return!0;var i=this.cell;if(!i)return!0;te.jqx.angularCompile&&te.jqx.angularCompile(i,"<div>"+this.value+"</div>"),this.compiled=!0})}}}},_hideemptyrow:function(){if(this.showemptyrow&&this.table&&this.table[0].rows){var e=this.table[0].rows[0];if(e)for(var t=!1,i=0;i<e.cells.length;i++){var s=te(e.cells[i]);"none"==s.css("display")||t||s.width()!=this.host.width()&&s.text()!=this.gridlocalization.emptydatastring||(s[0].checkbox=null,t=!(s[0].button=null),s[0].innerHTML="")}}},_renderemptyrow:function(){if(!this._loading&&0==this.dataview.records.length&&this.showemptyrow){var e=!1,t=this.toTP("jqx-grid-cell");if(this.table&&0<this.table.length&&this.table[0].rows&&0<this.table[0].rows.length){var i=this.table[0].rows[0];this.table[0].style.top="0px";for(var s=0;s<i.cells.length;s++){var r=te(i.cells[s]);if("none"!=r.css("display")&&!e){r[0].checkbox=null,r[0].button=null,r[0].className=t,e=!0,r[0].innerHTML="";var n=te("<span style='white-space: nowrap; float: left; margin-left: 50%; position: relative;'></span>");n.text(this.gridlocalization.emptydatastring),r.append(n);var o=0;this.oldhscroll||(o=parseInt(this.table[0].style.marginLeft),this.rtl&&(r.css("z-index",999),r.css("overflow","visible"))),n.css("left",-o-n.width()/2),n.css("top",this._gettableheight()/2-n.height()/2),te.jqx.browser.msie&&te.jqx.browser.version<8&&(n.css("margin-left","0px"),n.css("left",this.host.width()/2-n.width()/2));var a=Math.abs(parseInt(this.table[0].style.top));isNaN(a)&&(a=0),te(i).height(this._gettableheight()+a),r.css("margin-left","0px"),r.width(this.host.width()),this.table.width()<this.host.width()&&this.table.width(this.host.width())}r.addClass(this.toThemeProperty("jqx-grid-empty-cell"))}}}},_clearvisualrows:function(){var e=this.virtualsizeinfo.visiblerecords,t=this.hScrollInstance.value,i=parseInt(t),s=this.groupable&&0<this.groups.length;if(this.columns.records)for(var r=0;r<e;r++)this._clearvisualrow(i,s,r,0,this.columns.records.length)},_iscellselected:function(e,t,i){var s=!1,r=0;if(this.virtualmode&&this.pageable&&this.groupable&&0<this.groups.length&&(r=this.dataview.pagesize*this.dataview.pagenum),0<this.groups.length&&this.pageable&&this.groupable){var n=this.getrowboundindexbyid(t.bounddata.uid);if(-1!=n){for(var o in this.selectedcells)o==n+"_"+i&&(s=!0);return s}return!1}if(e&&null!=t.bounddata)if("singlerow"!=this.selectionmode){if(0<this.dataview.filters.length)if(this.virtualmode||null==t.bounddata.dataindex)for(var o in this.selectedcells)o==r+t.bounddata.boundindex+"_"+i&&(s=!0);else for(var o in this.selectedcells)o==r+t.bounddata.dataindex+"_"+i&&(s=!0);else for(var o in this.selectedcells)if(o==r+t.bounddata.boundindex+"_"+i){s=!0;break}}else if(0<this.dataview.filters.length){if(this.virtualmode||null==t.bounddata.dataindex){for(var o in this.selectedcells)if(o==r+t.bounddata.boundindex+"_"+i){s=!0;break}}else for(var o in this.selectedcells)if(o==r+t.bounddata.dataindex+"_"+i){s=!0;break}}else for(var o in this.selectedcells)if(o==r+t.bounddata.boundindex==this.selectedrowindex){s=!0;break}return s},_isrowselected:function(e,t){var i=!1,s=0;if(this.virtualmode&&this.pageable&&this.groupable&&0<this.groups.length&&(s=this.dataview.pagesize*this.dataview.pagenum),this.groupable&&0<this.groups.length&&this.pageable){var r=this.getrowboundindexbyid(t.bounddata.uid);return null!=r&&-1!=r&&(-1!=this.selectedrowindexes.indexOf(r)&&(i=!0),i||(i=r==this.selectedrowindex&&-1!=this.selectedrowindex),i)}return e&&null!=t.bounddata&&("singlerow"!=this.selectionmode?0<this.dataview.filters.length?this.virtualmode||null==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(s+t.bounddata.boundindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(s+t.bounddata.dataindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(s+t.bounddata.boundindex)&&(i=!0):0<this.dataview.filters.length?this.virtualmode||null==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(s+t.bounddata.boundindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(s+t.bounddata.dataindex)&&(i=!0):s+t.bounddata.boundindex==this.selectedrowindex&&(i=!0)),i},_rendervisualcell:function(e,t,i,s,r,n,o,a,l,d,h,c){var u=this.columns.records[d];if(u.hidden){(p=a.cells[d]).innerHTML=""}else{cellvalue=this._getcellvalue(u,l);var p=a.cells[d],m=t;if(-1!=this.selectionmode.indexOf("cell")&&(i=0<this.dataview.filters.length?!!this.selectedcells[l.bounddata.dataindex+"_"+u.datafield]:!!this.selectedcells[l.boundindex+"_"+u.datafield],this.editcell&&this.editcell.row===l.boundindex&&this.editcell.column===u.datafield&&"checkbox"!==u.columntype&&(i=!1),(this.virtualmode||this.groupable&&0<this.groups.length&&this.pageable)&&(i=this._iscellselected(!0,l,u.datafield))),""!=u.cellclassname&&u.cellclassname)if("string"==typeof u.cellclassname)m+=" "+u.cellclassname;else{var f=u.cellclassname(this.getboundindex(l),u.datafield,cellvalue,l.bounddata);f&&(m+=" "+f)}var g=this.showsortcolumnbackground&&this.sortcolumn&&u.displayfield==this.sortcolumn;if(g&&(m+=" "+this.toTP("jqx-grid-cell-sort")),u.filter&&this.showfiltercolumnbackground&&(m+=" "+this.toTP("jqx-grid-cell-filter")),l.bounddata.totalsrow&&(m+=" "+this.toTP("jqx-grid-cell-pinned")),(u.pinned&&this.showpinnedcolumnbackground||u.grouped)&&(n&&l.bounddata.totalsrow||(m+=" "+this.toTP("jqx-grid-cell-pinned"))),this.altrows&&null==l.group){var v=l.visibleindex;v>=this.altstart&&(this.altstart+v)%(1+this.altstep)==0&&(m+=g?" "+this.toTP("jqx-grid-cell-sort-alt"):" "+this.toTP("jqx-grid-cell-alt"),u.filter&&this.showfiltercolumnbackground&&(m+=" "+this.toTP("jqx-grid-cell-filter-alt")),u.pinned&&this.showpinnedcolumnbackground&&(m+=" "+this.toTP("jqx-grid-cell-pinned-alt")))}if(d<=o){if(n||this.rowdetails||this.pageable&&this.virtualmode){var x=te(p),w=this.columns.records[d].width;p.style.width!=parseInt(w)+"px"&&x.width(w)}}else if((n||this.rowdetails)&&this._hiddencolumns){x=te(p),w=this.columns.records[d].width;parseInt(p.style.width)!=w&&x.width(w)}var y=!0;if(this.rowdetails&&s&&(r&&!n?m+=" "+this.toTP("jqx-grid-details-cell"):n&&(m+=" "+this.toTP("jqx-grid-group-details-cell")),this.showrowdetailscolumn))if(this.rtl){if(null==l.group&&d==a.cells.length-o-1){b=this.toThemeProperty("jqx-icon-arrow-down");if(r)m+=" "+this.toTP("jqx-grid-group-expand-rtl"),m+=" "+b;else m+=" "+this.toTP("jqx-grid-group-collapse-rtl"),m+=" "+(b=this.toThemeProperty("jqx-icon-arrow-left"));return y=!1,p.title="",p.innerHTML="",void(p.className!=m&&(p.className=m))}}else if(null==l.group&&d==o&&!l.bounddata.totalsrow){var b=this.toThemeProperty("jqx-icon-arrow-down");if(r)m+=" "+this.toTP("jqx-grid-group-expand"),m+=" "+b;else m+=" "+this.toTP("jqx-grid-group-collapse"),m+=" "+(b=this.toThemeProperty("jqx-icon-arrow-right"));return y=!1,p.title="",p.innerHTML="",void(p.className!=m&&(p.className=m))}if(i&&y&&o<=d&&(m+=" "+this.toTP("jqx-grid-cell-selected"),m+=" "+this.toTP("jqx-fill-state-pressed")),p.className!=m&&(p.className=m),null!=l.group)return cellvalue="",p.title="",void(p.innerHTML="");e(this,u,l,cellvalue,p,c)}},_rendercell:function(e,t,i,s,r,n){var o=s+"_"+t.visibleindex;if("number"==t.columntype||null!=t.cellsrenderer)o=i.uniqueid+"_"+t.visibleindex;if("number"==t.columntype&&(s=i.visibleindex),e.editcell&&null==e.editrow)if("selectedrow"==e.editmode&&t.editable&&e.editable){if(e.editcell.row==e.getboundindex(i)&&e._showcelleditor)return void(e.hScrollInstance.isScrolling()||e.vScrollInstance.isScrolling()?e._showcelleditor(e.editcell.row,t,r,!1,!1):e._showcelleditor(e.editcell.row,t,r,e.editcell.init))}else if(e.editcell.row==e.getboundindex(i)&&e.editcell.column==t.datafield&&(e.editcell.element=r,e.editcell.editing&&e._showcelleditor))return void(e.hScrollInstance.isScrolling()||e.vScrollInstance.isScrolling()?e._showcelleditor(e.editcell.row,t,e.editcell.element,e.editcell.init,!1):e._showcelleditor(e.editcell.row,t,e.editcell.element,e.editcell.init));var a=e._defaultcellsrenderer(s,t),l=e._cellscache[o];if(!l){if("checkbox"==t.columntype)return e._rendercheckboxcell(e,r,t,i,s),e._cellscache[o]={element:"",title:s},void(e.enabletooltips&&t.enabletooltips&&(r.title=""+s));if("button"==t.columntype)return null!=t.cellsrenderer&&(s=t.cellsrenderer(e.getboundindex(i),t.datafield,s,a,t.getcolumnproperties(),i.bounddata)),e._renderbuttoncell(e,r,t,i,s),e._cellscache[o]={element:"",title:s},void(e.enabletooltips&&t.enabletooltips&&(r.title=""+s));if("number"==t.columntype&&(s=i.visibleindex),t.createwidget)return null!=t.cellsrenderer&&(s=t.cellsrenderer(e.getboundindex(i),t.datafield,s,a,t.getcolumnproperties(),i.bounddata)),e._renderwidgetcell(e,r,t,i,s),e._cellscache[o]={element:"",title:s},void(e.enabletooltips&&t.enabletooltips&&(r.title=s));p=null;if(null!=t.cellsrenderer){if((p=t.cellsrenderer(e.getboundindex(i),t.datafield,s,a,t.getcolumnproperties(),i.bounddata))&&(0<=p.indexOf("<jqx-")||0<=p.indexOf(" ng-")))return void(e.toCompile&&e.toCompile.push({cell:r,value:p,row:e.getboundindex(i)}))}else p=a;null==p&&(p=a);var d=s;if(e.enabletooltips&&t.enabletooltips&&(""!=t.cellsformat&&te.jqx.dataFormat&&(te.jqx.dataFormat.isDate(s)?d=te.jqx.dataFormat.formatdate(d,t.cellsformat,e.gridlocalization):te.jqx.dataFormat.isNumber(s)&&(d=te.jqx.dataFormat.formatnumber(d,t.cellsformat,e.gridlocalization))),r.title=d),e.WinJS)te(r).html(p);else{var h=r.innerHTML;if(0<=h.indexOf("editor")||null!=t.cellsrenderer||e.groupable||e.virtualmode)r.innerHTML=p;else if(0<h.length){m=p.indexOf(">"),f=p.indexOf("</"),g=p.substring(m+1,f),v=r.childNodes[0];if(0<=g.indexOf(">"))r.innerHTML=p;else if(v.childNodes[0])g!=v.childNodes[0].nodeValue&&(0<=g.indexOf("&")||0<=h.indexOf("span")?r.innerHTML=p:v.childNodes[0].nodeValue=g);else{x=document.createTextNode(g);v.appendChild(x)}}else h!=p&&(r.innerHTML=p)}return e._cellscache[o]={element:r.innerHTML,title:d},!0}if("checkbox"==t.columntype){if(e.host.jqxCheckBox){""===s&&(s=null);var c=0==r.innerHTML.toString().length;if(!r.checkbox||e.groupable||c?e._rendercheckboxcell(e,r,t,i,s):(r.checkboxrow=e.getboundindex(i),""==s&&(s=!1),"1"==s&&(s=!0),"0"==s&&(s=!1),1==s&&(s=!0),0==s&&(s=!1),"true"==s&&(s=!0),"false"==s&&(s=!1),null!=s||t.threestatecheckbox||(s=!1),t.checkboxcolumn&&(s=!1,0<e.dataview.filters.length&&!e.virtualmode&&null!=i.bounddata.dataindex?-1!=e.selectedrowindexes.indexOf(i.bounddata.dataindex)&&(s=!0):-1!=e.selectedrowindexes.indexOf(i.bounddata.boundindex)&&(s=!0)),e.disabled||(r.checkboxinstance?r.checkboxinstance._setState(s):r.checkbox.jqxCheckBox("_setState",s))),null!=t.cellsrenderer){var u=t.cellsrenderer(e.getboundindex(i),t.datafield,s,a,t.getcolumnproperties(),i.bounddata);null!=u&&(r.innerHTML=u)}return}}else if("button"==t.columntype&&e.host.jqxButton)return""==s&&(s=!1),null!=t.cellsrenderer&&(s=t.cellsrenderer(e.getboundindex(i),t.datafield,s,a,t.getcolumnproperties(),i.bounddata)),""==r.innerHTML&&(r.buttonrow=e.getboundindex(i),r.button=null,e._renderbuttoncell(e,r,t,i,s)),void(r.button&&!e.groupable?(r.buttonrow=e.getboundindex(i),r.button.val(s)):e._renderbuttoncell(e,r,t,i,s));if(t.createwidget)if(""==r.innerHTML&&(r.widgetrow=e.getboundindex(i),r.widget=null,e._renderwidgetcell(e,r,t,i,s)),r.widget&&!e.groupable){if(r.widgetrow=e.getboundindex(i),!t.initwidget)throw new Error("jqxGrid: 'initwidget' column function is not implemented. Please, implement 'initwidget'");t.initwidget(e.getboundindex(i),t.datafield,s,r.firstChild)}else e._renderwidgetcell(e,r,t,i,s);else{var p=l.element;if(null!=t.cellsrenderer||r.childNodes&&0==r.childNodes.length||e.groupable||e.rowdetails)r.innerHTML!=p&&(r.innerHTML=p);else if(0<=r.innerHTML.indexOf("editor"))r.innerHTML=p;else if(n){var m=p.indexOf(">"),f=p.indexOf("</"),g=p.substring(m+1,f),v=r.childNodes[0];if(0<=g.indexOf(">"))r.innerHTML=p;else if(v.childNodes[0])g!=v.childNodes[0].nodeValue&&(0<=g.indexOf("&")?r.innerHTML=p:v.childNodes[0].nodeValue=g);else{var x=document.createTextNode(g);v.appendChild(x)}}else r.innerHTML!=p&&(r.innerHTML=p);e.enabletooltips&&t.enabletooltips&&(r.title=l.title)}},_isIE10:function(){if(null==this._browser){var e=te.jqx.utilities.getBrowser();if("msie"==e.browser&&9<parseInt(e.version))this._browser=!0;else if(this._browser=!1,"msie"==e.browser){var t="Browser CodeName: "+navigator.appCodeName;t+="Browser Name: "+navigator.appName,t+="Browser Version: "+navigator.appVersion,t+="Platform: "+navigator.platform,-1!=(t+="User-agent header: "+navigator.userAgent).indexOf("Zune 4.7")&&(this._browser=!0)}}return this._browser},_renderinlinecell:function(e,t,i,s,r){te(t);t.innerHTML='<div style="position: absolute;"></div>'},_rendercheckboxcell:function(d,h,c,e,t){if(d.host.jqxCheckBox){var i=te(h);if(""===t&&(t=!!c.threestatecheckbox&&null),null!==t||c.threestatecheckbox||(t=!1),"1"==t&&(t=!0),"0"==t&&(t=!1),1==t&&(t=!0),0==t&&(t=!1),"true"==t&&(t=!0),"false"==t&&(t=!1),c.checkboxcolumn){t=!1;var s=this.getboundindex(e);-1!=this.selectedrowindexes.indexOf(s)&&(t=!0)}if(0==i.find(".jqx-checkbox").length)h.innerHTML='<div style="position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>',te(h.firstChild).jqxCheckBox({disabled:d.disabled,_canFocus:!1,hasInput:!1,hasThreeStates:c.threestatecheckbox,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,locked:!0,theme:d.theme,checked:t}),this.enabletooltips&&c.enabletooltips&&(h.title=""+t),this.editable&&c.editable&&te(h.firstChild).jqxCheckBox({locked:!1}),c.checkboxcolumn&&te(h.firstChild).jqxCheckBox({locked:!1}),h.checkbox=te(h.firstChild),h.checkboxinstance=h.checkbox.data().jqxCheckBox.instance,h.checkboxrow=this.getboundindex(e),te.data(h.firstChild,"jqxCheckBox").instance.updated=function(e,t,i){if(d.disabled){t=i;for(var s=d.table[0].rows.length,r=d._getcolumnindex(c.datafield),n=0;n<s;n++){(a=d.table[0].rows[n].cells[r].firstChild)&&te(a).jqxCheckBox({disabled:d.disabled})}}if(c.editable&&!d.disabled){s=d.table[0].rows.length,r=d._getcolumnindex(c.datafield);if(null==d.editrow){if(c.cellbeginedit)if(0==c.cellbeginedit(h.checkboxrow,c.datafield,c.columntype,!t))return void d.setcellvalue(h.checkboxrow,c.datafield,!t,!0);if(c.cellvaluechanging){var o=c.cellvaluechanging(h.checkboxrow,c.datafield,c.columntype,i,t);null!=o&&(t=o)}if("selectedrow"!==d.editmode)for(n=0;n<s;n++){var a;(a=d.table[0].rows[n].cells[r].firstChild)&&te(a).jqxCheckBox("destroy")}if(d.editcell&&0==d.editcell.validated)d.setcellvalue(h.checkboxrow,c.datafield,!t,!0);else if("selectedrow"!==d.editmode||null==d.editcell){var l=d.getrowdata(h.checkboxrow);d._raiseEvent(17,{rowindex:h.checkboxrow,row:l,datafield:c.datafield,value:i,columntype:c.columntype}),d.setcellvalue(h.checkboxrow,c.datafield,t,!0),d._raiseEvent(18,{rowindex:h.checkboxrow,row:l,datafield:c.datafield,oldvalue:i,value:t,columntype:c.columntype})}else d.setcellvalue(h.checkboxrow,c.datafield,t,!1,!1);c.cellendedit&&c.cellendedit(h.checkboxrow,c.datafield,c.columntype,t)}}else c.checkboxcolumn&&(d.editcell&&d.endcelledit(d.editcell.row,d.editcell.column,!1,!0),d.disabled||(t?d.selectrow(h.checkboxrow):d.unselectrow(h.checkboxrow),d.autosavestate&&d.savestate&&d.savestate()))};else h.checkboxrow=this.getboundindex(e),te(h.firstChild).jqxCheckBox("_setState",t,!(this.editable&&c.editable||c.checkboxcolumn))}},_renderwidgetcell:function(e,t,i,s,r){if(0==te(t).find(".jqx-grid-widget").length){t.innerHTML='<div class="jqx-grid-widget" style="opacity: 0.99; position: absolute; width: 100%; height:100%; top: 0%; left: 0%; padding: 0px;"></div>',i.createwidget(s,i.datafield,r,t.firstChild),te(t.firstChild).attr("hideFocus","true"),te(t.firstChild).children().addClass("jqx-grid-widget"),t.widget=te(t.firstChild),t.widgetrow=e.getboundindex(s)}else i.initwidget(e.getboundindex(s),i.datafield,r,t.firstChild),t.widgetrow=e.getboundindex(s),te(t.firstChild).val(r)},_renderbuttoncell:function(e,t,i,s,r){if(e.host.jqxButton)if(""==r&&(r=!1),0==te(t).find(".jqx-button").length)if(t.innerHTML='<input type="button" style="opacity: 0.99; position: absolute; top: 0%; left: 0%; padding: 0px; margin-top: 2px; margin-left: 2px;"/>',te(t.firstChild).val(r),te(t.firstChild).attr("hideFocus","true"),te(t.firstChild).jqxButton({disabled:e.disabled,theme:e.theme,height:e.rowsheight-4,width:i.width-4}),t.button=te(t.firstChild),t.buttonrow=e.getboundindex(s),this.isTouchDevice()){var n=te.jqx.mobile.getTouchEventName("touchend");e.addHandler(te(t.firstChild),n,function(e){i.buttonclick&&i.buttonclick(t.buttonrow,e)})}else e.addHandler(te(t.firstChild),"click",function(e){i.buttonclick&&i.buttonclick(t.buttonrow,e)});else t.buttonrow=e.getboundindex(s),te(t.firstChild).val(r)},_clearvisualrow:function(e,t,i,s,r){var n=this.toTP("jqx-grid-cell");t&&(n=" "+this.toTP("jqx-grid-group-cell")),n+=" "+this.toTP("jqx-grid-cleared-cell");for(var o=this.table[0].rows,a=0;a<s+r;a++)if(o[i]){var l=o[i].cells[a];l.className!=n&&(l.className=n);var d=this.columns.records[a];if(this._horizontalvalue!=e&&!d.pinned&&1==this.oldhscroll){l.style.marginLeft=-e+"px"}var h=d.width;h<d.minwidth&&(h=d.minwidth),h>d.maxwidth&&(h=d.maxwidth),parseInt(l.style.width)!=h&&(te(l)[0].style.width="auto"!=h?h+"px":h),""!=l.title&&(l.title=""),""!=l.innerHTML&&(l.innerHTML="")}o[i]&&parseInt(o[i].style.height)!=this.rowsheight&&(o[i].style.height=parseInt(this.rowsheight)+"px")},_findgroupstate:function(e){var t=this._findgroup(e);return null!=t&&t.expanded},_findgroup:function(e){return this.expandedgroups[e]?this.expandedgroups[e]:null},_clearcaches:function(){this._columnsbydatafield=new Array,this._pagescache=new Array,this._pageviews=new Array,this._cellscache=new Array,this.heights=new Array,this.hiddens=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array,this.details=new Array,this.expandedgroups=new Array,this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,te.jqx.dataFormat&&te.jqx.dataFormat.cleardatescache(),this.tableheight=null},_getColumnText:function(e){if(null==this._columnsbydatafield&&(this._columnsbydatafield=new Array),this._columnsbydatafield[e])return this._columnsbydatafield[e];var t=e,i=null;return te.each(this.columns.records,function(){if(this.datafield==e||this.displayfield==e)return t=this.text,i=this,!1}),this._columnsbydatafield[e]={label:t,column:i},this._columnsbydatafield[e]},_getcolumnbydatafield:function(e){if(null==this.__columnsbydatafield&&(this.__columnsbydatafield=new Array),this.__columnsbydatafield[e])return this.__columnsbydatafield[e];var t=null;return te.each(this.columns.records,function(){if(this.datafield==e||this.displayfield==e)return this.text,t=this,!1}),this.__columnsbydatafield[e]=t,this.__columnsbydatafield[e]},isscrollingvertically:function(){return this.vScrollBar.jqxScrollBar("isScrolling")},_renderrowdetails:function(e,t,i,s,r,n){if(null!=t){var o=te(t),a=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(this.groupable&&0<this.groups.length)for(var l=0;l<=r;l++){var d;(d=te(t.cells[l]))[0].innerHTML="",d[0].className="jqx-grid-details-cell"}if("none"==(d=te(t.cells[0]))[0].style.display){for(var h=t.cells[0],c=2;null!=h&&"none"==h.style.display&&c<10;)h=t.cells[0+c-1],c++;d=te(h)}if(this.rtl)for(var u=s;u<r;u++)t.cells[u].innerHTML="",t.cells[u].className="jqx-grid-details-cell";d.css("width","100%"),o.height(i.rowdetailsheight),d[0].className=e;var p=this.getboundindex(i),m=p+"_";if(this._rowdetailscache[m]){var f=this._rowdetailscache[m].html;if(this.initrowdetails){if(this._rowdetailscache[m].element){var g=this._rowdetailscache[m].element,v=d.coord(),x=this.gridcontent.coord(),w=parseInt(v.top)-parseInt(x.top),y=parseInt(v.left)-parseInt(x.left);this.rtl&&(y=0),te(g).css("top",w),te(g).css("left",y),te(g).css("display","block"),te(g).width(this.host.width()-a),this.layoutrowdetails&&this.layoutrowdetails(p,g,this.element,this.getrowdata(p))}}else d[0].innerHTML=f}else{d[0].innerHTML="",this.enablerowdetailsindent||(a=0);var b='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: '+a+'px;">'+i.rowdetails+"</div>";if(this.rtl)b='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: 0px; margin-right: '+a+'px;">'+i.rowdetails+"</div>";if(this._rowdetailscache[m]={id:t.id,html:b},this.initrowdetails){g=te(b)[0];te(this.gridcontent).prepend(te(g)),te(g).css("position","absolute"),te(g).width(this.host.width()-a),te(g).height(d.height());v=d.coord();te(g).css("z-index",299),this.isTouchDevice()&&te(g).css("z-index",999),te(g).addClass(this.toThemeProperty("jqx-widget-content"));v=d.coord(),x=this.gridcontent.coord(),w=parseInt(v.top)-parseInt(x.top),y=parseInt(v.left)-parseInt(x.left);te(g).css("top",w),te(g).css("left",y),this.content[0].scrollTop=0,this.content[0].scrollLeft=0;var _=te(te(g).children()[0]);""!=_[0].id&&(_[0].id=_[0].id+p),this.initrowdetails(p,g,this.element,this.getrowdata(p)),this._rowdetailscache[m].element=g,this._rowdetailselementscache[p]=g}else d[0].innerHTML=b}}},_defaultcellsrenderer:function(e,t){""!=t.cellsformat&&te.jqx.dataFormat&&(te.jqx.dataFormat.isDate(e)?e=te.jqx.dataFormat.formatdate(e,t.cellsformat,this.gridlocalization):te.jqx.dataFormat.isNumber(e)&&(e=te.jqx.dataFormat.formatnumber(e,t.cellsformat,this.gridlocalization)));var i="6px";if(28!=this.rowsheight&&((i=this.rowsheight/2-this._cellheight/2)<0&&(i=4),i+="px"),this.enableellipsis){if("center"==t.cellsalign||"middle"==t.cellsalign)return'<div class="jqx-grid-cell-middle-align" style="margin-top: '+i+';">'+e+"</div>";if("left"==t.cellsalign)return'<div class="jqx-grid-cell-left-align" style="margin-top: '+i+';">'+e+"</div>";if("right"==t.cellsalign)return'<div class="jqx-grid-cell-right-align" style="margin-top: '+i+';">'+e+"</div>"}return"center"==t.cellsalign||"middle"==t.cellsalign?'<div style="text-align: center; margin-top: '+i+';">'+e+"</div>":'<span style="margin-left: 4px; margin-right: 2px; margin-top: '+i+"; float: "+t.cellsalign+';">'+e+"</span>"},getcelltext:function(e,t){if(null==e||null==t)return null;var i=this.getcellvalue(e,t),s=this.getcolumn(t);return s&&""!=s.cellsformat&&te.jqx.dataFormat&&(te.jqx.dataFormat.isDate(i)?i=te.jqx.dataFormat.formatdate(i,s.cellsformat,this.gridlocalization):te.jqx.dataFormat.isNumber(i)&&(i=te.jqx.dataFormat.formatnumber(i,s.cellsformat,this.gridlocalization))),i},getcelltextbyid:function(e,t){if(null==e||null==t)return null;var i=this.getcellvaluebyid(e,t),s=this.getcolumn(t);return s&&""!=s.cellsformat&&te.jqx.dataFormat&&(te.jqx.dataFormat.isDate(i)?i=te.jqx.dataFormat.formatdate(i,s.cellsformat,this.gridlocalization):te.jqx.dataFormat.isNumber(i)&&(i=te.jqx.dataFormat.formatnumber(i,s.cellsformat,this.gridlocalization))),i},_getcellvalue:function(e,t){var i=null;return i=t.bounddata[e.datafield],null!=e.displayfield&&(i=t.bounddata[e.displayfield]),null==i&&(i=""),i},getcell:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),s=e,r="";return isNaN(i)||(s=this.getrowdata(i)),null!=s&&(r=s[t]),this._getcellresult(r,e,t)},getrenderedcell:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),s=e,r="";return isNaN(i)||(s=this.getrenderedrowdata(i)),null!=s&&(r=s[t]),this._getcellresult(r,e,t)},_getcellresult:function(e,t,i){var s=this.getcolumn(i);if(null==s||null==s)return null;var r=s.getcolumnproperties(),n=r.hidden,o=r.width,a=r.pinned,l=r.cellsalign,d=r.cellsformat,h=this.getrowheight(t);return 0==h?null:{value:e,row:t,column:i,datafield:i,width:o,height:h,hidden:n,pinned:a,align:l,format:d}},setcellvaluebyid:function(e,t,i,s,r){var n=this.getrowboundindexbyid(e);return this.setcellvalue(n,t,i,s,r)},getcellvaluebyid:function(e,t){var i=this.getrowboundindexbyid(e);return this.getcellvalue(i,t)},setcellvalue:function(t,i,e,s,r){if(null==t||null==i)return!1;var n=parseInt(t),o=t;isNaN(n)||(o=this.getrowdata(n));var a=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(a=!0),this.virtualmode&&(this._pagescache=new Array),this.sortcache&&(this.sortcache={});var l="",d="";if(null==o||o[i]===e)return this._updating||0==s||this._renderrows(this.virtualsizeinfo),!1;if(null!==o[i]||""!==e){var h=this._getcolumnbydatafield(i),c="string";if(y=this.source.datafields||(this.source._source?this.source._source.datafields:null)){var u="";te.each(y,function(){if(this.name==h.displayfield)return this.type&&(u=this.type),!1}),u&&(c=u),d=o[h.displayfield]}if(l=o[i],!h.nullable||null!=e&&""!==e&&h.nullable&&void 0===e.label){if(te.jqx.dataFormat.isNumber(l)||"number"==c||"float"==c||"int"==c||"decimal"==c&&"date"!=c)this.gridlocalization&&","==this.gridlocalization.decimalseparator&&e&&e.indexOf&&0<=e.indexOf(",")&&(e=e.replace(",",".")),e=new Number(e),e=parseFloat(e),isNaN(e)&&(e=0);else if((te.jqx.dataFormat.isDate(l)||"date"==c)&&""!=e){var p=e;"Invalid Date"!=(p=new Date(p))&&null!=p?e=p:"Invalid Date"==p&&(e=p=new Date)}if(o[i]===e)return void(this._updating||0==s||this._renderrows(this.virtualsizeinfo))}var m=this.source&&this.source._source.localdata&&"observableArray"===this.source._source.localdata.name;if(o[i]=e,m){var f=this.source._source.localdata;f._updating||(f._updating=!0,f[t][i]=e,f._updating=!1)}var g=this.getrenderedrowdata(n,!0);if(g){if(null!=(g[i]=e)&&null!=e.label&&(o[(h=this._getcolumnbydatafield(i)).displayfield]=e.label,g[h.displayfield]=e.label,o[i]=e.value,g[i]=e.value,m&&!f._updating&&(f._updating=!0,f[t][i]=e.value,f[t][h.displayfield]=e.label,f._updating=!1)),a&&null!=o.dataindex&&(o.dataindex,null!=(this.dataview.cachedrecords[o.dataindex][i]=e)&&null!=e.label&&(this.dataview.cachedrecords[o.dataindex][i]=e.value,this.dataview.cachedrecords[o.dataindex][h.displayfield]=e.label)),this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var v=n;a&&null!=o.dataindex&&(v=o.dataindex);var x=this.source._source._localdata()[v];this.source.suspendKO=!0;var w=x;if(w[i]&&w[i].subscribe)null!=e&&null!=e.label?(w[h.displayfield](e.label),w[i](e.value)):w[i](e);else{var y=this.source._source.datafields,b=null;if(y&&te.each(y,function(){if(this.name==i)return b=this.map,!1}),null==b)null!=e&&null!=e.label?(w[i]=e.value,w[h.displayfield]=e.label):w[i]=e;else{var _=b.split(this.source.mapChar);if(0<_.length){for(var j=w,q=0;q<_.length-1;q++)j=j[_[q]];j[_[_.length-1]]=e}}this.source._source._localdata.replace(x,te.extend({},w))}this.source.suspendKO=!1}if(this.sortcolumn&&this.dataview.sortby&&!this._updating){var T=this.getsortinformation();this.sortcolumn==i&&(this.dataview.clearsortdata(),this.dataview.sortby(T.sortcolumn,T.sortdirection.ascending))}else this._updating||this.dataview.sortby&&this.dataview.sortcache[i]&&(this.dataview.sortcache[i]=null);if(this._cellscache=new Array,this._pagescache=new Array,this.source.updaterow&&(null==r||1==r)){var C=this.that;try{var S=this.getrowid(n);null==this.source.updaterow(S,o,function(e){0==e&&(C.setcellvalue(t,i,l,!0,!1),l!=d&&C.setcellvalue(t,C.getcolumn(i).displayfield,d,!0,!1))})&&!0}catch(e){return!1,C.setcellvalue(t,i,l,!0,!1),void(l!=d&&C.setcellvalue(t,C.getcolumn(i).displayfield,d,!0,!1))}}var k=this.vScrollInstance.value;if(this._updating&&1!=s&&(s=!1),1==s||null==s){C=this.that;var I=function(){C.pageable&&C.updatepagerdetails&&(C.updatepagerdetails(),(C.autoheight||C.autorowheight)&&C._updatepageviews())},D=this.groupable&&0<this.groups.length;a&&!D?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.refresh(),this.rendergridcontent(!0,!1),I(),this._renderrows(this.virtualsizeinfo)):this.sortcolumn&&!D?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.reloaddata(),this.rendergridcontent(!0,!1),I(),this._renderrows(this.virtualsizeinfo)):this.groupable&&0<this.groups.length?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.pageable&&-1!=this.groups.indexOf(i)?(this._pagescache=new Array,this._cellscache=new Array,this.dataview.refresh(),this._render(!0,!0,!1,!1)):(this._pagescache=new Array,this._cellscache=new Array,this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))):(this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))}if(this.vScrollInstance.setPosition(k),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this.showfilterrow&&this.filterable&&this.filterrow){var P=this.getcolumn(i).filtertype;"list"!=P&&"checkedlist"!=P||this._updatelistfilters(!0)}return this._raiseEvent(19,{rowindex:t,datafield:i,newvalue:e,value:e,oldvalue:l}),!0}}},getcellvalue:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),s=e;return isNaN(i)||(s=this.getrowdata(i)),null!=s?s[t]:null},getrows:function(){var e=this.dataview.records.length;if(this.virtualmode){for(var t=new Array,i=0;i<this.dataview.records.length;i++){var s=this.dataview.records[i];s&&t.push(s)}void 0===this.dataview.records.length&&te.each(this.dataview.records,function(){this&&t.push(this)});var r=0;return this.pageable&&(r=this.dataview.pagenum*this.dataview.pagesize),t.length>this.source._source.totalrecords-r?t.slice(0,this.source._source.totalrecords-r):t}if(this.dataview.sortdata){for(t=new Array,i=0;i<e;i++){var n;n=te.extend({},this.dataview.sortdata[i].value),t[i]=n}return t}return this.dataview.records},getrowboundindexbyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t&&t.boundindex)return this.getboundindex(t);for(var i=this.getboundrows(),s=0;s<i.length;s++)if(i[s]&&i[s].uid==e)return s;return-1},getrowdatabyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t)return t;var i=this.getrowboundindexbyid(e);return this.getboundrows()[i]},getrowdata:function(e){return null==e&&(e=0),this.virtualmode?this.dataview.records[e]:this.getboundrows()[e]},getrenderedrowdata:function(e,t){if(null==e&&(e=0),this.virtualmode){var i=this.getrowvisibleindex(e);return s=this.dataview.loadedrecords[i]}if(0<=(i=this.getrowvisibleindex(e))){if(this.groupable&&0<this.groups.length)var s=this.dataview.loadedrecords[i];else{s=this.dataview.loadedrecords[i];if(this.pageable&&(null==t||0==t))s=this.dataview.loadedrecords[this.dataview.pagesize*this.dataview.pagenum+e]}return s}return null},getboundrows:function(){return this.dataview.cachedrecords},getrowdisplayindex:function(e){for(var t=this.getdisplayrows(),i=0;i<t.length;i++)if(t[i])if(void 0!==t[i].dataindex){if(t[i].dataindex==e)return t[i].visibleindex}else if(t[i].boundindex==e)return t[i].visibleindex;return-1},getboundindex:function(e){var t=e.boundindex;return this.groupable&&0<this.groups.length&&this.pageable&&e.bounddata&&(t=this.getrowboundindexbyid(e.bounddata.uid)),0<this.dataview.filters.length&&(e.bounddata?void 0!==e.bounddata.dataindex&&(t=e.bounddata.dataindex):void 0!==e.dataindex&&(t=e.dataindex)),t},getrowboundindex:function(e){var t=this.getdisplayrows()[e];return t?void 0!==t.dataindex?t.dataindex:t.boundindex:-1},getdisplayrows:function(){return this.dataview.loadedrecords},getloadedrows:function(){return this.getdisplayrows()},getvisiblerowdata:function(e){var t=this.getvisiblerows();return t?t[e]:null},getloadedrowdata:function(e){var t=this.getloadedrows();return t?t[e]:null},getvisiblerows:function(){if(this.virtualmode)return this.dataview.loadedrecords;if(this.pageable){for(var e=[],t=0;t<this.dataview.pagesize;t++){if(null==(i=this.dataview.loadedrecords[t+this.dataview.pagesize*this.dataview.pagenum]))break;e.push(i)}return e}if(null!=this._startboundindex&&null!=this._endboundindex){for(e=[],t=this._startvisibleindex;t<=this._endvisibleindex;t++){var i;if(null==(i=this.dataview.loadedrecords[t]))break;e.push(i)}return e}return this.dataview.loadedrecords},getrowid:function(e){if(null==e&&(e=0),this.virtualmode){var t=this.getrowvisibleindex(e);if(i=this.dataview.loadedrecords[t])return i.uid}else{var i=null,s=0<this.dataview.filters.length;if(0<=e&&e<this.dataview.bounditems.length&&!s){if(this.groupable&&0<this.groups.length){t=this.getrowvisibleindex(e);var i=this.dataview.loadedrecords[t]}else t=this.getrowvisibleindex(e),i=this.dataview.loadedrecords[t];if(i)return i.uid}if(0<this.dataview.filters.length)return(i=this.getboundrows()[e])&&null!=i.uid?i.uid:null}return null},_updateGridData:function(e){var t=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(t=!0),t?(this.dataview.refresh(),"updaterow"==e?(this._render(!0,!0,!1,!1,!1),this.invalidate()):this.render()):this.sortcolumn||this.groupable&&0<this.groups.length?(this.dataview.reloaddata(),this.render()):("updaterow"===e&&(this.dataview.refresh(),this._render(!0,!0,!1,!1,!1)),this._cellscache=new Array,this._pagescache=new Array,this._renderrows(this.virtualsizeinfo)),this.showfilterrow&&this.filterable&&this.filterrow&&this._updatelistfilters(!0)},updaterow:function(t,i,d){if(null!=t&&null!=i){var s=this.that,r=!1;s._datachanged=!0;var n=function(i,e,s){if(i._loading)throw new Error("jqxGrid: "+i.loadingerrormessage);var r=!1;te.isArray(e)?(te.each(e,function(e,t){r=i.dataview.updaterow(this,s[e],!1)}),i._cellscache=new Array,i._pagescache=new Array,i.dataview.refresh()):r=i.dataview.updaterow(e,s);var t=i.vScrollInstance.value;if(null!=d&&1!=d||null!=i._updating&&0!=i._updating||i._updateGridData("updaterow"),i.showaggregates&&i._updatecolumnsaggregates&&i._updatecolumnsaggregates(),i.source&&i.source._knockoutdatasource&&!i._updateFromAdapter&&i.autokoupdates&&i.source._source._localdata){var n=i.dataview.recordsbyid["id"+e],o=i.dataview.records.indexOf(n),a=i.source._source._localdata()[o];i.source.suspendKO=!0,i.source._source._localdata.replace(a,te.extend({},n)),i.source.suspendKO=!1}if(i.source&&i.source._source.localdata&&"observableArray"===i.source._source.localdata.name&&!i.source._source.localdata._updating){i.source._source.localdata._updating=!0;var l=i.getrowboundindexbyid(e);i.source._source.localdata.set(l,s),i.source._source.localdata._updating=!1}return i.vScrollInstance.setPosition(t),r};if(this.source.updaterow){try{null==(r=this.source.updaterow(t,i,function(e){1==e||null==e?n(s,t,i):r=!1}))&&(r=!0)}catch(e){r=!1}}else r=n(s,t,i);return r}return!1},deleterow:function(t,h){if(null!=t){var i=!(this._datachanged=!0),s=this.that,c=this.getrowboundindexbyid(t),u=new Array;new Array;if(null!=c&&(0<=this.selectedrowindexes.indexOf(c)&&this.selectedrowindexes.splice(this.selectedrowindexes.indexOf(c),1),this.selectedrowindex==c&&(this.selectedrowindex=-1),!this.virtualmode))if(0<=s.selectionmode.indexOf("row"))te.each(this.selectedrowindexes,function(){var e=s.getrowid(this);u.push(e)}),this.selectedrowindexes=new Array,this.selectedrowindex=-1;else if(0<=s.selectionmode.indexOf("cell"))for(var e in s.selectedcells){var r=s.selectedcells[e],n=s.getrowid(r.rowindex);r.rowid=n}var o=function(t,e){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var i=!1,s=t.vScrollInstance.value;if(te.isArray(e))te.each(e,function(){i=t.dataview.deleterow(this,!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh();else i=t.dataview.deleterow(e);if(!t.virtualmode)if(0<=t.selectionmode.indexOf("row"))te.each(u,function(){var e=t.getrowboundindexbyid(this);-1!=e&&t.selectrow(e,!1)});else{var r=new Array;for(var n in t.selectedcells){var o=t.selectedcells[n],a=o.rowid,l=t.getrowboundindexbyid(a);-1!=l&&(r[(o.rowindex=l)+"_"+o.datafield]=o)}t.selectedcells=r}if(null!=t._updating&&0!=t._updating||null!=h&&1!=h||setTimeout(function(){t._render(!0,!0,!1,!1),"visible"!=t.vScrollBar.css("visibility")&&(t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._renderrows(t.virtualsizeinfo))}),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.pop(rowdata),t.source.suspendKO=!1),t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name&&(t.source._source.localdata._updating||(t.source._source.localdata._updating=!0,t.source._source.localdata.splice(c,1),t.source._source.localdata._updating=!1)),t.dataview.sortby){var d=t.getsortinformation();d.sortcolumn&&(t.dataview.clearsortdata(),t.dataview.sortby(d.sortcolumn,d.sortdirection?d.sortdirection.ascending:null))}return t.vScrollInstance.setPosition(s),i};if(this.source.deleterow){try{this.source.deleterow(t,function(e){1!=e&&null!=e||o(s,t)}),null==i&&(i=!0)}catch(e){i=!1}}else i=o(s,t);return i}return!1},addrow:function(i,s,r){if(null!=s){this._datachanged=!0,null==r&&(r="last");var t=!1,n=this.that;if(null==i){var o=this.dataview.filters&&0<this.dataview.filters.length?this.dataview.cachedrecords.length:this.dataview.totalrecords;if(te.isArray(s)){var a=new Array;te.each(s,function(e,t){var i=n.dataview.getid(n.dataview.source.id,s[e],o+e);a.push(i)}),i=a}else for(i=this.dataview.getid(this.dataview.source.id,s,o);null!=this.dataview.recordsbyid["id"+i];)i++}var l=function(s,r,e,n){if(s._loading)throw new Error("jqxGrid: "+s.loadingerrormessage);var t=s.vScrollInstance.value,o=!1;if(te.isArray(e)?(te.each(e,function(e,t){null!=this.dataindex&&delete this.dataindex;var i=null;null!=r&&null!=r[e]&&(i=r[e]),o=s.dataview.addrow(i,this,n,!1)}),s._cellscache=new Array,s._pagescache=new Array,s.dataview.refresh()):(null!=e&&null!=e.dataindex&&delete e.dataindex,o=s.dataview.addrow(r,e,n)),null!=s._updating&&0!=s._updating||(s._render(!0,!0,!1,!1),s.invalidate()),s.source&&s.source._knockoutdatasource&&!s._updateFromAdapter&&s.autokoupdates&&s.source._source._localdata&&(s.source.suspendKO=!0,s.source._source._localdata.push(e),s.source.suspendKO=!1),s.source&&s.source._source.localdata&&"observableArray"===s.source._source.localdata.name&&!s.source._source.localdata._updating){s.source._source.localdata._updating=!0;var i=s.getrowboundindexbyid(r);s.source._source.localdata.set(i,e),s.source._source.localdata._updating=!1}return"deferred"!=s.scrollmode?s.vScrollInstance.setPosition(t):s.vScrollInstance.setPosition(0),o};if(this.source.addrow){try{null==(t=this.source.addrow(i,s,r,function(e,t){1!=e&&null!=e||(null!=t&&(i=t),l(n,i,s,r))}))&&(t=!0)}catch(e){t=!1}if(0==t)return!1}else l(this,i,s,r);return t}return!1},_findvisiblerow:function(e,t){null==e&&(e=parseInt(this.vScrollInstance.value));var i=0;null!=t&&null!=t||(t=this.rows.records);for(var s=t.length;i<=s;){mid=parseInt((i+s)/2);var r=t[mid];if(null==r)break;if(r.top>e&&r.top+r.height>e)s=mid-1;else{if(!(r.top<e&&r.top+r.height<e))return mid;i=mid+1}}return-1},_updatecellwidths:function(){var e=this.virtualsizeinfo;if(e){var t=this.that;if(null!=t.gridcontent){null==t.table&&(t.table=t.gridcontent.find("#contenttable"+t.element.id));var i=t.groupable&&0<t.groups.length,s=0,r=e.visiblerecords;if(t.pageable&&(t.autoheight||t.autorowheight)&&(r=t.dataview.pagesize,t.groupable&&(t.dataview.updateview(),r=t.dataview.rows.length)),t.groupable||t.pageable||!t.autoheight&&!t.autorowheight||(r=t.dataview.totalrecords),t.rowdetails&&(r+=t.dataview.pagesize),t.columns.records){for(var n=t.columns.records.length,o=t.table[0].rows,a=0;a<r;a++){var l=o[a];if(!l)break;for(var d=l.cells,h=0,c=0;c<n;c++){var u=t.columns.records[c],p=u.width,m=d[c];parseInt(m.style.left)!=h&&(m.style.left=h+"px"),parseInt(m.style.width)!=p&&(m.style.width=p+"px"),u.hidden&&u.hideable?m.style.display="none":h+=parseFloat(p)}0==s&&(t.table.width(parseFloat(h)+2),s=h)}t.showaggregates&&t._updateaggregates&&t._updateaggregates(),t.showfilterrow&&t.filterable&&t._updatefilterrowui&&t._updatefilterrowui(),t.showeverpresentrow&&t._updateaddnewrowui(),t._updatescrollbarsafterrowsprerender(),i&&t._renderrows(t.virtualsizeinfo)}}}},_updatescrollbarsafterrowsprerender:function(){var e=this.that,t=e.hScrollBar[0].style.visibility,i=0,s=e.vScrollBar[0].style.visibility;"visible"==s&&(i=e.scrollbarsize+3),0==e.scrollbarsize&&(i=0),e.scrollbarautoshow&&(i=0);var r=e.element.style.width;if(r=0<=r.toString().indexOf("%")?e.host.width():parseInt(r),parseInt(e.table[0].style.width)-2>r-i){if("visible"!=t&&(e.autowidth||(e.hScrollBar[0].style.visibility="visible"),e._arrange()),"visible"==s){if("deferred"==e.scrollmode||e.virtualmode)e._updatevscrollbarmax();else if(e.virtualsizeinfo){var n=e.virtualsizeinfo.virtualheight-e._gettableheight();!isNaN(n)&&0<n&&("hidden"!=t?e.vScrollBar.jqxScrollBar("max",n+e.scrollbarsize+4):e.vScrollBar.jqxScrollBar("max",n))}}else i=-2;e.hScrollBar.jqxScrollBar("max",i+e.table.width()-e.host.width())}else"hidden"!=t&&(e.hScrollBar.css("visibility","hidden"),e._arrange());e._renderhorizontalscroll()},_prerenderrows:function(e){var t=this.that;if(1==t.prerenderrequired){if(t.prerenderrequired=!1,t.editable&&t._destroyeditors&&t._destroyeditors(),null==t.gridcontent)return;t.gridcontent.find("#contenttable"+t.element.id).remove(),null!=t.table&&(t.table.remove(),t.table=null),t.table=te('<div id="contenttable'+t.element.id+'" style="overflow: hidden; position: relative;"></div>'),t.gridcontent.addClass(t.toTP("jqx-grid-content")),t.gridcontent.addClass(t.toTP("jqx-widget-content")),t.gridcontent.append(t.table);var i=t.groupable&&0<t.groups.length,s=0;t.table[0].rows=new Array;var r=t.toTP("jqx-grid-cell");i&&(r=" "+t.toTP("jqx-grid-group-cell"));var n=e.visiblerecords;if(t.pageable&&(t.autoheight||t.autorowheight)&&(n=t.dataview.pagesize,t.groupable&&(t.dataview.updateview(),(n=t.dataview.rows.length)<t.dataview.pagesize&&(n=t.dataview.pagesize))),t.pageable||!t.autoheight&&!t.autorowheight||(n=t.dataview.totalrecords),t.groupable&&0<t.groups.length&&(t.autoheight||t.autorowheight)&&!t.pageable&&(n=t.dataview.rows.length),t.rowdetails&&(t.autoheight||t.autorowheight?n+=t.dataview.pagesize:n+=n),!t.columns.records)return;var o=t.columns.records.length;te.jqx.browser.msie&&8<te.jqx.browser.version&&t.table.css("opacity","0.99"),te.jqx.browser.mozilla,-1!=navigator.userAgent.indexOf("Safari")&&t.table.css("opacity","0.99");var a=te.jqx.browser.msie&&te.jqx.browser.version<8;a&&t.host.attr("hideFocus","true");var l=t.tableZIndex;l<n*o&&(l=n*o);t.dataview.records.length,t.isTouchDevice();var d="";t._hiddencolumns=!1;for(var h=5+t.columns.records.length,c=0;c<n;c++){var u='<div role="row" style="position: relative; height:'+t.rowsheight+'px;" id="row'+c+t.element.id+'">';if(a){u='<div role="row" style="position: relative; z-index: '+l+"; height:"+t.rowsheight+'px;" id="row'+c+t.element.id+'">';l--}for(var p=0,m=0;m<o;m++){if((y=(w=t.columns.records[m]).width)<w.minwidth&&(y=w.minwidth),y>w.maxwidth&&(y=w.maxwidth),t.rtl){var f='<div role="gridcell" style="left: '+p+"px; z-index: "+(l-o+2*m)+"; width:"+y+"px;";l--}else f='<div role="gridcell" style="left: '+p+"px; z-index: "+l--+"; width:"+y+"px;";w.hidden&&w.hideable?(f+="display: none;",t._hiddencolumns=!0,l++):p+=y,0===c&&0===m&&(f+='" tabindex="'+h+'"'),f+='" class="'+r+'">',f+=this._defaultcellsrenderer("",w),u+=f+="</div>"}0==s&&(t.table.width(parseInt(p)+2),s=p),d+=u+="</div>"}t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.table.html(d)}):t.table[0].innerHTML=d,t.table[0].rows=new Array;var g=t.table.children();for(c=0;c<n;c++){var v=g[c];t.table[0].rows.push(v),v.cells=new Array;var x=te(v).children();for(m=0;m<o;m++)v.cells.push(x[m])}if(0==n){p=0;if(t.showemptyrow){u=te('<div style="position: relative;" id="row0'+t.element.id+'"></div>');t.table.append(u),u.height(t.rowsheight),t.table[0].rows[0]=u[0],t.table[0].rows[0].cells=new Array}for(m=0;m<o;m++){var w,y=(w=t.columns.records[m]).width;if(t.showemptyrow)(f=te('<div style="position: absolute; height: 100%; left: '+p+"px; z-index: "+l--+"; width:"+y+'px;" class="'+r+'"></div>')).height(t.rowsheight),u.append(f),t.table[0].rows[0].cells[m]=f[0];y<w.minwidth&&(y=w.minwidth),y>w.maxwidth&&(y=w.maxwidth),w.hidden&&w.hideable||(p+=y)}t.table.width(parseInt(p)+2),s=p}t._updatescrollbarsafterrowsprerender(),t.rendered&&t.rendered("rows"),t.toCompile=new Array,t._addoverlayelement()}},_groupsheader:function(){return this.groupable&&this.showgroupsheader},_arrange:function(){var e=null,t=null;this.tableheight=null;var i=this.that,s=!1,r=!1;if(null!=i.width&&-1!=i.width.toString().indexOf("px")?e=i.width:null==i.width||isNaN(i.width)||(e=i.width),null!=i.width&&-1!=i.width.toString().indexOf("%")&&(e=i.width,s=!0),i.scrollbarautoshow&&(i.vScrollBar[0].style.display="none",i.hScrollBar[0].style.display="none",i.vScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex,i.hScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex),i.autowidth){for(var n=0,o=0;o<i.columns.records.length;o++){var a=i.columns.records[o].width;n+="auto"==a?a=i._measureElementWidth(i.columns.records[o].text):a}"hidden"!=i.vScrollBar.css("visibility")&&(n+=i.scrollbarsize+4),e=n,i.width=e}null!=i.height&&-1!=i.height.toString().indexOf("px")?t=i.height:null==i.height||isNaN(i.height)||(t=i.height),null!=i.height&&-1!=i.height.toString().indexOf("%")&&(t=i.height,r=!0);var l=function(){var e=0;return e+=i.showheader&&null!=i.columnsheader?i.columnsheader.height()+2:0,i.pageable&&(e+=i.pagerheight),i._groupsheader()&&(e+=i.groupsheaderheight),i.showtoolbar&&(e+=i.toolbarheight),i.showstatusbar&&(e+=i.statusbarheight),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(e+=i.everpresentrowheight),"visible"==i.hScrollBar[0].style.visibility&&(e+=15),e};if(i.autoheight&&i.virtualsizeinfo)if(i.pageable&&i.gotopage){t=(d=0)+(i._pageviews[0]?i._pageviews[0].height:0),t+=l(),i.showemptyrow&&0==i.dataview.totalrecords&&(t+=i.rowsheight)}else{var d=i.host.height()-i._gettableheight();0<i._pageviews.length?(t=d+i._pageviews[i._pageviews.length-1].height+i._pageviews[i._pageviews.length-1].top,i.vScrollBar[0].style.visibility="hidden"):(t=l(),i.showemptyrow&&(t+=i.rowsheight))}else i.autoheight&&(t=i.dataview.totalrecords*i.rowsheight,i.pageable&&i.gotopage&&(t=i.pagesize*i.rowsheight),i._loading&&(t=250,i.dataloadelement.height(t)),1e4<(t+=l())&&(t=1e4));null!=e?(e=parseInt(e),s?i.element.style.width=i.width:i.element.style.width!=parseInt(i.width)+"px"&&(i.element.style.width=parseInt(i.width)+"px"),s&&((e=i.host.width())<=2&&(e=600,i.host.width(e)),i._oldWidth||(i._oldWidth=e))):i.host.width(250),null!=t?(r||(t=parseInt(t)),r?i.element.style.height=i.height:i.element.style.height!=parseInt(t)+"px"&&(i.element.style.height=parseInt(t)+"px"),r&&!i.autoheight&&(0==(t=i.host.height())&&(t=400,i.host.height(t)),i._oldHeight||(i._oldHeight=t))):i.host.height(250),i.autoheight&&(i.tableheight=null,i._gettableheight());var h=0;if(i.showtoolbar?(i.toolbar.width(e),i.toolbar.height(i.toolbarheight-1),i.toolbar.css("top",0),h+=i.toolbarheight,t-=parseInt(i.toolbarheight)):i.toolbar[0].style.height="0px",i.showstatusbar?(i.showaggregates?i.statusbar.width(i.table?Math.max(e,i.table.width()):e):i.statusbar.width(e),i.statusbar.height(i.statusbarheight)):i.statusbar[0].style.height="0px",i.showeverpresentrow&&"bottom"===i.everpresentrowposition?(i.addnewrow.width(e),i.addnewrow.height(i.everpresentrowheight)):i.addnewrow[0].style.height="0px",i._groupsheader()){i.groupsheader.width(e),i.groupsheader.height(i.groupsheaderheight),i.groupsheader.css("top",h),h+=c=i.groupsheader.height()+1,c<t&&(t-=parseInt(c))}else{i.groupsheader[0].style.width!=e+"px"&&(i.groupsheader[0].style.width=parseInt(e)+"px"),i.groupsheader[0].style.height="0px",i.groupsheader[0].style.top!=h+"px"&&i.groupsheader.css("top",h);var c,u=h+(c=i.showgroupsheader&&i.groupable?i.groupsheaderheight:0)+"px";i.content[0].style.top!=u&&i.content.css("top",h+i.groupsheaderheight)}var p=i.scrollbarsize;isNaN(p)&&(p=parseInt(p),isNaN(p)?p="17px":p+="px"),p=parseInt(p);var m=2,f=0;"visible"==i.vScrollBar[0].style.visibility&&(f=p+4),"visible"==i.hScrollBar[0].style.visibility&&(m=p+4+2),0==p&&(m=f=0);var g=0;i.pageable&&(g=i.pagerheight,m+=i.pagerheight),i.showstatusbar&&(m+=i.statusbarheight,g+=i.statusbarheight),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(m+=i.everpresentrowheight,g+=i.everpresentrowheight),i.hScrollBar[0].style.height!=p+"px"&&(i.hScrollBar[0].style.height=parseInt(p)+"px"),i.hScrollBar[0].style.top==h+t-4-p-g+"px"&&"0px"==i.hScrollBar[0].style.left||i.hScrollBar.css({top:h+t-4-p-g+"px",left:"0px"});var v=i.hScrollBar[0].style.width,x=!1,w=!1;0==f?v!=e-2+"px"&&(i.hScrollBar.width(e-2),x=!0):v!=e-p-4+"px"&&(i.hScrollBar.width(e-p-4+"px"),x=!0),i.autoheight||(i.vScrollBar[0].style.width!=p+"px"&&(i.vScrollBar.width(p),w=!0),i.vScrollBar[0].style.height!=parseInt(t)-m+"px"&&(i.vScrollBar.height(parseInt(t)-m+"px"),w=!0),i.vScrollBar[0].style.left==parseInt(e)-parseInt(p)-4+"px"&&i.vScrollBar[0].style.top==h+"px"||i.vScrollBar.css({left:parseInt(e)-parseInt(p)-4+"px",top:h})),i.rtl&&(i.vScrollBar.css({left:"0px",top:h}),"hidden"!=i.vScrollBar.css("visibility")&&i.hScrollBar.css({left:p+2}));var y=i.vScrollInstance;y.disabled=i.disabled,i.autoheight||w&&y.refresh();var b=i.hScrollInstance;b.disabled=i.disabled,x&&b.refresh(),i.autowidth&&(i.hScrollBar[0].style.visibility="hidden"),i.statusbarheight=parseInt(i.statusbarheight),i.toolbarheight=parseInt(i.toolbarheight);var _=function(e){if("visible"==e.vScrollBar[0].style.visibility&&"visible"==e.hScrollBar[0].style.visibility){e.bottomRight[0].style.visibility="visible",e.bottomRight.css({left:1+parseInt(e.vScrollBar.css("left")),top:parseInt(e.hScrollBar.css("top"))}),e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight.width(parseInt(p)+3),e.bottomRight.height(parseInt(p)+4);var t=e.showeverpresentrow&&"bottom"==e.everpresentrowposition?e.everpresentrowheight:0;0<t&&!e.showaggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(p)+4+t),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-t})),e.showaggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(p)+4+e.statusbarheight+t),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.statusbarheight-t}))}else e.bottomRight[0].style.visibility="hidden"};if(_(this),i.content[0].style.width!=e-f+"px"&&i.content.width(e-f),i.content[0].style.height!=t-m+3+"px"&&i.content.height(t-m+3),i.scrollbarautoshow&&(i.content[0].style.width!=e+"px"&&i.content.width(e),i.content[0].style.height!=t+"px"&&i.content.height(t)),i.content[0].style.top!=h+"px"&&i.content.css("top",h),i.rtl&&(i.content.css("left",f),i.scrollbarautoshow&&i.content.css("left","0px"),i.table)){var j=i.table.width();j<e-f&&i.content.css("left",e-j)}if(i.showstatusbar&&(i.statusbar.css("top",h+t-i.statusbarheight-(i.pageable?i.pagerheight:0)),i.showaggregates&&("visible"==i.hScrollBar.css("visibility")&&(i.hScrollBar.css({top:h+t-4-p-g+i.statusbarheight+"px"}),i.statusbar.css("top",1+h+t-p-5-i.statusbarheight-(i.pageable?i.pagerheight:0))),_(this)),i.rtl&&("visible"!=i.hScrollBar.css("visibility")?i.statusbar.css("left",i.content.css("left")):i.statusbar.css("left","0px"))),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(i.addnewrow.css("top",h+t-(i.showstatusbar?i.statusbarheight:0)-(i.pageable?i.pagerheight:0)-i.everpresentrowheight),i.rtl&&("visible"!=i.hScrollBar.css("visibility")?i.addnewrow.css("left",i.content.css("left")):i.addnewrow.css("left","0px"))),i.pageable?(i.pager.width(e),i.pager.height(i.pagerheight),i.pager.css("top",h+t-i.pagerheight-1)):i.pager[0].style.height="0px",null!=i.table){var q=-2;if("visible"==i.vScrollBar[0].style.visibility&&(q=i.scrollbarsize+3),"visible"==i.hScrollBar[0].style.visibility){var T=q+i.table.width()-i.host.width();0<=T&&i.hScrollBar.jqxScrollBar("max",T),"visible"==i.hScrollBar[0].style.visibility&&0==T&&(i.hScrollBar[0].style.visibility="hidden",i._arrange())}}e!=parseInt(i.dataloadelement[0].style.width)&&(i.dataloadelement[0].style.width=i.element.style.width),t!=parseInt(i.dataloadelement[0].style.height)&&(i.dataloadelement[0].style.height=i.element.style.height),this.pagergotoinput&&(this.pagergotoinput.offset().top!==this.pagergoto.offset().top?(this.pagergotoinput.css("visibility","hidden"),this.pagergoto.css("visibility","hidden")):(this.pagergotoinput.css("visibility","inherit"),this.pagergoto.css("visibility","inherit"))),i._hostwidth=e},destroy:function(){if(delete te.jqx.dataFormat.datescache,delete this.gridlocalization,te.jqx.utilities.resize(this.host,null,!0),(""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self&&this.removeHandler(te(window.top.document),"mouseup.grid"+this.element.id),this.table&&this.table[0]){for(var e=this.table[0].rows.length,t=0;t<e;t++){for(var i=this.table[0].rows[t],s=i.cells.length,r=0;r<s;r++)te(i.cells[r]).remove(),i.cells[r]=null,delete i.cells[r];i.cells=null,i.cells&&delete i.cells,te(this.table[0].rows[t]).remove(),this.table[0].rows[t]=null}try{delete this.table[0].rows}catch(e){}this.table.remove(),delete this.table}if(this.columns&&this.columns.records){for(t=0;t<this.columns.records.length;t++){var n=this.columns.records[t];n.addnewrowwidget&&n.destroyeverpresentrowwidget&&n.destroyeverpresentrowwidget(n.addnewrowwidget),this._removecolumnhandlers(this.columns.records[t]),n.element&&(te(n.element).remove(),te(n.sortasc).remove(),te(n.sortdesc).remove(),te(n.filtericon).remove(),te(n.menu).remove(),n.element=null,n.uielement=null,n.sortasc=null,n.sortdesc=null,n.filtericon=null,n.menu=null,delete n.element,delete n.uielement,delete n.sortasc,delete n.sortdesc,delete n.filtericon,delete n.menu,delete this.columnsrow[0].cells[t])}try{delete this.columnsrow[0].cells}catch(e){}delete this.columnsrow}if(te.removeData(document.body,"contextmenu"+this.element.id),this.host.jqxDropDownList&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.editable&&this._destroyeditors&&this._destroyeditors(),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.host.jqxMenu&&this.gridmenu&&(this.removeHandler(te(document),"click.menu"+this.element.id),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu=null),this.pagershowrowscombo&&(this.pagershowrowscombo.jqxDropDownList("destroy"),this.pagershowrowscombo=null),this.pagerrightbutton&&(this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.pagerrightbutton.jqxButton("destroy"),this.pagerrightbutton=null),this.pagerleftbutton&&(this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.pagerleftbutton.jqxButton("destroy"),this.removeHandler(te(document),"mouseup.pagerbuttons"+this.element.id),this.pagerleftbutton=null),this.removeHandler(te(document),"selectstart."+this.element.id),this.removeHandler(te(document),"mousedown.resize"+this.element.id),this.removeHandler(te(document),"mouseup.resize"+this.element.id),this.removeHandler(te(document),"mousemove.resize"+this.element.id),this.isTouchDevice()){var o=te.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,a=te.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,l=te.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(te(document),o),this.removeHandler(te(document),a),this.removeHandler(te(document),l)}if(this.removeHandler(te(document),"mousedown.reorder"+this.element.id),this.removeHandler(te(document),"mouseup.reorder"+this.element.id),this.removeHandler(te(document),"mousemove.reorder"+this.element.id),this.isTouchDevice()){o=te.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,a=te.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,l=te.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id;this.removeHandler(te(document),o),this.removeHandler(te(document),a),this.removeHandler(te(document),l)}if(this.removeHandler(te(window),"resize."+this.element.id),this.resizeline&&this.resizeline.remove(),this.resizestartline&&this.resizestartline.remove(),this.groupable){o="mousemove.grouping"+this.element.id,a="mousedown.grouping"+this.element.id,l="mouseup.grouping"+this.element.id;this.removeHandler(te(document),o),this.removeHandler(te(document),a),this.removeHandler(te(document),l)}if(this.columnsreorder){o="mousemove.reorder"+this.element.id,a="mousedown.reorder"+this.element.id,l="mouseup.reorder"+this.element.id;this.removeHandler(te(document),o),this.removeHandler(te(document),a),this.removeHandler(te(document),l),delete this.columnsbounds}if(this.content&&(this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"scroll")),this._removeHandlers(),this.hScrollInstance.destroy(),this.vScrollInstance.destroy(),this.hScrollBar.remove(),this.vScrollBar.remove(),this._clearcaches(),delete this.hScrollInstance,delete this.vScrollInstance,delete this.visiblerows,delete this.hittestinfo,delete this.rows,delete this.columns,delete this.columnsbydatafield,delete this.pagescache,delete this.pageviews,delete this.cellscache,delete this.heights,delete this.hiddens,delete this.hiddenboundrows,delete this.heightboundrows,delete this.detailboundrows,delete this.details,delete this.expandedgroups,delete this._rowdetailscache,delete this._rowdetailselementscache,delete this.columnsmenu,this.columnsheader&&(this.columnsheader.remove(),delete this.columnsheader),this.selectionarea&&(this.selectionarea.remove(),delete this.selectionarea),this.menuitemsarray&&this.menuitemsarray.length){var d=this.menuitemsarray.length;for(t=0;t<d;t++)te(this.menuitemsarray[t]).remove()}delete this.menuitemsarray,this.dataview._clearcaches(),this.content.removeClass(),this.content.remove(),this.content=null,delete this.content,this.vScrollBar=null,this.hScrollBar=null,delete this.hScrollBar,delete this.hScrollBar,this.gridcontent&&(this.gridcontent.remove(),delete this.gridcontent),this.gridmenu&&(this.gridmenu=null,delete this.gridmenu),delete this._mousemovefunc,delete this._mousewheelfunc,this.dataview.destroy(),delete this.dataview,this.bottomRight.remove(),delete this.bottomRight,this.wrapper.remove(),delete this.wrapper,this.pagerdiv&&(this.pagerdiv.remove(),delete this.pagerdiv),this.pagerpageinput&&(this.pagerpageinput.remove(),delete this.pagerpageinput),this.pagergoto&&(this.pagergoto.remove(),delete this.pagergoto),this.pagershowrows&&(this.pagershowrows.remove(),delete this.pagershowrows),this.pagerfirstbutton&&(this.pagerfirstbutton.remove(),delete this.pagerfirstbutton),this.pagerlastbutton&&(this.pagerlastbutton.remove(),delete this.pagerlastbutton),this.pagerbuttons&&(this.pagerbuttons.remove(),delete this.pagerbuttons),this.pagerdetails&&(this.pagerdetails.remove(),delete this.pagerdetails),this.pagergotoinput&&(this.pagergotoinput.remove(),delete this.pagergotoinput),this.pager.remove(),delete this.pager,this.groupsheader.remove(),delete this.groupsheader,this.dataloadelement.remove(),delete this.dataloadelement,this.toolbar.remove(),delete this.toolbar,this.statusbar.remove(),delete this.statusbar,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.host=null,delete this.host,delete this.element,delete this.set,delete this.get,delete this.that,delete this.call},_initializeColumns:function(){var e=this.source?this.source.datafields:null;null==e&&this.source&&this.source._source&&(e=this.source._source.datafields);var i=!!e&&0<e.length;if(this.autogeneratecolumns){var t=new Array;if(e)te.each(e,function(){var e={datafield:this.name,text:this.text||this.name,cellsformat:this.format||""};t.push(e)});else if(0<this.source.records.length){var s=this.source.records[0];for(obj in s)if("uid"!=obj){var r={width:100,datafield:obj,text:obj};t.push(r)}}this.columns=t}if(this.columns&&this.columns.records)for(var n=0;n<this.columns.records.length;n++)this._removecolumnhandlers(this.columns.records[n]);var o=this.that,a=new te.jqx.collection(this.element),l=0;(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,this.groupable&&te.each(this.groups,function(e){var t=new h(o,this);t.visibleindex=l++,t.width=o.groupindentwidth,a.add(t),t.grouped=!0,t.filterable=!1,t.sortable=!1,t.editable=!1,t.resizable=!1,t.draggable=!1}),this.rowdetails&&this.showrowdetailscolumn)&&((r=new h(o,this)).visibleindex=l++,r.width=o.groupindentwidth,r.pinned=!0,r.editable=!1,r.filterable=!1,r.draggable=!1,r.groupable=!1,r.resizable=!1,a.add(r),o._haspinned=!0);"checkbox"==this.selectionmode&&((r=new h(o,null)).visibleindex=l++,r.width=o.groupindentwidth,r.checkboxcolumn=!0,r.editable=!1,r.columntype="checkbox",r.groupable=!1,r.draggable=!1,r.filterable=!1,r.resizable=!1,r.datafield="_checkboxcolumn",a.add(r));var d=new Array;te.each(this.columns,function(e){if(null!=o.columns[e]){var t=new h(o,this);if(t.visibleindex=l++,null!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(o._haspinned=!0),o.showeverpresentrow&&("addButtonColumn"!==this.datafield&&"resetButtonColumn"!==this.datafield&&"updateButtonColumn"!==this.datafield&&"deleteButtonColumn"!==this.datafield||(t.editable=!1,t.groupable=!1,t.draggable=!1,t.filterable=!1,t.resizable=!1,t.menu=!1)),null==this.datafield)o.source&&o.source._source&&"array"==o.source._source.datatype&&(i||(o.source._source.datafields||(o.source._source.datafields=new Array),o.source._source.datafields.push({name:e.toString()})),this.datafield=e.toString(),this.displayfield=e.toString(),t.datafield=this.datafield,t.displayfield=this.displayfield);else{if(d[this.datafield])throw new Error("jqxGrid: Invalid column 'datafield' setting. jqxGrid's columns should be initialized with unique data fields.");d[this.datafield]=!0}a.add(t)}}),this.rtl&&a.records.reverse(),this.columns=a},_initializeRows:function(){var e=new te.jqx.collection(this.element);this.rows&&this.rows.clear(),this.rows=e},_raiseEvent:function(e,t){if(null==t&&(t={owner:null}),!1!==this._trigger){var i=this.events[e];if(this._camelCase||(i=i.toLowerCase()),(2==e||15==e)&&this.showeverpresentrow&&(0<=this.everpresentrowactions.indexOf("delete")||0<=this.everpresentrowactions.indexOf("update"))){if(this.updateeverpresentrow)var s=this;setTimeout(function(){s.updateeverpresentrow()},50)}args=t,args.owner=this;var r=new te.Event(i);r.owner=this,r.args=args;var n=this.host.trigger(r);return t=r.args,n}},wheel:function(e,t){if(t.autoheight&&"visible"!=t.hScrollBar.css("visibility"))return e.returnValue=!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!s&&(s=!1,e.returnValue=s)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;if(e<0?this.scrollDown():this.scrollUp(),t!=this.vScrollInstance.value)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){t=this.hScrollInstance.value;if(0<e?this.hScrollInstance.value>2*this.horizontalscrollbarstep?this.hScrollInstance.setPosition(this.hScrollInstance.value-2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(this.hScrollInstance.max),t!=this.hScrollInstance.value)return!0}return!1},scrollDown:function(){if("hidden"!=this.vScrollBar.css("visibility")){var e=this.vScrollInstance;e.value+this.rowsheight<=e.max?e.setPosition(parseInt(e.value)+this.rowsheight):e.setPosition(e.max)}},scrollUp:function(){if("hidden"!=this.vScrollBar.css("visibility")){var e=this.vScrollInstance;e.value-this.rowsheight>=e.min?e.setPosition(parseInt(e.value)-this.rowsheight):e.setPosition(e.min)}},_removeHandlers:function(){var e=this.that;e.removeHandler(te(window),"orientationchange.jqxgrid"+e.element.id),e.removeHandler(te(window),"orientationchanged.jqxgrid"+e.element.id),e.removeHandler(e.vScrollBar,"valueChanged"),e.removeHandler(e.hScrollBar,"valueChanged"),e.vScrollInstance.valueChanged=null,e.hScrollInstance.valueChanged=null;var t="mousedown.jqxgrid";e.isTouchDevice()&&(t=te.jqx.mobile.getTouchEventName("touchend")),e.removeHandler(e.host,"dblclick.jqxgrid"),e.removeHandler(e.host,t),e.removeHandler(e.content,"mousemove",e._mousemovefunc),e.removeHandler(e.host,"mouseleave.jqxgrid"),e.removeHandler(e.content,"mouseenter"),e.removeHandler(e.content,"mouseleave"),e.removeHandler(e.content,"mousedown"),e.removeHandler(e.content,"scroll"),e.removeHandler(e.content,"selectstart."+e.element.id),e.removeHandler(e.host,"dragstart."+e.element.id),e.removeHandler(e.host,"keydown.edit"+e.element.id),e.removeHandler(te(document),"keydown.edit"+e.element.id),e.removeHandler(te(document),"keyup.edit"+e.element.id),e._mousemovedocumentfunc&&e.removeHandler(te(document),"mousemove.selection"+e.element.id,e._mousemovedocumentfunc),e.removeHandler(te(document),"mouseup.selection"+e.element.id),e._mousewheelfunc&&e.removeHandler(e.host,"mousewheel",e._mousewheelfunc),e.editable&&e.removeHandler(te(document),"mousedown.gridedit"+e.element.id),e.host.off&&(e.content.off("mousemove"),e.host.off("mousewheel"))},_addHandlers:function(){var c=this.that,i=c.isTouchDevice();i||c.addHandler(c.host,"dragstart."+c.element.id,function(e){return!1}),c.scrollbarautoshow&&(c.addHandler(c.host,"mouseenter.gridscroll"+c.element.id,function(e){c.vScrollBar.fadeIn("fast"),c.hScrollBar.fadeIn("fast")}),c.addHandler(c.host,"mouseleave.gridscroll"+c.element.id,function(e){c.vScrollInstance.isScrolling()||c.hScrollInstance.isScrolling()||(c.vScrollBar.fadeOut("fast"),c.hScrollBar.fadeOut("fast"))})),c.editable&&c.addHandler(te(document),"mousedown.gridedit"+c.element.id,function(n){if(c.editable&&c.begincelledit&&c.editcell&&!c.vScrollInstance.isScrolling()&&!c.vScrollInstance.isScrolling()){var e=c.host.coord(),t=c.host.width(),i=c.host.height(),o=!1,a=!1;if((n.pageY<e.top||n.pageY>e.top+i)&&(a=o=!0),(n.pageX<e.left||n.pageX>e.left+t)&&(o=!0),o){if(c.editcell&&c.editcell.editor)switch(c.editcell.columntype){case"datetimeinput":if(c.editcell.editor.jqxDateTimeInput&&c.editcell.editor.jqxDateTimeInput("container")&&"block"==c.editcell.editor.jqxDateTimeInput("container")[0].style.display){var s=c.editcell.editor.jqxDateTimeInput("container").coord().top,r=c.editcell.editor.jqxDateTimeInput("container").coord().top+c.editcell.editor.jqxDateTimeInput("container").height();if(!a||!(n.pageY<s||n.pageY>r))return;o=!0,c.editcell.editor.jqxDateTimeInput("close")}break;case"combobox":if(c.editcell.editor.jqxComboBox&&c.editcell.editor.jqxComboBox("container")&&"block"==c.editcell.editor.jqxComboBox("container")[0].style.display){s=c.editcell.editor.jqxComboBox("container").coord().top,r=c.editcell.editor.jqxComboBox("container").coord().top+c.editcell.editor.jqxComboBox("container").height();if(!a||!(n.pageY<s||n.pageY>r))return;o=!0,c.editcell.editor.jqxComboBox("close")}break;case"dropdownlist":if(c.editcell.editor.jqxDropDownList&&c.editcell.editor.jqxDropDownList("container")&&"block"==c.editcell.editor.jqxDropDownList("container")[0].style.display){s=c.editcell.editor.jqxDropDownList("container").coord().top,r=c.editcell.editor.jqxDropDownList("container").coord().top+c.editcell.editor.jqxDropDownList("container").height();if(!a||!(n.pageY<s||n.pageY>r))return;o=!0,c.editcell.editor.jqxDropDownList("close")}break;case"template":case"custom":for(var l=["jqxDropDownList","jqxComboBox","jqxDropDownButton","jqxDateTimeInput"],d=function(e){var t=c.editcell.editor.data();if(t[e]&&t[e].instance.container&&"block"==t[e].instance.container[0].style.display){var i=t[e].instance,s=i.container.coord().top,r=i.container.coord().top+i.container.height();return!(!a||!(n.pageY<s||n.pageY>r))&&(o=!0,i.close(),!0)}},h=0;h<l.length;h++){if(0==d(l[h]))return}}c.endcelledit(c.editcell.row,c.editcell.column,!1,!0),c._oldselectedcell=null}}}),c.vScrollInstance.valueChanged=function(e){c.virtualsizeinfo&&(c._closemenu(),"physical"!=c.scrollmode||null!=c.currentScrollValue&&Math.abs(c.currentScrollValue-e.currentValue),c._renderrows(c.virtualsizeinfo),c.currentScrollValue=e.currentValue,c.pageable||c.groupable||!c.dataview.virtualmode||(c.loadondemandupdate&&clearTimeout(c.loadondemandupdate),c.loadondemandupdate=setTimeout(function(){c.loadondemand=!0,c._renderrows(c.virtualsizeinfo)},100)),i&&(c._lastScroll=new Date))},c.hScrollInstance.valueChanged=function(e){if(c.virtualsizeinfo){c._closemenu();var t=function(){c._renderhorizontalscroll(),c._renderrows(c.virtualsizeinfo),c.editcell&&!c.editrow&&c._showcelleditor&&c.editcell.editing&&(c.hScrollInstance.isScrolling()||c._showcelleditor(c.editcell.row,c.getcolumn(c.editcell.column),c.editcell.element,c.editcell.init))};if(i)t();else{null==c._browser?c._isIE10():c._browser;navigator&&-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")?(c._hScrollTimer&&clearTimeout(c._hScrollTimer),c._hScrollTimer=setTimeout(function(){t()},1)):te.jqx.browser.msie?(c._hScrollTimer&&clearTimeout(c._hScrollTimer),c._hScrollTimer=setTimeout(function(){t()},.01)):t()}i&&(c._lastScroll=new Date)}},c._mousewheelfunc=c._mousewheelfunc||function(e){if(!c.editcell&&c.enablemousewheel)return c.wheel(e,c),!1},c.removeHandler(c.host,"mousewheel",c._mousewheelfunc),c.addHandler(c.host,"mousewheel",c._mousewheelfunc);var e="mousedown.jqxgrid";i&&(e=te.jqx.mobile.getTouchEventName("touchend")),c.addHandler(c.host,e,function(e){if(c.isTouchDevice()){if(c._newScroll=new Date,c._newScroll-c._lastScroll<500)return!1;if(te(e.target).ischildof(c.vScrollBar))return!1;if(te(e.target).ischildof(c.hScrollBar))return!1}c._mousedown=new Date;var t=c._handlemousedown(e,c);return c.isNestedGrid&&(c.resizablecolumn||c.columnsreorder||e.stopPropagation()),c._lastmousedown=new Date,t}),i||(c.addHandler(c.host,"dblclick.jqxgrid",function(e){if(c.editable&&c.begincelledit&&"dblclick"==c.editmode)c._handledblclick(e,c);else if(te.jqx.browser.msie&&te.jqx.browser.version<9)c._handlemousedown(e,c);return c.mousecaptured=!1,c._lastmousedown=new Date,!0}),c._mousemovefunc=function(e){if(c._handlemousemove)return c._handlemousemove(e,c)},c.addHandler(c.content,"mousemove",c._mousemovefunc),c._handlemousemoveselection&&(c._mousemovedocumentfunc=function(e){if(c._handlemousemoveselection)return c._handlemousemoveselection(e,c)},c.addHandler(te(document),"mousemove.selection"+c.element.id,c._mousemovedocumentfunc)),c.addHandler(te(document),"mouseup.selection"+c.element.id,function(e){c._handlemouseupselection&&c._handlemouseupselection(e,c)}));try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var t=null;if(window.parent&&document.referrer&&(t=document.referrer),t&&-1!=t.indexOf(document.location.host)){c.addHandler(te(window.top.document),"mouseup.grid"+c.element.id,function(e){if(c._handlemouseupselection)try{c._handlemouseupselection(e,c)}catch(e){}})}}}catch(e){}c.focused=!1,i||(c.addHandler(c.content,"mouseenter",function(e){c.focused=!0,c.wrapper&&(c.wrapper.attr("tabindex",1),c.content.attr("tabindex",2)),c._overlayElement&&(c.vScrollInstance.isScrolling()||c.hScrollInstance.isScrolling()?c._overlayElement[0].style.visibility="visible":c._overlayElement[0].style.visibility="hidden")}),c.addHandler(c.content,"mouseleave",function(e){c._handlemousemove&&c.enablehover&&c._clearhoverstyle(),c._overlayElement&&(c._overlayElement[0].style.visibility="hidden"),c.focused=!1}),(c.groupable||c.columnsreorder)&&c.addHandler(te(document),"selectstart."+c.element.id,function(e){if(!0===c.__drag)return!1}),c.addHandler(c.content,"selectstart."+c.element.id,function(e){if(c.enablebrowserselection)return!0;if(c.showfilterrow&&te(e.target).ischildof(c.filterrow))return!0;if(c.showeverpresentrow){if(te(e.target).ischildof(c.addnewrow))return!0;if(c.addnewrowtop&&te(e.target).ischildof(c.addnewrowtop))return!0}return!!(e.target.className&&0<=e.target.className.indexOf("jqx-grid-widget"))||!!c.editcell&&void(e.stopPropagation&&e.stopPropagation())}),c.addHandler(te(document),"keyup.edit"+c.element.id,function(e){c._keydown=!1}),c.addHandler(te(document),"keydown.edit"+c.element.id,function(e){if((c._keydown=!c.editcell,20===(i=e.charCode?e.charCode:e.keyCode?e.keyCode:0)&&(c._capsLock?c._capsLock=!1:c._capsLock=!0),c.handlekeyboardnavigation)&&((c.focused||e.target===c.element||te(e.target).ischildof(c.host))&&1==c.handlekeyboardnavigation(e)))return!1;if(c.editable&&c.editcell&&(13!=i&&27!=i&&9!=i&&32!=i||c._handleeditkeydown&&(t=c._handleeditkeydown(e,c))),27==i&&(c.mousecaptured=!1,"visible"==c.selectionarea.css("visibility")&&c.selectionarea.css("visibility","hidden")),te.jqx.browser.msie&&te.jqx.browser.version<12&&c.focused&&!c.isNestedGrid){if(13==i&&0==t)return t;var t=!0,i=e.charCode?e.charCode:e.keyCode?e.keyCode:0;if(!c.editcell&&c.editable&&"programmatic"!=c.editmode&&c._handleeditkeydown&&(t=c._handleeditkeydown(e,c)),t&&c.keyboardnavigation&&c._handlekeydown)return(t=c._handlekeydown(e,c))||(e.preventDefault&&e.preventDefault(),null!=e.stopPropagation&&e.stopPropagation()),t}return!0}),c.addHandler(c.host,"keyup.edit"+c.element.id,function(e){if(9===e.keyCode&&!te(document.activeElement).ischildof(c.filterrow)&&!te(document.activeElement).ischildof(c.pager))switch(c.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":null===c.getselectedcell()&&c.selectcell(0,c.columns.records[0].displayfield);break;default:-1===c.getselectedrowindex()&&c.selectrow(0)}}),c.addHandler(c.host,"keydown.edit"+c.element.id,function(e){var t=!0;if(c.handlekeyboardnavigation&&1==c.handlekeyboardnavigation(e))return!1;if(c.editable&&"programmatic"!=c.editmode&&c._handleeditkeydown&&(t=c._handleeditkeydown(e,c),c.isNestedGrid&&e.stopPropagation()),!c.editcell&&e.altKey&&!te(document.activeElement).ischildof(c.filterrow)&&!te(document.activeElement).ischildof(c.pager))if(40===e.keyCode){var i=c.getselectedcell();i&&c.openmenu(i.column)}else 38===e.keyCode&&c._closemenu();return te.jqx.browser.msie&&te.jqx.browser.version<8?c.isNestedGrid&&t&&c.keyboardnavigation&&c._handlekeydown&&(t=c._handlekeydown(e,c),e.stopPropagation()):t&&c.keyboardnavigation&&c._handlekeydown&&(t=c._handlekeydown(e,c),c.isNestedGrid&&e.stopPropagation()),t||(e.preventDefault&&e.preventDefault(),null!=e.stopPropagation&&e.stopPropagation()),t&&c.selectedcells&&0<c.selectedcells.length&&9===e.keyCode&&e.shiftKey&&c.table&&c.table[0].rows&&0<c.table[0].rows.length&&(te(document.activeElement).ischildof(c.filterrow)||te(document.activeElement).ischildof(c.pager)||c.table[0].rows[0].cells[0].focus()),t}))},_hittestrow:function(e,t){if(null!=this.vScrollInstance&&null!=this.hScrollInstance){null==e&&(e=0);var i=this.vScrollInstance,s=this.hScrollInstance,r=i.value;"visible"!=this.vScrollBar.css("visibility")&&(r=0);var n=s.value;"visible"!=this.hScrollBar.css("visibility")&&(n=0),"deferred"==this.scrollmode&&null!=this._newmax&&r>this._newmax&&(r=this._newmax);var o=parseInt(r)+t;parseInt(n);if(null!=this.visiblerows&&0!=this.visiblerows.length){var a=!1,l=this._findvisiblerow(o,this.visiblerows);if(0<=l){var d=this.visiblerows[l],h=this.rowdetails&&d.rowdetails,c=!d.rowdetailshidden;if(h){var u=this.visiblerows[l-1];if(u==d&&(d=u,l--),c){var p=te(this.hittestinfo[l].visualrow).position().top+parseInt(this.table.css("top")),m=te(this.hittestinfo[l].visualrow).height();p<=t&&t<=p+m||(l++,d=this.visiblerows[l],a=!0)}}}return{index:l,row:d,details:a}}}},getcellatposition:function(e,t){var i=this.that,s=this.showheader?this.columnsheader.height()+2:0,r=this._groupsheader()?this.groupsheader.height():0;r+=this.showtoolbar?this.toolbarheight:0;var n=this.host.coord();this.hasTransform&&(n=te.jqx.utilities.getOffset(this.host));var o=e-n.left,a=t-s-n.top-r,l=this._hittestrow(o,a),d=l.row,h=l.index,c=this.table[0].rows[h];if(this.dataview&&0==this.dataview.records.length){for(var u=this.table[0].rows,p=0,m=0;m<u.length;m++){if(p<=a&&a<p+this.rowsheight){c=u[m];break}p+=this.rowsheight}d={boundindex:m}}if(null==c)return!0;var f=this.hScrollInstance.value,g=0;for(this.groupable&&this.groups.length,m=0;m<c.cells.length;m++){var v=parseInt(te(this.columnsrow[0].cells[m]).css("left"));e=v-f;if(i.columns.records[m].pinned&&(e=v),!i.columns.records[m].hidden)if(o<=e+te(this.columnsrow[0].cells[m]).width()&&e<=o){g=m;break}}if(null!=d){var x=this._getcolumnat(g);return{row:this.getboundindex(d),column:x.datafield,value:this.getcellvalue(this.getboundindex(d),x.datafield)}}return null},_handlemousedown:function(e,t){if(null==e.target)return!0;if(t.disabled)return!0;if(te(e.target).ischildof(this.columnsheader)||te(e.target).ischildof(this.hScrollBar)||te(e.target).ischildof(this.vScrollBar))return!0;if(e.target===t.bottomRight[0])return!0;var i,s;if(e.which?i=3==e.which:e.button&&(i=2==e.button),e.which?s=2==e.which:e.button&&(s=1==e.button),s)return!0;if(this.showstatusbar){if(te(e.target).ischildof(this.statusbar))return!0;if(e.target==this.statusbar[0])return!0}if(this.showtoolbar){if(te(e.target).ischildof(this.toolbar))return!0;if(e.target==this.toolbar[0])return!0}if(this.pageable){if(te(e.target).ischildof(this.pager))return!0;if(e.target==this.pager[0])return!0}if(!this.columnsheader)return!0;if(!this.editcell&&this.pageable&&te(e.target).ischildof(this.pager))return!0;var r=this.showheader?this.columnsheader.height()+2:0,n=this._groupsheader()?this.groupsheader.height():0;n+=this.showtoolbar?this.toolbarheight:0;var o=this.host.coord();if(this.hasTransform){o=te.jqx.utilities.getOffset(this.host);var a=this._getBodyOffset();o.left-=a.left,o.top-=a.top}var l=parseInt(e.pageX),d=parseInt(e.pageY);if(this.isTouchDevice()){var h=t.getTouches(e)[0];l=parseInt(h.pageX),d=parseInt(h.pageY),1==t.touchmode&&null!=h._pageX&&(l=parseInt(h._pageX),d=parseInt(h._pageY))}var c=l-o.left,u=d-r-o.top-n;if(this.pageable&&!this.autoheight&&this.gotopage&&this.pager.coord().top-o.top-n-r<u)return;var p=this._hittestrow(c,u);if(p&&!p.details){var m=p.row,f=p.index,g=e.target.className,v=this.table[0].rows[f];if(null==v)return t.editable&&t.begincelledit&&t.editcell&&t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),!0;t.mousecaptured=!0,t.mousecaptureposition={left:e.pageX,top:e.pageY-n,clickedrow:v};var x=this.hScrollInstance,w=x.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(w=x.max-x.value);var y=-1,b=this.groupable?this.groups.length:0;this.rtl&&("hidden"!=this.vScrollBar[0].style.visibility&&(w-=this.scrollbarsize+4),"hidden"==this.hScrollBar[0].style.visibility&&(w=-parseInt(this.content.css("left"))));for(var _=0;_<v.cells.length;_++){l=(j=parseInt(te(this.columnsrow[0].cells[_]).css("left")))-w;if(t.columns.records[_].pinned&&!t.rtl&&(l=j),null==(q=this._getcolumnat(_))||!q.hidden)if(c<=l+te(this.columnsrow[0].cells[_]).width()&&l<=c){y=_,t.mousecaptureposition.clickedcell=_;break}}if(this.rtl&&this._haspinned)for(_=v.cells.length-1;0<=_&&t.columns.records[_].pinned;_--){var j;l=j=te(this.columnsrow[0].cells[_]).coord().left-this.host.coord().left;if((null==(q=this._getcolumnat(_))||!q.hidden)&&c<=l+te(this.columnsrow[0].cells[_]).width()&&l<=c){y=_,t.mousecaptureposition.clickedcell=_;break}}if(null!=m&&0<=y){this._raiseEvent(1,{rowindex:this.getboundindex(m),visibleindex:m.visibleindex,row:m,group:m.group,rightclick:i,originalEvent:e});var q=this._getcolumnat(y),T=this.getcellvalue(this.getboundindex(m),q.datafield);if(this.editable&&this.editcell&&(this._currentEditableColumn=y,q.datafield==this.editcell.column&&this.getboundindex(m)==this.editcell.row&&(this.mousecaptured=!1)),this._raiseEvent(8,{rowindex:this.getboundindex(m),column:q?q.getcolumnproperties():null,row:m,visibleindex:m.visibleindex,datafield:q?q.datafield:null,columnindex:y,value:T,rightclick:i,originalEvent:e}),q.createwidget)return!0;if(this.isTouchDevice())if("checkbox"==q.columntype&&this.editable&&this._overlayElement){if(!this.editcell)return this._overlayElement.css("visibility","hidden"),this.editcell=this.getcell(f,q.datafield),!0}else if("button"==q.columntype&&this._overlayElement)return q.buttonclick&&q.buttonclick(v.cells[y].buttonrow,e),!0;var C=!1;if(null!=this._lastmousedown&&this._mousedown-this._lastmousedown<300&&this._clickedrowindex==this.getboundindex(m)&&(this._raiseEvent(22,{rowindex:this.getboundindex(m),row:m,visibleindex:m.visibleindex,group:m.group,rightclick:i,originalEvent:e}),this._clickedcolumn==q.datafield&&this._raiseEvent(23,{rowindex:this.getboundindex(m),row:m,visibleindex:m.visibleindex,column:q?q.getcolumnproperties():null,datafield:q?q.datafield:null,columnindex:y,value:T,rightclick:i,originalEvent:e}),C=!0,this._clickedrowindex=-1,this._clickedcolumn=null,e.isPropagationStopped&&e.isPropagationStopped()))return!1;if(i)return!0;C||(this._clickedrowindex=this.getboundindex(m),this._clickedcolumn=q.datafield);var S=te.jqx.utilities.getBrowser();if("msie"==S.browser&&parseInt(S.version)<=7&&(0==y&&this.rowdetails&&(g="jqx-grid-group-collapse"),0<b&&y<=b&&(g="jqx-grid-group-collapse")),-1!=g.indexOf("jqx-grid-group-expand")||-1!=g.indexOf("jqx-grid-group-collapse"))this.rtl?0<b&&y>v.cells.length-b-1&&this._togglegroupstate?this._togglegroupstate(m.bounddata,!0):y==v.cells.length-1-b&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(m.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0):0<b&&y<b&&this._togglegroupstate?this._togglegroupstate(m.bounddata,!0):y==b&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(m.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0);else if(-1!=m.boundindex){var k=this.selectedrowindexes.slice(0),I=!1;if("none"!=t.selectionmode&&"checkbox"!=t.selectionmode&&this._selectrowwithmouse){"multiplecellsadvanced"!=t.selectionmode&&"multiplecellsextended"!=t.selectionmode&&"multiplerowsextended"!=t.selectionmode&&"multiplerowsadvanced"!=t.selectionmode||e.ctrlKey||e.shiftKey||e.metaKey||(t.selectedrowindexes=new Array,t.selectedcells=new Array);var D=!1,P=this.getboundindex(m);t._oldselectedrow!==P&&"none"!==t.selectionmode||(D=!0),-1==t.selectionmode.indexOf("cell")?("singlerow"!=t.selectionmode||t.selectedrowindex!=P&&"singlerow"==t.selectionmode)&&(this._applyrowselection(P,!0,!1,null,q.datafield),this._selectrowwithmouse(t,p,k,q.datafield,e.ctrlKey||e.metaKey,e.shiftKey)):null!=q.datafield&&(this._selectrowwithmouse(t,p,k,q.datafield,e.ctrlKey||e.metaKey,e.shiftKey),e.shiftKey||this._applycellselection(P,q.datafield,!0,!1)),t._oldselectedcell&&t._oldselectedcell.datafield==t.selectedcell.datafield&&t._oldselectedcell.rowindex==t.selectedcell.rowindex&&(I=!0),t._oldselectedcell=t.selectedcell,t._oldselectedrow=P}if(t.autosavestate&&t.savestate&&t.savestate(),t.editable&&t.begincelledit&&"programmatic"!=t.editmode){if(e.isPropagationStopped&&e.isPropagationStopped())return!1;if("selectedrow"==t.editmode){if(D&&!t.editcell){if("checkbox"!==q.columntype){this._currentEditableColumn=y;t.beginrowedit(this.getboundindex(m))}}else if(t.editcell&&!D&&"none"!=t.selectionmode)t.endrowedit(t.editcell.row)}else{P=this.getboundindex(m);var A="click"==t.editmode||I&&"selectedcell"==t.editmode;if(-1==t.selectionmode.indexOf("cell")&&"dblclick"!=t.editmode&&(A=!0),A&&null!=m.boundindex&&q.editable){t.begincelledit(this.getboundindex(m),q.datafield,q.defaulteditorvalue);-1!=t.selectionmode.indexOf("cell")&&t._applycellselection(P,q.datafield,!1,!1)}-1!=t.selectionmode.indexOf("cell")&&"selectedcell"==t.editmode&&!I&&t.editcell&&t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),"dblclick"!=t.editmode||I||!t.editcell||t.editcell.row==P&&q.datafield==t.editcell.column||t.endcelledit(t.editcell.row,t.editcell.column,!1,!0)}return!0}}}return!0}},_columnPropertyChanged:function(e,t,i,s){},_rowPropertyChanged:function(e,t,i,s){},_serializeObject:function(e){if(null==e)return"";var i="";return te.each(e,function(e){0<e&&(i+=", "),i+="[";var t=0;for(obj in this)0<t&&(i+=", "),i+="{"+obj+":"+this[obj]+"}",t++;i+="]"}),i},isbindingcompleted:function(){return!this._loading},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._updatesize(!0,!0),e._resizeWindow(),e.virtualmode&&!e._loading?e.vScrollInstance.setPosition(0):setTimeout(function(){e._renderrows(e.virtualsizeinfo)},100))},propertyChangedHandler:function(e,t,i,s){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length))switch(t=t.toLowerCase()){case"editable":e.refresh();break;case"everpresentrowactionsmode":i!=s&&(e._removeaddnewrow(),e.render());break;case"everpresentrowactions":e._updateaddnewrowui();break;case"showeverpresentrow":case"everpresentrowposition":case"everpresentrowheight":i!=s&&(e._removeaddnewrow(),e.render());break;case"rtl":e.content.css("left",""),e.columns=e._columns,e._filterrowcache=[],e.vScrollBar.jqxScrollBar({rtl:s}),e.hScrollBar.jqxScrollBar({rtl:s}),e._initpager&&e._initpager(),e._initgroupsheader&&e._initgroupsheader(),e.render();break;case"enablebrowserselection":e.showfilterrow||(e.showstatusbar||e.showtoolbar||e.host.addClass("jqx-disableselect"),e.content.addClass("jqx-disableselect")),e.enablebrowserselection&&(e.content.removeClass("jqx-disableselect"),e.host.removeClass("jqx-disableselect"));break;case"columnsheight":(30!=e.columnsheight||e.columngroups)&&e._measureElement("column"),e._render(!0,!0,!0,!1,!1);break;case"rowsheight":s!=i&&(30!=e.rowsheight&&e._measureElement("cell"),e.virtualsizeinfo=null,e.rendergridcontent(!0,!1),e.refresh());break;case"scrollMode":e.vScrollInstance.thumbStep=e.rowsheight;break;case"showdefaultloadelement":e._builddataloadelement();break;case"showfiltermenuitems":case"showsortmenuitems":case"showgroupmenuitems":case"filtermode":e._initmenu();break;case"touchmode":i!=s&&(e._removeHandlers(),e.touchDevice=null,e.vScrollBar.jqxScrollBar({touchMode:s}),e.hScrollBar.jqxScrollBar({touchMode:s}),e._updateTouchScrolling(),e._arrange(),e._updatecolumnwidths(),e._updatecellwidths(),e._addHandlers());break;case"autoshowcolumnsmenubutton":i!=s&&e._rendercolumnheaders();break;case"rendergridrows":i!=s&&e.updatebounddata();break;case"editmode":i!=s&&(e._removeHandlers(),e._addHandlers());break;case"source":e.updatebounddata(),e.virtualmode&&!e._loading&&(e.loadondemand=!0,e._renderrows(e.virtualsizeinfo));break;case"horizontalscrollbarstep":case"verticalscrollbarstep":case"horizontalscrollbarlargestep":case"verticalscrollbarlargestep":this.vScrollBar.jqxScrollBar({step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep}),this.hScrollBar.jqxScrollBar({step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep});break;case"closeablegroups":e._initgroupsheader&&e._initgroupsheader();break;case"showgroupsheader":i!=s&&(e._arrange(),e._initgroupsheader&&e._initgroupsheader(),e._renderrows(e.virtualsizeinfo));break;case"theme":s!=i&&(te.jqx.utilities.setTheme(i,s,e.host),e.gridmenu&&e.gridmenu.jqxMenu({theme:s}),e.pageable&&e._updatepagertheme(),e.filterable&&e._updatefilterrowui(!0),e.showeverpresentrow&&e._updateaddnewrowui(!0));break;case"showtoolbar":case"toolbarheight":i!=s&&(e._arrange(),e.refresh());break;case"showstatusbar":i!=s&&(e.statusbar&&(s?e.statusbar.show():e.statusbar.hide()),e._arrange(),e.refresh());break;case"statusbarheight":i!=s&&(e._arrange(),e.refresh());break;case"filterable":case"showfilterrow":i!=s&&e.render();break;case"autoshowfiltericon":case"showfiltercolumnbackground":case"showpinnedcolumnbackground":case"showsortcolumnbackground":i!=s&&e.rendergridcontent();break;case"showrowdetailscolumn":i!=s&&e.render();break;case"scrollbarsize":i!=s&&e._arrange();break;case"width":case"height":i!=s&&(e._updatesize(!0,!0),e._resizeWindow(),e.virtualmode&&!e._loading?e.vScrollInstance.setPosition(0):setTimeout(function(){e._renderrows(e.virtualsizeinfo)},100));break;case"altrows":case"altstart":case"altstep":i!=s&&e._renderrows(e.virtualsizeinfo);break;case"groupsheaderheight":i!=s&&(e._arrange(),e._initgroupsheader&&e._initgroupsheader());break;case"pagerheight":i!=s&&e._initpager();break;case"selectedrowindex":e.selectrow(s);break;case"selectionmode":i!=s&&("none"==s&&(e.selectedrowindexes=new Array,e.selectedcells=new Array,e.selectedrowindex=-1),e._renderrows(e.virtualsizeinfo),"checkbox"==s&&e._render(!1,!1,!0,!1,!1));break;case"showheader":s?e.columnsheader.css("display","block"):e.columnsheader.css("display","none");break;case"virtualmode":i!=s&&(e.dataview.virtualmode=e.virtualmode,e.dataview.refresh(!1),e._render(!1,!1,!1));break;case"columnsmenu":i!=s&&e.render();break;case"columngroups":e._render(!0,!0,!0,!1,!1);break;case"columns":if(e._serializeObject(e._cachedcolumns)!==e._serializeObject(s)){var r=!1;e.filterable&&i&&i.records&&te.each(i.records,function(){this.filter&&(r=!0),e.dataview.removefilter(this.displayfield,this.filter)}),e._columns=null,e._filterrowcache=[],e.render(),r&&e.applyfilters(),e._cachedcolumns=e.columns,e.removesort&&e.removesort()}else e[t]=i;break;case"autoheight":i!=s&&e._render(!1,!1,!0);break;case"pagermode":case"pagerbuttonscount":i!=s&&e._initpager&&(e.pagershowrowscombo&&(e.pagershowrowscombo.jqxDropDownList("destroy"),e.pagershowrowscombo=null),e.pagerrightbutton&&(e.removeHandler(e.pagerrightbutton,"mousedown"),e.removeHandler(e.pagerrightbutton,"mouseup"),e.removeHandler(e.pagerrightbutton,"click"),e.pagerrightbutton.jqxButton("destroy"),e.pagerrightbutton=null),e.pagerleftbutton&&(e.removeHandler(e.pagerleftbutton,"mousedown"),e.removeHandler(e.pagerleftbutton,"mouseup"),e.removeHandler(e.pagerleftbutton,"click"),e.pagerleftbutton.jqxButton("destroy"),e.removeHandler(te(document),"mouseup.pagerbuttons"+e.element.id),e.pagerleftbutton=null),e.pagerdiv.remove(),e._initpager());break;case"pagesizeoptions":case"pageable":case"pagesize":if(i!=s){if(e._loading)throw new Error("jqxGrid: "+e.loadingerrormessage);if(!e.host.jqxDropDownList||!e.host.jqxListBox)return void e._testmodules();if(e._initpager){if("pageable"!=t&&"pagermode"!=t&&"string"==typeof s){var n="The expected value type is: Int.";if("pagesize"!=t)n="The expected value type is: Array of Int values.";throw new Error("Invalid Value for: "+t+". "+n)}e.dataview.pageable=e.pageable,e.dataview.pagenum=0,e.dataview.pagesize=e._getpagesize(),e.virtualmode&&e.updatebounddata(),e.dataview.refresh(!0),e._initpager(),"pagesizeoptions"==t&&null!=s&&0<s.length&&(e.pagesize=parseInt(s[0]),e.dataview.pagesize=parseInt(s[0]),e.prerenderrequired=!0,e._requiresupdate=!0,e.dataview.pagenum=-1,e.gotopage(0))}e._render(!1,!1,!1)}break;case"groups":e._serializeObject(i)!==e._serializeObject(s)&&(e.dataview.groups=s,e._refreshdataview(),e._render(!0,!0,!0,!1));break;case"groupable":i!=s&&(e.dataview.groupable=e.groupable,e.dataview.pagenum=0,e.dataview.refresh(!1),e._render(!1,!1,!0));break;case"renderstatusbar":null!=s&&e.renderstatusbar(e.statusbar);break;case"rendertoolbar":null!=s&&e.rendertoolbar(e.toolbar);break;case"disabled":s?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),te.jqx.aria(e,"aria-disabled",e.disabled),e.pageable&&(e.pagerrightbutton&&(e.pagerrightbutton.jqxButton({disabled:s}),e.pagerleftbutton.jqxButton({disabled:s}),e.pagershowrowscombo.jqxDropDownList({disabled:s}),e.pagergotoinput.attr("disabled",s)),e.pagerfirstbutton&&(e.pagerfirstbutton.jqxButton({disabled:s}),e.pagerlastbutton.jqxButton({disabled:s}))),e.vScrollBar.jqxScrollBar({disabled:s}),e.hScrollBar.jqxScrollBar({disabled:s}),e.filterable&&e.showfilterrow&&e._updatefilterrowui(!0),e.showeverpresentrow&&e._updateaddnewrowui(!0)}}}),te.jqx.collection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginupdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this._raiseEvent=function(e){},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t,this.updating||this._raiseEvent({type:"replace",element:t})},this.isempty=function(e){return null==this.records[e]},this.initialize=function(e){e<1&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null!=e&&(this.records[this.records.length]=e,this.updating||this._raiseEvent({type:"add",element:e}),!0)},this.insertAt=function(e,t){return null!=e&&null!=e&&(null!=t&&(0<=e&&(e<this.records.length?(this.records.splice(e,0,t),this.updating||this._raiseEvent({type:"insert",index:e,element:t}),!0):this.add(t))))},this.remove=function(e){if(null==e||null==e)return!1;var t=this.records.indexOf(e);return-1!=t&&(this.records.splice(t,1),this.updating||this._raiseEvent({type:"remove",element:e}),!0)},this.removeAt=function(e){if(null==e||null==e)return!1;if(e<0)return!1;if(e<this.records.length){var t=this.records[e];return this.records.splice(e,1),this.updating||this._raiseEvent({type:"removeAt",index:e,element:t}),!0}return!1},this},te.jqx.dataview=function(){return(this.self=this).aggregates=!1,this.grid=null,this.uniqueId="id",this.records=[],this.rows=[],this.columns=[],this.groups=[],this.filters=new Array,this.updated=null,this.update=null,this.suspend=!1,this.pagesize=0,this.pagenum=0,this.totalrows=0,this.totalrecords=0,this.groupable=!0,this.loadedrecords=[],this.loadedrootgroups=[],this.loadedgroups=[],this.loadedgroupsByKey=[],this.virtualmode=!0,this._cachegrouppages=new Array,this.source=null,this.changedrecords=new Array,this.rowschangecallback=null,(this.that=this).destroy=function(){delete this.self,delete this.grid,delete this.uniqueId,delete this.records,delete this.rows,delete this.columns,delete this.groups,delete this.filters,delete this.updated,delete this.update,delete this.suspend,delete this.pagesize,delete this.pagenum,delete this.totalrows,delete this.totalrecords,delete this.groupable,delete this.loadedrecords,delete this.loadedrootgroups,delete this.loadedgroups,delete this.loadedgroupsByKey,delete this.virtualmode,delete this._cachegrouppages,delete this.source,delete this.changedrecords,delete this.rowschangecallback,delete this.that},this.suspendupdate=function(){this.suspend=!0},this.isupdating=function(){return this.suspend},this.resumeupdate=function(e){this.suspend=!1,null==e&&(e=!0),this.refresh(e)},this.getrecords=function(){return this.records},this.clearrecords=function(){this.recordids=new Array},this.databind=function(l,e){var t=!!l._source,d=null;this.grid&&(this.aggregates=this.grid.showgroupaggregates),t?l=(d=l)._source:d=new te.jqx.dataAdapter(l,{autoBind:!1});var i,s=function(e){if(e.totalrecords=d.totalrecords,e.virtualmode){var t={startindex:e.pagenum*e.pagesize,endindex:e.pagenum*e.pagesize+e.pagesize};if(null!=l.recordstartindex&&(t.startindex=parseInt(l.recordstartindex)),null!=l.recordendindex?t.endindex=parseInt(l.recordendindex):e.grid.pageable||(t.endindex=t.startindex+100,e.grid.autoheight&&(t.endindex=t.startindex+e.totalrecords)),l.recordendindex||(e.grid.pageable?t={startindex:e.pagenum*e.pagesize,endindex:e.pagenum*e.pagesize+e.pagesize}:(t.endindex=t.startindex+100,e.grid.autoheight&&(t.endindex=t.startindex+e.totalrecords))),t.data=d.records,e.grid.rendergridrows&&0<e.totalrecords){var i=0;if(l.records=e.grid.rendergridrows(t),l.records.length&&(i=l.records.length),l.records&&!l.records[t.startindex]){var s=new Array,r=t.startindex;te.each(l.records,function(){s[r]=this,r++,i++}),l.records=s}if(0==i&&l.records&&te.each(l.records,function(){i++}),0<i&&i<t.endindex-t.startindex&&!e.grid.groupable)for(var n=l.records[0],o=0;o<t.endindex-t.startindex-i;o++){var a={};for(obj in n)a[obj]="";l.records.push&&l.records.push(a)}}l.records&&0!=e.totalrecords||(l.records=new Array),e.originaldata=l.records,e.records=l.records,e.cachedrecords=l.records}else e.originaldata=d.originaldata,e.records=d.records,e.recordids=d.recordids,e.cachedrecords=d.cachedrecords};i=this,d.recordids=[],d.records=new Array,d.cachedrecords=new Array,d.originaldata=new Array,d._options.virtualmode=i.virtualmode,d._options.totalrecords=i.totalrecords,d._options.originaldata=i.originaldata,d._options.recordids=i.recordids,d._options.cachedrecords=new Array,d._options.pagenum=i.pagenum,d._options.pageable=i.pageable,null!=l.type&&(d._options.type=l.type),null!=l.formatdata&&(d._options.formatData=l.formatdata),null!=l.contenttype&&(d._options.contentType=l.contenttype),null!=l.async&&(d._options.async=l.async),null!=l.updaterow&&(d._options.updaterow=l.updaterow),null!=l.addrow&&(d._options.addrow=l.addrow),null!=l.deleterow&&(d._options.deleterow=l.deleterow),0==i.pagesize&&(i.pagesize=10),d._options.pagesize=i.pagesize,this.source=l,void 0!==e&&(uniqueId=e);var o=this.that;switch(l.datatype){case"local":case"array":default:if(null==l.localdata&&(l.localdata=[]),null!=l.localdata)d.unbindBindingUpdate(o.grid.element.id),(!o.grid.autobind&&o.grid.isInitialized||o.grid.autobind)&&d.dataBind(),(j=function(r){if(null!=r&&""!=r){if(d._changedrecords[0]){var n=new Array;te.each(d._changedrecords,function(e){var t=this.index,i=this.record;switch(o.grid._updateFromAdapter=!0,r){case"update":var s=o.grid.getrowid(t);return e==d._changedrecords.length-1?o.grid.updaterow(s,i):o.grid.updaterow(s,i,!1),void(o.grid._updateFromAdapter=!1);case"add":return o.grid.addrow(null,i),void(o.grid._updateFromAdapter=!1);case"remove":s=o.grid.getrowid(t);return void n.push(s)}}),0<n.length&&(o.grid.deleterow(n,!1),o.grid._updateFromAdapter=!1)}if("update"==r)return}var e=o.totalrecords;s(o),null===l.localdata.notifier&&"observableArray"==l.localdata.name&&(l.localdata.notifier=function(e){if(!this._updating){this._updating=!0;var t=o.grid.getrowid(e.index);switch(e.type){case"add":var i=te.extend({},e.object[e.index]),s=d.getid(l.id,i,e.index);0===e.index?o.grid.addrow(s,i,"first"):o.grid.addrow(s,i);break;case"delete":o.grid.deleterow(t);break;case"update":if(e.path&&1<e.path.split(".").length){var r=e.path.split(".");o.grid.setcellvalue(e.index,r[r.length-1],e.newValue)}else{i=te.extend({},e.object[e.index]);o.grid.updaterow(t,i)}}this._updating=!1}}),"updateData"==r?(o.refresh(),o.grid._updateGridData()):(l.recordstartindex&&this.virtualmode?o.updateview(l.recordstartindex,l.recordstartindex+o.pagesize):o.refresh(),o.update(e!=o.totalrecords))})(),d.bindBindingUpdate(o.grid.element.id,j);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=l.localdata)return d.unbindBindingUpdate(o.grid.element.id),(!o.grid.autobind&&o.grid.isInitialized||o.grid.autobind)&&d.dataBind(),(j=function(e){var t=o.totalrecords;s(o),"updateData"==e?(o.refresh(),o.grid._updateGridData()):(l.recordstartindex&&o.virtualmode?o.updateview(l.recordstartindex,l.recordstartindex+o.pagesize):o.refresh(),o.update(t!=o.totalrecords))})(),void d.bindBindingUpdate(o.grid.element.id,j);for(var r=[],n=0,a={},h=0;h<this.filters.length;h++){var c=this.filters[h].datafield,u=this.filters[h].filter;if(u.getfilters){var p=u.getfilters();a[c+"operator"]=u.operator;for(var m=0;m<p.length;m++){p[m].datafield=c;var f=p[m].value;if("datefilter"==p[m].type)if(p[m].value&&p[m].value.toLocaleString){var g=this.grid.getcolumn(p[m].datafield);if(g&&g.cellsformat){var v=this.grid.source.formatDate(p[m].value,g.cellsformat,this.grid.gridlocalization);a["filtervalue"+n]=v||p[m].value.toLocaleString()}else a["filtervalue"+n]=f.toString()}else a["filtervalue"+n]=f.toString();else a["filtervalue"+n]=f.toString(),p[m].data&&(a["filterid"+n]=p[m].data.toString()),p[m].id&&(a["filterid"+n]=p[m].id.toString());a["filtercondition"+n]=p[m].condition,a["filteroperator"+n]=p[m].operator,a["filterdatafield"+n]=c;var x={label:f.toString()};p[m].data&&(x.value=p[m].data.toString()),p[m].id?x.value=p[m].id.toString():x.value=f.toString(),x.condition=p[m].condition,x.operator=0==p[m].operator?"and":"or",x.field=c,x.type=p[m].type;var w=!1;if(0<r.length)for(var y=0;y<r.length;y++){var b=r[y];if(b.field==c){b.filters.push(x),w=!0;break}}w||(r.push({field:c,filters:[]}),r[r.length-1].filters.push(x)),n++}}}a.filterGroups=r,a.filterscount=n,a.groupscount=o.groups.length;for(h=0;h<o.groups.length;h++)a["group"+h]=o.groups[h];null==l.recordstartindex&&(l.recordstartindex=0),null!=l.recordendindex&&0!=l.recordendindex||(o.grid.height&&-1==o.grid.height.toString().indexOf("%")?(l.recordendindex=parseInt(o.grid.height)/o.grid.rowsheight,l.recordendindex+=2):l.recordendindex=te(window).height()/o.grid.rowsheight,l.recordendindex=parseInt(l.recordendindex),this.pageable&&(l.recordendindex=this.pagesize)),this.pageable&&(l.recordstartindex=this.pagenum*this.pagesize,l.recordendindex=(this.pagenum+1)*this.pagesize),te.extend(a,{sortdatafield:o.sortfield,sortorder:o.sortfielddirection,pagenum:o.pagenum,pagesize:o.grid.pagesize,recordstartindex:l.recordstartindex,recordendindex:l.recordendindex});var _=d._options.data;d._options.data?te.extend(d._options.data,a):(l.data&&te.extend(a,l.data),d._options.data=a);var j=function(){var e=function(){var e=o.totalrecords;s(o),l.recordstartindex&&o.virtualmode?o.updateview(l.recordstartindex,l.recordstartindex+o.pagesize):o.refresh(),o.update(e!=o.totalrecords)};if(te.jqx.browser.msie&&te.jqx.browser.version<9)try{e()}catch(e){}else e()};d.unbindDownloadComplete(o.grid.element.id),d.bindDownloadComplete(o.grid.element.id,j),!o.grid.autobind&&o.grid.isInitialized||o.grid.autobind?d.dataBind():o.grid.isInitialized||o.grid.autobind||j(),d._options.data=_}},this.getid=function(e,t,i){if(0<te(e,t).length)return te(e,t).text();if(e&&0<e.toString().length){var s=te(t).attr(e);if(null!=s&&0<s.toString().length)return s}return i},this.getvaluebytype=function(e,t){var i=e;if("date"==t.type){var s=new Date(e);null==(e=("NaN"==s.toString()||"Invalid Date"==s.toString())&&te.jqx.dataFormat?te.jqx.dataFormat.tryparsedate(e):s)&&(e=i)}else if("float"==t.type){e=parseFloat(e);isNaN(e)&&(e=i)}else if("int"==t.type){e=parseInt(e);isNaN(e)&&(e=i)}else"bool"==t.type&&(null!=e&&("false"==e.toLowerCase()?e=!1:"true"==e.toLowerCase()&&(e=!0)),e=1==e||0!=e&&"");return e},this.setpaging=function(e){null!=e.pageSize&&(this.pagesize=e.pageSize),null!=e.pageNum&&(this.pagenum=Math.min(e.pageNum,Math.ceil(this.totalrows/this.pagesize))),this.refresh()},this.getpagingdetails=function(){return{pageSize:this.pagesize,pageNum:this.pagenum,totalrows:this.totalrows}},this._clearcaches=function(){this.sortcache={},this.sortdata=null,this.changedrecords=new Array,this.records=new Array,this.rows=new Array,this.cacheddata=new Array,this.originaldata=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid=new Array,this.cachedrecords=new Array,this.recordids=new Array},this.addfilter=function(e,t){for(var i=-1,s=0;s<this.filters.length;s++)if(this.filters[s].datafield==e){i=s;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removefilter=function(e){for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this.getItemFromIndex=function(e){return this.records[e]},this.updaterow=function(e,t,i){if(!(this.filters&&0<this.filters.length&&!this.virtualmode)&&null!=t&&null!=e){t.uid=e,t[this.source.id]||(t[this.source.id]=t.uid);var s=this.recordsbyid["id"+e];return-1!=(n=this.records.indexOf(s))&&(this.records[n]=t,this.cachedrecords&&(this.cachedrecords[n]=t),1!=i&&null!=i||this.refresh(),this.changedrecords[t.uid]={Type:"Update",OldData:s,Data:t},!0)}if(this.filters&&0<this.filters.length){for(var r=this.cachedrecords,n=(s=null,-1),o=0;o<r.length;o++)if(r[o].uid==e){s=r[o],n=o;break}if(s){var a=this.that;for(var l in t)a.cachedrecords[n][l]=t[l];return 1!=i&&null!=i||this.refresh(),!0}}return!1},this.addrow=function(e,t,i,s){if(null!=t){if(te.isEmptyObject(t)&&this.source&&this.source.datafields&&te.each(this.source.datafields,function(){var e="";"number"==this.type&&(e=null),"date"==this.type&&(e=null),"bool"!=this.type&&"boolean"!=this.type||(e=!1),t[this.name]=e}),!e||this.recordsbyid["id"+e]){t.uid=this.getid(this.source.id,t,this.totalrecords);for(var r=this.recordsbyid["id"+t.uid];null!=r;){var n=Math.floor(1e4*Math.random()).toString();t.uid=n,r=this.recordsbyid["id"+n]}}else t.uid=e;return t[this.source.id]||null!=this.source.id&&(t[this.source.id]=t.uid),"last"==i?this.records.push(t):"number"==typeof i&&isFinite(i)?this.records.splice(i,0,t):this.records.splice(0,0,t),this.filters&&0<this.filters.length&&("last"==i?this.cachedrecords.push(t):"number"==typeof i&&isFinite(i)?this.cachedrecords.splice(i,0,t):this.cachedrecords.splice(0,0,t)),this.totalrecords++,this.virtualmode&&(this.source.totalrecords=this.totalrecords),1!=s&&null!=s||this.refresh(),this.changedrecords[t.uid]={Type:"New",Data:t},!0}return!1},this.deleterow=function(e,t){if(null!=e){var i=this.filters&&0<this.filters.length;if(this.recordsbyid["id"+e]&&!i){var s=this.recordsbyid["id"+e],r=this.records.indexOf(s);return this.changedrecords[e]={Type:"Delete",Data:this.records[r]},this.records.splice(r,1),this.totalrecords--,this.virtualmode&&(this.source.totalrecords=this.totalrecords),1!=t&&null!=t||this.refresh(),!0}if(this.filters&&0<this.filters.length){for(var n=this.cachedrecords,o=(s=null,r=-1,0);o<n.length;o++)if(n[o].uid==e){s=n[o],r=o;break}if(s)return this.cachedrecords.splice(r,1),1!=t&&null!=t||(this.totalrecords=0,this.records=this.cachedrecords,this.refresh()),!0}return!1}return!1},this.reload=function(e,t,i,s,r,n,o){var a=this.that,l=new Array,d=e,h=t,c=i,u=s,p=h.length,m=0;if(this.columns=[],this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid={},0==this.totalrecords){Object.size=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i};var f=Object.size(d);this.totalrecords=f,te.each(this.records,function(e){var i=0;return te.each(this,function(e,t){a.columns[i++]=e}),!1})}if(this.virtualmode){if(this.pageable)return void this.updateview();n=0;if(!this.groupable)return void this.updateview();o=this.totalrecords}else n=0,o=this.totalrecords;if(this.groupable&&0<this.groups.length&&this.loadgrouprecords){var g=n;g=this.loadgrouprecords(0,n,o,c,0,u,h,p,l)}else m=this.loadflatrecords(n,o,c,0,u,h,p,l);return 0<p&&h.splice(0,p-0),0<this.groups.length&&this.groupable?this.totalrows=g:this.totalrows=m,l},this.loadflatrecords=function(e,t,i,s,r,n,o,a){var l=this.that,d=e,h=e;t=Math.min(t,this.totalrecords);for(var c=null!=this.sortdata,u=(this.source.id&&("local"==this.source.datatype||"array"==this.source.datatype||this.source.datatype),c?this.sortdata:this.records),p=e;p<t;p++){var m={};c?(m=te.extend({},u[p].value),id=m[l.uniqueId],m.boundindex=u[p].index,null==m.uid&&(m.uid=l.getid(l.source.id,m,m.boundindex)),l.recordsbyid["id"+m.uid]=u[p].value,(l.loadedrecords[d]=m).uniqueid=l.generatekey(),l.bounditems[m.boundindex]=m):(m=new Object(u[p]),id=m[l.uniqueId],m.boundindex=d,null==(l.loadedrecords[d]=m).uid&&(m.uid=l.getid(l.source.id,m,d)),l.recordsbyid["id"+m.uid]=u[p],m.uniqueid=l.generatekey(),l.bounditems[this.bounditems.length]=m),(o<=s||id!=n[s][l.uniqueId]||r&&r[id])&&(a[a.length]=s),n[s]=m,s++,m.visibleindex=h,h++,d++}if(l.grid.summaryrows){var f=d;te.each(l.grid.summaryrows,function(){var e=te.extend({},this);e.boundindex=t++,(l.loadedrecords[f]=e).uniqueid=l.generatekey(),l.bounditems[l.bounditems.length]=e,n[s]=e,s++,e.visibleindex=h,h++,f++})}return h},this.updateview=function(e,t){var i=this.that,s=this.pagesize*this.pagenum,r=0,n=new Array,o=this.filters,a=this.updated,l=n.length;if(this.pageable){if(this.virtualmode)if(this.groupable&&0!=this.groups.length){if(this.groupable&&0<this.groups.length&&this.loadgrouprecords){if(null!=this._cachegrouppages[this.pagenum+"_"+this.pagesize])return this.rows=this._cachegrouppages[this.pagenum+"_"+this.pagesize],void(this.totalrows=this.rows.length);var d=this.pagesize*(1+this.pagenum);return d>this.totalrecords&&(d=this.totalrecords),this.loadgrouprecords(0,this.pagesize*this.pagenum,d,o,r,a,n,l,[]),this._cachegrouppages[this.pagenum+"_"+this.pagesize]=this.rows,void(this.totalrows=this.rows.length)}}else this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),o,r,a,n,l,[]),this.totalrows=n.length}else if(this.virtualmode&&(!this.groupable||0==this.groups.length)){var h=this.pagesize;0==h&&(h=Math.min(100,this.totalrecords));this.pagenum;if(0==this.loadedrecords.length&&0,null!=e&&null!=t?this.loadflatrecords(e,t,o,r,a,n,l,[]):this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),o,r,a,n,l,[]),this.totalrows=this.loadedrecords.length,(this.rows=n).length>=h)return}if(this.groupable&&this.pageable&&0<this.groups.length&&this._updategroupsinpage)n=this._updategroupsinpage(i,o,s,r,l,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum));else for(var c=this.pagesize*this.pagenum;c<this.pagesize*(1+this.pagenum);c++){null!=(p=c<this.loadedrecords.length?this.loadedrecords[c]:null)&&((!this.pagesize||s>=this.pagesize*this.pagenum&&s<=this.pagesize*(this.pagenum+1))&&(n[r]=p,r++),s++)}if((0==n.length||n.length<this.pagesize)&&!this.pageable&&this.virtualmode){r=n.length;var u=n.length;for(c=this.pagesize*this.pagenum;c<this.pagesize*(1+this.pagenum)-u;c++){var p;(p={}).boundindex=c+u,p.visibleindex=c+u,p.uniqueid=i.generatekey(),p.empty=!0,i.bounditems[c+u]=p,n[r]=p,r++}}this.rows=n},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},this.reloaddata=function(){this.reload(this.records,this.rows,this.filter,this.updated,!0)},this.refresh=function(e){if(!this.suspend){null==e&&(e=!0);var t=this.rows.length,i=this.totalrows;if(0<this.filters.length&&!this.virtualmode){var s="",r=this.cachedrecords.length,n=new Array;this.totalrecords=0;var o=this.cachedrecords;this._dataIndexToBoundIndex=new Array;var a=this.filters.length;if(null!=this.source&&null!=this.source.filter&&null!=this.source.localdata)null==(n=this.source.filter(this.filters,o,r))&&(n=new Array),this.records=n;else if(null==this.source.filter||null==this.source.filter){for(var l=0;l<r;l++){for(var d=o[l],h=void 0,c=0;c<a;c++){s=this.filters[c].filter;var u=d[this.filters[c].datafield],p=s.evaluate(u);if(this.grid.filter){var m=this.grid.filter(u,d,this.filters[c].datafield,s,p);void 0!==m&&(p=m)}h=null==h?p:"or"==s.operator?h||p:h&&p}h?(n[n.length]=te.extend({dataindex:l},d),this._dataIndexToBoundIndex[l]={boundindex:n.length-1}):this._dataIndexToBoundIndex[l]=null}this.records=n}if(this.sortdata){var f=this.sortfield;if(this.sortcache[f]){this.sortdata=null;var g=this.sortcache[f].direction;return this.sortcache[f]=null,void this.sortby(this.sortfield,g)}}}else if(0==this.filters.length&&!this.virtualmode&&this.cachedrecords){this.totalrecords=0;o=this.cachedrecords;if(this.records=o,this.sortdata){f=this.sortfield;if(this.sortcache[f]){this.sortdata=null;g=this.sortcache[f].direction;return this.sortcache[f]=null,void this.sortby(this.sortfield,g)}}}var v=this.reload(this.records,this.rows,this.filter,this.updated,e);(this.updated=null)!=this.rowschangecallback&&(i!=totalrows&&this.rowschangecallback({type:"PagingChanged",data:getpagingdetails()}),t!=rows.length&&this.rowschangecallback({type:"RowsCountChanged",data:{previous:t,current:rows.length}}),(0<v.length||t!=rows.length)&&this.rowschangecallback({type:"RowsChanged",data:{previous:t,current:rows.length,diff:v}}))}},this}}(jqxBaseFramework),function(z){z.jqx.dataview.grouping=function(){this.loadgrouprecords=function(o,i,e,t,s,r,n,a,l){for(var d=o,h=this,c=new Array,u=0;u<h.groups.length;u++)c[u]=h.generatekey();var p=new Array,m=0,f=(c=c,new Array),g=i,v=h.groups.length;this.loadedrecords=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this.sortedgroups=new Array;var x=null!=this.sortdata,w=x?this.sortdata:this.records;if(this.pageable){var y=new Array,b=0;w[i]||(z.each(w,function(e,t){y[i+e++]=this}),w=y)}if(this.virtualmode){for(y=new Array,b=0,g=0;g<e-i;g++)w[g]?y[i+b++]=w[g]:w[i+b]&&(y[i+b]=w[i+b],b++);g=0,w=y}for(var _=i;_<e;_++){var j={};j=x?z.extend({},w[_].value):z.extend({},w[_]),id=j[h.uniqueId],(a<=s||id!=n[s][h.uniqueId]||r&&r[id])&&(l[l.length]=s);var q=new Array,T=0;for(u=0;u<v;u++){var C=j[H=h.groups[u]];null==C&&(C=""),q[T++]={value:C,hash:c[u]}}if(q.length!=v)break;for(var S=null,k="",I=0;I<q.length;I++){0;var D=q[I].value;if(null==f[k=k+"_"+q[I].hash+"_"+D]||null==f[k]){if(null==S)S={group:D,subItems:new Array,subGroups:new Array,level:0},(p[m++]=S).uniqueid=h.generatekey(),h.loadedgroupsByKey[D]=S;else{var P={group:D,subItems:new Array,subGroups:new Array,parentItem:S,level:S.level+1};(h.loadedgroupsByKey[S.uniqueid+"_"+D]=P).uniqueid=h.generatekey(),S.subGroups[S.subGroups.length++]=P,S=P}f[k]=S}else S=f[k]}null!=S?(null==j.uid&&(j.uid=this.getid(this.source.id,j,g)),x?(j.boundindex=w[_].index,this.recordsbyid["id"+j.uid]=w[_].value):(j.boundindex=g,this.recordsbyid["id"+j.uid]=w[_]),this.bounditems[j.boundindex]=j,(this.sortedgroups[g]=j).uniqueid=h.generatekey(),j.parentItem=S,j.level=S.level+1,S.subItems[S.subItems.length++]=j):(null==j.uid&&(j.uid=this.getid(this.source.id,j,g)),x?(j.boundindex=w[_].index,this.recordsbyid["id"+j.uid]=w[_].value):(j.boundindex=g,this.recordsbyid["id"+j.uid]=w[_]),this.sortedgroups[g]=j,(this.bounditems[j.boundindex]=j).uniqueid=h.generatekey()),s++,g++,0}var A=function(e,t,i){for(var s=0;s<t.subItems.length;s++)t.subItems[s].visibleindex=o+i,e.rows[i]=t.subItems[s],e.loadedrecords[i]=t.subItems[s],i++;return i},M=function(h,e,n){var i=1,c=h.grid.columns.records?h.grid.columns.records:h.grid.columns;if(1==h.aggregates)for(var t=0;t<c.length;t++)c[t].aggregates&&(i=Math.max(i,c[t].aggregates.length));for(subGroup in e.subGroups){var s=e.subGroups[subGroup];s.subGroups&&((h.loadedgroups[h.loadedgroups.length]=s).visibleindex=o+n,h.rows[n]=s,h.loadedrecords[n]=s,n++,0<s.subGroups.length?n=M(h,s,n):0<s.subItems.length&&(n=A(h,s,n)))}return 0<e.subItems.length&&(n=A(h,e,n)),function(r){if(1==h.aggregates)for(var e=function(l){var e=r,d={},t=function(e){for(var t=0;t<c.length;t++)if(c[t].aggregates)for(var i=h.grid.getcolumnaggregateddata(c[t].datafield,c[t].aggregates,!0,e),s=0;s<c[t].aggregates.length;s++)if(c[t].aggregates[l]){var r=c[t],n=c[t].aggregates[l],o=n,a=(o=h.grid._getaggregatename(o))+":"+i[n];i[n]?d[r.datafield]=a:d[r.datafield]=o+":"+i[o]}};if(null!=e)if(d.level=e.level,d.visibleindex=o+n,d.uniqueid=h.generatekey(),h.rows[n]=d,(h.loadedrecords[n++]=d).totalsrow=!0,0<r.subItems.length){e=r.subItems[r.subItems.length-1],d.parentItem=e.parentItem,d.parentItem.subItems&&(d.parentItem.subItems[d.parentItem.subItems.length]=d);var i=[];(s=function(){for(var e=0;e<r.subItems.length;e++)r.subItems[e].totalsrow||(i[i.length]=r.subItems[e])})(r),t(i)}else if(0<r.subGroups.length){var s;e=r.subGroups[r.subGroups.length-1],d.level=e.level,(d.parentItem=r).subGroups[r.subGroups.length]=d,i=[],(s=function(e){if(!e.totalsrow){for(var t=0;t<e.subItems.length;t++)e.subItems[t].totalsrow||(i[i.length]=e.subItems[t]);for(t=0;t<e.subGroups.length;t++)s(e.subGroups[t])}})(r),t(i)}},t=0;t<i;t++)e(t)}(e),n},B=p.length;this.loadedgroups=new Array,this.rows=new Array;for(d=0,g=0;g<B;g++){var H=p[g];this.loadedrootgroups[g]=H,(this.loadedgroups[this.loadedgroups.length]=H).visibleindex=o+d,this.rows[d]=H,this.loadedrecords[d]=H,d=M(this,H,++d)}return d},this._updategroupsinpage=function(e,t,i,s,r,n,o){var a=new Array,l=[];if(this.groupable&&0<this.groups.length){for(var d=0,h=new Array,c=new Array,u=0;u<e.groups.length;u++)c[u]=e.generatekey();var p=0,m=new Array,f=0;o>this.totalrecords&&(o=this.totalrecords);for(var g=n;g<o;g++){var v=z.extend({},e.sortedgroups[g]);if(id=v[e.uniqueId],!e.pagesize||i>=e.pagesize*e.pagenum&&i<e.pagesize*(e.pagenum+1)){(r<=s||id!=a[s][e.uniqueId]||updated&&updated[id])&&(l[l.length]=s);var x=new Array,w=0;for(u=0;u<e.groups.length;u++){var y=v[D=e.groups[u]];null==y&&(y=""),x[w++]={value:y,hash:c[u]}}if(x.length!=e.groups.length)break;for(var b=null,_="",j=0;j<x.length;j++){0;var q=x[j].value;if(null==h[_=_+"_"+x[j].hash+"_"+q]||null==h[_]){if(null==b){b={group:q,subItems:new Array,subGroups:new Array,level:0},m[f++]=b,null!=(C=e.loadedgroupsByKey[q])&&(b.visibleindex=C.visibleindex,b.uniqueid=C.uniqueid)}else{var T={group:q,subItems:new Array,subGroups:new Array,parentItem:b,level:b.level+1},C=e.loadedgroupsByKey[b.uniqueid+"_"+q];T.visibleindex=C.visibleindex,T.uniqueid=C.uniqueid,b.subGroups[b.subGroups.length++]=T,b=T}h[_]=b}else b=h[_]}null!=b&&(v.parentItem=b,v.level=b.level+1,b.subItems[b.subItems.length++]=v),s++}p++,i++}var S=function(e,t,i){for(var s=0;s<t.subItems.length;s++)a[i]=z.extend({},t.subItems[s]),i++;return i},k=function(e){var t=!1;for(subGroup in e.subGroups){var i=e.subGroups[subGroup];if(i.subGroups){if(0<i.subGroups.length)if(k(i))return t=!0;if(0<i.subItems.length)return t=!0}}return 0<e.subItems.length?t=!0:t},I=function(h,e,n){var i=1,c=h.grid.columns.records?h.grid.columns.records:h.grid.columns;if(1==h.aggregates)for(var t=0;t<c.length;t++)c[t].aggregates&&(i=Math.max(i,c[t].aggregates.length));var s=function(r){if(1==h.aggregates)for(var e=function(l){var e=r,d={},t=function(e){for(var t=0;t<c.length;t++)if(c[t].aggregates)for(var i=h.grid.getcolumnaggregateddata(c[t].datafield,c[t].aggregates,!0,e),s=0;s<c[t].aggregates.length;s++)if(c[t].aggregates[l]){var r=c[t],n=c[t].aggregates[l],o=n,a=(o=h.grid._getaggregatename(o))+":"+i[n];d[r.datafield]=a}};if(null!=e)if(d.level=e.level,d.visibleindex=n,d.uniqueid=h.generatekey(),a[n]=d,(h.loadedrecords[n++]=d).totalsrow=!0,0<r.subItems.length){e=r.subItems[r.subItems.length-1],d.parentItem=e.parentItem,d.parentItem.subItems&&(d.parentItem.subItems[d.parentItem.subItems.length]=d);var i=[];(s=function(){for(var e=0;e<r.subItems.length;e++)r.subItems[e].totalsrow||(i[i.length]=r.subItems[e])})(r),t(i)}else if(0<r.subGroups.length){e=r.subGroups[r.subGroups.length-1],d.level=e.level,(d.parentItem=r).subGroups[r.subGroups.length]=d;var s;i=[];(s=function(e){if(!e.totalsrow){for(var t=0;t<e.subItems.length;t++)e.subItems[t].totalsrow||(i[i.length]=e.subItems[t]);for(t=0;t<e.subGroups.length;t++)s(e.subGroups[t])}})(r),t(i)}},t=0;t<i;t++)e(t)};for(subGroup in e.subGroups){var r=e.subGroups[subGroup];r.subGroups&&k(r)&&(a[n]=r,n++,0<r.subGroups.length?n=I(h,r,n):0<r.subItems.length&&(n=S(0,r,n)),s(r))}return 0<e.subItems.length&&(n=S(0,e,n)),s(e),n};for(p=0;p<m.length;p++){var D=m[p];k(D)&&(a[d]=D,d=I(this,D,++d))}}return a}},z.extend(z.jqx._jqxGrid.prototype,{_initgroupsheader:function(){if(this.groupsheader.css("visibility","hidden"),this._groupsheader()){this.groupsheader.css("visibility","inherit");var a=this,e=this.gridlocalization.groupsheaderstring;this.groupsheaderdiv=this.groupsheaderdiv||z('<div style="width: 100%; position: relative;"></div>'),this.groupsheaderdiv.height(this.groupsheaderheight),this.groupsheaderdiv.css("top",0),this.groupsheader.append(this.groupsheaderdiv),this.groupheadersbounds=new Array;var l=this.groups.length;this.groupsheaderdiv.children().remove(),this.groupsheaderdiv[0].innerHTML="";var d=new Array;if(0<l)z.each(this.groups,function(e){var t=this,i=a._getColumnText(this).label,s=a._rendergroupcolumn(i,t);if(s.addClass(a.toThemeProperty("jqx-grid-group-column")),a.groupsheaderdiv.append(s),a.closeablegroups){var r=z(s.find(".jqx-icon-close"));a.isTouchDevice()&&!0!==a.touchmode?a.addHandler(r,"touchstart",function(){return a.removegroupat(e),!1}):a.addHandler(r,"click",function(){return a.removegroupat(e),!1})}if(a.sortable&&a.addHandler(s,"click",function(){var e=a.getcolumn(t);return null!=e&&a._togglesort(e),!1}),d[d.length]=s,a._handlegroupstocolumnsdragdrop(this,s),e<l-1){var n=s.height(),o=z('<div style="float: left; position: relative;"></div>');a.rtl&&o.css("float","right"),o.width(a.groupindentwidth/3),o.height(1),o.css("top",n/2),o.addClass(a.toThemeProperty("jqx-grid-group-column-line")),a.groupsheaderdiv.append(o)}});else{var t=z('<div style="position: relative;">'+e+"</div>");this.groupsheaderdiv.append(t),this.rtl&&t.addClass(this.toThemeProperty("jqx-rtl"))}this._groupheaders=d,this._updategroupheadersbounds()}},_updategroupheadersbounds:function(){var i=this,e=this.groupsheaderdiv.children().outerHeight(),t=(this.groupsheader.height()-e)/2;this.groupsheaderdiv.css("top",t),this.rtl?(this.groupsheaderdiv.css("left",""),this.groupsheaderdiv.css("right",t)):(this.groupsheaderdiv.css("left",t),this.groupsheaderdiv.css("right","")),this.rtl&&this._groupheaders.reverse(),z.each(this._groupheaders,function(e){var t=this.coord();i.groupheadersbounds[e]={left:t.left,top:t.top,width:this.outerWidth(),height:this.outerHeight(),index:e}})},addgroup:function(e){if(e){var t=this;t.groups!==t.dataview.groups&&(t.dataview.groups=t.groups),t.groups[t.groups.length]=e,t.refreshgroups(),this._raiseEvent(12,{type:"Add",index:t.groups[t.groups.length],groups:t.groups})}},insertgroup:function(e,t){if(null!=e&&null!=e&&0<=e&&e<=this.groups.length&&t){this.groups!==this.dataview.groups&&(this.dataview.groups=this.groups),this.groups.splice(e,0,t.toString()),this.refreshgroups(),this._raiseEvent(12,{type:"Insert",index:e,groups:this.groups})}},refreshgroups:function(){this._refreshdataview(),this._render(!0,!0,!0,!1),this._postrender("group")},_insertaftergroup:function(e,t){var i=this._getGroupIndexByDataField(e);this.insertgroup(i+1,t)},_insertbeforegroup:function(e,t){var i=this._getGroupIndexByDataField(e);this.insertgroup(i,t)},removegroupat:function(e){if(0<=e&&null!=e&&null!=e){return this.groups!==this.dataview.groups&&(this.dataview.groups=this.groups),this.groups.splice(e,1),this.refreshgroups(),this.virtualmode&&this.updatebounddata(),this._raiseEvent(12,{type:"Remove",index:e,groups:this.groups}),!0}return!1},cleargroups:function(){return this.groups=[],this.dataview.groups=this.groups,this.refreshgroups(),this._raiseEvent(12,{type:"Clear",index:-1,groups:this.groups}),!0},removegroup:function(e){if(null==e)return!1;var t=this.groups.indexOf(e.toString());return this.removegroupat(t)},getrootgroupscount:function(){return this.dataview.loadedrootgroups.length},collapsegroup:function(e){if(0<=e&&-1===e.toString().indexOf("."))return this._setrootgroupstate(e,!1);var t=e.toString().split("."),i=null;this.groupsVisibility||(this.groupsVisibility=new Array);for(var s=0;s<t.length;s++){e=parseInt(t[s]);if(0==s){i=this.dataview.loadedrootgroups[e];this.groupsVisibility[i.group]=null}else{var r=i.subGroups[e];r&&(i=r,s==t.length-1&&(this._setgroupstate(i,!1,!0),this.groupsVisibility[i.group]=null))}}},expandgroup:function(e){if(0<=e&&-1===e.toString().indexOf("."))return this._setrootgroupstate(e,!0);for(var t=e.toString().split("."),i=null,s=0;s<t.length;s++){e=parseInt(t[s]);if(0==s){i=this.dataview.loadedrootgroups[e];this._setrootgroupstate(e,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[i.group]=i}else{var r=i.subGroups[e];r&&(i=r,this._setgroupstate(i,!0,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[i.group]=i)}}},collapseallgroups:function(e){this._setbatchgroupstate(!1,e)},expandallgroups:function(e){this._setbatchgroupstate(!0,e)},isgroupexpanded:function(e){var t=this.dataview.loadedrootgroups[e];return null==t?null:this.expandedgroups[t.uniqueid].expanded},getgroup:function(e){var t=this.dataview.loadedrootgroups[e];if(null==t)return null;var i=this.expandedgroups[t.uniqueid].expanded,s=t.group,r=t.level,n=new Array;this._getsubgroups(n,t);var o=this,a={group:s,level:r,expanded:i,subgroups:n};if(t.subItems){var l=new Array;z.each(t.subItems,function(){var e=this.boundindex;l[l.length]=o.getrowdata(e)}),0<l.length&&(a.subrows=l)}return a},getrootgroups:function(){for(var e=this.dataview.loadedrootgroups.length,t=new Array,i=0;i<e;i++)t[i]=this.getgroup(i);return t},_getsubgroups:function(e,t){var i=this;for(obj in t.subGroups){var s=t.subGroups[obj],r=i.expandedgroups[s.uniqueid].expanded,n=s.group,o=s.level;if(e[e.length]={group:n,level:o,expanded:r},s.subItems){var a=new Array;z.each(s.subItems,function(){var e=this.boundindex;a[a.length]=i.getrowdata(e)}),e[e.length-1].subrows=a}if(s.subGroups){var l=new Array;i._getsubgroups(l,s)}}return e},_setbatchgroupstate:function(e,t){for(obj in this.dataview.loadedrootgroups)this._setrootgroupstate(obj,e,!1,!0);if(0==t)return this._requiresupdate=!0,this._renderrows(this.virtualsizeinfo),!0;var i=this.vScrollBar[0].style.visibility;return this.rendergridcontent(!0,!1),(i!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)),!0},_setrootgroupstate:function(e,t,i,s){if(null==e||null==e||e<0)return!1;if(!this.groupable||0==this.groups.length)return!1;var r=null==i||i;if(0<=e&&e<this.dataview.loadedrootgroups.length){var n=this.dataview.loadedrootgroups[e];if(this.pageable){for(var o=new Array,a=0;a<this.dataview.rows.length;a++)null!=this.dataview.rows[a].group&&0===this.dataview.rows[a].level&&o.push(this.dataview.rows[a]);if(!(n=o[e]))return}return this._setgroupstate(n,t,r,s)}return!1},_togglegroupstate:function(e,t){if(null==e||null==e)return!1;var i=this.vScrollInstance.value,s=this.expandedgroups[e.uniqueid];s=!(s=null!=s&&s.expanded),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[e.group]=s?e:null;var r=this._setgroupstate(e,s,t);return this._newmax=null,0!==i&&"hidden"!==this.vScrollBar.css("visibility")&&(i<=this.vScrollInstance.max?this.vScrollInstance.setPosition(i):this.vScrollInstance.setPosition(this.vScrollInstance.max)),r},_setgroupstate:function(e,t,i,s){if(null==e||null==e)return!1;var r=!1;this.editable&&this.editcell&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1);var n=this.expandedgroups[e.uniqueid];if(null==n&&(n={expanded:!1},r=!0),n.expanded!=t&&(r=!0),r){if(this.expandedgroups[e.uniqueid]={expanded:t,group:e},this._setsubgroupsvisibility(this,e,!t,s),i){var o=this.vScrollBar[0].style.visibility;this.rendergridcontent(!0,!1),(o!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}return null!=this.suspendgroupevents&&0!=this.suspendgroupevents||(t?this._raiseEvent(4,{group:e.group,parentgroup:e.parentItem?e.parentItem.group:null,level:e.level,visibleindex:e.visibleindex}):this._raiseEvent(5,{group:e.group,parentgroup:e.parentItem?e.parentItem.group:null,level:e.level,visibleindex:e.visibleindex})),!0}return!1},_setgroupitemsvisibility:function(e,t,i){for(var s=0;s<t.subItems.length;s++)e._setrowvisibility(t.subItems[s].visibleindex,i,!1)},_setsubgroupsvisibility:function(e,t,i,s){if(null!=t.parentItem){if(this.hiddens[t.parentItem.visibleindex])return}else if(null==t.parentItem&&this.hiddens[t.visibleindex])return;for(subGroup in t.subGroups){var r=t.subGroups[subGroup];i||e._setrowvisibility(r.visibleindex,i,!1);var n=!i;s?this.expandedgroups[r.uniqueid]={expanded:n,group:r}:n=null!=e.expandedgroups[r.uniqueid]&&e.expandedgroups[r.uniqueid].expanded,r.subGroups&&(0<r.subGroups.length?e._setsubgroupsvisibility(e,r,!n||i,s):0<r.subItems.length&&e._setgroupitemsvisibility(e,r,!n||i)),i&&e._setrowvisibility(r.visibleindex,i,!1)}t.subItems&&0<t.subItems.length&&e._setgroupitemsvisibility(e,t,i)},_handlecolumnsdragdrop:function(){var m=this,f=-1,g=!1;if(m.groupable){var e="mousemove.grouping"+this.element.id,t=(this.element.id,"mouseup.grouping"+this.element.id),v=!1;this.isTouchDevice()&&!0!==this.touchmode&&(v=!0,e=z.jqx.mobile.getTouchEventName("touchmove")+".grouping"+this.element.id,z.jqx.mobile.getTouchEventName("touchstart")+".grouping"+this.element.id,t=z.jqx.mobile.getTouchEventName("touchend")+".grouping"+this.element.id),this.removeHandler(z(document),e),this.addHandler(z(document),e,function(e){if(!m.showgroupsheader)return!0;if(null!=m.dragcolumn){var t=parseInt(e.pageX),i=parseInt(e.pageY);if(v){var s=m.getTouches(e)[0];t=parseInt(s.pageX),i=parseInt(s.pageY)}var r=m.host.coord(),n=parseInt(r.left),o=parseInt(r.top);null!=m.dragmousedownoffset&&null!=m.dragmousedownoffset||(m.dragmousedownoffset={left:0,top:0});var a=parseInt(t)-parseInt(m.dragmousedownoffset.left),l=parseInt(i)-parseInt(m.dragmousedownoffset.top);if(m.dragcolumn.css({left:a+"px",top:l+"px"}),g=!1,n<=t&&t<=n+m.host.width()&&o<=i&&i<=o+m.host.height()&&(g=!0),f=-1,g){m.dragcolumnicon.removeClass(m.toThemeProperty("jqx-grid-dragcancel-icon")),m.dragcolumnicon.addClass(m.toThemeProperty("jqx-grid-drag-icon"));var d=m.groupsheader.coord(),h=d.top+m.groupsheader.height(),c=z.data(m.dragcolumn[0],"datarecord");if(c)var u=m.groups.indexOf(c.toString());else u=-1;var p=-1==u||1<m.groups.length&&-1<u;null!=m.dropline&&(i>=d.top&&i<=h?p&&(f=m._handlegroupdroplines(t)):m.dropline.fadeOut("slow"))}else null!=m.dropline&&m.dropline.fadeOut("slow"),m.dragcolumnicon.removeClass(m.toThemeProperty("jqx-grid-drag-icon")),m.dragcolumnicon.addClass(m.toThemeProperty("jqx-grid-dragcancel-icon"));if(v)return e.preventDefault(),e.stopPropagation(),!1}}),this.removeHandler(z(document),t),this.addHandler(z(document),t,function(e){if(!m.showgroupsheader)return!0;m.__drag=!1,z(document.body).removeClass("jqx-disableselect");parseInt(e.pageX);var t=parseInt(e.pageY);if(v){var i=m.getTouches(e)[0];parseInt(i.pageX),t=parseInt(i.pageY)}var s=m.host.coord(),r=(parseInt(s.left),parseInt(s.top)),n=m.groupsheader.height();if(m.showtoolbar&&(r+=m.toolbarheight),m.dragstarted=!1,(m.dragmousedown=null)!=m.dragcolumn){var o=z.data(m.dragcolumn[0],"datarecord");if(m.dragcolumn.remove(),(m.dragcolumn=null)!=o){if(!m.getcolumn(o).groupable)return void(null!=m.dropline&&(m.dropline.remove(),m.dropline=null));if(g)if(-1!=f){var a=f.index,l=m.groups[a];(d=m._getGroupIndexByDataField(o))!=a&&(null!=d&&0<=d&&m.groups.splice(d,1),"before"==f.position?m.rtl?m._insertaftergroup(l,o):m._insertbeforegroup(l,o):m.rtl?m._insertbeforegroup(l,o):m._insertaftergroup(l,o))}else if(0==m.groups.length)r<t&&t<=r+n&&m.addgroup(o);else if(r+n<t){var d=m._getGroupIndexByDataField(o);m.removegroupat(d)}null!=m.dropline&&(m.dropline.remove(),m.dropline=null)}}})}},_getGroupIndexByDataField:function(e){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==e)return t;return-1},_isColumnInGroups:function(e){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==e)return!0;return!1},_handlegroupdroplines:function(i){var s=this,r=-1;return z.each(s.groupheadersbounds,function(e){if(i<=this.left+this.width/2){var t=this.left-3;return 0<e&&(t=this.left-1-s.groupindentwidth/6),s.dropline.css("left",t),s.dropline.css("top",this.top),s.dropline.height(this.height),s.dropline.fadeIn("slow"),r={index:e,position:"before"},s.rtl&&(r={index:s.groupheadersbounds.length-1-e,position:"before"}),!1}i>=this.left+this.width/2&&(s.dropline.css("left",1+this.left+this.width),s.dropline.css("top",this.top),s.dropline.height(this.height),s.dropline.fadeIn("slow"),r={index:e,position:"after"},s.rtl&&(r={index:s.groupheadersbounds.length-1-e,position:"after"}))}),r},_handlegroupstocolumnsdragdrop:function(r,n){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var o,a=this,e="mousedown",t="mousemove",l=!1;this.isTouchDevice()&&!0!==this.touchmode&&(l=!0,e=z.jqx.mobile.getTouchEventName("touchstart"),t=z.jqx.mobile.getTouchEventName("touchmove")),this.addHandler(n,"dragstart",function(e){return!1}),this.addHandler(n,e,function(e){if(!a.showgroupsheader)return!0;var t=e.pageX,i=e.pageY;if(a.__drag=!0,a.dragmousedown={left:t,top:i},l){var s=a.getTouches(e)[0];t=s.pageX,i=s.pageY,a.dragmousedown={left:t,top:i},e.preventDefault&&e.preventDefault()}var r=z(e.target).coord();a.dragmousedownoffset={left:parseInt(t)-parseInt(r.left),top:parseInt(i-r.top)}}),this.addHandler(n,t,function(e){if(!a.showgroupsheader)return!0;if(a.dragmousedown){if(o={left:e.pageX,top:e.pageY},l){var t=a.getTouches(e)[0];o={left:t.pageX,top:t.pageY}}if(!a.dragstarted&&null==a.dragcolumn){var i=Math.abs(o.left-a.dragmousedown.left),s=Math.abs(o.top-a.dragmousedown.top);(3<i||3<s)&&(a._createdragcolumn(n,o,!0),z(document.body).addClass("jqx-disableselect"),z.data(a.dragcolumn[0],"datarecord",r),e.preventDefault&&e.preventDefault())}}})},_createdragcolumn:function(e,t,i){var s=this,r=t;s.dragcolumn=z("<div></div>");var n=e.clone();s.dragcolumn.css("z-index",999999),n.css("border-width","1px"),n.css("opacity","0.4");var o=z(n.find("."+s.toThemeProperty("jqx-grid-column-menubutton")));0<o.length&&o.css("display","none");var a=z(n.find(".jqx-icon-close"));0<a.length&&a.css("display","none"),s.dragcolumnicon=z('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),s.dragcolumnicon.addClass(s.toThemeProperty("jqx-grid-drag-icon")),s.dragcolumn.css("float","left"),s.dragcolumn.css("position","absolute");s.host.coord();n.width(e.width()+16),s.dragcolumn.append(n),s.dragcolumn.height(e.height()),s.dragcolumn.width(n.width()),s.dragcolumn.append(s.dragcolumnicon),z(document.body).append(s.dragcolumn),n.css("margin-left",0),n.css("left",0),n.css("top",0),s.dragcolumn.css("left",r.left+s.dragmousedown.left),s.dragcolumn.css("top",r.top+s.dragmousedown.top),null!=i&&i&&(s.dropline=z('<div style="display: none; position: absolute;"></div>'),s.dropline.width(2),s.dropline.addClass(s.toThemeProperty("jqx-grid-group-drag-line")),z(document.body).append(s.dropline))},iscolumngroupable:function(e){return this._getcolumnproperty(e,"groupable")},_handlecolumnstogroupsdragdrop:function(o,a){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var l=this,d=!1;this.isTouchDevice()&&!0!==this.touchmode&&(d=!0);var e="mousedown.drag",h="mousemove.drag";d?(e=z.jqx.mobile.getTouchEventName("touchstart")+".drag",h=z.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(a,"dragstart",function(e){return!1}),this.addHandler(a,e,function(e){if(!l.showgroupsheader)return!0;if(l.__drag=!0,l._isColumnInGroups(o.displayfield))return a.css("cursor"),!0;if(0==o.groupable)return!0;var t=e.pageX,i=e.pageY;if(d){var s=l.getTouches(e)[0];t=s.pageX,i=s.pageY}l.dragmousedown={left:t,top:i},d&&e.preventDefault&&e.preventDefault();var r=z(e.target).coord();l.dragmousedownoffset={left:parseInt(t)-parseInt(r.left),top:parseInt(i-r.top)}}),this.addHandler(a,h,function(e){if(!l.showgroupsheader)return!0;if(l._isColumnInGroups(o.displayfield))return a.css("cursor"),!0;if(l.dragmousedown){var t=e.pageX,i=e.pageY;if(d){var s=l.getTouches(e)[0];t=s.pageX,i=s.pageY}if(h={left:t,top:i},!l.dragstarted&&null==l.dragcolumn){var r=Math.abs(h.left-l.dragmousedown.left),n=Math.abs(h.top-l.dragmousedown.top);(3<r||3<n)&&(l._createdragcolumn(a,h,!0),z.data(l.dragcolumn[0],"datarecord",o.displayfield),e.preventDefault&&e.preventDefault())}}})},_rendergroupcolumn:function(e,t){var i=z('<div style="float: left; position: relative;"></div>');if(this.rtl&&i.css("float","right"),null!=this.groupcolumnrenderer&&(i[0].innerHTML=this.groupcolumnrenderer(e),i.addClass(this.toThemeProperty("jqx-grid-group-column")),i.addClass(this.toThemeProperty("jqx-fill-state-normal"))),this.closeablegroups){""==i[0].innerHTML&&(i[0].innerHTML='<a style="float: left;" href="#">'+e+"</a>"),this.rtl&&(i[0].innerHTML='<a style="float: right;" href="#">'+e+"</a>");var s=this.rtl?"left":"right",r='<div style="float: '+s+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';if(z.jqx.browser.msie&&z.jqx.browser.version<8&&(r='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>'),this.rtl){r='<div style="float: '+s+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';z.jqx.browser.msie&&z.jqx.browser.version<8&&(r='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>')}i[0].innerHTML+=r}else""==i[0].innerHTML&&(i[0].innerHTML='<a href="#">'+e+"</a>");if(this.sortable){var n=z('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),o=z('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups)n=z('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),o=z('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.rtl){n=z('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),o=z('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups)n=z('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),o=z('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>')}n.css("display","none"),o.css("display","none"),z.jqx.browser.msie&&z.jqx.browser.version<8&&(n.css("float","left"),o.css("float","left")),i.append(n),i.append(o),z.data(document.body,"groupsortelements"+t,{sortasc:n,sortdesc:o})}return i.addClass(this.toThemeProperty("jqx-fill-state-normal")),i.addClass(this.toThemeProperty("jqx-grid-group-column")),i},_rendergroup:function(e,t,i,s,r,n,o){var a=t,l=t.cells[i.level];this.rtl&&(l=t.cells[t.cells.length-1-i.level]);var d=this._findgroupstate(i.uniqueid);if(0<i.bounddata.subGroups.length||0<i.bounddata.subItems.length){var h=this.rtl?"-rtl":"",c=this.toThemeProperty("jqx-icon-arrow-right");h&&(c=this.toThemeProperty("jqx-icon-arrow-left")),l.className+=d?" "+this.toThemeProperty("jqx-grid-group-expand"+h)+" "+this.toThemeProperty("jqx-icon-arrow-down"):" "+this.toThemeProperty("jqx-grid-group-collapse"+h)+" "+c}var u=this._getColumnText(this.groups[i.level]).label,p=this.groupindentwidth,m=o-(k=this.rowdetails&&this.showrowdetailscolumn?(1+e)*p:e*p),f=i.level+1;this.rtl&&(f=0);for(var g=a.cells[f],v=2;null!=g&&"none"==g.style.display&&v<a.cells.length-1;)g=a.cells[f+v-1],v++;var x=z(g);if(g){if(g.style.width=parseInt(m)+"px",-1!=g.className.indexOf("jqx-grid-cell-filter")&&x.removeClass(this.toThemeProperty("jqx-grid-cell-filter")),-1!=g.className.indexOf("jqx-grid-cell-sort")&&x.removeClass(this.toThemeProperty("jqx-grid-cell-sort")),-1!=g.className.indexOf("jqx-grid-cell-pinned")&&x.removeClass(this.toThemeProperty("jqx-grid-cell-pinned")),null!=this.groupsrenderer){var w={group:i.group,level:i.level,parent:i.bounddata.parentItem,subGroups:i.bounddata.subGroups,subItems:i.bounddata.subItems,groupcolumn:this._getColumnText(this.groups[i.level]).column},y=this.groupsrenderer(u+": "+i.group,i.group,d,w);if(y)g.innerHTML=y;else{var b=0<i.bounddata.subItems.length?i.bounddata.subItems.length:i.bounddata.subGroups.length;if(this.showgroupaggregates)for(var _=0<i.bounddata.subItems.length?i.bounddata.subItems:i.bounddata.subGroups,j=b=0;j<_.length;j++)_[j].totalsrow||b++;g.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+u+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+i.group+" ("+b+")</span></div>"}}else{var q=this._getcolumnbydatafield(this.groups[i.level]),T=i.group;if(null==q)throw new Error("jqxGrid: Unable to find '"+this.groups[i.level]+"' group in the Grid's columns collection.");q.cellsformat&&z.jqx.dataFormat&&(z.jqx.dataFormat.isDate(T)?T=z.jqx.dataFormat.formatdate(T,q.cellsformat,this.gridlocalization):z.jqx.dataFormat.isNumber(T)&&(T=z.jqx.dataFormat.formatnumber(T,q.cellsformat,this.gridlocalization)));b=0<i.bounddata.subItems.length?i.bounddata.subItems.length:i.bounddata.subGroups.length;if(this.showgroupaggregates)for(_=0<i.bounddata.subItems.length?i.bounddata.subItems:i.bounddata.subGroups,j=b=0;j<_.length;j++)_[j].totalsrow||b++;g.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+u+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+T+" ("+b+")</span></div>"}if(this.rtl){q||(q=this._getcolumnbydatafield(this.groups[i.level]));var C="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max-this.hScrollInstance.value,S="hidden"==this.vScrollBar.css("visibility")?0:this.scrollbarsize+6,k=this.rowdetails&&this.showrowdetailscolumn?(2+i.level)*p:(1+i.level)*p;g.style.width=o+parseInt(C)-k-S+"px",x.addClass(this.toThemeProperty("jqx-rtl"));var I=z(t.cells[t.cells.length-1]).css("z-index");x.css("z-index",I);var D=x.find("div");m=D.width();D.css("left","100%");var P=null!=this.columns.records[t.cells.length-2-i.level]&&this.columns.records[t.cells.length-2-i.level].pinned;if(this.table.width()<o&&(o=this.table.width(),"hidden"!=this.vScrollBar.css("visibility")&&(o+=this.vScrollBar.outerWidth())),q.pinned||P)this.rowdetails&&this.showrowdetailscolumn&&(o+=30),D.css("margin-left",-m),g.style.width=o+C-k-S+"px";else{C="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max;g.style.width=o+C-k-S+"px";m=D.width();D.css("margin-left",-m)}}}}})}(jqxBaseFramework),function(R){R.extend(R.jqx._jqxGrid.prototype,{_handledblclick:function(e,t){var i,s;if(null!=e.target&&!(t.disabled||R(e.target).ischildof(this.columnsheader)||(e.which?i=3==e.which:e.button&&(i=2==e.button),i||(e.which?s=2==e.which:e.button&&(s=1==e.button),s)))){var r=this.showheader?this.columnsheader.height()+2:0,n=this._groupsheader()?this.groupsheader.height():0;n+=this.showtoolbar?this.toolbarheight:0;var o=this.host.offset(),a=e.pageX-o.left,l=e.pageY-r-o.top-n,d=this._hittestrow(a,l);if(d){var h=d.row,c=d.index,u=e.target.className,p=this.table[0].rows[c];if(null!=p){t.mousecaptured=!0,t.mousecaptureposition={left:e.pageX,top:e.pageY-n};for(var m=this.hScrollInstance.value,f=0,g=(this.groupable&&this.groups.length,0);g<p.cells.length;g++){var v=parseInt(R(this.columnsrow[0].cells[g]).css("left")),x=v-m;if(t.columns.records[g].pinned&&(x=v),null==(w=this._getcolumnat(g))||!w.hidden)if(a<=x+R(this.columnsrow[0].cells[g]).width()&&x<=a){f=g;break}}if(null!=h){var w=this._getcolumnat(f);-1==u.indexOf("jqx-grid-group-expand")&&-1==u.indexOf("jqx-grid-group-collapse")&&-1!=h.boundindex&&t.begincelledit(t.getboundindex(h),w.datafield,w.defaulteditorvalue)}}}}},_getpreveditablecolumn:function(e){for(;0<e;){e--;var t=this.getcolumnat(e);if(!t)return null;if(t.editable&&!t.hidden)return t}return null},_getnexteditablecolumn:function(e){for(;e<this.columns.records.length;){e++;var t=this.getcolumnat(e);if(!t)return null;if(t.editable&&!t.hidden)return t}return null},_handleeditkeydown:function(e,t){if(t.handlekeyboardnavigation&&1==t.handlekeyboardnavigation(e))return!0;var i=e.charCode?e.charCode:e.keyCode?e.keyCode:0;if(t.editEvent=e,t.showfilterrow&&t.filterable&&this.filterrow&&R(e.target).ischildof(this.filterrow))return!0;if(e.target.className&&0<=e.target.className.indexOf("jqx-grid-widget"))return!0;if(t.pageable&&R(e.target).ischildof(this.pager))return!0;if(this.showtoolbar&&R(e.target).ischildof(this.toolbar))return!0;if(this.showeverpresentrow){if(this.addnewrowtop&&R(e.target).ischildof(this.addnewrowtop))return!0;if(this.addnewrowbottom&&R(e.target).ischildof(this.addnewrowbottom))return!0}if(this.showstatusbar&&R(e.target).ischildof(this.statusbar))return!0;if(this.rowdetails&&R(e.target).ischildof(this.content.find("[role='rowgroup']")))return!0;if(this.editcell){if("selectedrow"===this.editmode){if(13===i)return this.endrowedit(this.editcell.row,!1),!1;if(27===i)return this.endrowedit(this.editcell.row,!0),!1;if(32==i)if(this._currentColumn&&"checkbox"==this.getcolumn(this._currentColumn).columntype)if((u=this.getcolumn(this._currentColumn)).editable){var s=!this.getcellvalue(this.editcell.row,u.datafield),r=this.getrowdata(this.editcell.row),n=this.editcell.row;r=t.getrowdata(t.editcell.row);this.setcellvalue(this.editcell.row,u.datafield,s,!1);var o=this._focusedColumn,a=this._currentColumn,l=this._currentEditableColumn;if(this.endrowedit(this.editcell.row,!1),this.beginrowedit(n,!1),this._currentColumn=a,this._focusedColumn=o,this._currentEditableColumn=l,this._renderrows(),this.selectcell(n,u.datafield),this._oldselectedcell=this.selectedcell,o){var d=this;setTimeout(function(){d.selectcell(n,u.datafield),d._oldselectedcell=d.selectedcell,R(d._checkboxCells[u.datafield].checkbox).jqxCheckBox("focus")},25)}return!1}if(9===i){var h=this.editcell.datafield,c=this._getcolumnindex(h);this._currentEditableColumn?c=this._currentEditableColumn:this._currentEditableColumn=c;var u=this._getnexteditablecolumn(c);if(e.shiftKey&&(u=this._getpreveditablecolumn(c)),u){c=this._getcolumnindex(u.datafield);if(this.editcell[u.datafield])this._currentEditableColumn=c,(p=this.editcell[u.datafield].editor)&&(p.data().jqxWidget&&p.data().jqxWidget.focus?p.data().jqxWidget.focus():(p.focus(),p[0].onkeyup=function(){0!=t.gridcontent[0].scrollTop&&(t.scrolltop(Math.abs(t.gridcontent[0].scrollTop)),t.gridcontent[0].scrollTop=0),0!=t.gridcontent[0].scrollLeft&&(t.gridcontent[0].scrollLeft=0)})),this._focusedColumn=u.datafield,this._currentColumn=u.datafield,0!=this.gridcontent[0].scrollTop&&(this.scrolltop(Math.abs(this.gridcontent[0].scrollTop)),this.gridcontent[0].scrollTop=0),0!=this.gridcontent[0].scrollLeft&&(this.gridcontent[0].scrollLeft=0);else if("checkbox"==u.columntype)return this._currentColumn=u.datafield,this._currentEditableColumn=c,this.selectcell(this.editcell.row,u.datafield),this._oldselectedcell=this.selectedcell,this._checkboxCells[u.datafield]&&R(this._checkboxCells[u.datafield].checkbox).jqxCheckBox("focus"),!1}return!1}return!0}if(null==this.editcell.columntype||"textbox"==this.editcell.columntype||"numberinput"==this.editcell.columntype||"combobox"==this.editcell.columntype||"datetimeinput"==this.editcell.columntype){if(33<=i&&i<=40&&"multiplecellsadvanced"==t.selectionmode){var p="textbox"==this.editcell.columntype||null==this.editcell.columntype?this.editcell.editor:this.editcell.editor.find("input"),m=t._selection(p),f=p.val().length;0<m.length&&"datetimeinput"!=this.editcell.columntype&&(t._cancelkeydown=!0),0<m.start&&37==i&&(t._cancelkeydown=!0),m.start<f&&39==i&&"datetimeinput"!=this.editcell.columntype&&(t._cancelkeydown=!0),"datetimeinput"==this.editcell.columntype&&39==i&&m.start+m.length<f&&(t._cancelkeydown=!0)}}else"dropdownlist"==this.editcell.columntype?(37==i||39==i&&"multiplecellsadvanced"==t.selectionmode)&&(t._cancelkeydown=!1):"multiplecellsadvanced"==this.selectionmode&&"textbox"!=this.editcell.columntype&&"numberinput"!=this.editcell.columntype&&(t._cancelkeydown=!0);if(32==i)if("checkbox"==t.editcell.columntype)if((u=t.getcolumn(t.editcell.datafield)).editable){s=!t.getcellvalue(t.editcell.row,t.editcell.column);if(u.cellbeginedit)if(0==u.cellbeginedit(t.editcell.row,u.datafield,u.columntype,!s))return!1;r=t.getrowdata(t.editcell.row);return t.setcellvalue(t.editcell.row,t.editcell.column,s,!0),t._raiseEvent(18,{rowindex:t.editcell.row,row:r,datafield:t.editcell.column,oldvalue:!s,value:s,columntype:"checkbox"}),!1}if(9==i){var g=this.editcell.row,v=h=this.editcell.column,x=(c=t._getcolumnindex(h),!1),w=t.getrowvisibleindex(g),y=g;this.editchar="";var b=this.editcell.validated;if(!this.editcell.validated)b=this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1);if(0!=b){if(e.shiftKey)if(u=t._getpreveditablecolumn(c))h=u.datafield,x=!0,-1!=t.selectionmode.indexOf("cell")&&(t.selectprevcell(g,v),t._oldselectedcell=t.selectedcell,setTimeout(function(){t.ensurecellvisible(w,h)},10));else{var _=t._getlastvisiblecolumn();x=!0,h=_.displayfield,(T=t.getdisplayrows()[w-1])&&(void 0===(g=T.dataindex)&&(g=T.boundindex),w=t.getrowvisibleindex(g));var j=!0;if(t.pageable){var q=Math.floor(w/this.pagesize);this.dataview.pagenum!=q&&(j=!1)}j&&-1!=t.selectionmode.indexOf("cell")&&(t.clearselection(),t.selectcell(g,h),t._oldselectedcell=t.selectedcell,setTimeout(function(){t.ensurecellvisible(w,h)},10))}else if(u=t._getnexteditablecolumn(c))h=u.datafield,x=!0,-1!=t.selectionmode.indexOf("cell")&&(t.selectnextcell(g,v),t._oldselectedcell=t.selectedcell,setTimeout(function(){t.ensurecellvisible(w,h)},10));else{var T,C=t._getfirstvisiblecolumn();x=!0,h=C.displayfield,(T=t.getdisplayrows()[w+1])&&(void 0===(g=T.dataindex)&&(g=T.boundindex),w=t.getrowvisibleindex(g));j=!0;if(t.pageable){q=Math.floor(w/this.pagesize);this.dataview.pagenum!=q&&(j=!1)}-1!=t.selectionmode.indexOf("cell")&&j&&(t.clearselection(),t.selectcell(g,h),t._oldselectedcell=t.selectedcell,setTimeout(function(){t.ensurecellvisible(w,h)},10))}if(!x)return null!=this.editcell&&(t.endcelledit(g,h,!1),this._renderrows(this.virtualsizeinfo)),!0;if(t.pageable){q=Math.floor(w/this.pagesize);if(this.dataview.pagenum!=q)return this._renderrows(this.virtualsizeinfo),-1!=t.selectionmode.indexOf("cell")&&(t.clearselection(),t.selectcell(y,v),t._oldselectedcell=t.selectedcell),void(q>this.dataview.pagenum&&setTimeout(function(){t.pagerpageinput.focus()},25))}t.begincelledit(g,h),null!=this.editcell&&"checkbox"==this.editcell.columntype&&this._renderrows(this.virtualsizeinfo)}return!1}if(13==i){var S=this.selectedcell;if(S)var k=this.getrowvisibleindex(S.rowindex);if(this.endcelledit(this.editcell.row,this.editcell.column,!1,!0),"multiplecellsadvanced"==this.selectionmode)if(null!=(I=t.getselectedcell())&&t.selectcell&&null==this.editcell&&I.rowindex+1<this.dataview.totalrecords)if(this.sortcolumn!=I.datafield){w=this.getrowvisibleindex(I.rowindex);if((z=this.dataview.loadedrecords[w+1])&&(!this.pageable||this.pageable&&w+1<(this.dataview.pagenum+1)*this.pagesize)){this.clearselection(!1),this.selectcell(this.getboundindex(z),I.datafield);var I=this.getselectedcell();this.ensurecellvisible(z.visibleindex,I.datafield)}}else{if(null!=S)if(D=this.dataview.loadedrecords[k+1])if(!this.pageable||this.pageable&&k+1<this.pagesize)this.clearselection(!1),this.selectcell(this.getboundindex(D),I.datafield);else if(this.pageable&&k+1>=this.pagesize){this.clearselection(!1);var D=this.dataview.loadedrecords[k];this.selectcell(this.getboundindex(D),I.datafield)}}return!1}if(27==i)return this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),!1}else{var P=!1;if(113==i&&(P=!0),!e.ctrlKey&&!e.altKey&&!e.metaKey){if(48<=i&&i<=57&&(this.editchar=String.fromCharCode(i),P=!0),189===i&&(P=!0),65<=i&&i<=90){this.editchar=String.fromCharCode(i);var A=!1;e.shiftKey?A=e.shiftKey:e.modifiers&&(A=!!(4&e.modifiers)),this._capsLock&&(A=!A),A||(this.editchar=this.editchar.toLowerCase()),P=!0}else 96<=i&&i<=105&&(this.editchar=i-96,this.editchar=this.editchar.toString(),P=!0);var M=R(".jqx-grid").length;P=P&&(1==M||1<M&&t.focused);var B=R.data(document.body,"jqxgrid.edit");if(void 0!==B&&""!==B&&(13===i||P)&&B!=t.element.id)return!0}if((13==i||P)&&t.getselectedrowindex){g=t.getselectedrowindex();if("selectedrow"===t.editmode){if(!(0<=g)){if(null!=(I=t.getselectedcell())){var u=t._getcolumnbydatafield(I.datafield);t.beginrowedit(I.rowindex)}return!1}t.beginrowedit(g)}switch(t.selectionmode){case"singlerow":case"multiplerows":case"multiplerowsextended":if(0<=g){h="";for(var H=0;H<t.columns.records.length;H++){if((u=t.getcolumnat(H)).editable){h=u.datafield;break}}"selectedrow"===t.editmode?t.beginrowedit(g):t.begincelledit(g,h)}break;case"singlecell":case"multiplecells":case"multiplecellsextended":if(null!=(I=t.getselectedcell())){u=t._getcolumnbydatafield(I.datafield);"selectedrow"===t.editmode?t.beginrowedit(I.rowindex):"checkbox"!=u.columntype&&t.begincelledit(I.rowindex,I.datafield)}break;case"multiplecellsadvanced":var z;if(null!=(I=t.getselectedcell()))if(13==i){if(t.selectcell)if((w=this.getrowvisibleindex(I.rowindex))+1<t.dataview.totalrecords)if(z=this.dataview.loadedrecords[w+1]){this.clearselection(!1),this.selectcell(this.getboundindex(z),I.datafield);var I=this.getselectedcell();this.ensurecellvisible(z.visibleindex,I.datafield)}}else"selectedrow"!==t.editmode&&t.begincelledit(I.rowindex,I.datafield)}return!1}if(46==i){var E=t.getselectedcells();if(-1==t.selectionmode.indexOf("cell")&&t._getcellsforcopypaste&&(E=t._getcellsforcopypaste()),null!=E&&0<E.length){for(var O=0;O<E.length;O++){if((I=E[O]).datafield){u=t.getcolumn(I.datafield);var N=t.getcellvalue(I.rowindex,I.datafield);if(""!==N&&u.editable&&t.enablekeyboarddelete){var L=null;if("checkbox"==u.columntype&&(u.threestatecheckbox||(L=!1)),u.cellbeginedit)if(0==u.cellbeginedit(I.rowindex,u.datafield,u.columntype,L))return!1;r=t.getrowdata(I.rowindex);if(t._raiseEvent(17,{rowindex:I.rowindex,row:r,datafield:I.datafield,value:N}),O==E.length-1?t.setcellvalue(I.rowindex,I.datafield,L,!0):t.setcellvalue(I.rowindex,I.datafield,L,!1),u.displayfield!=u.datafield&&t.setcellvalue(I.rowindex,u.displayfield,L,!0),u.cellendedit)u.cellendedit(I.rowindex,u.datafield,u.columntype,L);t._raiseEvent(18,{rowindex:I.rowindex,row:r,datafield:I.datafield,oldvalue:N,value:L})}}}return this.dataview.updateview(),this._renderrows(this.virtualsizeinfo),!1}}if(32==i)if(null!=(I=t.getselectedcell()))if("checkbox"==(u=t.getcolumn(I.datafield)).columntype&&u.editable){s=!t.getcellvalue(I.rowindex,I.datafield);if(u.cellbeginedit)if(0==u.cellbeginedit(I.rowindex,u.datafield,u.columntype,!s))return!1;r=t.getrowdata(I.rowindex);return t._raiseEvent(17,{rowindex:I.rowindex,row:r,datafield:I.datafield,value:!s,columntype:"checkbox"}),t.setcellvalue(I.rowindex,I.datafield,s,!0),t._raiseEvent(18,{rowindex:I.rowindex,row:r,datafield:I.datafield,oldvalue:!s,value:s,columntype:"checkbox"}),!1}}return!0},begincelledit:function(e,t,i,s,r){var n=this.getcolumn(t);if(this._cellscache=new Array,null!=t&&"number"!=n.columntype&&"button"!=n.columntype&&!n.createwidget){if(this.groupable){if(0<=this.groups.indexOf(t))return;if(0<=this.groups.indexOf(n.displayfield))return}if(null==this.editrow){if(this.editcell){if(this.editcell.row==e&&this.editcell.column==t)return!0;if("selectedrow"===this.editmode&&this.editcell.row==e)return;if(0==this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1))return}var o="checkbox"==n.columntype||"button"==n.columntype||n.createwidget;if(this.host.removeClass("jqx-disableselect"),this.content.removeClass("jqx-disableselect"),n.editable){if(n.cellbeginedit){var a=this.getcell(e,t);if(0==n.cellbeginedit(e,t,n.columntype,null!=a?a.value:null))return}var l=this.getrowvisibleindex(e);if(this.editcell=this.getcell(e,t),this.editcell&&(this.editcell.visiblerowindex=l,!this.editcell.editing)){if(o||(this.editcell.editing=!0),this.editcell.columntype=n.columntype,this.editcell.defaultvalue=i,null!=n.defaultvalue&&(this.editcell.defaultvalue=n.defaultvalue),this.editcell.init=!0,"checkbox"!=n.columntype&&"selectedrow"!=this.editmode){var d=this.getrowdata(e);this._raiseEvent(17,{rowindex:e,row:d,datafield:n.datafield,value:this.editcell.value,columntype:n.columntype})}if(R.data(document.body,"jqxgrid.edit",this.element.id),!o){var h=this.getrowvisibleindex(e);if(!1!==s&&!this.autorowheight)this.ensurecellvisible(h,n.datafield);!1!==r&&this._renderrows(this.virtualsizeinfo)}if(this.editcell)return!(this.editcell.init=!1)}}else{if(!this.editcell)return;this.editcell.editor=null,(this.editcell.editing=!1)!==r&&this._renderrows(this.virtualsizeinfo),this.editcell=null}}}},getScrollTop:function(){if(this._py)return pageYOffset;if(this._py="undefined"!=typeof pageYOffset,this._py)return pageYOffset;var e=document.body,t=document.documentElement;return(t=t.clientHeight?t:e).scrollTop},getScrollLeft:function(){if("undefined"!=typeof pageXOffset)return pageXOffset;var e=document.body,t=document.documentElement;return(t=t.clientHeight?t:e).scrollLeft},endcelledit:function(r,n,e,o,i){if(null!=r&&null!=n||(this.editcell&&(r=this.editcell.row,n=this.editcell.column),null==e&&(e=!0)),this.editcell){var a=this.getcolumn(n),s=this;if("selectedrow"!==s.editmode){var l=function(){if(0!=i){if(s.isTouchDevice())return;if(!s.isNestedGrid){var e=s.getScrollTop(),t=s.getScrollLeft();try{s.element.focus(),s.content.focus(),e!=s.getScrollTop()&&window.scrollTo(t,e),setTimeout(function(){s.element.focus(),s.content.focus(),e!=s.getScrollTop()&&window.scrollTo(t,e)},10)}catch(e){}}}};if("checkbox"==a.columntype||"button"==a.columntype||a.createwidget)return this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1,this.editcell=null),!0;var d=this._geteditorvalue(a),t=function(e){if(e._hidecelleditor(),a.cellendedit&&a.cellendedit(r,n,a.columntype,e.editcell.value,d),e.editchar=null,a.displayfield!=a.datafield){var t=e.getcellvalue(e.editcell.row,a.displayfield),i=e.editcell.value;oldvalue={value:i,label:t}}else oldvalue=e.editcell.value;var s=e.getrowdata(r);e._raiseEvent(18,{rowindex:r,row:s,datafield:n,displayfield:a.displayfield,oldvalue:d,value:d,columntype:a.columntype}),e.editcell.editor=null,e.editcell.editing=!1,e.editcell=null,(o||null==o)&&e._renderrows(e.virtualsizeinfo),l(),e.enablebrowserselection||(e.host.addClass("jqx-disableselect"),e.content.addClass("jqx-disableselect"))};if(e)return t(this),!1;if(this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),a.cellvaluechanging){var h=a.cellvaluechanging(r,n,a.columntype,this.editcell.value,d);null!=h&&(d=h)}if(a.validation){var c=this.getcell(r,n);try{var u=a.validation(c,d),p=this.gridlocalization.validationstring;if(null!=u.message&&(p=u.message),!("boolean"==typeof u?u:u.result))return null!=u.showmessage&&1!=u.showmessage||this._showvalidationpopup(r,n,p),this.editcell.validated=!1}catch(e){return this._showvalidationpopup(r,n,this.gridlocalization.validationstring),this.editcell.validated=!1}}if(a.displayfield!=a.datafield){var m=this.getcellvalue(this.editcell.row,a.displayfield),f=this.editcell.value;oldvalue={value:f,label:m}}else oldvalue=this.editcell.value;var g=this.getrowdata(r);if(a.cellendedit)if(0==a.cellendedit(r,n,a.columntype,this.editcell.value,d))return this._raiseEvent(18,{rowindex:r,row:g,datafield:n,displayfield:a.displayfield,oldvalue:oldvalue,value:oldvalue,columntype:a.columntype}),t(this),!1;return this._raiseEvent(18,{rowindex:r,row:g,datafield:n,displayfield:a.displayfield,oldvalue:oldvalue,value:d,columntype:a.columntype}),this._hidecelleditor(!1),null!=this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1),this.editcell=null,this.editchar=null,this.setcellvalue(r,n,d,o),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),R.jqx.browser.msie||l(),R.data(document.body,"jqxgrid.edit",""),!0}this.endrowedit(r,e)}},beginrowedit:function(r){var n=this;if(null!=r){n._oldselectedrow=r,this._cellscache=new Array;var e=!1;if("selectedrow"!=this.editmode&&(e=!0),e){var t=this.editmode;this.editmode="selectedrow"}var o=null;this._currentEditableColumn&&(o=this.getcolumnat(this._currentEditableColumn).datafield),R.each(this.columns.records,function(e,t){if(n.editable&&this.editable){if("checkbox"===this.columntype||"custom"===this.columntype||"widget"===this.columntype||"template"===this.columntype||"button"===this.columntype)return!0;o||(o=this.datafield);var i=n.getcell(r,this.datafield);n.begincelledit(r,this.datafield,null,!1,!1);var s=n.getrowdata(r);n._raiseEvent(17,{rowindex:r,row:s,datafield:this.datafield,value:i.value,columntype:this.columntype})}}),n.editcell&&(n.editcell.init=!0),this._renderrows(this.virtualsizeinfo),e&&(this.editmode=t),o&&n.editcell&&setTimeout(function(){if(n.editcell&&n.editcell[o]){var e=n.editcell[o].editor;e&&(e.data().jqxWidget&&e.data().jqxWidget.focus?e.data().jqxWidget.focus():e.focus())}},25)}},endrowedit:function(r,e){var n=this;if(this._currentEditableColumn=0,this._focusedColumn=null,this._currentColumn=null,this._checkboxCells=[],!this.editcell)return!1;if(null==this.editcell.editor&&"checkbox"!==this.editcell.columntype)return!1;var t=!1;if("selectedrow"!=this.editmode&&(t=!0),t){var i=this.editmode;this.editmode="selectedrow"}var s=!1,o={};this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide());for(var a=0;a<this.columns.records.length;a++){if((y=this.columns.records[a]).editable&&(!y.hidden&&"checkbox"!=y.columntype&&!y.createwidget)){var l=this._geteditorvalue(y),d=function(e){e._hidecelleditor();var t=e.getcellvalue(e.editcell.row,y.displayfield);if(y.cellendedit&&y.cellendedit(r,u,y.columntype,t,l),e.editchar=null,y.displayfield!=y.datafield){var i=e.getcellvalue(e.editcell.row,y.displayfield);h={value:t,label:i}}else h=t;var s=e.getrowdata(r);e._raiseEvent(18,{rowindex:r,row:s,datafield:u,displayfield:y.displayfield,oldvalue:t,value:t,columntype:y.columntype}),e.editcell.editing=!1};if(e)d(this);else{if(y.cellvaluechanging){var h=this.getcellvalue(this.editcell.row,y.displayfield),c=y.cellvaluechanging(r,u,y.columntype,h,l);null!=c&&(l=c)}var u=y.datafield;if(y.validation){var p=this.getcell(r,y.datafield);try{var m=y.validation(p,l),f=this.gridlocalization.validationstring;if(null!=m.message&&(f=m.message),!(j="boolean"==typeof m?m:m.result)){null!=m.showmessage&&1!=m.showmessage||this._showvalidationpopup(r,u,f),s=!0,this.editcell[y.datafield].validated=!1;continue}}catch(e){this._showvalidationpopup(r,u,this.gridlocalization.validationstring),s=!(this.editcell[y.datafield].validated=!1);continue}}if(y.displayfield!=y.datafield){var g=this.getcellvalue(this.editcell.row,y.displayfield),v=this.editcell.value;h={value:v,label:g}}else h=this.getcellvalue(this.editcell.row,y.displayfield);o[y.datafield]={newvalue:l,oldvalue:h}}}}var x={},w={};if(!s){this._hidecelleditor(!1);for(a=0;a<this.columns.records.length;a++){var y;u=(y=this.columns.records[a]).datafield;if(!y.hidden&&y.editable){var b=this.getrowdata(r);if(!y.createwidget)if("checkbox"!=y.columntype){if(o[y.datafield]){l=o[y.datafield].newvalue,h=o[y.datafield].oldvalue;if(y.cellendedit)if(0==y.cellendedit(r,u,y.columntype,h,l)){this._raiseEvent(18,{rowindex:r,row:b,datafield:u,displayfield:y.displayfield,oldvalue:h,value:h,columntype:y.columntype}),d(this);continue}this.source.updaterow||this._raiseEvent(18,{rowindex:r,row:b,datafield:y.datafield,displayfield:y.displayfield,oldvalue:h,value:l,columntype:y.columntype}),x[y.datafield]=l,w[y.datafield]=h}}else{var l=this.getcellvalue(r,y.displayfield);this._raiseEvent(18,{rowindex:r,row:b,datafield:y.datafield,displayfield:y.displayfield,oldvalue:l,value:l,columntype:y.columntype})}}}var _=this.getrowid(r);b=this.getrowdata(r);if(R.each(x,function(e,t){if(t&&null!=t.label){var i=n.getcolumn(e);b[i.displayfield]=t.label,b[i.datafield]=t.value}else b[e]=t}),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),R.data(document.body,"jqxgrid.edit",""),this.editcell=null,this.editchar=null,this.source.updaterow&&!e){n=this;var j=function(e){var t=n.source.updaterow;n.source.updaterow=null,0==e&&R.each(w,function(e,t){if(t&&null!=t.label){var i=n.getcolumn(e);b[i.displayfield]=t.label,b[i.datafield]=t.value}else b[e]=t}),n.updaterow(_,b);for(var i=0;i<n.columns.records.length;i++){var s=n.columns.records[i];s.datafield;n._raiseEvent(18,{rowindex:r,datafield:s.datafield,row:b,displayfield:s.displayfield,oldvalue:w[s.datafield],value:b[s.displayfield],columntype:s.columntype})}n.source.updaterow=t};try{null==this.source.updaterow(_,b,j)&&!0}catch(e){return void!1}}else e||this.updaterow(_,b),this._renderrows(this.virtualsizeinfo)}return t&&(this.editmode=i),s},_selection:function(e){if("selectionStart"in e[0]){var t=e[0],i=t.selectionEnd-t.selectionStart;return{start:t.selectionStart,end:t.selectionEnd,length:i,text:t.value}}var s=document.selection.createRange();if(null==s)return{start:0,end:t.value.length,length:0};var r=e[0].createTextRange(),n=r.duplicate();r.moveToBookmark(s.getBookmark()),n.setEndPoint("EndToStart",r);i=s.text.length;return{start:n.text.length,end:n.text.length+s.text.length,length:i,text:s.text}},_setSelection:function(e,t,i){if("selectionStart"in i[0])i[0].focus(),i[0].setSelectionRange(e,t);else{var s=i[0].createTextRange();s.collapse(!0),s.moveEnd("character",t),s.moveStart("character",e),s.select()}},findRecordIndex:function(e,t,i){i=i;if(t)for(var s=i.length,r=0;r<s;r++){if(e==i[r].label)return r}return-1},_destroyeditors:function(){var h=this;this.columns.records&&(R.each(this.columns.records,function(e,t){var i=R.trim(this.datafield).split(" ").join("");switch(this.columntype){case"dropdownlist":var s=h.editors["dropdownlist_"+i];s&&(s.jqxDropDownList("destroy"),h.editors["dropdownlist_"+i]=null);break;case"combobox":var r=h.editors["combobox_"+i];r&&(r.jqxComboBox("destroy"),h.editors["combobox_"+i]=null);break;case"datetimeinput":var n=h.editors["datetimeinput_"+this.datafield];n&&(n.jqxDateTimeInput("destroy"),h.editors["datetimeinput_"+i]=null);break;case"numberinput":var o=h.editors["numberinput_"+i];o&&(o.jqxNumberInput("destroy"),h.editors["numberinput_"+i]=null);break;case"custom":case"template":if(h.destroyeditor&&h.editors["templateeditor_"+i]&&(h.destroyeditor(h.editors["templateeditor_"+i]),h.editors["templateeditor_"+i]=null),h.destroyeditor)for(var a=h.getrows.length(),l=0;l<a;l++)h.editors["customeditor_"+i+"_"+l]&&(h.destroyeditor(h.editors["customeditor_"+i+"_"+l],l),h.editors["customeditor_"+i+"_"+l]=null);break;case"textbox":default:var d=h.editors["textboxeditor_"+i];d&&(h.removeHandler(d,"keydown"),h.editors["textbox_"+i]=null)}}),h.editors=new Array)},_showcelleditor:function(e,d,t,i,s){if(null!=t&&null!=this.editcell)if("checkbox"==d.columntype&&d.editable)"selectedrow"==this.editmode&&(this._checkboxCells||(this._checkboxCells=[]),this._checkboxCells[d.datafield]=t);else{null==s&&(s=!0),"selectedrow"==this.editmode&&(this.editchar="",s=!1);var r=d.datafield,n=R(t),h=this,c=this.editcell.editor,o=this.getcellvalue(e,r),a=this.getcelltext(e,r),l=this.hScrollInstance.value,u=parseInt(l);this.columns.records.indexOf(d);if(this.editcell.element=t,0==this.editcell.validated){var p="";this.validationpopup&&(p=this.validationpopup.text()),this._showvalidationpopup(e,r,p)}var m=function(e){h.hScrollInstance.isScrolling()||h.vScrollInstance.isScrolling()||s&&(h.isTouchDevice()||(e&&e.focus(),0!=h.gridcontent[0].scrollTop&&(h.scrolltop(Math.abs(h.gridcontent[0].scrollTop)),h.gridcontent[0].scrollTop=0),0!=h.gridcontent[0].scrollLeft&&(h.gridcontent[0].scrollLeft=0)))};switch(d.columntype){case"dropdownlist":if(this.host.jqxDropDownList){t.innerHTML="";var f=R.trim(d.datafield).split(" ").join(""),g=R.trim(d.displayfield).split(" ").join("");-1!=f.indexOf(".")&&(f=f.replace(".","")),-1!=g.indexOf(".")&&(g=g.replace(".",""));var v=this.editors["dropdownlist_"+f];if((c=null==v?R("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='dropdownlisteditor'></div>"):v).css("top",R(t).parent().position().top),this.oldhscroll?c.css("left",-u+parseInt(R(t).position().left)):c.css("left",parseInt(R(t).position().left)),d.pinned&&c.css("left",u+parseInt(R(t).position().left)),null==v){c.prependTo(this.table),c[0].id="dropdownlisteditor"+this.element.id+f;var x=null;if(!!this.source._source){var w={localdata:JSON.parse(JSON.stringify(this.source.records)),datatype:this.source.datatype,async:!1};x=new R.jqx.dataAdapter(w,{autoBind:!1,async:!1,uniqueDataFields:[g],autoSort:!0,autoSortField:g})}else x=new R.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[g],async:!1,autoSort:!0,autoSortField:g});var y=!d.createeditor;c.jqxDropDownList({enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:x,rtl:this.rtl,autoDropDownHeight:y,theme:this.theme,width:n.width()-2,height:n.height()-2,displayMember:g,valueMember:r}),this.editors["dropdownlist_"+f]=c,d.createeditor&&d.createeditor(e,o,c)}d._requirewidthupdate&&c.jqxDropDownList({width:n.width()-2});var b=c.jqxDropDownList("listBox").visibleItems;d.createeditor||(b.length<8?c.jqxDropDownList("autoDropDownHeight",!0):c.jqxDropDownList("autoDropDownHeight",!1));o=this.getcellvalue(e,g);var _=this.findRecordIndex(o,g,b);if(i&&(""!=o?c.jqxDropDownList("selectIndex",_,!0):c.jqxDropDownList("selectIndex",-1)),!this.editcell)return;null!=this.editcell.defaultvalue&&c.jqxDropDownList("selectIndex",this.editcell.defaultvalue,!0),s&&c.jqxDropDownList("focus")}break;case"combobox":if(this.host.jqxComboBox){t.innerHTML="";f=R.trim(d.datafield).split(" ").join(""),g=R.trim(d.displayfield).split(" ").join("");-1!=f.indexOf(".")&&(f=f.replace(".","")),-1!=g.indexOf(".")&&(g=g.replace(".",""));var j=this.editors["combobox_"+f];if((c=null==j?R("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='comboboxeditor'></div>"):j).css("top",R(t).parent().position().top),this.oldhscroll?c.css("left",-u+parseInt(R(t).position().left)):c.css("left",parseInt(R(t).position().left)),d.pinned&&c.css("left",u+parseInt(R(t).position().left)),null==j){c.prependTo(this.table),c[0].id="comboboxeditor"+this.element.id+f;x=null;if(!!this.source._source){w={localdata:JSON.parse(JSON.stringify(this.source.records)),datatype:this.source.datatype,async:!1};x=new R.jqx.dataAdapter(w,{autoBind:!1,async:!1,uniqueDataFields:[g],autoSort:!0,autoSortField:g})}else x=new R.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[g],async:!1,autoSort:!0,autoSortField:g});y=!d.createeditor;c.jqxComboBox({enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:x,rtl:this.rtl,autoDropDownHeight:y,theme:this.theme,width:n.width()-2,height:n.height()-2,displayMember:g,valueMember:r}),c.removeAttr("tabindex"),c.find("div").removeAttr("tabindex"),this.editors["combobox_"+f]=c,d.createeditor&&d.createeditor(e,o,c)}d._requirewidthupdate&&c.jqxComboBox({width:n.width()-2});b=c.jqxComboBox("listBox").visibleItems;d.createeditor||(b.length<8?c.jqxComboBox("autoDropDownHeight",!0):c.jqxComboBox("autoDropDownHeight",!1));o=this.getcellvalue(e,g),_=this.findRecordIndex(o,g,b);if(i&&(""!=o?c.jqxComboBox("selectIndex",_,!0):c.jqxComboBox("selectIndex",-1),c.jqxComboBox("val",o)),!this.editcell)return;null!=this.editcell.defaultvalue&&c.jqxComboBox("selectIndex",this.editcell.defaultvalue,!0),this.editchar&&0<this.editchar.length&&c.jqxComboBox("input").val(this.editchar),s&&setTimeout(function(){if(m(c.jqxComboBox("input")),c)if(c.jqxComboBox("_setSelection",0,0),h.editchar)c.jqxComboBox("_setSelection",1,1),h.editchar=null;else if(c.jqxComboBox("input")){var e=c.jqxComboBox("input").val();c.jqxComboBox("_setSelection",0,e.length)}},10)}break;case"datetimeinput":if(this.host.jqxDateTimeInput){t.innerHTML="",-1!=(f=R.trim(d.datafield).split(" ").join("")).indexOf(".")&&(f=f.replace(".",""));var q=this.editors["datetimeinput_"+f];if((c=null==q?R("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='datetimeeditor'></div>"):q).show(),c.css("top",R(t).parent().position().top),this.oldhscroll?c.css("left",-u+parseInt(R(t).position().left)):c.css("left",parseInt(R(t).position().left)),d.pinned&&c.css("left",u+parseInt(R(t).position().left)),null==q){c.prependTo(this.table),c[0].id="datetimeeditor"+this.element.id+f;var T={calendar:this.gridlocalization};c.jqxDateTimeInput({firstDayOfWeek:this.gridlocalization.firstDay,enableBrowserBoundsDetection:!0,localization:T,_editor:!0,theme:this.theme,rtl:this.rtl,width:n.width(),height:n.height(),formatString:d.cellsformat}),this.editors["datetimeinput_"+f]=c,d.createeditor&&d.createeditor(e,o,c)}if(d._requirewidthupdate&&c.jqxDateTimeInput({width:n.width()-2}),i){if(""!=o&&null!=o){var C=new Date(o);"Invalid Date"==C&&this.source.getvaluebytype&&(C=this.source.getvaluebytype(o,{name:d.datafield,type:"date"})),c.jqxDateTimeInput("setDate",C)}else c.jqxDateTimeInput("setDate",null);null!=this.editcell.defaultvalue&&c.jqxDateTimeInput("setDate",this.editcell.defaultvalue)}if(s){var S=this.editEvent;setTimeout(function(){m(c.jqxDateTimeInput("dateTimeInput")),setTimeout(function(){if(c.jqxDateTimeInput("_selectGroup",0),h.editchar&&0<h.editchar.length){var e=parseInt(h.editchar);if(!isNaN(e)&&S){var t=S.charCode?S.charCode:S.keyCode?S.keyCode:0;c.jqxDateTimeInput("_handleKeyPress",S,t)}}},25)},10)}}break;case"numberinput":if(this.host.jqxNumberInput){t.innerHTML="",-1!=(f=R.trim(d.datafield).split(" ").join("")).indexOf(".")&&(f=f.replace(".",""));var k=this.editors["numberinput_"+f];if((c=null==k?R("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='numbereditor'></div>"):k).show(),c.css("top",R(t).parent().position().top),this.oldhscroll?c.css("left",-u+parseInt(R(t).position().left)):c.css("left",parseInt(R(t).position().left)),d.pinned&&c.css("left",u+parseInt(R(t).position().left)),null==k){c.prependTo(this.table),c[0].id="numbereditor"+this.element.id+f;var I="",D="left",P=2;d.cellsformat?-1!=d.cellsformat.indexOf("c")?(I=this.gridlocalization.currencysymbol,D="before"==(D=this.gridlocalization.currencysymbolposition)?"left":"right",1<d.cellsformat.length&&(P=parseInt(d.cellsformat.substring(1),10))):-1!=d.cellsformat.indexOf("p")&&(I=this.gridlocalization.percentsymbol,D="right",1<d.cellsformat.length&&(P=parseInt(d.cellsformat.substring(1),10))):P=0,c.jqxNumberInput({decimalSeparator:this.gridlocalization.decimalseparator,decimalDigits:P,inputMode:"simple",theme:this.theme,rtl:this.rtl,width:n.width()-1,height:n.height()-1,spinButtons:!0,symbol:I,symbolPosition:D}),this.editors["numberinput_"+f]=c,d.createeditor&&d.createeditor(e,o,c)}if(d._requirewidthupdate&&c.jqxNumberInput({width:n.width()-2}),i){if(""!=o&&null!=o){var A=o;c.jqxNumberInput("setDecimal",A)}else c.jqxNumberInput("setDecimal",0);if(null!=this.editcell.defaultvalue&&c.jqxNumberInput("setDecimal",this.editcell.defaultvalue),this.editchar&&0<this.editchar.length){var M=parseInt(this.editchar);isNaN(M)||c.jqxNumberInput("setDecimal",M)}s&&setTimeout(function(){if(m(c.jqxNumberInput("numberInput")),c.jqxNumberInput("_setSelectionStart",0),h.editchar)0<d.cellsformat.length?c.jqxNumberInput("_setSelectionStart",2):c.jqxNumberInput("_setSelectionStart",1),h.editchar=null;else{if(c.jqxNumberInput("spinButtons")){var e=c.jqxNumberInput("numberInput").val();h._setSelection(c.jqxNumberInput("numberInput")[0],e.length,e.length)}else{e=c.jqxNumberInput("numberInput").val();h._setSelection(c.jqxNumberInput("numberInput")[0],0,e.length)}c.jqxNumberInput("selectAll")}},10)}}break;case"custom":t.innerHTML="",-1!=(f=R.trim(d.datafield).split(" ").join("")).indexOf(".")&&(f=f.replace(".",""));var B=this.editors["customeditor_"+f+"_"+e];if((c=null==B?R("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='customeditor'></div>"):B).show(),c.css("top",R(t).parent().position().top),this.oldhscroll?c.css("left",-u+parseInt(R(t).position().left)):c.css("left",parseInt(R(t).position().left)),d.pinned&&c.css("left",u+parseInt(R(t).position().left)),null==B){c.prependTo(this.table),c[0].id="customeditor"+this.element.id+f+"_"+e,this.editors["customeditor_"+f+"_"+e]=c;var H=n.width()-1,z=n.height()-1;c.width(H),c.height(z),d.createeditor&&d.createeditor(e,o,c,a,H,z,this.editchar)}d._requirewidthupdate&&c.width(n.width()-2);break;case"template":t.innerHTML="",-1!=(f=R.trim(d.datafield).split(" ").join("")).indexOf(".")&&(f=f.replace(".",""));var E=this.editors["templateeditor_"+f];if((c=null==E?R("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='templateeditor'></div>"):E).show(),c.css("top",R(t).parent().position().top),this.oldhscroll?c.css("left",-u+parseInt(R(t).position().left)):c.css("left",parseInt(R(t).position().left)),d.pinned&&c.css("left",u+parseInt(R(t).position().left)),null==E){c.prependTo(this.table),c[0].id="templateeditor"+this.element.id+f,this.editors["templateeditor_"+f]=c;H=n.width()-1,z=n.height()-1;c.width(H),c.height(z),d.createeditor&&d.createeditor(e,o,c,a,H,z,this.editchar)}d._requirewidthupdate&&c.width(n.width()-2);break;case"textbox":default:t.innerHTML="",(c=this.editors["textboxeditor_"+d.datafield]||R("<input autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox' id='textboxeditor'/>"))[0].id="textboxeditor"+this.element.id+d.datafield,c.appendTo(n),this.rtl&&c.css("direction","rtl"),(i||""==c[0].className)&&(c.addClass(this.toThemeProperty("jqx-input")),c.addClass(this.toThemeProperty("jqx-widget-content")),this.editchar&&0<this.editchar.length?c.val(this.editchar):(""!=d.cellsformat&&(o=this.getcelltext(e,r)),null==o&&(o=""),c.val(o)),null!=this.editcell.defaultvalue&&c.val(this.editcell.defaultvalue),c.width(n.width()+1),c.height(n.height()+1),d.createeditor&&d.createeditor(e,o,c),""!=d.cellsformat&&(-1==d.cellsformat.indexOf("p")&&-1==d.cellsformat.indexOf("c")&&-1==d.cellsformat.indexOf("n")&&-1==d.cellsformat.indexOf("f")||this.editors["textboxeditor_"+d.datafield]||c.keydown(function(e){var t=e.charCode?e.charCode:e.keyCode?e.keyCode:0,i=String.fromCharCode(t),s=parseInt(i);if(isNaN(s))return!0;if(0<h._selection(c).length)return!0;var r="",n=c.val();if(1<d.cellsformat.length){var o=parseInt(d.cellsformat.substring(1));isNaN(o)&&(o=0)}else o=0;if(0<o&&-1!=n.indexOf(h.gridlocalization.decimalseparator)&&h._selection(c).start>n.indexOf(h.gridlocalization.decimalseparator))return!0;for(var a=0;a<n.length-o;a++){var l=n.substring(a,a+1);null!=l.match(/^[0-9]+$/)&&(r+=l)}return!(11<=r.length)&&void 0}))),this.editors["textboxeditor_"+d.datafield]=c,i&&s&&setTimeout(function(){m(c),h.editchar?(h._setSelection(c[0],1,1),h.editchar=null):h._setSelection(c[0],0,c.val().length)},25)}c&&(c[0].style.zIndex=1+parseInt(t.style.zIndex),R.jqx.browser.msie&&R.jqx.browser.version<8&&(c[0].style.zIndex=1+this.columns.records.length+t.style.zIndex),c.css("display","block"),this.editcell.editor=c,this.editcell[r]||(this.editcell[r]={}),this.editcell[r].editor=c),i&&d.initeditor&&d.initeditor(e,o,c,a,this.editchar),h.isTouchDevice()||setTimeout(function(){h.content&&(h.content[0].scrollTop=0,h.content[0].scrollLeft=0),h.gridcontent&&(h.gridcontent[0].scrollLeft=0,h.gridcontent[0].scrollTop=0)},10)}},_setSelection:function(e,t,i){try{if("selectionStart"in e)e.setSelectionRange(t,i);else{var s=e.createTextRange();s.collapse(!0),s.moveEnd("character",i),s.moveStart("character",t),s.select()}}catch(e){}},_hideeditors:function(){if(null!=this.editcells){for(var e in this.editcells)this.editcell=this.editcells[e],this._hidecelleditor()}},_hidecelleditor:function(e){if(this.editcell)if("selectedrow"!==this.editmode){if("checkbox"!=this.editcell.columntype){if(this.editcell.editor)switch(this.editcell.editor.hide(),this.editcell.columntype){case"dropdownlist":this.editcell.editor.jqxDropDownList({closeDelay:0}),this.editcell.editor.jqxDropDownList("hideListBox"),this.editcell.editor.jqxDropDownList({closeDelay:300});break;case"combobox":this.editcell.editor.jqxComboBox({closeDelay:0}),this.editcell.editor.jqxComboBox("hideListBox"),this.editcell.editor.jqxComboBox({closeDelay:300});break;case"datetimeinput":var t=this.editcell.editor;t.jqxDateTimeInput("isOpened")&&(t.jqxDateTimeInput({closeDelay:0}),t.jqxDateTimeInput("hideCalendar"),t.jqxDateTimeInput({closeDelay:300}))}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),this.isNestedGrid||0!=e&&this.element.focus()}}else{for(var i=0;i<this.columns.records.length;i++){var s=this.columns.records[i];if(this.editcell[s.datafield]&&this.editcell[s.datafield].editor){this.editcell[s.datafield].editor.hide();var r=this.editcell[s.datafield].editor;switch(s.columntype){case"dropdownlist":r.jqxDropDownList({closeDelay:0}),r.jqxDropDownList("hideListBox"),r.jqxDropDownList({closeDelay:300});break;case"combobox":r.jqxComboBox({closeDelay:0}),r.jqxComboBox("hideListBox"),r.jqxComboBox({closeDelay:300});break;case"datetimeinput":r.jqxDateTimeInput("isOpened")&&(r.jqxDateTimeInput({closeDelay:0}),r.jqxDateTimeInput("hideCalendar"),r.jqxDateTimeInput({closeDelay:300}))}}}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide())}},_geteditorvalue:function(e){var t=new String;if(!this.editcell)return null;var i=this.editcell.editor;if("selectedrow"==this.editmode&&this.editcell[e.datafield])i=this.editcell[e.datafield].editor;if(i){switch(e.columntype){case"textbox":default:if(t=i.val(),""!=e.cellsformat){var s="string",r=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(r){var n="";R.each(r,function(){if(this.name==e.displayfield)return this.type&&(n=this.type),!1}),n&&(s=n)}var o="date"===s||"time"===s;if("number"===s||"float"===s||"int"===s||"integer"===s||"string"===s&&(-1!=e.cellsformat.indexOf("p")||-1!=e.cellsformat.indexOf("c")||-1!=e.cellsformat.indexOf("n")||-1!=e.cellsformat.indexOf("f"))){if(""===t&&e.nullable)return"";-1<t.indexOf(this.gridlocalization.currencysymbol)&&(t=t.replace(this.gridlocalization.currencysymbol,""));var a=t;if(a=new Number(a),!isNaN(a))return a;-1<(t=(t=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s}(t,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)&&(t=t.replace(this.gridlocalization.percentsymbol,""));for(var l="",d=0;d<t.length;d++){var h=t.substring(d,d+1);"-"===h&&(l+="-"),"."===h&&(l+="."),null!=h.match(/^[0-9]+$/)&&(l+=h)}t=(t=l).replace(/ /g,""),t=new Number(t),isNaN(t)&&(t="")}if(o||"string"===s&&(-1!=e.cellsformat.indexOf("H")||-1!=e.cellsformat.indexOf("m")||-1!=e.cellsformat.indexOf("M")||-1!=e.cellsformat.indexOf("y")||-1!=e.cellsformat.indexOf("h")||-1!=e.cellsformat.indexOf("d"))){if(""===t&&e.nullable)return"";var c=t;R.jqx.dataFormat&&(t=R.jqx.dataFormat.tryparsedate(c,this.gridlocalization)),"Invalid Date"!=t&&null!=t||(t="")}}e.displayfield!=e.datafield&&(t={label:t,value:t});break;case"checkbox":i.jqxCheckBox&&(t=i.jqxCheckBox("checked"));break;case"datetimeinput":if(i.jqxDateTimeInput){if(i.jqxDateTimeInput({isEditing:!1}),"none"!==i.jqxDateTimeInput("container").css("display")&&i.jqxDateTimeInput("close"),i.jqxDateTimeInput("_validateValue"),null==(t=i.jqxDateTimeInput("getDate")))return null;t=new Date(t.toString()),e.displayfield!=e.datafield&&(t={label:t,value:t})}break;case"dropdownlist":if(i.jqxDropDownList){var u=i.jqxDropDownList("selectedIndex"),p=i.jqxDropDownList("listBox").getVisibleItem(u);null==(t=e.displayfield!=e.datafield?p?{label:p.label,value:p.value}:"":p?p.label:"")&&(t="")}break;case"combobox":if(i.jqxComboBox){if(t=i.jqxComboBox("val"),e.displayfield!=e.datafield)null!=(p=i.jqxComboBox("getSelectedItem"))&&(t={label:p.label,value:p.value});null==t&&(t="")}break;case"numberinput":if(i.jqxNumberInput){this.touchdevice&&i.jqxNumberInput("_doTouchHandling");var m=i.jqxNumberInput("getDecimal");t=new Number(m),t=parseFloat(t),isNaN(t)&&(t=0),null===m&&(t=null),e.displayfield!=e.datafield&&(t={label:t,value:t})}}e.geteditorvalue&&(t="selectedrow"==this.editmode?e.geteditorvalue(this.editcell.row,this.getcellvalue(this.editcell.row,e.datafield),i):e.geteditorvalue(this.editcell.row,this.editcell.value,i))}return t},hidevalidationpopups:function(){this.popups&&(R.each(this.popups,function(){this.validation.remove(),this.validationrow.remove()}),this.popups=new Array),this.validationpopup&&(this.validationpopuparrow.hide(),this.validationpopup.hide())},showvalidationpopup:function(i,s,r){if(null==r)r=this.gridlocalization.validationstring;var e=R("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),t=R("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");e.html(r),t.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),e.addClass(this.toThemeProperty("jqx-grid-validation")),e.addClass(this.toThemeProperty("jqx-rc-all")),e.prependTo(this.table),t.prependTo(this.table);for(var n=this.hScrollInstance.value,o=parseInt(n),a=this.getcolumn(s).uielement,l=null,d=0;d<this.hittestinfo.length;d++)i===this.hittestinfo[d].row.visibleindex&&(l=this.hittestinfo[d]);if(!l){this.ensurerowvisible(i);var h=this;return e.remove(),t.remove(),void setTimeout(function(){for(var e=null,t=0;t<h.hittestinfo.length;t++)i===h.hittestinfo[t].row.visibleindex&&(e=h.hittestinfo[t]);e&&h.showvalidationpopup(i,s,r)},25)}var c=R(l.visualrow);e.css("top",parseInt(c.position().top)+30+"px");var u=parseInt(e.css("top"));t.css("top",u-12),t.removeClass(),t.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var p=!1;u>=this._gettableheight()&&(t.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),t.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),(u=parseInt(c.position().top)-this.rowsheight-5)<0&&(u=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),p=!0),e.css("top",u+"px"),t.css("top",u+e.outerHeight()-9));var m=-o+parseInt(R(a).position().left);t.css("left",o+m+30);var f=e.width();f+m>this.host.width()-20&&(m-=f+m-this.host.width()+40);p?e.css("left",o+parseInt(R(a).position().left)-e.outerWidth()):e.css("left",o+m),e.show(),t.show(),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:e,validationrow:t}},_showvalidationpopup:function(e,t,i){var s=this.editcell,r=this.editcell.editor;"selectedrow"==this.editmode&&((s=this.editcell[t])&&s.editor&&(r=s.editor,s.element=r));if(r&&!(this.validationpopup&&R.jqx.isHidden(this.validationpopup)&&(this.validationpopup.remove&&(this.validationpopup.remove(),this.validationpopuparrow.remove()),this.validationpopup=null,this.validationpopuparrow=null,void 0===t&&void 0===i&&this.editors&&0===this.editors.length))){if(this.validationpopup)this.validationpopup.html(i);else{var n=R("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),o=R("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");n.html(i),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),n.addClass(this.toThemeProperty("jqx-grid-validation")),n.addClass(this.toThemeProperty("jqx-rc-all")),n.prependTo(this.table),o.prependTo(this.table),this.validationpopup=n,this.validationpopuparrow=o}var a=this.hScrollInstance.value,l=parseInt(a);"selectedrow"==this.editmode?this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.validationpopup.css("top",this.visiblerows[this.editcell.visiblerowindex].top+(this.rowsheight+5)+"px"):this.validationpopup.css("top",parseInt(R(s.editor).position().top)+(this.rowsheight+5)+"px"):this.validationpopup.css("top",parseInt(R(s.element).parent().position().top)+(this.rowsheight+5)+"px");var d=parseInt(this.validationpopup.css("top"));this.validationpopuparrow.css("top",d-11),this.validationpopuparrow.removeClass(),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var h=!1;this._gettableheight()<=d&&(this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),d=parseInt(R(s.element).parent().position().top)-this.rowsheight-5,"selectedrow"==this.editmode&&(d=this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.visiblerows[this.editcell.visiblerowindex].top-this.rowsheight-5:parseInt(R(s.editor).position().top)-this.rowsheight-5),d<0&&(d=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),h=!0),this.validationpopup.css("top",d+"px"),this.validationpopuparrow.css("top",d+this.validationpopup.outerHeight()-9));var c=-l+parseInt(R(s.element).position().left);this.validationpopuparrow.css("left",l+c+30);var u=this.validationpopup.width();if(u+c>this.host.width()-20)c-=u+c-this.host.width()+40;h?this.validationpopup.css("left",l+parseInt(R(s.element).position().left)-this.validationpopup.outerWidth()):this.validationpopup.css("left",l+c),"none"==this.editcell.editor.css("display")?(this.validationpopup.hide(),this.validationpopuparrow.hide()):(this.validationpopup.show(),this.validationpopuparrow.show())}}})}(jqxBaseFramework),function(q){q.extend(q.jqx._jqxGrid.prototype,{autoresizecolumns:function(e,t){"cells"!=e&&"all"!=e&&"column"!=e&&(e="all");var i=this.that,s=this.getrows();this.pageable&&(s=this.dataview.rows,this.groupable&&(s=this.dataview.records)),t=null==t?0:parseInt(t);var r=s.length;if(null==r&&null!=s){var n=new Array;q.each(s,function(e){n.push(this)}),r=(s=n).length}var o=q("<span></span>");o.addClass(this.toThemeProperty("jqx-widget")),o.addClass(this.toThemeProperty("jqx-grid-cell")),q(document.body).append(o);var a=[],l=[],d=[],h=[],c=i.host.width();"hidden"!=i.vScrollBar[0].style.visibility&&(c-=this.scrollbarsize+5),c<0&&(c=0);for(var u=0;u<r;u++)for(var p=s[u],m=0;m<this.columns.records.length;m++){if(!(j=this.columns.records[m]).hidden&&!(0<this.groups.length&&m<=this.groups.length-1)){null==l[j.displayfield]&&(l[j.displayfield]=0),null==d[j.displayfield]&&(d[j.displayfield]="");var f=p[j.displayfield];if(""!=j.cellsformat)q.jqx.dataFormat&&(q.jqx.dataFormat.isDate(f)?f=q.jqx.dataFormat.formatdate(f,j.cellsformat,this.gridlocalization):q.jqx.dataFormat.isNumber(f)&&(f=q.jqx.dataFormat.formatnumber(f,j.cellsformat,this.gridlocalization)));else if(j.cellsrenderer){var g=i._defaultcellsrenderer(f,j),v=j.cellsrenderer(u,j.datafield,f,g,j.getcolumnproperties(),p);null!=v&&(f=q(v).text())}if((null==e||"cells"==e||"all"==e)&&null!=f){a=f.toString().length;var x=f.toString().replace(/[^A-Z]/g,"").length;if(a>l[j.displayfield]&&(l[j.displayfield]=a,d[j.displayfield]=f,h[j.displayfield]=x),0<a&&x<=a){var w=20*x+15*(a-x);(y=20*h[j.displayfield]+15*(l[j.displayfield]-h[j.displayfield]))<w&&0<w&&0<y&&(l[j.displayfield]=a,d[j.displayfield]=f,h[j.displayfield]=x)}}if("column"==e||"all"==e){if(j.text.toString().length>l[j.displayfield]){d[j.displayfield]=j.text,l[j.displayfield]=j.text.length;x=j.text.toString().replace(/[^A-Z]/g,"").length;h[j.displayfield]=x}a=(f=j.text).toString().length,x=f.toString().replace(/[^A-Z]/g,"").length;if(0<a&&x<=a){var y;w=20*x+15*(a-x);(y=20*h[j.displayfield]+15*(l[j.displayfield]-h[j.displayfield]))<w&&0<w&&0<y&&(l[j.displayfield]=a,d[j.displayfield]=f,h[j.displayfield]=x)}}}}if(this.columns.records){for(m=0;m<this.columns.records.length;m++){if((j=this.columns.records[m]).displayfield){null==d[j.displayfield]&&(d[j.displayfield]=j.text),0<=o[0].className.indexOf("jqx-grid-column-header")&&o.removeClass(this.toThemeProperty("jqx-grid-column-header")),d[j.displayfield]==j.text&&o.addClass(this.toThemeProperty("jqx-grid-column-header")),o[0].innerHTML=d[j.displayfield].toString();var b=o.outerWidth()+10;if(0<o.children().length&&(b=o.children().outerWidth()+10),q.jqx.browser.msie&&q.jqx.browser.version<8&&(b+=10),this.filterable&&this.showfilterrow&&(b+=5),(b+=t)>j.maxwidth&&(b=j.maxwidth),null!=j._width&&(j.__width=j._width),j._width=null,"auto"==j.maxwidth||b<=j.maxwidth){var _=j.width;b<j.minwidth&&(b=j.minwidth),j.width=b,null!=j._percentagewidth&&(j._percentagewidth=null),this._raiseEvent(14,{columntext:j.text,column:j.getcolumnproperties(),datafield:j.datafield,displayfield:j.displayfield,oldwidth:_,newwidth:b})}}}o.remove(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo);for(m=0;m<this.columns.records.length;m++){var j;null!=(j=this.columns.records[m]).__width&&(j._width=j.__width)}}},autoresizecolumn:function(e,t,i){if("cells"!=t&&"all"!=t&&"column"!=t&&(t="all"),null==e)return!1;var s=this.getrows();this.pageable&&(s=this.dataview.rows,this.groupable&&(s=this.dataview.records));var r=this.getcolumn(e);if(null==r)return!1;i=null==i?0:parseInt(i);var n=s.length,o=q("<span></span>");o.addClass(this.toThemeProperty("jqx-widget")),o.addClass(this.toThemeProperty("jqx-grid-cell")),q(document.body).append(o);var a=0,l="",d=0,h=this.that,c=h.host.width();if("hidden"!=h.vScrollBar[0].style.visibility&&(c-=this.scrollbarsize+5),c<0&&(c=0),null==t||"cells"==t||"all"==t)for(var u=0;u<n;u++){var p=s[u][r.displayfield];if(""!=r.cellsformat)q.jqx.dataFormat&&(q.jqx.dataFormat.isDate(p)?p=q.jqx.dataFormat.formatdate(p,r.cellsformat,this.gridlocalization):q.jqx.dataFormat.isNumber(p)&&(p=q.jqx.dataFormat.formatnumber(p,r.cellsformat,this.gridlocalization)));else if(r.cellsrenderer){var m=r.cellsrenderer(u,r,p);null!=m&&(p=q(m).text())}if(null!=p){var f=p.toString().length,g=p.toString().replace(/[^A-Z]/g,"").length;if(a<f&&(a=f,l=p,d=g),0<f&&g<=f)(x=20*d+15*(a-d))<(v=20*g+15*(f-g))&&0<v&&0<x&&(a=f,l=p,d=g)}}if("column"==t||"all"==t){r.text.toString().length>a&&(l=r.text);var v,x;f=(p=r.text.toString()).toString().length,g=p.toString().replace(/[^A-Z]/g,"").length;if(0<f&&g<=f)(x=20*d+15*(a-d))<(v=20*g+15*(f-g))&&0<v&&0<x&&(a=f,l=p,d=g)}null==l&&(l=r.text),(o[0].innerHTML=l)==r.text&&o.addClass(this.toThemeProperty("jqx-grid-column-header"));var w=o.outerWidth()+10;if(q.jqx.browser.msie&&q.jqx.browser.version<8&&(w+=5),this.filterable&&this.showfilterrow&&(w+=5),w+=i,o.remove(),w>r.maxwidth&&(w=r.maxwidth),"auto"==r.maxwidth||w<=r.maxwidth){var y=r.width;w<r.minwidth&&(w=r.minwidth),r.width=w,null!=r._width&&(r.__width=r._width),(r._width=null)!=r._percentagewidth&&(r._percentagewidth=null),this._updatecolumnwidths(),this._updatecellwidths(),this._raiseEvent(14,{columntext:r.text,column:r.getcolumnproperties(),datafield:e,displayfield:r.displayfield,oldwidth:y,newwidth:w}),this._renderrows(this.virtualsizeinfo),null!=r._width&&(r._width=r.__width)}},_handlecolumnsresize:function(){var d=this.that;if(this.columnsresize){var h=!1;d.isTouchDevice()&&!0!==d.touchmode&&(h=!0);var e="mousemove.resize"+this.element.id,t="mousedown.resize"+this.element.id,i="mouseup.resize"+this.element.id;if(h)e=q.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,t=q.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,i=q.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(q(document),e),this.addHandler(q(document),e,function(e){if(null!=q.data(document.body,"contextmenu"+d.element.id)&&d.autoshowcolumnsmenubutton)return!0;if(null!=d.resizablecolumn&&!d.disabled&&d.resizing&&null!=d.resizeline){d.resizablecolumn.columnelement;var t=d.host.coord(),i=parseInt(d.resizestartline.coord().left),s=i-d._startcolumnwidth,r=d.resizablecolumn.column.minwidth;r="auto"==r?0:parseInt(r);var n=d.resizablecolumn.column.maxwidth;n="auto"==n?0:parseInt(n);var o=e.pageX;if(h)o=d.getTouches(e)[0].pageX;s+=r;var a=0<n?i+n:0,l=0==n||d._startcolumnwidth+o-i<n;if(d.rtl)l=!0;if(l)if(d.rtl){if(o>=t.left&&o<=t.left+d.host.width()&&(d.resizeline.css("left",o),h))return!1}else if(o>=t.left&&s<=o&&(0!=a&&e.pageX<a?d.resizeline.css("left",o):0==a&&d.resizeline.css("left",o),h))return!1}return!(!h&&null!=d.resizablecolumn)&&void 0}),this.removeHandler(q(document),t),this.addHandler(q(document),t,function(e){if(null!=q.data(document.body,"contextmenu"+d.element.id)&&d.autoshowcolumnsmenubutton)return!0;if(null!=d.resizablecolumn&&!d.disabled){var t=d.resizablecolumn.columnelement;if(t.coord().top+t.height()+5<e.pageY)return void(d.resizablecolumn=null);if(t.coord().top-5>e.pageY)return void(d.resizablecolumn=null);if(d._startcolumnwidth=d.resizablecolumn.column.width,d.resizablecolumn.column._width=null,q(document.body).addClass("jqx-disableselect"),q(document.body).addClass("jqx-position-reset"),d.host.addClass("jqx-disableselect"),d.content.addClass("jqx-disableselect"),d._mouseDownResize=new Date,d.resizing=!0,d._lastmouseDownResize&&d.columnsautoresize&&d._lastmouseDownResize-d._mouseDownResize<300&&-500<d._lastmouseDownResize-d._mouseDownResize){var i=d.resizablecolumn.column;if(i.resizable){d.resizablecolumn.column.width;var s=d.hScrollBar[0].style.visibility;return d._resizecolumn=null,d.resizeline.hide(),d.resizestartline.hide(),d.resizebackground.remove(),d.resizablecolumn=null,d.columndragstarted=!1,d.dragmousedown=null,d.__drag=!1,d.autoresizecolumn(i.displayfield,"all"),s!=d.hScrollBar[0].style.visibility&&d.hScrollInstance.setPosition(0),d.rtl&&d._arrange(),d.autosavestate&&d.savestate&&d.savestate(),e.stopPropagation(),d.suspendClick=!0,setTimeout(function(){d.suspendClick=!1},100),!1}}d._lastmouseDownResize=new Date,d._resizecolumn=d.resizablecolumn.column,d.resizeline=d.resizeline||q('<div style="position: absolute;"></div>'),d.resizestartline=d.resizestartline||q('<div style="position: absolute;"></div>'),d.resizebackground=d.resizebackground||q('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),d.resizebackground.css("opacity",.01),d.resizebackground.css("cursor","col-resize"),d.resizeline.css("cursor","col-resize"),d.resizestartline.css("cursor","col-resize"),d.resizeline.addClass(d.toThemeProperty("jqx-grid-column-resizeline")),d.resizestartline.addClass(d.toThemeProperty("jqx-grid-column-resizestartline")),q(document.body).append(d.resizeline),q(document.body).append(d.resizestartline),q(document.body).append(d.resizebackground);var r=d.resizablecolumn.columnelement.coord();d.resizebackground.css("left",d.host.coord().left),d.resizebackground.css("top",d.host.coord().top),d.resizebackground.width(d.host.width()),d.resizebackground.height(d.host.height()),d.resizebackground.css("z-index",9999);var n=function(e){d.rtl?e.css("left",parseInt(r.left)):e.css("left",parseInt(r.left)+d._startcolumnwidth);var t=d._groupsheader()?d.groupsheader.height():0;t+=d.showtoolbar?d.toolbarheight:0,t+=d.showstatusbar?d.statusbarheight:0;var i=0;d.pageable&&(i=d.pagerheight);var s="visible"==d.hScrollBar.css("visibility")?17:0;e.css("top",parseInt(r.top)),e.css("z-index",99999),d.columngroups?e.height(d.host.height()+d.resizablecolumn.columnelement.height()-i-t-s-d.columngroupslevel*d.columnsheight):e.height(d.host.height()-i-t-s),d.enableanimations?e.show("fast"):e.show()};n(d.resizeline),n(d.resizestartline),d.dragmousedown=null}});var s=function(){if(q(document.body).removeClass("jqx-disableselect"),q(document.body).removeClass("jqx-position-reset"),(d.showfilterrow||d.showstatusbar||d.showtoolbar||d.enablebrowserselection)&&(d.host.removeClass("jqx-disableselect"),d.content.removeClass("jqx-disableselect")),d.resizing){if(d._mouseUpResize=new Date,d._mouseUpResize-d._mouseDownResize<200)return d.resizing=!1,void(null!=d._resizecolumn&&null!=d.resizeline&&"block"==d.resizeline.css("display")&&(d._resizecolumn=null,d.resizeline.hide(),d.resizestartline.hide(),d.resizebackground.remove()));if(d.resizing=!1,!d.disabled){var e=d.host.width();if("hidden"!=d.vScrollBar[0].style.visibility&&(e-=20),e<0&&(e=0),null!=d._resizecolumn&&null!=d.resizeline&&"block"==d.resizeline.css("display")){var t=parseInt(d.resizeline.css("left")),i=parseInt(d.resizestartline.css("left")),s=d._startcolumnwidth+t-i;if(d.rtl)s=d._startcolumnwidth-t+i;var r=d._resizecolumn.width;d._closemenu(),s<d._resizecolumn.minwidth&&(s=d._resizecolumn.minwidth),d._resizecolumn.width=s,null!=d._resizecolumn._percentagewidth&&(d._resizecolumn._percentagewidth=s/e*100);for(var n=0;n<d._columns.length;n++)if(d._columns[n].datafield===d._resizecolumn.datafield){d._columns[n].width=d._resizecolumn.width,d._columns[n].width<d._resizecolumn.minwidth&&(d._columns[n].width=d._resizecolumn.minwidth);break}var o=d.hScrollBar[0].style.visibility;d._updatecolumnwidths(),d._updatecellwidths(),d._raiseEvent(14,{columntext:d._resizecolumn.text,column:d._resizecolumn.getcolumnproperties(),datafield:d._resizecolumn.datafield,oldwidth:r,newwidth:s}),d._renderrows(d.virtualsizeinfo),d.autosavestate&&d.savestate&&d.savestate(),o!=d.hScrollBar[0].style.visibility&&d.hScrollInstance.setPosition(0),d.rtl&&d._arrange(),d._resizecolumn=null,d.resizeline.hide(),d.resizestartline.hide(),d.resizebackground.remove(),d.resizablecolumn=null}else d.resizablecolumn=null}}};try{if(""!=document.referrer||window.frameElement){var r=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(r=document.referrer),r&&-1!=r.indexOf(document.location.host)){var n=function(e){s()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",n,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",n)}}}catch(e){}this.removeHandler(q(document),i),this.addHandler(q(document),i,function(e){if(null!=q.data(document.body,"contextmenu"+d.element.id)&&d.autoshowcolumnsmenubutton)return!0;s()})}}})}(jqxBaseFramework),function(f){f.extend(f.jqx._jqxGrid.prototype,{getcolumnindex:function(e){var t=this.getcolumn(e);return this.columns.records.indexOf(t)},setcolumnindex:function(e,t,i){if(!((c=this.getcolumn(e)).pinned||c.hidden||c.checkboxcolumn||c.grouped)){var s=this.columns.records.indexOf(c);this.columns.records.splice(s,1),this.columns.records.splice(t,0,c);var n=0,o=this.headerZIndex;this.columnsrow.children().detach();var a=this.toThemeProperty("jqx-grid-cell");a+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),this.filterrow&&(f(this.filterrow.children()[0]).children().detach(),this.filterrow[0].cells=[]);var l=this,d=null;if(null!=l.filterrow)d=f(l.filterrow.children()[0]);var h=!(this.columnsrow[0].cells=[]);if(f.each(this.columns.records,function(e,t){var i=this.uielement;l.columnsrow.append(i),l.rtl?i.css("z-index",o++):i.css("z-index",o--);var s=this.width;if(i.css("left",n),l.columnsrow[0].cells[l.columnsrow[0].cells.length]=i[0],l.filterrow){var r=f('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+a+'"></div>');d.append(r),r.css("left",n),r.css("z-index",o+1),r.width(this.width),r[0].left=n,r.append(this._filterwidget),l.filterrow[0].cells[l.filterrow[0].cells.length]=r[0]}this.hidden&&(h=!0),this.hidden&&this.hideable||(n+=s)}),this.groupable){var r=this.groups.length;0<r&&0<=s-r&&(s-=r,t-=r)}this.rowdetails&&0<=s-1&&(s--,t--),"checkbox"==this.selectionmode&&0<=s-1&&(s--,t--);var c=this._columns[s];this._columns.splice(s,1),this._columns.splice(t,0,c),this._raiseEvent(24,{columntext:c.text,datafield:c.datafield,oldindex:s,newindex:t}),0!=i&&((h||"checkbox"==c.columntype)&&(this.prerenderrequired=!0,this.rendergridcontent(!0,!1)),this._updatecolumnwidths(),this._updatecellwidths(),this._updatefilterrowui&&this.filterable&&this.showfilterrow&&this._updatefilterrowui(),this.showeverpresentrow&&this._updateaddnewrowui(),this._rendercolumngroups(),this._renderrows(this.virtualsizeinfo))}},_pinnedColumnsLength:function(){var e=0;return f.each(this.columns.records,function(){this.pinned&&e++,this.grouped&&e++}),"checkbox"==this.selectionmode&&e++,e},_handlecolumnsreorder:function(){var c=this,u=-1,p=!1;if(c.columnsreorder){var e="mousemove.reorder"+this.element.id,t="mousedown.reorder"+this.element.id,i="mouseup.reorder"+this.element.id,m=!1;this.isTouchDevice()&&!0!==this.touchmode&&(m=!0,e=f.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,t=f.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,i=f.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(f(document),e),this.addHandler(f(document),e,function(e){if(c.resizing)return!0;if(null!=c.reordercolumn){var t=parseInt(e.pageX),i=parseInt(e.pageY);if(m){var s=c.getTouches(e)[0];null!=s&&(t=parseInt(s.pageX),i=parseInt(s.pageY))}var r=c.host.coord(),n=parseInt(r.left),o=parseInt(r.top);null!=c.dragmousedownoffset&&null!=c.dragmousedownoffset||(c.dragmousedownoffset={left:0,top:0});var a=parseInt(t)-parseInt(c.dragmousedownoffset.left),l=parseInt(i)-parseInt(c.dragmousedownoffset.top);if(c.reordercolumn.css({left:a+"px",top:l+"px"}),p=!1,n<=t&&t<=n+c.host.width()&&o<=i&&i<=o+c.host.height()&&(p=!0),u=-1,p){c.reordercolumnicon.removeClass(c.toThemeProperty("jqx-grid-dragcancel-icon")),c.reordercolumnicon.addClass(c.toThemeProperty("jqx-grid-drag-icon"));var d=c.columnsheader.coord(),h=d.top+c.columnsheader.height();null!=c.columnsdropline&&(i>=d.top&&i<=h?u=c._handlereordercolumnsdroplines(t):c.columnsdropline.fadeOut("slow"))}else null!=c.columnsdropline&&c.columnsdropline.fadeOut("slow"),c.reordercolumnicon.removeClass(c.toThemeProperty("jqx-grid-drag-icon")),c.reordercolumnicon.addClass(c.toThemeProperty("jqx-grid-dragcancel-icon"));if(m)return e.preventDefault(),e.stopPropagation(),!1}}),this.columnsbounds=new Array,this.removeHandler(f(document),t),this.addHandler(f(document),t,function(e){if(c.resizing)return!0;c.columnsbounds=new Array;var i=c.host.coord().left,s=c.host.coord().top;c.showtoolbar&&(s+=c.toolbarheight),c.groupable&&c.showgroupsheader&&(s+=c.groupsheaderheight);var r=0;f.each(c.columns.records,function(e){if(this.hidden)return c.columnsbounds[c.columnsbounds.length]={top:s,column:this,left:i,width:0,height:2+c.rowsheight},!0;0==r&&(i=c.rtl?"hidden"!=c.hScrollBar.css("visibility")?parseInt(c.host.coord().left)-c.hScrollInstance.max+c.hScrollInstance.value:"hidden"==c.vScrollBar.css("visibility")?f(this.element).coord().left:f(this.element).coord().left-c.vScrollBar.width()-c.host.offset().left:parseInt(c.host.coord().left)-c.hScrollInstance.value),r++;var t=2+c.columnsheight;c.columnshierarchy&&(s=f(this.uielement).coord().top,t=f(this.uielement).height()),c.columnsbounds[c.columnsbounds.length]={top:s,column:this,left:i,width:this.width,height:t},i+=this.width})}),this.removeHandler(f(document),i),this.addHandler(f(document),i,function(e){if(c.resizing)return!0;c.__drag=!1,f(document.body).removeClass("jqx-disableselect");parseInt(e.pageX),parseInt(e.pageY);if(m){var t=c.getTouches(e)[0];parseInt(t.pageX),parseInt(t.pageY)}var i=c.host.coord();parseInt(i.left),parseInt(i.top),c.groupsheader.height();if(c.showtoolbar&&c.toolbarheight,c.columndragstarted=!1,(c.dragmousedown=null)!=c.reordercolumn){var s=f.data(c.reordercolumn[0],"reorderrecord"),r=c.columns.records.indexOf(c.getcolumn(s));c.reordercolumn.remove(),c.reordercolumn=null;var n=0;if(n+=c._pinnedColumnsLength(),null!=s){if(p&&-1!=u){var o=u.index;if(n<=o){var a=c.columns.records[o];if(null!=a){var l=c.columns.records.indexOf(c.getcolumn(a.datafield));if(null==a.datafield)l=c.columns.records.indexOf(c.getcolumnbytext(a.text));if(c.columngroups){var d=a;if(r<l&&"before"==u.position&&(d=c.columns.records[l-1]),d.columngroup!=c.getcolumn(s).columngroup)return void(null!=c.columnsdropline&&(c.columnsdropline.remove(),c.columnsdropline=null))}r<l?"before"==u.position?c.setcolumnindex(s,l-1):c.setcolumnindex(s,l):l<r&&c.setcolumnindex(s,l),c.autosavestate&&c.savestate&&c.savestate()}}}null!=c.columnsdropline&&(c.columnsdropline.remove(),c.columnsdropline=null)}}})}},getcolumnbytext:function(e){var t=null;return this.columns.records&&f.each(this.columns.records,function(){if(this.text==e)return t=this,!1}),t},_handlereordercolumnsdroplines:function(t){var i=this,s=-1,r=i._pinnedColumnsLength(),n=parseInt(i.host.coord().left)+i.host.width(),o="hidden"!=i.vScrollBar.css("visibility")?19:0;return i.rtl||(o=0),f.each(i.columnsbounds,function(e){if(r<=e){if(0==this.width)return!0;if(t<=this.left+this.width/2)return n<t?(i.columnsdropline.fadeOut(),!1):(i.columnsdropline.css("left",o+parseInt(this.left)+"px"),i.columnsdropline.css("top",parseInt(this.top)+"px"),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),!(s={index:e,position:"before"}));if(t>=this.left+this.width/2){if(this.left+this.width>n)return i.columnsdropline.fadeOut(),!1;i.columnsdropline.css("left",o+1+this.left+this.width),i.columnsdropline.css("top",this.top),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),s={index:e,position:"after"}}}}),s},_createreordercolumn:function(e,t,i){var s=this,r=t;s.reordercolumn&&s.reordercolumn.remove(),s.columnsdropline&&s.columnsdropline.remove(),s.reordercolumn=f("<div></div>");var n=e.clone();s.reordercolumn.css("z-index",999999),n.css("border-width","1px"),n.css("opacity","0.4");var o=f(n.find("."+s.toThemeProperty("jqx-grid-column-menubutton")));0<o.length&&o.css("display","none");var a=f(n.find(".jqx-icon-close"));0<a.length&&a.css("display","none"),s.reordercolumnicon=f('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),s.reordercolumnicon.addClass(s.toThemeProperty("jqx-grid-drag-icon")),s.reordercolumn.css("float","left"),s.reordercolumn.css("position","absolute");s.host.coord();n.width(e.width()+16),s.reordercolumn.append(n),s.reordercolumn.height(e.height()),s.reordercolumn.width(n.width()),s.reordercolumn.append(s.reordercolumnicon),f(document.body).append(s.reordercolumn),n.css("margin-left",0),n.css("left",0),n.css("top",0),s.reordercolumn.css("left",r.left+s.dragmousedown.left),s.reordercolumn.css("top",r.top+s.dragmousedown.top),null!=i&&i&&(s.columnsdropline=f('<div style="z-index: 9999; display: none; position: absolute;"></div>'),s.columnsdropline.width(2),s.columnsdropline.addClass(s.toThemeProperty("jqx-grid-group-drag-line")),f(document.body).append(s.columnsdropline))},_handlecolumnsdragreorder:function(o,a){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null;var l=this,d=!1;this.isTouchDevice()&&!0!==this.touchmode&&(d=!0);var e="mousedown.drag",h="mousemove.drag";d?(e=f.jqx.mobile.getTouchEventName("touchstart")+".drag",h=f.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(a,"dragstart",function(e){return!1}),this.addHandler(a,e,function(e){if(0==o.draggable)return!0;if(l.resizing)return!0;l.__drag=!0;var t=e.pageX,i=e.pageY;if(d){var s=l.getTouches(e)[0];t=s.pageX,i=s.pageY}l.dragmousedown={left:t,top:i};var r=f(e.target).coord();return l.dragmousedownoffset={left:parseInt(t)-parseInt(r.left),top:parseInt(i-r.top)},!0}),this.addHandler(a,h,function(e){if(!o.draggable)return!0;if(null==o.datafield)return!0;if(o.pinned)return!0;if(l.resizing)return!0;if(l.dragmousedown){var t=e.pageX,i=e.pageY;if(d){var s=l.getTouches(e)[0];null!=s&&(t=s.pageX,i=s.pageY)}if(h={left:t,top:i},!l.columndragstarted&&null==l.reordercolumn){var r=Math.abs(h.left-l.dragmousedown.left),n=Math.abs(h.top-l.dragmousedown.top);(3<r||3<n)&&(l._createreordercolumn(a,h,!0),f(document.body).addClass("jqx-disableselect"),f.data(l.reordercolumn[0],"reorderrecord",o.datafield))}}})}})}(jqxBaseFramework),function(G){G.extend(G.jqx._jqxGrid.prototype,{selectallrows:function(){this._trigger=!1;var e=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array;for(var t=this.dataview.loadedrecords,i=0;i<e;i++){var s=t[i];if(s){var r=this.getboundindex(s);null!=r&&(this.selectedrowindexes[i]=r)}else this.selectedrowindexes[i]=i}"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},unselectallrows:function(){this._trigger=!1;this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},selectrow:function(e,t){this._applyrowselection(e,!0,t),!1!==t&&this._updatecheckboxselection()},_updatecheckboxselection:function(){if("checkbox"==this.selectionmode){var e=this.getrows();if(e&&this._checkboxcolumn){if(0===e.length)return void this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1});var t=e.length;this.groupable&&(t=this.dataview.loadedrecords.length),this.virtualmode&&(t=this.source._source.totalrecords);var i=this.selectedrowindexes.length;i===t?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}):0===i?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}):this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:null})}}},unselectrow:function(e,t){this._applyrowselection(e,!1,t),!1!==t&&this._updatecheckboxselection()},selectcell:function(e,t){this._applycellselection(e,t,!0)},unselectcell:function(e,t){this._applycellselection(e,t,!1)},clearselection:function(e,t){if(this._trigger=!1,this.selectedrowindex=-1,this._oldselectedcell=null,!1!==t)for(var i=0;i<this.selectedrowindexes.length;i++)this._raiseEvent(3,{rowindex:this.selectedrowindexes[i]});this.selectedrowindexes=new Array,this.selectedcells=new Array,this.selectedcell=null,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),!1!==e?(this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(3,{rowindex:this.selectedrowindexes})):this._trigger=!0},getselectedrowindex:function(){if(-1==this.selectedrowindex||null==this.selectedrowindex)for(var e=0;e<this.selectedrowindexes.length;e++)return this.selectedrowindexes[e];return this.selectedrowindex},getselectedrowindexes:function(){return this.selectedrowindexes},getselectedcell:function(){if(!this.selectedcell)return null;var e=this.selectedcell;return e.row=this.selectedcell.rowindex,e.column=this.selectedcell.datafield,e.value=this.getcellvalue(e.row,e.column),e},getselectedcells:function(){var e=new Array;for(obj in this.selectedcells)e[e.length]=this.selectedcells[obj];return e},_getcellsforcopypaste:function(){var e=new Array;if(-1==this.selectionmode.indexOf("cell"))for(var t=this.selectedrowindexes,i=0;i<t.length;i++)for(var s=t[i],r=0;r<this.columns.records.length;r++)if("_checkboxcolumn"!==this.columns.records[r].datafield){this.columns.records[r].datafield;var n={rowindex:s,datafield:this.columns.records[r].datafield};e.push(n)}return e},deleteselection:function(){var e=this.getselectedcells();if(-1==this.selectionmode.indexOf("cell")&&(e=this._getcellsforcopypaste()),null!=e&&0<e.length){for(var t=0;t<e.length;t++){var i=e[t],s=this.getcolumn(i.datafield),r=this.getcellvalue(i.rowindex,i.datafield);if(s&&""!==r){var n=null;"checkbox"==s.columntype&&(s.threestatecheckbox||(n=!1)),this._raiseEvent(17,{rowindex:i.rowindex,datafield:i.datafield,value:r}),t==e.length-1?this.setcellvalue(i.rowindex,i.datafield,n,!0):this.setcellvalue(i.rowindex,i.datafield,n,!1),s.displayfield!=s.datafield&&this.setcellvalue(i.rowindex,s.displayfield,n,!0),this._raiseEvent(18,{rowindex:i.rowindex,datafield:i.datafield,oldvalue:r,value:n})}}this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}},copyselection:function(){var s="",r=this;this.clipboardselection={},this.logicalclipboardselection={},this._clipboardselection=[];var e=r.getselectedcells();-1==this.selectionmode.indexOf("cell")&&(e=this._getcellsforcopypaste());var t=new Array;if(null!=e&&0<e.length){for(var i=999999999999999,n=-1,o=0;o<e.length;o++){var a=e[o],l=r.getcolumn(a.datafield);if(null!=l&&l.clipboard&&(!l.hidden||this.copytoclipboardhiddencolumns)){-1==t.indexOf(l.text)&&t.push(l.text);var d=r.getcelltext(a.rowindex,l.displayfield),h=this.getrowdisplayindex(a.rowindex);this.clipboardselection[h]||(this.clipboardselection[h]={}),this.clipboardselection[h][l.displayfield]=d,this.logicalclipboardselection[h]||(this.logicalclipboardselection[h]={}),this.logicalclipboardselection[h][l.displayfield]=d,l.displayfield!=l.datafield&&(this.logicalclipboardselection[h][l.datafield]=r.getcellvalue(a.rowindex,l.datafield)),i=Math.min(i,h),n=Math.max(n,h)}}for(var c=new Array,u=i;u<=n;u++)if(this.logicalclipboardselection[u]){var p=G.extend({},this.logicalclipboardselection[u]);c.push(p)}if(this.logicalclipboardselection=c,this.copytoclipboardwithheaders){for(var m=0;m<t.length;m++)0<m&&(s+="\t"),s+=t[m];s+="\r\n"}for(u=i;u<=n;u++){var f=0;this._clipboardselection[this._clipboardselection.length]=new Array,null!=this.clipboardselection[u]&&(G.each(this.clipboardselection[u],function(e,t){0<f&&(s+="\t");var i=t;null==t&&(i=""),r._clipboardselection[r._clipboardselection.length-1][f]=i,f++,s+=i}),u<n&&(s+="\r\n"))}}return this.clipboardselectedtext=s},pasteselection:function(){var e=this.getselectedcells();if(this._oldselectedcell=null,-1==this.selectionmode.indexOf("cell")&&(e=this._getcellsforcopypaste()),null!=e&&0<e.length){var t=e[0].rowindex,i=this.getrowdisplayindex(t),s=e[0].datafield,r=this._getcolumnindex(s);this.selectedrowindexes=new Array,this.selectedcells=new Array;e.length;var n=0,o=new Array;this.copytoclipboardwithheaders&&this._clipboardselection.splice(0,1);for(var a=0;a<this._clipboardselection.length;a++){n+=this._clipboardselection[a].length,o[a]=new Array;for(var l=0;l<this._clipboardselection[a].length;l++){var d=this._clipboardselection[a][l];o[a].push(d)}}if(n<e.length){var h=new Array;for(a=0;a<e.length;a++){h[(w=e[a]).rowindex]||(h[w.rowindex]=new Array),h[w.rowindex].push(w)}var c=0,u=0;for(a=0;a<h.length;a++)if(h[a]){for(l=0;l<h[a].length;l++){var p=(w=h[a][l]).rowindex;if("_checkboxcolumn"!==(x=this.getcolumn(w.datafield)).datafield&&!x.hidden){d="";if(null==o[c][u]&&(u=0),d=o[c][u],u++,x.cellsformat&&(-1!=x.cellsformat.indexOf("p")||-1!=x.cellsformat.indexOf("c")||-1!=x.cellsformat.indexOf("n")||-1!=x.cellsformat.indexOf("f"))){-1<d.indexOf(this.gridlocalization.currencysymbol)&&(d=d.replace(this.gridlocalization.currencysymbol,"")),-1<(d=(d=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s}(d,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)&&(d=d.replace(this.gridlocalization.percentsymbol,""));for(var m="",f=0;f<d.length;f++){"-"===(y=d.substring(f,f+1))&&(m+="-"),"."===y&&(m+="."),null!=y.match(/^[0-9]+$/)&&(m+=y)}d=(d=m).replace(/ /g,""),d=new Number(d),isNaN(d)&&(d="")}if(this._raiseEvent(17,{rowindex:p,datafield:w.datafield,value:d}),this.setcellvalue(p,x.displayfield,d,!1),x.displayfield!=x.datafield&&this.logicalclipboardselection)if(this.logicalclipboardselection[p])null!=(b=this.logicalclipboardselection[p][x.datafield])&&this.setcellvalue(p,x.datafield,b,!1);this._raiseEvent(18,{rowindex:p,datafield:w.datafield,oldvalue:this.getcellvalue(w.rowindex,w.datafield),value:d}),this._applycellselection(p,w.datafield,!0,!1)}}u=0,o[++c]||(c=0)}}else{if(!this._clipboardselection)return;for(var g=0;g<this._clipboardselection.length;g++)for(var v=0;v<this._clipboardselection[g].length;v++){var x;if((x=this.getcolumnat(r+v))&&("_checkboxcolumn"!==x.datafield&&!x.hidden)){p=this.getrowboundindex(i+g);var w=this.getcell(p,x.datafield);d=null;if(null!=(d=this._clipboardselection[g][v])){if(x.cellsformat&&(-1!=x.cellsformat.indexOf("p")||-1!=x.cellsformat.indexOf("c")||-1!=x.cellsformat.indexOf("n")||-1!=x.cellsformat.indexOf("f"))){-1<d.indexOf(this.gridlocalization.currencysymbol)&&(d=d.replace(this.gridlocalization.currencysymbol,"")),-1<(d=(d=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s}(d,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)&&(d=d.replace(this.gridlocalization.percentsymbol,""));for(m="",f=0;f<d.length;f++){var y;"-"===(y=d.substring(f,f+1))&&(m+="-"),"."===y&&(m+="."),null!=y.match(/^[0-9]+$/)&&(m+=y)}d=(d=m).replace(/ /g,""),d=new Number(d),isNaN(d)&&(d="")}var b;if(this._raiseEvent(17,{rowindex:p,datafield:w.datafield,value:d}),this.setcellvalue(p,x.displayfield,d,!1),x.displayfield!=x.datafield&&this.logicalclipboardselection)null!=(b=this.logicalclipboardselection[g][x.datafield])&&this.setcellvalue(p,x.datafield,b,!1);this._raiseEvent(18,{rowindex:p,datafield:w.datafield,oldvalue:this.getcellvalue(w.rowindex,w.datafield),value:d}),this._applycellselection(p,w.datafield,!0,!1)}}}}"checkbox"==this.selectionmode&&this._updatecheckboxselection(),this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}this.clipboardend&&this.clipboardend("paste")},_applyrowselection:function(e,t,i,s,r){if(null==e)return!1;var n=this.selectedrowindex;if("singlerow"==this.selectionmode&&(t?this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)}):this._raiseEvent(3,{rowindex:e,row:this.getrowdata(e)}),this._raiseEvent(3,{rowindex:n}),this.selectedrowindexes=new Array,this.selectedcells=new Array),1==s&&(this.selectedrowindexes=new Array),0<this.dataview.filters.length){var o=this.getrowdata(e);o&&void 0!==o.dataindex?e=o.dataindex:o&&void 0===o.dataindex&&null!=o.uid&&(e=this.getrowboundindexbyid(o.uid))}var a=this.selectedrowindexes.indexOf(e);if(t)this.selectedrowindex=e,-1==a?(this.selectedrowindexes.push(e),"singlerow"!=this.selectionmode&&this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)})):"multiplerows"==this.selectionmode&&(this.selectedrowindexes.splice(a,1),this._raiseEvent(3,{rowindex:this.selectedrowindex,row:this.getrowdata(e)}),this.selectedrowindex=0<this.selectedrowindexes.length?this.selectedrowindexes[this.selectedrowindexes.length-1]:-1);else if(0<=a||"singlerow"==this.selectionmode||"multiplerowsextended"==this.selectionmode||"multiplerowsadvanced"==this.selectionmode){var l=this.selectedrowindexes[a];this.selectedrowindexes.splice(a,1),this._raiseEvent(3,{rowindex:l,row:this.getrowdata(e)}),this.selectedrowindex=-1}return(null==i||i)&&this._rendervisualrows(),!0},_applycellselection:function(e,t,i,s){if(null==e)return!1;if(null==t)return!1;var r;this.selectedrowindex;"singlecell"==this.selectionmode&&(null!=(r=this.selectedcell)&&this._raiseEvent(16,{rowindex:r.rowindex,datafield:r.datafield}),this.selectedcells=new Array);"multiplecellsextended"!=this.selectionmode&&"multiplecellsadvanced"!=this.selectionmode||null!=(r=this.selectedcell)&&this._raiseEvent(16,{rowindex:r.rowindex,datafield:r.datafield});var n=e+"_"+t;if(0<this.dataview.filters.length){var o=this.getrowdata(e);if(o&&void 0!==o.dataindex)n=(e=o.dataindex)+"_"+t;else if(o&&void 0===o.dataindex&&o.uid)n=(e=this.getrowboundindexbyid(o.uid))+"_"+t}var a={rowindex:e,datafield:t};return i?(this.selectedcell=a,this.selectedcells[n]?"multiplecells"!=this.selectionmode&&"multiplecellsextended"!=this.selectionmode&&"multiplecellsadvanced"!=this.selectionmode||(delete this.selectedcells[n],0<this.selectedcells.length&&this.selectedcells.length--,this._raiseEvent(16,a)):(this.selectedcells[n]=a,this.selectedcells.length++,this._raiseEvent(15,a))):(delete this.selectedcells[n],0<this.selectedcells.length&&this.selectedcells.length--,this._raiseEvent(16,a)),(null==s||s)&&this._rendervisualrows(),!0},_getcellindex:function(e){var t=-1;return G.each(this.selectedcells,function(){if(t++,this[e])return!1}),t},_clearhoverstyle:function(){if(null!=this.hoveredrow&&-1!=this.hoveredrow&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var e=this.table.find(".jqx-grid-cell-hover");0<e.length&&(e.removeClass(this.toTP("jqx-grid-cell-hover")),e.removeClass(this.toTP("jqx-fill-state-hover"))),this.hoveredrow=-1}},_clearselectstyle:function(){for(var e=this.table[0].rows.length,t=this.table[0].rows,i=this.toTP("jqx-grid-cell-selected"),s=this.toTP("jqx-fill-state-pressed"),r=this.toTP("jqx-grid-cell-hover"),n=this.toTP("jqx-fill-state-hover"),o=0;o<e;o++)for(var a=t[o],l=a.cells.length,d=a.cells,h=0;h<l;h++){var c=d[h],u=G(c);-1!=c.className.indexOf("jqx-grid-cell-selected")&&(u.removeClass(i),u.removeClass(s)),-1!=c.className.indexOf("jqx-grid-cell-hover")&&(u.removeClass(r),u.removeClass(n))}},_selectpath:function(e,t){var i=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,s=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0;if(i<=s){var r=this._getcolumnindex(this._lastClickedCell.column),n=this._getcolumnindex(t),o=Math.min(r,n),a=Math.max(r,n);this.selectedcells=new Array;for(var l=this.dataview.loadedrecords,d=i;d<=s;d++)for(var h=o;h<=a;h++){e=l[d];this._applycellselection(this.getboundindex(e),this._getcolumnat(h).datafield,!0,!1)}this._rendervisualrows()}},_selectrowpath:function(e){if("multiplerowsextended"==this.selectionmode){var t=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,i=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0,s=this.dataview.loadedrecords;if(t<=i){this.selectedrowindexes=new Array;for(var r=t;r<=i;r++){e=s[r];var n=this.getrowboundindex(r);this._applyrowselection(n,!0,!1)}this._rendervisualrows()}}},_selectrowwithmouse:function(e,t,i,s,r,n){if(null!=(w=t.row)){var o=t.index;if(null!=this.hittestinfo[o]){var a=this.hittestinfo[o].visualrow;if(!this.hittestinfo[o].details){a.cells[0].className;if(!w.group){if("multiplerows"==this.selectionmode||"multiplecells"==this.selectionmode||"checkbox"==this.selectionmode||-1!=this.selectionmode.indexOf("multiple")&&(1==n||1==r)){var l=this.getboundindex(w);if(0<this.dataview.filters.length){var d=this.getrowdata(l);if(d&&null==(l=d.dataindex))l=this.getboundindex(w)}var h=-1!=i.indexOf(l),c=this.getboundindex(w)+"_"+s;if(-1!=this.selectionmode.indexOf("cell")){var u=null!=this.selectedcells[c];if(null!=this.selectedcells[c]&&u?this._selectcellwithstyle(e,!1,o,s,a):this._selectcellwithstyle(e,!0,o,s,a),n&&null==this._lastClickedCell){var p=this.getselectedcells();p&&0<p.length&&(this._lastClickedCell={row:p[0].rowindex,column:p[0].datafield})}n&&this._lastClickedCell&&(this._selectpath(w.visibleindex,s),this.mousecaptured=!1,"visible"==this.selectionarea.css("visibility")&&this.selectionarea.css("visibility","hidden"))}else{if(h?r?this._applyrowselection(this.getboundindex(w),!1):this._selectrowwithstyle(e,a,!1,s):this._selectrowwithstyle(e,a,!0,s),n&&null==this._lastClickedCell){var m=this.getselectedrowindexes();m&&0<m.length&&(this._lastClickedCell={row:m[0],column:s})}if(n&&this._lastClickedCell){this.selectedrowindexes=new Array;for(var f=this._lastClickedCell?Math.min(this._lastClickedCell.row,w.visibleindex):0,g=this._lastClickedCell?Math.max(this._lastClickedCell.row,w.visibleindex):0,v=this.dataview.loadedrecords,x=f;x<=g;x++){var w;(w=v[x])&&this._applyrowselection(this.getboundindex(w),!0,!1,!1)}this._rendervisualrows()}}}else this._clearselectstyle(),this._selectrowwithstyle(e,a,!0,s),-1!=this.selectionmode.indexOf("cell")&&this._selectcellwithstyle(e,!0,o,s,a);n||(this._lastClickedCell={row:w.visibleindex,column:s})}}}}},_selectcellwithstyle:function(e,t,i,s,r){var n=G(r.cells[e._getcolumnindex(s)]);n.removeClass(this.toTP("jqx-grid-cell-hover")),n.removeClass(this.toTP("jqx-fill-state-hover")),t?(n.addClass(this.toTP("jqx-grid-cell-selected")),n.addClass(this.toTP("jqx-fill-state-pressed"))):(n.removeClass(this.toTP("jqx-grid-cell-selected")),n.removeClass(this.toTP("jqx-fill-state-pressed")))},_selectrowwithstyle:function(e,t,i,s){var r=t.cells.length,n=0;e.rowdetails&&e.showrowdetailscolumn?this.rtl?(r-=1,r-=this.groups.length):n=1+this.groups.length:this.groupable&&(this.rtl?r-=this.groups.length:n=this.groups.length);for(var o=n;o<r;o++){var a=t.cells[o];i?(G(a).removeClass(this.toTP("jqx-grid-cell-hover")),G(a).removeClass(this.toTP("jqx-fill-state-hover")),-1==e.selectionmode.indexOf("cell")&&(G(a).addClass(this.toTP("jqx-grid-cell-selected")),G(a).addClass(this.toTP("jqx-fill-state-pressed")))):(G(a).removeClass(this.toTP("jqx-grid-cell-hover")),G(a).removeClass(this.toTP("jqx-grid-cell-selected")),G(a).removeClass(this.toTP("jqx-fill-state-hover")),G(a).removeClass(this.toTP("jqx-fill-state-pressed")))}},_handlemousemoveselection:function(e,i){if(i.hScrollInstance.isScrolling()||i.vScrollInstance.isScrolling())return!1;if(("multiplerowsextended"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&i.mousecaptured){if(i.multipleselectionbegins)if(!1===i.multipleselectionbegins(e))return!0;var t=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0;s+=this.showtoolbar?this.toolbar.height():0;var r=this.host.coord();if(this.hasTransform){r=G.jqx.utilities.getOffset(this.host);var n=this._getBodyOffset();r.left-=n.left,r.top-=n.top}"0px"===this.host.css("border-top-width")&&(s-=2);var o=e.pageX,a=e.pageY-s;if(3<Math.abs(this.mousecaptureposition.left-o)||3<Math.abs(this.mousecaptureposition.top-a)){parseInt(this.columnsheader.coord().top);this.hasTransform&&G.jqx.utilities.getOffset(this.columnsheader).top,o<r.left&&(o=r.left),o>r.left+this.host.width()&&(o=r.left+this.host.width());var l=r.top+t;a<l&&(a=l+5);var d=parseInt(Math.min(i.mousecaptureposition.left,o)),h=-5+parseInt(Math.min(i.mousecaptureposition.top,a)),c=parseFloat(Math.abs(i.mousecaptureposition.left-o)),u=parseInt(Math.abs(i.mousecaptureposition.top-a));if(d-=r.left,h-=r.top,this.selectionarea.css("visibility","visible"),"multiplecellsadvanced"==i.selectionmode){var p=(o=d)+c,m=i.hScrollInstance,f=m.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(f=m.max-m.value),this.vScrollBar[0].style.visibility);var g=i.table[0].rows[0],v=0,x=i.mousecaptureposition.clickedcell,w=x,y=!1,b=0,_=g.cells.length;i.mousecaptureposition.left<=e.pageX&&(b=x);for(var j=!1,q=b;q<_;q++){var T=parseFloat(G(this.columnsrow[0].cells[q]).css("left")),C=T-f;if(!i.columns.records[q].pinned||i.columns.records[q].hidden){if(j){y=!0,w--;break}var S=this._getcolumnat(q);if(!(null!=S&&S.hidden||i.groupable&&0<i.groups.length&&q<i.groups.length)){k=C+G(this.columnsrow[0].cells[q]).width();if(i.mousecaptureposition.left>e.pageX){if(o<=k&&C<=o){w=q,y=!0;break}}else if(p<=k&&C<=p){w=q,y=!0;break}}}else{q==x&&(j=!0);var k=T+G(this.columnsrow[0].cells[q]).width();if(i.mousecaptureposition.left>e.pageX){if(o<=k&&C<=o){w=q,y=!0;break}}else if(p<=k&&C<=p){w=q,y=!0;break}}}y||(i.mousecaptureposition.left>e.pageX?G.each(this.columns.records,function(e,t){return!!(i.groupable&&0<i.groups.length&&e<i.groups.length)||(this.pinned||this.hidden?void 0:(w=e,!1))}):(!i.groupable||i.groupable&&0<!i.groups.length)&&(w=g.cells.length-1));var I=x;x=Math.min(x,w),w=Math.max(I,w),h+=5,h+=s;i.table[0].rows.indexOf(i.mousecaptureposition.clickedrow);var D=0,P=-1,A=-1,M=0;for(q=0;q<i.table[0].rows.length;q++){var B=G(i.table[0].rows[q]);0==q&&(M=B.coord().top);var H=B.height(),z=M-r.top;if(-1==P&&h<=z+H){for(var E=!1,O=0;O<i.groups.length;O++){if(-1!=(N=B[0].cells[O].className).indexOf("jqx-grid-group-collapse")||-1!=N.indexOf("jqx-grid-group-expand")){E=!0;break}}if(E)continue;P=q}if(M+=H,i.groupable&&0<i.groups.length){for(E=!1,O=0;O<i.groups.length;O++){var N;if(-1!=(N=B[0].cells[O].className).indexOf("jqx-grid-group-collapse")||-1!=N.indexOf("jqx-grid-group-expand")){E=!0;break}}if(E)continue;v=0;for(var L=i.groups.length;L<B[0].cells.length;L++){var R=B[0].cells[L];""==G(R).html()&&v++}if(v==B[0].cells.length-i.groups.length)continue}if(-1!=P&&(D+=H),h+u<z+H){A=q;break}}if(-1!=P){h=G(i.table[0].rows[P]).coord().top-r.top-s-2;var F=0;this.filterable&&this.showfilterrow&&(F=this.filterrowheight),parseFloat(i.table[0].style.top)<0&&h<this.rowsheight+F&&(h-=parseFloat(i.table[0].style.top),D+=parseFloat(i.table[0].style.top)),u=D;var W=G(this.columnsrow[0].cells[x]),V=G(this.columnsrow[0].cells[w]);if(d=parseFloat(W.css("left")),c=parseFloat(V.css("left"))-parseFloat(d)+V.width()-2,d-=f,j&&(d+=f),i.editcell&&i.editable&&i.endcelledit&&(x!=w||P!=A)){if(0==i.editcell.validated)return;i.endcelledit(i.editcell.row,i.editcell.column,!0,!0)}}}this.selectionarea.width(c),this.selectionarea.height(u),this.selectionarea.css("left",d),this.selectionarea.css("top",h)}}},_handlemouseupselection:function(t,i){if(this.selectionarea){if("visible"!=this.selectionarea[0].style.visibility)return!(i.mousecaptured=!1);if(i.mousecaptured&&("multiplerowsextended"==i.selectionmode||"multiplerowsadvanced"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&(i.mousecaptured=!1,"visible"==this.selectionarea.css("visibility"))){this.selectionarea.css("visibility","hidden");var e=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0;"0px"===this.host.css("border-top-width")&&(s-=2),s+=this.showtoolbar?this.toolbar.height():0;var r=this.selectionarea.coord(),n=this.host.coord();this.hasTransform&&(n=G.jqx.utilities.getOffset(this.host),r=G.jqx.utilities.getOffset(this.selectionarea)),"0px"===this.host.css("border-top-width")&&(s-=2);var o=r.left-n.left,a=r.top-e-n.top-s,l=a,d=o+this.selectionarea.width(),h=o,c=new Array,u=new Array;if("multiplerowsextended"==i.selectionmode){for(;a<l+this.selectionarea.height();){var p=(w=this._hittestrow(o,a)).row;-1!=(y=w.index)&&(u[y]||(u[y]=!0,c[c.length]=w)),a+=20}l=0;G.each(c,function(){var e=this.row;"none"!=i.selectionmode&&i._selectrowwithmouse&&(t.ctrlKey||t.metaKey?i._applyrowselection(i.getboundindex(e),!0,!1,!1):0==l?i._applyrowselection(i.getboundindex(e),!0,!1,!0):i._applyrowselection(i.getboundindex(e),!0,!1,!1),l++)})}else{"multiplecellsadvanced"==i.selectionmode&&(a+=2);var m=i.hScrollInstance,f=m.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(f=m.max-m.value),"hidden"!=this.vScrollBar[0].style.visibility&&(f-=this.scrollbarsize+4));var g=i.table[0].rows[0],v=i.selectionarea.height();!t.ctrlKey&&!t.metaKey&&0<v&&(i.selectedcells=new Array);for(var x=v;a<l+x;){var w;if(w=i._hittestrow(o,a)){var y;p=w.row;if(-1!=(y=w.index)&&!u[y]){u[y]=!0;for(var b=0;b<g.cells.length;b++){var _=parseFloat(G(i.columnsrow[0].cells[b]).css("left"))-f,j=_+G(i.columnsrow[0].cells[b]).width();(_<=h&&h<=j||_<=d&&d<=j||h<=_&&_<=d)&&i._applycellselection(i.getboundindex(p),i._getcolumnat(b).datafield,!0,!1)}}a+=5}else a+=5}}i.autosavestate&&i.savestate&&i.savestate(),i._renderrows(i.virtualsizeinfo)}}},selectprevcell:function(e,t){var i=this._getcolumnindex(t),s=(this.columns.records.length,this._getprevvisiblecolumn(i));null!=s&&(this.clearselection(),this.selectcell(e,s.datafield))},selectnextcell:function(e,t){var i=this._getcolumnindex(t),s=(this.columns.records.length,this._getnextvisiblecolumn(i));null!=s&&(this.clearselection(),this.selectcell(e,s.datafield))},_getfirstvisiblecolumn:function(){for(var e=this.columns.records.length,t=0;t<e;t++){var i=this.columns.records[t];if(!i.hidden&&null!=i.datafield)return i}return null},_getlastvisiblecolumn:function(){for(var e=this.columns.records.length-1;0<=e;e--){var t=this.columns.records[e];if(!t.hidden&&null!=t.datafield)return t}return null},_handlekeydown:function(p,m){if(m.groupable&&m.groups.length,m.disabled)return!1;var i=p.charCode?p.charCode:p.keyCode?p.keyCode:0;if(m.editcell&&"multiplecellsadvanced"!=m.selectionmode)return!0;if(m.editcell&&"multiplecellsadvanced"==m.selectionmode){if(!(33<=i&&i<=40))return!0;if(p.altKey)return!(m._cancelkeydown=!1);if(null!=m._cancelkeydown&&0!=m._cancelkeydown)return!(m._cancelkeydown=!1);if("selectedrow"===m.editmode)return!0;if(m.endcelledit(m.editcell.row,m.editcell.column,!1,!0),m._cancelkeydown=!1,m.editcell&&!m.editcell.validated)return m._rendervisualrows(),m.endcelledit(m.editcell.row,m.editcell.column,!1,!0),!1}if("none"==m.selectionmode)return!0;if(m.showfilterrow&&m.filterable&&this.filterrow&&G(p.target).ischildof(m.filterrow))return!0;if(m.showeverpresentrow){if(m.addnewrowtop&&G(p.target).ischildof(m.addnewrowtop))return!0;if(m.addnewrowbottom&&G(p.target).ischildof(m.addnewrowbottom))return!0}if(p.target.className&&0<=p.target.className.indexOf("jqx-grid-widget"))return!0;if(m.pageable&&G(p.target).ischildof(this.pager))return!0;if(this.showtoolbar&&G(p.target).ischildof(this.toolbar))return!0;if(this.showstatusbar&&G(p.target).ischildof(this.statusbar))return!0;var f=!1;if(p.altKey)return!0;if((p.ctrlKey||p.metaKey)&&this.clipboard){var e=String.fromCharCode(i).toLowerCase();if(this.clipboardbegin){var t=null;if("c"==e?t=this.clipboardbegin("copy",this.copyselection()):"x"==e?t=this.clipboardbegin("cut",this.copyselection()):"v"==e&&(t=this.clipboardbegin("paste")),!1===t)return!1}if("c"==e||"x"==e){var s=this.copyselection();if("c"==e&&this.clipboardend&&this.clipboardend("copy"),"x"==e&&this.clipboardend&&this.clipboardend("cut"),window.clipboardData)window.clipboardData.setData("Text",s);else{var r=G('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');r.val(s),G("body").append(r),r.select(),setTimeout(function(){document.designMode="off",r.select(),r.remove(),m.focus()},100)}if("c"==e&&G.jqx.browser.msie)return!1;if("c"==e)return!0}else if("v"==e){var n=G('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');G("body").append(n),n.select();var o=this;return setTimeout(function(){if(o._clipboardselection=new Array,0==(e=n.val()).length&&window.clipboardData){n.val(window.clipboardData.getData("Text"));var e=n.val()}for(var t=e.split("\n"),i=0;i<t.length;i++)if(0<t[i].split("\t").length){var s=t[i].split("\t");if(1==s.length&&i==t.length-1&&""==s[0])continue;0<s.length&&o._clipboardselection.push(s)}o.pasteselection(),n.remove(),o.focus()},100),!0}if("x"==e)return this.deleteselection(),this.host.focus(),!1}var a=Math.round(m._gettableheight()),l=Math.round(a/m.rowsheight),d=m.getdatainformation();switch(m.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":var h=m.getselectedcell();if(null===h&&m.selectcell(0,m.columns.records[0].displayfield),null!=h){var c=this.getrowvisibleindex(h.rowindex),u=h.datafield,g=m._getcolumnindex(u),v=(m.columns.records.length,function(e,t,c,u){var i=function(e,t){var i,s=m.dataview.loadedrecords[e];if(m.groupable&&0<m.groups.length){var r=e;"up"==u&&r++,"down"==u&&r--;s=m.getdisplayrows()[r];for(var n=1,o=!0;o&&n<300&&(o=!1,"down"==u?s=m.getdisplayrows()[r+n]:"up"==u&&(s=m.getdisplayrows()[r-n]),s);){s&&s.group&&(o=!0);for(var a=s.parentItem;a;)!a||(i=a).group&&(m.expandedgroups[i.uniqueid]?m.expandedgroups[i.uniqueid].expanded:void 0)||(o=!0),a=a.parentItem;if(!o)break;n++}if(300==n&&(s=null),m.pageable){var l=!1;if(s){for(var d=0;d<m.dataview.rows.length;d++)m.dataview.rows[d].boundindex==s.boundindex&&(l=!0);l||(s=null)}}}else if(m.pageable){l=!1;if(s){for(d=0;d<m.dataview.rows.length;d++)m.dataview.rows[d].boundindex==s.boundindex&&(l=!0);if(!l)return m.pagerpageinput&&9===p.keyCode&&s.boundindex>m.dataview.rows[m.dataview.rows.length-1].boundindex&&(m.pagerpageinput.focus(),p.preventDefault()),!(s=null)}}if(null!=s&&null!=t){(c||null==c)&&m.clearselection();var h=m.getboundindex(s);return m.selectcell(h,t),m._oldselectedcell=m.selectedcell,f=!0,m.ensurecellvisible(e,t),!0}return!1};if(i(e,t)||(m.ensurecellvisible(e,t),i(e,t),m.virtualmode&&m.host.focus()),!(m.groupable&&0<m.groups.length))if(p.shiftKey&&9!=p.keyCode){if(("multiplecellsextended"==m.selectionmode||"multiplecellsadvanced"==m.selectionmode)&&m._lastClickedCell){m._selectpath(e,t);var s=m.dataview.loadedrecords[e],r=m.getboundindex(s);return void(m.selectedcell={rowindex:r,datafield:t})}}else p.shiftKey||(m._lastClickedCell={row:e,column:t})}),x=p.shiftKey&&"singlecell"!=m.selectionmode&&"multiplecells"!=m.selectionmode,w=function(){v(0,u,!x)},y=function(){var e=d.rowscount-1;v(e,u,!x)},b=9==i&&!p.shiftKey,_=9==i&&p.shiftKey;if(m.rtl){var j=b;b=_,_=j}if((b||_)&&(x=!1),(b||_)&&document.activeElement&&document.activeElement.className&&0<=document.activeElement.className.indexOf("jqx-grid-cell-add-new-row"))return!0;if((D=p.ctrlKey||p.metaKey)&&37==i)null!=(S=m._getfirstvisiblecolumn(g))&&v(c,S.datafield);else if(D&&39==i){var q=m._getlastvisiblecolumn(g);null!=q&&v(c,q.datafield)}else if(39==i||b){var T=m._getnextvisiblecolumn(g);if(null!=T)v(c,T.datafield,!x);else if(b){var C=m._getfirstvisiblecolumn();i=40,u=C.displayfield}else f=!0}else{var S;if(37==i||_)if(null!=(S=m._getprevvisiblecolumn(g)))v(c,S.datafield,!x);else if(_){var k=m._getlastvisiblecolumn();i=38,u=k.displayfield}else f=!0;else if(36==i)w();else if(35==i)y();else if(33==i)if(0<=c-l)v(c-l,u,!x);else w();else if(34==i)if(d.rowscount>c+l)v(c+l,u,!x);else y()}38==i&&(D?w():0<c?v(c-1,u,!x,"up"):f=!1),40==i&&(D?y():d.rowscount>c+1||m.groupable&&0<m.groups.length?v(c+1,u,!x,"down"):f=!0)}break;case"singlerow":case"multiplerows":case"multiplerowsextended":case"multiplerowsadvanced":if(null==(c=m.getselectedrowindex())||-1==c)return!0;c=this.getrowvisibleindex(c);var I=function(e,h,c){var t=function(e){var t,i=m.dataview.loadedrecords[e];if(m.groupable&&0<m.groups.length){"up"==c&&e++,"down"==c&&e--;i=m.getdisplayrows()[e];for(var s=1,r=!0;r&&s<300&&(r=!1,"down"==c?i=m.getdisplayrows()[e+s]:"up"==c&&(i=m.getdisplayrows()[e-s]),i);){i&&i.group&&(r=!0);for(var n=i.parentItem;n;)!n||(t=n).group&&(m.expandedgroups[t.uniqueid]?m.expandedgroups[t.uniqueid].expanded:void 0)||(r=!0),n=n.parentItem;if(!r)break;s++}if(300==s&&(i=null),m.pageable){var o=!1;if(i){for(var a=0;a<m.dataview.rows.length;a++)m.dataview.rows[a].boundindex==i.boundindex&&(o=!0);o||(i=null)}}}if(null!=i){var l=m.getboundindex(i),d=m.selectedrowindex;return(h||null==h)&&m.clearselection(),m.selectedrowindex=d,m.selectrow(l,!1),(!m.ensurerowvisible(e)||m.autoheight||m.groupable)&&m._rendervisualrows(),f=!0}return!1};if(t(e)||(m.ensurerowvisible(e),t(e),m.virtualmode&&setTimeout(function(){t(e)},25),m.virtualmode&&m.host.focus()),!(m.groupable&&0<m.groups.length))if(p.shiftKey&&9!=i){if("multiplerowsextended"==m.selectionmode&&m._lastClickedCell)return m._selectrowpath(e),void(m.selectedrowindex=m.getrowboundindex(e))}else p.shiftKey||(m._lastClickedCell={row:e},m.selectedrowindex=m.getrowboundindex(e))},D=(x=p.shiftKey&&"singlerow"!=m.selectionmode&&"multiplerows"!=m.selectionmode,w=function(){I(0,!x)},y=function(){var e=d.rowscount-1;I(e,!x)},p.ctrlKey||p.metaKey);if(36==i||D&&38==i)w();else if(35==i||D&&40==i)y();else if(33==i)if(0<=c-l)I(c-l,!x);else w();else if(34==i)if(d.rowscount>c+l)I(c+l,!x);else y();else 38==i?0<c?I(c-1,!x,"up"):f=!0:40==i&&(d.rowscount>c+1||m.groupable&&0<m.groups.length?I(c+1,!x,"down"):f=!0)}return!f||(m.autosavestate&&m.savestate&&m.savestate(),!1)},_handlemousemove:function(e,t){if(!t.vScrollInstance.isScrolling()&&!t.hScrollInstance.isScrolling()){var i,s,r,n,o;if(t.enablehover||"multiplerows"==t.selectionmode){if(i=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0,s+=this.showtoolbar?this.toolbarheight:0,r=this.host.coord(),this.hasTransform){r=G.jqx.utilities.getOffset(this.host);var a=this._getBodyOffset();r.left-=a.left,r.top-=a.top}n=e.pageX-r.left,o=e.pageY-i-r.top-s}if("multiplerowsextended"!=t.selectionmode&&"multiplecellsextended"!=t.selectionmode&&"multiplecellsadvanced"!=t.selectionmode||1!=t.mousecaptured){if(!t.enablehover)return!0;if(!t.disabled&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var l=this._hittestrow(n,o);if(l){var d=l.row,h=l.index;if((-1==this.hoveredrow||-1==h||this.hoveredrow!=h||-1!=this.selectionmode.indexOf("cell")||"checkbox"==this.selectionmode)&&(this._clearhoverstyle(),-1!=h&&null!=d)){var c=this.hittestinfo[h].visualrow;if(null!=c&&!(this.hittestinfo[h].details||e.clientX>G(c).width()+G(c).coord().left)){var u=0,p=c.cells.length;if(t.rowdetails&&t.showrowdetailscolumn?this.rtl?(p-=1,p-=this.groups.length):u=1+this.groups.length:this.groupable&&(this.rtl?p-=this.groups.length:u=this.groups.length),0!=c.cells.length){var m=c.cells[u].className;if(!(d.group||0<=this.selectionmode.indexOf("row")&&-1!=m.indexOf("jqx-grid-cell-selected")))if(this.hoveredrow=h,-1==this.selectionmode.indexOf("cell")&&"checkbox"!=this.selectionmode)for(x=u;x<p;x++){y=c.cells[x];G(y).addClass(this.toTP("jqx-grid-cell-hover")),G(y).addClass(this.toTP("jqx-fill-state-hover")),this.cellhover&&this.cellhover(y,e.pageX,e.pageY)}else{var f=-1,g=this.hScrollInstance,v=g.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(v=g.max-g.value);for(var x=u;x<p;x++){var w=parseInt(G(this.columnsrow[0].cells[x]).css("left"))-v;if(this.columns.records[x].pinned&&!this.rtl&&(w=parseInt(G(this.columnsrow[0].cells[x]).css("left"))),n<=w+G(this.columnsrow[0].cells[x]).width()&&w<=n){f=x;break}}if(-1!=f){var y=c.cells[f];if(this.cellhover&&this.cellhover(y,e.pageX,e.pageY),-1==y.className.indexOf("jqx-grid-cell-selected")){if(this.editcell){var b=this._getcolumnat(f);if(b&&this.editcell.row==h&&this.editcell.column==b.datafield)return}G(y).addClass(this.toTP("jqx-grid-cell-hover")),G(y).addClass(this.toTP("jqx-fill-state-hover"))}}}}}}}}}}}})}(jqxBaseFramework),function(I){I.extend(I.jqx._jqxGrid.prototype,{savestate:function(i){var s=this.getstate();return void 0===i||I.isEmptyObject(i)||(-1==i.indexOf("sort")&&(delete s.sortcolumn,delete s.sortdirection),-1==i.indexOf("pager")&&(delete s.pagenum,delete s.pagesizeoptions,delete s.pagesize),-1==i.indexOf("selection")&&(delete s.selectedcells,delete s.selectedrowindexes,delete s.selectedrowindex),-1==i.indexOf("grouping")&&delete s.groups,-1==i.indexOf("filter")&&delete s.filters,I.each(this.columns.records,function(e){var t=s.columns[this.datafield];-1==i.indexOf("hidden_columns")&&delete t.hidden,-1==i.indexOf("reorder")&&delete t.index,-1==i.indexOf("columns_width")&&delete t.width,-1==i.indexOf("columns_text")&&delete t.text,-1==i.indexOf("alignment")&&(delete t.align,delete t.cellsalign)})),window.localStorage&&(window.localStorage["jqxGrid"+this.element.id]=this._stringify(s)),this._savedstate=s},loadstate:function(e,t){var i="";if(null!=e&&null!=e.width)i=e;else if(window.localStorage){if(window.localStorage["jqxGrid"+this.element.id])i=I.parseJSON(window.localStorage["jqxGrid"+this.element.id])}else if(this._savedstate)i=this._savedstate;if(null!=i&&""!==i){(this.virtualmode||this.source._source.url&&""!=this.source._source.url)&&this.source.beginUpdate();var s=i;if(void 0!==s.width&&(this.width=s.width),void 0!==s.height&&(this.height=s.height),this.pageable&&(null!=s.pagesize&&(this.pagesize=s.pagesize,this.dataview.pagesize=s.pagesize),null!=s.pagenum&&(this.dataview.pagenum=s.pagenum),null!=s.pagesizeoptions&&(this.pagesizeoptions=s.pagesizeoptions),this.pagesizeoptions)){for(var r=0,n=0;n<this.pagesizeoptions.length;n++)this.pagesize>=this.pagesizeoptions[n]&&(r=n);this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList({selectedIndex:r})}if(this.sortable)if(this._loading&&(this._loading=!1),s.sortdirection){if(s.sortdirection.ascending||s.sortdirection.descending){this.dataview.sortfield=s.sortcolumn;var o=s.sortdirection.ascending?"asc":"desc";this.dataview.sortfielddirection=o,this.source.sortcolumn=s.sortcolumn,this.source.sortdirection=o,this.sortby(s.sortcolumn,o)}}else null==this.dataview.sortfield||"asc"!=this.dataview.sortfielddirection&&"desc"!=this.dataview.sortfielddirection||this.sortby(this.dataview.sortfield,null);this.groupable&&s.groups&&(this.dataview.groups=s.groups,this.groups=s.groups),this.loadingstate=!0,this.virtualsizeinfo&&this._loadselectionandcolumnwidths(s),this.loadingstate=!1,(this.virtualmode||this.source._source.url&&""!=this.source._source.url)&&(1==t?this.source.endUpdate(!1):(this.source.endUpdate(!1),(this.virtualmode||this.source._source.filter||this.source._source.sort)&&this.updatebounddata("state")))}},_loadselectionandcolumnwidths:function(e){this.loadingstate=!0;var t="";if(null!=e&&null!=e.width)t=e;else if(window.localStorage){if(window.localStorage["jqxGrid"+this.element.id])t=I.parseJSON(window.localStorage["jqxGrid"+this.element.id])}else if(this._savedstate)t=this._savedstate;if(null!=t&&""!=t){var i=this._loading;this._loading=!1;var s=t,o=this,r=!1,n=[];n.length=0;if(I.each(this.columns.records,function(e){var t=s.columns[this.datafield];if(null!=t){if(this.text!=t.text&&(r=!0),this.hidden!=t.hidden&&(r=!0),void 0!==t.width&&(this.width=t.width,this._width&&(this._width=null),this._percentagewidth&&(this._percentagewidth=null)),void 0!==t.hidden&&(this.hidden=t.hidden),void 0!==t.pinned&&(this.pinned=t.pinned),void 0!==t.groupable&&(this.groupable=t.groupable),void 0!==t.resizable&&(this.resizable=t.resizable),this.draggable=t.draggable,void 0!==t.text&&(this.text=t.text),void 0!==t.align&&(this.align=t.align),void 0!==t.cellsalign&&(this.cellsalign=t.cellsalign),o._columns)for(var i=0;i<o._columns.length;i++)o._columns[i].datafield==this.datafield&&(void 0!==t.hidden&&(o._columns[i].hidden=t.hidden),void 0!==t.width&&(o._columns[i].width=t.width));void 0!==t.index&&(n[this.datafield]=t.index,n.length++)}}),0<n.length){if(this.setcolumnindex){this.rowdetails;this.groupable?this.groups.length:0;for(var a=new Array,l=0;l<this.columns.records.length;l++)a.push(this.columns.records[l]);var d=0,h=new Array;for(l=0;l<a.length;l++){var c=a[l],u=n[c.datafield];if(this.groupable&&c.grouped)d++;else if(0==l&&this.rowdetails)d++;else if(l!==u||this.groupable||this.rowdetails){var p=d+u;h.push({column:c,key:p})}}h.sort(function(e,t){return e.key<t.key?-1:e.key>t.key?1:0}),h.reverse(),I.each(h,function(e,t){var i=this.key;o.setcolumnindex(this.column.datafield,i,!1)})}this.prerenderrequired=!0,this.groupable&&this._refreshdataview(),this.rendergridcontent(!0),this._updatefilterrowui&&this.filterable&&this.showfilterrow&&this._updatefilterrowui(),this._renderrows(this.virtualsizeinfo)}if(this.filterable&&void 0!==s.filters){this.clearfilters&&(this._loading=!1,this.clearfilters(!1));var m="",f=new I.jqx.filter;for(l=0;l<s.filters.filterscount;l++){var g=s.filters["filtercondition"+l],v=s.filters["filterdatafield"+l];c=this.getcolumn(v);if(v!=m&&(f=new I.jqx.filter),m=v,c&&c.filterable){var x=s.filters["filtervalue"+l],w=s.filters["filteroperator"+l];if("datefilter"==(T=s.filters["filtertype"+l]))var y=f.createfilter(T,x,g,null,c.cellsformat,this.gridlocalization);else y=f.createfilter(T,x,g);if(f.addfilter(w,y),this.showfilterrow){var b=c._filterwidget,_=c._filterwidget.parent();if(null!=b)switch(c.filtertype){case"number":if(_.find("input").val(x),this.host.jqxDropDownList){var j=f.getoperatorsbyfiltertype("numericfilter");b.find(".filter").jqxDropDownList("selectIndex",j.indexOf(g))}break;case"date":this.host.jqxDateTimeInput?I(_.children()[0]).jqxDateTimeInput("setDate",x):b.val(x);break;case"range":if(this.host.jqxDateTimeInput){var q=s.filters["filtervalue"+(l+1)],T=s.filters["filtertype"+l];y=f.createfilter(T,q,"LESS_THAN_OR_EQUAL");f.addfilter(w,y);var C=new Date(x),S=new Date(q);isNaN(C)&&(C=I.jqx.dataFormat.tryparsedate(x)),isNaN(S)&&(S=I.jqx.dataFormat.tryparsedate(x)),I(_.children()[0]).jqxDateTimeInput("setRange",C,S),l++}else b.val(x);break;case"textbox":case"default":b.val(x),o["_oldWriteText"+b[0].id]=x;break;case"list":if(this.host.jqxDropDownList){var k=I(_.children()[0]).jqxDropDownList("getItems");u=-1;I.each(k,function(e){if(this.value==x)return u=e,!1}),I(_.children()[0]).jqxDropDownList("selectIndex",u)}else b.val(x);break;case"checkedlist":this.host.jqxDropDownList||b.val(x);break;case"bool":case"boolean":this.host.jqxCheckBox?I(_.children()[0]).jqxCheckBox({checked:x}):b.val(x)}}this.addfilter(v,f)}}s.filters&&0<s.filters.filterscount&&(this.applyfilters(),this.showfilterrow&&I.each(this.columns.records,function(){if("checkedlist"==this.filtertype&&this.filterable&&o.host.jqxDropDownList){var e=this._filterwidget,t=(e.jqxDropDownList("getItems"),e.jqxDropDownList("listBox"));if(t.checkAll(!1),this.filter){t.uncheckAll(!1);for(var i=this.filter.getfilters(),s=0;s<t.items.length;s++){var r=t.items[s].label;I.each(i,function(){if("NOT_EQUAL"==this.condition)return!0;r==this.value&&t.checkIndex(s,!1,!1)})}t._updateCheckedItems();var n=t.getCheckedItems().length;t.items.length!=n&&0<n&&t.host.jqxListBox("indeterminateIndex",0,!0,!1)}}})),this.pageable&&void 0!==s.pagenum&&(this.gotopage&&!this.virtualmode?(this.dataview.pagenum=-1,this.gotopage(s.pagenum)):this.gotopage&&this.virtualmode&&this.gotopage(s.pagenum))}if(s.selectedrowindexes&&s.selectedrowindexes&&0<s.selectedrowindexes.length&&(this.selectedrowindexes=s.selectedrowindexes,this.selectedrowindex=s.selectedrowindex,"checkbox"===this.selectionmode&&this._updatecheckboxselection()),s.selectedcells&&this._applycellselection&&I.each(s.selectedcells,function(){o._applycellselection(this.rowindex,this.datafield,!0,!1)}),this.groupable&&void 0!==s.groups)return this._refreshdataview(),this.render(),this._loading=i,void(this.loadingstate=!1);if(r){if(this.prerenderrequired=!0,this.rendergridcontent(!0),this._loading=i,this.loadingstate=!1,this.updating())return!1}else this._loading=i,this._updatecolumnwidths(),this._updatecellwidths(),this.loadingstate=!1;this.loadingstate=!1,this._loading=i,this._renderrows(this.virtualsizeinfo)}this.loadingstate=!1},getstate:function(){var e=this.getdatainformation(),s={};if(s.width=this.width,s.height=this.height,s.pagenum=e.paginginformation.pagenum,s.pagesize=e.paginginformation.pagesize,s.pagesizeoptions=this.pagesizeoptions,s.sortcolumn=e.sortinformation.sortcolumn,s.sortdirection=e.sortinformation.sortdirection,null!=this.selectionmode&&this.getselectedcells)if(-1!=this.selectionmode.toString().indexOf("cell")){var t=this.getselectedcells(),i=new Array;I.each(t,function(){i.push({datafield:this.datafield,rowindex:this.rowindex})}),s.selectedcells=i}else{var r=this.getselectedrowindexes();s.selectedrowindexes=r,s.selectedrowindex=this.selectedrowindex}var n={},o=0;if(this.dataview.filters)for(var a=0;a<this.dataview.filters.length;a++){var l=this.dataview.filters[a].datafield,d=this.dataview.filters[a].filter,h=d.getfilters();n[l+"operator"]=d.operator;for(var c=0;c<h.length;c++){if(h[c].datafield=l,"datefilter"==h[c].type)if(h[c].value&&h[c].value.toLocaleString){var u=this.getcolumn(h[c].datafield);if(u.cellsformat){var p=this.source.formatDate(h[c].value,u.cellsformat,this.gridlocalization);n["filtervalue"+o]=p||h[c].value.toLocaleString()}else n["filtervalue"+o]=h[c].value.toLocaleString()}else n["filtervalue"+o]=h[c].value;else n["filtervalue"+o]=h[c].value;n["filtercondition"+o]=h[c].condition,n["filteroperator"+o]=h[c].operator,n["filterdatafield"+o]=l,n["filtertype"+o]=h[c].type,o++}}n.filterscount=o,s.filters=n,s.groups=this.groups,s.columns={};var m=0;return this.columns.records&&I.each(this.columns.records,function(e,t){if(!this.datafield)return!0;var i={};i.width=this.width,i.hidden=this.hidden,i.pinned=this.pinned,i.groupable=this.groupable,i.resizable=this.resizable,i.draggable=this.draggable,i.text=this.text,i.align=this.align,i.cellsalign=this.cellsalign,i.index=m++,s.columns[this.datafield]=i}),s},_stringify:function(t){if(window.JSON&&"function"==typeof window.JSON.stringify){var i=this,e="";try{e=window.JSON.stringify(t)}catch(e){return i._str("",{"":t})}return e}return e=this._str("",{"":t})},_quote:function(e){var i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return'"'+e.replace(/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(e){var t=i[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'},_stringifyArray:function(e){for(var t=e.length,i=[],s=0;s<t;s++)i.push(this._str(s,e)||"null");return"["+i.join(",")+"]"},_stringifyObject:function(e){var t,i,s=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i=this._str(t,e))&&s.push(this._quote(t)+":"+i);return"{"+s.join(",")+"}"},_stringifyReference:function(e){switch(Object.prototype.toString.call(e)){case"[object Array]":return this._stringifyArray(e)}return this._stringifyObject(e)},_stringifyPrimitive:function(e,t){switch(t){case"string":return this._quote(e);case"number":return isFinite(e)?e:"null";case"boolean":return e}return"null"},_str:function(e,t){var i=t[e],s=typeof i;return i&&"object"==typeof i&&"function"==typeof i.toJSON&&(s=typeof(i=i.toJSON(e))),/(number|string|boolean)/.test(s)||!i&&"object"===s?this._stringifyPrimitive(i,s):this._stringifyReference(i)}})}(jqxBaseFramework),function(O){O.extend(O.jqx._jqxGrid.prototype,{_updatefilterrowui:function(e){var t=this.columns.records.length,i=0;if(this.filterrow){for(var s=0;s<t;s++){var r=this.columns.records[s],n=parseInt(r.width);n<r.minwidth&&(n=r.minwidth),n>r.maxwidth&&(n=r.maxwidth);var o=O(this.filterrow[0].cells[s]);o.css("left",i);var a=!0;if(o.width()==n&&(a=!1),e&&(a=!0),o.width(n),o[0].left=i,r.hidden&&r.hideable?o.css("display","none"):i+=n,a)if(r.createfilterwidget&&"custom"==r.filtertype)r.createfilterwidget(r,o);else if(r.filterable){var l=function(e,t){var i=O(t.children()[0]);i[0].style.width=n-10+"px",O.jqx.browser.msie&&(i[0].style.width=n-16+"px"),i.attr("disabled",e.disabled)};switch(r.filtertype){case"number":case"input":O(o.children()[0]).width(n),o.find("input")[0].style.width=n-30+"px",O.jqx.browser.msie&&(o.find("input")[0].style.width=n-36+"px"),o.find("input").attr("disabled",this.disabled),O(o.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({theme:this.theme,disabled:this.disabled});break;case"date":case"range":this.host.jqxDateTimeInput?O(o.children()[0]).jqxDateTimeInput({theme:this.theme,disabled:this.disabled,width:n-10}):l(this,o);break;case"textbox":case"default":l(this,o);break;case"list":case"checkedlist":this.host.jqxDropDownList?O(o.children()[0]).jqxDropDownList({theme:this.theme,disabled:this.disabled,width:n-10}):l(this,o);break;case"bool":case"boolean":this.host.jqxCheckBox?O(o.children()[0]).jqxCheckBox({theme:this.theme,disabled:this.disabled}):l(this,o)}}}var d=O(this.filterrow.children()[0]);d.width(parseInt(i)+2),d.height(this.filterrowheight)}},clearfilterrow:function(e){if(this._disablefilterrow=!0,this.columns.records){for(var t=this.columns.records.length,i=0;i<t;i++){var s=this.columns.records[i],r=O(this.filterrow[0].cells[i]);if(("string"!=typeof e||s.displayfield==e)&&s.filterable){var n=function(e,t){var i=O(t.children()[0]);i.val(""),i[0]&&(e["_oldWriteText"+i[0].id]="")};switch(s.filtertype){case"number":case"input":if(r.find("input").val(""),this.host.jqxDropDownList){var o=O(O(O(r).children()[0]).children()[1]);o.jqxDropDownList("clearSelection");var a=0;if(0==a){this._getfiltersbytype("number"==s.filtertype?"number":"string");var l=(new O.jqx.filter).getoperatorsbyfiltertype("number"==s.filtertype?"numberfilter":"stringfilter");null!=s.filtercondition?-1==(a=l.indexOf(s.filtercondition.toUpperCase()))&&(a="number"==s.filtertype?0:2):a="number"==s.filtertype?0:2}o.jqxDropDownList({selectedIndex:a}),o.jqxDropDownList("ensureVisible",a)}break;case"date":case"range":this.host.jqxDateTimeInput?O(r.children()[0]).jqxDateTimeInput("setDate",null):n(this,r);break;case"textbox":case"default":n(this,r);break;case"list":this.host.jqxDropDownList?O(r.children()[0]).jqxDropDownList("clearSelection"):n(this,r);break;case"checkedlist":this.host.jqxDropDownList?O(r.children()[0]).jqxDropDownList("checkAll",!1):n(this,r);break;case"bool":case"boolean":this.host.jqxCheckBox?O(r.children()[0]).jqxCheckBox({checked:null}):n(this,r)}}}this._disablefilterrow=!1}},_applyfilterfromfilterrow:function(){if(1!=this._disablefilterrow&&!this.disabled){for(var e=this.columns.records.length,l=this.that,t=0;t<e;t++){var i=new O.jqx.filter,s=this.columns.records[t];if(s.filterable&&null!==s.datafield){var r=l._getcolumntypebydatafield(s),n=l._getfiltertype(r),o=!0,a=(s.filtertype,function(e,t,i){var s=!0;if(e._filterwidget){var r=e._filterwidget.val();if(""!=r){var n="equal";if("stringfilter"==t)n="contains";if("numericfilter"==t&&","==l.gridlocalization.decimalseparator&&0<=r.indexOf(l.gridlocalization.decimalseparator)&&(r=r.replace(l.gridlocalization.decimalseparator,".")),"stringfilter"!=t){var o=0;if(-1!=r.indexOf(">")&&(n="greater_than",o=1),-1!=r.indexOf("<")&&(n="less_than",o=1),-1!=r.indexOf("=")&&("greater_than"==n?(n="greater_than_or_equal",o=2):"less_than"==n?(n="less_than_or_equal",o=2):(n="equal",o=1)),0!=o&&(r=r.substring(o)).length<1)return!1}if(null!=e.filtercondition&&(n=e.filtercondition),"datefilter"==t)var a=i.createfilter(t,r,n,null,e.cellsformat,l.gridlocalization);else a=i.createfilter(t,r,n);i.addfilter(1,a)}else s=!1}return s});switch(s.filtertype){case"range":case"date":if(s._filterwidget.jqxDateTimeInput)if("range"==s.filtertype)if(null!=(m=s._filterwidget.jqxDateTimeInput("getRange"))&&null!=m.from&&null!=m.to){var d="GREATER_THAN_OR_EQUAL";(p=new Date(0)).setHours(0),p.setMinutes(0),p.setFullYear(m.from.getFullYear(),m.from.getMonth(),m.from.getDate());var h=new Date(0);h.setHours(0),h.setMinutes(0),h.setFullYear(m.to.getFullYear(),m.to.getMonth(),m.to.getDate()),h.setHours(m.to.getHours()),h.setMinutes(m.to.getMinutes()),h.setSeconds(m.to.getSeconds());var c=i.createfilter(n,p,d);i.addfilter(0,c);var u=i.createfilter(n,h,"LESS_THAN_OR_EQUAL");i.addfilter(0,u)}else o=!1;else if(null!=(m=s._filterwidget.jqxDateTimeInput("getDate"))){var p;(p=new Date(0)).setHours(0),p.setMinutes(0),p.setFullYear(m.getFullYear(),m.getMonth(),m.getDate());d="EQUAL";null!=s.filtercondition&&(d=s.filtercondition);c=i.createfilter(n,p,d);i.addfilter(0,c)}else o=!1;else o=a(s,n,i);break;case"input":if(s._filterwidget){var m=s._filterwidget.find("input").val(),f=s._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),g=i.getoperatorsbyfiltertype(n)[f];if(l.updatefilterconditions){null!=(w=l.updatefilterconditions(n,i.getoperatorsbyfiltertype(n)))&&i.setoperatorsbyfiltertype(n,w);g=i.getoperatorsbyfiltertype(n)[f]}var v="NULL"==g||"NOT_NULL"==g,x="EMPTY"==g||"NOT_EMPTY"==g;null!=m&&0<m.length||v||x?(c=i.createfilter(n,m,g,null,s.cellsformat,l.gridlocalization),i.addfilter(0,c)):o=!1}else o=!1;break;case"number":if(s._filterwidget){m=s._filterwidget.find("input").val();","==l.gridlocalization.decimalseparator&&0<=m.indexOf(l.gridlocalization.decimalseparator)&&(m=m.replace(l.gridlocalization.decimalseparator,"."));f=s._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),g=i.getoperatorsbyfiltertype(n)[f];if(l.updatefilterconditions){var w;null!=(w=l.updatefilterconditions(n,i.getoperatorsbyfiltertype(n)))&&i.setoperatorsbyfiltertype(n,w);g=i.getoperatorsbyfiltertype(n)[f]}v="NULL"==g||"NOT_NULL"==g,x="EMPTY"==g||"NOT_EMPTY"==g;null!=m&&0<m.length||v||x?(c=i.createfilter(n,new Number(m),g,null,s.cellsformat,l.gridlocalization),i.addfilter(0,c)):o=!1}else o=!1;break;case"textbox":case"default":o=a(s,n,i);break;case"bool":case"boolean":if(s._filterwidget.jqxCheckBox)if(null!=(m=s._filterwidget.jqxCheckBox("checked"))){d="equal";var y=i.createfilter(n,m,d);i.addfilter(1,y)}else o=!1;else o=a(s,n,i);break;case"list":if(0<(j=s._filterwidget.jqxDropDownList("listBox")).selectedIndex){var b=j.getItem(j.selectedIndex),_=(m=b.label,b.value);d="equal";""===m&&(d="NULL");y=i.createfilter(n,m,d);i.addfilter(1,y),_!==m&&(y.data=_)}else o=!1;break;case"checkedlist":if(s._filterwidget.jqxDropDownList){var j,q=(j=s._filterwidget.jqxDropDownList("listBox")).getCheckedItems();if(0==q.length){for(var T=1;T<j.items.length;T++){m=j.items[T].label,_=j.items[T].value,d="not_equal";""===m&&(d="NULL");y=i.createfilter(n,m,d);_!==m&&(y.data=_),i.addfilter(0,y)}o=!0}else if(q.length!=j.items.length)for(T=0;T<q.length;T++){m=q[T].label,_=q[T].value,d="equal";""===m&&(d="NULL");y=i.createfilter(n,m,d);_!==m&&(y.data=_),i.addfilter(1,y)}else o=!1}else o=a(s,n,i)}this._loading||(o?this.addfilter(s.displayfield,i,!1):this.removefilter(s.displayfield,!1))}}this._loading||this.applyfilters("filterrow")}},_updatefilterrow:function(){var e=O('<div style="position: relative;" id="row00'+this.element.id+'"></div>'),t=0,i=this.columns.records.length,s=this.toThemeProperty("jqx-grid-cell");s+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),s+=" "+this.toThemeProperty("jqx-grid-cell-filter-row");var r=i+10,n=new Array,o=this.that;this.filterrow[0].cells=n,e.height(this.filterrowheight),this.filterrow.children().detach(),this.filterrow.append(e),this._filterrowcache||(this._filterrowcache=new Array),this._initcolumntypes();for(var a=!1,l=new Array,d=document.createDocumentFragment(),h=0;h<i;h++){var c=this.columns.records[h],u=c.width;u<c.minwidth&&(u=c.minwidth),u>c.maxwidth&&(u=c.maxwidth);var p=document.createElement("div");p.style.overflow="hidden",p.style.position="absolute",p.style.height="100%",p.className=s,p=O(p),d.appendChild(p[0]),p[0].style.left=t+"px",this.rtl?(p.css("z-index",r++),p.css("border-left-width","1px")):p.css("z-index",r--),"auto"==u&&(u=0),p[0].style.width=parseFloat(u)+"px",p[0].left=t,c.hidden&&c.hideable?p.css("display","none"):t+=u,n[n.length]=p[0];var m=!0;if(this.rtl){if(this.groupable){f=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+f+h>i-1&&(m=!1)}this.showrowdetailscolumn&&this.rowdetails&&h==i-1&&(m=!1)}else{if(this.groupable){var f=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+f>h&&(m=!1)}this.showrowdetailscolumn&&this.rowdetails&&0==h&&(m=!1)}if(m)if("custom"==c.filtertype&&c.createfilterwidget){c.createfilterwidget(c,p,function(){o._applyfilterfromfilterrow()})}else c.filterable&&(this._filterrowcache[c.datafield]?(a=!0,p.append(this._filterrowcache[c.datafield]),c._filterwidget=this._filterrowcache[c.datafield]):(this._addfilterwidget(c,p,u),l[c.datafield]=c._filterwidget))}e[0].appendChild(d),this._filterrowcache=l,O.jqx.browser.msie&&O.jqx.browser.version<8&&e.css("z-index",r--),e.width(parseFloat(t)+2),this.filterrow.addClass(s),this.filterrow.css("border-top-width","1px"),this.filterrow.css("border-right-width","0px"),a&&this._updatefilterrowui(!0)},_addfilterwidget:function(s,e,r){for(var n=this.that,o="",t="",i=0;i<n.dataview.filters.length;i++){var a=n.dataview.filters[i];if(a.datafield&&a.datafield==s.datafield){i=a.filter.getfilters()[0];o=i.value,"range"===s.filtertype&&(o={from:o,to:a.filter.getfilters()[1].value}),t=i.condition,s.filtercondition=t;break}}var l,d,h,c=function(t,e){var i=O('<input autocomplete="off" type="textarea"/>');i.attr("tabindex",5+s.visibleindex),i[0].id=O.jqx.utilities.createId(),i.addClass(t.toThemeProperty("jqx-widget")),i.addClass(t.toThemeProperty("jqx-input jqx-input-widget")),i.addClass(t.toThemeProperty("jqx-rc-all")),i.addClass(t.toThemeProperty("jqx-widget-content")),t.rtl&&i.css("direction","rtl"),t.disabled&&i.attr("disabled",!0),i.attr("disabled",!1),i.appendTo(e),i.css("margin","4px"),i.width(r-10),i.height(t.filterrowheight-8),s.createfilterwidget&&s.createfilterwidget(s,e,i),(s._filterwidget=i).focus(function(){return t.content[0].scrollLeft=0,setTimeout(function(){t.content[0].scrollLeft=0},10),(t.focusedfilter=i).addClass(t.toThemeProperty("jqx-fill-state-focus")),!1}),i.blur(function(){i.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),i.keydown(function(e){"13"==e.keyCode&&t._applyfilterfromfilterrow(),i[0]._writeTimer&&clearTimeout(i[0]._writeTimer),i[0]._writeTimer=setTimeout(function(){t._loading||(t["_oldWriteText"+i[0].id]||(t["_oldWriteText"+i[0].id]=""),0<t["_oldWriteText"+i[0].id].length&&t["_oldWriteText"+i[0].id]!=i.val()?(t._applyfilterfromfilterrow(),t["_oldWriteText"+i[0].id]=i.val()):0==t["_oldWriteText"+i[0].id].length&&(t._applyfilterfromfilterrow(),t["_oldWriteText"+i[0].id]=i.val()))},s.filterdelay),t.focusedfilter=i}),t.host.removeClass("jqx-disableselect"),t.content.removeClass("jqx-disableselect"),i.val(o)};switch(null!=s.datatype&&("number"==s.filtertype&&("string"!=s.datatype&&"date"!=s.datatype&&"bool"!=s.datatype||(s.filtertype="textbox")),"date"==s.filtertype&&("string"!=s.datatype&&"number"!=s.datatype&&"bool"!=s.datatype||(s.filtertype="textbox")),"bool"==s.filtertype&&("string"!=s.datatype&&"number"!=s.datatype&&"date"!=s.datatype||(s.filtertype="textbox"))),s.filtertype){case"number":case"input":var u=O("<div></div>");u.width(e.width()),u.height(this.filterrowheight),e.append(u);r=e.width()-21;l=u,d=r,h=O('<input style="float: left;" autocomplete="off" type="textarea"/>'),n.rtl&&(h.css("float","right"),h.css("direction","rtl")),h.attr("tabindex",5+s.visibleindex),h[0].id=O.jqx.utilities.createId(),h.addClass(n.toThemeProperty("jqx-widget jqx-input jqx-rc-all jqx-input-widget jqx-widget-content")),h.appendTo(l),h.width(d-10),n.disabled&&h.attr("disabled",!0),h.attr("disabled",!1),h.height(n.filterrowheight-8),h.css("margin","4px"),h.css("margin-right","2px"),h.focus(function(){(n.focusedfilter=h).addClass(n.toThemeProperty("jqx-fill-state-focus"))}),h.blur(function(){h.removeClass(n.toThemeProperty("jqx-fill-state-focus"))}),h.keydown(function(e){"13"==e.keyCode&&n._applyfilterfromfilterrow(),"9"!=e.keyCode&&(h[0]._writeTimer&&clearTimeout(h[0]._writeTimer),h[0]._writeTimer=setTimeout(function(){n._loading||n["_oldWriteText"+h[0].id]!=h.val()&&(n._applyfilterfromfilterrow(),n["_oldWriteText"+h[0].id]=h.val())},s.filterdelay),n.focusedfilter=h)}),h.val(o);var p=n._getfiltersbytype("number"==s.filtertype?"number":"string");(b=O("<div class='filter' style='float: left;'></div>")).css("margin-top","4px"),b.appendTo(u),n.rtl&&b.css("float","right");var m=0;if(null!=s.filtercondition)-1!=(f=(i=new O.jqx.filter).getoperatorsbyfiltertype("number"==s.filtertype?"numericfilter":"stringfilter").indexOf(s.filtercondition.toUpperCase()))&&(m=f);var f,g=180;if("input"==s.filtertype)if(g=240,0==m)-1!=(f=p.indexOf("contains")||2)&&null==s.filtercondition&&(m=f);b.jqxDropDownList({disabled:n.disabled,touchMode:n.touchmode,rtl:n.rtl,dropDownHorizontalAlignment:"right",enableBrowserBoundsDetection:!0,selectedIndex:m,width:18,height:21,dropDownHeight:150,dropDownWidth:g,source:p,theme:n.theme}),b.jqxDropDownList({selectionRenderer:function(e){return""}}),b.attr("tabindex",5+s.visibleindex),b.jqxDropDownList("setContent",""),b.find(".jqx-dropdownlist-content").hide(),s.createfilterwidget&&s.createfilterwidget(s,e,u),s._filterwidget=u;var v=null;this.addHandler(b,"select",function(){var e=b.jqxDropDownList("getSelectedItem").label;0<s._filterwidget.find("input").val().length&&!n.refreshingfilter&&n._applyfilterfromfilterrow(),("input"!=s.filtertype||n.refreshingfilter)&&(0!=s._filterwidget.find("input").val().length||n.refreshingfilter||"null"!=v&&"not null"!=v&&"null"!=e&&"not null"!=e)||n._applyfilterfromfilterrow(),v=e});break;case"textbox":case"default":default:c(this,e);break;case"none":break;case"date":case"range":if(this.host.jqxDateTimeInput){var x=O("<div></div>");x.css("margin","4px"),x.appendTo(e);var w={calendar:this.gridlocalization,todayString:this.gridlocalization.todaystring,clearString:this.gridlocalization.clearstring};x.jqxDateTimeInput({firstDayOfWeek:this.gridlocalization.firstDay,readonly:!0,disabled:n.disabled,localization:w,rtl:n.rtl,showFooter:!0,formatString:s.cellsformat,selectionMode:s.filtertype,value:null,theme:this.theme,width:r-10,height:this.filterrowheight-10}),s.createfilterwidget&&s.createfilterwidget(s,e,x),o&&o.from?x.jqxDateTimeInput("setRange",o.from,o.to):o&&1<o.toString().length&&x.val(o),x.find("input").attr("tabindex",5+s.visibleindex),s._filterwidget=x,this.addHandler(x,"valueChanged",function(e){n.refreshingfilter||(n._applyfilterfromfilterrow(),n.focusedfilter=null)})}else c(this,e);break;case"list":case"checkedlist":if(this.host.jqxDropDownList){var y,b,_=this._getfilterdataadapter(s);(b=O("<div></div>")).css("margin","4px");var j=s.datafield,q="checkedlist"==s.filtertype;g=r<150?220:"auto";_.dataBind();var T=_.records.length<8;y=T,b.appendTo(e),b.jqxDropDownList({placeHolder:n.gridlocalization.filterchoosestring,disabled:n.disabled,touchMode:n.touchmode,rtl:n.rtl,checkboxes:q,dropDownWidth:g,source:_.records,autoDropDownHeight:T,theme:this.theme,width:r-10,height:this.filterrowheight-10,displayMember:s.displayfield,valueMember:j}),b.attr("tabindex",5+s.visibleindex),s.createfilterwidget&&s.createfilterwidget(s,e,b);var C=b.jqxDropDownList("listBox");if(q){b.jqxDropDownList({selectionRenderer:function(){return'<span class="'+n.toThemeProperty("jqx-item")+'" style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+n.gridlocalization.filterselectstring+"</span>"}});var S=O('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+n.gridlocalization.filterselectstring+"</span>");if(S.addClass(this.toThemeProperty("jqx-item")),null!=C){y||C.host.height(200),C.insertAt(n.gridlocalization.filterselectallstring,0),b.jqxDropDownList("setContent",S);var k=!0;new Array;C.checkAll(!1),n.addHandler(C.host,"checkChange",function(e){if(b[0]._selectionChanged=!0,k)if(e.args.label!=n.gridlocalization.filterselectallstring){k=!1,C.host.jqxListBox("checkIndex",0,!0,!1);var t=C.host.jqxListBox("getCheckedItems"),i=C.host.jqxListBox("getItems");1==t.length?C.host.jqxListBox("uncheckIndex",0,!0,!1):i.length!=t.length&&C.host.jqxListBox("indeterminateIndex",0,!0,!1),k=!0}else k=!1,e.args.checked?C.host.jqxListBox("checkAll",!1):C.host.jqxListBox("uncheckAll",!1),k=!0})}}else C.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),b.jqxDropDownList({selectedIndex:0});(s._filterwidget=b).jqxDropDownList("dropdownlistWrapper");"list"==s.filtertype?this.addHandler(b,"select",function(e){n.refreshingfilter||e.args&&"none"!=e.args.type&&(n._applyfilterfromfilterrow(),n.focusedfilter=null)}):this.addHandler(b,"close",function(e){b[0]._selectionChanged&&(n._applyfilterfromfilterrow(),n.focusedfilter=null,b[0]._selectionChanged=!1)})}else c(this,e);break;case"bool":case"boolean":if(this.host.jqxCheckBox){var I=O('<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>');I.appendTo(e),I.jqxCheckBox({disabled:n.disabled,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,hasThreeStates:!0,theme:this.theme,checked:null}),I.attr("tabindex",5+s.visibleindex),s.createfilterwidget&&s.createfilterwidget(s,e,I),!0===o||"true"==o?I.jqxCheckBox({checked:!0}):!1!==o&&"false"!=o||I.jqxCheckBox({checked:!1}),s._filterwidget=I,this.addHandler(I,"change",function(e){n.refreshingfilter||e.args&&(n.focusedfilter=null,n._applyfilterfromfilterrow())})}else c(this,e)}},_getfilterdataadapter:function(n){if(!!this.source._source){var e={localdata:O.extend(!0,{},this.source.records),datatype:this.source.datatype,async:!1},o=this;dataadapter=new O.jqx.dataAdapter(e,{autoBind:!1,autoSort:!0,autoSortField:n.displayfield,async:!1,uniqueDataFields:[n.displayfield],beforeLoadComplete:function(e){var t=new Array;if(n.cellsformat){for(var i=o._getcolumntypebydatafield(n),s=0;s<e.length;s++){t.push(e[s]);var r=e[s][n.displayfield];e[s][n.displayfield+"JQValue"]=r,"date"===i?e[s][n.displayfield]=null!=r?dataadapter.formatDate(r,n.cellsformat,o.gridlocalization):"":"number"!==i&&"float"!==i&&"int"!==i||(e[s][n.displayfield]=null!=r?dataadapter.formatNumber(r,n.cellsformat,o.gridlocalization):"")}return t}return e}})}else dataadapter=new O.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[n.displayfield],autoSort:!0,autoSortField:n.displayfield,async:!1});if(n.filteritems&&0<n.filteritems.length){e={localdata:n.filteritems,datatype:this.source.datatype,async:!1};dataadapter=new O.jqx.dataAdapter(e,{autoBind:!1,async:!1})}else if(n.filteritems){if(n.filteritems._source)return n.filteritems._options.autoBind=!1,n.filteritems._options.async=!1,n.filteritems;if(O.isFunction(n.filteritems))return n.filteritems()}return dataadapter},refreshfilterrow:function(){if(this.showfilterrow){this.refreshingfilter=!0,this._updatefilterrowui(),this._updatelistfilters(!0,!0);for(var e=this.that,t=this.columns.records.length,i=0;i<t;i++){var s=this.columns.records[i];if(s.filterable&&s.filter){var r=s.filter.getfilters();if(0<r.length){var n=r[0].value,o=s._filterwidget,a=s._filterwidget.parent();if(null!=o)switch(s.filtertype){case"number":if(a.find("input").val(n),this.host.jqxDropDownList){var l=s.filter.getoperatorsbyfiltertype("numericfilter");o.find(".filter").jqxDropDownList("selectIndex",l.indexOf(r[0].condition))}break;case"input":if(a.find("input").val(n),this.host.jqxDropDownList){l=s.filter.getoperatorsbyfiltertype("stringfilter");o.find(".filter").jqxDropDownList("selectIndex",l.indexOf(r[0].condition))}break;case"date":case"range":if(this.host.jqxDateTimeInput){if(null!=(n=s.filter.getfilterat(0).filtervalue)){if(s.filter.getfilterat(1))var d=s.filter.getfilterat(1).filtervalue;else d=n;"range"==s.filtertype?O(a.children()[0]).jqxDateTimeInput("setRange",new Date(n),new Date(d)):O(a.children()[0]).jqxDateTimeInput("setDate",new Date(n))}}else o.val(n);break;case"textbox":case"default":o.val(n),e["_oldWriteText"+o[0].id]=n;break;case"bool":case"boolean":this.host.jqxCheckBox?O(a.children()[0]).jqxCheckBox({checked:n}):o.val(n)}}}}this.refreshingfilter=!1}},_destroyedfilters:function(){this.that;for(var e=this.columns.records.length,t=0;t<e;t++){var i=this.columns.records[t];if(i.filterable){var s=i._filterwidget;if("list"==i.filtertype||"checkedlist"==i.filtertype)this.removeHandler(s,"select"),this.removeHandler(s,"close"),s.jqxDropDownList("destroy");else if("date"==i.filtertype||"range"==i.filtertype)this.removeHandler(s,"valueChanged"),s.jqxDateTimeInput("destroy");else if("bool"==i.filtertype)this.removeHandler(s,"change"),s.jqxCheckBox("destroy");else if("number"==i.filtertype||"input"===i.filtertype){var r=s.find(".jqx-input");this.removeHandler(r,"keydown"),O(s.children()[1]).jqxDropDownList("destroy")}else this.removeHandler(s,"keydown");s.remove()}}},_updatelistfilters:function(e,t){for(var i=this.that,s=this.columns.records.length,r=0;r<s;r++){var n=this.columns.records[r];if(n.filterable&&("list"==n.filtertype||"checkedlist"==n.filtertype)){var o=n._filterwidget;if(e){var a=this._getfilterdataadapter(n);o.jqxDropDownList({source:a});var l=!0;if((c=o.jqxDropDownList("getItems")).length!=a.records.length+1&&(l=!1),l)for(var d=1;d<c.length;d++)if(c[d].label!=a.records[d-1][n.displayfield]){l=!1;break}if(l&&!t)continue}else if(null==n.filter){o.jqxDropDownList("renderSelection");continue}var h="checkedlist"==n.filtertype,c=o.jqxDropDownList("getItems"),u=o.jqxDropDownList("listBox");if(o.jqxDropDownList("dataBind"),h){o.jqxDropDownList({selectionRenderer:function(){return i.gridlocalization.filterselectstring}}),null==u.getItem(this.gridlocalization.filterselectallstring)&&u.insertAt(this.gridlocalization.filterselectallstring,0);var p=O('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+this.gridlocalization.filterselectstring+"</span>");if(p.addClass(this.toThemeProperty("jqx-item")),o.jqxDropDownList("setContent",p),u.checkAll(!1),n.filter){var m=n.filter.getfilters();for(d=0;d<u.items.length;d++){var f=u.items[d].label,g=void 0;O.each(m,function(){var e;"NOT_EQUAL"==this.condition?e=f!=this.value:"EQUAL"==this.condition&&(e=f==this.value),g=null==g&&void 0!==e?e:"EQUAL"==this.condition?g||e:g&&e}),g?u.checkIndex(d,!1,!1):u.uncheckIndex(d,!1,!1)}u._updateCheckedItems();var v=u.getCheckedItems().length;u.items.length!=v&&0<v&&u.host.jqxListBox("indeterminateIndex",0,!0,!1)}}else if(null==u.getItem(this.gridlocalization.filterselectallstring)&&u.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),o.jqxDropDownList({selectedIndex:0}),n.filter){m=n.filter.getfilters();var x=-1;for(d=0;d<u.items.length;d++){f=u.items[d].label;O.each(m,function(){return"NOT_EQUAL"==this.condition||(f==this.value?(x=d,!1):void 0)})}-1!=x&&u.selectIndex(x)}c.length<8?o.jqxDropDownList("autoDropDownHeight",!0):o.jqxDropDownList("autoDropDownHeight",!1)}}},_renderfiltercolumn:function(){var s=this.that;if(this.filterable){if(!this.columns.records)return;O.each(this.columns.records,function(e,t){var i=!1;s.autoshowfiltericon?this.filter?(O(this.filtericon).show(),i=!0):O(this.filtericon).hide():this.filterable&&(O(this.filtericon).show(),i=!0),"right"!=this.align||this.renderer||this.element&&(this.element.firstChild.firstChild.style.marginRight=i?"18px":"2px")})}},_initcolumntypes:function(){if(this.columns&&this.columns.records){var e=this.source._source.datafields;if(e)for(var t=0;t<this.columns.records.length;t++){var i=this.columns.records[t];if(!i.datatype){var s="";O.each(e,function(){if(this.name==i.displayfield)return this.type&&(s=this.type),!1}),i.datatype=""!=s?s:""}}}},_getcolumntypebydatafield:function(e){var t=this.that,i="string",s=t.source.datafields||(t.source._source?t.source._source.datafields:null);if(s){var r="";if(O.each(s,function(){if(this.name==e.displayfield)return this.type&&(r=this.type),!1}),r)return r}if(null!=e){if(null==this.dataview.cachedrecords)return i;var n=null;if(this.virtualmode)O.each(this.dataview.cachedrecords,function(){return n=this[e.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return i;if(null!=(n=this.dataview.cachedrecords[0][e.displayfield])&&""==n.toString())return"string"}if(null!=n)if("boolean"==typeof n)i="boolean";else if(O.jqx.dataFormat.isNumber(n))i="number";else{var o=new Date(n);if("NaN"==o.toString()||"Invalid Date"==o.toString())if(O.jqx.dataFormat){if(null!=(o=O.jqx.dataFormat.tryparsedate(n))){if(o&&o.getFullYear()&&1970==o.getFullYear()&&0==o.getMonth()&&1==o.getDate()){var a=new Number(n);return isNaN(a)?"string":"number"}return"date"}i="string"}else i="string";else i="date"}}return i},_getfiltersbytype:function(e){var t=this.that,i="";switch(e){case"number":case"float":case"int":i=t.gridlocalization.filternumericcomparisonoperators;break;case"date":i=t.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":i=t.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:i=t.gridlocalization.filterstringcomparisonoperators}return i},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":case"range":t="datefilter";break;case"string":case"input":t="stringfilter"}return t},_buildfilter:function(e,t,i){var s=O(t).find(".filter1"),r=O(t).find(".filter2"),n=O(t).find(".filter3"),o=O(t).find(".filtertext1"+e.element.id),a=O(t).find(".filtertext2"+e.element.id),l=o.val(),d=a.val(),h=e._getcolumntypebydatafield(i),c=(e._getfiltersbytype(h),new O.jqx.filter),u=e._getfiltertype(h);if("default"===e.filtermode&&"list"!==i.filtertype&&"checkedlist"!==i.filtertype){var p=s.jqxDropDownList("selectedIndex"),m=r.jqxDropDownList("selectedIndex"),f=n.jqxDropDownList("selectedIndex"),g=null,v=null;if(e.updatefilterconditions){var x=e.updatefilterconditions(u,c.getoperatorsbyfiltertype(u));null!=x&&c.setoperatorsbyfiltertype(u,x)}var w=!1,y=c.getoperatorsbyfiltertype(u)[p],b=(n=c.getoperatorsbyfiltertype(u)[f],"NULL"==y||"NOT_NULL"==y),_="EMPTY"==y||"NOT_EMPTY"==y;null==y&&(y=c.getoperatorsbyfiltertype(u)[0]),null==n&&(n=c.getoperatorsbyfiltertype(u)[0]),(0<l.length||b||_)&&(g=c.createfilter(u,l,y,null,i.cellsformat,e.gridlocalization),c.addfilter(m,g),w=!0);var j="NULL"==n||"NOT_NULL"==n,q="EMPTY"==n||"NOT_EMPTY"==n;if((0<d.length||j||q)&&(v=c.createfilter(u,d,n,null,i.cellsformat,e.gridlocalization),c.addfilter(m,v),w=!0),w){var T=i.displayfield;this.addfilter(T,c,!0)}else this._clearfilter(e,t,i)}else if("excel"===e.filtermode||"list"===i.filtertype||"checkedlist"===i.filtertype){var C=!1,S=s.data().jqxListBox.instance,k="excel"===this.filtermode||"checkedlist"===i.filtertype,I=S.getCheckedItems();if(!k)I=S.getSelectedItems();if(0==I.length){for(var D=1;D<S.items.length;D++){void 0===(M=S.items[D].value)&&(M="");var P="not_equal";if(M&&M.indexOf&&(0<=M.indexOf("|")||0<=M.indexOf(" AND ")||0<=M.indexOf(" OR ")||0<=M.indexOf(" and ")||0<=M.indexOf(" or "))){M=(M=(M=(M=(M=M.replace("|","")).replace("AND","")).replace("OR","")).replace("and","")).replace("or","");P="equal"}if("datefilter"==u)var A=c.createfilter(u,M,P,null,i.cellsformat,e.gridlocalization);else A=c.createfilter(u,M,P,null);c.addfilter(0,A)}C=!0}else if(I.length!=S.items.length){C=!0;for(D=0;D<I.length;D++)if(e.gridlocalization.filterselectallstring!==I[D].value){var M;void 0===(M=I[D].value)&&(M="");P="equal";if("datefilter"==u)A=c.createfilter(u,M,P,null,i.cellsformat,e.gridlocalization);else A=c.createfilter(u,M,P,null);c.addfilter(1,A)}}else C=!1;if(C){T=i.displayfield;this.addfilter(T,c,!0)}else{T=i.displayfield;this.removefilter(T,!0)}}},_clearfilter:function(e,t,i){var s=i.displayfield;this.removefilter(s,!0)},addfilter:function(e,t,i){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var s=this.getcolumn(e),r=this._getcolumn(e);null!=s&&null!=s&&(s.filter=t,r.filter=t,this.dataview.addfilter(e,t),1==i&&null!=i&&this.applyfilters("add"))},removefilter:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var i=this.getcolumn(e),s=this._getcolumn(e);null!=i&&null!=i&&null!=i.filter&&(this.dataview.removefilter(e,i.filter),i.filter=null,s.filter=null,this.showfilterrow&&this.clearfilterrow(e),1!=t&&!1===t||this.applyfilters("remove"))},applyfilters:function(e){if(0<=this.dataview.filters.length&&(this.virtualmode||!this.source.localdata)&&null!=this.source&&this.source.filter){var t=-1;this.pageable?(t=this.dataview.pagenum,this.dataview.pagenum=0):(this.vScrollInstance.setPosition(0),this.loadondemand=!0,this._renderrows(this.virtualsizeinfo)),this.pageable&&this.virtualmode&&(this.dataview.pagenum=0),this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length),this.pageable&&!this.virtualmode&&(this.dataview.pagenum=t)}if(this._cellscache=new Array,this.dataview.clearsortdata&&this.dataview.clearsortdata(),this.virtualmode)return this.pageable&&(this.dataview.updateview(),this.gotopage&&this.gotopage(0)),this.rendergridcontent(!1,!1),this.showfilterrow&&"string"!=typeof e&&O.isEmptyObject(e)&&this.refreshfilterrow(),this._postrender("filter"),void this._raiseEvent(13,{filters:this.dataview.filters});this.selectedrowindexes,this.that;if(this.dataview.refresh(),this.dataview.clearsortdata&&this.sortcolumn&&this.sortdirection){var i=this.sortdirection.ascending?"asc":"desc";this._loading?this.sortby(this.sortcolumn,i,null,!1,!1):this.sortby(this.sortcolumn,i,null,!1)}this.pageable&&(this.dataview.updateview(),this.gotopage&&(this.gotopage(0),this.updatepagerdetails())),this._updaterowsproperties(),!this.groupable||this.groupable&&0==this.groups.length?(this._rowdetailscache=new Array,this.virtualsizeinfo=null,this._pagescache=new Array,this.columns&&this.columns.records&&0<this.columns.records.length&&!this.columns.records[0].filtericon&&(this.prerenderrequired=!0),this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates()):(this._rowdetailscache=new Array,this._render(!0,!0,!1,!1,!1),this.showfilterrow&&this._updatefocusedfilter(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)),this._postrender("filter"),this.showfilterrow&&"string"!=typeof e&&O.isEmptyObject(e)&&this.refreshfilterrow(),this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){for(var e=new Array,t=0;t<this.dataview.filters.length;t++){var i=this.getcolumn(this.dataview.filters[t].datafield);e[t]={filter:this.dataview.filters[t].filter,datafield:i.datafield,displayfield:i.displayfield,filtercolumn:i.datafield,filtercolumntext:i.text}}return e},clearfilters:function(e){var t=this.that;if(this.showfilterrow&&this.clearfilterrow(),this.columns.records){var i=1==e||!1!==e;O.each(this.columns.records,function(){t.removefilter(this.displayfield,!i)})}!1!==e&&(1!=e&&!1===e||this.applyfilters("clear"))},_destroyfilterpanel:function(){var e=O(O.find("#filterclearbutton"+this.element.id)),t=O(O.find("#filterbutton"+this.element.id)),i=O(O.find("#filter1"+this.element.id)),s=O(O.find("#filter2"+this.element.id)),r=O(O.find("#filter3"+this.element.id)),n=O(O.find(".filtertext1"+this.element.id)),o=O(O.find(".filtertext2"+this.element.id));0<n.length&&0<o.length&&(n.removeClass(),o.removeClass(),n.remove(),o.remove()),0<e.length&&(e.jqxButton("destroy"),t.jqxButton("destroy"),this.removeHandler(e,"click"),this.removeHandler(t,"click")),0<i.length&&i.jqxDropDownList("destroy"),0<s.length&&s.jqxDropDownList("destroy"),0<r.length&&r.jqxDropDownList("destroy");i=O(O.find("#filter1"+this.element.id+"ex")),s=O(O.find("#filter2"+this.element.id+"ex")),r=O(O.find("#filter3"+this.element.id+"ex"));0<i.length&&i.jqxDropDownList("destroy"),0<s.length&&s.jqxDropDownList("destroy"),0<r.length&&r.jqxDropDownList("destroy")},_updatefilterpanel:function(i,t,s){null!=i&&null!=i||(i=this);var e=i._getcolumntypebydatafield(s),r=i._getfiltersbytype(e);if(!i.host.jqxDropDownList)throw new Error("jqxGrid: Missing reference to jqxdropdownlist.js.");i.filterpanel.detach(),i.excelfilterpanel.detach(),s.filterpanel&&s.filterpanel.detach(),O(t).children().detach();var n=O(i.menuitemsarray[6]);if(O(n).css("height","190px"),s.createfilterpanel&&!s.filterpanel){var o=O("<div class='filter' style='margin-left: 7px;'></div>");O(t).append(o),s.createfilterpanel(s.displayfield,o),s.filterpanel=o}"list"===s.filtertype||"checkedlist"===s.filtertype?O(t).append(i.excelfilterpanel):"custom"!==s.filtertype?O(t).append(i.filterpanel):s.filterpanel&&O(t).append(s.filterpanel);var a=O(t),l=a.find("#filterclearbutton"+i.element.id),d=a.find("#filterbutton"+i.element.id),h=a.find(".filter1"),c=a.find(".filter2"),u=a.find(".filter3"),p=a.find(".filtertext1"+i.element.id),m=a.find(".filtertext2"+i.element.id);if(this._hasdatefilter&&"list"!==s.filtertype&&"checkedlist"!==s.filtertype&&"custom"!==s.filtertype){var f=p.parent(),g=m.parent();if(f.children().remove(),g.children().remove(),"date"==s.filtertype){i._showwhere.text(i.gridlocalization.filtershowrowdatestring);var v=O("<div class='filtertext1"+i.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");f.append(v),(x=function(e){var t={calendar:i.gridlocalization,todayString:i.gridlocalization.todaystring,clearString:i.gridlocalization.clearstring};e.jqxDateTimeInput({disabled:i.disabled,firstDayOfWeek:i.gridlocalization.firstDay,localization:t,rtl:i.rtl,width:i._filterpanelwidth-15,height:23,value:null,formatString:s.cellsformat,theme:i.theme})})(v);v=O("<div class='filtertext2"+i.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");g.append(v),x(v)}else{i._showwhere.text(i.gridlocalization.filtershowrowstring);var x;v=O("<input class='filtertext1"+i.element.id+"' style='height: 23px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");f.append(v),(x=function(e){e.addClass(i.toThemeProperty("jqx-input")),e.addClass(i.toThemeProperty("jqx-widget-content")),e.addClass(i.toThemeProperty("jqx-rc-all")),e.width(i._filterpanelwidth-21)})(v);v=O("<input class='filtertext2"+i.element.id+"' style='height: 23px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");g.append(v),x(v)}p=a.find(".filtertext1"+i.element.id),m=a.find(".filtertext2"+i.element.id)}if("date"!=s.filtertype?(p.val(""),m.val("")):(p.val(null),m.val(null)),this.removeHandler(d,"click"),this.addHandler(d,"click",function(){i._buildfilter(i,t,s),i._closemenu()}),this.removeHandler(l,"click"),this.addHandler(l,"click",function(){i._clearfilter(i,t,s),i._closemenu()}),this.removeHandler(d,"keydown"),this.addHandler(d,"keydown",function(e){13===e.keyCode&&(i._buildfilter(i,t,s),i._closemenu())}),this.removeHandler(l,"keydown"),this.addHandler(l,"keydown",function(e){13===e.keyCode&&(i._clearfilter(i,t,s),i._closemenu())}),this.removeHandler(p,"keydown"),this.addHandler(p,"keydown",function(e){13===e.keyCode&&d.trigger("click"),27===e.keyCode&&i._closemenu()}),this.removeHandler(m,"keydown"),this.addHandler(m,"keydown",function(e){13===e.keyCode&&d.trigger("click"),27===e.keyCode&&i._closemenu()}),"default"===this.filtermode&&"list"!==s.filtertype&&"checkedlist"!==s.filtertype&&"custom"!==s.filtertype){if(h.jqxDropDownList("source")!=r&&(h.jqxDropDownList({enableBrowserBoundsDetection:!1,source:r}),u.jqxDropDownList({enableBrowserBoundsDetection:!1,source:r})),"boolean"==e||"bool"==e)h.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0}),u.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0});else{var w=!1;r&&r.length&&r.length<5&&(w=!0),h.jqxDropDownList({autoDropDownHeight:w,selectedIndex:2}),u.jqxDropDownList({autoDropDownHeight:w,selectedIndex:2})}c.jqxDropDownList({selectedIndex:0});var y=s.filter,b=new O.jqx.filter,_="";switch(e){case"number":case"int":case"float":case"decimal":_="numericfilter",j=b.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":_="booleanfilter",j=b.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":_="datefilter",j=b.getoperatorsbyfiltertype("datefilter");break;case"string":_="stringfilter",j=b.getoperatorsbyfiltertype("stringfilter")}if(null!=y){f=y.getfilterat(0),g=y.getfilterat(1),y.getoperatorat(0);if(i.updatefilterconditions){var j=[],q=i.updatefilterconditions(_,j);if(null!=q){for(var T=0;T<q.length;T++)q[T]=q[T].toUpperCase();y.setoperatorsbyfiltertype(_,q),j=q}}var C="default";if(null!=f){var S=j.indexOf(f.comparisonoperator),k=f.filtervalue;p.val(k),h.jqxDropDownList({selectedIndex:S,animationType:C})}if(null!=g){var I=j.indexOf(g.comparisonoperator),D=g.filtervalue;m.val(D),u.jqxDropDownList({selectedIndex:I,animationType:C})}null==y.getoperatorat(0)?c.jqxDropDownList({selectedIndex:0,animationType:C}):"and"==y.getoperatorat(0)||0==y.getoperatorat(0)?c.jqxDropDownList({selectedIndex:0}):c.jqxDropDownList({selectedIndex:1})}i.updatefilterpanel&&i.updatefilterpanel(h,u,c,p,m,d,l,y,_,j),(!this._hasdatefilter||this._hasdatefilter&&"date"!=s.filtertype)&&(this.touchdevice||(p.focus(),setTimeout(function(){p.focus()},10)))}else if("excel"===this.filtermode||"list"===s.filtertype||"checkedlist"===s.filtertype){var P=i._getfilterdataadapter(s),A=(_=i._getfiltertype(e),"excel"===this.filtermode||"checkedlist"===s.filtertype);if(h.jqxListBox("focus"),this.removeHandler(h,"keyup"),this.addHandler(h,"keyup",function(e){13===e.keyCode&&d.trigger("click"),27===e.keyCode&&i._closemenu()}),s.cellsformat?h.jqxListBox({checkboxes:A,displayMember:s.displayfield,valueMember:s.displayfield+"JQValue",source:P}):h.jqxListBox({checkboxes:A,displayMember:s.displayfield,valueMember:s.displayfield,source:P}),A){h.jqxListBox("insertAt",i.gridlocalization.filterselectallstring,0),(E=h.data().jqxListBox.instance).checkAll(!1);if(s.filter){E.uncheckAll(!1);for(var M=s.filter.getfilters(),B=0;B<E.items.length;B++){var H=E.items[B].value;O.each(M,function(){if("NOT_EQUAL"==this.condition){if(H!=this.value)return E.uncheckIndex(B,!1,!1),!1;if(null!=H&&null!=this.value&&H.toString()!=this.value.toString())return E.uncheckIndex(B,!1,!1),!1}else if("EQUAL"==this.condition){if(H==this.value)return E.checkIndex(B,!1,!1),!1;if(null!=H&&null!=this.value&&H.toString()==this.value.toString())return E.checkIndex(B,!1,!1),!1}})}E._updateCheckedItems();var z=E.getCheckedItems().length;E.items.length!=z&&0<z&&E.host.jqxListBox("indeterminateIndex",0,!0,!1),z===E.items.length-1&&E.host.jqxListBox("checkIndex",0,!0,!1)}}else if(s.filter){var E;(E=h.data().jqxListBox.instance).clearSelection();for(M=s.filter.getfilters(),B=0;B<E.items.length;B++){H=E.items[B].value;O.each(M,function(){if("NOT_EQUAL"==this.condition){if(H!=this.value)return E.unselectIndex(B,!1,!1),!1}else if("EQUAL"==this.condition&&H==this.value)return E.selectIndex(B,!0,!1),!1})}E._renderItems()}}},_initfilterpanel:function(s,e,t,i,r){null!=s&&null!=s||(s=this),e[0].innerHTML="";var n=O("<div class='filter' style='margin-left: 7px;'></div>");e.append(n);var o=O("<div class='filter' style='margin-top: 3px; margin-bottom: 3px;'></div>");o.text(s.gridlocalization.filtershowrowstring),this._showwhere=o;var a=r?"ex":"",l=O("<div class='filter filter1' id='filter1"+s.element.id+a+"'></div>"),d=O("<div class='filter filter2' id='filter2"+s.element.id+a+"' style='margin-bottom: 3px;'></div>"),h=O("<div class='filter filter3' id='filter3"+s.element.id+a+"'></div>"),c=s._getcolumntypebydatafield(t);if(!l.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");var u=s._getfiltersbytype(c);if(this._hasdatefilter=!1,this._filterpanelwidth=i,this.columns&&this.columns.records){for(var p=0;p<this.columns.records.length;p++)if("date"==this.columns.records[p].filtertype){this._hasdatefilter=!0;break}}else if(this.columns&&!this.columns.records)for(p=0;p<this.columns.length;p++)if("date"==this.columns[p].filtertype){this._hasdatefilter=!0;break}var m=O("<div class='filter'><input class='filtertext1"+s.element.id+"' style='height: 23px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>"),f=m.find("input");f.addClass(this.toThemeProperty("jqx-input")),f.addClass(this.toThemeProperty("jqx-widget-content")),f.addClass(this.toThemeProperty("jqx-rc-all")),f.width(i-21);var g=O("<div class='filter'><input class='filtertext2"+s.element.id+"' style='height: 23px; margin-top: 3px;' type='text'></input></div>"),v=g.find("input");v.addClass(this.toThemeProperty("jqx-input")),v.addClass(this.toThemeProperty("jqx-widget-content")),v.addClass(this.toThemeProperty("jqx-rc-all")),v.width(i-21),s.rtl&&(f.css("direction","rtl"),v.css("direction","rtl"));var x=O("<div class='filter' style='height: 25px; margin-left: 20px; margin-top: 7px;'></div>"),w=O('<span tabIndex=0 id="filterbutton'+s.element.id+'" class="filterbutton" style="padding: 4px 12px; margin-left: 2px;">'+s.gridlocalization.filterstring+"</span>");x.append(w);var y=O('<span tabIndex=0 id="filterclearbutton'+s.element.id+'" class="filterclearbutton" style="padding: 4px 12px; margin-left: 5px;">'+s.gridlocalization.filterclearstring+"</span>");x.append(y),w.jqxButton({height:20,theme:s.theme}),y.jqxButton({height:20,theme:s.theme});var b=function(e){if(e){if(-1!=e.text().indexOf("case sensitive")){var t=e.text();t=t.replace("case sensitive","match case"),e.text(t)}return e.css("font-family",s.host.css("font-family")),e.css("font-size",s.host.css("font-size")),e.css("top","2px"),e.css("position","relative"),e}return""};if("default"!==this.filtermode||r){if("excel"===this.filtermode||r){n.append(o),n.append(l),l.attr("tabindex",0),l.jqxListBox({rtl:s.rtl,_checkForHiddenParent:!1,checkboxes:!0,selectedIndex:2,width:i-15,height:130,theme:s.theme});var _=!0;s.addHandler(l,"checkChange",function(e){if(_)if(e.args.label!=s.gridlocalization.filterselectallstring){_=!1,l.jqxListBox("checkIndex",0,!0,!1);var t=l.jqxListBox("getCheckedItems"),i=l.jqxListBox("getItems");1==t.length?l.jqxListBox("uncheckIndex",0,!0,!1):i.length!=t.length&&l.jqxListBox("indeterminateIndex",0,!0,!1),_=!0}else _=!1,e.args.checked?l.jqxListBox("checkAll",!1):l.jqxListBox("uncheckAll",!1),_=!0})}}else{n.append(o),n.append(l),l.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:s.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:i-15,height:23,dropDownHeight:150,dropDownWidth:i-15,selectionRenderer:b,source:u,theme:s.theme}),n.append(m);var j=new Array;j[0]=s.gridlocalization.filterandconditionstring,j[1]=s.gridlocalization.filterorconditionstring,d.jqxDropDownList({_checkForHiddenParent:!1,rtl:s.rtl,enableBrowserBoundsDetection:!1,autoDropDownHeight:!0,selectedIndex:0,width:60,height:23,source:j,selectionRenderer:b,theme:s.theme}),n.append(d),h.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:s.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:i-15,height:23,dropDownHeight:150,dropDownWidth:i-15,selectionRenderer:b,source:u,theme:s.theme}),n.append(h),n.append(g)}n.append(x),s.updatefilterpanel&&s.updatefilterpanel(l,h,d,m,g,w,y,null,null,u)}})}(jqxBaseFramework),function(v){v.jqx.dataview.sort=function(){this.sortby=function(e,t,i){var s=Object.prototype.toString;if(null==t)return this.sortdata=null,this.sortcache={},this.grid._pagescache=new Array,this.grid._cellscache=new Array,void this.refresh();null==t&&(t=!0),t="a"==t||"asc"==t||"ascending"==t||1==t;var r=e;this.sortfield=e,this.sortfielddirection=t?"asc":"desc",null==this.sortcache&&(this.sortcache={}),this.sortdata=[];var n=[],o=!1;if("constructor"==r&&(r=""),!this.virtualmode&&null!=this.sortcache[r]){var a=this.sortcache[r];n=a._sortdata,a.direction==t?n.reverse():(!a.direction&&t&&n.reverse(),o=!0),n.length<this.totalrecords&&(o=!(this.sortcache={}),n=[])}Object.prototype.toString="function"==typeof e?e:function(){return this[e]};var l=this.records,d=(this.that,"");if(this.source.datafields&&v.each(this.source.datafields,function(){if(this.name==e)return this.type&&(d=this.type),!1}),0==n.length)if(l.length)for(var h=l.length,c=0;c<h;c++){if(null!=(m=l[c])){var u=(f=m).toString();n.push({sortkey:u,value:f,index:c})}}else{var p=!1;for(obj in l){var m;if(null==(m=l[obj])){p=!0;break}var f=m;n.push({sortkey:f.toString(),value:f,index:obj})}p&&v.each(l,function(e,t){n.push({sortkey:t.toString(),value:t,index:e})})}if(!o)if(null==i){this._sortcolumntype=d;var g=this;n.sort(function(e,t){return g._compare(e,t,d)})}else n.sort(i);t||n.reverse(),Object.prototype.toString=s,this.sortdata=n,this.sortcache[r]={_sortdata:n,direction:t},this.reload(this.records,this.rows,this.filters,this.updated,!0)},this.clearsortdata=function(){this.sortcache={},this.sortdata=null},this._compare=function(e,t,i){if(void 0===(e=e.sortkey)&&(e=null),void 0===(t=t.sortkey)&&(t=null),null===e&&null===t)return 0;if(null===e&&null!==t)return-1;if(null!==e&&null===t)return 1;if(v.jqx.dataFormat)if(i&&""!=i)switch(i){case"number":case"int":case"float":return e<t?-1:t<e?1:0;case"date":case"time":return e<t?-1:t<e?1:0;case"string":case"text":e=String(e).toLowerCase(),t=String(t).toLowerCase()}else{if(v.jqx.dataFormat.isNumber(e)&&v.jqx.dataFormat.isNumber(t))return e<t?-1:t<e?1:0;if(v.jqx.dataFormat.isDate(e)&&v.jqx.dataFormat.isDate(t))return e<t?-1:t<e?1:0;v.jqx.dataFormat.isNumber(e)||v.jqx.dataFormat.isNumber(t)||(e=String(e).toLowerCase(),t=String(t).toLowerCase())}try{if(e<t)return-1;if(t<e)return 1}catch(e){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)}},v.extend(v.jqx._jqxGrid.prototype,{_rendersortcolumn:function(){var s=this.that,r=this.getsortcolumn();if(this.sortdirection){var e=function(e,t){var i=s.getcolumn(e);i&&(t.ascending?v.jqx.aria(i.element,"aria-sort","ascending"):t.descending?v.jqx.aria(i.element,"aria-sort","descending"):v.jqx.aria(i.element,"aria-sort","none"))};this._oldsortinfo&&this._oldsortinfo.column&&e(this._oldsortinfo.column,{ascending:!1,descending:!1}),e(r,this.sortdirection)}this._oldsortinfo={column:r,direction:this.sortdirection},this.sortdirection&&v.each(this.columns.records,function(e,t){var i=v.data(document.body,"groupsortelements"+this.displayfield);null==r||this.displayfield!=r?(v(this.sortasc).hide(),v(this.sortdesc).hide(),null!=i&&(i.sortasc.hide(),i.sortdesc.hide())):s.sortdirection.ascending?(v(this.sortasc).show(),v(this.sortdesc).hide(),null!=i&&(i.sortasc.show(),i.sortdesc.hide())):(v(this.sortasc).hide(),v(this.sortdesc).show(),null!=i&&(i.sortasc.hide(),i.sortdesc.show()))})},getsortcolumn:function(){return null!=this.sortcolumn?this.sortcolumn:null},removesort:function(){this.sortby(null)},sortby:function(e,t,i,s,r){if(this._loading&&!1!==r)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e&&(t=null,e=this.sortcolumn),null!=e){var n=this.that;if(null==i&&null!=n.source.sortcomparer&&(i=n.source.sortcomparer),ascending="a"==t||"asc"==t||"ascending"==t||1==t,n.sortdirection=null!=t?{ascending:ascending,descending:!ascending}:{ascending:!1,descending:!1},n.sortcolumn=null!=t?e:null,n.source.sort||n.virtualmode){if(n.dataview.sortfield=e,n.dataview.sortfielddirection=null==t?"":ascending?"asc":"desc",n.source.sort&&!this._loading)return n.source.sort(e,t),void n._raiseEvent(6,{sortinformation:n.getsortinformation()})}else n.dataview.sortby(e,t,i);if(!1===s)return;n.groupable&&0<n.groups.length?(n._render(!0,!1,!1),n._updategroupheadersbounds&&n.showgroupsheader&&n._updategroupheadersbounds()):(n.pageable&&n.dataview.updateview(),n._updaterowsproperties(),n.rendergridcontent(!0)),n._postrender("sort"),n._raiseEvent(6,{sortinformation:n.getsortinformation()})}},_togglesort:function(e){var t=this.that;if(!this.disabled&&e.sortable&&t.sortable){var i=t.getsortinformation(),s=null;null!=i.sortcolumn&&i.sortcolumn==e.displayfield?(s=i.sortdirection.ascending,s=1<t.sorttogglestates?1!=s&&null:!s):s=!0,t.sortby(e.displayfield,s,null)}}})}(jqxBaseFramework),function(M){M.extend(M.jqx._jqxGrid.prototype,{exportdata:function(h,e,c,u,t,i,s){if(!M.jqx.dataAdapter.ArrayExporter)throw"jqxGrid: Missing reference to jqxdata.export.js!";null==c&&(c=!0);var p=this;if(null==u&&0==(u=this.getrows()).length)throw"No data to export.";this.exporting=!0,this.pageable||(this.loadondemand=!0),this.altrows&&this._renderrows(this.virtualsizeinfo);var m=null!=t&&t,f={},g={},r=this.host.find(".jqx-grid-cell:first"),n=this.host.find(".jqx-grid-cell-alt:first");r.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),r.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),n.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),n.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),r.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),r.removeClass(this.toThemeProperty("jqx-fill-state-hover")),n.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),n.removeClass(this.toThemeProperty("jqx-fill-state-hover"));for(var v="cell",x=1,w="column",y=1,b=[],o=0;o<this.columns.records.length;o++){var a=this.columns.records[o];if(""!=a.cellclassname)if(a.customCellStyles=new Array,"string"==typeof a.cellclassname)for(var l=0;l<u.length;l++)a.customCellStyles[l]=a.cellclassname;else for(l=0;l<u.length;l++){var d=this.getrowboundindex(l),_=a.cellclassname(d,a.displayfield,u[l][a.displayfield],u[l]);_&&(a.customCellStyles[l]=_)}}var j=new Array,q=null,T=null,C=null;if(M.each(this.columns.records,function(e){var t=M(p.table[0].rows[0].cells[e]);if(1<p.table[0].rows.length){var i=M(p.table[0].rows[1].cells[e]);C||(C=i)}T||(T=t);var s=this,r=function(e){if(e.removeClass(p.toThemeProperty("jqx-grid-cell-selected")),e.removeClass(p.toThemeProperty("jqx-fill-state-pressed")),e.removeClass(p.toThemeProperty("jqx-grid-cell-hover")),e.removeClass(p.toThemeProperty("jqx-fill-state-hover")),s.customCellStyles)for(var t in s.customCellStyles)e.removeClass(s.customCellStyles[t])};if(r(t),i&&r(i),null==this.displayfield)return!0;p.showaggregates&&p.getcolumnaggregateddata&&b.push(p.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,u));var d=p._getexportcolumntype(this);!this.exportable||this.hidden&&!m||(f[this.displayfield]={},f[this.displayfield].text=this.text,f[this.displayfield].width=parseInt(this.width),isNaN(f[this.displayfield].width)&&(f[this.displayfield].width=60),f[this.displayfield].formatString=this.cellsformat,f[this.displayfield].localization=p.gridlocalization,f[this.displayfield].type=d,f[this.displayfield].cellsAlign=this.cellsalign,f[this.displayfield].hidden=!c,f[this.displayfield].displayfield=this.displayfield,j.push(f[this.displayfield])),v="cell"+x;var n=M(this.element);if(null==this.element&&(n=M(this.uielement)),q){if(!s._rendered){n=q,t=T,i=C;var o=p.toTP("jqx-grid-cell")+" "+p.toTP("jqx-item");t[0].className=o,o+=p.toTP("jqx-grid-cell-alt"),i&&(i[0].className=o)}}else q=n;if(w="column"+y,"html"==h||"xls"==h||"pdf"==h){var a=function(e,t,i,s,r,n,o,a,l){g[e]={},null!=t&&(g[e]["font-size"]=t.css("font-size"),g[e]["font-weight"]=t.css("font-weight"),g[e]["font-style"]=t.css("font-style"),g[e]["background-color"]=n._getexportcolor(t.css("background-color")),g[e].color=n._getexportcolor(t.css("color")),g[e]["border-color"]=n._getexportcolor(t.css("border-top-color")),i?g[e]["text-align"]=r.align:(g[e]["text-align"]=r.cellsalign,g[e].formatString=r.cellsformat,g[e].dataType=d),"html"!=h&&"pdf"!=h||(g[e]["border-top-width"]=t.css("border-top-width"),g[e]["border-left-width"]=t.css("border-left-width"),g[e]["border-right-width"]=t.css("border-right-width"),g[e]["border-bottom-width"]=t.css("border-bottom-width"),g[e]["border-top-style"]=t.css("border-top-style"),g[e]["border-left-style"]=t.css("border-left-style"),g[e]["border-right-style"]=t.css("border-right-style"),g[e]["border-bottom-style"]=t.css("border-bottom-style"),i?(0==o&&(g[e]["border-left-width"]=t.css("border-right-width")),g[e]["border-top-width"]=t.css("border-right-width"),g[e]["border-bottom-width"]=t.css("border-bottom-width")):0==o&&(g[e]["border-left-width"]=t.css("border-right-width")),g[e].height=t.css("height")),!r.exportable||r.hidden&&!m||(1==a?(f[r.displayfield].customCellStyles||(f[r.displayfield].customCellStyles=new Array),f[r.displayfield].customCellStyles[l]=e):i?f[r.displayfield].style=e:s?f[r.displayfield].cellAltStyle=e:f[r.displayfield].cellStyle=e))};if(a(w,n,!0,!1,this,p,e),y++,a(v,t,!1,!1,this,p,e),p.altrows&&a(v="cellalt"+x,i,!1,!0,this,p,e),this.customCellStyles){for(var l in s.customCellStyles)t.removeClass(s.customCellStyles[l]);for(var l in s.customCellStyles)t.addClass(s.customCellStyles[l]),a(v+s.customCellStyles[l],t,!1,!1,this,p,e,!0,l),t.removeClass(s.customCellStyles[l])}x++}}),M.each(this.columns.records,function(e){f[this.displayfield]&&(f[this.displayfield].columnsDataFields=j)}),this.showaggregates){var S=[],k="xls"==h?"_AG":"",I=this.groupable?this.groups.length:0;this.rowdetails&&I++,"checkbox"===this.selectionmode&&I++,0<b.length&&(M.each(this.columns.records,function(e){if(this.aggregates)for(var t=0;t<this.aggregates.length;t++)if(S[t]||(S[t]={}),S[t]){var i=p._getaggregatename(this.aggregates[t]),s=p._getaggregatetype(this.aggregates[t]),r=b[e-I];r&&(S[t][this.displayfield]=k+i+": "+r[s])}}),M.each(this.columns.records,function(e){for(var t=0;t<S.length;t++)null==S[t][this.displayfield]&&(S[t][this.displayfield]=k)})),M.each(S,function(){u.push(this)})}var D=this,P=M.jqx.dataAdapter.ArrayExporter(u,f,g);if(null==e){this._renderrows(this.virtualsizeinfo);var A=P.exportTo(h);return this.showaggregates&&M.each(S,function(){u.pop(this)}),setTimeout(function(){D.exporting=!1},50),A}P.exportToFile(h,e,i,s),this.showaggregates&&M.each(S,function(){u.pop(this)}),this._renderrows(this.virtualsizeinfo),setTimeout(function(){D.exporting=!1},50)},_getexportcolor:function(e){var t=e;if("transparent"==e&&(t="#FFFFFF"),t&&t.toString()||(t="#FFFFFF"),-1!=t.toString().indexOf("rgb")){var i=t.split(",");if(-1!=t.toString().indexOf("rgba")){var s=parseInt(i[0].substring(5)),r=parseInt(i[1]),n=parseInt(i[2]),o=parseInt(i[3].substring(1,4)),a={r:s,g:r,b:n},l=this._rgbToHex(a);return 0==s&&0==r&&0==n&&0==o?"#ffffff":"#"+l}a={r:s=parseInt(i[0].substring(4)),g:r=parseInt(i[1]),b:n=parseInt(i[2].substring(1,4))};return"#"+(l=this._rgbToHex(a))}if(-1!=t.toString().indexOf("#")&&4==t.toString().length){var d=t.toString().substring(1,4);t+=d}return t},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},_getexportcolumntype:function(e){var t="string",i=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(i){var s="";if(M.each(i,function(){if(this.name==e.displayfield)return this.type&&(s=this.type),!1}),s)return s}if(null!=e){if(null==this.dataview.cachedrecords)return t;var r=null;if(this.virtualmode)M.each(this.dataview.cachedrecords,function(){return r=this[e.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return t;if(null!=(r=this.dataview.cachedrecords[0][e.displayfield])&&""==r.toString())return"string"}if(null!=r){if(-1!=e.cellsformat.indexOf("c"))return"number";if(-1!=e.cellsformat.indexOf("n"))return"number";if(-1!=e.cellsformat.indexOf("p"))return"number";if(-1!=e.cellsformat.indexOf("d"))return"date";if(-1!=e.cellsformat.indexOf("y"))return"date";if(-1!=e.cellsformat.indexOf("M"))return"date";if(-1!=e.cellsformat.indexOf("m"))return"date";if(-1!=e.cellsformat.indexOf("t"))return"date";if("boolean"==typeof r)t="boolean";else if(M.jqx.dataFormat.isNumber(r))t="number";else{var n=new Date(r);if("NaN"==n.toString()||"Invalid Date"==n.toString())if(M.jqx.dataFormat){if(null!=(n=M.jqx.dataFormat.tryparsedate(r))){if(n&&n.getFullYear()&&1970==n.getFullYear()&&0==n.getMonth()&&1==n.getDate()){var o=new Number(r);return isNaN(o)?"string":"number"}return"date"}t="string"}else t="string";else t="date"}}}return t}})}(jqxBaseFramework),function(x){x.extend(x.jqx._jqxGrid.prototype,{_initpager:function(){var o=this.that,e=this.gridlocalization.pagergotopagestring,t=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),i=(this.pagerheight-20)/2;if(this.pagerdiv=this.pagerdiv||x('<div style="line-height: 20px; width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.vScrollBar.jqxScrollBar({thumbSize:0});if(this.pagerrenderer){this.pagerdiv.children().remove();var s=this.pagerrenderer();null!=s&&this.pagerdiv.append(x(s)),this.pager.append(this.pagerdiv)}else{if(this.pagerdiv.css("top",i),this.pager.append(this.pagerdiv),this.pagergotoinput=this.pagergotoinput||x('<div style="margin-right: 12px; width: 27px; height: 20px; float: right;"><input style="margin-top: 0px; text-align: right; height:20px; width: 27px;" type="text"/></div>'),this.pagergoto=this.pagergoto||x('<div style="float: right; margin-right: 7px;"></div>'),this.pagerrightbutton=this.pagerrightbutton||x('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; height:20px; width: 27px; float: right;"></div>'),this.pagerleftbutton=this.pagerleftbutton||x('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; height:20px; width: 27px; float: right;"></div>'),this.pagerdetails=this.pagerdetails||x('<div style="margin-right: 7px; float: right;"></div>'),this.pagershowrows=this.pagershowrows||x('<div style="margin-right: 7px; float: right;"></div>'),this.pagerbuttons=x('<div style="margin-right: 3px; float: right;"></div>'),this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList&&(this.pagershowrowscombo.remove(),this.pagershowrowscombo=null),this.pagergotoinput.attr("disabled",this.disabled),this.pagerfirstbutton=x('<div type="button" style="padding: 0px; margin-top: 0px; margin-left: 3px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagerlastbutton=x('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagershowrowscombo=this.pagershowrowscombo||x('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>'),this.pagerdiv.children().remove(),this.pagershowrowscombo[0].id="gridpagerlist"+this.element.id,this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.removeHandler(this.pagerfirstbutton,"mousedown"),this.removeHandler(this.pagerfirstbutton,"mouseup"),this.removeHandler(this.pagerfirstbutton,"click"),this.removeHandler(this.pagerlastbutton,"mousedown"),this.removeHandler(this.pagerlastbutton,"mouseup"),this.removeHandler(this.pagerlastbutton,"click"),this.pagerleftbutton.attr("title",this.gridlocalization.pagerpreviousbuttonstring),this.pagerrightbutton.attr("title",this.gridlocalization.pagernextbuttonstring),"simple"==this.pagermode){x.jqx.browser.msie&&x.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var r=x("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");r.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(r);var n=x("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");n.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(n),this.rtl?(this.pagerdiv.append(this.pagerlastbutton),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerfirstbutton)):(this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton)),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});var a=this.rtl?"right":"left";this.pagerbuttons.css("float",a),this.pagerlastbutton.css("float",a),this.pagerfirstbutton.css("float",a),this.pagerrightbutton.css("float",a),this.pagerleftbutton.css("float",a),this.pagerdetails.css("float",this.rtl?"left":"right"),this.rtl?(this.pagerdetails.css("margin-left","7px"),this.pagerdetails.css("margin-right","0px")):(this.pagerdetails.css("margin-left","0px"),this.pagerdetails.css("margin-right","7px")),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show(),this.rtl||(this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton));this.pagerrightbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var l=x("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");l.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(l);var d=x("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");d.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(d),this.pagerdiv.append(this.pagerdetails),"simple"!=this.pagermode&&(this.rtl?(this.pagerdiv.append(this.pagergoto),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagerdetails),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton)):(this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagergoto)));var h=this.pagesizeoptions;if(!this.pagershowrowscombo.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");this.pagershowrowscombo.jqxDropDownList({rtl:this.rtl,disabled:this.disabled,source:h,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:"auto",height:20,theme:this.theme});for(var c=0,u=0;u<h.length;u++)this.pagesize>=h[u]&&(c=u);this.pagershowrows[0].innerHTML=t,this.pagergoto[0].innerHTML=e,this.updatepagerdetails(),this.pagershowrowscombo.jqxDropDownList({selectedIndex:c}),this.pagerpageinput=this.pagergotoinput.find("input"),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.rtl&&this.pagerpageinput.css("direction","rtl");var p=6+(this.columns.records?this.columns.records.length:this.columns.length);this.pagerpageinput.attr("tabindex",p++),this.pagershowrowscombo.attr("tabindex",p++),this.pagerleftbutton.attr("tabindex",p++),this.pagerrightbutton.attr("tabindex",p++);o=this.that;this.removeHandler(this.pagershowrowscombo,"select"),this.addHandler(this.pagershowrowscombo,"select",function(e){if(e.args){o.vScrollInstance&&o.vScrollInstance.setPosition(0),null!=o.editcell&&o.endcelledit&&o.endcelledit(o.editcell.row,o.editcell.column,!0,!1);var t=e.args.index,i=o.dataview.pagenum*o.dataview.pagesize,s=h[t],r=o.pagesize;o.pagesize=parseInt(s),isNaN(o.pagesize)&&(o.pagesize=10),100<=s?o.pagershowrowscombo.jqxDropDownList({width:"auto"}):o.pagershowrowscombo.jqxDropDownList({width:44}),o.dataview.pagesize=o.pagesize;var n=Math.floor(i/o.dataview.pagesize);o.prerenderrequired=!0,o._requiresupdate=!0,o._raiseEvent(10,{pagenum:n,oldpagesize:r,pagesize:o.dataview.pagesize}),o.gotopage(n),o.autoheight&&o._updatesizeonwindowresize&&(o._updatesize(!0),setTimeout(function(){o._updatesize(!0)},500)),setTimeout(function(){o.pagershowrowscombo.focus()},25)}});var m=this.pagergotoinput.find("input");m.addClass(this.toThemeProperty("jqx-grid-pager-input")),m.addClass(this.toThemeProperty("jqx-rc-all")),this.removeHandler(m,"keydown"),this.removeHandler(m,"change"),this.addHandler(m,"keydown",function(e){if(65<=e.keyCode&&e.keyCode<=90)return!1;if("13"==e.keyCode){var t=m.val();return t=parseInt(t),isNaN(t)||(o.gotopage(t-1),setTimeout(function(){m.focus()},25)),!1}}),this.addHandler(m,"change",function(){var e=m.val();e=parseInt(e),isNaN(e)||(o.gotopage(e-1),setTimeout(function(){m.focus()},25))}),this.addHandler(this.pagerrightbutton,"mouseenter",function(){d.addClass(o.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){l.addClass(o.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){d.removeClass(o.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){l.removeClass(o.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){d.addClass(o.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){d.removeClass(o.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){l.addClass(o.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){l.removeClass(o.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(x(document),"mouseup.pagerbuttons"+this.element.id,function(){d.removeClass(o.toThemeProperty("jqx-icon-arrow-right-selected")),l.removeClass(o.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerrightbutton,"click",function(){o.pagerrightbutton.jqxButton("disabled")||(o.rtl?o.gotoprevpage():o.gotonextpage())}),this.addHandler(this.pagerleftbutton,"click",function(){o.pagerleftbutton.jqxButton("disabled")||(o.rtl?o.gotonextpage():o.gotoprevpage())}),this.addHandler(this.pagerrightbutton,"keydown",function(e){13===e.keyCode&&(o.pagerrightbutton.jqxButton("disabled")||(o.rtl?o.gotoprevpage():o.gotonextpage(),setTimeout(function(){o.pagerrightbutton.focus()},25)))}),this.addHandler(this.pagerleftbutton,"keydown",function(e){13===e.keyCode&&(o.pagerleftbutton.jqxButton("disabled")||(o.rtl?o.gotonextpage():o.gotoprevpage(),setTimeout(function(){o.pagerleftbutton.focus()},25)))});var f=this;if("simple"===this.pagermode){var g=this.pagerfirstbutton,v=this.pagerlastbutton;this.addHandler(v,"mouseenter",function(){n.addClass(f.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(g,"mouseenter",function(){r.addClass(f.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(v,"mouseleave",function(){n.removeClass(f.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(g,"mouseleave",function(){r.removeClass(f.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(v,"mousedown",function(){n.addClass(f.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(g,"mousedown",function(){r.addClass(f.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(v,"mouseup",function(){n.removeClass(f.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(g,"mouseup",function(){r.removeClass(f.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(x(document),"mouseup.pagerbuttons"+name+this.element.id,function(){d.removeClass(f.toThemeProperty("jqx-icon-arrow-right-selected")),l.removeClass(f.toThemeProperty("jqx-icon-arrow-left-selected")),n&&(n.removeClass(f.toThemeProperty("jqx-icon-arrow-last-selected")),r.removeClass(f.toThemeProperty("jqx-icon-arrow-first-selected")))}),this.addHandler(g,"click",function(){if(!g.jqxButton("disabled"))if(f.rtl){var e=f.dataview.totalrecords,t=Math.ceil(e/f.pagesize);f.gotopage(t-1)}else f.gotopage(0)}),this.addHandler(v,"click",function(){if(!v.jqxButton("disabled"))if(f.rtl)f.gotopage(0);else{var e=f.dataview.totalrecords,t=Math.ceil(e/f.pagesize);f.gotopage(t-1)}})}}this.vScrollBar.jqxScrollBar("refresh"),this._arrange()},_updatepagertheme:function(){if(null!=this.pagershowrowscombo){this.pagershowrowscombo.jqxDropDownList({theme:this.theme}),this.pagerrightbutton.jqxButton({theme:this.theme}),this.pagerleftbutton.jqxButton({theme:this.theme}),this.pagerpageinput.removeClass();var e=this.pagergotoinput.find("input");e.removeClass(),e.addClass(this.toThemeProperty("jqx-grid-pager-input")),e.addClass(this.toThemeProperty("jqx-rc-all")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var t=x("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");t.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(t);var i=x("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");if(i.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(i),"simple"==this.pagermode){x.jqx.browser.msie&&x.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var s=x("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");s.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(s);var r=x("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");r.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(r),this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerbuttons.css("float","left"),this.pagerlastbutton.css("float","left"),this.pagerfirstbutton.css("float","left"),this.pagerrightbutton.css("float","left"),this.pagerleftbutton.css("float","left"),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show();var n=function(e,t){e.removeHandler(t,"mouseenter"),e.removeHandler(t,"mouseleave"),e.removeHandler(t,"mousedown"),e.removeHandler(t,"mouseup")};n(this,this.pagerrightbutton),n(this,this.pagerleftbutton);var o=this.that;this.addHandler(this.pagerrightbutton,"mouseenter",function(){i.addClass(o.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){t.addClass(o.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){i.removeClass(o.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){t.removeClass(o.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){i.addClass(o.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){i.removeClass(o.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){t.addClass(o.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){t.removeClass(o.toThemeProperty("jqx-icon-arrow-left-selected"))})}},gotopage:function(e){if(null!=e&&null!=e||(e=0),-1==e&&(e=0),!(e<0)){var t=this.dataview.totalrecords;this.summaryrows&&(t+=this.summaryrows.length);var i=this.pagenum;this._raiseEvent(25,{oldpagenum:this.dataview.pagenum,pagenum:e,pagesize:this.dataview.pagesize});var s=Math.ceil(t/this.pagesize);if(s<=e&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),0<e&&(e=s-1),e<0&&(e=0)),(this.dataview.pagenum!=e||this._requiresupdate)&&this.pageable){if(this.source.pager&&this.source.pager(e,this.dataview.pagesize,this.dataview.pagenum),this.dataview.pagenum=e,this.virtualmode){if(this.hiddens=new Array,this.expandedgroups=new Array,this.rendergridrows){var r=e*this.dataview.pagesize,n=r+this.dataview.pagesize;if(null!=r&&null!=n)return this.pagerrightbutton&&(this.pagerrightbutton.jqxButton({disabled:!0}),this.pagerleftbutton.jqxButton({disabled:!0}),this.pagershowrowscombo.jqxDropDownList({disabled:!0})),this.pagerfirstbutton&&(this.pagerfirstbutton.jqxButton({disabled:!0}),this.pagerlastbutton.jqxButton({disabled:!0})),this.updatebounddata("pagechanged"),this._raiseEvent(9,{pagenum:e,oldpagenum:i,pagesize:this.dataview.pagesize}),this.updatepagerdetails(),void(this.autosavestate&&this.savestate&&this.savestate())}}else this.dataview.updateview();if(this._loadrows(),this._updatepageviews(),this.tableheight=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.updatepagerdetails(),this.autoheight||this.autorowheight){var o=this.host.height()-this._gettableheight();height=o+this._pageviews[0].height,height!=this.host.height()&&(this._arrange(),this._updatepageviews(),this.autorowheight&&this._renderrows(this.virtualsizeinfo))}null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1),this.focus(),this._raiseEvent(9,{pagenum:e,oldpagenum:i,pagesize:this.dataview.pagesize}),this.autosavestate&&this.savestate&&this.savestate()}}},gotoprevpage:function(){if(0<this.dataview.pagenum)this.gotopage(this.dataview.pagenum-1);else if("simple"!=this.pagermode){var e=this.dataview.totalrecords;this.summaryrows&&(e+=this.summaryrows.length);var t=Math.ceil(e/this.pagesize);this.gotopage(t-1)}},gotonextpage:function(){var e=this.dataview.totalrecords;this.summaryrows&&(e+=this.summaryrows.length);var t=Math.ceil(e/this.pagesize);this.dataview.pagenum<t-1?this.gotopage(this.dataview.pagenum+1):"simple"!=this.pagermode&&this.gotopage(0)},updatepagerdetails:function(){if(null!=this.pagerdetails&&0<this.pagerdetails.length){var e=this.dataview.pagenum*this.pagesize,t=(this.dataview.pagenum+1)*this.pagesize;t>=this.dataview.totalrecords&&(t=this.dataview.totalrecords);var i=this.dataview.totalrecords;this.summaryrows&&(i+=this.summaryrows.length,(this.dataview.pagenum+1)*this.pagesize>this.dataview.totalrecords&&(t=i)),e++;var s=Math.ceil(i/this.dataview.pagesize);if(1<=s&&s--,s++,"simple"!==this.pagermode){this.pagergotoinput.find("input").val(this.dataview.pagenum+1)}else{var r="",n=this.pagerbuttonscount;0!=n&&n||(n=5);var o=0;for(this.rtl&&(o=n-1);this.rtl&&0<=o||!this.rtl&&o<n;){var a=1+o,l=this.dataview.pagenum/n;a+=Math.floor(l)*n;var d=this.toTP("jqx-grid-pager-number");if(d+=" "+this.toTP("jqx-rc-all"),s<a)break;if(this.rtl||0==o&&n<a&&(r+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+(-1+a)+"'>...</a>"),this.dataview.pagenum===a-1&&(d+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(o===n-1){d=this.toTP("jqx-grid-pager-number");d+=" "+this.toTP("jqx-rc-all"),1+a<=s&&(r+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+(1+a)+"'>...</a>")}this.dataview.pagenum===a-1&&(d+=" "+this.toTP("jqx-fill-state-pressed")),r+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+a+"'>"+a+"</a>"}else if(r+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+a+"'>"+a+"</a>",o===n-1){var d=this.toTP("jqx-grid-pager-number");d+=" "+this.toTP("jqx-rc-all"),1+a<=s&&(r+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+(1+a)+"'>...</a>")}if(this.rtl){d=this.toTP("jqx-grid-pager-number");d+=" "+this.toTP("jqx-rc-all"),0==o&&n<a&&(r+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+(-1+a)+"'>...</a>")}this.rtl?o--:o++}var h=this.pagerbuttons.find("a");this.removeHandler(h,"click"),this.removeHandler(h,"mouseenter"),this.removeHandler(h,"mouseleave"),this.pagerbuttons[0].innerHTML=r;var c=this;h=this.pagerbuttons.find("a");c.addHandler(h,"click",function(e){var t=x(e.target).attr("data-page");return c.gotopage(parseInt(t)-1),!1}),c.addHandler(h,"mouseenter",function(e){x(e.target).addClass(c.toTP("jqx-fill-state-hover"))}),c.addHandler(h,"mouseleave",function(e){x(e.target).removeClass(c.toTP("jqx-fill-state-hover"))})}this.pagergotoinput.attr("title","1 - "+s),0==t&&t<e&&(e=0),this.rtl?this.pagerdetails[0].innerHTML=i+this.gridlocalization.pagerrangestring+t+"-"+e:this.pagerdetails[0].innerHTML=e+"-"+t+this.gridlocalization.pagerrangestring+i,t<e&&this.gotoprevpage()}},_updatepagedview:function(e,t,i){var s=this.that;this.dataview.rows.length!=this.dataview.pagesize&&this.dataview.updateview();for(var r=this.dataview.rows.length,n=0;n<r;n++){var o=this.dataview.rows[n].visibleindex,a={index:o,height:this.heights[o],hidden:this.hiddens[o],details:this.details[o]};if(null==this.heights[o]&&(this.heights[o]=this.rowsheight,a.height=this.rowsheight),null==this.hiddens[o]&&(this.hiddens[o]=!1,a.hidden=!1),null==this.details[o]&&(this.details[o]=null),a.height!=s.rowsheight&&(t-=s.rowsheight,t+=a.height),a.hidden)t-=a.height;else{i+=a.height;var l=0;this.rowdetails&&a.details&&a.details.rowdetails&&!a.details.rowdetailshidden&&(i+=l=a.details.rowdetailsheight,t+=l)}}return this._pageviews[0]={top:0,height:i},t}})}(jqxBaseFramework),function(p){p.extend(p.jqx._jqxGrid.prototype,{_calculateaggregate:function(e,t,i,s){var r=e.aggregates;if(r||(r=t),r){for(var n=new Array,o=0;o<r.length;o++)"count"!=r[o]&&(n[n.length]=e.cellsformat);if(this.source&&this.source.getAggregatedData){if(null==s&&(s=this.getrows()),this.virtualmode){s=new Array;p.each(this.source._source.records,function(){s.push(this)})}return null==i||1==i?this.source.getAggregatedData([{name:e.datafield,aggregates:r,formatStrings:n}],this.gridlocalization,s):this.source.getAggregatedData([{name:e.datafield,aggregates:r}],this.gridlocalization,s)}}return null},getcolumnaggregateddata:function(e,t,i,s){var r=this.getcolumn(e),n=null!=i&&0!=i&&i;if(null==t)return"";var o=r.aggregates;r.aggregates=null;var a=this._calculateaggregate(r,t,n,s),l={};return a&&(l=a[e]),r.aggregates=o,l},refreshaggregates:function(){this._updatecolumnsaggregates()},renderaggregates:function(){this._updateaggregates()},_updatecolumnaggregates:function(e,t,i){var s=this;if(t)if(i.children().remove(),i.html(""),e.aggregatesrenderer){if(t){n=e.aggregatesrenderer(t[e.datafield],e,i,this.getcolumnaggregateddata(e.datafield,t[e.datafield]));i.html(n)}}else p.each(t,function(){for(r in this){var e=p('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),t=r;t=s._getaggregatename(t),e.html(t+":"+this[r]),s.rtl&&e.addClass(s.toThemeProperty("jqx-rtl")),i.append(e)}});else if(i.children().remove(),i.html(""),e.aggregatesrenderer){var r={};e.aggregates&&(r=this.getcolumnaggregateddata(e.datafield,e.aggregates));var n=e.aggregatesrenderer({},e,i,null);i.html(n)}},_getaggregatetype:function(e){switch(e){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return e}var t=e;for(var i in e){t=i;break}return t},_getaggregatename:function(e){var t=e;switch(e){case"min":t="Min";break;case"max":t="Max";break;case"count":t="Count";break;case"avg":t="Avg";break;case"product":t="Product";break;case"var":t="Var";break;case"stdevp":t="StDevP";break;case"stdev":t="StDev";break;case"varp":t="VarP";case"sum":t="Sum"}if(e===t&&"string"!=typeof t)for(var i in e){t=i;break}return t},_updatecolumnsaggregates:function(){var e=this.getrows(),t=this.columns.records.length;if(null!=this.statusbar[0].cells)for(var i=0;i<t;i++){var s=p(this.statusbar[0].cells[i]),r=this.columns.records[i],n=this._calculateaggregate(r,null,!0,e);this._updatecolumnaggregates(r,n,s)}},_updateaggregates:function(){var e=p('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),t=0,i=this.columns.records.length,s=this.toThemeProperty("jqx-grid-cell");this.rtl&&(s+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),t=-1),s+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var r=i+10,n=new Array;this.statusbar[0].cells=n;for(var o=this.getrows(),a=0;a<i;a++){var l=this.columns.records[a],d=this._calculateaggregate(l,l.aggregates,!0,o),h=l.width;h<l.minwidth&&(h=l.minwidth),h>l.maxwidth&&(h=l.maxwidth);var c=s;l.cellsalign&&(c+=" "+this.toThemeProperty("jqx-"+l.cellsalign+"-align"));var u=p('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+c+'"></div>');e.append(u),u.css("left",t),this.rtl?u.css("z-index",r++):u.css("z-index",r--),u.width(h),u[0].left=t,l.hidden&&l.hideable?u.css("display","none"):t+=h,n[n.length]=u[0],this._updatecolumnaggregates(l,d,u)}p.jqx.browser.msie&&p.jqx.browser.version<8&&e.css("z-index",r--),e.width(parseFloat(t)+2),e.height(this.statusbarheight),this.statusbar.children().remove(),this.statusbar.append(e),this.statusbar.removeClass(this.toThemeProperty("jqx-widget-header")),this.statusbar.addClass(s),this.statusbar.css("border-bottom-color","transparent"),this.statusbar.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll(),this._arrange()}})}(jqxBaseFramework),function(n){n.jqx.jqxWidget("jqxInput","",{}),n.extend(n.jqx._jqxInput.prototype,{defineInstance:function(){var e={disabled:!1,filter:this._filter,sort:this._sort,highlight:this._highlight,dropDownWidth:null,renderer:this._renderer,opened:!1,$popup:document.createElement("ul"),source:[],roundedCorners:!0,searchMode:"default",placeHolder:"",width:null,height:null,value:"",rtl:!1,displayMember:"",valueMember:"",events:["select","open","close","change"],popupZIndex:1e3,items:8,minLength:1,maxLength:null};return this===n.jqx._jqxInput.prototype||n.extend(!0,this,e),e},createInstance:function(){"none"!==this.host.css("display")&&!1!==document.body.contains(this.element)||(this._initiallyHidden=!0),this._popupHelper=n(this.$popup),this.render()},render:function(){var i=this;if("textarea"===this.element.nodeName.toLowerCase())this.element.style.overflow="auto";else if("div"===this.element.nodeName.toLowerCase()){this.baseHost=this.element;var t=i.element.getElementsByTagName("input"),s=!1;if(n.each(t,function(){var e=this.type;if(null==e||"text"===e||"textarea"===e)return t=n(this),!(s=!0)}),!s)throw new Error("jqxInput: Missing Text Input in the Input Group");if(0<t.length){this.baseHost=n(this.element),i.baseElement=i.element;var e=this.host.data();this.host=t,this.element=t[0],this.host.data(e),i.baseElement.className+=" "+i.toThemeProperty("jqx-widget jqx-rc-all jqx-input-group");var r=this.baseHost.children();n.each(r,function(e){var t="jqx-input-group-addon";n(this).removeClass(i.toThemeProperty("jqx-rc-all")),0===e&&(t+=" jqx-rc-l"),e===r.length-1&&(t+=" jqx-rc-r"),this!==i.element&&(t+=" jqx-fill-state-normal"),this.className+=" "+i.toThemeProperty(t)})}}this.addHandlers(),this.rtl&&(i.element.className+=" "+i.toThemeProperty("jqx-rtl")),i.element.setAttribute("role","textbox"),n.jqx.aria(this,"aria-autocomplete","both"),n.jqx.aria(this,"aria-disabled",this.disabled),n.jqx.aria(this,"aria-readonly",!1),n.jqx.aria(this,"aria-multiline",!1),this.source&&this.source.length&&n.jqx.aria(this,"aria-haspopup",!0),""!==this.value&&(this.element.value=this.value),this._oldsource=this.source,this._updateSource()},_updateSource:function(){var s=this,r=function(e){if(void 0===e)return null;if("string"==typeof e||e instanceof String)return{label:e,value:e};if("string"!=typeof e&&e instanceof String==!1){var t="",i="";return""!==s.displayMember&&void 0!==s.displayMember&&e[s.displayMember]&&(t=e[s.displayMember]),""!==s.valueMember&&void 0!==s.valueMember&&(i=e[s.valueMember]),""===t&&(t=e.label),""===i&&(i=e.value),{label:t,value:i}}return e},e=function(e){for(var t=[],i=0;i<e.length;i++)t[i]=r(e[i]);return t};if(this.source&&this.source._source){if(this.adapter=this.source,null!=this.adapter._source.localdata)this.adapter.unbindBindingUpdate(this.element.id),this.adapter.bindBindingUpdate(this.element.id,function(){s.source=e(s.adapter.records)});else{var t={};this.adapter._options.data?n.extend(s.adapter._options.data,t):(this.source._source.data&&n.extend(t,this.source._source.data),this.adapter._options.data=t),this.adapter.unbindDownloadComplete(this.element.id),this.adapter.bindDownloadComplete(this.element.id,function(){s.source=e(s.adapter.records)})}this.source.dataBind()}else n.isFunction(this.source)||(this.source=e(this.source))},_refreshClasses:function(e){var t=e?"addClass":"removeClass",i="jqx-widget-content jqx-input-widget jqx-input jqx-widget",s="jqx-popup jqx-input-popup jqx-menu jqx-menu-vertical jqx-menu-dropdown jqx-widget jqx-widget-content";n.jqx.browser.msie&&(s+=" jqx-noshadow"),this.roundedCorners&&(i+=" jqx-rc-all",s+=" jqx-rc-all"),this.disabled?i+=" jqx-fill-state-disabled":this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host[t](this.toThemeProperty(i)),this._popupHelper[t](this.toThemeProperty(s))},selectAll:function(){var t=this.host;setTimeout(function(){if("selectionStart"in t[0])t[0].focus(),t[0].setSelectionRange(0,t[0].value.length);else{var e=t[0].createTextRange();e.collapse(!0),e.moveEnd("character",t[0].value.length),e.moveStart("character",0),e.select()}},10)},selectLast:function(){var e=this.host;this.selectStart(e[0].value.length)},selectFirst:function(){this.selectStart(0)},selectStart:function(t){var i=this.host;setTimeout(function(){if("selectionStart"in i[0])i[0].focus(),i[0].setSelectionRange(t,t);else{var e=i[0].createTextRange();e.collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select()}},10)},focus:function(){try{var e=this;e.element.focus(),setTimeout(function(){e.element.focus()},25)}catch(e){}},resize:function(e,t){this.width=e,this.height=t,this.refresh()},refresh:function(){if(this._refreshClasses(!1),this._refreshClasses(!0),this.baseHost){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.baseElement.style.width=parseInt(this.width)+"px":null==this.width||isNaN(this.width)||(this.baseElement.style.width=this.width+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.baseElement.style.height=parseInt(this.height)+"px":null==this.height||isNaN(this.height)||(this.baseElement.style.height=this.height+"px");var t=this,i=n.jqx.browser.msie&&n.jqx.browser.version<9,e=0;if(n.each(this.baseHost.children(),function(){this.style.height="100%",this!==t.element&&(e+=n(this).outerWidth())}),t._addonsWidth=e,i){var s=Math.max(0,t.baseElement.offsetHeight-2);t.element.style.width=Math.max(0,t.baseElement.offsetWidth-e-1)+"px",t.element.style.minHeight=s+"px",t.element.style.lineHeight=s+"px"}else t.element.style.width="calc(100% - "+e+"px)";n.jqx.utilities.resize(t.baseHost,function(){if(i&&"string"==typeof t.width&&-1!==t.width.indexOf("%")&&!t._initiallyHidden)t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px";else if(t._initiallyHidden){if(t._addonsWidth=t._getAddonsWidth(),i){t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px";var e=t.baseElement.offsetHeight-2;t.element.style.minHeight=e+"px",t.element.style.lineHeight=e+"px"}else t.element.style.width="calc(100% - "+t._addonsWidth+"px)";t._initiallyHidden=!1}})}else null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=parseInt(this.width)+"px":null==this.width||isNaN(this.width)?this.element.style.width=this.width:this.element.style.width=this.width+"px",null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=parseInt(this.height)+"px":null==this.height||isNaN(this.height)?this.element.style.height=this.height:this.element.style.height=this.height+"px";this.disabled?this.element.setAttribute("disabled",!0):this.element.removeAttribute("disabled"),this.maxLength&&this.element.setAttribute("maxlength",this.maxLength),this.element.getAttribute("placeholder")||this._refreshPlaceHolder()},_refreshPlaceHolder:function(){"placeholder"in this.element&&!(n.jqx.browser.msie&&n.jqx.browser.version<9)?this.element.setAttribute("placeHolder",this.placeHolder):""===this.element.value&&(this.element.value=this.placeHolder)},destroy:function(){this.removeHandlers(),this.baseHost?this.baseHost.remove():this.host.remove(),this.$popup&&this._popupHelper.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2===Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(e,t,i,s){if("width"!==t||s===i)return"placeHolder"===t?("placeholder"in e.element&&!(n.jqx.browser.msie&&n.jqx.browser.version<9)||e.element.value!==i||(e.element.value=""),void e._refreshPlaceHolder()):void(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2===Object.keys(e.batchUpdate).length||("theme"===t&&n.jqx.utilities.setTheme(i,s,e.host),"opened"!==t?("source"===t&&(e._oldsource=s,e._updateSource()),"displayMember"!==t&&"valueMember"!==t||(e.source=e._oldsource,e._updateSource()),"disabled"===t&&n.jqx.aria(e,"aria-disabled",e.disabled),"value"===t&&(e.element.value=s),e.refresh()):s?e.open():e.close()));e.baseHost?(e.baseElement.style.width=e._toPx(s),n.jqx.browser.msie&&n.jqx.browser.version<9&&(e.element.style.width=e.baseElement.offsetWidth-e._addonsWidth-1+"px")):e.element.style.width=e._toPx(s)},select:function(e,t,i){var s=this._find("jqx-fill-state-pressed",this._popupHelper),r=s.getAttribute("data-value"),n=s.getAttribute("data-name");return this.element.value=this.renderer(n,this.element.value),this.selectedItem={label:n,value:r},this.element.setAttribute("data-value",r),this.element.setAttribute("data-label",n),this._raiseEvent("0",{item:{label:n,value:r},label:n,value:r}),this._raiseEvent("3",{type:i,item:{label:n,value:r},label:n,value:r}),this.value=n,this.close()},val:function(e){return 0===arguments.length||null!=e&&"object"==typeof e&&!e.label&&!e.value?""!==this.displayMember&&""!==this.valueMember&&this.selectedItem?""===this.element.value?"":this.selectedItem:this.element.value:(e&&e.label?(this.selectedItem={label:e.label,value:e.value},this.element.setAttribute("data-value",e.value),this.element.setAttribute("data-label",e.label),this.value=e,this.element.value=e.label):(this.value=e,this.element.value=e,this.element.setAttribute("data-value",e),this.element.setAttribute("data-label",e),e&&e.label?this._raiseEvent("3",{type:null,item:{label:e.label,value:e.value},label:e.label,value:e.value}):this._raiseEvent("3",{type:null,item:{label:e,value:e},label:e,value:e})),this.element.value)},_raiseEvent:function(e,t){void 0===t&&(t={owner:null});var i=this.events[e];t.owner=this;var s=new n.Event(i);return s.owner=this,s.args=t,s.preventDefault&&s.preventDefault(),this.host.trigger(s)},_renderer:function(e){return e},open:function(){if(!n.jqx.isHidden(this.host)){var e=n.extend({},this.host.coord(!0),{height:this.element.offsetHeight});if(this.$popup.parentNode!==document.body){var t=this.element.id+"_popup";this.$popup.id=t,n.jqx.aria(this,"aria-owns",t),document.body.appendChild(this.$popup)}this.$popup.style.position="absolute",this.$popup.style.zIndex=this.popupZIndex,this.$popup.style.top=this._toPx(e.top+e.height),this.$popup.style.left=this._toPx(e.left),this.$popup.style.display="block";var i=0,s=this._popupHelper.children();return n.each(s,function(){i+=n(this).outerHeight()+1}),this.$popup.style.height=this._toPx(i),this.opened=!0,this._raiseEvent("1",{popup:this.$popup}),n.jqx.aria(this,"aria-expanded",!0),this}},close:function(){return this.$popup.style.display="none",this.opened=!1,this._raiseEvent("2",{popup:this.$popup}),n.jqx.aria(this,"aria-expanded",!1),this},suggest:function(){var e;return this.query=this.element.value,!this.query||this.query.length<this.minLength?this.opened?this.close():this:(e=n.isFunction(this.source)?this.source(this.query,n.proxy(this.load,this)):this.source)?this.load(e):this},load:function(e){for(var t=[],i=0;i<e.length;i++){var s=e[i];this.filter(s)&&t.push(s)}return(t=this.sort(t)).length?this._render(t.slice(0,this.items)).open():this.opened?this.close():this},_filter:function(e){var t=this.query,i=e;switch(null!=e.label?i=e.label:this.displayMember&&(i=e[this.displayMember]),this.searchMode){case"none":break;default:return n.jqx.string.containsIgnoreCase(i,t);case"contains":return n.jqx.string.contains(i,t);case"equals":return n.jqx.string.equals(i,t);case"equalsignorecase":return n.jqx.string.equalsIgnoreCase(i,t);case"startswith":return n.jqx.string.startsWith(i,t);case"startswithignorecase":return n.jqx.string.startsWithIgnoreCase(i,t);case"endswith":return n.jqx.string.endsWith(i,t);case"endswithignorecase":return n.jqx.string.endsWithIgnoreCase(i,t)}},_sort:function(e){for(var t=[],i=[],s=[],r=0;r<e.length;r++){var n=e[r],o=n;n.label?o=n.label:this.displayMember&&(o=n[this.displayMember]),0===o.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())?t.push(n):0<=o.toString().indexOf(this.query)?i.push(n):0<=o.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())&&s.push(n)}return t.concat(i,s)},_highlight:function(e){var t=this.query;t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var i=new RegExp("("+t+")","ig");return e.replace(i,function(e,t){return"<b>"+t+"</b>"})},_render:function(e){var l=this,t=l._popupHelper.children();if(0<t.length)for(var i=0;i<t.length;i++)n(t[i]).remove();var s=function(e,t){var i,s,r=e,n=document.createElement("li"),o=document.createElement("a");o.setAttribute("href","#"),n.appendChild(o),void 0!==e.value&&null!==e.value?(i=void 0!==e.label&&null!==e.label?e.label:e.value,s=e.value):void 0!==e.label&&null!==e.label?(i=e.label,s=e.label):void 0!==l.displayMember&&""!==l.displayMember?(i=e[l.displayMember],s=e[l.valueMember]):s=i=e,n.setAttribute("data-value",s),n.setAttribute("data-name",i),e.label?r=e.label:l.displayMember&&(r=e[l.displayMember]),o.innerHTML=l.highlight(r);var a="";l.rtl&&(a=" jqx-rtl"),0===t&&(a+=" jqx-fill-state-pressed"),n.className=l.toThemeProperty("jqx-item jqx-menu-item jqx-rc-all"+a),l.$popup.appendChild(n),l.addHandler(n,"mouseenter",function(e){l.mouseenter(e)})};return function(e){for(var t=0;t<e.length;t++)s(e[t],t)}(e),this.dropDownWidth?this.$popup.style.width=l._toPx(l.dropDownWidth):this.$popup.style.width=l._toPx(l.element.offsetWidth-6),this},next:function(){var e=this._find("jqx-fill-state-pressed",this._popupHelper),t=e.nextSibling;n(e).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),t||(t=this.$popup.firstChild),t.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},prev:function(){var e=this._find("jqx-fill-state-pressed",this._popupHelper),t=e.previousSibling;n(e).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),t||(t=this.$popup.lastChild),t.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},addHandlers:function(){var r=this,e=".jqxInput"+r.element.id;r.addHandler(r.host,"focus"+e,function(){r.onFocus()}),r.addHandler(r.host,"blur"+e,function(){r.onBlur()}),r.addHandler(r.host,"change"+e,function(e){if(!e.args){e.stopPropagation(),e.preventDefault();var t,i,s=r.val();s&&s.label?(t=s.label,i=s.val):i=t=s,r._raiseEvent("3",{type:"keyboard",item:{label:t,value:i},label:t,value:i}),r.value=t}}),r.addHandler(r.host,"keypress"+e,function(e){r.keypress(e)}),r.addHandler(r.host,"keyup"+e,function(e){r.keyup(e)}),r.addHandler(r.host,"keydown"+e,function(e){r.keydown(e)}),r.addHandler(r.$popup,"mousedown"+e,function(e){r.click(e)})},removeHandlers:function(){var e=this,t=".jqxInput"+e.element.id;e.removeHandler(e.host,"change"+t),e.removeHandler(e.host,"focus"+t),e.removeHandler(e.host,"blur"+t),e.removeHandler(e.host,"keypress"+t),e.removeHandler(e.host,"keyup"+t),e.removeHandler(e.host,"keydown"+t),e.removeHandler(e.$popup,"mousedown"+t)},move:function(e){if(this.opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.shiftKey||(e.preventDefault(),this.prev());break;case 40:e.shiftKey||(e.preventDefault(),this.next())}e.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=-1!==[40,38,9,13,27].indexOf(e.keyCode),this.move(e)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.opened)return;this.select(e,this,"keyboard");break;case 27:if(!this.opened)return;this.close();break;default:var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.suggest()},300)}e.stopPropagation(),e.preventDefault()},clear:function(){this.val("")},onBlur:function(){var e=this;setTimeout(function(){e.close()},150),e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus")),"placeholder"in e.element&&!(n.jqx.browser.msie&&n.jqx.browser.version<9)||""!==e.element.value&&e.element.value!==e.placeHolder||(e.element.value=e.placeHolder)},onFocus:function(){this.element.className+=" "+this.toThemeProperty("jqx-fill-state-focus"),"placeholder"in this.element&&!(n.jqx.browser.msie&&n.jqx.browser.version<9)||this.element.value!==this.placeHolder||(this.element.value="")},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(e,this,"mouse")},mouseenter:function(e){n(this._find("jqx-fill-state-pressed",this._popupHelper)).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),e.currentTarget.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},_toPx:function(e){return"number"==typeof e?e+"px":e},_find:function(e,t){for(var i=t.children(),s=0;s<i.length;s++){var r=i[s];if(-1!==r.className.indexOf(e))return r}},_getAddonsWidth:function(){for(var e=this.baseHost.children(),t=0,i=0;i<e.length;i++)e[i]!==this.element&&(t+=n(e[i]).outerWidth());return t}})}(jqxBaseFramework),function(g){g.jqx.jqxWidget("jqxKanban","",{}),g.extend(g.jqx._jqxKanban.prototype,{defineInstance:function(){var e={animationDelay:100,columnRenderer:null,columns:null,connectWith:null,headerWidth:30,headerHeight:30,height:400,handle:null,itemRenderer:null,ready:null,resources:null,rtl:!1,source:null,template:"<div class='jqx-kanban-item' id=''><div class='jqx-kanban-item-color-status'></div><div class='jqx-kanban-item-avatar'></div><div class='jqx-kanban-item-text'></div><div class='jqx-kanban-item-footer'></div></div>",templateContent:{id:0,status:"work",text:"New text",content:"New content",tags:"New, tags",color:"green",resourceId:0,className:""},width:600,verticalTextOrientation:"topToBottom",_kanbanId:null,_dropKanbanId:null,_connectWith:null,_kanbanColumns:null,_selectedItemId:null,_selectedItemValues:null,_draggedItemId:null,_draggedItemValues:null,_selectedColumn:null,_source:null,_resourcesLength:null,_items:[],_ie8:g.jqx.browser.msie&&8==g.jqx.browser.version,_ie7:g.jqx.browser.msie&&g.jqx.browser.version<8,_parentsTag:null,_columns:[],_collapsedColumns:0,_expandedColumns:null,_columnBorders:[1,1,1,1],_css_color_names:["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","Darkorange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],_clearing:"<div class='jqx-kanban-clearing'></div>",_commonItem:{id:null,name:"no name",image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURZSUlJWVlZaWlpeXl5iYmJmZmZubm5ycnJ2dnZ6enp+fn6CgoKGhoaKioqOjo6SkpKWlpaampqenp6ioqKmpqaqqqqurq6ysrK2tra6urq+vr7CwsLGxsbKysrOzs7S0tLW1tba2tre3t7i4uLm5ubq6uru7u7y8vL29vb+/v8DAwMHBwcLCwsPDw8TExMXFxcbGxsfHx8jIyMnJycrKysvLy8zMzM3Nzc7Ozs/Pz9DQ0NHR0dLS0tPT09TU1NXV1dbW1tfX19jY2NnZ2dra2tvb29zc3N3d3d7e3uDg4OHh4eLi4uPj4+Tk5OXl5ebm5ufn5+jo6Onp6erq6uvr6+zs7O3t7e7u7u/v7/Dw8PHx8fLy8vPz8/T09PX19fb29vf39/j4+Pn5+fr6+vv7+/z8/P39/f///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACvUOQQAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNvyMY98AABbSSURBVHherVsHQ9tIE+XO2NimF9N7KAklhN6SkARS6IRqwGBblsn//wffe29Wsh1M4L67t9JqJa/mzcyuGjPU/HoOD8VikWvBf3goPjz88h6KaGHBns8jWIAC+6Djwy8cKWDVYdROzFN4VoGHX6Goou9THEiKRb/gefl8LpfL5nJ5wPO8gu+THuRAAf0Ek/I0nlPASTEvQA3foxp+/j7z4/uryXhdJBL/O9Y7NvPlayabL1gv6FFgL3fun/ECBegAktPxHjTxvfzJfFcsEklEk3/V1UaidbFoNBaNdy4e5TyQFwvUgSMmOEFP4QVDIC/8gmex+L6XvVptjcYT8URdtLY2Fk0kY7V1ddF4XTISaWidvcxDBSyeKf3vh4BTinI0sQoFL3v0irTxZF0ykUhgE48kkpFEYzQWT2InmRw8y3uYDBqv/0IB2GHCfEyronc4HI/X1ycbkrAaCiTjiWR9MpHEUl9fF4MKiYbY6Ak0kNK8Iv79EACmgV+4mydVUpyNdfVJq7TfUJ+ob0jWNzYkmpOJdxnOhZe54EWTsFjEtpD/0d6UbKivr29oaMBar6ZqHWpobKhvbGzEtrG+70uOGnBGOjlP4lkF8rjt4LIqFLJTTU3JDogXmpqaWKOw1gbHUDU3NjfXJ7teZ3VB/AdzgMOJCeinO5ubm5uSEC80NUMFoLmlGQsrAa2m5ra2pobmvhsPV+1/Mwlx4/Ev+9oaG1NNrY3iaW1tBZkjNegQNm0tLW1trW3tjf3pAhT490NQ9DH+3m1/S3tbcyuMA1GINsA10W5Fu72tvaOjDaq0drX13PCu7OQ8iWcVKBR/+d5NT3tbR3t7a6q9pb0dFGi3ocYmgPa439aR6kh1ptqbO7p6b3FPdHKexLMKAN7NUHtXZ2tHV0dXW1cHCIAUoGYq1WlgAwfZ7OruTHX3tHeOXnv/TgGy4zmcfd3ek+rshWDI78IGS5e2bseOiFrAtrsr1d2bms1Kg2Akqg1IFQXQDR1Jzgup6N8vdPa19kFkd7fJ7+7pwQ4qrKgq0dvTo6W7p7ert2f2vmBmsOINzXGUUFUBquBOwLNvt6e/fQhUBpJWolelr9eKVURfd3/X6DdP7wf/WAGBV6BfyIz3dPf3dzuhWPr6y8oj9OsYfuof6O3v6568xqsSZZlR9G0lHisgZj79UeMlJ7/eNzgAof0D/QMDA/2PgIPlCPcHuQ73DX7Am5IEOjiWEI8UYB/effmCVfSK3uXAcB/kDEHgIIUSEv4bhhysOTg4PDg8NDQyPDR2AXY9muAFSHc0IaoqgNsv3Y8B8PML/cMDgyMDFDoEkUODwy/DyPDw6PDQyMjwEsaAxjg3OJoQ1eYAX0PdHbhwChkD46OwBxgdhcCRCoz+XoBXXInR4dGRV69OYQrZ5YAXKUB20mMK5LfHXg2NjA+PjjmhJvnPGBvDMjrO1sTY+OSWx7dJWk84khBVFLAJAx1wD8y9GpNEiiTGx8afx8TE+IQ1uI5NZPG2/NQIVFHA2OWFh8IJiSWMMLGVmKjE5OSka3BhNTlxjFd5J9BxlKHaJDQFOAbemokIxGrvCbxWUQtgrZ3Jqcn3VEAavOQ+4MyHAije9JSEBSjbIYvhTUWxA4YprK+nX7/FW9XLFbCOTodrKUAxwhQlPgP0mSKmCTbeTM1e6z1dCjzC7wqIHSsc8eAX9mcljJAw1CrTM08VABtt1ZqZfTMzu89vNpr0vAJmvl4nMQTethOJGvbMzsxgwVq1PIF3+OWLJ6tkmCMK8UgBeZ89cRv0PpXLrc7xtgp4dA5Ac25udn72k2YhhT6jADuYAtzCA0vlDJVklO5ArhDvKjA3Nz//7t1KXp9KlPvoJbWKAqSnvlBgYW72N4kh5p/CAgt+1nZ+YWFhfn6RX6xOsqMK8UgBMsMLbPieJFUHJAuLlWWxrK0CLC2UPPAyBZwPfO/dMmUslaQuLi0tVpTHWLbiOrDH2pJ9rUquowrxeAgcpMA8TjeSkMzJd2XlEZYd3C4PrGEOmE+fUcCYHaTACgiXVyqKbVZWXXkEHlxbDcva+trKyga+E82pEOzIAjxSQJ1s63tbK6slWVZss762LuHrADeVZX1jfcO11zbX11c/u691k+3YHKoqoBUPI+8bRBkJwC2bku/KJrFBqFUV7zd2TQFnnGNzKFOAP5YU0F9kvm+8d1Kq4f1T+PABq2u+f7/5cV/PY8nFxtE5PKGAKt+/oIxNFYhiCfYCfCjHR8A1Q3z88HHrouDuhNTixQrgxdTPQaYTFAISWUJslZVPW8CnCuDA53s+2v+BAuwmnxW97VAcRROfysunz4/gun9yjS+fP2/t4O3e5P5DBfBdekiRKp+/qLg9dwz4UgXbXLdRo9re/nxUKPIvyf9EAfoLc+DBvwGpQbIAii8rPBKUnW0WVWHhknYKQDgZHJ3DIwUAU4DfJUXvGyRWYucP+IqiqlR2vu7m+IdbKSA4OodqCtANcD/eyh8KxxCx89UqbSrAY1+/VRRWxPfvbGPz/di+C9wA/EGBcg3MY7gVeDu7Oz92vv6QVAilREEsxPey8gPHUX4Qu1i+f9v7tntvf7eWQIh1ZAGeUsCh6J/u/IBAMGol0HIFJLsBsFMV30/dHwzh1H+qAHUuZkGy95R0w164DVoAdrAc/jjI0QFYnAKOK8QfPYBTioX0t30JlPg9bIS9vX2Vx3DH9ncP9nf3D/Yv8Z0vQf9UAZrPyveOacze/sEBxO1rrcQB4JrA4cEhDxxgc3iwd4ABwAhoCkqB30fgGQW4LWT3Dg/3Dg4ByTUccT1i/Rh2+Pjw6OTgOIOXaz5Z+X0qkY4rxDOTECj4V8cQeQwcoYGFYPv4+OTkREfVdgUHsMffjo9Prz1ezu597P9UAB9IJ4dnhySjdG6Inz9PqhUc/3l6eopfj36eHl5gAHA/1Ri8QIHqGuDE/MXPsxPIlewQP1VOzyoKcHaGxjlbab4Nk5mjr/r/UgD35FzaRJ5DtlGUcF5ZABw7v7g4O7/Wq6AtpgC2jirEswrYifmrSwiG3LOLcxTC6hAgDloXF5eXWDH+YtZioh7Rv0AB3kJ4MaahwmUVXFWWK/S7Ai4ubmB/QdTGL20cURme9wBWKpG/T19epdNpMARFSF9XFBy/xpq+us3zA9tJsEVwVCGenwN2Kp6O95B8fXN9nb5BHRSgbBfQ5jqTUfhU5/Nk1wAcVYgXTEJTAHek3H2GFDc3t4C1rP0bMnc5D+NvHyN0vUQ4JRxViMcKWHe3UU0JOuZ7mdu735DJuAaB9j2WHMzXS6VC/oEMSnhGAUIqoyNrO5dt90LjF7z7u/v7bNbWEFnsAmzCev1Z0E4OHKBKcDQhqihAZ9lZ7my3Z7uelyORCImcIR+0vNLFr1O1DS1wJGV4pMAv/WXZEP5xC1LQ5G0VXvA9L5/Lo0Ih2GQKA7YFzyMNTxWfzsZp2nGzwNEEeKQAGQINeKJr0qRQEEaiAIgerNoDuW+PfhrNru4UnQtainqBApSv09gXF5I7n7tqqY0GtPSpBGAtOwvXHjZODTvFJD3wD3DWqEQ1BSBEJ0uMhAQnB4pQCWyphX7W72y539VyW51px6mG4wlRZQjcuTzJ9HH7rFHxO48m8hf9oJ7sg0WDpGNC2BDUdjQhqiig00ys5HKY7ZDA4XEPePWlVAIN6wCoj41kIDSA9svwaAicQH6XkQVfJ5kPt1m1ZXdoI0fKepJMB90uUWCez3tdNcEvJH+BAvQ7hfMvFLrqb2ORpvnzPGZ6mSiRYIcBcu48wEk6zvcfTg0vd77wOp2TiuoQwPGEqOIBE42HGb7MsteRWCReWxefPc4w/gboZ5+DwqmvncAVhQKVx3Hv7mguVlvXeKw/j/maSzYOjqaExwrQhRxkDH3uriYajUf+jkUisWjr7HE2n+dFpx4aAH5zQg3coiUd7PB8Pns81xKJRCPxRO18Fq5hFgQmg3VxPCGqTUKzMnN5E4kk/o7ESF8XrY3WRlqmdzOWtEUVlatEbeAO44bp+czuTHMkGmemUSxaVzd8gy8jGx6T7WhCVFMAKhfxCtRTlwQ9mOsSNbHa2ggGIhqJ9s9sX9zhvq9boO6GVuP2fHe6/XYkFovXJ2LxeCKSrE8k6+PxH9m8/+DZJKB0xxOgqgIwLH/2Ohb5K1obgwNq/05gHOLxv/6CDnUxNDvHpnc+795kbvF0zmQy14c729PjPY0gZ1ZPrK6hsS7RHE/U1yeTTYkZvJyR3c1ExxOgxu5NFVME/s9dDCfgfHgeczAK+zkEcGwkCrdGY3GscHEdM5fizKiKJ0nNrCaY3diYTDY0JBsakw3NjcnWZPc3TB13rYqFK00lWQ3t1UH9rrVY8A5fJepitVEBTqhziAvgI6tymgz1sFX5RJZR1MAsnybm2qBqaGlrXsnaF4r9uQ4M/EZV9VAjckBewk/M18sfjiaT8TiYwW2kpAUnrCQcLUiZycS0JuMFcZDhA/qWltaW1lRLR1N7U9ctnpW8i+lVnQowQGweAKCBTKcSuPxzOwPNyQaqANCxJVOFEiXTlwCwKZWHGUVM5cFiiTVtbe3NqbauVHtvyxbuprixkY4kwZA/1EAbkEMbbHllw/6dwfpkSxM0IJQsliRh4GD5l5aanTLVUZJTSTUCk1062npT7V2pVFfn4p2H26YuYHO66QAPuMkhRXBd574OtrQ3NjZDAxK6UZV7yUda8ZI1IBYt6QJil1vDdJb2/s5UP3a7R/bg/zxpjAqDANYapwht5zzwM9u9za1NHXBjo0iZLyZOy9kSZwuTltrarRgl03pIya3LqmG6C7NaUr297b39fT29vUt8W4cHoABVcAoYOCkxTQrXWz1t3alUawoqmJnK0FKmltE6yEzHSi6QdncpzYaslt2ihJa+np7+oYGege6Rvv6RSyV0BBoAUsCaROFqa6i3o7Mr1dWR6mgjL1O1zEzn3hR5O62InLRBMo/xWkaN0D8w2M/Mk4GhgeGhoeGRoa/ZIIhpjM4DOoD5d74x0NMNaXRhpwhhqYzVqMpOS1iStWWkzLAJsmost2WQpZRboqyO0dHRd3d8inEkRGoK8PaA6Vm4WR0c7IPLaFBPV6cZG8JIy33c4yxVOg1I+2muslxAPExOB8vsAEZHxxdwo9FjVD4o4jI0D+D5e7421NsHh8mMvh7aSzrnYBE6WA8jpqVDMDQw1hG7FBNjtjQMpV+8erXL70ZRstJ9AMCr1znsH++H8nQfzAmTpoyRqxiJ0FDZ6mCcI5VpJuCdYE4Hkx+Y/jA+NYOnIx1gs6DGmrj/369MDI2OjA5zssAiZi9VmCq6gLfkXuN0Hg6g1I5SfofLeVCKxZvJN2f801mgAYdAE8Lbn4B7JGpkFDKhBGevkpbETd9aIdivRDr2apykgCWc0F5HKij9wXIbZqam19yrImjpAb4uYVDySxOTo2OTTFmB2yB7ZNhGVXwAc4bKs3iYWCM2g5kq2rI0jzevlfdg+RTKa5iam569LuANRTAFOAreLU57MzHGkRqfYMbO6EjAG1gKShWa6fJ0SGpctkGDiSS0NczkmJmZZqJBkH4wMzO7yRuy6HUV4LrEQ/jL9OS0k8GUmcmJMVwzXJytobUkDXkJ+ZeWGiUhVuZegE2wPAPV7+ZmF6703MWHOK4CPn+gwP3y5GsMz9RriIE4yJWNmMIl0sDB+NVImbIS2howlidavH0rauY1qMzPzy+9fbe08EHviLj760bETeFkdmpmdnp2xjJfIPYNrhixGqiSIy1LlTFbmVgS0BqjwRIq5lmClIPFxeXFhaV3eDTzdQRK+LwK4IH8NhyE8yWM04XOECUqx1kCWN2UErHjI+bmAtoAYmUCglIJgNWlhaW1Hwzm8oUIHuBl6N+szs1zkObmNVC0ZWa6RCo6o+RPhPGpdrY6RsA4DSJl0N8lFSyvrqxtrC5nefHxpcSeht7RMrM1FuagAMZKQjkczATCuDhOkpZ8PIfpxFE1DzNVQ0kWSpsALdMbQEzS1ZVVlwWwpjj8xubq2h6zDMFtb0RFbwf9ca7ljEAktXCsNpVIy6kkBWWtIw5JXXIFF0fLmL/LNgB1GOF/v7b5/uPGHR5+tL2Gr6p+7sPq0vLi8tLCCkQt0YSFBRsM8VaOajCsQVoHKeVhJVDATNLJ1PW1UmYBQ+2bjOlvfvwA/q1T3IwwB3EfgBaF0+V1eImughQaAiwwV6dEKweTUKSECFWB11gtaYKpDUZLVsKF3V3MfesTI9+KZ/t4Lce3q/d1A7oyN0Ies8yQpcUF0MLH5pSAldbqdzlZw2ooS6MwUhaF/0XKwLui3YYvXy7wSY0LAQoU/ZuNDxtKTYAMJ251bWW5ZKu5lw7mbJKhASpMtSSHUnaBaMMg/5fPDHF/UfR5e+c7vhh9fZh4/sF7dJaboAQBPTbWmTETYLXE6CgBx7opD0OAkdLDInXMQejdMRsYh77iU5AK4BpAZypLJSDB0j82NaxlxBWsNq7GCJRMNfLPLtwPLkerwDdD3Yo3M/aMzwReBZgKV9vUgOdRDvTYomgNyKbMDShJKlcFrDzr0xaTGZTeYLkFNLUiyB+G01kz5KxA8N6Pa94IoIB/CDWVbrC9LRM+y5iPdK7Rvi8ljdBSOjaAS3BQ9kIFFMZnmN0RB7ykdiHgY34p4n3A22N/O83UwIBBNvxgxPRKkDDySYkcMJSdpHY5lEIQ8AJlQW8XdFZceY8x3r29g1vdiPz0992vSgzAxFCmghyiUSFhANCKtIzW+mNkQesYLcIfhvVlKWpGmMm6v6/YroV2j08xDWuKhTN0wYlYJeXbN5O6Y+kijpae4eGAEtzOs0ZclklgZsLRiq8HYNQ5iPoqtHt8dHKa42v5/cG+xf3NR7u7MIJq2Pwtt9XSM4zQchoeuZju3WOYHUUISAMounvK+C4255e+X+Nf7R26mLwUdwABbQWxsxQ6ycMsro/4oLeNqVDG6cCAtiLK4FR9dspoK5aLs4vTgl/jnaLTgUZFCQKBEnu7JKUrUJWRUkvB3CszAZ7vKAHZarQw2WLMYcyX0V2GWdPnl5c3fk3u9PT4VLF2nEgxTBOAZOgBUvI6biMNjWWCAsHIPikZwHcQJRCEuh2ti+xeWMT1Ip2+vLq59GtuzxmVPkF3nAjFIeiIUg/24Ql6w1I1xElLSSsrCWUMkFKxewbXFd0W45mFmY3XSBlovUpfX6cJBj1vr72aNPr8vDzheZIAWcoTOD4Eq8vaIEQo/UqDKm7wkTE0lS6+vGARr+LJCvUCDLReX9/cMOyZubm7Td/f11xdoRf6alw0PSwL4PRY7t2nLoRjJq+NqWjZ2zhRXRix2Zq+Ilf6RqSkVKzVAqsMcLJiDLKGsWbogIWuohoSC1fQ4hNcrY7WnPzbfDqDlYGDL+XeAOZmchpvJpNhXBNQ5DOrWGcu79Wwz42C0NQk8AcHD4RkMkKXm+CmkhHKUNR0ryglBaBEEBJgIxNjq2zd3+f479L5vAduNDy/JpOhcgxG394y7i3NKRZzE56gr0ktWlZUUi4jQGlmilN2olIYWZDFBDkJRVj5D9v5HEOwOa9YI5dgRXenCAAVrkGHgTQiMGKVarSQtWP8jc/ixwzjOsKQ2OKssNyAX7I45j/U0D82JjifUgJ/UAPzsjTAXJFu4kRN9zqQ07ZGf5/lf6T/BlIQbpcHMAB4HMMpaOeDDk7W3R1pMDWclSIUSGGdUHNMaY3+Dd7BTKaFFFsBdLQGfvJkPxRQ30ACXWe/Z+8ZHlJctjrsC/9P4HePPnsE2yvtU8TDw0Pxf9HojR+SZp5gAAAAAElFTkSuQmCC"},_events:["initialized","itemSelected","itemCreated","itemMoved","itemReceived","columnSelected","columnUnselected","columnCollapsed","columnExpanded","itemAttrClicked","columnAttrClicked"]};return this===g.jqx._jqxKanban.prototype||g.extend(!0,this,e),e},createInstance:function(){g("#"+this.element.id).empty(),this._createKanban()},_createKanban:function(){var e=this;e._ie8Plugin(),e._kanbanId=e.element.id;e._serializeSource(function(){e._getParent(),e._createKanbanField(),e._createKanbanLayout(),e._addCSS();e._populateKanban(function(){e._setKanbanConnections(),e._transformToSortable(),e._addEventHandlers(),e._rtlCheck(),e._refreshEventHandlers(),e._recalculateContainersHeight(),e._handlerExpandCollapse(),e._raiseEvent("0"),e._ready()})})},propertyChangedHandler:function(e,t,i,s){if("width"===t)return e.host.width(s-4),that._recalculateContainersHeight(),void that._calculateExpandedColumnsWidth();"height"!==t?(g("#"+e.element.id).empty(),e._createKanban()):e.host.height(s)},_getParent:function(){this._parentsTag=this.host.parent().get(0).tagName.toLowerCase()},_createKanbanField:function(){var e=this,t=e.columns.length;if(null==e.width&&null==e.height)"body"==e._parentsTag?(e.width=g(window).innerWidth(),e.height=g(window).innerHeight(),(e._ie7||e._ie8)&&e.host.height(e.height),e.host.addClass(this.toThemeProperty("jqx-kanban-full-frame"))):(e.width=e.host.parent().width(),e.height=e.host.parent().height(),e.host.addClass(this.toThemeProperty("jqx-kanban-in-frame")));else if(null!=e.width&&null==e.height){if(e.width<=e.headerWidth*t)throw new Error("jqxKanban: Insert valid Kanban dimensions. Width must be greather than sum of the collapsed header's width");e.host.width(e.width)}else if(null!=e.heigth&&null==e.width){if(e.height<=e.headerHeight)throw new Error("jqxKanban: Insert valid Kanban dimensions. Height must be greather than headerHeight");e.host.heigth(e.heigth)}else{if(e.width<=e.headerWidth*t)throw new Error("jqxKanban: Insert valid Kanban dimensions. Width must be greather than sum of the collapsed header's width");if(e.height<=e.headerHeight)throw new Error("jqxKanban: Insert valid Kanban dimensions. Height must be greather than headerHeight");e.host.width(e.width),e.host.height(e.height)}e.host.addClass(this.toThemeProperty("jqx-widget"))},_createKanbanLayout:function(){var e=this,t=e.columns.length;e._expandedColumns=t;for(var i=e._calculateColumnDimensions(t),s=e._calculateContainerDimensions(t),r=0;r<t;r++){var n=g("<div id='"+e._kanbanId+"-column-"+r+"' class='jqx-kanban-column' data-column-data-field='"+e.columns[r].dataField+"' style='width:"+i[0]+"; height:"+i[1]+";'></div>");void 0===e.columns[r].maxItems&&(e.columns[r].maxItems=9999),e._columns.push(n),e.host.append(n);var o="jqx-kanban-column-vertical-container",a=e.columns[r].collapseDirection;a||(a="left"),"right"==a&&(o="jqx-kanban-column-vertical-container-inverse");var l=e.columns[r].iconClassName?e.toThemeProperty(e.columns[r].iconClassName):"",d=l?"<div class='"+e.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-custom-button")+"'><div style='width: 100%; height: 100%;' class='"+l+"'></div></div>":"",h=l?"<div class='"+e.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-custom-button")+"'><div style='width: 100%; height: 100%;' class='"+l+"'></div></div>":"",c=g("<div id='"+e._kanbanId+"-column-header-collapsed-"+r+"' data-kanban-column-header-collapsed='"+r+"' class='"+e.toThemeProperty("jqx-kanban-column-header-collapsed")+"'><div class='"+o+"'><span class='"+e.toThemeProperty("jqx-kanban-column-header-title")+"'>"+e.columns[r].text+"</span><span class='"+e.toThemeProperty("jqx-kanban-column-header-status")+"'></span></div>"+d+"<div class='"+e.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-button")+"'><div style='width: 100%; height: 100%;' class='"+e.toThemeProperty("jqx-window-collapse-button "+("right"==a?"jqx-icon-arrow-left":"jqx-icon-arrow-right"))+"'></div></div></div>");n.append(c);var u=g("<div id='"+e._kanbanId+"-column-header-"+r+"' data-kanban-column-header='"+r+"' class='"+e.toThemeProperty("jqx-kanban-column-header")+"'><span class='"+e.toThemeProperty("jqx-kanban-column-header-title")+"'>"+e.columns[r].text+"</span><span class='"+e.toThemeProperty("jqx-kanban-column-header-status")+"'></span>"+h+"<div class='"+e.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-button")+"'><div style='width: 100%; height: 100%;' class='"+e.toThemeProperty("jqx-window-collapse-button "+("right"==a?"jqx-icon-arrow-right":"jqx-icon-arrow-left"))+"'></div></div></div>");e.rtl&&(u.find(".jqx-kanban-column-header-button").addClass("jqx-kanban-column-header-button-rtl"),u.find(".jqx-kanban-column-header-custom-button").addClass("jqx-kanban-column-header-custom-button-rtl")),u.outerHeight(e.headerHeight),u.css("line-height",e.headerHeight+"px"),n.append(u);var p=g("<div id='"+e._kanbanId+"-column-container-"+r+"' data-kanban-column-container='"+e.columns[r].dataField+"' class='jqx-kanban-column-container' style='height:"+s[1]+"; overflow-y: auto;'></div>");if(n.append(p),n.data("kanban-column-collapsed",!1),e.columns[r].headerElement=u,e.columns[r].collapsedHeaderElement=c,e.columnRenderer&&e.columnRenderer(u,c,e.columns[r]),"left"==a){var m=u.find(".jqx-kanban-column-header-title").width();m+=u.find(".jqx-kanban-column-header-status").width(),m-=10,n.find(".jqx-kanban-column-header-title").css("left",-m+"px"),n.find(".jqx-kanban-column-header-status").css("left",-m+"px")}!1===e.columns[r].collapsible&&n.find(".jqx-kanban-column-header-button").hide()}1==t&&e.host.find(".jqx-kanban-column-header-button").hide()},_calculateColumnDimensions:function(e){var t=[],i=100/e,s=100,r=100;return 0==this.host.height()&&this.host.height(400),0==this.host.width()&&this.host.width(600),this._ie7?(i=this.host.width()/e-(this._columnBorders[1]+this._columnBorders[3]),r=(s=this.host.height()-(this._columnBorders[0]+this._columnBorders[2]))-this.headerHeight,i+="px",s+="px"):(r=this.host.height()-g("#"+this._kanbanId+" div.jqx-kanban-column-header").outerHeight(),i+="%",s+="%"),r+="px",t.push(i),t.push(s),t.push(r),t},_calculateContainerDimensions:function(e){var t=[],i=100,s=100;return this._ie7?(i=this.host.width()/e-20,s=this.host.height()-this.headerHeight,i+="px"):(s=this.host.height()-this.headerHeight,i+="%"),s+="px",t.push(i),t.push(s),t},_recalculateContainersHeight:function(){for(var e=document.getElementById(this._kanbanId+"-column-header-0"),t=0,i=0;i<this.columns.length;i++)if(!this.columns[i].collapsed){t=i,e=this.columns[i].headerElement[0];break}var s=parseInt(getComputedStyle(e).getPropertyValue("margin-top")),r=parseInt(getComputedStyle(e).getPropertyValue("margin-Bottom")),n=document.getElementById(this._kanbanId+"-column-container-"+t),o=parseInt(getComputedStyle(n).getPropertyValue("margin-top")),a=parseInt(getComputedStyle(n).getPropertyValue("margin-Bottom")),l=e.offsetHeight+s+r,d=o+a,h=this.host.height()-l-d;g("#"+this._kanbanId+" div.jqx-kanban-column-container").outerHeight(h)},_addCSS:function(){var e=this;if(g(e.host).addClass(e.toThemeProperty("jqx-kanban")),g("#"+e._kanbanId+" div.jqx-kanban-column").addClass(e.toThemeProperty("jqx-widget-content")),g("#"+e._kanbanId+" div.jqx-kanban-column-header").addClass(e.toThemeProperty("jqx-widget-header")),g("#"+e._kanbanId+" div.jqx-kanban-column-header-collapsed").addClass(e.toThemeProperty("jqx-widget-header")),g("#"+e._kanbanId+" div.jqx-kanban-column-container").addClass(e.toThemeProperty("jqx-widget-content")),e._ie8||e._ie7?g("#"+e._kanbanId+"-column-0").addClass(e.toThemeProperty("jqx-kanban-column-first")):(e._columnBorders[0]=g("#"+e._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-top-width").slice(0,-2),e._columnBorders[1]=g("#"+e._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-right-width").slice(0,-2),e._columnBorders[2]=g("#"+e._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-bottom-width").slice(0,-2),e._columnBorders[3]=g("#"+e._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-top-width").slice(0,-2)),"bottomToTop"==e.verticalTextOrientation){var t=g("#"+e._kanbanId).find(".jqx-kanban-column-vertical-container");t.removeClass("jqx-kanban-column-vertical-container"),t.addClass("jqx-kanban-column-vertical-container-inverse")}},_rtlCheck:function(){1==this.rtl&&(g(this.host).addClass(this.toThemeProperty("jqx-kanban-rtl")),g("#"+this._kanbanId+" div.jqx-kanban-column-container").addClass(this.toThemeProperty("jqx-kanban-rtl")),g("#"+this._kanbanId+" div.jqx-kanban-item-keyword").addClass(this.toThemeProperty("jqx-kanban-item-keyword-rtl")))},_serializeSource:function(s){var r=this;r._source=[],r._sourceKeys=[];var e=function(e){if(e){for(var t=0;t<e.length;t++){var i={};i.id=null!=e[t].id?e[t].id:r.element.id+"_"+t,i.status=e[t].status||r.templateContent.status,i.text=e[t].text||r.templateContent.text,i.content=e[t].content||r.templateContent.content,i.tags=e[t].tags||r.templateContent.tags,i.color=e[t].color||r.templateContent.color,i.resourceId=e[t].resourceId||r.templateContent.resourceId,i.className=e[t].className||r.templateContent.className,r._source.push(i),r._sourceKeys[i.id]=i}s()}};if(r.source&&r.source.dataBind){var t=r.element.id;if(r.source.unbindBindingUpdate(t),r.source.dataBind(),0==r.source.records.length){r.source.unbindDownloadComplete(t),r.source.bindDownloadComplete(t,function(){e(r.source.records)})}else e(r.source.records);return r.source.unbindBindingUpdate(t),void r.source.bindBindingUpdate(t,function(){e(r.source.records)})}e(r.source)},_populateKanban:function(d){var h=this,c=0;null!==h._source&&(c=h._source.length||0),h._resources=new Array;var e=function(e){if(null!=(h._resources=e)){h._resourcesLength=e.length;for(var t=0;t<h._resourcesLength;t++)1==e[t].common&&(h._commonItem=e[t])}for(t=0;t<c;t++){var i=g(h.template);i.data("kanban-item-id",h._source[t].id);for(var s=h._commonItem,r=0;r<h._resourcesLength;r++)e[r].id==h._source[t].resourceId&&(s=e[r]);var n="<img class='jqx-kanban-item-avatar-image' alt='"+s.name+"' title='"+s.name+"' src='"+s.image+"' />";i.addClass(h.toThemeProperty("jqx-rc-all")),i.find(".jqx-kanban-item-avatar").append(n),""!=h.theme&&i.addClass(h.toThemeProperty("jqx-kanban-item"));var o=h.host.find("[data-kanban-column-container='"+h._source[t].status+"']");i.find(".jqx-kanban-item-color-status").css({"background-color":h._source[t].color}),h.rtl&&(i.find(".jqx-kanban-item-color-status").addClass("jqx-kanban-item-color-status-rtl"),i.find(".jqx-kanban-item-avatar").addClass("jqx-kanban-item-avatar-rtl")),i.find(".jqx-kanban-item-text").append(h._source[t].text),i.find(".jqx-kanban-item-content").append(h._source[t].content);var a="",l=[];null!==h._source[t].tags&&void 0!==h._source[t].tags&&(l=h._source[t].tags.replace(/\,\s/g,",").split(",")),l.forEach(function(e){a=a+"<div class='"+h.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+e+"</div>"}),a+=h._clearing,i.find(".jqx-kanban-item-footer").append(a),i.append(h._clearing),i.attr("id",h._kanbanId+"_"+h._source[t].id),null!==h._source[t].className&&void 0!==h._source[t].className&&i.addClass(h.toThemeProperty(h._source[t].className)),h.itemRenderer&&h.itemRenderer(i,h._source[t],s),o.append(i),h._items[h._source[t].id]=i}d()};if(h.resources&&h.resources.dataBind){var t=h.element.id;if(h.resources.dataBind(),0==h.resources.records.length){h.resources.unbindDownloadComplete(t),h.resources.bindDownloadComplete(t,function(){e(h.resources.records)})}else e(h.resources.records);return h.resources.unbindBindingUpdate(t),void h.resources.bindBindingUpdate(t,function(){e(h.resources.records)})}h._resources=h.resources,e(h.resources),g("#"+h._kanbanId+" div.jqx-kanban-item").addClass(this.toThemeProperty("jqx-widget-content"))},_ready:function(){null!=this.ready&&"function"==typeof this.ready&&this.ready()},collapseColumn:function(e){for(var t=0;t<this.columns.length;t++)if(this.columns[t].dataField==e)return this._collapseColumn(t),!0;return!1},expandColumn:function(e){for(var t=0;t<this.columns.length;t++)if(this.columns[t].dataField==e)return this._expand(t),!0;return!1},_collapseColumn:function(e){var t=this,i=e||0;g("#"+t._kanbanId+"-column-header-collapsed-"+i).addClass(t.toThemeProperty("jqx-kanban-column-header-collapsed-show")),g("#"+t._kanbanId+"-column-header-"+i).addClass(t.toThemeProperty("jqx-kanban-column-hide")),g("#"+t._kanbanId+"-column-container-"+i).addClass(t.toThemeProperty("jqx-kanban-column-hide")),(t._ie8||t._ie7)&&(g("#"+t._kanbanId+" .jqx-kanban-column-vertical-container").addClass(t.toThemeProperty("jqx-kanban-column-vertical-container-ie8-fix")),g("#"+t._kanbanId+" .jqx-kanban-column-vertical-container-inverse").addClass(t.toThemeProperty("jqx-kanban-column-vertical-container-inverse-ie8-fix"))),t._columns[i].data("kanban-column-collapsed",!0),t.columns[i].collapsed=!0,t._calculateExpandedColumnsWidth(),t._raiseEvent("7",{column:t.columns[i]})},_expandColumn:function(e){var t=this,i=e||0;g("#"+t._kanbanId+"-column-header-collapsed-"+i).removeClass(t.toThemeProperty("jqx-kanban-column-header-collapsed-show")),g("#"+t._kanbanId+"-column-header-"+i).removeClass(t.toThemeProperty("jqx-kanban-column-hide")),g("#"+t._kanbanId+"-column-container-"+i).removeClass(t.toThemeProperty("jqx-kanban-column-hide")),t.columns[i].collapsed=!1,t._columns[i].data("kanban-column-collapsed",!1),t._calculateExpandedColumnsWidth(),t._raiseEvent("8",{column:t.columns[i]})},_calculateExpandedColumnsWidth:function(){var e=this,t=e._columns.length;e._collapsedColumns=0;for(var i=e._expandedColumns=0,s=e.headerWidth,r=0;r<t;r++)1==e._columns[r].data("kanban-column-collapsed")?e._collapsedColumns++:e._expandedColumns++;var n=(i=(e.host.width()-e.headerWidth*e._collapsedColumns)/e._expandedColumns)-(this._columnBorders[1]+this._columnBorders[3]);if(e._ie7&&(i=n,s=e.headerWidth-2),e.width&&0<=e.width.toString().indexOf("%")){var o=1/((e.host.width()+2)/100),a=s*o;for(r=0;r<t;r++)1==e._columns[r].data("kanban-column-collapsed")?e._columns[r][0].style.width=a+"%":e._columns[r][0].style.width=i*o+"%"}else for(r=0;r<t;r++)1==e._columns[r].data("kanban-column-collapsed")?e._columns[r].outerWidth(s):e._columns[r].outerWidth(i)},_handlerExpandCollapse:function(){var r=this;r.addHandler(g("#"+r._kanbanId+" .jqx-kanban-column-header"),"click",function(e){var t=g(this).parent().index(),i=r.columns[t],s={attribute:"title",column:i,cancelToggle:!1};if(0<=g(e.target).parent()[0].className.indexOf("jqx-kanban-column-header-custom-button"))s={attribute:"button",column:i,cancelToggle:!1};if(r._raiseEvent("10",s),!s.cancelToggle&&1<r._expandedColumns){if(!1===i.collapsible)return;r._collapseColumn(t)}}),r.addHandler(g("#"+r._kanbanId+" .jqx-kanban-column-header-collapsed"),"click",function(e){var t=g(this).parent().index(),i=(t=g(this).parent().index(),r.columns[t]),s={attribute:"title",cancelToggle:!1,column:i};if(0<=g(e.target).parent()[0].className.indexOf("jqx-kanban-column-header-custom-button"))s={attribute:"button",cancelToggle:!1,column:i};r._raiseEvent("10",s),s.cancelToggle||r._expandColumn(t)})},_setKanbanConnections:function(){var t=this;(t._kanbanColumns="#"+t._kanbanId+" div.jqx-kanban-column-container",t._connectWith=t._kanbanColumns,null!=t.connectWith)&&t.connectWith.replace(/\,\s/g,",").split(",").forEach(function(e){t._connectWith=t._connectWith+", "+e+" div.jqx-kanban-column-container"})},_transformToSortable:function(){for(var t=this,e=0;e<g(t._kanbanColumns).length;e++)g(g(t._kanbanColumns)[e]).jqxSortable({connectWith:t._connectWith,maxItems:t.columns[e].maxItems||9999,cancel:".jqx-kanban-column-container-cancel",placeholderShow:"jqx-kanban-item-placeholder",revert:t.animationDelay,cursor:"move",tolerance:"pointer",containment:"window"});g.jqx.utilities.resize(t.host,null,!0),g.jqx.utilities.resize(t.host,function(){for(var e=0;e<g(t._kanbanColumns).length;e++)g(g(t._kanbanColumns)[e]).jqxSortable({containment:"window"})}),null!==t.handle&&(g(t._kanbanColumns).jqxSortable({handle:"."+t.handle}),g("#"+t._kanbanId+" ."+t.handle).addClass("jqx-kanban-handle"))},_calculateItemsPerColumn:function(e){},_calculateRestrictions:function(){},_redrawColumnHeader:function(e,t){},addItem:function(e){var t=this,i=e.id,s=null!=t._source?t._source.length:0;null==i&&(i=s);var r=t._kanbanId+"_"+i;t._source=null!=t._source?t._source:[];var n=null;-1<t._css_color_names.indexOf(e.color)?n=e.color:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e.color)?n=e.color:/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(e.color)&&(n="#"+e.color);var o={id:i,status:e.status||t.templateContent.status,text:e.text||t.templateContent.text,content:e.content||t.templateContent.content,tags:e.tags||t.templateContent.tags,color:n||t.templateContent.color,resourceId:e.resourceId||t.templateContent.resourceId,className:e.className||t.templateContent.className};if((c=this.getColumn(o.status)).maxItems||(c.maxItems=9999),!(c.maxItems<this.getColumnItems(c.dataField).length+1)){for(var a=t._commonItem,l=0;l<t._resources.length;l++)t._resources[l].id==o.resourceId&&(a=t._resources[l]);var d=t.host.find("[data-kanban-column-container='"+o.status+"']");e=g(t.template);""!=t.theme&&e.addClass(t.toThemeProperty("jqx-kanban-item")),e.find(".jqx-kanban-item-color-status").css({"background-color":o.color});var h="<img class='jqx-kanban-item-avatar-image' alt='"+a.name+"' title='"+a.name+"' src='"+a.image+"' />";e.find(".jqx-kanban-item-avatar").append(h),e.find(".jqx-kanban-item-text").append(o.text),e.find(".jqx-kanban-item-content").append(o.content);var c,u=o.tags.replace(/\,\s/g,",").split(","),p="";u.forEach(function(e){p=p+"<div class='"+t.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+e+"</div>"}),p+="<div style='clear:both'></div>",e.find(".jqx-kanban-item-footer").append(p),d.append(e),g("#"+t._kanbanId+" .jqx-kanban-item").removeClass(this.toThemeProperty("jqx-widget-content jqx-rc-all")),g("#"+t._kanbanId+" .jqx-kanban-item").addClass(this.toThemeProperty("jqx-widget-content jqx-rc-all")),e.attr("id",r),t._source[s]=o,t._sourceKeys[i]=o,e.data("kanban-item-id",s),null!==o.className&&void 0!==o.className&&e.addClass(this.toThemeProperty(o.className)),t.itemRenderer&&t.itemRenderer(e,o,a),(c=this.getColumn(o.status))&&t.columnRenderer&&(t.columnRenderer(c.headerElement,c.collapsedHeaderElement,c),t._updateColumnTitle(c)),t._raiseEvent("2",{itemId:r}),t._refreshEventHandlers()}},_updateColumnTitle:function(e){if("left"==e.collapseDirection){var t=e.headerElement.find(".jqx-kanban-column-header-title").width();t+=e.headerElement.find(".jqx-kanban-column-header-status").width(),t-=10,e.headerElement.find(".jqx-kanban-column-header-title").css("left",-t+"px"),e.headerElement.find(".jqx-kanban-column-header-status").css("left",-t+"px")}},_selectItem:function(e){var t=e.data.self;t._selectedItemId=g(this).attr("id"),g("#"+t._kanbanId+" .jqx-kanban-item").removeClass(t.toThemeProperty("jqx-kanban-item-selected")),g(this).addClass(t.toThemeProperty("jqx-kanban-item-selected"));var i=g(this).data().kanbanItemId;t._selectedId=i,t._raiseEvent("1",{item:t._sourceKeys[i]}),t._refreshEventHandlers()},selectItem:function(e){var t=g("#"+this._kanbanId+"_"+e);0!=t.length&&(g("#"+self._kanbanId+" .jqx-kanban-item").removeClass(self.toThemeProperty("jqx-kanban-item-selected")),g(t).addClass(this.toThemeProperty("jqx-kanban-item-selected")),this._selectedId=e)},_selectColumn:function(e){for(var t,i,s=e.data.self,r=g(this).attr("data-column-data-field"),n=s.columns.length,o=0;o<n;o++)s.columns[o].dataField==r&&(i=o),s.columns[o].dataField==s._selectedColumn&&(t=o);g("#"+s._kanbanId+" .jqx-kanban-column").removeClass(s.toThemeProperty("jqx-kanban-column-selected")),g(this).addClass(s.toThemeProperty("jqx-kanban-column-selected")),null!=s._selectedColumn&&s._selectedColumn!=r&&s._raiseEvent("6",{column:s._selectedColumn,dataField:t}),s._selectedColumn=r,s._raiseEvent("5",{column:s._selectedColumn,dataField:i})},getSelectedColumn:function(){return this._selectedColumn},_removeSourceIndexById:function(i){var s=-1;g.each(this._source,function(e,t){if(this&&this.id==i)return s=e,!1}),-1!=s&&this._source.splice(s,1),this._sourceKeys[i]=null,delete this._sourceKeys[i]},removeItem:function(e){var t=this,i="#"+t._kanbanId+"_"+e,s=e.toString().replace(t._kanbanId+"_","");g(i).remove();var r=this.getColumn(t._sourceKeys[e].status);t._items[s]=null,t._removeSourceIndexById(e),t._sourceKeys[e]=null,r&&t.columnRenderer&&(t.columnRenderer(r.headerElement,r.collapsedHeaderElement,r),t._updateColumnTitle(r)),t._selectedItemId=null},updateItem:function(e,t){var i=this,s=g("#"+i._kanbanId+"_"+e);if(0!=s.length){var r=s.data("kanban-item-id"),n=i._sourceKeys[r],o=n.className||"",a=null;-1<i._css_color_names.indexOf(t.color)?a=t.color:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t.color)?a=t.color:/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(t.color)?a="#"+t.color:t.color&&(a=t.color);var l={id:n.id,status:n.status,text:t.text||n.text,content:t.content||n.content,tags:t.tags||n.tags,color:a||n.color,resourceId:t.resourceId||n.resourceId,className:t.className||n.className};i._source[r]=l,i._sourceKeys[r]=l;for(var d=i._commonItem,h=0;h<i._resources.length;h++)i._resources[h].id==l.resourceId&&(d=i._resources[h]);var c="<img class='jqx-kanban-item-avatar-image' alt='"+d.name+"' title='"+d.name+"' src='"+d.image+"' />";s.find(".jqx-kanban-item-avatar").html(c),s.find(".jqx-kanban-item-color-status").css({"background-color":l.color}),s.find(".jqx-kanban-item-text").html(l.text),s.find(".jqx-kanban-item-content").html(l.content);var u=l.tags.replace(/\,\s/g,",").split(","),p="";u.forEach(function(e){p=p+"<div class='"+i.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+e+"</div>"}),p+="<div style='clear:both'></div>",s.find(".jqx-kanban-item-footer").html(p),null!==l.className&&void 0!==l.className&&(s.removeClass(this.toThemeProperty(o)),s.addClass(this.toThemeProperty(l.className))),i.itemRenderer&&i.itemRenderer(s,l,d);var m=this.getColumn(l.status);m&&i.columnRenderer&&(i.columnRenderer(m.headerElement,m.collapsedHeaderElement,m),i._updateColumnTitle(m))}},getSelectedItem:function(){return this._sourceKeys[this._selectedId]},getColumn:function(e){for(var t=0;t<this.columns.length;t++)if(this.columns[t].dataField==e)return this.columns[t];return null},getColumnItems:function(e){for(var t=[],i=this._source.length,s=0;s<i;s++)null!=this._source[s]&&this._source[s].status==e&&t.push(this._source[s]);return t},getItems:function(){return null!==this._source?this._source.filter(function(e){return null!=e}):null},_ie8Plugin:function(){"function"!=typeof Array.prototype.forEach&&(Array.prototype.forEach=function(e){for(var t=0;t<this.length;t++)e.apply(this,[this[t],t,this])}),window.getComputedStyle||(window.getComputedStyle=function(i,e){return this.el=i,this.getPropertyValue=function(e){var t=/(\-([a-z]){1})/g;return"float"==e&&(e="styleFloat"),t.test(e)&&(e=e.replace(t,function(){return arguments[2].toUpperCase()})),i.currentStyle[e]?i.currentStyle[e]:null},this})},_addEventHandlers:function(){var f=this;f.addHandler(g(window),"resize.kanban"+f.element.id,function(e){f._recalculateContainersHeight(),f._calculateExpandedColumnsWidth()}),f.addHandler(g(f._kanbanColumns),"start",function(e){f._selectedItemId=e.args.item[0].id,f._draggedItemId=f._selectedItemId,f._draggedItemDataId=g("#"+f._draggedItemId).data().kanbanItemId,f._draggedItemValues=f._sourceKeys[f._draggedItemDataId],f._selectedItemValues=f._draggedItemValues;var t=g("#"+f._draggedItemId).height();g(".jqx-kanban-item-placeholder").height(t)}),f.addHandler(g(f._kanbanColumns),"stop",function(e){for(var t=g("#"+f._draggedItemId).parent().attr("data-kanban-column-container"),i=t,s=null,r=0;r<f.columns.length;r++)if(f.columns[r].dataField==i){s=f.columns[r];break}if(f._sourceKeys[f._draggedItemDataId]){var n=null,o=g("#"+f._kanbanId).jqxKanban("columns"),a=f._sourceKeys[f._draggedItemDataId].status;for(r=0;r<o.length;r++)if(o[r].dataField==a){n=o[r];break}if(f._kanbanId!==f._dropKanbanId){f._raiseEvent("3",{oldParentId:f._kanbanId,newParentId:f._dropKanbanId,itemId:f._selectedId,newColumn:s,oldColumn:n,itemData:f._draggedItemValues});f._source.length;f._draggedItemValues.status=t,g("#"+f._dropKanbanId).trigger("_itemReceived",[f._selectedItemId,f._kanbanId,f._dropKanbanId,f._draggedItemValues,f._selectedId,s,n]),f._sourceKeys[f._draggedItemDataId]=null}else f._raiseEvent("3",{newColumn:s,oldColumn:n,oldParentId:f._kanbanId,newParentId:f._dropKanbanId,itemId:f._selectedId,itemData:f._draggedItemValues}),f._raiseEvent("4",{newColumn:s,oldColumn:n,oldParentId:f._kanbanId,newParentId:f._dropKanbanId,itemId:f._selectedId,itemData:f._draggedItemValues}),f._sourceKeys[f._draggedItemDataId].status=t;if(f.columnRenderer)for(r=0;r<f.columns.length;r++)f.columns[r].dataField==i&&(f.columnRenderer(f.columns[r].headerElement,f.columns[r].collapsedHeaderElement,f.columns[r]),f._updateColumnTitle(f.columns[r])),f.columns[r].dataField==a&&(f.columnRenderer(f.columns[r].headerElement,f.columns[r].collapsedHeaderElement,f.columns[r]),f._updateColumnTitle(f.columns[r]))}f._draggedItemDataId=null,f._draggedItemId=null,f._draggedItemValues=null}),f.addHandler(g(f._kanbanColumns),"sort",function(e){f._dropKanbanId=g(".jqx-kanban-item-placeholder").parent().parent().parent().attr("id")}),f.addHandler(g(f.host),"_itemReceived",function(e,t,i,s,r){f._raiseEvent("4",{itemId:t,oldParentId:i,newParentId:s,itemData:r});var n=g("#"+t),o=g(f.template);""!=f.theme&&o.addClass(f.toThemeProperty("jqx-kanban-item")),o.data("kanban-item-id",r.id);for(var a=f._commonItem,l=0;l<f._resources.length;l++)f._resources[l].id==r.resourceId&&(a=f._resources[l]);var d="<img class='jqx-kanban-item-avatar-image' alt='"+a.name+"' title='"+a.name+"' src='"+a.image+"' />";o.find(".jqx-kanban-item-avatar").append(d),o.find(".jqx-kanban-item-text").append(r.text),o.find(".jqx-kanban-item-color-status").css({"background-color":r.color}),o.find(".jqx-kanban-item-content").append(r.content);var h=r.tags.replace(/\,\s/g,",").split(","),c="";h.forEach(function(e){c=c+"<div class='"+f.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+e+"</div>"}),c+="<div style='clear:both'></div>",o.find(".jqx-kanban-item-footer").append(c),o.attr("id",f._kanbanId+"_"+r.id),n.replaceWith(o),g("#"+s+" div.jqx-kanban-item").addClass(f.toThemeProperty("jqx-widget-content")),null!==r.className&&void 0!==r.className&&o.addClass(f.toThemeProperty(r.className)),g("#"+s+" div.jqx-kanban-item").removeClass(f.toThemeProperty("jqx-kanban-item-selected")),g("#"+t).addClass(f.toThemeProperty("jqx-kanban-item-selected")),g("#"+s).jqxKanban("_refreshEventHandlers"),f._source.push(r);var u=g("#"+s).jqxKanban("getInstance"),p=g("#"+i).jqxKanban("getInstance");if(u._sourceKeys[r.id]=r,p._removeSourceIndexById(r.id),u.columnRenderer)for(var m=0;m<u.columns.length;m++)u.columnRenderer(u.columns[m].headerElement,u.columns[m].collapsedHeaderElement,u.columns[m]);if(p.columnRenderer)for(m=0;m<p.columns.length;m++)p.columnRenderer(p.columns[m].headerElement,p.columns[m].collapsedHeaderElement,p.columns[m])}),f.addHandler(g("#"+f._kanbanId+" .jqx-kanban-item"),"click",f._selectItem,{self:this}),f.addHandler(g("#"+f._kanbanId+" .jqx-kanban-column"),"click",f._selectColumn,{self:this}),f.addHandler(g(".jqx-kanban-item-color-status, .jqx-kanban-item-avatar, .jqx-kanban-item-text, .jqx-kanban-item-content, .jqx-kanban-item-keyword, .jqx-kanban-item-template-content"),"click",function(){for(var e="jqx-kanban-item-color-status jqx-kanban-item-avatar jqx-kanban-item-text jqx-kanban-item-content jqx-kanban-item-keyword jqx-kanban-item-template-content".split(" "),t=g(this).attr("class").split(" "),i=t.length,s=null,r=g(this).parents(".jqx-kanban-item").data().kanbanItemId,n={attribute:null,item:f._sourceKeys[r],itemId:r},o=0;o<i;o++)-1<e.indexOf(t[o])&&(s=t[o]);switch(s){case"jqx-kanban-item-color-status":n.attribute="colorStatus";break;case"jqx-kanban-item-avatar":n.attribute="avatar";break;case"jqx-kanban-item-text":n.attribute="text";break;case"jqx-kanban-item-content":n.attribute="content";break;case"jqx-kanban-item-keyword":n.attribute="keyword";break;case"jqx-kanban-item-template-content":n.attribute="template"}f._raiseEvent("9",n)})},destroy:function(){g.jqx.utilities.resize(this.host,null,!0),this._removeEventHandlers(),this.host.remove()},_removeEventHandlers:function(){var e=this;e.removeHandler(g(window),"resize.kanban"+e.element.id),e.removeHandler(g(e._kanbanColumns),"start"),e.removeHandler(g(e._kanbanColumns),"stop"),e.removeHandler(g(e._kanbanColumns),"sort"),e.removeHandler(g(e.host),"_itemReceived"),e.removeHandler(g("#"+e._kanbanId+" .jqx-kanban-item"),"click"),e.removeHandler(g("#"+e._kanbanId+" .jqx-kanban-column"),"click"),e.removeHandler(g(".jqx-kanban-item-color-status, .jqx-kanban-item-avatar, .jqx-kanban-item-text, .jqx-kanban-item-content, .jqx-kanban-item-keyword, .jqx-kanban-item-template-content"),"click")},_refreshEventHandlers:function(){this._removeEventHandlers(),this._addEventHandlers()},_raiseEvent:function(e,t){that=this;var i=g.Event(that._events[e]);return i.args=t,that.host.trigger(i)},_getEvent:function(e){return that=this,that._isTouchDevice?that._touchEvents[e]:e}})}(jqxBaseFramework),function(w){w.jqx.jqxWidget("jqxKnob","",{}),w.extend(w.jqx._jqxKnob.prototype,{defineInstance:function(){var e={type:"circle",allowValueChangeOnClick:!0,allowValueChangeOnDrag:!0,allowValueChangeOnMouseWheel:!0,changing:null,dragEndAngle:-1,dragStartAngle:-1,disabled:!1,dial:{style:"transparent",innerRadius:0,outerRadius:0,gradientType:null,gradientStops:null,startAngle:null,endAngle:null},endAngle:360,height:400,labels:{type:"digits",step:null,rotate:!1,offset:null,style:"",visible:!1},marks:{type:"",thickness:1,size:"10%",colorProgress:"transparent",colorRemaining:"transparent",minorInterval:1,majorInterval:5,offset:"80%",majorSize:"15%"},min:0,max:100,progressBar:{size:"10%",offset:"60%",color:"transparent",background:"transparent"},pointer:{color:{color:"transparent",border:null,gradientType:null,gradientStops:null},thickness:1,size:"",type:"",visible:!1},pointerGrabAction:"normal",renderEngine:"",rotation:"clockwise",startAngle:0,spinner:{color:"transparent",innerRadius:0,outerRadius:0,marks:{step:1,rotate:!1,color:"transparent",size:0,steps:10,thickness:1,offset:0}},style:{fill:"transparent",stroke:"transparent"},_touchEvents:{mousedown:w.jqx.mobile.getTouchEventName("touchstart"),mouseup:w.jqx.mobile.getTouchEventName("touchend"),mousemove:w.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:w.jqx.mobile.getTouchEventName("touchstart")},step:1,snapToStep:!0,value:0,width:400};return this===w.jqx._jqxKnob.prototype||w.extend(!0,this,e),e},createInstance:function(){var e=this;e._hostInit(),e._ie8Plugin(),e._validateProperties(),e._initValues(),e._refresh(),w.jqx.utilities.resize(e.host,function(){e.widgetSize=Math.min(e.host.width(),e.host.height()),e._refresh()})},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]+".jqxKnob"+this.element.id:e+".jqxKnob"+this.element.id},_ie8Plugin:function(){"function"!=typeof Array.prototype.forEach&&(Array.prototype.forEach=function(e){for(var t=0;t<this.length;t++)e.apply(this,[this[t],t,this])}),window.getComputedStyle||(window.getComputedStyle=function(i,e){return this.el=i,this.getPropertyValue=function(e){var t=/(\-([a-z]){1})/g;return"float"==e&&(e="styleFloat"),t.test(e)&&(e=e.replace(t,function(){return arguments[2].toUpperCase()})),i.currentStyle[e]?i.currentStyle[e]:null},this})},createColorGradient:function(e,t,i){return this._getGradient(e,t,i)},destroy:function(){this.removeHandler(w(document),"mousemove.jqxKnob"+this.host[0].id),this.removeHandler(w(document),"blur.jqxKnob"+this.host[0].id),this.removeHandler(w(document),"mouseup.jqxKnob"+this.host[0].id),this.host.empty(),this.host.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._refresh()},propertyChangedHandler:function(e,t,i,s){e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("disabled"===t&&e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),"value"!==t?(e._validateProperties(),e._refresh()):e._setValue(s,"propertyChange"))},val:function(e){if(0==arguments.length)return this.value;this._setValue(e,null)},_isPointerGrabbed:!1,_pointerGrabbedIndex:-1,_attatchPointerEventHandlers:function(){var h=this;h.addHandler(h.host,this._getEvent("mousedown"),function(e){if("pointer"!==h.pointerGrabAction||e.target.id===h._pointerID){if(h._isTouchDevice){var t=w.jqx.position(e);e.clientX=t.left,e.clientY=t.top}if("progressBar"===h.pointerGrabAction){var i={x:e.clientX,y:e.clientY},s=h.host[0].getBoundingClientRect(),r=h.widgetSize,n={x:s.left+r/2,y:s.top+r/2},o=h._calculateAngleFromCoordinates(i,n,h.rotation),a=h._calculateDistance(i,n);if(o<h.startAngle&&(o+=360),o>h.endAngle&&o-h.endAngle!=360+h.startAngle-o)return;var l=h._getScale(h.progressBar.offset,"w",r/2),d=h._getScale(h.progressBar.size,"w",r/2);if(a<l||l+d<a)return}return(h._isPointerGrabbed=!0)===h.allowValueChangeOnClick&&h._mouseMovePointer(e),e.preventDefault(),e.stopPropagation(),!1}});var t=null;h.addHandler(w(document),this._getEvent("mousemove"),function(e){if(h.allowValueChangeOnDrag&&(t&&clearTimeout(t),t=setTimeout(function(){h._mouseMovePointer(e)}),h._isPointerGrabbed))return!1}),h.addHandler(w(document),"blur.jqxKnob"+h.host[0].id,function(){h._isPointerGrabbed=!1,h._pointerGrabbedIndex=-1}),h.addHandler(w(document),this._getEvent("mouseup"),function(e){h._isPointerGrabbed&&(h._isPointerGrabbed=!1,h._pointerGrabbedIndex=-1,h._raiseEvent(0,{originalEvent:e,value:h.value}))}),h.addHandler(h.host,"wheel",function(e){if(h.allowValueChangeOnMouseWheel){var t=0;return e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?t=e.wheelDelta/120:e.detail?t=-e.detail/3:e.originalEvent&&e.originalEvent.deltaY&&(t=e.originalEvent.deltaY),0<t?h._increment():h._decrement(),!1}})},_mouseMovePointer:function(e){var t=this;if(!t.disabled&&t._isPointerGrabbed){if(t._isTouchDevice){var i=w.jqx.position(e);e.clientX=i.left,e.clientY=i.top}var s={x:e.clientX,y:e.clientY},r=t.host[0].getBoundingClientRect(),n=t.widgetSize,o={x:r.left+n/2,y:r.top+n/2},a=t._calculateAngleFromCoordinates(s,o,t.rotation),l=t._calculateValueFromAngle(a,t.dragStartAngle,t.dragEndAngle,t.min,t.max);if(t.value.length&&-1===t._pointerGrabbedIndex)for(var d=0;d<t.value.length;d++){if(l<=t.value[d]){t._pointerGrabbedIndex=d;break}if(d===t.value.length-1)t._pointerGrabbedIndex=d;else if(l<=t.value[d+1]){var h=t.value[d]+(t.value[d+1]-t.value[d])/2;t._pointerGrabbedIndex=l<=h?d:d+1;break}}if(t.pointer&&1<t.pointer.length){if(1==t._pointerGrabbedIndex){var c=t._calculateAngleFromValue(t.value[0],t.dragStartAngle,t.dragEndAngle,t.min,t.max),u=t._calculateAngleFromValue(t.max,t.dragStartAngle,t.dragEndAngle,t.min,t.max);if((a=t._calculateAngleFromValue(l,t.dragStartAngle,t.dragEndAngle,t.min,t.max))<=c)return;if(u<=a)return}if(0==t._pointerGrabbedIndex){u=t._calculateAngleFromValue(t.value[1],t.dragStartAngle,t.dragEndAngle,t.min,t.max),c=t._calculateAngleFromValue(t.min,t.dragStartAngle,t.dragEndAngle,t.min,t.max);if((a=t._calculateAngleFromValue(l,t.dragStartAngle,t.dragEndAngle,t.min,t.max))<=c)return;if(u<=a)return}}if(t.changing){var p=t.value.slice(0);if(p[t._pointerGrabbedIndex]=l,!1===t.changing(t.value,p))return}t._setValue(l,"mouse")}},_getScale:function(e,t,i){return e&&0<=e.toString().indexOf("%")?(e=parseInt(e,10)/100,"object"==typeof i?i[t]()*e:i*e):parseInt(e,10)},_hostInit:function(){var e=this;this._isTouchDevice=w.jqx.mobile.isTouchDevice();var t=e.host;t.width(e.width),t.height(e.height),t.css("position","relative"),e.host.addClass(e.toThemeProperty("jqx-widget jqx-knob")),-1==e.dragStartAngle&&(e.dragStartAngle=e.startAngle),-1==e.dragEndAngle&&(e.dragEndAngle=e.endAngle),e.dragStartAngle<e.startAngle&&(e.dragStartAngle=e.startAngle),e.dragEndAngle>e.endAngle&&(e.dragEndAngle=e.endAngle),e.widgetSize=Math.min(e.host.width(),e.host.height())},_initRenderer:function(e){if(!w.jqx.createRenderer)throw"jqxKnob: Please include a reference to jqxdraw.js";return w.jqx.createRenderer(this,e)},_initValues:function(){var e=this;e.marks&&(e.marks.style&&""!==e.marks.style&&("line"!==e.marks.style||e.marks.thickness||(e.marks.thickness=1),e.marks.size||(e.marks.size="5%"),e.marks.offset||(e.marks.offset="85%")),e.marks.majorInterval&&void 0===e.marks.majorSize&&(e.marks.majorSize="10%")),e._marksList=e._getMarksArray(e.marks),e.spinner&&(e._spinnerMarksList=e._getMarksArray(e.spinner.marks))},_calculateAngleFromValue:function(e,t,i,s,r){return w.jqx.browser.msie&&w.jqx.browser.version<9?"circle"!=this.type?s!=r?parseInt((e-s)/(r-s)):0:s!=r?parseInt((e-s)/(r-s)*(i-t)):0:"circle"!=this.type?s!=r?(e-s)/(r-s):0:s!=r?(e-s)/(r-s)*(i-t):0},_calculateAngleFromCoordinates:function(e,t,i){var s=e.x-t.x,r=e.y-t.y;return 0<r?"clockwise"===i?90-180*Math.atan(s/r)/Math.PI:270+180*Math.atan(s/r)/Math.PI:r<0?"clockwise"===i?270-180*Math.atan(s/r)/Math.PI:90+180*Math.atan(s/r)/Math.PI:0<=s?0:180},_calculateValueFromAngle:function(e,t,i,s,r){e<t&&(e+=360);var n=s;return i<e?e-i<360+t-e&&(n=r):n=s+(e-t)*(r-s)/(i-t),n},_calculateDistance:function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},_drawBackground:function(){var e,t,i=this,s=i.renderer;if(t=(e=i.widgetSize)/2,t-=(o=i.style.strokeWidth?i.style.strokeWidth:0)/2,i.style){var r=i._getColor(i.style.fill),n=i._getColor(i.style.stroke),o=i.style.strokeWidth?i.style.strokeWidth:1;"circle"!=i.type?s.rect(0,0,this.host.width(),this.host.height(),{fill:r,stroke:n,"stroke-width":o}):s.circle(e/2,e/2,t,{fill:r,stroke:n,"stroke-width":o})}},_drawDial:function(){var e=this;if(e.dial){var t,i,s,r,n,o,a,l=e.renderer,d=e.widgetSize;t=i=d/2,r=e._getScale(e.dial.outerRadius,"w",d/2),s=e._getScale(e.dial.innerRadius,"w",d/2),null!=e.dial.startAngle&&null!=e.dial.endAngle?(n="clockwise"===e.rotation?360-e.dial.endAngle:e.dial.startAngle,o="clockwise"===e.rotation?360-e.dial.startAngle:e.dial.endAngle):(n="clockwise"===e.rotation?360-e.endAngle:e.startAngle,o="clockwise"===e.rotation?360-e.startAngle:e.endAngle),a=e._getColor(e.dial.style.fill);var h=e._getColor(e.dial.style.stroke)||"",c=e.dial.style.strokeWidth||0;l.pieslice(t,i,s,r,n,o,0,{fill:a,stroke:h,"stroke-width":c})}},_getMarksArray:function(e){if(null==e)return[];var t,i={},s=this.max,r=this.min,n=s-r,o=e.minorInterval,a=e.majorInterval,l=function(e){return parseFloat(e.toPrecision(12))};if(o){for(t=0;t<n;t+=o)i[l(r+t)]={type:"minor"};i[s]={type:"minor"}}if(a){for(t=0;t<n;t+=a)i[l(r+t)]={type:"major"};i[s]={type:"major"}}if(!o&&!a){var d=this.step;if(d){for(t=0;t<n;t+=d)i[l(r+t)]={type:"minor"};i[s]={type:"minor"}}}return i},_drawMarks:function(){var a=this;if(a.marks){var l,d,h=a.renderer,c=a.widgetSize,u=a.marks&&null!=a.marks.colorRemaining?a.marks.colorRemaining:"transparent";u=a._getColor(u),a._dialMarks=[];var p=a.marks.type;p||(p="line");var m=a._getScale(a.marks.offset,"w",c/2),e=a._marksList;w.each(e,function(e,t){if(a.dragEndAngle-a.dragStartAngle!=360||e!=a.max)if(d=a.dragStartAngle+a._calculateAngleFromValue(e,a.dragStartAngle,a.dragEndAngle,a.min,a.max),"circle"===p){var i=a._getScale(a.marks.size,"w",c/2),s=a._getPointerPosition({x:c/2,y:c/2},m,d,a.rotation);a._dialMarks.push(h.circle(s.x,s.y,i,{fill:u}))}else if("line"===p){l="major"===t.type&&null!==a.marks.majorSize&&void 0!==a.marks.majorSize?a._getScale(a.marks.majorSize,"w",c/2):a._getScale(a.marks.size,"w",c/2);var r=a._getScale(a.marks.thickness,"w",c/2),n=a._getPointerPosition({x:c/2,y:c/2},m,d,a.rotation),o=a._getPointerPosition({x:c/2,y:c/2},m+l,d,a.rotation);w.jqx.browser.msie&&w.jqx.browser.version<9?a._dialMarks.push(h.line(parseInt(n.x),parseInt(n.y),parseInt(o.x),parseInt(o.y),{stroke:u,"stroke-width":r})):a._dialMarks.push(h.line(n.x,n.y,o.x,o.y,{stroke:u,"stroke-width":r}))}})}},_drawProgressBars:function(){var e=this;if(e.progressBar){e._progressBar=e._progressBar||[];for(var t=0;t<e._progressBar.length;t++)w(e._progressBar[t]).remove();if(e._progressBar=[],e._isArray(e.progressBar.style)){var i=e.value[0],s=e.value[1],r=e.progressBar.style[0],n=e.progressBar.style[1];if(e._progressBar.push(e._drawProgressBar(e.max,e.progressBar.background,"background")),e.progressBar.ranges)for(t=0;t<e.progressBar.ranges.length;t++){var o=e.progressBar.ranges[t].startValue,a=e.progressBar.ranges[t].endValue;e._progressBar.push(e._drawProgressBarFromToValue(o,a,e.progressBar.ranges[t],"background"))}e._progressBar.push(e._drawProgressBar(i,r)),e._progressBar.push(e._drawProgressBarFromEndToStart(s,n))}else{if(e._progressBar.push(e._drawProgressBar(e.max,e.progressBar.background,"background")),e.progressBar.ranges)for(t=0;t<e.progressBar.ranges.length;t++){o=e.progressBar.ranges[t].startValue,a=e.progressBar.ranges[t].endValue;e._progressBar.push(e._drawProgressBarFromToValue(o,a,e.progressBar.ranges[t],"background"))}e._progressBar.push(e._drawProgressBar(e.value,e.progressBar.style))}}},_drawProgressBarFromEndToStart:function(e,t){var i,s,r,n,o,a=this,l=a.renderer,d=a.widgetSize,h=a._getScale(a.progressBar.offset,"w",d/2);s=r=d/2,o=(n=h)+a._getScale(a.progressBar.size,"w",d/2);var c=a._getColor(t.fill)||"transparent",u=a._getColor(t.stroke)||"transparent";i=a.dragStartAngle+a._calculateAngleFromValue(e,a.dragStartAngle,a.dragEndAngle,a.min,a.max),a.dragStartAngle;var p=t.strokeWidth?t.strokeWidth:1;if(a.endAngle!=i)return"clockwise"===a.rotation?l.pieslice(s,r,n,o,360-a.endAngle,360-i,0,{fill:c,stroke:u,"stroke-width":p}):l.pieslice(s,r,n,o,void 0,i,0,{fill:c,stroke:u,"stroke-width":p})},_drawProgressBarFromToValue:function(e,t,i,s){var r,n,o,a,l,d,h,c=this,u=c.renderer,p=c.widgetSize,m=c._getScale(c.progressBar.offset,"w",p/2);o=a=p/2,d=(l=m)+(r=c._getScale(c.progressBar.size,"w",p/2));var f=c._getColor(i.fill)||"transparent",g=c._getColor(i.stroke)||"transparent";if(n=c.dragStartAngle+c._calculateAngleFromValue(t,c.dragStartAngle,c.dragEndAngle,c.min,c.max),(h=c.dragStartAngle+c._calculateAngleFromValue(e,c.dragStartAngle,c.dragEndAngle,c.min,c.max))!=n){var v=1;"background"==s&&(v=0);var x=i.strokeWidth?i.strokeWidth:v;if("circle"!=c.type){if("rect"==c.type){var w=n*(this.host.height()-2*m),y=this.host.height()-2*m;return u.rect(o-r/2,m+y-w,r,w,{fill:f,stroke:g,"stroke-width":x})}return u.rect(m,a-r/2,this.host.width()-2*m,r,{fill:f,stroke:g,"stroke-width":x})}return"clockwise"===c.rotation?u.pieslice(o,a,l,d,360-n,360-h,0,{fill:f,stroke:g,"stroke-width":x}):u.pieslice(o,a,l,d,h,n,0,{fill:f,stroke:g,"stroke-width":x})}},_drawProgressBar:function(e,t,i){var s,r,n,o,a,l,d,h=this,c=h.renderer,u=h.widgetSize,p=h._getScale(h.progressBar.offset,"w",u/2);n=o=u/2,l=(a=p)+(s=h._getScale(h.progressBar.size,"w",u/2));var m=h._getColor(t.fill)||"transparent",f=h._getColor(t.stroke)||"transparent";if(r=h.dragStartAngle+h._calculateAngleFromValue(e,h.dragStartAngle,h.dragEndAngle,h.min,h.max),(d=h.dragStartAngle)!=r){var g=1;"background"==i&&(g=0);var v=t.strokeWidth?t.strokeWidth:g;if("circle"!=h.type){if("rect"==h.type){var x=r*(this.host.height()-2*p),w=this.host.height()-2*p;return c.rect(n-s/2,p+w-x,s,x,{fill:m,stroke:f,"stroke-width":v})}return c.rect(p,o-s/2,this.host.width()-2*p,s,{fill:m,stroke:f,"stroke-width":v})}return"clockwise"===h.rotation?c.pieslice(n,o,a,l,360-r,360-d,0,{opacity:t.opacity||1,fill:m,stroke:f,"stroke-width":v}):c.pieslice(n,o,a,l,d,r,0,{opacity:t.opacity||1,fill:m,stroke:f,"stroke-width":v})}},_drawLabels:function(){var e=this;e._labels=[];var t=e.renderer,i=e.widgetSize;if(void 0===e.labels.visible&&(e.labels.visible=!0),!0===e.labels.visible){var s,r=e._getScale(e.labels.offset,"w",i/2),n=e.labels.type?e.labels.type:"digits",o=e.labels.style,a=o&&o.fill?e._getColor(o.fill):"#333";if("digits"===n){var l=[];if(e.labels.customLabels)for(s=0;s<e.labels.customLabels.length;s++)l.push(e.labels.customLabels[s].value);else{var d=e.labels.step||e.step;for(s=e.min;s<e.max;s+=d)l.push(s);e.dragEndAngle-360<e.dragStartAngle&&l.push(e.max)}for(s=0;s<l.length;s++){var h=e.labels.customLabels?e.labels.customLabels[s].text:l[s].toString();e.labels.formatFunction&&(h=e.labels.formatFunction(h));var c=e.dragStartAngle,u=e.dragEndAngle,p=c+e._calculateAngleFromValue(l[s],c,u,e.min,e.max),m=e._getPointerPosition({x:i/2,y:i/2},r,p,e.rotation);if(w.jqx.browser.msie&&w.jqx.browser.version<9){var f=t.measureText(h,0,{class:this.toThemeProperty("jqx-knob-label")}),g=e.labels.rotate?90-p:0;t.text(h,m.x-f.width/2,m.y-f.height/2,f.width,f.height,g,{class:this.toThemeProperty("jqx-knob-label")},!1)}else{f=t.measureText(h,0,{style:{fill:a},class:this.toThemeProperty("jqx-knob-label")}),g=e.labels.rotate?90-p:0;t.text(h,m.x-f.width/2,m.y-f.height/2,f.width,f.height,g,{style:{fill:a},class:this.toThemeProperty("jqx-knob-label")},!1)}}}}},_drawPointers:function(){var e=this;if(e._pointers=e._pointers||[],e._pointers.forEach(function(e,t,i){w(e).remove(),i.splice(t,1)}),e.pointer)if(e._isArray(e.pointer))for(var t=0;t<e.progressBar.style.length;t++)!1!==e.pointer[t].visible&&e._pointers.push(e._drawPointer(e.value[t],e.pointer[t]));else{if(!1===e.pointer.visible)return;e._pointers.push(e._drawPointer(e.value,e.pointer))}},_drawPointer:function(e,t){var i=this;t.id=t.id||i._getID();var s=i.renderer,r=i.widgetSize,n=t.type;n||(n="circle"),t.style||(t.style={fill:"#feaf4e",stroke:"#feaf4e"});var o,a,l,d=i._getColor(t.style.fill),h=t.style.stroke||"",c=i._getScale(t.offset,"w",r/2),u=i.dragStartAngle+i._calculateAngleFromValue(e,i.dragStartAngle,i.dragEndAngle,i.min,i.max);if("circle"===n){var p=i._getScale(t.size,"w",r/2),m=i._getPointerPosition({x:r/2,y:r/2},c,u,i.rotation);l=s.circle(m.x,m.y,p,{id:t.id,fill:d,stroke:h})}else if("line"===n){o=i._getScale(t.size,"w",r/2),a=t.thickness;var f=i._getPointerPosition({x:r/2,y:r/2},c,u,i.rotation),g=i._getPointerPosition({x:r/2,y:r/2},c+o,u,i.rotation);l=s.line(f.x,f.y,g.x,g.y,{id:t.id,stroke:d,"stroke-width":a})}else if("arc"===n){o=i._getScale(t.size,"w",r/2);var v,x,w,y,b,_,j=(i.dragEndAngle-i.dragStartAngle)/i._steps.length;v=x=r/2,y=(w=c)+o,b="clockwise"===i.rotation?360-(u+j/2):u-j/2,_="clockwise"===i.rotation?360-(u-j/2):u+j/2,l=s.pieslice(v,x,w,y,b,_,0,{id:t.id,fill:d,stroke:h})}else if("arrow"===n){o=i._getScale(t.size,"w",r/2),a=t.thickness;var q=i._getPointerPosition({x:r/2,y:r/2},o,u,i.rotation),T=i._getPointerPosition({x:r/2,y:r/2},c,u,i.rotation),C=i._getPointerPosition({x:T.x,y:T.y},a/2,u-90,i.rotation),S=i._getPointerPosition({x:T.x,y:T.y},a/2,u+90,i.rotation),k="M "+q.x+","+q.y+" L "+C.x+","+C.y+" L "+S.x+","+S.y+" "+q.x+","+q.y;l=this.renderer.path(k,{id:t.id,stroke:h,fill:d})}return l},_rotateSpinnerMarks:function(a){var l=this,d=l.spinner.marks;if(d){if(!1===d.rotate)return;var h,c,u=l.renderer,p=l.widgetSize,m=d&&null!=d.colorRemaining?d.colorRemaining:"transparent";m=l._getColor(m);var f=d.type;f||(f="line");for(var g=l._getScale(d.offset,"w",p/2),e=0;e<l._spinnerMarks.length;e++)w(l._spinnerMarks[e]).remove();l._spinnerMarks=[];var t=l._spinnerMarksList;w.each(t,function(e,t){if(l.endAngle-l.startAngle!=360||e!=l.max){if((c=a+l._calculateAngleFromValue(e,l.startAngle,l.endAngle,l.min,l.max))<l.startAngle)return!0;if(c>l.endAngle&&c<l.startAngle+360)return!0;if("circle"===f){var i=l._getScale(d.size,"w",p/2),s=l._getPointerPosition({x:p/2,y:p/2},g,c,l.rotation);l._spinnerMarks.push(u.circle(s.x,s.y,i,{fill:m}))}else if("line"===f){h="major"===t.type&&null!==d.majorSize&&void 0!==d.majorSize?l._getScale(d.majorSize,"w",p/2):l._getScale(d.size,"w",p/2);var r=l._getScale(d.thickness,"w",p/2),n=l._getPointerPosition({x:p/2,y:p/2},g,c,l.rotation),o=l._getPointerPosition({x:p/2,y:p/2},g+h,c,l.rotation);l._spinnerMarks.push(u.line(n.x,n.y,o.x,o.y,{stroke:m,"stroke-width":r}))}}})}},_drawSpinnerMarks:function(a){var l=this;if(a){var d,h,c=l.renderer,u=l.widgetSize,p=a&&null!=a.colorRemaining?a.colorRemaining:"transparent";p=l._getColor(p),l._spinnerMarks=[];var m=a.type;m||(m="line");var f=l._getScale(a.offset,"w",u/2),e=l._spinnerMarksList;w.each(e,function(e,t){if(l.dragEndAngle-l.dragStartAngle!=360||e!=l.max)if(h=l.startAngle+l._calculateAngleFromValue(e,l.startAngle,l.endAngle,l.min,l.max),"circle"===m){var i=l._getScale(a.size,"w",u/2),s=l._getPointerPosition({x:u/2,y:u/2},f,h,l.rotation);l._spinnerMarks.push(c.circle(s.x,s.y,i,{fill:p}))}else if("line"===m){d="major"===t.type&&null!==a.majorSize&&void 0!==a.majorSize?l._getScale(a.majorSize,"w",u/2):l._getScale(a.size,"w",u/2);var r=l._getScale(a.thickness,"w",u/2),n=l._getPointerPosition({x:u/2,y:u/2},f,h,l.rotation),o=l._getPointerPosition({x:u/2,y:u/2},f+d,h,l.rotation);l._spinnerMarks.push(c.line(n.x,n.y,o.x,o.y,{stroke:p,"stroke-width":r}))}})}},_drawSpinner:function(){var e=this;if(e.spinner){var t=e.renderer,i=e.widgetSize;e.spinner.style||(e.spinner.style={fill:"#dfe3e9",stroke:"#dfe3e9"});var s,r,n=e._getColor(e.spinner.style.fill),o=e.spinner.style.stroke||"";s=r=i/2;var a=e._getScale(e.spinner.outerRadius,"w",i/2),l=e._getScale(e.spinner.innerRadius,"w",i/2),d=n.strokeWidth?n.strokeWidth:2;if(t.pieslice(s,r,l,a,360-e.endAngle,360-e.startAngle,0,{"stroke-width":d,fill:n,stroke:o}),e.spinner.marks)return void e._drawSpinnerMarks(e.spinner.marks)}},_getColor:function(e){return e&&"object"==typeof e?this._getGradient(e.color,e.gradientType,e.gradientStops):e},_getGradient:function(e,t,i){return t&&null!=i&&"object"==typeof i&&("linear"===t?e=this.renderer._toLinearGradient(e,!0,i):"linearHorizontal"===t?e=this.renderer._toLinearGradient(e,!1,i):"radial"===t&&(e=this.renderer._toRadialGradient(e,i))),e},_isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},_events:["slide","change"],_raiseEvent:function(e,t){var i=this._events[e],s=w.Event(i);return s.args=t,this.host.trigger(s)},_movePointers:function(){for(var e,t=this,i=0;i<t._pointers.length;i++)1!==t._pointers.length?(e=t.dragStartAngle+t._calculateAngleFromValue(t.value[i],t.dragStartAngle,t.dragEndAngle,t.min,t.max),t._pointers[i]=t._movePointer(t._pointers[i],t.pointer[i],e,t.value[i])):(e=t.dragStartAngle+t._calculateAngleFromValue(t.value,t.dragStartAngle,t.dragEndAngle,t.min,t.max),t._pointers[0]=t._movePointer(t._pointers[0],t.pointer,e,t.value))},_movePointer:function(e,t,i,s){var r,n=this,o=n.renderer,a=n.widgetSize,l=t.type;l||(l="circle");var d=n._getScale(t.offset,"w",a/2);if("circle"===l){var h=n._getPointerPosition({x:a/2,y:a/2},d,i,n.rotation);o.attr(e,{cx:h.x,cy:h.y}),w.jqx.browser.msie&&w.jqx.browser.version<9&&(w("#"+t.id).remove(),e=n._drawPointer(s,t))}else if("line"===l){r=n._getScale(t.size,"w",a/2);var c=n._getPointerPosition({x:a/2,y:a/2},d,i,n.rotation),u=n._getPointerPosition({x:a/2,y:a/2},d+r,i,n.rotation);o.attr(e,{x1:c.x,y1:c.y,x2:u.x,y2:u.y}),w.jqx.browser.msie&&w.jqx.browser.version<9&&(w("#"+t.id).remove(),e=n._drawPointer(s,t))}else if("arrow"===l){r=n._getScale(t.size,"w",a/2);var p=t.thickness,m=n._getPointerPosition({x:a/2,y:a/2},r,i,n.rotation),f=n._getPointerPosition({x:a/2,y:a/2},d,i,n.rotation),g=n._getPointerPosition({x:f.x,y:f.y},p/2,i-90,n.rotation),v=n._getPointerPosition({x:f.x,y:f.y},p/2,i+90,n.rotation),x="M "+m.x+","+m.y+" L "+g.x+","+g.y+" L "+v.x+","+v.y+" "+m.x+","+m.y;o.attr(e,{d:x}),w.jqx.browser.msie&&w.jqx.browser.version<9&&(w("#"+t.id).remove(),e=n._drawPointer(s,t))}else"arc"===l&&(w("#"+t.id).remove(),e=n._drawPointer(t));return n.progressBar&&e.parentNode.appendChild(e.parentNode.removeChild(e)),e},_getPointerPosition:function(e,t,i,s){return w.jqx.browser.msie&&w.jqx.browser.version<9?{x:parseInt(e.x+t*Math.sin(Math.PI/180*(i+90))),y:"clockwise"===s?parseInt(e.y+t*Math.sin(Math.PI/180*i)):parseInt(e.y-t*Math.sin(Math.PI/180*i))}:{x:e.x+t*Math.sin(Math.PI/180*(i+90)),y:"clockwise"===s?e.y+t*Math.sin(Math.PI/180*i):e.y-t*Math.sin(Math.PI/180*i)}},_getID:function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_decrement:function(){this._setValue(this.value-this.step,"mouse")},_increment:function(){this._setValue(this.value+this.step,"mouse")},_refresh:function(){var e=this;if(e.disabled&&e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e.renderer||(e._isVML=!1,e.host.empty(),e._initRenderer(e.host)),e.removeHandler(w(document),"mousemove.jqxKnob"+e.host[0].id),e.removeHandler(w(document),"blur.jqxKnob"+e.host[0].id),e.removeHandler(w(document),"mouseup.jqxKnob"+e.host[0].id),e.removeHandler(e.host,"wheel"),e.removeHandler(e.host,"mousedown"),e.host.empty(),e._initRenderer(e.host),e.renderer){e._steps=[];for(var t=0;t<=(e.max-e.min)/e.step;t++)e._steps.push(e.min+e.step*t);e._initValues(),e._render()}},_render:function(){var e=this;e._drawBackground(),e._drawDial(),e._drawMarks(),e._drawLabels(),e._drawSpinner(),e._drawProgressBars(),e._updateMarksColor(),e._updateSpinnerMarksColor(),e._drawPointers(),e._attatchPointerEventHandlers()},_setValue:function(e,t){var i=this,s=i.value;if(isNaN(e)&&(e=i.min),e>i.max?e=i.max:e<i.min&&(e=i.min),i.snapToStep)for(var r=i._steps,n=0;n<r.length;n++)if(e<r[n]){e=0===n?r[n]:r[n]-e<e-r[n-1]?r[n]:r[n-1];break}if(e!=s){if(w.isArray(i.value)){if(-1!=i._pointerGrabbedIndex){if(1==i._pointerGrabbedIndex){i.value[0];i.value[i._pointerGrabbedIndex]=e}if(0==i._pointerGrabbedIndex){i.value[1];i.value[i._pointerGrabbedIndex]=e}i.value[i._pointerGrabbedIndex]=e}}else i.value=e;i._updateProgressBarColor(),i._updateMarksColor(),i._updateSpinnerMarksColor();var o=i.dragStartAngle+i._calculateAngleFromValue(e,i.dragStartAngle,i.dragEndAngle,i.min,i.max);i._rotateSpinnerMarks(o),i._movePointers(),i._raiseEvent(1,{value:i.value,type:t})}},_updateMarksColor:function(){var t=this;if(t.marks&&(t.marks.colorProgress||t.marks.colorRemaining)){var e=t.renderer,i=[];w.each(t._marksList,function(e){t.endAngle-t.startAngle!=360||t.max,i.push(e)});for(var s=t._getColor(t.marks.colorProgress),r=t._getColor(t.marks.colorRemaining),n=t.value.length?t.value[0]:t.value,o=0;o<t._dialMarks.length;o++)i[o]>n?"circle"===t.marks.type?e.attr(t._dialMarks[o],{fill:r}):e.attr(t._dialMarks[o],{stroke:r}):"circle"===t.marks.type?e.attr(t._dialMarks[o],{fill:s}):e.attr(t._dialMarks[o],{stroke:s}),t.progressBar&&t.marks.drawAboveProgressBar&&t._dialMarks[o].parentNode.appendChild(t._dialMarks[o].parentNode.removeChild(t._dialMarks[o]))}},_updateSpinnerMarksColor:function(){var t=this;if(t.spinner&&t.spinner.marks&&t.spinner.marks&&(t.spinner.marks.colorProgress||t.spinner.marks.colorRemaining)){var e=t.renderer,i=[];w.each(t._spinnerMarksList,function(e){t.endAngle-t.startAngle==360&&e==t.max||i.push(e)});for(var s=t._getColor(t.spinner.marks.colorProgress),r=t._getColor(t.spinner.marks.colorRemaining),n=t.value.length?t.value[0]:t.value,o=0;o<t._spinnerMarks.length;o++)i[o]>n?"circle"===t.spinner.marks.type?e.attr(t._spinnerMarks[o],{fill:r}):e.attr(t._spinnerMarks[o],{stroke:r}):"circle"===t.spinner.marks.type?e.attr(t._spinnerMarks[o],{fill:s}):e.attr(t._spinnerMarks[o],{stroke:s})}},_updateProgressBarColor:function(){this.progressBar&&this._drawProgressBars()},_validateProperties:function(){var e=this,t=function(e,t){if(e&&"string"==typeof e){return e={fill:e,stroke:e}}return e||((e={}).fill=t,e.stroke=t),e&&e.fill&&!e.stroke&&(e.stroke=e.fill),e&&!e.fill&&e.stroke&&(e.fill=e.stroke),e&&!e.fill&&(e.fill=t),e&&!e.stroke&&(e.stroke=t),e};if(e.dial&&(e.dial.style=t(e.dial.style,"#dddddd")),e.style&&(e.style=t(e.style,"#dddddd")),e.progressBar&&(e.progressBar.style=t(e.progressBar.style,"transparent"),e.progressBar.background=t(e.progressBar.background,"transparent")),e.spinner&&(e.spinner.style=t(e.spinner.style,"transparent")),e.pointer&&(e.pointer.style=t(e.pointer.style,"transparent")),e.startAngle>=e.endAngle)throw new Error("jqxKnob: The end angle must be bigger than the start angle!");if(e.startAngle<0||360<e.startAngle)throw new Error("jqxKnob: Start angle must be between 0 and 360");if(e.endAngle>e.startAngle+360)throw new Error("jqxKnob: End angle must be between startAngle and startAngle + 360");if(e.dial&&e.dial.color&&"transparent"!==e.dial.color&&(!e.dial.outerRadius||!e.dial.innerRadius))throw new Error("jqxKnob: Dial options innerRadius and outerRadius need to be specified");if(e._isArray(e.pointer)||e._isArray(e.value)){if(!e._isArray(e.pointer))throw new Error("jqxKnob: If the value is an array, the pointer must also be an array.");if(!e._isArray(e.value))throw new Error("jqxKnob: If the pointer is an array, the value must also be an array.");if(e.pointer.length!==e.value.length)throw new Error("jqxKnob: The pointer and value array sizes must match.");if(e.progressBar&&(!e._isArray(e.progressBar.style)||e.progressBar.style.length!==e.pointer.length))throw new Error("jqxKnob: progressBar color must be an array with the same number of elements as the pointer and value.")}return!0}})}(jqxBaseFramework),function(H){H.jqx.jqxWidget("jqxListBox","",{}),H.extend(H.jqx._jqxListBox.prototype,{defineInstance:function(){var e={disabled:!1,width:null,height:null,items:new Array,multiple:!1,selectedIndex:-1,selectedIndexes:new Array,source:null,scrollBarSize:H.jqx.utilities.scrollBarSize,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,hasThreeStates:!1,autoHeight:!1,autoItemsHeight:!1,roundedcorners:!0,touchMode:"auto",displayMember:"",groupMember:"",valueMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:1e3,incrementalSearchKeyDownDelay:300,allowDrag:!1,allowDrop:!0,dropAction:"default",touchModeStyle:"auto",keyboardNavigation:!0,enableMouseWheel:!0,multipleextended:!1,selectedValues:new Array,emptyString:"",rtl:!1,rendered:null,renderer:null,dragStart:null,dragEnd:null,focusable:!0,ready:null,_checkForHiddenParent:!0,autoBind:!0,_renderOnDemand:!1,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,filterChange:null,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===H.jqx._jqxListBox.prototype||H.extend(!0,this,e),e},createInstance:function(e){15!=H.jqx.utilities.scrollBarSize&&(this.scrollBarSize=H.jqx.utilities.scrollBarSize),null==this.width&&(this.width=200),null==this.height&&(this.height=200),this.renderListBox();var t=this;H.jqx.utilities.resize(this.host,function(){t._updateSize()},!1,this._checkForHiddenParent)},resize:function(e,t){this.width=e,this.height=t,this._updateSize()},render:function(){this.renderListBox(),this.refresh()},renderListBox:function(){var e=(o=this).element.nodeName.toLowerCase();if("select"==e||"ul"==e||"ol"==e){o.field=o.element,o.field.className&&(o._className=o.field.className);var t={title:o.field.title};o.field.id.length?t.id=o.field.id.replace(/[^\w]/g,"_")+"_jqxListBox":t.id=H.jqx.utilities.createId()+"_jqxListBox";var i=H("<div></div>",t);o.width||(o.width=H(o.field).width()),o.height||(o.height=H(o.field).outerHeight()),o.element.style.cssText=o.field.style.cssText,H(o.field).hide().after(i);var s=o.host.data();if(o.host=i,o.host.data(s),o.element=i[0],o.element.id=o.field.id,o.field.id=t.id,o._className&&(o.host.addClass(o._className),H(o.field).removeClass(o._className)),o.field.tabIndex){var r=o.field.tabIndex;o.field.tabIndex=-1,o.element.tabIndex=r}}else if(0<o.host.find("li").length||0<o.host.find("option").length){var n=H.jqx.parseSourceTag(o.element);o.source=n.items}o.element.innerHTML="";var o,a=(o=o).element.className;a+=" "+o.toThemeProperty("jqx-listbox"),a+=" "+o.toThemeProperty("jqx-reset"),a+=" "+o.toThemeProperty("jqx-rc-all"),a+=" "+o.toThemeProperty("jqx-widget"),a+=" "+o.toThemeProperty("jqx-widget-content"),o.element.className=a;null!=o.width&&-1!=o.width.toString().indexOf("%")&&o.host.width(o.width),null!=o.height&&-1!=o.height.toString().indexOf("%")&&(o.host.height(o.height),0==o.host.height()&&o.host.height(200)),null!=o.width&&-1!=o.width.toString().indexOf("px")?o.host.width(o.width):null==o.width||isNaN(o.width)||(o.element.style.width=parseInt(o.width)+"px"),null!=o.height&&-1!=o.height.toString().indexOf("px")?o.host.height(o.height):null==o.height||isNaN(o.height)||(o.element.style.height=parseInt(o.height)+"px"),o.multiple||o.multipleextended||o.checkboxes?H.jqx.aria(o,"aria-multiselectable",!0):H.jqx.aria(o,"aria-multiselectable",!1);var l="<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='filter"+o.element.id+"' style='display: none; visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><input style='position: absolute;'/></div><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+o.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+o.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>";o.host.attr("role","listbox"),o.element.innerHTML=l,o._checkForHiddenParent&&(o._addInput(),o.host.attr("tabIndex")||o.host.attr("tabIndex",1)),o.filter=H(o.element.firstChild.firstChild.firstChild),o.filterInput=H(o.filter[0].firstChild),o.filterInput.attr("placeholder",o.filterPlaceHolder),o.filterInput.addClass(o.toThemeProperty("jqx-widget jqx-listbox-filter-input jqx-input jqx-rc-all")),o.addHandler(o.filterInput,"keyup.textchange",function(e){13==e.keyCode?o._search(e):0<o.filterDelay&&(o._filterTimer&&clearTimeout(o._filterTimer),o._filterTimer=setTimeout(function(){o._search(e)},o.filterDelay)),e.stopPropagation()});var d=H(o.element.firstChild.firstChild.firstChild.nextSibling.nextSibling);if(!o.host.jqxButton)throw new Error("jqxListBox: Missing reference to jqxbuttons.js.");if(!d.jqxScrollBar)throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.");var h=parseInt(o.host.height())/2;0==h&&(h=10),o.vScrollBar=d.jqxScrollBar({_initialLayout:!0,vertical:!0,rtl:o.rtl,theme:o.theme,touchMode:o.touchMode,largestep:h});var c=H(o.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling);if(o.hScrollBar=c.jqxScrollBar({_initialLayout:!0,vertical:!1,rtl:o.rtl,touchMode:o.touchMode,theme:o.theme}),o.content=H(o.element.firstChild.firstChild.firstChild.nextSibling),o.content[0].id="listBoxContent"+o.element.id,o.bottomRight=H(o.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling.nextSibling).addClass(o.toThemeProperty("jqx-listbox-bottomright")).addClass(o.toThemeProperty("jqx-scrollbar-state-normal")),o.bottomRight[0].id="bottomRight"+o.element.id,o.vScrollInstance=H.data(o.vScrollBar[0],"jqxScrollBar").instance,o.hScrollInstance=H.data(o.hScrollBar[0],"jqxScrollBar").instance,o.isTouchDevice()&&!(H.jqx.browser.msie&&H.jqx.browser.version<9)){var u=H("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");o.content.parent().append(u),o.overlayContent=o.host.find(".overlay"),o.filterable&&o.overlayContent.css("top","30px")}o._updateTouchScrolling(),o.host.addClass("jqx-disableselect"),o.host.jqxDragDrop&&jqxListBoxDragDrop()},_highlight:function(e,t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+i+")","ig"),function(e,t){return"<b>"+t+"</b>"})},_addInput:function(){var e=this.host.attr("name");e&&this.host.attr("name",""),this.input=H("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",e)},_updateTouchScrolling:function(){var i=this;if(this.isTouchDevice()){i.enableHover=!1;var e=this.overlayContent?this.overlayContent:this.content;this.removeHandler(H(e),H.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"),this.removeHandler(H(e),H.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(H(e),H.jqx.mobile.getTouchEventName("touchend")+".touchScroll"),this.removeHandler(H(e),"touchcancel.touchScroll"),H.jqx.mobile.touchScroll(e,i.vScrollInstance.max,function(e,t){if(null!=t&&"hidden"!=i.vScrollBar.css("visibility")){i.vScrollInstance.value;i.vScrollInstance.setPosition(t),i._lastScroll=new Date}if(null!=e&&"hidden"!=i.hScrollBar.css("visibility")){i.hScrollInstance.value;i.hScrollInstance.setPosition(e),i._lastScroll=new Date}},this.element.id,this.hScrollBar,this.vScrollBar),"visible"!=i.vScrollBar.css("visibility")&&"visible"!=i.hScrollBar.css("visibility")?H.jqx.mobile.setTouchScroll(!1,this.element.id):H.jqx.mobile.setTouchScroll(!0,this.element.id),this._arrange()}},isTouchDevice:function(){var e=H.jqx.mobile.isTouchDevice();if(1==this.touchMode){if(this.touchDevice)return!0;if(H.jqx.browser.msie&&H.jqx.browser.version<9)return!1;e=this.touchDevice=!0,H.jqx.mobile.setMobileSimulator(this.element)}else 0==this.touchMode&&(e=!1);return e&&0!=this.touchModeStyle&&(this.scrollBarSize=H.jqx.utilities.touchScrollBarSize),e&&this.host.addClass(this.toThemeProperty("jqx-touch")),e},beginUpdate:function(){this.updatingListBox=!0},endUpdate:function(){this.updatingListBox=!1,this._addItems(),this._renderItems()},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this._render(!1)},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._cachedItemHtml=new Array,e.refresh())},propertyChangedHandler:function(e,t,i,s){if(null!=this.isInitialized&&0!=this.isInitialized&&i!=s&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){if("_renderOnDemand"==t&&(e._render(!1,!0),-1!=e.selectedIndex)){var r=e.selectedIndex;e.selectedIndex=-1,e._stopEvents=!0,e.selectIndex(r,!1,!0),-1==e.selectedIndex&&(e.selectedIndex=r),e._stopEvents=!1}if("filterable"==t&&e.refresh(),"filterHeight"==t&&e._arrange(),"filterPlaceHolder"==t&&e.filterInput.attr("placeholder",s),"renderer"==t&&(e._cachedItemHtml=new Array,e.refresh()),"itemHeight"==t&&e.refresh(),"source"!=t&&"checkboxes"!=t||(null==s&&i&&i.unbindBindingUpdate&&(i.unbindBindingUpdate(e.element.id),i.unbindDownloadComplete(e.element.id)),e.clearSelection(),e.refresh()),"scrollBarSize"!=t&&"equalItemsWidth"!=t||s!=i&&e._updatescrollbars(),"disabled"==t&&(e._renderItems(),e.vScrollBar.jqxScrollBar({disabled:s}),e.hScrollBar.jqxScrollBar({disabled:s})),"touchMode"==t||"rtl"==t){if(e._removeHandlers(),e.vScrollBar.jqxScrollBar({touchMode:s}),e.hScrollBar.jqxScrollBar({touchMode:s}),"touchMode"==t&&!(H.jqx.browser.msie&&H.jqx.browser.version<9)){var n=H("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");e.content.parent().append(n),e.overlayContent=e.host.find(".overlay")}e.filterable&&e.filterInput&&("rtl"==t&&s?e.filterInput.addClass(e.toThemeProperty("jqx-rtl")):"rtl"!=t||s||e.filterInput.removeClass(e.toThemeProperty("jqx-rtl")),e._arrange()),e._updateTouchScrolling(),e._addHandlers(),e._render(!1)}if(this.updating||"width"!=t&&"height"!=t||e._updateSize(),"theme"==t&&i!=s&&(e.hScrollBar.jqxScrollBar({theme:e.theme}),e.vScrollBar.jqxScrollBar({theme:e.theme}),e.host.removeClass(),e.host.addClass(e.toThemeProperty("jqx-listbox")),e.host.addClass(e.toThemeProperty("jqx-widget")),e.host.addClass(e.toThemeProperty("jqx-widget-content")),e.host.addClass(e.toThemeProperty("jqx-reset")),e.host.addClass(e.toThemeProperty("jqx-rc-all")),e.refresh()),"selectedIndex"==t&&(e.clearSelection(),e.selectIndex(s,!0)),"displayMember"==t||"valueMember"==t){if(i!=s){var o=e.selectedIndex;e.refresh(),e.selectedIndex=o,e.selectedIndexes[o]=o}e._renderItems()}"autoHeight"==t&&(i!=s?e._render(!1):(e._updatescrollbars(),e._renderItems())),e._checkForHiddenParent&&H.jqx.isHidden(e.host)&&H.jqx.utilities.resize(this.host,function(){e._updateSize()},!1,e._checkForHiddenParent)}},loadFromSelect:function(e){if(null!=e){var t=H("#"+e);if(0<t.length){var i=H.jqx.parseSourceTag(t[0]),s=i.items,r=i.index;this.source=s,this.fromSelect=!0,this.clearSelection(),this.selectedIndex=r,this.selectedIndexes[this.selectedIndex]=this.selectedIndex,this.refresh()}}},invalidate:function(){this._cachedItemHtml=[],this._renderItems(),this.virtualSize=null,this._updateSize()},refresh:function(e){var i=this;if(null!=this.vScrollBar){this.itemHeight=parseInt(this.itemHeight),this._cachedItemHtml=[],this.visibleItems=new Array;var t=function(e){if(1==e&&-1!=i.selectedIndex){var t=i.selectedIndex;i.selectedIndex=-1,i._stopEvents=!0,i.selectIndex(t,!1,!0),-1==i.selectedIndex&&(i.selectedIndex=t),i._stopEvents=!1}};if(null!=this.itemswrapper&&(this.itemswrapper.remove(),this.itemswrapper=null),H.jqx.dataAdapter&&null!=this.source&&this.source._source)return this.databind(this.source,e),void t(e);(this.autoBind||!this.autoBind&&!e)&&(this.field&&this.loadSelectTag(),this.items=this.loadItems(this.source)),this._render(!1,1==e),t(e),this._raiseEvent("6")}},loadSelectTag:function(){var e=H.jqx.parseSourceTag(this.field);this.source=e.items,-1==this.selectedIndex&&(this.selectedIndex=e.index)},_render:function(e,t){return this._renderOnDemand?(this.visibleItems=new Array,this.renderedVisibleItems=new Array,void this._renderItems()):(this._addItems(),this._renderItems(),this.vScrollInstance.setPosition(0),this._cachedItemHtml=new Array,(null==e||e)&&null!=this.items&&null!=this.items&&0<=this.selectedIndex&&this.selectedIndex<this.items.length&&this.selectIndex(this.selectedIndex,!0,!0,!0),this.allowDrag&&this._enableDragDrop&&(this._enableDragDrop(),this.isTouchDevice())?(this._removeHandlers(),this.overlayContent&&(this.overlayContent.remove(),this.overlayContent=null),this._updateTouchScrolling(),void this._addHandlers()):(this._updateTouchScrolling(),this.rendered&&this.rendered(),void(this.ready&&this.ready())))},_hitTest:function(e,t){this.filterable&&(t-=this.filterHeight)<0&&(t=0);var i=parseInt(this.vScrollInstance.value),s=this._searchFirstVisibleIndex(t+i,this.renderedVisibleItems);if(null!=this.renderedVisibleItems[s]&&this.renderedVisibleItems[s].isGroup)return null;if(0<this.renderedVisibleItems.length){var r=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(r.height+r.top<t+i)return null}return s=this._searchFirstVisibleIndex(t+i),this.visibleItems[s]},_searchFirstVisibleIndex:function(e,t){null==e&&(e=parseInt(this.vScrollInstance.value));var i=0;null!=t&&null!=t||(t=this.visibleItems);for(var s=t.length;i<=s;){mid=parseInt((i+s)/2);var r=t[mid];if(null==r)break;if(r.initialTop>e&&r.initialTop+r.height>e)s=mid-1;else{if(!(r.initialTop<e&&r.initialTop+r.height<=e))return mid;i=mid+1}}return 0},_renderItems:function(){if(null!=this.items&&0!=this.items.length){if(1!=this.updatingListBox){var e=this.isTouchDevice(),t=this.vScrollInstance,i=this.hScrollInstance,s=parseInt(t.value),r=parseInt(i.value);this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(r=i.max-r);this.items.length,this.host.width();var n=parseInt(this.content[0].style.width),o=n+parseInt(i.max);parseInt(this.vScrollBar[0].style.width);"hidden"==this.vScrollBar[0].style.visibility&&0,"visible"!=this.hScrollBar[0].style.visibility&&(o=n);this._getVirtualItemsCount();var a=new Array,l=0,d=parseInt(this.element.style.height)+2;-1!=this.element.style.height.indexOf("%")&&(d=this.host.outerHeight()),isNaN(d)&&(d=0);var h=0,c=0,u=0;if(0==t.value||0==this.visibleItems.length)for(var p=0;p<this.items.length;p++){if((T=this.items[p]).visible)T.top=-s,T.initialTop=-s,!T.isGroup&&T.visible&&((this.visibleItems[c++]=T).visibleIndex=c-1),(this.renderedVisibleItems[u++]=T).left=-r,0<=T.top+T.height&&T.top-T.height<=d&&(a[l++]={index:p,item:T}),s-=T.height,s--}var m=0<s?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0,f=0;l=0;for(var g=this.vScrollInstance.value,v=0;f<100+d;){if(null==(T=this.renderedVisibleItems[m]))break;if(T.visible)T.left=-r,0<=T.top+T.height-g&&T.initialTop-g-T.height<=2*d&&(a[l++]={index:m,item:T});if(m++,T.visible&&(f+=T.initialTop-g+T.height-f),++v>this.items.length-1)break}if(!this._renderOnDemand){var x=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item"),w=this.toThemeProperty("jqx-listitem-state-group"),y=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled"),b=0,_=this;for(p=0;p<this.visualItems.length;p++){var j=this.visualItems[p],q=function(){var e=j[0].firstChild;(_.checkboxes&&(e=j[0].lastChild),null!=e&&(e.style.visibility="hidden",e.className=""),_.checkboxes)&&j.find(".chkbox").css({visibility:"hidden"})};if(p<a.length){var T;if((T=a[p].item).initialTop-g>=d){q();continue}var C=H(j[0].firstChild);if(this.checkboxes&&(C=H(j[0].lastChild)),0==C.length)continue;if(null==C[0])continue;C[0].className="",C[0].style.display="block",C[0].style.visibility="inherit";var S="";if(S=!T.isGroup&&0<=!this.selectedIndexes[T.index]?x:w,(T.disabled||this.disabled)&&(S+=" "+y),this.roundedcorners&&(S+=" "+this.toThemeProperty("jqx-rc-all")),e&&(S+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),C[0].className=S,this.renderer)if(T.key||(T.key=this.generatekey()),this._cachedItemHtml||(this._cachedItemHtml=new Array),this._cachedItemHtml[T.key])C[0].innerHTML!=this._cachedItemHtml[T.key]&&(C[0].innerHTML=this._cachedItemHtml[T.key]);else{var k=this.renderer(T.index,T.label,T.value);C[0].innerHTML=k,this._cachedItemHtml[T.key]=C[0].innerHTML}else{if(-1!==this.itemHeight){var I=2+2*parseInt(C.css("padding-top"));C[0].style.lineHeight=T.height-I+"px",C.css("vertical-align","middle")}null!=T.html&&0<T.html.toString().length?C[0].innerHTML=T.html:null!=T.label||null!=T.value?null!=T.label?(C[0].innerHTML!==T.label&&(C[0].innerHTML=T.label),""==H.trim(T.label)&&(C[0].innerHTML=this.emptyString,""==this.emptyString&&(C[0].style.height=T.height-8+"px")),this.incrementalSearch||T.disabled||null!=this.searchString&&""!=this.searchString&&(C[0].innerHTML=this._highlight(T.label.toString(),this.searchString))):null===T.label?(C[0].innerHTML=this.emptyString,""==this.emptyString&&(C[0].style.height=T.height-8+"px")):C[0].innerHTML!==T.value?C[0].innerHTML=T.value:""==T.label&&(C[0].innerHTML=" "):""!=T.label&&null!=T.label||(C[0].innerHTML="",C[0].style.height=T.height-8+"px")}if(j[0].style.left=T.left+"px",j[0].style.top=T.initialTop-g+"px",T.element=C[0],T.title&&(C[0].title=T.title),this.equalItemsWidth&&!T.isGroup){if(0==h){var D=parseInt(o);D-=parseInt(C.outerWidth())-parseInt(C.width());var P=1;h=D-=2*(P=null!=P?parseInt(P):0),this.checkboxes&&"hidden"==this.hScrollBar[0].style.visibility&&(h-=18)}n>this.virtualSize.width?(C[0].style.width=h+"px",T.width=h):(C[0].style.width=-4+this.virtualSize.width+"px",T.width=this.virtualSize.width-4)}else C.width()<this.host.width()&&C.width(this.host.width()-2);if(this.rtl&&(C[0].style.textAlign="right"),this.autoItemsHeight&&(C[0].style.whiteSpace="pre-line",C.width(h),T.width=h),b=0,this.checkboxes&&!T.isGroup){0==b&&(b=(T.height-16)/2,b++),(B=H(j.children()[0]))[0].item=T,this.rtl?"0px"!=C[0].style.left&&(C[0].style.left="0px"):"18px"!=C[0].style.left&&(C[0].style.left="18px"),this.rtl&&B.css("left",8+T.width+"px"),B[0].style.top=b+"px",B[0].style.display="block",B[0].style.visibility="inherit";var A=T.checked,M=T.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";B[0].firstChild&&B[0].firstChild.firstChild&&B[0].firstChild.firstChild.firstChild&&B[0].firstChild.firstChild&&(A?B[0].firstChild.firstChild.firstChild.className=M:!1===A?B[0].firstChild.firstChild.firstChild.className="":null===A&&(B[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate"))),H.jqx.ariaEnabled&&(A?j[0].setAttribute("aria-selected",!0):j[0].removeAttribute("aria-selected"))}else{var B;if(this.checkboxes)(B=H(j.children()[0])).css({display:"none",visibility:"inherit"})}!T.disabled&&(!this.filterable&&0<=this.selectedIndexes[T.visibleIndex]||T.selected&&this.filterable)?(C.addClass(this.toThemeProperty("jqx-listitem-state-selected")),C.addClass(this.toThemeProperty("jqx-fill-state-pressed")),H.jqx.ariaEnabled&&(j[0].setAttribute("aria-selected",!0),this._activeElement=j[0])):this.checkboxes||H.jqx.ariaEnabled&&j[0].removeAttribute("aria-selected")}else q()}}}}else this.visibleItems=new Array},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_calculateVirtualSize:function(e){if(!this._renderOnDemand){var t=0,i=2,s=0,r=document.createElement("span");this.equalItemsWidth&&H(r).css("float","left"),r.style.whiteSpace="pre";var n=0,o=void 0===e?this.host.outerHeight():e+2;document.body.appendChild(r);var a=this.items.length,l=this.host.width();if(this.autoItemsHeight&&(l-=10,"hidden"!=this.vScrollBar.css("visibility")&&(l-=20)),this.autoItemsHeight||this.renderer||1<=this.groups.length||0<a&&null!=this.items[0].html&&""!=this.items[0].html)for(s=0;s<a;s++){if((!(w=this.items[s]).isGroup||""!=w.label||""!=w.html)&&w.visible){var d="";if(w.isGroup?d+=this.toThemeProperty("jqx-listitem-state-group jqx-rc-all"):d+=this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-rc-all"),d+=" "+this.toThemeProperty("jqx-fill-state-normal"),this.isTouchDevice()&&(d+=" "+this.toThemeProperty("jqx-touch")),r.className=d,this.autoItemsHeight){r.style.whiteSpace="pre-line";var h=this.checkboxes?-20:0;r.style.width=h+l+"px"}if(this.renderer){var c=this.renderer(w.index,w.label,w.value);r.innerHTML=c}else null!=w.html&&0<w.html.toString().length?r.innerHTML=w.html:null==w.label&&null==w.value||(null!=w.label?(r.innerHTML=w.label,""==w.label&&(r.innerHTML="Empty")):r.innerHTML=w.value);var u=r.offsetHeight,p=r.offsetWidth;-1<this.itemHeight&&(u=this.itemHeight),w.height=u,w.width=p,i+=++u,t=Math.max(t,p),i<=o&&n++}}else{i=0;var m=0,f="",g=0,v=0,x=-1;for(s=0;s<a;s++){var w;if((!(w=this.items[s]).isGroup||""!=w.label||""!=w.html)&&w.visible){d="";if(0==++x){if(d+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),d+=" "+this.toThemeProperty("jqx-fill-state-normal"),d+=" "+this.toThemeProperty("jqx-widget"),d+=" "+this.toThemeProperty("jqx-listbox"),d+=" "+this.toThemeProperty("jqx-widget-content"),this.isTouchDevice()&&(d+=" "+this.toThemeProperty("jqx-touch"),d+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),r.className=d,this.autoItemsHeight){r.style.whiteSpace="pre-line";h=this.checkboxes?-20:0;r.style.width=h+l+"px"}null==w.html||""==w.label||null==w.label?r.innerHTML="Item":null!=w.html&&0<w.html.toString().length?r.innerHTML=w.html:null==w.label&&null==w.value||(null!=w.label?null!=w.label.toString().match(new RegExp("\\w"))||null!=w.label.toString().match(new RegExp("\\d"))?r.innerHTML=w.label:r.innerHTML="Item":r.innerHTML=w.value);u=1+r.offsetHeight;-1<this.itemHeight&&(u=this.itemHeight),m=u}null!=g&&(v=g),null!=w.html&&0<w.html.toString().length?v!=(g=Math.max(g,w.html.toString().length))&&(f=w.html):null!=w.label?v!=(g=Math.max(g,w.label.length))&&(f=w.label):null!=w.value&&v!=(g=Math.max(g,w.value.length))&&(f=w.value),i+=w.height=m,++i<=o&&n++}}r.innerHTML=f,t=r.offsetWidth}return i+=2,n<10&&(n=10),this.filterable&&(i+=this.filterHeight),r.parentNode.removeChild(r),{width:t,height:i,itemsPerPage:n}}},_getVirtualItemsCount:function(){if(0==this.virtualItemsCount){var e=parseInt(this.host.height())/5;return e>this.items.length&&(e=this.items.length),e}return this.virtualItemsCount},_addItems:function(e){if(!this._renderOnDemand&&1!=(r=this).updatingListBox){if(null==r.items||0==r.items.length)return r.virtualSize={width:0,height:0,itemsPerPage:0},r._updatescrollbars(),r.renderedVisibleItems=new Array,void(r.itemswrapper&&r.itemswrapper.children().remove());var t=r.host.height();if(0==e){var i=2*(p=r._calculateVirtualSize(t)).itemsPerPage;r.autoHeight&&(i=r.items.length),r.virtualItemsCount=Math.min(i,r.items.length);p.width;return r.virtualSize=p,void r._updatescrollbars()}var s=0;r.visibleItems=new Array,r.renderedVisibleItems=new Array,r._removeHandlers(),r.allowDrag&&r._enableDragDrop&&(r.itemswrapper=null),null==r.itemswrapper&&(r.content[0].innerHTML="",r.itemswrapper=H('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>'),r.itemswrapper[0].style.height=2*t+"px",r.content[0].appendChild(r.itemswrapper[0]));i=2*(p=r._calculateVirtualSize(t)).itemsPerPage;r.autoHeight&&(i=r.items.length),r.virtualItemsCount=Math.min(i,r.items.length);var r=this;p.width;r.virtualSize=p;var n=Math.max(r.host.width(),17+p.width);r.itemswrapper[0].style.width=n+"px";for(var o="",a=H.jqx.browser.msie&&H.jqx.browser.version<9?' unselectable="on"':"",l=0;l<r.virtualItemsCount;l++){var d=r.items[l];if(o+="<div"+a+" role='option' id='"+("listitem"+l+r.element.id)+"' class='jqx-listitem-element'>",r.checkboxes){o+='<div style="background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class="chkbox">';var h='<div class="'+r.toThemeProperty("jqx-checkbox-default")+" "+r.toThemeProperty("jqx-fill-state-normal")+" "+r.toThemeProperty("jqx-rc-all")+'"><div style="cursor: pointer; width: 13px; height: 13px;">';h+='<span style="width: 13px; height: 13px;" class="checkBoxCheck'+(d.checked?" "+r.toThemeProperty("jqx-checkbox-check-checked"):"")+'"></span>',o+=h+="</div></div>",o+="</div>"}o+="<span"+a+" style='white-space: pre; -ms-touch-action: none;'></span></div>"}this.WinJS?r.itemswrapper.html(o):r.itemswrapper[0].innerHTML=o;var c=r.itemswrapper.children();for(l=0;l<r.virtualItemsCount;l++){d=r.items[l];var u=H(c[l]);if(r.allowDrag&&r._enableDragDrop&&u.addClass("draggable"),r.checkboxes){H(u.children()[0]);u.css("float","left"),H(u[0].firstChild).css("float","left")}u[0].style.height=d.height+"px",u[0].style.top=s+"px",s+=d.height+1,r.visualItems[l]=u}if(r._addHandlers(),r._updatescrollbars(),r.autoItemsHeight){var p;i=2*(p=r._calculateVirtualSize(t)).itemsPerPage;r.autoHeight&&(i=r.items.length),r.virtualItemsCount=Math.min(i,r.items.length);r=this,p.width;r.virtualSize=p,r._updatescrollbars()}H.jqx.browser.msie&&H.jqx.browser.version<8&&(r.host.attr("hideFocus",!0),r.host.find("div").attr("hideFocus",!0))}},_updatescrollbars:function(){var e=this;if(e.virtualSize){var t=e.virtualSize.height,i=e.virtualSize.width,s=e.vScrollInstance,r=e.hScrollInstance;e._arrange(!1);var n=!1,o=e.host.outerWidth(),a=e.host.outerHeight(),l=0;if(o<i&&(l=e.hScrollBar.outerHeight()+2),a<t+l){var d=s.max;s.max=2+parseInt(t)+l-parseInt(a-2),"inherit"!=e.vScrollBar[0].style.visibility&&(e.vScrollBar[0].style.visibility="inherit",n=!0),d!=s.max&&s._arrange()}else"hidden"!=e.vScrollBar[0].style.visibility&&(e.vScrollBar[0].style.visibility="hidden",n=!0,s.setPosition(0));var h=0;"hidden"!=e.vScrollBar[0].style.visibility&&(h=e.scrollBarSize+6);var c=e.checkboxes?20:0;if(e.autoItemsHeight)e.hScrollBar[0].style.visibility="hidden";else if(o-h-c<=i){var u=r.max;"inherit"==e.vScrollBar[0].style.visibility?r.max=c+h+parseInt(i)-e.host.width()+4:r.max=c+parseInt(i)-e.host.width()+6,"inherit"!=e.hScrollBar[0].style.visibility&&(e.hScrollBar[0].style.visibility="inherit",n=!0),u!=r.max&&r._arrange(),"inherit"==e.vScrollBar[0].style.visibility&&(s.max=2+parseInt(t)+e.hScrollBar.outerHeight()+2-parseInt(e.host.height()))}else"hidden"!=e.hScrollBar[0].style.visibility&&(e.hScrollBar[0].style.visibility="hidden",n=!0);r.setPosition(0),n&&e._arrange(),e.itemswrapper&&(e.itemswrapper[0].style.width=Math.max(0,Math.max(o-2,17+i))+"px",e.itemswrapper[0].style.height=Math.max(0,2*a)+"px"),e.isTouchDevice()&&("visible"!=e.vScrollBar.css("visibility")&&"visible"!=e.hScrollBar.css("visibility")?H.jqx.mobile.setTouchScroll(!1,e.element.id):H.jqx.mobile.setTouchScroll(!0,e.element.id))}},clear:function(){this.source=null,this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.itemsByValue=new Array,this.clearSelection(),this.refresh()},clearSelection:function(e){for(var t=0;t<this.selectedIndexes.length;t++)this.selectedIndexes[t]&&-1!=this.selectedIndexes[t]&&this._raiseEvent("1",{index:t,type:"api",item:this.getVisibleItem(t),originalEvent:null}),this.selectedIndexes[t]=-1;this.selectedIndex=-1,this.selectedValue=null,this.selectedValues=new Array,0!=e&&this._renderItems()},unselectIndex:function(e,t){if(!isNaN(e)){for(var i=!(this.selectedIndexes[e]=-1),s=0;s<this.selectedIndexes.length;s++){var r=this.selectedIndexes[s];-1!=r&&null!=r&&(i=!0)}if(!i){this.selectedValue=null,this.selectedIndex=-1;var n=this.getVisibleItem(e);n&&this.selectedValues[n.value]&&(this.selectedValues[n.value]=null)}null!=t&&1!=t||(this._renderItems(),this._raiseEvent("1",{index:e,type:"api",item:this.getVisibleItem(e),originalEvent:null})),this._updateInputSelection(),this._raiseEvent("2",{index:e,type:"api",item:this.getItem(e)})}},getInfo:function(){var o=this,e=this.getItems(),a=this.getVisibleItems(),t=function(){var e=o.vScrollInstance.value;o.filterable&&(e-=o.filterHeight);for(var t=new Array,i=0;i<a.length;i++){var s=a[i];if(s){var r=s.initialTop,n=!0;(r+s.height-e<0||r-e>=o.host.height())&&(n=!1),n&&t.push(s)}}return t}();return{items:e,visibleItems:a,viewItems:t}},getItem:function(e){if(-1==e||isNaN(e)||"string"==typeof e)return-1===e?null:this.getItemByValue(e);var t=null;H.each(this.items,function(){if(this.index==e)return t=this,!1});return t},getVisibleItem:function(e){return-1==e||isNaN(e)||"string"==typeof e?-1===e?null:this.getItemByValue(e):this.visibleItems[e]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(e,t,i){if(this.checkboxes&&!isNaN(e)&&!(e<0||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled)){var s=this.getItem(e);if(0<this.groups.length||this.filterable)s=this.getVisibleItem(e);if(null!=s){H(s.checkBoxElement);s.checked=!0,null!=t&&1!=t||this._updateCheckedItems()}null!=i&&1!=i||this._raiseEvent(3,{label:s.label,value:s.value,checked:!0,item:s})}},getCheckedItems:function(){if(!this.checkboxes)return null;var e=new Array;return null!=this.items?(H.each(this.items,function(){this.checked&&(e[e.length]=this)}),e):void 0},checkAll:function(e){if(this.checkboxes&&!this.disabled){var t=this;H.each(this.items,function(){!1!==e&&!0!==this.checked&&t._raiseEvent(3,{label:this.label,value:this.value,checked:!0,item:this}),this.checked=!0}),this._updateCheckedItems()}},uncheckAll:function(e){if(this.checkboxes&&!this.disabled){var t=this;H.each(this.items,function(){!1!==e&&!1!==this.checked&&(this.checked=!1,t._raiseEvent(3,{label:this.label,value:this.value,checked:!1,item:this})),this.checked=!1}),this._updateCheckedItems()}},uncheckIndex:function(e,t,i){if(this.checkboxes&&!isNaN(e)&&!(e<0||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled)){var s=this.getItem(e);if(0<this.groups.length||this.filterable)s=this.getVisibleItem(e);if(null!=s){H(s.checkBoxElement);s.checked=!1,null!=t&&1!=t||this._updateCheckedItems()}null!=i&&1!=i||this._raiseEvent(3,{label:s.label,value:s.value,checked:!1,item:s})}},indeterminateIndex:function(e,t,i){if(this.checkboxes&&!isNaN(e)&&!(e<0||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled)){var s=this.getItem(e);if(0<this.groups.length||this.filterable)s=this.getVisibleItem(e);if(null!=s){H(s.checkBoxElement);(s.checked=null)!=t&&1!=t||this._updateCheckedItems()}null!=i&&1!=i||this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var e=this.getVisibleItems(),t=this.selectedIndexes,i=[];for(var s in t)-1!=t[s]&&(i[i.length]=e[s]);return i},getSelectedItem:function(){var e=this.getSelectedItems();return e&&0<e.length?e[0]:null},_updateCheckedItems:function(){var e=this.selectedIndex;this.clearSelection(!1);this.getCheckedItems();this.selectedIndex=e,this._renderItems();var t=H.data(this.element,"hoveredItem");null!=t&&(H(t).addClass(this.toThemeProperty("jqx-listitem-state-hover")),H(t).addClass(this.toThemeProperty("jqx-fill-state-hover"))),this._updateInputSelection()},getItemByValue:function(e){if(null!=this.visibleItems){if(e&&e.value&&(e=e.value),this.itemsByValue)return this.itemsByValue[H.trim(e).split(" ").join("?")];for(var t=this.visibleItems,i=0;i<t.length;i++)if(t[i].value==e)return t[i]}},checkItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.checkIndex(t.visibleIndex,!0)}return!1},uncheckItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.uncheckIndex(t.visibleIndex,!0)}return!1},indeterminateItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.indeterminateIndex(t.visibleIndex,!0)}return!1},val:function(i){if(this.input){if(function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return"number"!=typeof i&&"date"!=typeof i&&"boolean"!=typeof i&&"string"!=typeof i}(i)||0==arguments.length)return this.input.val();var e=this.getItemByValue(i);return null!=e&&this.selectItem(e),this.input?this.input.val():void 0}},selectItem:function(e){if(null!=e){if(null==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.selectIndex(e.visibleIndex,!0)}return this.clearSelection(),!1},unselectItem:function(e){if(null!=e){if(null==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.unselectIndex(e.visibleIndex,!0)}return!1},selectIndex:function(e,t,i,s,r,n){if(!isNaN(e)){var o=this.selectedIndex;if(this.filterable&&(this.selectedIndex=-1),!(e<-1||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled)){if(this.multiple||this.multipleextended||this.selectedIndex!=e||s||this.checkboxes){if(this.checkboxes){this._updateCheckedItems();var a=o;this.selectedIndex!=e||this.multiple||(a=-1),null==r&&(r="none");var l=this.getItem(e),d=this.getItem(a);return this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),d=this.getVisibleItem(a)),this._raiseEvent("1",{index:a,type:r,item:d,originalEvent:n}),this.selectedIndex=e,this.selectedIndexes[a]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:r,item:l,originalEvent:n}),void this._renderItems()}var h=!(this.focused=!0);this.selectedIndex!=e&&(h=!0);a=o;this.selectedIndex!=e||this.multiple||(a=-1),null==r&&(r="none");l=this.getItem(e),d=this.getItem(a);if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),d=this.getVisibleItem(a)),null!=s&&s)this._raiseEvent("1",{index:a,type:r,item:d,originalEvent:n}),this.selectedIndex=e,this.selectedIndexes[a]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:r,item:l,originalEvent:n});else{var c=this,u=function(e,t,i,s,r,n){c._raiseEvent("1",{index:t,type:i,item:s,originalEvent:n}),c.selectedIndex=e,c.selectedIndexes=[],t=e,c.selectedIndexes[e]=e,c.selectedValues=new Array,r&&(c.selectedValues[r.value]=r.value),c._raiseEvent("0",{index:e,type:i,item:r,originalEvent:n})},p=function(e,t,i,s,r,n){null==c.selectedIndexes[e]||-1==c.selectedIndexes[e]?(c.selectedIndexes[e]=e,c.selectedIndex=e,r&&(c.selectedValues[r.value]=r.value,c._raiseEvent("0",{index:e,type:i,item:r,originalEvent:n}))):(t=c.selectedIndexes[e],(s=c.getVisibleItem(t))&&(c.selectedValues[s.value]=null),c.selectedIndexes[e]=-1,c.selectedIndex=-1,c._raiseEvent("1",{index:t,type:i,item:s,originalEvent:n}))};if(this.multipleextended)if(this._shiftKey||this._ctrlKey){if(this._ctrlKey)"keyboard"==r&&(this.clearSelection(!1),c._clickedIndex=e),p(e,a,r,d,l,n);else if(this._shiftKey){null==c._clickedIndex&&(c._clickedIndex=a);var m=Math.min(c._clickedIndex,e),f=Math.max(c._clickedIndex,e);this.clearSelection(!1);for(var g=m;g<=f;g++)c.selectedIndexes[g]=g,c.selectedValues[c.getVisibleItem(g).value]=c.getVisibleItem(g).value,c._raiseEvent("0",{index:g,type:r,item:this.getVisibleItem(g),originalEvent:n});c.selectedIndex="keyboard"!=r?c._clickedIndex:e}}else"keyboard"!=r&&"mouse"!=r?(p(e,a,r,d,l,n),c._clickedIndex=e):(this.clearSelection(!1),u(c._clickedIndex=e,a,r,d,l,n));else this.multiple?p(e,a,r,d,l,n):(l&&(this.selectedValue=l.value),u(e,a,r,d,l,n))}return null!=i&&1!=i||this._renderItems(),null!=t&&null!=t&&1==t&&this.ensureVisible(e),this._raiseEvent("2",{index:e,item:l,oldItem:d,type:r,originalEvent:n}),this._updateInputSelection(),h}this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e))&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value)}}},_updateInputSelection:function(){this._syncSelection();var i=new Array;if(this.input&&(-1==this.selectedIndex?this.input.val(""):this.items&&null!=this.items[this.selectedIndex]&&(this.input.val(this.items[this.selectedIndex].value),i.push(this.items[this.selectedIndex].value)),this.multiple||this.multipleextended||this.checkboxes)){var e=this.checkboxes?this.getCheckedItems():this.getSelectedItems(),t="";if(e){for(var s=0;s<e.length;s++)null!=e[s]&&(s==e.length-1?t+=e[s].value:t+=e[s].value+",",i.push(e[s].value));this.input.val(t)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?H.each(this.field,function(e,t){H(this).removeAttr("selected"),this.selected=0<=i.indexOf(this.value),this.selected&&H(this).attr("selected",!0)}):H.each(this.items,function(e,t){H(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=0<=i.indexOf(this.value),this.selected&&H(this.originalItem.originalItem).attr("data-selected",!0)}))},isIndexInView:function(e){if(isNaN(e))return!1;if(!this.items)return!1;if(e<0||e>=this.items.length)return!1;var t=this.vScrollInstance.value,i=0;this.filterable&&(i=this.filterHeight);var s=this.visibleItems[e];if(null==s)return!0;var r=s.initialTop,n=s.height;return!(r-t<i||r-t+i+n>=this.host.outerHeight())},_itemsInPage:function(){var e=0,t=this;return this.items&&H.each(this.items,function(){if(this.initialTop+this.height>=t.content.height())return!1;e++}),e},_firstItemIndex:function(){return null!=this.visibleItems?this.visibleItems[0]&&this.visibleItems[0].isGroup?this._nextItemIndex(0):0:-1},_lastItemIndex:function(){return null!=this.visibleItems?this.visibleItems[this.visibleItems.length-1]&&this.visibleItems[this.visibleItems.length-1].isGroup?this._prevItemIndex(this.visibleItems.length-1):this.visibleItems.length-1:-1},_nextItemIndex:function(e){for(indx=e+1;indx<this.visibleItems.length;indx++)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},_prevItemIndex:function(e){for(indx=e-1;0<=indx;indx--)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},clearFilter:function(){this.filterInput.val(""),this._updateItemsVisibility("")},_search:function(e){var t=this.filterInput.val();if(9!=e.keyCode&&"none"!=this.searchMode&&null!=this.searchMode&&"undefined"!=this.searchMode&&16!=e.keyCode&&17!=e.keyCode&&20!=e.keyCode)return 37!=e.keyCode&&39!=e.keyCode&&void(e.altKey||18==e.keyCode||33<=e.keyCode&&e.keyCode<=40||(e.ctrlKey||e.metaKey||this.ctrlKey)&&88!=e.keyCode&&86!=e.keyCode||t!==this.searchString&&this._updateItemsVisibility(t))},_updateItemsVisibility:function(s){var e=this.getItems();if(null==e)return{index:-1,matchItem:new Array};var r=this,n=new Array,o=0;H.each(e,function(e){var t="";if(!this.isGroup){t=(t=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem").toString();var i=!1;switch(r.searchMode){case"containsignorecase":i=H.jqx.string.containsIgnoreCase(t,s);break;case"contains":i=H.jqx.string.contains(t,s);break;case"equals":i=H.jqx.string.equals(t,s);break;case"equalsignorecase":i=H.jqx.string.equalsIgnoreCase(t,s);break;case"startswith":i=H.jqx.string.startsWith(t,s);break;case"startswithignorecase":i=H.jqx.string.startsWithIgnoreCase(t,s);break;case"endswith":i=H.jqx.string.endsWith(t,s);break;case"endswithignorecase":i=H.jqx.string.endsWithIgnoreCase(t,s)}i||(this.visible=!1),i&&((n[o++]=this).visible=!0,this.visibleIndex),""==s&&(i=!(this.visible=!0))}}),r.renderedVisibleItems=new Array,r.visibleItems=new Array,r.vScrollInstance.setPosition(0,!0),r._addItems(!1),r._renderItems();for(var t=0;t<r.items.length;t++)r.selectedIndexes[t]=-1;for(var i in r.selectedIndex=-1,r.selectedValues){s=r.selectedValues[i];var a=r.getItemByValue(s);a&&a.visible&&(r.selectedIndex=a.visibleIndex,r.selectedIndexes[a.visibleIndex]=a.visibleIndex)}r._syncSelection(),r.filterChange&&r.filterChange(s)},_getMatches:function(s,r){if(null==s||0==s.length)return-1;null==r&&(r=0);var e=this.getItems(),n=this,o=-1;return H.each(e,function(e){var t="";if(!this.isGroup){t=this.searchLabel?this.searchLabel.toString():this.label?this.label.toString():this.value?this.value.toString():this.title?this.title.toString():"jqxItem";var i=!1;switch(n.searchMode){case"containsignorecase":i=H.jqx.string.containsIgnoreCase(t,s);break;case"contains":i=H.jqx.string.contains(t,s);break;case"equals":i=H.jqx.string.equals(t,s);break;case"equalsignorecase":i=H.jqx.string.equalsIgnoreCase(t,s);break;case"startswith":i=H.jqx.string.startsWith(t,s);break;case"startswithignorecase":i=H.jqx.string.startsWithIgnoreCase(t,s);break;case"endswith":i=H.jqx.string.endsWith(t,s);break;case"endswithignorecase":i=H.jqx.string.endsWithIgnoreCase(t,s)}if(i&&this.visibleIndex>=r)return o=this.visibleIndex,!1}}),o},findItems:function(s){var e=this.getItems(),r=this,n=0,o=new Array;return H.each(e,function(e){var t="";if(!this.isGroup){t=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var i=!1;switch(r.searchMode){case"containsignorecase":i=H.jqx.string.containsIgnoreCase(t,s);break;case"contains":i=H.jqx.string.contains(t,s);break;case"equals":i=H.jqx.string.equals(t,s);break;case"equalsignorecase":i=H.jqx.string.equalsIgnoreCase(t,s);break;case"startswith":i=H.jqx.string.startsWith(t,s);break;case"startswithignorecase":i=H.jqx.string.startsWithIgnoreCase(t,s);break;case"endswith":i=H.jqx.string.endsWith(t,s);break;case"endswithignorecase":i=H.jqx.string.endsWithIgnoreCase(t,s)}i&&(o[n++]=this)}}),o},_syncSelection:function(){var e=this;if(e.filterable){if(e.items)for(var t=0;t<e.items.length;t++){(i=e.items[t]).selected=!1}for(t=0;t<e.visibleItems.length;t++){var i=e.visibleItems[t];e.selectedIndexes&&e.selectedIndexes[t]==i.visibleIndex&&(i.selected=!0)}e.itemswrapper&&e._renderItems()}},_handleKeyDown:function(e){var t=e.keyCode,i=this,s=i.selectedIndex,r=i.selectedIndex;if(this.keyboardNavigation&&this.enableSelection&&(!this.filterInput||e.target!=this.filterInput[0])){var n,o=function(){(i.multiple||i.checkboxes)&&i.clearSelection(!1)};if(e.altKey&&(t=-1),32==t&&this.checkboxes)return null!=(n=this.getItem(s))&&(i._updateItemCheck(n,s),e.preventDefault()),i._searchString="",i.selectIndex(n.visibleIndex,!1,!0,!0,"keyboard",e),void i._renderItems();if(i.incrementalSearch){var a=-1;i._searchString||(i._searchString=""),(8==t||46==t)&&1<=i._searchString.length&&(i._searchString=i._searchString.substr(0,i._searchString.length-1));var l=String.fromCharCode(t),d=!isNaN(parseInt(l)),h=!1;if(65<=t&&t<=97||d||8==t||32==t||46==t){e.shiftKey||(l=l.toLocaleLowerCase());var c=1+i.selectedIndex;8!=t&&32!=t&&46!=t&&(0<i._searchString.length&&i._searchString.substr(0,1)==l&&(c=1+i.selectedIndex),i._searchString+=l),32==t&&(i._searchString+=" ");var u=this._getMatches(i._searchString,c);if((a=u)==i._lastMatchIndex||-1==a){u=this._getMatches(i._searchString,0);a=u}if(0<=(i._lastMatchIndex=a)){i._toSelectTimer&&clearTimeout(i._toSelectTimer),i._toSelectTimer=setTimeout(function(){o(),i.selectIndex(a,!1,!1,!1,"keyboard",e),i.isIndexInView(a)?i._renderItems():i.ensureVisible(a)},i.incrementalSearchKeyDownDelay)}h=!0}if(null!=i._searchTimer&&clearTimeout(i._searchTimer),27!=t&&13!=t||(i._searchString=""),i._searchTimer=setTimeout(function(){i._searchString="",i._renderItems()},i.incrementalSearchDelay),0<=a)return;if(h)return!1}if(33==t){var p=i._itemsInPage();0<=i.selectedIndex-p?(o(),i.selectIndex(r-p,!1,!1,!1,"keyboard",e)):(o(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""}if(32==t&&this.checkboxes)null!=(n=this.getItem(s))&&(i._updateItemCheck(n,s),e.preventDefault()),i._searchString="";if(36==t&&(o(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),35==t&&(o(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),34==t){p=i._itemsInPage();i.selectedIndex+p<i.visibleItems.length?(o(),i.selectIndex(r+p,!1,!1,!1,"keyboard",e)):(o(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""}if(38==t){if(i._searchString="",!(0<i.selectedIndex))return!1;if((m=i._prevItemIndex(i.selectedIndex))==i.selectedIndex||-1==m)return!0;o(),i.selectIndex(m,!1,!1,!1,"keyboard",e)}else if(40==t){if(i._searchString="",!(i.selectedIndex+1<i.visibleItems.length))return!1;var m;if((m=i._nextItemIndex(i.selectedIndex))==i.selectedIndex||-1==m)return!0;o(),i.selectIndex(m,!1,!1,!1,"keyboard",e)}return 35!=t&&36!=t&&38!=t&&40!=t&&34!=t&&33!=t||(i.isIndexInView(i.selectedIndex)?i._renderItems():i.ensureVisible(i.selectedIndex),!1)}},_updateItemCheck:function(e,t){if(!this.disabled)switch(1==e.checked?e.checked=!(!e.hasThreeStates||!this.hasThreeStates)&&null:e.checked=null!=e.checked,e.checked){case!0:this.checkIndex(t);break;case!1:this.uncheckIndex(t);break;default:this.indeterminateIndex(t)}},wheel:function(e,t){if(t.autoHeight||!t.enableMouseWheel)return e.returnValue=!0;if(t.disabled)return!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!s&&(s=!1,e.returnValue=s)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){var t=this.vScrollInstance.value;return e<0?this.scrollDown():this.scrollUp(),t!=this.vScrollInstance.value},focus:function(){try{this.focused=!0,this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25)}catch(e){}},_removeHandlers:function(){this.removeHandler(H(document),"keydown.listbox"+this.element.id),this.removeHandler(H(document),"keyup.listbox"+this.element.id),this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this._mousewheelfunc?this.removeHandler(this.host,"mousewheel",this._mousewheelfunc):this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.content,"mouseleave"),this.removeHandler(this.content,"focus"),this.removeHandler(this.content,"blur"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.content,"mouseenter"),this.removeHandler(this.content,"mouseup"),this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"touchend"),this._mousemovefunc?this.removeHandler(this.content,"mousemove",this._mousemovefunc):this.removeHandler(this.content,"mousemove"),this.removeHandler(this.content,"selectstart"),this.overlayContent&&this.removeHandler(this.overlayContent,H.jqx.mobile.getTouchEventName("touchend"))},_updateSize:function(){this.virtualSize||(this._oldheight=null,this.virtualSize=this._calculateVirtualSize());var e=this;if(e._arrange(),e.host.height()!=e._oldheight||e.host.width()!=e._oldwidth){e.host.width(),e._oldwidth;if(e.autoItemsHeight)e._render(!1);else if(e.items)if(0<e.items.length&&e.virtualItemsCount*e.items[0].height<e._oldheight-2)e._render(!1);else{var t=e.vScrollInstance.value;e._updatescrollbars(),e._renderItems(),t<e.vScrollInstance.max?e.vScrollInstance.setPosition(t):e.vScrollInstance.setPosition(e.vScrollInstance.max)}e._oldwidth=e.host.width(),e._oldheight=e.host.height()}},_addHandlers:function(){var c=this,u=(this.focused=!1,new Date,this.isTouchDevice());this.addHandler(this.vScrollBar,"valueChanged",function(e){H.jqx.browser.msie&&9<H.jqx.browser.version?setTimeout(function(){c._renderItems()},1):c._renderItems()}),this.addHandler(this.hScrollBar,"valueChanged",function(){c._renderItems()}),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this._mousewheelfunc=function(e){c.wheel(e,c)},this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(H(document),"keydown.listbox"+this.element.id,function(e){c._ctrlKey=e.ctrlKey||e.metaKey,c._shiftKey=e.shiftKey}),this.addHandler(H(document),"keyup.listbox"+this.element.id,function(e){c._ctrlKey=e.ctrlKey||e.metaKey,c._shiftKey=e.shiftKey}),this.addHandler(this.host,"keydown",function(e){return c._handleKeyDown(e)}),this.addHandler(this.content,"mouseleave",function(e){c.focused=!1;var t=H.data(c.element,"hoveredItem");null!=t&&(H(t).removeClass(c.toThemeProperty("jqx-listitem-state-hover")),H(t).removeClass(c.toThemeProperty("jqx-fill-state-hover")),H.data(c.element,"hoveredItem",null))}),this.addHandler(this.content,"focus",function(e){c.disabled||(c.host.addClass(c.toThemeProperty("jqx-fill-state-focus")),c.focused=!0)}),this.addHandler(this.content,"blur",function(e){c.focused=!1,c.host.removeClass(c.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(e){c.disabled||(c.host.addClass(c.toThemeProperty("jqx-fill-state-focus")),c.focused=!0)}),this.addHandler(this.host,"blur",function(e){H.jqx.browser.msie&&H.jqx.browser.version<9&&c.focused||(c.host.removeClass(c.toThemeProperty("jqx-fill-state-focus")),c.focused=!1)}),this.addHandler(this.content,"mouseenter",function(e){c.focused=!0});var p=H.jqx.utilities.hasTransform(this.host),m=c.isTouchDevice()&&!0!==this.touchMode,f=m?"touchend":"mousedown";if(this.overlayContent)this.addHandler(this.overlayContent,H.jqx.mobile.getTouchEventName("touchend"),function(e){if(!c.enableSelection)return!0;if(m&&(c._newScroll=new Date,c._newScroll-c._lastScroll<500))return!0;var t=H.jqx.mobile.getTouches(e)[0];if(null!=t){var i=c.host.offset(),s=parseInt(t.pageX),r=parseInt(t.pageY);1==c.touchMode&&null!=t._pageX&&(s=parseInt(t._pageX),r=parseInt(t._pageY)),s-=i.left,r-=i.top;var n=c._hitTest(s,r);if(null!=n&&!n.isGroup){if(c._newScroll=new Date,c._newScroll-c._lastScroll<500)return!1;if(c.checkboxes)return void c._updateItemCheck(n,n.visibleIndex);if(-1==n.html.indexOf("href"))return c.selectIndex(n.visibleIndex,!1,!0,!1,"mouse",e),e.preventDefault&&e.preventDefault(),c.content.trigger("click"),!1;setTimeout(function(){return c.selectIndex(n.visibleIndex,!1,!0,!1,"mouse",e),c.content.trigger("click"),!1},100)}}});else{var g=!1;this.addHandler(this.content,f,function(e){if(!c.enableSelection)return!0;if(g=!0,m&&(c._newScroll=new Date,c._newScroll-c._lastScroll<500))return!1;if(c.focused=!0,!c.isTouchDevice()&&c.focusable&&c.host.focus(),e.target.id!="listBoxContent"+c.element.id&&c.itemswrapper[0]!=e.target){var t=e.target,i=H(t).offset(),s=c.host.offset();if(p){var r=H.jqx.mobile.getLeftPos(t),n=H.jqx.mobile.getTopPos(t);i.left=r,i.top=n,r=H.jqx.mobile.getLeftPos(c.element),n=H.jqx.mobile.getTopPos(c.element),s.left=r,s.top=n}var o=parseInt(i.top)-parseInt(s.top),a=parseInt(i.left)-parseInt(s.left),l=c._hitTest(a,o);if(null!=l&&!l.isGroup){var d=function(e,t){if(c._shiftKey||(c._clickedIndex=e.visibleIndex),c.checkboxes)if(a=20+t.pageX-i.left,c.rtl){"hidden"!=c.hScrollBar.css("visibility")?c.hScrollInstance.max:c.host.width();a<=c.host.width()-20&&(c.allowDrag?setTimeout(function(){c._dragItem||g||(c._updateItemCheck(e,e.visibleIndex),c.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",t))},200):(c._updateItemCheck(e,e.visibleIndex),c.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",t)))}else 20<=a+c.hScrollInstance.value&&(c.allowDrag?setTimeout(function(){c._dragItem||g||(c._updateItemCheck(e,e.visibleIndex),c.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",t))},200):(c._updateItemCheck(e,e.visibleIndex),c.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",t)));else c.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",t)};l.disabled||(-1!=l.html.indexOf("href")?setTimeout(function(){d(l,e)},100):d(l,e))}if("mousedown"==f){var h=!1;return e.which?h=3==e.which:e.button&&(h=2==e.button),!!h}}return!0})}this.addHandler(this.content,"mouseup",function(e){c.vScrollInstance.handlemouseup(c,e),g=!1}),H.jqx.browser.msie&&this.addHandler(this.content,"selectstart",function(e){return!1});u=this.isTouchDevice();this.enableHover&&!u&&(this._mousemovefunc=function(e){if(u)return!0;if(!c.enableHover)return!0;1==H.jqx.browser.msie&&H.jqx.browser.version;if(null==e.target)return!0;if(c.disabled)return!0;if(c.focused=!0,!c.vScrollInstance.isScrolling()&&e.target.id!="listBoxContent"+c.element.id&&c.itemswrapper[0]!=e.target){var t=e.target,i=H(t).offset(),s=c.host.offset();if(p){var r=H.jqx.mobile.getLeftPos(t),n=H.jqx.mobile.getTopPos(t);i.left=r,i.top=n,r=H.jqx.mobile.getLeftPos(c.element),n=H.jqx.mobile.getTopPos(c.element),s.left=r,s.top=n}var o=parseInt(i.top)-parseInt(s.top),a=parseInt(i.left)-parseInt(s.left),l=c._hitTest(a,o);if(null!=l&&!l.isGroup&&!l.disabled){var d=H.data(c.element,"hoveredItem");null!=d&&(H(d).removeClass(c.toThemeProperty("jqx-listitem-state-hover")),H(d).removeClass(c.toThemeProperty("jqx-fill-state-hover"))),H.data(c.element,"hoveredItem",l.element);var h=H(l.element);h.addClass(c.toThemeProperty("jqx-listitem-state-hover")),h.addClass(c.toThemeProperty("jqx-fill-state-hover"))}}},this.addHandler(this.content,"mousemove",this._mousemovefunc))},_arrange:function(e){null==e&&(e=!0);var t=this,i=null,s=null,r=t.filterable?t.filterHeight:0,n=function(e){return 0==(e=t.host.height())&&(e=200,t.host.height(e)),e};null!=t.width&&-1!=t.width.toString().indexOf("px")?i=t.width:null==t.width||isNaN(t.width)||(i=t.width),null!=t.height&&-1!=t.height.toString().indexOf("px")?s=t.height:null==t.height||isNaN(t.height)||(s=t.height),null!=t.width&&-1!=t.width.toString().indexOf("%")&&(t.host.css("width",t.width),i=t.host.width()),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(t.host.css("height",t.height),s=n(s)),null!=i&&(i=parseInt(i),parseInt(t.element.style.width)!=parseInt(t.width)&&t.host.width(t.width)),t.autoHeight?t.virtualSize&&("hidden"!=t.hScrollBar.css("visibility")?(t.host.height(t.virtualSize.height+parseInt(t.scrollBarSize)+3),t.height=t.virtualSize.height+parseInt(t.scrollBarSize)+3,s=t.height):(t.host.height(t.virtualSize.height),t.height=t.virtualSize.height,s=t.virtualSize.height)):null!=s&&(s=parseInt(s),parseInt(t.element.style.height)!=parseInt(t.height)&&(t.host.height(t.height),n(s)));var o=t.scrollBarSize;isNaN(o)&&(o=parseInt(o),isNaN(o)?o="17px":o+="px"),o=parseInt(o);var a=2,l=1;if(t.vScrollBar&&("hidden"!=t.vScrollBar[0].style.visibility?l=o+4:t.vScrollInstance.setPosition(0),0==o&&(a=l=1),t.hScrollBar)){"hidden"!=t.hScrollBar[0].style.visibility?a=o+4:t.hScrollInstance.setPosition(0),t.autoItemsHeight&&(t.hScrollBar[0].style.visibility="hidden",a=0),null==s&&(s=0);var d=parseInt(s)-4-o;d<0&&(d=0),parseInt(t.hScrollBar[0].style.height)!=o&&(parseInt(o)<0&&(o=0),t.hScrollBar[0].style.height=parseInt(o)+"px"),t.hScrollBar[0].style.top!=d+"px"&&(t.hScrollBar[0].style.top=d+"px",t.hScrollBar[0].style.left="0px");var h=i-o-4;h<0&&(h=0);var c=h+"px";if(t.hScrollBar[0].style.width!=c&&(t.hScrollBar[0].style.width=c),l<=1&&2<=i&&(t.hScrollBar[0].style.width=parseInt(i-2)+"px"),o!=parseInt(t.vScrollBar[0].style.width)&&(t.vScrollBar[0].style.width=parseInt(o)+"px"),parseInt(s)-a!=parseInt(t.vScrollBar[0].style.height)){var u=parseInt(s)-a;u<0&&(u=0),t.vScrollBar[0].style.height=u+"px"}null==i&&(i=0);var p=parseInt(i)-parseInt(o)-4+"px";p!=t.vScrollBar[0].style.left&&(0<=parseInt(p)&&(t.vScrollBar[0].style.left=p),t.vScrollBar[0].style.top="0px");var m=t.vScrollInstance;m.disabled=t.disabled,e&&m._arrange();var f=t.hScrollInstance;if(f.disabled=t.disabled,e&&f._arrange(),"hidden"!=t.vScrollBar[0].style.visibility&&"hidden"!=t.hScrollBar[0].style.visibility?(t.bottomRight[0].style.visibility="inherit",t.bottomRight[0].style.left=1+parseInt(t.vScrollBar[0].style.left)+"px",t.bottomRight[0].style.top=1+parseInt(t.hScrollBar[0].style.top)+"px",t.rtl&&t.bottomRight.css({left:0}),t.bottomRight[0].style.width=parseInt(o)+3+"px",t.bottomRight[0].style.height=parseInt(o)+3+"px"):t.bottomRight[0].style.visibility="hidden",parseInt(t.content[0].style.width)!=parseInt(i)-l){var g=parseInt(i)-l;g<0&&(g=0),t.content[0].style.width=g+"px"}if(t.rtl&&(t.vScrollBar.css({left:"0px",top:"0px"}),t.hScrollBar.css({left:t.vScrollBar.width()+2+"px"}),"hidden"!=t.vScrollBar[0].style.visibility?t.content.css("margin-left",4+t.vScrollBar.width()):(t.content.css("margin-left",0),t.hScrollBar.css({left:"0px"})),t.filterable&&t.filterInput&&t.filterInput.css({left:t.vScrollBar.width()+6+"px"})),parseInt(t.content[0].style.height)!=parseInt(s)-a){var v=parseInt(s)-a;v<0&&(v=0),t.content[0].style.height=v+"px",t.content[0].style.top="0px"}0<r&&(t.content[0].style.top=r+"px",t.content[0].style.height=parseInt(t.content[0].style.height)-r+"px"),t.filterable?(t.filterInput[0].style.height=r-6+"px",t.filterInput[0].style.top="3px",t.rtl||(t.filterInput[0].style.left=parseInt(t.content.css("left"))+3+"px"),t.filterInput[0].style.width=parseInt(t.content.css("width"))-7+"px",t.filter[0].style.display="block"):t.filter[0].style.display="none",t.overlayContent&&(t.overlayContent.width(parseInt(i)-l),t.overlayContent.height(parseInt(s)-a))}},ensureVisible:function(e,t){isNaN(e)&&((i=this.getItemByValue(e))&&(e=i.index));if(this.isIndexInView(e)){if(t)for(indx=0;indx<this.visibleItems.length;indx++){if((i=this.visibleItems[indx]).visibleIndex==e&&!i.isGroup){r=this.vScrollInstance.value,l=i.initialTop;this.filterable&&(l=this.filterHeight+2+i.initialTop),r+this.host.height()<this.vScrollInstance.max&&this.vScrollInstance.setPosition(l)}}}else{if(e<0)return;if(this.autoHeight)(s=H.data(this.vScrollBar[0],"jqxScrollBar").instance).setPosition(0);else for(indx=0;indx<this.visibleItems.length;indx++){var i;if((i=this.visibleItems[indx]).visibleIndex==e&&!i.isGroup){var s,r=(s=H.data(this.vScrollBar[0],"jqxScrollBar").instance).value,n=this.filterable?this.filterHeight+2:0,o="hidden"===this.hScrollBar.css("visibility")?0:this.scrollBarSize+4;if(i.initialTop<r)s.setPosition(i.initialTop),0==indx&&s.setPosition(0);else if(i.initialTop+i.height>r+this.host.height()-n){var a=this.host.height();if(this.filterable?s.setPosition(this.filterHeight+2+i.initialTop+i.height+2-a+o):(s.setPosition(i.initialTop+i.height+2-a+o),indx===this.visibleItems.length-1&&s.setPosition(s.max)),t){var r=s.value,l=i.initialTop;this.filterable&&(l=this.filterHeight+2+i.initialTop),r+a<s.max&&s.setPosition(l)}}break}}}this._renderItems()},scrollTo:function(e,t){"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(t),"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollInstance.setPosition(e)},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value+e.largestep<=e.max?e.setPosition(e.value+e.largestep):e.setPosition(e.max),!0},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value-e.largestep>=e.min?(e.setPosition(e.value-e.largestep),!0):e.value!=e.min&&(e.setPosition(e.min),!0)},databind:function(e,t){this.records=new Array;var i=!!e._source,a=new H.jqx.dataAdapter(e,{autoBind:!1});i&&(e=(a=e)._source);var s=function(c,s){var r=function(e){var t=null;if("string"==typeof e)var i=e,s=e,r="";else if(null!=c.displayMember&&""!=c.displayMember)s=e[c.valueMember],i=e[c.displayMember];r="";if(c.groupMember?r=e[c.groupMember]:e&&null!=e.group&&(r=e.group),c.searchMember?t=e[c.searchMember]:e&&null!=e.searchLabel&&(t=e.searchLabel),c.valueMember||c.displayMember||"string"==H.type(e)&&(i=s=e.toString()),e&&null!=e.label)i=e.label;if(e&&null!=e.value)s=e.value;var n=!1;e&&null!=e.checked&&(n=e.checked);var o="";e&&null!=e.html&&(o=e.html);var a=!0;e&&null!=e.visible&&(a=e.visible);var l=!1;e&&null!=e.disabled&&(l=e.disabled);var d=!1;e&&null!=e.hasThreeStates&&(d=e.hasThreeStates);var h={};return h.label=i,h.value=s,h.searchLabel=t,h.html=o,h.visible=a,h.originalItem=e,h.group=r,h.groupHtml="",h.disabled=l,h.checked=n,h.hasThreeStates=d,h};if(null!=s&&a._changedrecords[0])return void H.each(a._changedrecords,function(){var e=this.index,t=this.record;if("remove"!=s)var i=r(t);switch(s){case"update":c.updateAt(i,e);break;case"add":c.insertAt(i,e);break;case"remove":c.removeAt(e)}});c.records=a.records;for(var e=c.records.length,t=new Array,i=0;i<e;i++){var n=c.records[i],o=r(n);t[o.index=i]=o}c.items=c.loadItems(t,!0),c._render(),c._raiseEvent("6")};null!=e.type&&(a._options.type=e.type),null!=e.formatdata&&(a._options.formatData=e.formatdata),null!=e.contenttype&&(a._options.contentType=e.contenttype),null!=e.async&&(a._options.async=e.async);var r=this;switch(e.datatype){case"local":case"array":default:(null!=e.localdata||H.isArray(e))&&(a.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!t)&&a.dataBind(),s(this),a.bindBindingUpdate(this.element.id,function(e){s(r,e)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=e.localdata)return a.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!t)&&a.dataBind(),s(this),void a.bindBindingUpdate(this.element.id,function(){s(r)});var n={};a._options.data?H.extend(a._options.data,n):(e.data&&H.extend(n,e.data),a._options.data=n);a.unbindDownloadComplete(r.element.id),a.bindDownloadComplete(r.element.id,function(){s(r)}),(this.autoBind||!this.autoBind&&!t)&&a.dataBind()}},loadItems:function(e,l){if(null==e)return this.groups=new Array,this.items=new Array,void(this.visualItems=new Array);var d=this,h=0,c=0,u=0;this.groups=new Array,this.items=new Array,this.visualItems=new Array;var p=new Array;this.itemsByValue=new Array,H.map(e,function(e){if(null==e)return null;var t=new H.jqx._jqxListBox.item,i=e.group,s=e.groupHtml,r=e.title,n=null;if(d.searchMember?n=e[d.searchMember]:e&&null!=e.searchLabel&&(n=e.searchLabel),null!=r&&null!=r||(r=""),null!=i&&null!=i||(i=""),d.groupMember&&(i=e[d.groupMember]),null!=s&&null!=s||(s=""),!d.groups[i]){d.groups[i]={items:new Array,index:-1,caption:i,captionHtml:s};var o=++h+"jqxGroup";d.groups[o]=d.groups[i],c++,d.groups.length=c}var a=d.groups[i];return a.index++,a.items[a.index]=t,"string"==typeof e?(t.label=e,t.value=e,1<arguments.length&&arguments[1]&&"string"==H.type(arguments[1])&&(t.label=e,t.value=arguments[1])):null==e.label&&null==e.value&&null==e.html&&null==e.group&&null==e.groupHtml?(t.label=e.toString(),t.value=e.toString()):(t.label=e.label,t.value=e.value,void 0===t.label&&(t.label=e.value),void 0===t.value&&(t.value=e.label)),"string"!=typeof e&&(void 0===e.label&&""!=d.displayMember&&(null!=e[d.displayMember]?t.label=e[d.displayMember]:t.label=""),void 0===e.value&&""!=d.valueMember&&(t.value=e[d.valueMember])),t.hasThreeStates=null==e.hasThreeStates||e.hasThreeStates,t.originalItem=e,l&&(t.originalItem=e.originalItem),(t.title=r)&&void 0===t.value&&void 0===t.label&&(t.value=t.label=r),t.html=e.html||"",e.html&&e.html,t.label,t.group=i,t.checked=e.checked||!1,t.groupHtml=e.groupHtml||"",t.disabled=e.disabled||!1,t.visible=null==e.visible||e.visible,t.searchLabel=n,t.index=u,p[u]=t,u++,t});var i=new Array,s=0;if(null==this.fromSelect||0==this.fromSelect)for(var t=0;t<c;t++){var r=(h=t+1)+"jqxGroup",n=this.groups[r];if(null==n||null==n)break;if(0==t&&""==n.caption&&""==n.captionHtml&&c<=1){for(var o=0;o<n.items.length;o++){var a=n.items[o].value;null!=n.items[o].value&&null!=n.items[o].value||(a=o),this.itemsByValue[H.trim(a).split(" ").join("?")]=n.items[o]}return n.items}var m=new H.jqx._jqxListBox.item;m.isGroup=!0,m.label=n.caption,""==n.caption&&""==n.captionHtml&&(n.caption=this.emptyGroupText,m.label=n.caption),m.html=n.captionHtml,i[s]=m,s++;for(var f=0;f<n.items.length;f++){i[s]=n.items[f];a=n.items[f].value;""!=n.items[f].value&&null!=n.items[f].value||(a=s),d.itemsByValue[H.trim(a).split(" ").join("?")]=n.items[f],s++}}else{s=0;var g=new Array;H.each(p,function(){if(!g[this.group]&&""!=this.group){var e=new H.jqx._jqxListBox.item;e.isGroup=!0,e.label=this.group,i[s]=e,s++,g[this.group]=!0}var t=(i[s]=this).value;""!=this.value&&null!=this.value||(t=s-1),d.itemsByValue[H.trim(t).split(" ").join("?")]=this,s++})}return i},_mapItem:function(e){var t=new H.jqx._jqxListBox.item;return this.displayMember&&(null==e.label&&(e.label=e[this.displayMember]),null==e.value&&(e.value=e[this.valueMember])),"string"==typeof e?(t.label=e,t.value=e):"number"==typeof e?(t.label=e.toString(),t.value=e.toString()):(t.label=void 0!==e.label?e.label:e.value,t.value=void 0!==e.value?e.value:e.label),null==t.label&&null==t.value&&null==t.html&&(t.label=t.value=e),t.html=e.html||"",t.group=e.group||"",t.checked=e.checked||!1,t.title=e.title||"",t.groupHtml=e.groupHtml||"",t.disabled=e.disabled||!1,t.visible=e.visible||!0,t},addItem:function(e){return this.insertAt(e,this.items?this.items.length:0)},_getItemByParam:function(e){if(null!=e&&null==e.index){var t=this.getItemByValue(e);t&&(e=t)}return e},insertItem:function(e,t){var i=this._getItemByParam(e);return this.insertAt(i,t)},updateItem:function(e,t){var i=this._getItemByParam(t);return!(!i||null==i.index)&&this.updateAt(e,i.index)},updateAt:function(e,t){if(null!=e){var i=this._mapItem(e);this.itemsByValue[H.trim(i.value).split(" ").join("?")]=this.items[t],this.items[t].value=i.value,this.items[t].label=i.label,this.items[t].html=i.html,this.items[t].disabled=i.disabled,this._raiseEvent("9",{item:this.items[t]})}this._cachedItemHtml=[],this._renderItems(),this.rendered&&this.rendered()},insertAt:function(e,t){if(null==e)return!1;if(this._cachedItemHtml=[],null==this.items||0==this.items.length){this.source=new Array,this.refresh(),(s=this._mapItem(e)).index=0,this.items[this.items.length]=s,this._addItems(!0),this._renderItems(),this.rendered&&this.rendered(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop();var i=s.value;return""!=s.value&&null!=s.value||(i=t),this.itemsByValue[H.trim(i).split(" ").join("?")]=s,!1}var s=this._mapItem(e);if(-1==t||null==t||null==t||t>=this.items.length)s.index=this.items.length,this.items[this.items.length]=s;else{for(var r=new Array,n=0,o=!1,a=0,l=0;l<this.items.length;l++)0==this.items[l].isGroup&&t<=a&&!o&&((r[n++]=s).index=t,a++,o=!0),r[n]=this.items[l],this.items[l].isGroup||(r[n].index=a,a++),n++;this.items=r}i=s.value;""!=s.value&&null!=s.value||(i=t),this.itemsByValue[H.trim(i).split(" ").join("?")]=s,this.visibleItems=new Array,this.renderedVisibleItems=new Array;var d=H.data(this.vScrollBar[0],"jqxScrollBar").instance,h=d.value;return d.setPosition(0),this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?this._addItems(!0):this._addItems(!1),this.groups.length,this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),d.setPosition(h),this._raiseEvent("7",{item:s}),this.rendered&&this.rendered(),!0},removeAt:function(e){if(e<0||e>this.items.length-1)return!1;if(null==e)return!1;var t=this.items[e].height;""!=(u=this.items[e].value)&&null!=u||(u=e),this.itemsByValue[H.trim(u).split(" ").join("?")]=null;var i=this.items[e];if(1<this.groups.length){for(var s=new Array,r=0;r<this.items.length;r++)this.items[r].isGroup||s.push({item:this.items[r],key:r});if(!s[e])return!1;this.items.splice(s[e].key,1)}else this.items.splice(e,1);var n=new Array,o=0,a=0;for(r=0;r<this.items.length;r++)n[o]=this.items[r],this.items[r].isGroup||(n[o].index=a,a++),o++;this.items=n;var l=H.data(this.vScrollBar[0],"jqxScrollBar").instance,d=(l=H.data(this.vScrollBar[0],"jqxScrollBar").instance).value;if(l.setPosition(0),this.visibleItems=new Array,this.renderedVisibleItems=new Array,0<this.items.length){if(this.virtualSize){this.virtualSize.height-=t;var h=2*this.virtualSize.itemsPerPage;this.autoHeight&&(h=this.items.length),this.virtualItemsCount=Math.min(h,this.items.length)}this._updatescrollbars()}else this._addItems();this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),"hidden"!=this.vScrollBar.css("visibility")?l.setPosition(d):l.setPosition(0),this.itemsByValue=new Array;for(var c=0;c<this.items.length;c++){var u=this.items[c].value;""!=this.items[c].value&&null!=this.items[c].value||(u=c),this.itemsByValue[H.trim(u).split(" ").join("?")]=this.items[c]}return this._raiseEvent("8",{item:i}),0===this.items.length&&(this.selectedIndex=-1,this.selectedValue=null,this._updateInputSelection()),this.rendered&&this.rendered(),!0},removeItem:function(e,t){var i=this._getItemByParam(e),s=-1;if(i&&null!=i.index&&!0!==t){for(var r=0;r<this.items.length;r++)if(this.items[r].label==i.label&&this.items[r].value==i.value){s=r;break}if(-1!=s)return this.removeAt(s)}if(-1==s)return this.removeAt(i.index)},getItems:function(){return this.items},disableItem:function(e){var t=this._getItemByParam(e);this.disableAt(t.index)},enableItem:function(e){var t=this._getItemByParam(e);this.enableAt(t.index)},disableAt:function(e){return!!this.items&&(!(e<0||e>this.items.length-1)&&(this.items[e].disabled=!0,this._renderItems(),!0))},enableAt:function(e){return!!this.items&&(!(e<0||e>this.items.length-1)&&(this.items[e].disabled=!1,this._renderItems(),!0))},destroy:function(){this.source&&this.source.unbindBindingUpdate&&this.source.unbindBindingUpdate(this.element.id),this._removeHandlers(),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar.remove(),this.hScrollBar.remove(),this.content.remove(),H.jqx.utilities.resize(this.host,null,!0);var e=H.data(this.element,"jqxListBox");delete this.hScrollInstance,delete this.vScrollInstance,delete this.vScrollBar,delete this.hScrollBar,delete this.content,delete this.bottomRight,delete this.itemswrapper,delete this.visualItems,delete this.visibleItems,delete this.items,delete this.groups,delete this.renderedVisibleItems,delete this._mousewheelfunc,delete this._mousemovefunc,delete this._cachedItemHtml,delete this.itemsByValue,delete this._activeElement,delete this.source,delete this.events,this.input&&(this.input.remove(),delete this.input),e&&delete e.instance,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.element=null,delete this.element,this.host=null,delete this.set,delete this.get,delete this.call,delete this.host},_raiseEvent:function(e,t){if(1==this._stopEvents)return!0;null==t&&(t={owner:null});var i=this.events[e];args=t,(args.owner=this)._updateInputSelection();var s=new H.Event(i);if(s.owner=this,s.args=args,null!=this.host)var r=this.host.trigger(s);return r}})}(jqxBaseFramework),function(h){h.jqx.parseSourceTag=function(e){var r=new Array,t=h(e).find("option"),n=h(e).find("optgroup"),o=!1;0===t.length&&0<(t=h(e).find("li")).length&&(o=!0);var a=null,l=(a=-1,new Array);if(h.each(t,function(e){var t=0<n.find(this).length,i=null;null==this.text||null!=this.label&&""!=this.label||(this.label=this.text),!0===o&&(this.label=h(this).text(),this.selected=h(this).attr("data-selected"),this.checked=this.selected,this.value=h(this).attr("data-value")||e,this.disabled=h(this).attr("disabled"));var s={style:this.style.cssText,selected:this.selected,html:this.innerHTML,classes:this.className,disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this};h.jqx.browser.msie&&h.jqx.browser.version<8&&!o&&""==s.value&&null!=this.text&&0<this.text.length&&(s.value=this.text),t&&(i=n.find(this).parent()[0].label,s.group=i,l[i]||(l[i]=new Array,l.length++),l[i].push(s)),this.selected&&(a=e),s.checked=this.selected,void 0!==s.label&&r.push(s)}),0<l.length){var i=new Array;for(var s in l)if("indexOf"!==s){for(var d=0;d<n.length;d++)if(s===n[d].label||n[d].text){n[d];break}h.each(l[s],function(e,t){void 0!==this.label&&i.push(this)})}}return i&&0<i.length?{items:i,index:a}:{items:r,index:a}},h.jqx._jqxListBox.item=function(){return{group:"",groupHtml:"",selected:!1,isGroup:!1,highlighted:!1,value:null,label:"",html:null,visible:!0,disabled:!1,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:!1,visibleIndex:-1}}}(jqxBaseFramework),function(c){c.jqx.jqxWidget("jqxListMenu","",{});var t=0,i=0;c.extend(c.jqx._jqxListMenu.prototype,{defineInstance:function(){var e={filterCallback:function(e,t){return c.jqx.string.containsIgnoreCase(c.trim(e),t)},placeHolder:"Filter list items...",showFilter:!1,showHeader:!0,showBackButton:!0,showNavigationArrows:!0,alwaysShowNavigationArrows:!1,backLabel:"Back",width:"100%",height:"auto",animationType:"slide",animationDuration:0,headerAnimationDuration:0,autoSeparators:!1,readOnly:!1,roundedCorners:!0,disabled:!1,enableScrolling:!0,touchMode:!1,_childrenMap:{},_parentMap:{},_lock:!1,_backButton:null,_currentPage:null,_header:null,_oldHost:void 0,rtl:!1,aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===c.jqx._jqxListMenu.prototype||c.extend(!0,this,e),e},destroy:function(){this.host.remove()},createInstance:function(){c.jqx.aria(this),this.host.attr("data-role","listmenu"),this.host.attr("role","tree")},refresh:function(e){this._render(),this._removeClasses(),this._addClasses(),this._currentPage=this._currentPage||this.host.children(".jqx-listmenu").first(),this._changeHeader(this._currentPage),this._removeEventHandlers(),this._addEventHandlers()},_render:function(){this._renderHost(),this._renderAutoSeparators(),this._renderSublists(),this._renderFilterBar(),this._renderHeader(),this.host.css({width:this.width,height:this.height}),this.disabled&&this.disable(),this.enableScrolling&&this.host.jqxPanel&&this.panel&&this.panel.jqxPanel("_arrange")},resize:function(e,t){this.width=e,this.height=t,this.host.css({width:this.width,height:this.height}),this.panel&&this.panel.jqxPanel("_arrange")},_renderHost:function(){this.host.is("div")?this.element.style.overflow="hidden":(this._oldHost=this.host,this.host.wrap("<div/>"),this.host=this.host.parent(),this.element=this.host[0],this.host.jqxPanel&&this.enableScrolling&&(this.host.wrap("<div/>"),this.panel=this.host.parent(),this.panel[0].id="panel"+this.element.id,this.panel.jqxPanel({theme:this.theme,autoUpdate:!0,width:this.width,height:this.height,touchMode:this.touchMode}),this.host.css({width:"100%"}),this.host.css({height:"auto"}),this.host.css("border","none"))),this.enableScrolling||(this.element.style.overflow="hidden"),c.jqx.browser.msie&&c.jqx.browser.version<8&&(this.element.style.position="relative"),this.enableScrolling&&this.panel&&this.panel.jqxPanel("_arrange")},_renderAutoSeparators:function(e){var t,i=this.host.find(".jqx-listmenu-auto-separator"),s=this.host.find('[data-role="listmenu"]');for(i.remove(),t=0;t<s.length;t+=1)((e=c(s[t])).data("auto-separators")||this.autoSeparators)&&this._renderListAutoSeparators(e)},_renderSublists:function(){var e,t,i,s,r,n=[this.host.find(".jqx-listmenu").first()[0]||this.host.find("ul,ol").first()[0]];for(this._refreshList(n[0]);n.length;){i=n.pop(),s=(e=this._getChildrenByTagName(i,"li","LI")).length;for(var o=0;o<s;o+=1)t=e[o],c(t).attr("role","treeitem"),r=this._getChildList(t),this._refreshLi(t,o,s),r&&(n.push(r),this._refreshList(r,t,!0))}},_refreshList:function(e,t,i){"listmenu"===(e=c(e)).data("role")&&(e.is(".jqx-listmenu")||(this._renderList(e),this._handleListId(e),this._addListClasses(e)),t&&this._expandHierarchy(e[0],t),i&&this._handleSublist(e[0]))},_renderList:function(e){(e=c(e)).is(".jqx-listmenu")||(e.detach(),e.appendTo(this.host))},_handleListId:function(e){e[0].id||(e[0].id="jqx-listmenu-"+i,i+=1)},_renderListAutoSeparators:function(e){for(var t,i,s=e.children("li"),r={},n=0;n<s.length;n+=1)if(!(i=c(s[n])).data("role")){if(c.trim(i.text())[0]!==t){t=c.trim(i.text())[0];var o=c('<li data-role="separator" class="'+this.toThemeProperty("jqx-listmenu-auto-separator")+'">'+t+"</li>");o.insertBefore(i),o[0].items=new Array,r=o[0]}r.items&&(r.items[r.items.length]=i[0])}},_addListClasses:function(e){e.addClass("jqx-listmenu")},_expandHierarchy:function(e,t){if(t&&e){var i=t.id,s=e.id;this._childrenMap[i]=s,this._parentMap[s]=i}},_handleSublist:function(e){this._currentPage&&e===this._currentPage[0]?e.style.display="block":e.style.display="none"},_getChildrenByTagName:function(e,t,i){var s=[],r={};for(r[t]=r[i]=!0,e=e.firstChild;e;)r[e.nodeName]&&s.push(e),e=e.nextSibling;return s},_renderFilterBar:function(){this._filterBar||(this._filterBar=c("<div/>"),this._filterInput=c('<input type="text" />'),this._filterBar.append(this._filterInput),this.host.prepend(this._filterBar));var e=!1;c.jqx.browser.msie&&c.jqx.browser.version<8&&(e=!0),e||this._filterInput.attr("placeholder",this.placeHolder),this.showFilter?this._filterBar.css("display","block"):this._filterBar.css("display","none")},_renderHeader:function(){this._header||(this._header=c("<div/>"),this.host.prepend(this._header),this._renderHeaderLabel()),this._renderBackButton(),this.showHeader?this._header.css("display","block"):this._header.css("display","none")},_renderHeaderLabel:function(){this._headerLabel=c("<span/>"),this._headerLabel.addClass(this.toThemeProperty("jqx-listmenu-header-label")),this._header.append(this._headerLabel)},_renderBackButton:function(){this._backButton||(this._backButton=c('<div><div style="float: left;"></div><span style="float: left;">'+this.backLabel+'</span><div style="clear:both;"></div></div>'),this._header.prepend(this._backButton),this._backButton.jqxButton({theme:this.theme}),this._backButton.find("div:first").addClass(this.toThemeProperty("jqx-listmenu-backbutton-arrow")),this.showBackButton?this._backButton.css("display","inline-block"):this._backButton.css("display","none"),this.rtl&&(c.jqx.browser.msie&&c.jqx.browser.version<8?(this._backButton.css("position","relative"),this._backButton.css("left","100%"),this._backButton.css("margin-left",-this._backButton.outerWidth()-45+"px")):(this._backButton.css("position","relative"),this._backButton.css("margin-left","100%"),this._backButton.css("left",-this._backButton.outerWidth()-15))));this.showBackButton?this._backButton.css("display","inline-block"):this._backButton.css("display","none")},_removeEventHandlers:function(){var e=this.isTouchDevice()&&!this.touchMode,t=c.jqx.mobile.getTouchEventName("touchstart");this.removeHandler(this._backButton,e?t:"click"),this.removeHandler(this._filterInput,"keyup"),this.removeHandler(this._filterInput,"change")},_addEventHandlers:function(){var e=this,t=this.isTouchDevice()&&!this.touchMode,i=c.jqx.mobile.getTouchEventName("touchstart");this.addHandler(this._backButton,t?i:"click",function(){e.back()}),this.addHandler(this._filterInput,"keyup change",function(){e._filter(c(this).val())})},_getChildList:function(e){if(e){var t=this._childrenMap[e.id];if(0<=e.className.indexOf("jqx-listmenu-item")&&t)return document.getElementById(t);var i=this._getChildrenByTagName(e,"ul","UL")[0],s=this._getChildrenByTagName(e,"ol","OL")[0];return i||s}},_refreshLi:function(e,t,i){if(e.parentNode&&"listmenu"===e.parentNode.getAttribute("data-role")){if(""==e.id);this._handleLiId(e),this._renderLi(e),this._removeLiEventHandlers(e),this._addLiEventHandlers(e),this._addLiClasses(e,t,i)}},_handleLiId:function(e){e.id||(e.id="jqx-listmenu-item-"+t,t+=1)},_renderLi:function(e){if(!(/(separator|header)/.test(c(e).data("role"))||0<c(e).children(".jqx-listmenu-arrow-right").length)&&(c(e).wrapInner('<span class="'+this.toThemeProperty("jqx-listmenu-item-label")+'"></span>'),this.showNavigationArrows||this.alwaysShowNavigationArrows)){var t=c("<span/>"),i=c(e).find("ul"),s=c(e).find("ol");(this.alwaysShowNavigationArrows||0<i.length&&/(listmenu)/.test(i.data("role"))||0<s.length&&/(listmenu)/.test(s.data("role")))&&(t.addClass(this.toThemeProperty("jqx-listmenu-arrow-right")),this.rtl?(t.addClass(this.toThemeProperty("jqx-icon-arrow-left")),t.addClass(this.toThemeProperty("jqx-listmenu-arrow-rtl")),t.prependTo(e)):(t.addClass(this.toThemeProperty("jqx-icon-arrow-right")),t.appendTo(e)))}},_removeLiEventHandlers:function(e){var t=this.isTouchDevice(),i=c.jqx.mobile.getTouchEventName("touchstart"),s=c.jqx.mobile.getTouchEventName("touchend"),r=(c.jqx.mobile.getTouchEventName("touchmove"),(t?i:"mousedown")+".listmenu"),n=(t?s:"mouseup")+".listmenu";this.removeHandler(c(e),r),this.removeHandler(c(document),n+"."+e.id)},isTouchDevice:function(){var e=c.jqx.mobile.isTouchDevice();return 1==this.touchMode&&(e=!0),e},_addLiEventHandlers:function(t){t=c(t);var i=this,s=this.toThemeProperty("jqx-listmenu-arrow-right-pressed"),r=t.children(".jqx-listmenu-arrow-right"),n=c.jqx.mobile.isTouchDevice(),e=c.jqx.mobile.getTouchEventName("touchstart"),o=c.jqx.mobile.getTouchEventName("touchend"),a=(c.jqx.mobile.getTouchEventName("touchmove"),(n?e:"mousedown")+".listmenu"),l=(n?o:"mouseup")+".listmenu",d=null,h="";/(separator|readonly)/.test(t.data("role"))||this.readOnly||(this.addHandler(t,"dragstart",function(){return!1}),this.addHandler(t,a,function(e){i.disabled||(d=e.target,h=c.jqx.position(e),0==t.find('div[data-role="content"]').length&&(n||(t.addClass(i.toThemeProperty("jqx-fill-state-pressed")),r.addClass(s))))}),this.addHandler(t,l,function(e){i.disabled||d!=e.target&&n||c.jqx.position(e).top===h.top&&i.next(t)}),this.addHandler(c(document),l+"."+t[0].id,function(){i.disabled||(t.removeClass(i.toThemeProperty("jqx-fill-state-pressed")),r.removeClass(s))}))},_addLiClasses:function(e,t,i){"separator"===(e=c(e)).data("role")?this._handleSeparatorStyle(e):"header"===e.data("role")?this._handleHeaderStyle(e):(this.readOnly||"readonly"===e.data("role")?e.addClass(this.toThemeProperty("jqx-listmenu-item-readonly")):e.removeClass(this.toThemeProperty("jqx-listmenu-item-readonly")),this._handleItemStyle(e)),0!==t||this.showHeader||this.showFilter||e.addClass(this.toThemeProperty("jqx-rc-t")),t===i-1&&e.addClass(this.toThemeProperty("jqx-rc-b"))},_handleSeparatorStyle:function(e){e.addClass(this.toThemeProperty("jqx-listmenu-separator")),e.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e[0].style.listStyle="none"},_handleHeaderStyle:function(e){e.css("display","none")},_handleItemStyle:function(e){e.addClass(this.toThemeProperty("jqx-listmenu-item")),this.rtl&&e.addClass(this.toThemeProperty("jqx-rtl")),e.addClass(this.toThemeProperty("jqx-fill-state-normal")),e.addClass(this.toThemeProperty("jqx-item"))},back:function(){var e,t=this._currentPage;t&&(e=this._parentMap[t[0].id]),this._back=!0,0<c("#"+e).length&&c.jqx.aria(c("#"+e),"aria-expanded",!1),this._changePage(t,c("#"+e).parent(),this.animationDuration,!0),this._back=!1},next:function(e){var t=e.attr("id"),i=this._childrenMap[t],s=c("#"+i),r=c("#"+t).parent();c.jqx.aria(e,"aria-expanded",!0),this._changePage(r,s,this.animationDuration)},changePage:function(e){if("string"==typeof e&&(e=c(e)),!e[0]||"listmenu"!==e.attr("data-role")||e.parents().index(this.host)<0)throw new Error("Invalid newPage. The chosen newPage is not listmenu or it's not part of the selected jqxListMenu hierarchy.");this._currentPage[0]!=e[0]&&this._changePage(this._currentPage,e,this.animationDuration)},_changePage:function(e,t,i,s){if(!this._lock){var r="_"+this.animationType+"Change"+(s?"Back":"");t[0]&&(this.showFilter&&(0<t.find('div[data-role="content"]').length?(c.each(t.find("li"),function(){"separator"===c(this).data("role")&&c(this).hide()}),this._filterBar.css("display","none")):this._filterBar.css("display","block")),this._lock=!0,this[r](e,t,this.animationDuration,function(){this._lock=!1,this._changeHeader(t),this._currentPage=t}))}},_changeHeader:function(e){var t=c(e).find('li[data-role="header"]').first();if(t[0]){var i=this;this._headerLabel.fadeOut(this.headerAnimationDuration/2,function(){i._headerLabel.html(t.html()),i._headerLabel.fadeIn(i.headerAnimationDuration/2)})}},_slideChange:function(e,t,i,s){var r=this;this.enableScrolling&&null!=this.panel&&this.panel.jqxPanel("scrollTo",0,0);var n=this.rtl;this._initSlide(e,t),n?e.animate({"margin-left":e.width()+parseInt(e.css("margin-right"),10)||0},i,"easeInOutSine"):e.animate({"margin-left":-e.width()-parseInt(e.css("margin-right"),10)||0},i,"easeInOutSine"),t.animate({"margin-left":0},i,"easeInOutSine",function(){r._slideEnd(e,t),s.call(r,c(this))})},_initSlide:function(e,t){var i=this.rtl;e.width(e.width()),t.css({marginTop:-e.outerHeight(!0),marginLeft:i?-e.width()-(parseInt(e.css("margin-right"),10)||0):e.width()+(parseInt(e.css("margin-right"),10)||0),display:"block",height:"auto",width:e.width()})},_slideEnd:function(e,t){this.host.css("height","auto"),e.css({display:"none",width:"auto",height:"auto",marginTop:0,marginLeft:0}),t.css({marginTop:0,marginLeft:0,height:"auto",width:"auto",display:"block"})},_slideChangeBack:function(e,t,i,s){var r=this;this._initSlideBack(e,t),e.animate({"margin-left":this.rtl?-e.width()-parseInt(e.css("margin-right"),10)||0:e.width()+parseInt(e.css("margin-right"),10)||0},i),t.animate({"margin-left":0},i,function(){r._slideEnd(e,t),s.call(r,c(this))})},_initSlideBack:function(e,t){e.css({marginTop:-t.outerHeight(!0),width:e.width()}),t.css({width:e.width(),marginLeft:this.rtl?e.width()+parseInt(e.css("margin-right"),10)||0:-e.width()-parseInt(e.css("margin-right"),10)||0,display:"block",height:"auto"})},_fadeChangeBack:function(e,t,i,s){this._fadeChange(e,t,i,s)},_fadeChange:function(e,t,i,s){var r=this;e.fadeOut(i/2,function(){t.fadeIn(i/2,function(){s.call(r,c(this))})})},_removeClasses:function(){this._filterBar.removeClass(this.toThemeProperty("jqx-listmenu-filter")),this._filterBar.removeClass(this.toThemeProperty("jqx-widget-header")),this._filterInput.removeClass(this.toThemeProperty("jqx-listmenu-filter-input")),this._filterInput.removeClass(this.toThemeProperty("jqx-input")),this._header.removeClass(this.toThemeProperty("jqx-listmenu-header")),this._header.removeClass(this.toThemeProperty("jqx-widget-header")),this._header.removeClass(this.toThemeProperty("jqx-rc-t")),this.roundedCorners&&this.host.removeClass(this.toThemeProperty("jqx-rc-all")),this.host.removeClass(this.toThemeProperty("jqx-widget")),this.host.removeClass(this.toThemeProperty("jqx-listmenu-widget")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this.host.removeClass(this.toThemeProperty("jqx-reset")),0<this.host.find('div[data-role="content"]').length&&this.host.find('div[data-role="content"]').removeClass(this.toThemeProperty("jqx-widget-content"))},_addClasses:function(){this.roundedCorners?this.host.addClass(this.toThemeProperty("jqx-rc-all")):this.host.removeClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass("jqx-widget"),this.host.addClass("jqx-listmenu-widget"),this.host.addClass("jqx-fill-state-normal"),this.host.addClass("jqx-reset"),this._filterBar.addClass(this.toThemeProperty("jqx-listmenu-filter")),this._filterBar.addClass(this.toThemeProperty("jqx-widget-header")),this._filterInput.addClass(this.toThemeProperty("jqx-listmenu-filter-input")),this._filterInput.addClass(this.toThemeProperty("jqx-input")),this._header.addClass(this.toThemeProperty("jqx-listmenu-header")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._header.addClass(this.toThemeProperty("jqx-rc-t")),0<this.host.find('div[data-role="content"]').length&&this.host.find('div[data-role="content"]').addClass(this.toThemeProperty("jqx-widget-content"))},_raiseEvent:function(){},_filter:function(e){for(var t=this.host.find(".jqx-listmenu-item"),i=0;i<t.length;i+=1){var s=c.trim(c(t[i]).text());this.filterCallback(s,e)?t[i].style.display="block":t[i].style.display="none"}for(t=this.host.find(".jqx-listmenu-separator"),i=0;i<t.length;i+=1){var r=!1;c.each(t[i].items,function(){if("none"!=c(this).css("display"))return!(r=!0)}),t[i].style.display=r?"block":"none"}},disable:function(){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!0},enable:function(){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1},propertyChangedHandler:function(e,t,i,s){if("disabled"==t&&(s?e.disable():e.enable()),"backLabel"!==t){if("placeHolder"===t)e._filterInput.attr("placeholder",s);else if(/(showFilter|showHeader|showBackButton|width|height|autoSeparators|readOnly)/.test(t))return void e._render()}else e._backButton.html(s)}})}(jqxBaseFramework),function(n){n.jqx.jqxWidget("jqxLoader","",{}),n.extend(n.jqx._jqxLoader.prototype,{defineInstance:function(){var e={width:200,height:150,text:"Loading...",html:null,textPosition:"bottom",imagePosition:"center",isModal:!1,autoOpen:!1,rtl:!1,events:["create"]};return this===n.jqx._jqxLoader.prototype||n.extend(!0,this,e),e},createInstance:function(e){this._render(!0),this._raiseEvent("0")},render:function(){this._render()},open:function(e,t){var i=this;null!==this.width&&-1!==this.width.toString().indexOf("%")&&i.host.css("width",this.width),null!==this.height&&-1!==this.height.toString().indexOf("%")&&i.host.css("height",this.height),i.host.show(),i.host.css("left",-i.host.width()/2),i.host.css("top",-i.host.height()/2),e&&t&&(i.host.css("left",e),i.host.css("top",t)),i.isModal&&i._modal.show()},close:function(){this.host.hide(),this.isModal&&this._modal.hide()},_checkBrowser:function(){var e=this;"msie"===n.jqx.browser.browser&&("7.0"===n.jqx.browser.version?(!1===e.isModal&&e.host.addClass(e.toThemeProperty("jqx-loader-ie-transparency")),e.host.css("top",Math.max(0,(n(window).height()-n(e.host).outerHeight())/2+n(window).scrollTop())+"px"),e.host.css("left",Math.max(0,(n(window).width()-n(e.host).outerWidth())/2+n(window).scrollLeft())+"px"),n(window).resize(function(){e.host.css("top",Math.max(0,(n(window).height()-n(e.host).outerHeight())/2+n(window).scrollTop())+"px"),e.host.css("left",Math.max(0,(n(window).width()-n(e.host).outerWidth())/2+n(window).scrollLeft())+"px")}),this.host.css({"margin-top":"0","margin-left":"0"})):"8.0"===n.jqx.browser.version&&!1===e.isModal&&e.host.addClass(e.toThemeProperty("jqx-loader-ie-transparency")))},_textPos:function(){var e=this;this._text=e.host.children("div:eq(1)"),this._image&&this._image.css("background-position-y",e.imagePosition),"top"===e.textPosition?(this._text.addClass(e.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-bottom")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-right"))):"bottom"===e.textPosition?(this._text.addClass(e.toThemeProperty("jqx-loader-text-bottom")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-right"))):"left"===e.textPosition?(this._text.addClass(e.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-right")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-bottom"))):"right"===e.textPosition&&(this._text.addClass(e.toThemeProperty("jqx-loader-text-right")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-bottom")))},refresh:function(e){!0!==e&&this._render(!1)},destroy:function(){this._removeHandlers(),this.host.remove()},propertyChangedHandler:function(e,t,i,s){if(s!==i)switch(t){case"width":e.host.width(s);break;case"height":e.host.height(s);break;case"text":e._text.text(s);break;case"html":e.host.html(s);break;case"textPosition":e._textPos(s);break;case"rtl":!0===s?e._text.addClass(e.toThemeProperty("jqx-loader-rtl")):e._text.removeClass(e.toThemeProperty("jqx-loader-rtl"))}},_raiseEvent:function(e,t){var i=this.events[e],s=new n.Event(i);s.owner=this,s.args=t;try{var r=this.host.trigger(s)}catch(e){}return r},_render:function(e){var t=this;if(t.host.width(t.width),t.host.height(t.height),!1===t.autoOpen&&t.host.hide(),e&&(null===t.html?(t.host.append('<div class="'+t.toThemeProperty("jqx-loader-icon")+'"></div><div class="'+t.toThemeProperty("jqx-loader-text")+'">'+t.text+"</div>"),t._image=t.host.children("div:eq(0)"),t._text=t.host.children("div:eq(1)")):t.host.html(this.html),!0===t.isModal)){var i=t.host.css("display");t._modal=n('<div id="'+t.element.id+'Modal" class="'+t.toThemeProperty("jqx-loader-modal")+'" style="display: '+i+';"></div>'),n("body").append(t._modal)}t._checkBrowser(),t._textPos(),t._addClass(),t._removeHandlers(),t._addHandlers()},_addHandlers:function(){var t=this;!0===t.isModal&&t.addHandler(n(document),"keyup.loader"+t.element.id,function(e){27===e.keyCode&&t.close()})},_removeHandlers:function(){this.removeHandler(n(document),"keyup.loader"+this.element.id)},_addClass:function(){var e=this;e.host.addClass(e.toThemeProperty("jqx-widget")),e.host.addClass(e.toThemeProperty("jqx-loader")),e.host.addClass(e.toThemeProperty("jqx-rc-all")),e.host.addClass(e.toThemeProperty("jqx-fill-state-normal")),e.rtl&&e._text.addClass(e.toThemeProperty("jqx-loader-rtl")),n.jqx.browser.msie&&e.host.addClass(this.toThemeProperty("jqx-noshadow")),e.host.addClass(this.toThemeProperty("jqx-rc-t")),e.host.addClass(this.toThemeProperty("jqx-rc-b")),e.host.addClass(this.toThemeProperty("jqx-popup"))}})}(jqxBaseFramework),function(d){d.jqx.jqxWidget("jqxMaskedInput","",{}),d.extend(d.jqx._jqxMaskedInput.prototype,{defineInstance:function(){var e={value:null,mask:"99999",width:null,height:25,textAlign:"left",readOnly:!1,cookies:!1,promptChar:"_",rtl:!1,disabled:!1,events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"],aria:{"aria-valuenow":{name:"value",type:"string"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===d.jqx._jqxMaskedInput.prototype||d.extend(!0,this,e),e},createInstance:function(){this.render()},render:function(){var r=this;r.element.setAttribute("role","textbox"),r.element.setAttribute("data-role","input");var e=r.element.getAttribute("value");void 0!==e&&""!==e&&null!==e&&(r.value=e),d.jqx.aria(this),d.jqx.aria(this,"aria-multiline",!1),d.jqx.aria(this,"aria-readonly",r.readOnly),r._helpers=[],r._helpers.element=new jqxHelper(r.element),r._helpers.element.addClass(r.toThemeProperty("jqx-input jqx-input-widget jqx-rc-all jqx-widget jqx-widget-content"));var t=r.element.getAttribute("name");if("div"===r.element.nodeName.toLowerCase()){r.element.innerHTML="";var i=document.createElement("input");i.setAttribute("type","textarea"),i.setAttribute("autocomplete","off"),i.setAttribute("autocorrect","off"),i.setAttribute("autocapitalize","off"),i.setAttribute("spellcheck",!1),i.setAttribute("name",t),r.element.appendChild(i),r.maskbox=d(i),r.disabled&&(r._helpers.element.addClass(r.toThemeProperty("jqx-input-disabled jqx-fill-state-disabled")),i.setAttribute("disabled",!0))}else r.maskbox=r.host,r.element.setAttribute("autocomplete","off"),r.element.setAttribute("autocorrect","off"),r.element.setAttribute("autocapitalize","off"),r.element.setAttribute("spellcheck",!1),r.element.setAttribute("name",t),r.disabled&&(r._helpers.element.addClass(r.toThemeProperty("jqx-input-disabled jqx-fill-state-disabled")),r.element.setAttribute("disabled",!0));if(r._helpers.maskbox=new jqxHelper(r.maskbox[0]),r._helpers.maskbox.addClass(r.toThemeProperty("jqx-reset jqx-input-content jqx-widget-content")),r.rtl&&r._helpers.maskbox.addClass(r.toThemeProperty("jqx-rtl")),r.propertyChangeMap.disabled=function(e,t,i,s){s?e._helpers.maskbox.addClass(r.toThemeProperty("jqx-input-disabled")):e._helpers.maskbox.removeClass(r.toThemeProperty("jqx-input-disabled"))},r.selectedText="",r.self=this,r.oldValue=r._value(),r.items=[],r._initializeLiterals(),r._render(),null!=r.value&&r.inputValue(r.value.toString()),0<r.host.parents("form").length&&r.host.parents("form").on("reset",function(){setTimeout(function(){r.clearValue()},10)}),r.addHandlers(),r.cookies){var s=d.jqx.cookie.cookie("maskedInput."+r.element.id);s&&r.val(s)}},addHandlers:function(){var r=this,e="";this.addHandler(this.maskbox,"blur",function(){r.rtl&&r.maskbox.css("direction","ltr"),r._helpers.maskbox.removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.maskbox.val()!==e&&(r._raiseEvent(7,{type:"keyboard"}),r.cookies&&d.jqx.cookie.cookie("maskedInput."+r.element.id,r.maskbox.val()))}),this.addHandler(this.maskbox,"focus",function(){e=r.maskbox[0].value,r.rtl&&(r.maskbox[0].style.direction="rtl"),r._helpers.element.addClass(r.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"keydown",function(e){var t=r.readOnly,i=e.charCode?e.charCode:e.keyCode?e.keyCode:0;if(t||r.disabled)return!1;var s=r._handleKeyDown(e,i);return s||(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),s}),this.addHandler(this.host,"keyup",function(e){return!(!r.readOnly&&!r.disabled)||(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1)}),this.addHandler(this.host,"keypress",function(e){var t=r.readOnly,i=e.charCode?e.charCode:e.keyCode?e.keyCode:0;if(t||r.disabled)return!0;var s=r._handleKeyPress(e,i);return s||(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),s})},focus:function(){try{var e=this;e.maskbox.focus(),setTimeout(function(){e.maskbox.focus()})}catch(e){}},_getString:function(){for(var e="",t=0;t<this.items.length;t++){var i=this.items[t].character;this.items[t].character===this.promptChar&&this.promptChar!==this.items[t].defaultCharacter?e+=this.items[t].defaultCharacter:e+=i}return e},_initializeLiterals:function(){if(void 0!==this.mask&&null!==this.mask){var r=this,e=function(e,t,i){var s={};return s.character=e,s.regex=t,s.canEdit=i,s.defaultCharacter=r.promptChar,s};this.mask=this.mask.toString();for(var t=this.mask.length,i=0;i<t;i++){var s=this.mask.substring(i,i+1),n="",o=!1;if("["===s){for(var a=i;a<t;a++){if("]"===this.mask.substring(a,a+1))break}n="("+this.mask.substring(i,a+1)+")",i=a,o=!0}"#"===s?(n="(\\d|[+]|[-])",o=!0):"9"===s||"0"===s?(n="\\d",o=!0):"$"===s?o=!1:"/"===s||":"===s?o=!1:"A"===s||"a"===s?(n="\\w",o=!0):"c"===s||"C"===s?(n=".",o=!0):"L"!==s&&"l"!==s||(n="([a-zA-Z])",o=!0);var l={};l=e(o?this.promptChar:s,n,o),this.items.push(l)}}else this.items=[]},setRegex:function(e,t,i,s){null!=e&&null!=t&&e<this.items.length&&(this.items[e].regex=t,null!=i&&(this.items[e].canEdit=i),null!=s&&(this.items[e].defaultCharacter=s))},_match:function(e,t){return new RegExp(t,"i").test(e)},_raiseEvent:function(e,t){var i=this.events[e],s={};s.owner=this;var r=!0,n=new d.Event(i);return n.owner=this,s.value=this.inputValue(),s.text=this.maskedValue(),7===e&&(s.type=t.type,void 0===s.type&&(s.type=null)),n.args=s,(e<2||6<e)&&(r=this.host.trigger(n)),r},_handleKeyPress:function(e,t){return this._isSpecialKey(t,e)},_insertKey:function(e,t){var i,s=this._selection(),r=this;if(0<=s.start&&s.start<this.items.length){var n=String.fromCharCode(e);65<=e&&e<=90&&(t.shiftKey||(n=n.toLowerCase()));for(var o=!1,a=0;a<this.items.length;a++)if(!(a<s.start)){var l=r.items[a];if(l.canEdit){if(r._match(n,l.regex)){if(!o&&0<s.length){for(var d=s.start;d<s.end;d++)r.items[d].canEdit&&(r.items[d].character=r.promptChar);i=r._getString(),r.maskedValue(i),o=!0}l.character=n,i=r._getString(),r.maskedValue(i),s.start<r.items.length&&r._setSelectionStart(a+1);break}break}}}},_deleteSelectedText:function(){var e=this._selection(),t=!1;if(0<e.start||0<e.length){for(var i=e.start;i<e.end;i++)i<this.items.length&&this.items[i].canEdit&&this.items[i].character!==this.promptChar&&(this.items[i].character=this.promptChar,t=!0);var s=this._getString();return this.maskedValue(s),t}},_saveSelectedText:function(){var e=this._selection(),t="";if(0<e.start||0<e.length)for(var i=e.start;i<e.end;i++)this.items[i].canEdit&&(t+=this.items[i].character);if(window.clipboardData)window.clipboardData.setData("Text",t);else{var s=d("<textarea style='position: absolute; left: -1000px; top: -1000px;'/>");s.val(t),d("body").append(s),s.select(),setTimeout(function(){document.designMode="off",s.select(),s.remove()},100)}return t},_pasteSelectedText:function(){var i=this._selection(),s="",r=0,n=i.start,e="",o=this,t=function(e){if(!(e!==o.selectedText&&0<e.length&&(o.selectedText=e,null===o.selectedText||void 0===o.selectedText))){if(0<=i.start||0<i.length)for(var t=i.start;t<o.items.length;t++)o.items[t].canEdit&&r<o.selectedText.length&&(o.items[t].character=o.selectedText[r],r++,n=1+t);s=o._getString(),o.maskedValue(s),n<o.items.length?o._setSelectionStart(n):o._setSelectionStart(o.items.length)}};if(window.clipboardData)e=window.clipboardData.getData("Text"),t(e);else{var a=d("<textarea style='position: absolute; left: -1000px; top: -1000px;'/>");d("body").append(a),a.select(),setTimeout(function(){var e=a.val();t(e),a.remove()},100)}},_handleKeyDown:function(e,t){var i,s=this._selection();96<=t&&t<=105&&(t-=48);var r=e.ctrlKey||e.metaKey;if(r&&97===t||r&&65===t)return!0;if(r&&120===t||r&&88===t)return this.selectedText=this._saveSelectedText(e),this._deleteSelectedText(e),!d.jqx.browser.msie;if(r&&99===t||r&&67===t)return this.selectedText=this._saveSelectedText(e),!d.jqx.browser.msie;if(r&&122===t||r&&90===t)return!1;if(r&&118===t||r&&86===t||e.shiftKey&&45===t)return this._pasteSelectedText(),!d.jqx.browser.msie;if(8===t){if(0===s.length)for(i=this.items.length-1;0<=i;i--)if(this.items[i].canEdit&&i<s.end&&this.items[i].character!==this.promptChar){this._setSelection(i,i+1);break}s=this._selection();var n=this._deleteSelectedText();return(0<s.start||0<s.length)&&s.start<=this.items.length&&(n?this._setSelectionStart(s.start):this._setSelectionStart(s.start-1)),!1}if(190===t)for(i=s.start;i<this.items.length;i++)if("."===this.items[i].character){this._setSelectionStart(i+1);break}if(191===t)for(i=s.start;i<this.items.length;i++)if("/"===this.items[i].character){this._setSelectionStart(i+1);break}if(189===t)for(i=s.start;i<this.items.length;i++)if("-"===this.items[i].character){this._setSelectionStart(i+1);break}if(46===t){if(0===s.length)for(i=0;i<this.items.length;i++)if(this.items[i].canEdit&&i>=s.start&&this.items[i].character!==this.promptChar){this._setSelection(i,i+1);break}var o=s;return(0<=(s=this._selection()).start||0<=s.length)&&s.start<this.items.length&&(s.length<=1?o.end!==s.end?this._setSelectionStart(s.end):this._setSelectionStart(s.end+1):this._setSelectionStart(s.start)),!1}return this._insertKey(t,e),this._isSpecialKey(t,e)},_isSpecialKey:function(e,t){return 189===e||9===e||13===e||35===e||36===e||37===e||39===e||46===e||!!(16===e&&t.shiftKey||t.ctrlKey||t.metaKey)},_selection:function(){var e,t=this.maskbox[0];if("selectionStart"in this.maskbox[0])return e=t.selectionEnd-t.selectionStart,{start:t.selectionStart,end:t.selectionEnd,length:e,text:t.value};var i=document.selection.createRange();if(null==i)return{start:0,end:t.value.length,length:0};var s=this.maskbox[0].createTextRange(),r=s.duplicate();return s.moveToBookmark(i.getBookmark()),r.setEndPoint("EndToStart",s),e=i.text.length,{start:r.text.length,end:r.text.length+i.text.length,length:e,text:i.text}},_setSelection:function(e,t){if("selectionStart"in this.maskbox[0])this.maskbox[0].focus(),this.maskbox[0].setSelectionRange(e,t);else{var i=this.maskbox[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}},_setSelectionStart:function(e){this._setSelection(e,e)},refresh:function(e){e||this._render()},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_render:function(){var e=parseInt(this.host.css("border-left-width"),10),t=parseInt(this.host.css("border-left-width"),10),i=parseInt(this.host.css("border-left-width"),10),s=parseInt(this.host.css("border-left-width"),10),r=parseInt(this.host.css("height"),10)-i-s,n=parseInt(this.host.css("width"),10)-e-t;null!=this.width&&-1!==this.width.toString().indexOf("px")?n=this.width:void 0===this.width||isNaN(this.width)||(n=this.width),null!=this.height&&-1!==this.height.toString().indexOf("px")?r=this.height:void 0===this.height||isNaN(this.height)||(r=this.height),n=parseInt(n,10),r=parseInt(r,10),this.maskbox[0]!==this.element&&this.maskbox.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0}),this.maskbox.css("text-align",this.textAlign);var o=this.maskbox.css("font-size");isNaN(r)||this.maskbox.css("height",parseInt(o,10)+4+"px"),isNaN(n)||this.maskbox.css("width",n);var a=parseInt(r,10)-2*parseInt(i,10)-2*parseInt(s,10)-parseInt(o,10);if(isNaN(a)&&(a=0),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=this.width:null==this.width||isNaN(this.width)||(this.element.style.width=this.width+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=this.height:null==this.height||isNaN(this.height)||(this.element.style.height=this.height+"px"),this.maskbox[0]!==this.element){var l=a/2;d.jqx.browser.msie&&d.jqx.browser.version<8&&(l=a/4),this.maskbox.css("padding-right","0px"),this.maskbox.css("padding-left","0px"),this.maskbox.css("padding-top",l),this.maskbox.css("padding-bottom",a/2)}this.maskbox[0].value=this._getString(),this.width&&(0<=this.width.toString().indexOf("%")&&(this.element.style.width=this.width),0<=this.height.toString().indexOf("%")&&(this.element.style.height=this.height))},destroy:function(){d.jqx.utilities.resize(this.host,null,!0),this.host.remove(),this._helpers=[]},maskedValue:function(e){return void 0===e?this._value():(this.value=e,this._refreshValue(),this.oldValue!==e&&(this._raiseEvent(1,e),this.oldValue=e,this._raiseEvent(0,e)),this)},propertyChangedHandler:function(e,t,i,s){if(void 0!==this.isInitialized&&!1!==this.isInitialized){if("rtl"===t&&(e.rtl?e._helpers.maskbox.addClass(e.toThemeProperty("jqx-rtl")):e._helpers.maskbox.removeClass(e.toThemeProperty("jqx-rtl"))),"value"===t&&(null==s&&(s=""),""===s?this.clear():(s=s.toString(),this.inputValue(s)),e._raiseEvent(7,s)),"theme"===t&&d.jqx.utilities.setTheme(i,s,this.host),"disabled"===t&&(s?(e._helpers.maskbox.addClass(e.toThemeProperty("jqx-input-disabled")),e._helpers.element.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e._helpers.maskbox.attr("disabled",!0)):(e._helpers.maskbox.removeClass(this.toThemeProperty("jqx-input-disabled")),e._helpers.element.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),e._helpers.maskbox.attr("disabled",!1)),d.jqx.aria(e,"aria-disabled",s)),"readOnly"===t&&(this.readOnly=s),"promptChar"===t){for(var r=0;r<e.items.length;r++)e.items[r].character===e.promptChar&&(e.items[r].character=s,e.items[r].defaultCharacter=s);e.promptChar=s}"textAlign"===t&&(e.maskbox.css("text-align",s),e.textAlign=s),"mask"===t&&(e.mask=s,e.items=[],e._initializeLiterals(),e.value=e._getString(),e._refreshValue()),"width"===t?(e.width=s,e._render()):"height"===t&&(e.height=s,e._render())}},_value:function(){return this.value},_getEditStringLength:function(){for(var e="",t=0;t<this.items.length;t++)this.items[t].canEdit&&(e+=this.items[t].character);return e.length},_getEditValue:function(){for(var e="",t=0;t<this.items.length;t++)this.items[t].canEdit&&this.items[t].character!==this.promptChar&&(e+=this.items[t].character);return e},parseValue:function(e){if(null==e)return null;for(var t=e.toString(),i="",s=0,r=0;r<t.length;r++)for(var n=t.substring(r,r+1),o=s;o<this.items.length;o++)if(this.items[o].canEdit&&this._match(n,this.items[o].regex)){i+=n,s=o;break}return i},clear:function(){this.clearValue()},clearValue:function(){this.inputValue("",!0)},val:function(e){return void 0!==e&&"object"!=typeof e&&("number"==typeof e&&isFinite(e)&&(e=e.toString()),this.maskedValue(e)),this.maskbox[0].value},inputValue:function(e,t){var i;if(null==e){var s="";for(i=0;i<this.items.length;i++)this.items[i].canEdit&&(s+=this.items[i].character);return s}var r=0;for(e=e.toString(),i=0;i<this.items.length;i++)this.items[i].canEdit&&(this._match(e.substring(r,r+1),this.items[i].regex)?(this.items[i].character=e.substring(r,r+1),r++):t&&(this.items[i].character=this.promptChar,r++));var n=this._getString();return this.maskedValue(n),this.inputValue()},_refreshValue:function(){for(var e=this.maskedValue(),t=0,i=0;i<this.items.length;i++)e.length>t&&(this.items[i].canEdit&&this.items[i].character!==e[t]&&(!this._match(e[t],this.items[i].regex)&&e[t]!==this.promptChar||1!==e[t].length||(this.items[i].character=e[t])),t++);this.value=this._getString(),e=this.value,this.maskbox[0].value=e,d.jqx.aria(this,"aria-valuenow",e)}})}(jqxBaseFramework),function(w){w.jqx.jqxWidget("jqxMenu","",{}),w.extend(w.jqx._jqxMenu.prototype,{defineInstance:function(){var e={items:new Array,mode:"horizontal",width:null,height:null,minimizeWidth:"auto",easing:"easeInOutSine",animationShowDuration:200,animationHideDuration:200,autoCloseInterval:0,animationHideDelay:100,animationShowDelay:100,menuElements:new Array,autoSizeMainItems:!1,autoCloseOnClick:!0,autoCloseOnMouseLeave:!0,enableRoundedCorners:!0,disabled:!1,autoOpenPopup:!0,enableHover:!0,autoOpen:!0,autoGenerate:!0,clickToOpen:!1,showTopLevelArrows:!1,touchMode:"auto",source:null,popupZIndex:1e3,rtl:!1,keyboardNavigation:!1,lockFocus:!1,title:"",events:["shown","closed","itemclick","initialized","open","close"]};return this===w.jqx._jqxMenu.prototype||w.extend(!0,this,e),e},createInstance:function(e){var t=this;if(this.host.attr("role","menubar"),w.jqx.utilities.resize(this.host,function(){t.refresh()},!1,"popup"!=this.mode),"auto"!=this.minimizeWidth&&null!=this.minimizeWidth&&this.width&&-1==this.width.toString().indexOf("%")&&w(window).resize(function(){t.refresh()}),this.host.css("outline","none"),this.source&&null!=this.source){var i=this.loadItems(this.source);this.element.innerHTML=i}if(this._tmpHTML=this.element.innerHTML,this.element.innerHTML.indexOf("UL")){var s=this.host.find("ul:first");0<s.length&&this._createMenu(s[0])}this.host.data("autoclose",{}),this._render(),this._setSize(),w.jqx.browser.msie&&w.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){try{if("popup"===this.mode&&this.keyboardNavigation)this.host.closest("div.jqx-menu-wrapper").focus();if(this.keyboardNavigation){this.host.focus();var t=this,e=function(){if(w.jqx.isHidden(w(t.items[0].element))){var e=t._nextVisibleItem(t.items[0],0);e&&(w(e.element).addClass(t.toThemeProperty("jqx-fill-state-focus")),t.activeItem=e)}else w(t.items[0].element).addClass(t.toThemeProperty("jqx-fill-state-focus")),t.activeItem=t.items[0]};this.activeItem?w.jqx.isHidden(w(this.activeItem.element))?(w(this.activeItem.element).removeClass(this.toThemeProperty("jqx-fill-state-focus")),e()):w(this.activeItem.element).addClass(this.toThemeProperty("jqx-fill-state-focus")):e()}}catch(e){}},loadItems:function(e,t){if(null!=e){if(0==e.length)return"";var i=this;this.items=new Array;var s='<ul class="jqx-menu-ul">';return t&&(s='<ul class="jqx-menu-ul" style="width:'+t+';">'),w.map(e,function(e){if(null==e)return null;s+=i._parseItem(e)}),s+="</ul>"}},_parseItem:function(e){var t="";if(null==e)return null;var i=e.label;!e.label&&e.html&&(i=e.html),i||(i="Item"),"string"==typeof e&&(i=e);null!=e.selected&&e.selected;var s=!1;return null!=e.disabled&&e.disabled&&(s=!0),t+="<li",s&&(t+=' item-disabled="true" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=e.value&&(t+=' item-value="'+e.value+'" '),null!=e.id&&(t+=' id="'+e.id+'" '),t+=">"+i,e.items&&(e.subMenuWidth?t+=this.loadItems(e.items,e.subMenuWidth):t+=this.loadItems(e.items)),t+="</li>"},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("%")?this.host.width(this.width):null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")?this.host.height(this.height):null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height),null===this.height&&this.host.height("auto");if(null!=this.minimizeWidth&&"popup"!=this.mode){var e=w(window).width();if(!w.jqx.response){var t=!1;if(navigator.userAgent.match(/Windows|Linux|MacOS/))0<=navigator.userAgent.indexOf("Windows Phone")||0<=navigator.userAgent.indexOf("WPDesktop")||0<=navigator.userAgent.indexOf("IEMobile")||0<=navigator.userAgent.indexOf("ZuneWP7")||(t=!0);var i=this.minimizeWidth;if(t&&"auto"==this.minimizeWidth)return}if("auto"==this.minimizeWidth&&w.jqx.response){var s=new w.jqx.response;"Phone"!=s.device.type&&"Tablet"!=s.device.type||this.minimized||this.minimize()}else e<i&&!this.minimized?this.minimize():this.minimized&&i<=e&&this.restore()}},minimize:function(){if(!this.minimized){var s=this;if(this.host.addClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!0,this._tmpMode=this.mode,this.mode="simple",(r=this.host.closest("div.jqx-menu-wrapper")).remove(),w("#menuWrapper"+this.element.id).remove(),w.each(this.items,function(){w(this.element);w(this.subMenuElement).closest("div.jqx-menu-popup").remove()}),this.source){var e=this.loadItems(this.source);this.element.innerHTML=e,this._tmpHTML=this.element.innerHTML}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var t=this.host.find("ul:first");0<t.length&&this._createMenu(t[0])}this._render();var r,i=this.host.find("ul:first");i.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>'),(r=i.closest("div.jqx-menu-wrapper"))[0].id="menuWrapper"+this.element.id,r.detach(),r.appendTo(w(document.body)),r.addClass(this.toThemeProperty("jqx-widget")),r.addClass(this.toThemeProperty("jqx-menu")),r.addClass(this.toThemeProperty("jqx-menu-minimized")),r.addClass(this.toThemeProperty("jqx-widget-header")),i.children().hide(),r.hide(),r.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.minimizedItem=w("<div></div>"),this.minimizedItem.addClass(this.toThemeProperty("jqx-item")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top")),this.addHandler(r,"keydown",function(e){return s.handleKeyDown(e)}),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button")),this.minimizedItem.prependTo(this.host),this.titleElement=w("<div>"+this.title+"</div>"),this.titleElement.addClass(this.toThemeProperty("jqx-item")),this.titleElement.addClass(this.toThemeProperty("jqx-menu-title")),this.titleElement.prependTo(this.host),w("<div style='clear:both;'></div>").insertAfter(this.minimizedItem),s.minimizedHidden=!0;var n=function(e){if(s.minimizedHidden){r.find("ul:first").children().show(),s.minimizedHidden=!1,r.show(),r.css("opacity",0),r.css("left",-r.outerWidth());var t=!1,i=r.width();"right"==s.minimizedItem.css("float")&&(r.css("left",s.host.coord().left+s.host.width()+i),t=!0),r.css("top",s.host.coord().top+s.host.height()),r.animate({left:t?s.host.coord().left+s.host.width()-i:s.host.coord().left,opacity:.95},s.animationShowDuration,function(){})}else!function(e){s.minimizedHidden=!0,s.minimizedItem.show();var t=!1;"right"==s.minimizedItem.css("float")&&(t=!0),r.animate({left:t?s.host.coord().left+s.host.width()+r.width():-r.outerWidth(),opacity:0},s.animationHideDuration,function(){r.find("ul:first").children().hide(),r.hide()})}();s._raiseEvent("2",{type:"mouse",item:s.minimizedItem[0],event:e}),s._setSize()};this.addHandler(w(window),"orientationchange.jqxmenu"+this.element.id,function(e){setTimeout(function(){if(!s.minimizedHidden){var e=r.width(),t=!1;e=r.width();"right"==s.minimizedItem.css("float")&&(t=!0),r.css("top",s.host.coord().top+s.host.height()),r.css({left:t?s.host.coord().left+s.host.width()-e:s.host.coord().left})}},25)}),this.addHandler(this.minimizedItem,"click",function(e){n(e)})}},restore:function(){if(this.minimized){if(this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.host.removeClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!1,this.mode=this._tmpMode,this.minimizedItem&&this.minimizedItem.remove(),w("#menuWrapper"+this.element.id).remove(),this.source){var e=this.loadItems(this.source);this.element.innerHTML=e,this._tmpHTML=e}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var t=this.host.find("ul:first");0<t.length&&this._createMenu(t[0])}this._setSize(),this._render()}},isTouchDevice:function(){if(null!=this._isTouchDevice)return this._isTouchDevice;var e=w.jqx.mobile.isTouchDevice();return 1==this.touchMode?e=!0:0==this.touchMode&&(e=!1),e&&(this.host.addClass(this.toThemeProperty("jqx-touch")),w(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=e},refresh:function(e){e||this._setSize()},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_closeAll:function(e){var t=null!=e?e.data:this,i=t.items;(w.each(i,function(){1==this.hasItems&&this.isOpen&&t._closeItem(t,this)}),"popup"==t.mode)&&(null!=e&&(t._isRightClick(e)||t.close()))},closeItem:function(e){if(null==e)return!1;var t=e,i=document.getElementById(t),s=this;return w.each(s.items,function(){1==this.isOpen&&this.element==i&&(s._closeItem(s,this),this.parentId)}),!0},openItem:function(e){if(null==e)return!1;var t=e,i=document.getElementById(t),s=this;return w.each(s.items,function(){0==this.isOpen&&this.element==i&&(s._openItem(s,this),this.parentId&&s.openItem(this.parentId))}),!0},_getClosedSubMenuOffset:function(e){var t=w(e.subMenuElement),i=-t.outerHeight(),s=-t.outerWidth(),r=0==e.level&&"horizontal"==this.mode;switch(r?s=0:i=0,e.openVerticalDirection){case"up":case"center":i=t.outerHeight()}switch(e.openHorizontalDirection){case this._getDir("left"):case"center":s=r?0:t.outerWidth()}return{left:s,top:i}},_closeItem:function(t,i,e,s){if(null==t||null==i)return!1;var r=w(i.subMenuElement),n=0==i.level&&"horizontal"==this.mode,o=this._getClosedSubMenuOffset(i),a=o.top,l=o.left,d=(w(i.element),r.closest("div.jqx-menu-popup"));if(null!=d){var h=t.animationHideDelay;1==s&&(h=0),r.data("timer")&&null!=r.data("timer").show&&(clearTimeout(r.data("timer").show),r.data("timer").show=null);var c=function(){i.isOpen=!1,n?r.stop().animate({top:a},t.animationHideDuration,function(){w(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),w(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),w(i.element).removeClass(t.toThemeProperty("jqx-rc-b-expanded")),d.removeClass(t.toThemeProperty("jqx-rc-t-expanded"));var e=w(i.arrow);0<e.length&&t.showTopLevelArrows&&(e.removeClass(),"down"==i.openVerticalDirection?(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-down")),e.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-up")),e.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),w.jqx.aria(w(i.element),"aria-expanded",!1),d.css({display:"none"}),0==t.animationHideDuration&&r.css({top:a}),t._raiseEvent("1",i)}):(w.jqx.browser.msie,r.stop().animate({left:l},t.animationHideDuration,function(){var e;(0==t.animationHideDuration&&r.css({left:l}),0<i.level)?(w(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),w(i.element).removeClass(t.toThemeProperty("jqx-menu-item-selected")),0<(e=w(i.arrow)).length&&(e.removeClass(),"left"!=i.openHorizontalDirection?(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right"))),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left"))),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))):(w(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),w(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),0<(e=w(i.arrow)).length&&(e.removeClass(),"left"!=i.openHorizontalDirection?(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("right"))),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("left"))),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left"))))));w.jqx.aria(w(i.element),"aria-expanded",!1),d.css({display:"none"}),t._raiseEvent("1",i)}))};if(0<h?r.data("timer")&&(r.data("timer").hide=setTimeout(function(){c()},h)):c(),null!=e&&e){var u=r.children();w.each(u,function(){if(t.menuElements[this.id]&&t.menuElements[this.id].isOpen){w(t.menuElements[this.id].subMenuElement);t._closeItem(t,t.menuElements[this.id],!0,!0)}})}}},getSubItems:function(e,t){if(null==e)return!1;var i=this,s=new Array;null!=t&&w.extend(s,t);var r=e,n=this.menuElements[r],o=w(n.subMenuElement).find(".jqx-menu-item");return w.each(o,function(){s[this.id]=i.menuElements[this.id];var e=i.getSubItems(this.id,s);w.extend(s,e)}),s},disable:function(e,t){if(null!=e){var i=e;if(this.menuElements[i]){var s=this.menuElements[i];s.disabled=t;var r=w(s.element);s.element.disabled=t,w.each(r.children(),function(){this.disabled=t}),t?(r.addClass(this.toThemeProperty("jqx-menu-item-disabled")),r.addClass(this.toThemeProperty("jqx-fill-state-disabled"))):(r.removeClass(this.toThemeProperty("jqx-menu-item-disabled")),r.removeClass(this.toThemeProperty("jqx-fill-state-disabled")))}}},getItem:function(e){return this.menuElements[e]?this.menuElements[e]:null},disableItem:function(e){this.disable(e,!0)},hideItem:function(e){if(this.menuElements[e]){var t=this.menuElements[e];w(t.element).hide()}},showItem:function(e){if(this.menuElements[e]){var t=this.menuElements[e];w(t.element).show()}},enableItem:function(e){this.disable(e,!1)},_setItemProperty:function(e,t,i){if(null!=e){var s=e;if(this.menuElements[s]){var r=this.menuElements[s];r[t]&&(r[t]=i)}}},setItemOpenDirection:function(e,t,i){if(null!=e){var s=e,r=this,n=w.jqx.browser.msie&&w.jqx.browser.version<8;if(this.menuElements[s]){var o=this.menuElements[s];if(null!=t)if(o.openHorizontalDirection=t,o.hasItems&&0<o.level)if(null!=(l=w(o.element))){var a=w(o.arrow);null==o.arrow&&(a=w('<span id="arrow'+l[0].id+'"></span>'),n?a.appendTo(l):a.prependTo(l),o.arrow=a[0]),a.removeClass(),"left"==o.openHorizontalDirection?(a.addClass(r.toThemeProperty("jqx-menu-item-arrow-"+r._getDir("left"))),a.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("left")))):(a.addClass(r.toThemeProperty("jqx-menu-item-arrow-"+r._getDir("right"))),a.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right")))),a.css("visibility","inherit"),n?(a.css("display","inline-block"),a.css("float","none")):(a.css("display","block"),a.css("float","right"))}if(null!=i){o.openVerticalDirection=i;a=w(o.arrow);var l=w(o.element);if(!r.showTopLevelArrows)return;null!=l&&(null==o.arrow&&(a=w('<span id="arrow'+l[0].id+'"></span>'),n?a.appendTo(l):a.prependTo(l),o.arrow=a[0]),a.removeClass(),"down"==o.openVerticalDirection?(a.addClass(r.toThemeProperty("jqx-menu-item-arrow-down")),a.addClass(r.toThemeProperty("jqx-icon-arrow-down"))):(a.addClass(r.toThemeProperty("jqx-menu-item-arrow-up")),a.addClass(r.toThemeProperty("jqx-icon-arrow-up"))),a.css("visibility","inherit"),n?(a.css("display","inline-block"),a.css("float","none")):(a.css("display","block"),a.css("float","right")))}}}},_getSiblings:function(e){for(var t=new Array,i=0,s=0;s<this.items.length;s++)this.items[s]!=e&&this.items[s].parentId==e.parentId&&this.items[s].hasItems&&(t[i++]=this.items[s]);return t},_openItem:function(t,i,e){if(null==t||null==i)return!1;if(i.isOpen)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var s=t.popupZIndex;null!=e&&(s=e);var r=t.animationHideDuration;t.animationHideDuration=0,t._closeItem(t,i,!0,!0),t.animationHideDuration=r,w(i.element).focus();var n=[5,5],o=w(i.subMenuElement);null!=o&&o.stop(),o.data("timer")&&null!=o.data("timer").hide&&clearTimeout(o.data("timer").hide);var a=o.closest("div.jqx-menu-popup"),l=w(i.element),d=0==i.level?this._getOffset(i.element):l.position();if(0<i.level&&this.hasTransform){var h=parseInt(l.coord().top)-parseInt(this._getOffset(i.element).top);d.top+=h}0==i.level&&"popup"==this.mode&&(d=l.coord());var c=0==i.level&&"horizontal"==this.mode,u=c?d.left:null!=this.menuElements[i.parentId]&&null!=this.menuElements[i.parentId].subMenuElement?parseInt(w(w(this.menuElements[i.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-n[0]:parseInt(o.outerWidth());if(a.css({visibility:"visible",display:"block",left:u,top:c?d.top+l.outerHeight():d.top,zIndex:s}),o.css("display","block"),"horizontal"!=this.mode&&0==i.level){var p=this._getOffset(this.element);a.css("left",-1+p.left+this.host.outerWidth()),o.css("left",-o.outerWidth())}else{var m=this._getClosedSubMenuOffset(i);o.css("left",m.left),o.css("top",m.top)}a.css({height:parseInt(o.outerHeight())+parseInt(n[1])+"px"});var f=0,g=0;switch(i.openVerticalDirection){case"up":if(c){o.css("top",o.outerHeight()),f=n[1];var v=parseInt(o.parent().css("padding-bottom"));isNaN(v)&&(v=0),0<v&&a.addClass(this.toThemeProperty("jqx-menu-popup-clear")),o.css("top",o.outerHeight()-v),a.css({display:"block",top:d.top-a.outerHeight(),zIndex:s})}else f=n[1],o.css("top",o.outerHeight()),a.css({display:"block",top:d.top-a.outerHeight()+n[1]+l.outerHeight(),zIndex:s});break;case"center":c?(o.css("top",0),a.css({display:"block",top:d.top-a.outerHeight()/2+n[1],zIndex:s})):(o.css("top",0),a.css({display:"block",top:d.top+l.outerHeight()/2-a.outerHeight()/2+n[1],zIndex:s}))}switch(i.openHorizontalDirection){case this._getDir("left"):c?a.css({left:d.left-(a.outerWidth()-l.outerWidth()-n[0])}):(g=0,o.css("left",a.outerWidth()),a.css({left:d.left-a.outerWidth()+2*i.level}));break;case"center":c?a.css({left:d.left-(a.outerWidth()/2-l.outerWidth()/2-n[0]/2)}):(a.css({left:d.left-(a.outerWidth()/2-l.outerWidth()/2-n[0]/2)}),o.css("left",a.outerWidth()))}if(c){if(parseInt(o.css("top"))==f)return void(i.isOpen=!0)}else if(parseInt(o.css("left"))==g)return void i.isOpen;w.each(t._getSiblings(i),function(){t._closeItem(t,this,!0,!0)});var x=w.data(t.element,"animationHideDelay");t.animationHideDelay=x,0<this.autoCloseInterval&&(null!=this.host.data("autoclose")&&null!=this.host.data("autoclose").close&&clearTimeout(this.host.data("autoclose").close),null!=this.host.data("autoclose")&&(this.host.data("autoclose").close=setTimeout(function(){t._closeAll()},this.autoCloseInterval))),o.data("timer")&&(o.data("timer").show=setTimeout(function(){if(null!=a)if(c){o.stop(),o.css("left",g),w.jqx.browser.msie,l.addClass(t.toThemeProperty("jqx-fill-state-pressed")),l.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),"down"==i.openVerticalDirection?(w(i.element).addClass(t.toThemeProperty("jqx-rc-b-expanded")),a.addClass(t.toThemeProperty("jqx-rc-t-expanded"))):(w(i.element).addClass(t.toThemeProperty("jqx-rc-t-expanded")),a.addClass(t.toThemeProperty("jqx-rc-b-expanded"))),0<(e=w(i.arrow)).length&&t.showTopLevelArrows&&(e.removeClass(),"down"==i.openVerticalDirection?(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-down-selected")),e.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-up-selected")),e.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),0==t.animationShowDuration?(o.css({top:f}),i.isOpen=!0,t._raiseEvent("0",i),w.jqx.aria(w(i.element),"aria-expanded",!0)):o.animate({top:f},t.animationShowDuration,t.easing,function(){i.isOpen=!0,w.jqx.aria(w(i.element),"aria-expanded",!0),t._raiseEvent("0",i)})}else{var e;if(o.stop(),o.css("top",f),w.jqx.browser.msie,0<i.level)l.addClass(t.toThemeProperty("jqx-fill-state-pressed")),l.addClass(t.toThemeProperty("jqx-menu-item-selected")),0<(e=w(i.arrow)).length&&(e.removeClass(),"left"!=i.openHorizontalDirection?(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))));else l.addClass(t.toThemeProperty("jqx-fill-state-pressed")),l.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),0<(e=w(i.arrow)).length&&(e.removeClass(),"left"!=i.openHorizontalDirection?(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))));w.jqx.browser.msie,0==t.animationShowDuration?(o.css({left:g}),t._raiseEvent("0",i),i.isOpen=!0,w.jqx.aria(w(i.element),"aria-expanded",!0)):o.animate({left:g},t.animationShowDuration,t.easing,function(){t._raiseEvent("0",i),i.isOpen=!0,w.jqx.aria(w(i.element),"aria-expanded",!0)})}},this.animationShowDelay))},_getDir:function(e){switch(e){case"left":return this.rtl?"right":"left";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(e,t){var s=this,r=0;if(s.host.removeClass(s.toThemeProperty("jqx-menu-horizontal")),s.host.removeClass(s.toThemeProperty("jqx-menu-vertical")),s.host.removeClass(s.toThemeProperty("jqx-menu")),s.host.removeClass(s.toThemeProperty("jqx-widget")),s.host.addClass(s.toThemeProperty("jqx-widget")),s.host.addClass(s.toThemeProperty("jqx-menu")),null!=e&&null!=t&&"popup"==t){if(0<s.host.parent().length&&0<s.host.parent().parent().length&&s.host.parent().parent()[0]==document.body){var i=w.data(document.body,"jqxMenuOldHost"+s.element.id);if(null!=i)(n=s.host.closest("div.jqx-menu-wrapper")).remove(),n.appendTo(i),s.host.css("display","block"),s.host.css("visibility","visible"),n.css("display","block"),n.css("visibility","visible")}}else null==e&&null==t&&w.data(document.body,"jqxMenuOldHost"+s.element.id,s.host.parent()[0]);switch(s.autoOpenPopup?"popup"==s.mode?(s.addHandler(w(document),"contextmenu."+s.element.id,function(e){return!1}),s.addHandler(w(document),"mousedown.menu"+s.element.id,function(e){s._openContextMenu(e)})):(s.removeHandler(w(document),"contextmenu."+s.element.id),s.removeHandler(w(document),"mousedown.menu"+s.element.id)):(s.removeHandler(w(document),"contextmenu."+s.element.id),s.removeHandler(w(document),"mousedown.menu"+s.element.id),s.addHandler(w(document),"contextmenu."+s.element.id,function(e){if(e.target&&e.target.className.indexOf&&0<=e.target.className.indexOf("jqx-menu"))return!1})),s.rtl&&s.host.addClass(s.toThemeProperty("jqx-rtl")),s.mode){case"horizontal":s.host.addClass(s.toThemeProperty("jqx-widget-header")),s.host.addClass(s.toThemeProperty("jqx-menu-horizontal")),w.each(s.items,function(){var e=this;($element=w(e.element),(t=w(e.arrow)).removeClass(),e.hasItems&&0<e.level)&&((t=w('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>')).prependTo($element),t.css("float",s._getDir("right")),t.addClass(s.toThemeProperty("jqx-menu-item-arrow-"+s._getDir("right"))),t.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right"))),e.arrow=t[0]);if(0==e.level){if(w(e.element).css("float",s._getDir("left")),!e.ignoretheme&&e.hasItems&&s.showTopLevelArrows){var t=w('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>'),i=w.jqx.browser.msie&&w.jqx.browser.version<8;null==e.arrow?i?t.appendTo($element):t.prependTo($element):t=w(e.arrow),"down"==e.openVerticalDirection?(t.addClass(s.toThemeProperty("jqx-menu-item-arrow-down")),t.addClass(s.toThemeProperty("jqx-icon-arrow-down"))):(t.addClass(s.toThemeProperty("jqx-menu-item-arrow-up")),t.addClass(s.toThemeProperty("jqx-icon-arrow-up"))),t.css("visibility","inherit"),i?t.css("display","inline-block"):(t.css("display","block"),t.css("float","right")),e.arrow=t[0]}else{if(!e.ignoretheme&&e.hasItems&&!s.showTopLevelArrows)if(null!=e.arrow)(t=w(e.arrow)).remove(),e.arrow=null}r=Math.max(r,$element.height())}});break;case"vertical":case"popup":case"simple":if(s.host.addClass(s.toThemeProperty("jqx-menu-vertical")),w.each(s.items,function(){if($element=w(this.element),this.hasItems&&!this.ignoretheme){if(this.arrow&&w(this.arrow).remove(),"simple"==s.mode)return!0;var e=w('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');e.prependTo($element),e.css("float","right"),0==this.level?e.addClass(s.toThemeProperty("jqx-menu-item-arrow-top-"+s._getDir("right"))):e.addClass(s.toThemeProperty("jqx-menu-item-arrow-"+s._getDir("right"))),e.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right"))),this.arrow=e[0]}$element.css("float","none")}),"popup"==s.mode){s.host.addClass(s.toThemeProperty("jqx-widget-content")),s.host.wrap('<div tabindex=0 class="jqx-menu-wrapper" style="z-index:'+s.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var n=s.host.closest("div.jqx-menu-wrapper");s.host.addClass(s.toThemeProperty("jqx-popup")),n[0].id="menuWrapper"+s.element.id,n.appendTo(w(document.body)),s.addHandler(n,"keydown",function(e){return s.handleKeyDown(e)})}else s.host.addClass(s.toThemeProperty("jqx-widget-header"));if("popup"==s.mode){var o=s.host.height();s.host.css("position","absolute"),s.host.css("top","0"),s.host.css("left","0"),"simple"!=s.mode&&(s.host.height(o),s.host.css("display","none"))}}var a=s.isTouchDevice();s.autoCloseOnClick&&(s.removeHandler(w(document),"mousedown.menu"+s.element.id,s._closeAfterClick),s.addHandler(w(document),"mousedown.menu"+s.element.id,s._closeAfterClick,s),a&&(s.removeHandler(w(document),w.jqx.mobile.getTouchEventName("touchstart")+".menu"+s.element.id,s._closeAfterClick,s),s.addHandler(w(document),w.jqx.mobile.getTouchEventName("touchstart")+".menu"+s.element.id,s._closeAfterClick,s)))},_getBodyOffset:function(){var e=0,t=0;return"0px"!=w("body").css("border-top-width")&&(e=parseInt(w("body").css("border-top-width")),isNaN(e)&&(e=0)),"0px"!=w("body").css("border-left-width")&&(t=parseInt(w("body").css("border-left-width")),isNaN(t)&&(t=0)),{left:t,top:e}},_getOffset:function(e){var t=w.jqx.mobile.isSafariMobileBrowser(),i=w(e).coord(!0),s=i.top,r=i.left;"0px"!=w("body").css("border-top-width")&&(s=parseInt(s)+this._getBodyOffset().top),"0px"!=w("body").css("border-left-width")&&(r=parseInt(r)+this._getBodyOffset().left);var n=w.jqx.mobile.isWindowsPhone(),o=w.jqx.mobile.isTouchDevice();return this.hasTransform||null!=t&&t||n||o?{left:w.jqx.mobile.getLeftPos(e),top:w.jqx.mobile.getTopPos(e)}:{left:r,top:s}},_isRightClick:function(e){var t;if(!e)e=window.event;return e.which?t=3==e.which:e.button&&(t=2==e.button),t},_openContextMenu:function(e){this._isRightClick(e)&&this.open(parseInt(e.clientX)+5,parseInt(e.clientY)+5)},close:function(){var e=this;if(w.data(this.element,"contextMenuOpened"+this.element.id)){this.host;w.each(e.items,function(){this.hasItems&&e._closeItem(e,this)}),w.each(e.items,function(){1==this.isOpen&&($submenu=w(this.subMenuElement),$submenu.closest("div.jqx-menu-popup").hide(this.animationHideDuration))}),this.host.hide(this.animationHideDuration),w.data(e.element,"contextMenuOpened"+this.element.id,!1),e._raiseEvent("1",e),e._raiseEvent("5")}},open:function(e,t){if("popup"==this.mode){var i=0;"block"==this.host.css("display")&&(this.close(),i=this.animationHideDuration);var s=this;null!=e&&null!=e||(e=0),null!=t&&null!=t||(t=0),setTimeout(function(){s.host.show(s.animationShowDuration),s.host.css("visibility","visible"),w.data(s.element,"contextMenuOpened"+s.element.id,!0),s._raiseEvent("0",s),s._raiseEvent("4",{left:e,top:t}),s.host.css("z-index",s.popupZIndex),null!=e&&null!=t&&s.host.css({left:e,top:t}),s.focus()},i)}},_renderHover:function(e,t,i){var s=this;t.ignoretheme||(this.addHandler(e,"mouseenter",function(){(s.hoveredItem=t).disabled||t.separator||!s.enableHover||s.disabled||(0<t.level?(e.addClass(s.toThemeProperty("jqx-fill-state-hover")),e.addClass(s.toThemeProperty("jqx-menu-item-hover"))):(e.addClass(s.toThemeProperty("jqx-fill-state-hover")),e.addClass(s.toThemeProperty("jqx-menu-item-top-hover"))))}),this.addHandler(e,"mouseleave",function(){t.disabled||t.separator||!s.enableHover||s.disabled||(0<t.level?(e.removeClass(s.toThemeProperty("jqx-fill-state-hover")),e.removeClass(s.toThemeProperty("jqx-menu-item-hover"))):(e.removeClass(s.toThemeProperty("jqx-fill-state-hover")),e.removeClass(s.toThemeProperty("jqx-menu-item-top-hover"))))}))},_closeAfterClick:function(e){var t=null!=e?e.data:this,i=!1;t.autoCloseOnClick&&(w.each(w(e.target).parents(),function(){if(this.className.indexOf&&-1!=this.className.indexOf("jqx-menu"))return!(i=!0)}),i||(e.data=t)._closeAll(e))},_autoSizeHorizontalMenuItems:function(){var l=this;if(l.autoSizeMainItems&&"horizontal"==this.mode){var d=this.maxHeight;parseInt(d)>parseInt(this.host.height())&&(d=parseInt(this.host.height())),d=parseInt(this.host.height()),w.each(this.items,function(){if($element=w(this.element),0==this.level&&0<d){var e=0<$element.children().length?parseInt($element.children().height()):$element.height(),t=l.host.find("ul:first"),i=parseInt(t.css("padding-top")),s=parseInt(t.css("margin-top")),r=d-2*(s+i),n=parseInt(r)/2-e/2,o=parseInt(n),a=parseInt(n);if($element.css("padding-top",o),$element.css("padding-bottom",a),parseInt($element.outerHeight())>r){$element.css("padding-top",o-1),o-=1}}})}w.each(this.items,function(){if($element=w(this.element),this.hasItems&&0<this.level&&this.arrow){var e=w(this.arrow),t=w(this.element).height();15<t&&e.css("margin-top",(t-15)/2)}})},_nextVisibleItem:function(e,t){if(null==e||null==e)return null;for(var i=e;null!=i;)if(i=i.nextItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(null!=t&&i&&i.level!=t)continue;return i}return null},_prevVisibleItem:function(e,t){if(null==e||null==e)return null;for(var i=e;null!=i;)if(i=i.prevItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(null!=t&&i&&i.level!=t)continue;return i}return null},_parentItem:function(e){if(null==e||null==e)return null;var t=e.parentElement;if(!t)return null;var i=null;return w.each(this.items,function(){if(this.element==t)return i=this,!1}),i},_isElementVisible:function(e){return null!=e&&("none"!=w(e).css("display")&&"hidden"!=w(e).css("visibility"))},_isVisible:function(e){if(null==e||null==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(this.minimized)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isOpen&&!this.minimized)return!1;for(;null!=t;){if(null!=(t=this._parentItem(t))&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isOpen)return!1}}return!0},_render:function(e,t){this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled"))),null==this.host.attr("tabindex")&&this.host.attr("tabindex",0);var a=this.popupZIndex,l=[5,5],f=this;w.data(f.element,"animationHideDelay",f.animationHideDelay);var c=this.isTouchDevice(),u=c&&(w.jqx.mobile.isWindowsPhone()||0<=navigator.userAgent.indexOf("Touch"));-1!=navigator.platform.toLowerCase().indexOf("win")&&(0<=navigator.userAgent.indexOf("Windows Phone")||0<=navigator.userAgent.indexOf("WPDesktop")||0<=navigator.userAgent.indexOf("IEMobile")||0<=navigator.userAgent.indexOf("ZuneWP7")?this.touchDevice=!0:0<=navigator.userAgent.indexOf("Touch")&&("MSPointerDown"in window||w.jqx.mobile.isWindowsPhone()||0<=navigator.userAgent.indexOf("ARM"))&&(u=!0,f.clickToOpen=!0,f.autoCloseOnClick=!1,f.enableHover=!1));w.data(document.body,"menuel",this),this.hasTransform=w.jqx.utilities.hasTransform(this.host),this._applyOrientation(e,t),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus"),this.addHandler(this.host,"blur",function(e){if(f.keyboardNavigation&&f.activeItem){if("popup"===f.mode&&document.activeElement&&0<=document.activeElement.className.indexOf("jqx-menu-wrapper"))return;w(f.activeItem.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=null}}),this.addHandler(this.host,"focus",function(e){if(f.keyboardNavigation&&!f.activeItem)if(f.hoveredItem)w(f.hoveredItem.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=f.hoveredItem;else{var t=function(){if(w.jqx.isHidden(w(f.items[0].element))){var e=f._nextVisibleItem(f.items[0],0);e&&(w(e.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=e)}else w(f.items[0].element).addClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=f.items[0]};f.activeItem?w.jqx.isHidden(w(f.activeItem.element))?(w(f.activeItem.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),t()):w(f.activeItem.element).addClass(f.toThemeProperty("jqx-fill-state-focus")):t()}}),this.removeHandler(this.host,"keydown.menu"+this.element.id),f.handleKeyDown=function(e){if(!f.keyboardNavigation)return!0;if("input"===e.target.nodeName.toLowerCase())return!0;var t=null,i=null;if(w.each(f.items,function(){return!!this.disabled||(0<=this.element.className.indexOf("pressed")&&(i=this),0<=this.element.className.indexOf("focus")?(t=this,!1):void 0)}),!t&&i)return t=i,!1;if(!t)return w(f.items[0].element).addClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=f.items[0],t=f.activeItem,!1;if(27==e.keyCode){if((e.data=f)._closeAll(e),t)for(var s=t;null!=s;)s.parentItem||(w(f.activeItem.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=s,w(f.activeItem.element).addClass(f.toThemeProperty("jqx-fill-state-focus"))),s=s.parentItem;!0}if(13==e.keyCode&&t){!0,f._raiseEvent("2",{item:t.element,event:e,type:"keyboard"});var r=null!=t.anchor?w(t.anchor):null;if(null!=r&&0<r.length){var n=r.attr("href"),o=r.attr("target");null!=n&&(null!=o?window.open(n,o):window.location=n)}e.preventDefault(),e.stopPropagation(),w(t.element).focus()}var a=function(e){if(null==e)return new Array;for(var t=new Array,i=0,s=0;s<f.items.length;s++)f.items[s].parentId==e.parentId&&(t[i++]=f.items[s]);return t},l="";switch(e.keyCode){case 40:l="down";break;case 38:l="up";break;case 39:l="right";break;case 37:l="left"}if(t&&"left"===t.openHorizontalDirection&&"left"===l&&(l="right"),t&&"left"===t.openHorizontalDirection&&"right"===l&&(l="left"),t&&"top"===t.openVerticalDirection&&"top"===l&&(l="bottom"),t&&"top"===t.openVerticalDirection&&"bottom"===l&&(l="top"),f.rtl&&("right"===l?l="left":"left"===l&&(l="right")),"right"===l&&!f.minimized){if(e.altKey&&(0!=t.level&&t.hasItems||"horizontal"!=f.mode))f._openItem(f,t);else{var d=f._nextVisibleItem(t,0),h=f._nextVisibleItem(t),c=a(h);d||(d=h),d&&(d.parentId===t.parentId&&0==d.level&&"horizontal"==f.mode||h.id==c[0].id&&0!=h.level)&&(h.id==c[0].id&&(0!=t.level||0==t.level&&"horizontal"!=f.mode)&&(d=h),w(d.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),w(t.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=d)}e.preventDefault(),e.stopPropagation()}if("left"===l&&!f.minimized){if(e.altKey&&(0!=t.level&&"horizontal"!==f.mode||1<t.level&&"horizontal"===f.mode||1==t.level&&t.hasItems&&"horizontal"===f.mode))t.hasItems?f._closeItem(f,t):t.parentItem&&(f._closeItem(f,t.parentItem),w(t.parentItem.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),w(t.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=t.parentItem);else{var d=f._prevVisibleItem(t,0),u=t.parentItem;d&&d.parentId===t.parentId&&0==d.level&&"horizontal"==f.mode?(w(d.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),w(t.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=d):u&&0==u.level&&"horizontal"==f.mode||!u||u.level!=t.level-1||(w(u.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),w(t.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=u)}e.preventDefault(),e.stopPropagation()}if("down"===l){if(e.altKey)0==t.level&&t.hasItems&&f._openItem(f,t),f.minimized&&f.minimizedHidden&&f.minimizedItem.trigger("click");else{c=a(d=f._nextVisibleItem(t,t.level));if(f.minimized&&d)w(d.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),w(t.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=d;else if(d&&(d.parentId===t.parentId||d.id==c[0].id&&"horizontal"==f.mode)&&(0==d.level&&"horizontal"==f.mode||(w(d.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),w(t.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=d)),"horizontal"===f.mode&&0===t.level&&t.isOpen&&t.hasItems){d=f._nextVisibleItem(t);w(d.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),w(t.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=d}}e.preventDefault(),e.stopPropagation()}else if("up"===l){if(e.altKey)t.parentItem&&0==t.parentItem.level?(f._closeItem(f,t.parentItem),w(t.parentItem.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),w(t.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=t.parentItem):null===t.parentItem&&0===t.level&&"horizontal"===f.mode&&f._closeItem(f,t),f.minimized&&(f.minimizedHidden||f.minimizedItem.trigger("click"));else{d=f._prevVisibleItem(t,t.level),c=a(t);if(f.minimized&&d)w(d.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),w(t.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=d;else if(d&&(d.parentId===t.parentId||d.id==t.parentId&&0==d.level&&"horizontal"==f.mode))0==d.level&&"horizontal"===f.mode&&0===t.level||(w(d.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),w(t.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=d);else if(t&&t.id==c[0].id&&t.parentItem&&0===t.parentItem.level&&"horizontal"===f.mode){d=t.parentItem;w(d.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),w(t.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=d}}e.preventDefault(),e.stopPropagation()}if(9==e.keyCode)if(d=e.shiftKey?f._prevVisibleItem(t):f._nextVisibleItem(t))w(d.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),w(t.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=d,e.preventDefault(),e.stopPropagation();else if(f.lockFocus){c=new Array;for(var p=0,m=0;m<f.items.length;m++)f.items[m]!=t&&f.items[m].parentId==t.parentId&&(c[p++]=f.items[m]);0<c.length&&(e.shiftKey?(w(c[c.length-1].element).addClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=c[c.length-1]):(w(c[0].element).addClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=c[0]),w(t.element).removeClass(f.toThemeProperty("jqx-fill-state-focus"))),e.preventDefault(),e.stopPropagation()}else t&&(w(t.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=null)},this.addHandler(this.host,"keydown.menu"+this.element.id,function(e){f.handleKeyDown(e)}),f.enableRoundedCorners&&this.host.addClass(f.toThemeProperty("jqx-rc-all")),w.each(this.items,function(){var d=this,e=w(d.element);if(e.attr("role","menuitem"),f.enableRoundedCorners&&e.addClass(f.toThemeProperty("jqx-rc-all")),f.removeHandler(e,"click"),f.addHandler(e,"click",function(e){if(!d.disabled&&!f.disabled&&(f.keyboardNavigation&&(f.activeItem&&w(f.activeItem.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=d,w(d.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),f.minimized&&e.stopPropagation()),f._raiseEvent("2",{type:"mouse",item:d.element,event:e}),f.autoOpen?!f.autoCloseOnClick||c||f.clickToOpen||d.closeOnClick&&(e.data=f)._closeAll(e):0<d.level&&(!f.autoCloseOnClick||c||f.clickToOpen||(e.data=f)._closeAll(e)),c&&f.autoCloseOnClick&&(e.data=f,d.hasItems||f._closeAll(e)),"A"!=e.target.tagName&&"a"!=e.target.tagName)){var t=null!=d.anchor?w(d.anchor):null;if(null!=t&&0<t.length){var i=t.attr("href"),s=t.attr("target");null!=i&&(null!=s?window.open(i,s):window.location=i)}}}),f.removeHandler(e,"mouseenter"),f.removeHandler(e,"mouseleave"),u||"simple"==f.mode||f._renderHover(e,d,c),null!=d.subMenuElement){var h=w(d.subMenuElement);if("simple"==f.mode)return h.show(),!0;h.wrap('<div class="jqx-menu-popup '+f.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+a+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>'),h.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-h.outerHeight()}),h.data("timer",{}),0<d.level?h.css("left",-h.outerWidth()):"horizontal"==f.mode&&h.css("left",0),a++;var t=w(d.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(w(d.subMenuElement).outerWidth())+parseInt(l[0])+"px",height:parseInt(w(d.subMenuElement).outerHeight())+parseInt(l[1])+"px"}),i=e.closest("div.jqx-menu-popup");if(0<i.length){var s=h.css("margin-left"),r=h.css("margin-right"),n=h.css("padding-left"),o=h.css("padding-right");t.appendTo(i),h.css("margin-left",s),h.css("margin-right",r),h.css("padding-left",n),h.css("padding-right",o)}else{s=h.css("margin-left"),r=h.css("margin-right"),n=h.css("padding-left"),o=h.css("padding-right");t.appendTo(w(document.body)),h.css("margin-left",s),h.css("margin-right",r),h.css("padding-left",n),h.css("padding-right",o)}f.clickToOpen?(f.removeHandler(e,"mousedown"),f.addHandler(e,"mousedown",function(e){clearTimeout(h.data("timer").hide),null!=h&&h.stop(),0!=d.level||d.isOpen||(e.data=f)._closeAll(e),d.isOpen?f._closeItem(f,d,!0):f._openItem(f,d)})):((c||u)&&(f.removeHandler(e,w.jqx.mobile.getTouchEventName("touchstart")),f.addHandler(e,w.jqx.mobile.getTouchEventName("touchstart"),function(e){return clearTimeout(h.data("timer").hide),null!=h&&h.stop(),0!=d.level||d.isOpen||"popup"==f.mode||(e.data=f)._closeAll(e),d.isOpen?f._closeItem(f,d,!0):f._openItem(f,d),!1})),u||(f.addHandler(e,"mouseenter",function(){if(((f.autoOpen||0<d.level&&!f.autoOpen)&&clearTimeout(h.data("timer").hide),d.parentId&&0!=d.parentId)&&(f.menuElements[d.parentId]&&!f.menuElements[d.parentId].isOpen))return;return(f.autoOpen||0<d.level&&!f.autoOpen)&&f._openItem(f,d),!1}),f.addHandler(e,"mousedown",function(){f.autoOpen||0!=d.level||(clearTimeout(h.data("timer").hide),null!=h&&h.stop(),d.isOpen?f._closeItem(f,d,!0):f._openItem(f,d))}),f.addHandler(e,"mouseleave",function(e){if(f.autoCloseOnMouseLeave){clearTimeout(h.data("timer").hide);var t=w(d.subMenuElement),i=parseInt(e.pageX),s=parseInt(e.pageY),r=parseInt(t.coord().left),n=parseInt(t.coord().top),o=parseInt(t.outerWidth()),a=parseInt(t.outerHeight()),l=!0;r-5<=i&&i<=r+o+5&&n<=s&&s<=n+a&&(l=!1),l&&f._closeItem(f,d,!0)}}),f.removeHandler(t,"mouseenter"),f.addHandler(t,"mouseenter",function(){clearTimeout(h.data("timer").hide)}),f.removeHandler(t,"mouseleave"),f.addHandler(t,"mouseleave",function(e){f.autoCloseOnMouseLeave&&(clearTimeout(h.data("timer").hide),clearTimeout(h.data("timer").show),null!=h&&h.stop(),f._closeItem(f,d,!0))})))}}),"simple"==this.mode&&this._renderSimpleMode(),this._autoSizeHorizontalMenuItems(),this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){var e=Math.random()+"";for(e="99"+(e=e.replace(".","")),e/=1;this.items[e];)e=(e=Math.random()+"").replace(".",""),e/=1;return"menuItem"+e},_createMenu:function(e,t){if(null!=e){null==t&&(t=!0),null==t&&(t=!0);w(e).addClass("jqx-menu-ul");var i=w(e).find("li"),s=0;this.itemMapping=new Array;for(var r=0;r<i.length;r++){var n=i[r],o=w(n);if(-1!=n.className.indexOf("jqx-menu")||0!=this.autoGenerate){var a=n.id;a||(a=this.createID()),t&&(n.id=a,this.items[s]=new w.jqx._jqxMenu.jqxMenuItem,this.menuElements[a]=this.items[s]),s+=1;var l=0,d=this;o.children().each(function(){return t||(this.className="",d.autoGenerate&&(w(d.items[s-1].subMenuElement)[0].className="",d.minimized||w(d.items[s-1].subMenuElement).addClass(d.toThemeProperty("jqx-widget-content")),w(d.items[s-1].subMenuElement).addClass(d.toThemeProperty("jqx-menu-dropdown")),w(d.items[s-1].subMenuElement).addClass(d.toThemeProperty("jqx-popup")))),-1!=this.className.indexOf("jqx-menu-dropdown")?(t&&(d.items[s-1].subMenuElement=this),!1):!d.autoGenerate||"ul"!=this.tagName&&"UL"!=this.tagName?void 0:(t&&(d.items[s-1].subMenuElement=this),this.className="",d.minimized||w(this).addClass(d.toThemeProperty("jqx-widget-content")),w(this).addClass(d.toThemeProperty("jqx-menu-dropdown")),w(this).addClass(d.toThemeProperty("jqx-popup")),w(this).attr("role","menu"),d.rtl?w(this).addClass(d.toThemeProperty("jqx-rc-l")):w(this).addClass(d.toThemeProperty("jqx-rc-r")),w(this).addClass(d.toThemeProperty("jqx-rc-b")),!1)}),o.parents().each(function(){return-1!=this.className.indexOf("jqx-menu-item")?(l=this.id,!1):!d.autoGenerate||"li"!=this.tagName&&"LI"!=this.tagName?void 0:(l=this.id,!1)});var h=!1,c=n.getAttribute("type"),u=n.getAttribute("ignoretheme")||n.getAttribute("data-ignoretheme");if(u?"true"!=u&&1!=u||(u=!0):u=!1,c){if("separator"==c)h=!0}else c=n.type;h||(c=l?"sub":"top");var p=this.items[s-1];if(t){p.id=a,p.parentId=l,p.type=c,p.separator=h,p.element=i[r];var m=o.children("a");p.disabled="true"==n.getAttribute("item-disabled"),p.level=o.parents("li").length,p.anchor=0<m.length?m:null,p.anchor&&w(p.anchor).attr("tabindex",-1)}p.ignoretheme=u;var f=this.menuElements[l];null!=f&&(f.ignoretheme&&(p.ignoretheme=f.ignoretheme,u=f.ignoretheme),p.parentItem=f,p.parentElement=f.element),this.autoGenerate&&("separator"==c?(o.removeClass(),o.addClass(this.toThemeProperty("jqx-menu-item-separator")),o.attr("role","separator")):u||(0<=o[0].className.indexOf("jqx-grid-menu-item-touch")?o[0].className=this.toThemeProperty("jqx-grid-menu-item-touch"):o[0].className="",this.rtl&&o.addClass(this.toThemeProperty("jqx-rtl")),0<p.level&&!d.minimized?(o.addClass(this.toThemeProperty("jqx-item")),o.addClass(this.toThemeProperty("jqx-menu-item"))):(o.addClass(this.toThemeProperty("jqx-item")),o.addClass(this.toThemeProperty("jqx-menu-item-top"))))),p.disabled&&(o.addClass(d.toThemeProperty("jqx-menu-item-disabled")),o.addClass(d.toThemeProperty("jqx-fill-state-disabled"))),this.itemMapping[r]={element:i[r],item:p},this.itemMapping["id"+i[r].id]=this.itemMapping[r],t&&!u&&(p.hasItems=0<o.find("li").length,p.hasItems&&p.element&&(w.jqx.aria(w(p.element),"aria-haspopup",!0),p.subMenuElement.id||(p.subMenuElement.id=w.jqx.utilities.createId()),w.jqx.aria(w(p.element),"aria-owns",p.subMenuElement.id)))}}for(var g=0;g<i.length;g++){var v=i[g];if(this.itemMapping["id"+v.id]){if(!(p=this.itemMapping["id"+v.id].item))continue;p.prevItem=null,p.nextItem=null,0<g&&this.itemMapping["id"+i[g-1].id]&&(p.prevItem=this.itemMapping["id"+i[g-1].id].item),g<i.length-1&&this.itemMapping["id"+i[g+1].id]&&(p.nextItem=this.itemMapping["id"+i[g+1].id].item)}}}},destroy:function(){var t=this;w.jqx.utilities.resize(t.host,null,!0);var e=t.host.closest("div.jqx-menu-wrapper");t.removeHandler(e,"keydown"),e.remove(),t.removeHandler(w("#menuWrapper"+t.element.id),"keydown"),w("#menuWrapper"+t.element.id).remove(),t.removeHandler(t.host,"keydown"),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(w(document),"mousedown.menu"+t.element.id,t._closeAfterClick),t.removeHandler(w(document),"mouseup.menu"+t.element.id,t._closeAfterClick),t.removeHandler(w(document),"contextmenu."+t.element.id),t.removeHandler(t.host,"contextmenu."+t.element.id),w.data(document.body,"jqxMenuOldHost"+t.element.id,null),t.isTouchDevice()&&t.removeHandler(w(document),w.jqx.mobile.getTouchEventName("touchstart")+".menu"+t.element.id,t._closeAfterClick,this),w(window).off&&w(window).off("resize.menu"+t.element.id),w.each(t.items,function(){var e=w(this.element);t.removeHandler(e,"click"),t.removeHandler(e,"selectstart"),t.removeHandler(e,"mouseenter"),t.removeHandler(e,"mouseleave"),t.removeHandler(e,"mousedown"),t.removeHandler(e,"mouseleave"),w(this.subMenuElement).closest("div.jqx-menu-popup").remove(),delete this.subMenuElement,delete this.element}),w.data(document.body,"menuel",null),delete t.menuElements,t.items=new Array,delete t.items;var i=w.data(t.element,"jqxMenu");i&&delete i.instance,t.host.removeClass(),t.host.remove(),delete t.host,delete t.element},_raiseEvent:function(e,t){null==t&&(t={owner:null});var i=this.events[e];args=t,args.owner=this;var s=new w.Event(i);return"2"==e&&(args=t.item,args.owner=this,args.clickType=t.type,w.extend(s,t.event),s.type="itemclick"),s.owner=this,s.args=args,this.host.trigger(s)},propertiesChangedHandler:function(e,t,i){if(i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),"popup"===e.mode)){this.host.closest("div.jqx-menu-wrapper")[t](i);var s=this.host[0].id;w("#"+s)[t](i)}},propertyChangedHandler:function(e,t,i,s){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)&&("disabled"==t&&(e.disabled?(e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e.host.addClass(e.toThemeProperty("jqx-menu-disabled"))):(e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e.host.removeClass(e.toThemeProperty("jqx-menu-disabled")))),s!=i))if("touchMode"==t&&(this._isTouchDevice=null,e._render(s,i)),"width"!==t&&"height"!==t){if("source"==t&&null!=e.source){var r=e.loadItems(e.source);e.element.innerHTML=r;var n=e.host.find("ul:first");0<n.length&&(e.refresh(),e._createMenu(n[0]),e._render())}"autoCloseOnClick"==t?0==s?e.removeHandler(w(document),"mousedown.menu"+this.element.id,e._closeAll):e.addHandler(w(document),"mousedown.menu"+this.element.id,e,e._closeAll):"mode"==t||"width"==t||"height"==t||"showTopLevelArrows"==t?(e.refresh(),"mode"==t?e._render(s,i):e._applyOrientation()):"theme"==t&&w.jqx.utilities.setTheme(i,s,e.host)}else if(e._setSize(),"popup"===e.mode){this.host.closest("div.jqx-menu-wrapper")[t](s);var o=this.host[0].id;w("#"+o)[t](s)}}})}(jqxBaseFramework),jqxBaseFramework.jqx._jqxMenu.jqxMenuItem=function(e,t,i){return{id:e,parentId:t,parentItem:null,anchor:null,type:i,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0}},function(g){g.jqx.jqxWidget("jqxNavBar","",{}),g.extend(g.jqx._jqxNavBar.prototype,{defineInstance:function(){var e={height:"auto",minimizedHeight:30,popupAnimationDelay:250,minimizeButtonPosition:"left",width:"100%",selectedItem:0,selection:!0,disabled:!1,rtl:!1,minimized:!1,columns:null,minimizedTitle:"",orientation:"horizontal",events:["change"]};return this===g.jqx._jqxNavBar.prototype||g.extend(!0,this,e),e},createInstance:function(e){this.render()},render:function(){var e=this;e.ul&&e.ul.parent()[0]!==e.element&&(e.ul.detach(),e.host.children().remove(),e.host.append(e.ul),e.popup&&e.popup.remove(),e.host.height(null),e.host.removeClass(e.toThemeProperty("jqx-widget-header")),e.host.removeClass(e.toThemeProperty("jqx-navbar-minimized"))),e.ul=e.host.children(),e._items=e.ul.children(),g.each(e._items,function(){g(this).removeClass()}),null!==this.width&&(0<=this.width.toString().indexOf("%")||0<=this.width.toString().indexOf("px"))?this.element.style.width=this.width:this.element.style.width=this.width+"px",e._layoutItems(),e._addClasses(),e._addHandlers(),e._handleMinimize(),g.jqx.utilities.resize(this.host,function(){e._resizePopup()})},_layoutItems:function(){var e=this,t=1,i=0,s=null===this.height||"auto"===this.height;if("horizontal"===e.orientation){if(5<e._items.length){var r="50%";e._items.css("width",r);var n=e.height;if(t=Math.ceil(e._items.length/2),!s){var o=!1;0<=n.toString().indexOf("%")?(c=parseInt(n)/t,c+="%",o=!0):c=parseInt(n)/t,i=2,o?(e._items.css("height",c),e._items.css("line-height",e._items.height()+"px")):(e._items.height(c),e._items.css("line-height",c+"px"))}}else{r=e.host.width/2;var a=e._items.length;r=100/a+"%";e._items.css("width",r),s||(0<=e.height.toString().indexOf("%")?(e._items.css("height",c),e._items.css("line-height",e.height)):(e._items.height(e.height),e._items.css("line-height",parseInt(e.height)+"px"))),i=a}if(e.columns){n=e.height;for(var l=0,d=0;d<e._items.length;d++){var h=e._items[d];g(h).css("width",e.columns[l]),++l>=e.columns.length&&(l=0,e.columns.length!==e._items.length&&t++)}o=!1;0<=n.toString().indexOf("%")?(c=parseInt(n)/t,c+="%",o=!0):c=parseInt(n)/t,s||(o?(e._items.css("height",c),e._items.css("line-height",e._items.height()+"px")):(e._items.height(c),e._items.css("line-height",c+"px"))),i=e.columns.length}}else{for(n=e.height,l=0,d=0;d<e._items.length;d++){h=e._items[d];g(h).css("width","100%")}if(t=e._items.length,!s){var c;o=!1;0<=n.toString().indexOf("%")?(c=parseInt(n)/t,c+="%",o=!0):c=parseInt(n)/t,o?(e._items.css("height",c),e._items.css("line-height",e._items.height()+"px")):(e._items.height(c),e._items.css("line-height",c+"px"))}i=1}if(e.selection){var u=0,p=!1;e._items.length/i<t&&(p=!0);for(d=0;d<t;d++)for(var m=0;m<i;m++){if(m<i-1){var f=e.rtl?"left":"right";g(e._items[u]).css("border-"+f+"-width","1px"),g(e._items[u]).css("border-"+f+"-style","solid")}1<t&&0<d&&(g(e._items[u]).css("border-top-width","1px"),g(e._items[u]).css("border-top-style","solid")),p&&d===t-2&&m===i-1&&(g(e._items[u]).css("border-bottom-width","1px"),g(e._items[u]).css("border-bottom-style","solid")),u++}}g.jqx.browser.msie&&g.jqx.browser.version<8&&(e._items.css("padding-left","0px"),e._items.css("padding-right","0px"),g.each(e._items,function(){g(this).css("border-left-width","0px"),g(this).css("border-right-width","0px"),g(this).css("position","relative"),g(this).css("margin-left","-1px")}),e.host.css("border","none"))},_handlePopupHeight:function(){var e=this;if(e.minimized){var t,i=!1;0<=e.height.toString().indexOf("%")&&(e.host.css("height",e.height),t=e.host.height()-e.minimizedHeight-1,i=!0),i&&(e.popup.height(t),e.ul.height(t),e.host.height(e.minimizedHeight),e._layoutItems())}},_handleMinimize:function(){var e=this;if(e.minimized){var t=e.host;t.height(e.minimizedHeight),t.css("box-sizing","border-box"),t.addClass(e.toThemeProperty("jqx-widget-header")),t.addClass(e.toThemeProperty("jqx-navbar-minimized"));var i=g('<div style="cursor: pointer; height: 100%; margin:0px; margin-left: 5px; margin-right:5px;"></div>');t.append(i),i.css("float",e.minimizeButtonPosition);var s=g('<div style="height: 100%; margin:0px; margin-left: 5px; margin-right:5px;"></div>');s.append(e.minimizedTitle),s.css("float","left"===e.minimizeButtonPosition?"right":"left"),"auto"!==e.minimizedHeight&&(0<=e.minimizedHeight.toString().indexOf("%")?s.css("line-height",e.minimizedHeight):s.css("line-height",parseInt(e.minimizedHeight)+"px")),t.append(s),i.addClass(e.toThemeProperty("jqx-menu-minimized-button")),t.removeClass(e.toThemeProperty("jqx-widget-content")),e.ul.detach();var r=g("<div style='box-sizing: border-box; z-index: 999999; display: none; position: absolute;'></div>");r.addClass(e.toThemeProperty("jqx-widget jqx-widget-content jqx-popup jqx-navbar jqx-navbar-popup")),r.append(e.ul),e.popup=r,g(document.body).append(r),e.opened=!1,i.click(function(){e.opened?e.close():e.open()}),e.button=i}},close:function(){this.popup.fadeOut(this.popupAnimationDelay),this.opened=!1},open:function(){var e=this;e.popup.fadeIn(e.popupAnimationDelay),e.popup.css("top",parseInt(e.host.coord().top)+e.host.outerHeight()-1),e.popup.width(e.host.width());var t=e.host.coord().left;e.popup.css("left",t),0<=t.toString().indexOf(".5")&&e.popup.width(e.host.width()-.5),e._handlePopupHeight(),e.opened=!0},_resizePopup:function(){var e=this;if(e.minimized&&e.popup){e.popup.width(e.host.width());var t=e.host.coord().left;e.popup.css("left",t),0<=t.toString().indexOf(".5")&&e.popup.width(e.host.width()-.5),e.popup.css("top",parseInt(e.host.coord().top)+e.host.outerHeight()-1),e._handlePopupHeight()}},selectAt:function(e){if(this.selection){g(this._items[this.selectedItem]).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),g(this._items[e]).addClass(this.toThemeProperty("jqx-fill-state-pressed"));var t=this.selectedItem;this.selectedItem=e,this._raiseEvent("0",{selectedItem:e,oldSelectedItem:t})}},getSelectedIndex:function(){return this.selectedItem},destroy:function(){this._removeHandlers(),this.host.remove()},propertyChangedHandler:function(e,t,i,s){e.render()},_raiseEvent:function(e,t){var i=this.events[e],s=new g.Event(i);s.owner=this,s.args=t;try{var r=this.host.trigger(s)}catch(e){}return r},_removeHandlers:function(){this.removeHandler(this._items,"click.navbar"+this.element.id),this.removeHandler(this._items,"mouseenter.navbar"+this.element.id),this.removeHandler(this._items,"mouseleave.navbar"+this.element.id)},_addClasses:function(){var e=this;e.host.addClass(e.toThemeProperty("jqx-navbar")),e.disabled&&e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e._items.addClass(e.toThemeProperty("jqx-navbar-block")),e.selection?(e.host.addClass(e.toThemeProperty("jqx-widget")),e.host.addClass(e.toThemeProperty("jqx-widget-content")),e.host.addClass(e.toThemeProperty("jqx-fill-state-normal")),e._items.addClass(e.toThemeProperty("jqx-fill-state-normal")),e._items.addClass(e.toThemeProperty("jqx-button")),-1!==e.selectedItem&&g(e._items[e.selectedItem]).addClass(e.toThemeProperty("jqx-fill-state-pressed"))):this.host.css("border","none"),e.rtl&&e._items.addClass(e.toThemeProperty("jqx-navbar-block-rtl"))},_addHandlers:function(){var i=this;i.addHandler(i._items,"click.navbar"+i.element.id,function(e){if(!i.disabled&&i.selection){var t=g(i._items).index(this);i.selectAt(t)}}),i.addHandler(i._items,"mouseenter.navbar"+i.element.id,function(e){!i.disabled&&i.selection&&g(e.target).addClass(i.toThemeProperty("jqx-fill-state-hover"))}),i.addHandler(i._items,"mouseleave.navbar"+i.element.id,function(e){!i.disabled&&i.selection&&g(e.target).removeClass(i.toThemeProperty("jqx-fill-state-hover"))})}})}(jqxBaseFramework),function(m){m.jqx.jqxWidget("jqxNavigationBar","",{}),m.extend(m.jqx._jqxNavigationBar.prototype,{defineInstance:function(){var e={width:"auto",height:"auto",expandAnimationDuration:250,collapseAnimationDuration:250,animationType:"slide",toggleMode:"click",showArrow:!0,arrowPosition:"right",disabled:!1,initContent:null,rtl:!1,easing:"easeInOutSine",expandMode:"singleFitHeight",expandedIndexes:[],_expandModes:["singleFitHeight","single","multiple","toggle","none"],aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["expandingItem","expandedItem","collapsingItem","collapsedItem"]};return this===m.jqx._jqxNavigationBar.prototype||m.extend(!0,this,e),e},createInstance:function(){this._isTouchDevice=m.jqx.mobile.isTouchDevice(),m.jqx.aria(this),this.render()},val:function(e){return 0===arguments.length||"object"==typeof e||("string"==typeof e?this.expandedIndexes.push(parseInt(e,10)):e instanceof Array?this.expandedIndexes=e:this.expandedIndexes=[e],this._applyExpandedIndexes()),this.expandedIndexes},expandAt:function(e){var i=this;if("single"==this.expandMode||"singleFitHeight"==this.expandMode||"toggle"==this.expandMode)for(var t=0;t<i.items.length;t++)t!=e&&i.collapseAt(t);var s=this.items[e];if(!1===s.disabled&&!1===s.expanded&&1==s._expandChecker)switch(s._expandChecker=0,this._raiseEvent("0",{item:e}),s._headerHelper.removeClass(this.toThemeProperty("jqx-fill-state-normal")),s._headerHelper.addClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),s._arrowHelper.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-icon-arrow-down-selected jqx-expander-arrow-top")),s._arrowHelper.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),!1===this.heightFlag&&(i.element.style.overflowX="hidden",i.element.style.overflowY="hidden"),this.eCFlag=1,this.animationType){case"slide":var r=s._contentHelper,n=0,o=r.outerHeight();r.slideDown({duration:this.expandAnimationDuration,easing:this.easing,step:function(e,t){t.now=Math.round(e),"height"!==t.prop?n+=t.now:i._collapseContent?(t.now=Math.round(o-i._collapseContent.outerHeight()-n),n=0):t.now=Math.round(e)},complete:function(){s.expanded=!0,m.jqx.aria(s._header,"aria-expanded",!0),m.jqx.aria(s._content,"aria-hidden",!1),i._updateExpandedIndexes(),i._raiseEvent("1",{item:e}),i._checkHeight(),!0===i.heightFlag&&(i.element.style.overflowX="hidden",i.element.style.overflowY="auto"),i.initContent&&!1===s._initialized&&(i.initContent(e),s._initialized=!0),i.eCFlag=0}});break;case"fade":setTimeout(function(){s._contentHelper.fadeIn({duration:this.expandAnimationDuration,complete:function(){s.expanded=!0,m.jqx.aria(s._header,"aria-expanded",!0),m.jqx.aria(s._content,"aria-hidden",!1),i._updateExpandedIndexes(),i._raiseEvent("1",{item:e}),i._checkHeight(),!0===i.heightFlag&&(i.element.style.overflowX="hidden",i.element.style.overflowY="auto"),i.initContent&&!1===s._initialized&&(i.initContent(e),s._initialized=!0),i.eCFlag=0}})},this.collapseAnimationDuration);break;case"none":s._content.style.display="",s.expanded=!0,m.jqx.aria(s._header,"aria-expanded",!0),m.jqx.aria(s._content,"aria-hidden",!1),this._updateExpandedIndexes(),this._raiseEvent("1",{item:e}),this._checkHeight(),!0===this.heightFlag&&(i.element.style.overflowX="hidden",i.element.style.overflowY="auto"),this.initContent&&!1===s._initialized&&(this.initContent(e),s._initialized=!0),this.eCFlag=0}},collapseAt:function(e){var t=this.items[e];if(!1===t.disabled&&!0===t.expanded&&0===t._expandChecker){var i=this;switch(t._expandChecker=1,this._raiseEvent("2",{item:e}),t._headerHelper.removeClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),t._headerHelper.addClass(this.toThemeProperty("jqx-fill-state-normal")),t._arrowHelper.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-icon-arrow-down-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),t._arrowHelper.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")),!1===this.heightFlag&&(i.element.style.overflowX="hidden",i.element.style.overflowY="hidden"),this.eCFlag=1,this._collapseContent=t._contentHelper,this.animationType){case"slide":t._contentHelper.slideUp({duration:this.collapseAnimationDuration,step:function(e,t){t.now=Math.round(e)},easing:this.easing,complete:function(){t.expanded=!1,t._content.style.display="none",m.jqx.aria(t._header,"aria-expanded",!1),m.jqx.aria(t._content,"aria-hidden",!0),i._updateExpandedIndexes(),i._raiseEvent("3",{item:e}),i._checkHeight(),!0===i.heightFlag&&(i.element.style.overflowX="hidden",i.element.style.overflowY="auto"),i.eCFlag=0,i._collapseContent=null}});break;case"fade":t._contentHelper.fadeOut({duration:this.collapseAnimationDuration,complete:function(){t.expanded=!1,m.jqx.aria(t._header,"aria-expanded",!1),m.jqx.aria(t._content,"aria-hidden",!0),i._updateExpandedIndexes(),i._raiseEvent("3",{item:e}),i._checkHeight(),!0===i.heightFlag&&(i.element.style.overflowX="hidden",i.element.style.overflowY="auto"),i.eCFlag=0}});break;case"none":t._content.style.display="none",t.expanded=!1,m.jqx.aria(t._header,"aria-expanded",!1),m.jqx.aria(t._content,"aria-hidden",!0),this._updateExpandedIndexes(),this._raiseEvent("3",{item:e}),this._checkHeight(),!0===this.heightFlag&&(i.element.style.overflowX="hidden",i.element.style.overflowY="auto"),this.eCFlag=0}}},setHeaderContentAt:function(e,t){this.items[e]._headerText.innerHTML=t},getHeaderContentAt:function(e){return this.items[e]._headerText.innerHTML},setContentAt:function(e,t){this.items[e]._content.innerHTML=t,this._checkContent(e)},getContentAt:function(e){return this.items[e]._content.innerHTML},showArrowAt:function(e){this.items[e]._arrow.style.display="block"},hideArrowAt:function(e){this.items[e]._arrow.style.display="none"},enable:function(){this.disabled=!1,this._enabledDisabledCheck(),this.refresh(),m.jqx.aria(this,"aria-disabled",!1)},disable:function(){this.disabled=!0,this._enabledDisabledCheck(),this.refresh(),m.jqx.aria(this,"aria-disabled",!0)},enableAt:function(e){this.items[e].disabled=!1,this.refresh()},disableAt:function(e){this.items[e].disabled=!0,this.refresh()},invalidate:function(){this.refresh()},refresh:function(e){if(!0!==e){this._removeHandlers();for(var t=0;t<this.items.length;t++)this.items[t]._arrow.style.display=this.showArrow?"block":"none";this._updateExpandedIndexes(),this._setTheme(),this._setSize(),this._toggle(),this._keyBoard()}},render:function(){this.widgetID=this.element.id;var i=this;-1==this._expandModes.indexOf(this.expandMode)&&(this.expandMode="singleFitHeight"),m.jqx.utilities.resize(this.host,function(){i._setSize()}),i.element.setAttribute("role","tablist"),this.items&&(this._removeHandlers(),m.each(this.items,function(){this._header.className="",this._header.setAttribute("tabindex",null),this._header.style.marginTop="0px",this._headerText.className="",this._header.innerHTML=this._headerText.innerHTML,this._content.setAttribute("tabindex",null)})),this.items=[];var e=i.host.children(),t=e.length;try{if(t%2!=0)throw"Invalid jqxNavigationBar structure. Please add an even number of child div elements that will represent each item's header and content."}catch(e){throw new Error(e)}try{for(var s=0;s<t;s++)if("div"!=e[s].tagName.toLowerCase())throw"Invalid jqxNavigationBar structure. Please make sure all the children elements of the navigationbar are divs."}catch(e){throw new Error(e)}for(var r=0;r<t;r+=2){var n=e[r];n.innerHTML="<div>"+n.innerHTML+"</div>"}for(var o,a=0,l=0;l<t/2;l++){o=a+1;var d={};(d={})._header=e[a],d._headerHelper=m(e[a]),e[a].setAttribute("role","tab"),d._content=e[o],d._contentHelper=m(e[o]),d._contentHelper.initAnimate&&d._contentHelper.initAnimate(),d.expandedFlag=!1,d.expanded=!1,d.focusedH=!1,d.focusedC=!1,this.items[l]=d,e[o].setAttribute("role","tabpanel"),a+=2}var h=this.expandedIndexes.length;if(!this.items||0!==this.items.length){if("single"==this.expandMode||"singleFitHeight"==this.expandMode||"toggle"==this.expandMode||"none"==this.expandMode)0!==h?this.items[this.expandedIndexes[0]].expanded=!0:0!==h||"single"!=this.expandMode&&"singleFitHeight"!=this.expandMode||(this.items[0].expanded=!0);else if("multiple"==this.expandMode&&0!==h)for(var c=0;c<h;c++)i.items[this.expandedIndexes[c]].expanded=!0;this._enabledDisabledCheck();var u=0;m.each(this.items,function(e){var t=this;t._headerText=m(t._header).children()[0],i.rtl?m(t._headerText).addClass(i.toThemeProperty("jqx-expander-header-content-rtl")):m(t._headerText).addClass(i.toThemeProperty("jqx-expander-header-content")),t._arrow=document.createElement("div"),t._arrowHelper=m(t._arrow),t._header.appendChild(t._arrow),i.showArrow?t._arrow.style.display="block":t._arrow.style.display="none",!0===t.expanded?(t._arrowHelper.addClass(i.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),i.initContent?setTimeout(function(){i.initContent(e),t._initialized=!0},10):t._initialized=!0,t._expandChecker=0,m.jqx.aria(t._header,"aria-expanded",!0),m.jqx.aria(t._content,"aria-hidden",!1)):!1===t.expanded&&(t._arrowHelper.addClass(i.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")),t._initialized=!1,t._expandChecker=1,t._content.style.display="none",m.jqx.aria(t._header,"aria-expanded",!1),m.jqx.aria(t._content,"aria-hidden",!0)),null===t._header.getAttribute("tabindex")&&(u++,t._header.setAttribute("tabindex",u)),null===t._content.getAttribute("tabindex")&&(u++,t._content.setAttribute("tabindex",u))}),this._setTheme(),this._setSize();for(var p=0;p<i.items.length;p++)i._checkContent(p);this._toggle(),this._keyBoard()}},insert:function(e,t,i){var s=document.createElement("div"),r=document.createElement("div");if(s.innerHTML=t,r.innerHTML=i,0<=e&&e<=this.items.length){var n=this.items[e]._header;this.element.insertBefore(s,n),this.element.insertBefore(r,n)}else this.element.appendChild(s),this.element.appendChild(r);this.render()},add:function(e,t){this.insert(-1,e,t)},update:function(e,t,i){this.setHeaderContentAt(e,t),this.setContentAt(e,i)},remove:function(e){if(isNaN(e)&&(e=this.items.length-1),this.items[e]){this.items[e]._header.remove(),this.items[e]._content.remove(),this.items.splice(e,1);var t=this.expandedIndexes.indexOf(e);-1<t&&this.expandedIndexes.splice(t,1),this.render()}},destroy:function(){this._removeHandlers(),this.host.remove()},focus:function(){try{for(var e=0;e<this.items.length;e++){var t=this.items[e];if(!1===t.disabled)return t._header.focus(),!1}}catch(e){}},_applyExpandedIndexes:function(){for(var e=this,t=this.expandedIndexes.length,i=0;i<t;i++)for(var s=e.expandedIndexes[i],r=0;r<e.items.length;r++){var n=e.items[r];if(r==s){if(!(n.expandedFlag=!0)===n.expanded&&e.expandAt(r),"single"==e.expandMode||"singleFitHeight"==e.expandMode||"toggle"==e.expandMode||"none"==e.expandMode)return!1}else r!=s&&!1===n.expandedFlag&&e.collapseAt(r)}for(var o=0;o<e.items.length;o++)e.items[o].expandedFlag=!1},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(e,t,i,s){e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("width"!=t&&"height"!=t?"theme"!==t?"disabled"==t?e._enabledDisabledCheck():"expandedIndexes"==t?e._applyExpandedIndexes():e.refresh():e.render():e._setSize())},_raiseEvent:function(e,t){var i,s=this.events[e],r=new m.Event(s);r.owner=this,r.args=t,r.item=r.args.item;try{i=this.host.trigger(r)}catch(e){}return i},resize:function(e,t){this.width=e,this.height=t,this._setSize()},_setSize:function(){var e=this;this.headersHeight=0;var t=(this.items&&0<this.items.length?parseInt(this.items[0]._headerHelper.css("padding-left"),10):0)+(this.items&&0<this.items.length?parseInt(this.items[0]._headerHelper.css("padding-right"),10):0)+2;isNaN(t)&&(t=12),"auto"==this.width?e.element.style.width="auto":null!=this.width&&-1!=this.width.toString().indexOf("%")?e.element.style.width=e.width:e.element.style.width=parseInt(this.width,10)+t+"px","number"==typeof e.height?e.element.style.height=e.height+"px":e.element.style.height=e.height;for(var i=0;i<e.items.length;i++){var s=e.items[i],r=e.arrowPosition;if(e.rtl)switch(r){case"left":r="right";break;case"right":r="left"}"right"==r?(s._headerText.style.float="left",s._headerText.style.marginLeft="0px",s._arrow.style.float="right",s._arrow.style.position="relative"):"left"==r&&("auto"==e.width?(s._headerText.style.float="left",s._headerText.style.marginLeft="17px",s._arrow.style.float="left",s._arrow.style.position="absolute"):(s._headerText.style.float="right",s._headerText.style.marginLeft="0px",s._arrow.style.float="left",s._arrow.style.position="relative")),s._header.style.height="auto",s._headerText.style.minHeight=s._arrow.offsetHeight,e.headersHeight+=m(s._header).outerHeight(),s._arrow.style.marginTop=s._headerText.offsetHeight/2-s._arrow.offsetHeight/2+"px"}for(var n=0;n<e.items.length;n++){var o=e.items[n];if("auto"!=e.height)if("single"==e.expandMode||"toggle"==e.expandMode||"multiple"==e.expandMode)e.element.style.overflowX="hidden",e.element.style.overflowY="auto";else if("singleFitHeight"==e.expandMode){var a=parseInt(o._contentHelper.css("padding-top"),10)+parseInt(o._contentHelper.css("padding-bottom"),10);e.height&&0<=e.height.toString().indexOf("%")?o._content.style.height=Math.max(0,e.element.offsetHeight-e.headersHeight-a+2)+"px":o._content.style.height=Math.max(0,e.element.offsetHeight-e.headersHeight-a)+"px"}}e._checkHeight()},_toggle:function(){var t=this;if(!1===this._isTouchDevice)switch(this.toggleMode){case"click":case"dblclick":m.each(this.items,function(e){!1===this.disabled&&t.addHandler(this._header,t.toggleMode+".navigationbar"+t.widgetID,function(){t.focusedH=!0,t._animate(e)})})}else{if("none"==this.toggleMode)return;m.each(this.items,function(e){!1===this.disabled&&t.addHandler(this._header,m.jqx.mobile.getTouchEventName("touchstart")+"."+t.widgetID,function(){t._animate(e)})})}},_animate:function(e,t){var i=this.items[e];"none"!=this.expandMode&&1!=this.eCFlag&&(!0===this.items[e].expanded?"multiple"!=this.expandMode&&"toggle"!=this.expandMode||this.collapseAt(e):this.expandAt(e),this._isTouchDevice||(!0!==t?(i._headerHelper.addClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),i._arrowHelper.addClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover"))):(i._headerHelper.removeClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),i._arrowHelper.removeClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")))))},_removeHandlers:function(){var e=this;this.removeHandler(this.host,"keydown.navigationbar"+this.widgetID);for(var t=0;t<e.items.length;t++){var i=e.items[t];e.removeHandler(i._header,"click.navigationbar"+e.widgetID),e.removeHandler(i._header,"dblclick.navigationbar"+e.widgetID),e.removeHandler(i._header,"mouseenter.navigationbar"+e.widgetID),e.removeHandler(i._header,"mouseleave.navigationbar"+e.widgetID),e.removeHandler(i._header,"focus.navigationbar"+e.widgetID),e.removeHandler(i._header,"blur.navigationbar"+e.widgetID),e.removeHandler(i._content,"focus.navigationbar"+e.widgetID),e.removeHandler(i._content,"blur.navigationbar"+e.widgetID),e.removeHandler(i._headerText,"focus.navigationbar"+e.widgetID),e.removeHandler(i._arrow,"focus.navigationbar"+e.widgetID)}},_setTheme:function(){var a=this;this.host.addClass(this.toThemeProperty("jqx-reset jqx-widget")),!0===this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl")),m.each(this.items,function(e){var t=this,i=t._headerHelper,s=t._arrowHelper,r=t._contentHelper,n="jqx-widget-header jqx-item jqx-expander-header",o="jqx-widget-content jqx-expander-content jqx-expander-content-bottom";t._header.style.position="relative",!(t._content.style.position="relative")===t.disabled?(i.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),r.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),!0===t.expanded?n+=" jqx-fill-state-pressed jqx-expander-header-expanded":(n+=" jqx-fill-state-normal",i.removeClass(a.toThemeProperty("jqx-expander-header-expanded"))),a._isTouchDevice||(a.addHandler(t._header,"mouseenter.navigationbar"+a.widgetID,function(){1==t._expandChecker&&(t.focusedH||(t._header.style.zIndex=5),i.removeClass(a.toThemeProperty("jqx-fill-state-normal jqx-fill-state-pressed")),i.addClass(a.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),s.addClass(a.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")),t.expanded?s.addClass(a.toThemeProperty("jqx-icon-arrow-up-hover")):s.addClass(a.toThemeProperty("jqx-icon-arrow-down-hover")))}),a.addHandler(t._header,"mouseleave.navigationbar"+a.widgetID,function(){t.focusedH||(t._header.style.zIndex=0),i.removeClass(a.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),s.removeClass(a.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover jqx-icon-arrow-up-hover jqx-icon-arrow-down-hover")),1==t._expandChecker?i.addClass(a.toThemeProperty("jqx-fill-state-normal")):i.addClass(a.toThemeProperty("jqx-fill-state-pressed"))}))):(n+=" jqx-fill-state-disabled",o+=" jqx-fill-state-disabled"),a.host.addClass(a.toThemeProperty("jqx-navigationbar")),i.addClass(a.toThemeProperty(n)),r.addClass(a.toThemeProperty(o)),0!==e&&(t._header.style.marginTop="-1px"),s.addClass(a.toThemeProperty("jqx-expander-arrow"))})},_checkContent:function(e){var t=this.items[e],i=t._content;if(this._cntntEmpty=/^\s*$/.test(this.items[e]._content.innerHTML),!0===this._cntntEmpty)i.style.display="none",i.style.height="0px",t._contentHelper.addClass(this.toThemeProperty("jqx-expander-content-empty"));else{if(t.expanded&&(i.style.display="block"),"singleFitHeight"==this.expandMode){i.style.height=Math.max(0,this.element.offsetHeight-this.headersHeight+this.items.length-2)+"px"}else i.style.height="auto";t._contentHelper.removeClass(this.toThemeProperty("jqx-expander-content-empty"))}},_checkHeight:function(){if("string"!=typeof this.width||-1===this.width.indexOf("%")){var e=0,t=(this.items&&0<this.items.length?parseInt(this.items[0]._headerHelper.css("padding-left"),10):0)+(this.items&&0<this.items.length?parseInt(this.items[0]._headerHelper.css("padding-right"),10):0)+2;isNaN(t)&&(t=12);for(var i=0;i<this.items.length;i++){var s=this.items[i];e+=(s.expanded?s._contentHelper.outerHeight():0)+s._headerHelper.outerHeight()}"auto"!=this.width&&"auto"!=this.height&&"singleFitHeight"!=this.expandMode&&(e>this.element.offsetHeight?(this.element.style.width=parseInt(this.width,10)+t+17+"px",this.heightFlag=!0):(this.element.style.width=parseInt(this.width,10)+t+"px",this.heightFlag=!1))}},_enabledDisabledCheck:function(){for(var e=0;e<this.items.length;e++)this.items[e].disabled=this.disabled},_updateExpandedIndexes:function(){var t=this;this.expandedIndexes=[],m.each(this.items,function(e){if(!0===this.expanded&&(t.expandedIndexes.push(e),"single"==t.expandMode||"singleFitHeight"==t.expandMode||"toggle"==t.expandMode||"none"==t.expandMode))return!1})},_keyBoard:function(){var r=this;this._focus(),this.addHandler(this.host,"keydown.navigationbar"+this.widgetID,function(t){var i=!1,s=r.items.length;return m.each(r.items,function(e){if((!0===this.focusedH||!0===this.focusedC)&&!1===this.disabled){switch(t.keyCode){case 13:case 32:"none"!=r.toggleMode&&(!0===this.focusedH&&r._animate(e,!0),i=!0);break;case 37:0!==e?r.items[e-1]._header.focus():r.items[s-1]._header.focus(),i=!0;break;case 38:!1===t.ctrlKey?0!==e?r.items[e-1]._header.focus():r.items[s-1]._header.focus():!0===this.focusedC&&this._header.focus(),i=!0;break;case 39:e!=s-1?r.items[e+1]._header.focus():r.items[0]._header.focus(),i=!0;break;case 40:!1===t.ctrlKey?e!=s-1?r.items[e+1]._header.focus():r.items[0]._header.focus():!0===this.expanded&&this._content.focus(),i=!0;break;case 35:e!=s-1&&r.items[s-1]._header.focus(),i=!0;break;case 36:0!==e&&r.items[0]._header.focus(),i=!0}return!1}}),i&&t.preventDefault&&t.preventDefault(),!i})},_focus:function(){var t=this;this.disabled||m.each(this.items,function(){var e=this;t.addHandler(e._header,"focus.navigationbar"+this.widgetID,function(){e.focusedH=!0,m.jqx.aria(e._header,"aria-selected",!0),e._headerHelper.addClass(t.toThemeProperty("jqx-fill-state-focus")),e._header.style.zIndex=10}),t.addHandler(e._header,"blur.navigationbar"+this.widgetID,function(){e.focusedH=!1,m.jqx.aria(e._header,"aria-selected",!1),-1!==e._header.className.indexOf("jqx-expander-header-hover")?e._header.style.zIndex=5:e._header.style.zIndex=0,e._headerHelper.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),t.addHandler(e._headerText,"focus.navigationbar"+this.widgetID,function(){e._header.focus()}),t.addHandler(e._arrow,"focus.navigationbar"+this.widgetID,function(){e._header.focus()}),t.addHandler(e._content,"focus.navigationbar"+this.widgetID,function(){e.focusedC=!0,e._contentHelper.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),t.addHandler(e._content,"blur.navigationbar"+this.widgetID,function(){e.focusedC=!1,e._contentHelper.removeClass(t.toThemeProperty("jqx-fill-state-focus"))})})}})}(jqxBaseFramework),function(u){u.jqx.jqxWidget("jqxNotification","",{}),u.extend(u.jqx._jqxNotification.prototype,{defineInstance:function(){var e={width:"auto",height:"auto",appendContainer:null,position:"top-right",zIndex:99999,browserBoundsOffset:5,notificationOffset:5,opacity:.9,hoverOpacity:1,autoOpen:!1,animationOpenDelay:400,animationCloseDelay:800,closeOnClick:!0,autoClose:!0,autoCloseDelay:3e3,showCloseButton:!0,template:"info",icon:null,blink:!1,disabled:!1,rtl:!1,events:["open","close","click"]};return this===u.jqx._jqxNotification.prototype||u.extend(!0,this,e),e},createInstance:function(e){this.render(),1==this.autoOpen&&this.open()},render:function(){var e=this;if(0==e.host.hasClass("jqx-notification")){e.host.addClass(e.toThemeProperty("jqx-rc-all")),e.host.addClass(e.toThemeProperty("jqx-notification")),e.host.css({zIndex:e.zIndex,display:"none",opacity:e.opacity}),e._container=e._notificationContainer(),e._appendContent(),e._setHoverFunctions(),e._instances=new Array,e._instanceKey=0;var t=u.data(document.body,"jqxNotifications");null==t&&(t=0),u.data(document.body,"jqxNotifications",t+1)}else e.refresh()},refresh:function(e){e||this._appendContent(!0)},open:function(){var e=this;if(0==e.disabled){var t=e.host.clone();t.removeAttr("id"),t.width(e.width),t.height(e.height),null!=this.width&&-1!=this.width.toString().indexOf("%")&&t.css("width",this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&t.css("height",this.height),e.appendContainer||"bottom-left"!=e.position&&"bottom-right"!=e.position?(t.css("margin-bottom",e.notificationOffset),e._container.append(t)):(t.css("margin-top",e.notificationOffset),e._container.prepend(t)),e._addHandlers(t),t.fadeIn(e.animationOpenDelay,function(){e._raiseEvent("0",{element:t})}),1==e.blink&&(t._blinkInterval=setInterval(function(){t.fadeTo(400,e.opacity/1.5,function(){t.fadeTo(400,e.opacity)})},850)),1==e.autoClose&&(t._autoCloseTimeout=setTimeout(function(){e._close(t)},e.autoCloseDelay)),t._key=e._instanceKey,e._instances[e._instanceKey]=t,e._instanceKey++}},closeAll:function(){for(var e=0;e<this._instances.length;e++)this._instances[e]&&this._close(this._instances[e])},closeLast:function(){for(var e=this._instances.length;0<=e;e--)if(this._instances[e]){this._close(this._instances[e]);break}},destroy:function(){this.closeAll(),this.host.remove();var e=u.data(document.body,"jqxNotifications");u.data(document.body,"jqxNotifications",e-1),this._destroyContainers(e-1)},propertyChangedHandler:function(e,t,i,s){if(s!=i)switch(t){case"width":case"height":var r=i.indexOf&&-1!=i.indexOf("%");r=null!=r&&r;var n=s.indexOf&&-1!=s.indexOf("%");(n=null!=n&&n)!=r&&(this[t]=i);break;case"appendContainer":case"position":this._container=this._notificationContainer();break;case"browserBoundsOffset":this.appendContainer||this._position(this._container);break;case"opacity":this.host.css("opacity",s);break;case"showCloseButton":case"template":case"icon":case"rtl":this._appendContent(!0)}},_raiseEvent:function(e,t){var i=this.events[e],s=new u.Event(i);s.owner=this,s.args=t;try{var r=this.host.trigger(s)}catch(e){}return r},_close:function(e){var t=this;t._instances[e._key]&&(t._instances[e._key]=!1,clearInterval(e._blinkInterval),clearTimeout(e._autoCloseTimeout),e.fadeOut(t.animationCloseDelay,function(){t._removeHandlers(e),e.remove(),t._raiseEvent("1")}))},_addHandlers:function(t){var i=this;if(i.addHandler(t,"click.notification"+i.element.id,function(e){i._raiseEvent("2"),1==i.closeOnClick&&i._close(t)}),i.addHandler(t,"mouseenter.notification"+i.element.id,function(e){t._blinkInterval||i.mouseenterFunction(t)}),i.addHandler(t,"mouseleave.notification"+i.element.id,function(e){t._blinkInterval||"none"==t.css("display")||i.mouseleaveFunction(t)}),1==i.showCloseButton){var e=t.find(".jqx-notification-close-button");i.addHandler(e,"click.notification"+i.element.id,function(e){e.stopPropagation(),i._close(t)})}},_removeHandlers:function(e){this.removeHandler(e,"click.notification"+this.element.id),this.removeHandler(e,"click.mouseenter"+this.element.id),this.removeHandler(e,"click.mouseleave"+this.element.id);var t=e.find(".jqx-notification-close-button");0<t.length&&this.removeHandler(t,"click.notification"+this.element.id)},_appendContent:function(e){var t,i=this,s=i.host.html();e||(t=i.host.children().detach()),e&&(i.host.removeAttr("class"),i.host.addClass(i.toThemeProperty("jqx-rc-all")),i.host.addClass(i.toThemeProperty("jqx-notification")));var r=u("<table class='"+i.toThemeProperty("jqx-notification-table")+"'></table>"),n=u("<tr></tr>");r.append(n);var o=i.rtl?"jqx-notification-content-rtl":"";if(e)s=(a=i.host.find(".jqx-notification-content")).html(),t=a.detach(),i.rtl?a.addClass("jqx-notification-content-rtl"):a.removeClass("jqx-notification-content-rtl");else var a=u("<td class='"+i.toThemeProperty("jqx-notification-content")+" "+o+"'></td>");n.html(a);var l,d=function(){0==i.rtl?(l.addClass("jqx-notification-icon-ltr"),a.before(l)):(l.addClass("jqx-notification-icon-rtl"),a.after(l))};if(i.template?(i.host.addClass("jqx-widget"),i.host.addClass("jqx-popup"),i.host.addClass("jqx-notification-"+i.template),l=u("<td class='"+i.toThemeProperty("jqx-notification-icon")+" jqx-notification-icon-"+i.template+"'></td>"),d()):(i.host.addClass(i.toThemeProperty("jqx-widget")),i.host.addClass(i.toThemeProperty("jqx-popup")),i.host.addClass(i.toThemeProperty("jqx-fill-state-normal")),i.icon&&(l=u("<td class='"+i.toThemeProperty("jqx-notification-icon")+"'></td>"),i.icon.padding=i.icon.padding?parseInt(i.icon.padding):5,l.css({width:parseInt(i.icon.width)+i.icon.padding,height:i.icon.height,"background-image":"url('"+i.icon.url+"')"}),d())),1==i.showCloseButton){var h;h=i.template?"jqx-notification-close-button jqx-notification-close-button-"+i.template:i.toThemeProperty("jqx-icon-close")+" "+i.toThemeProperty("jqx-notification-close-button");var c=u("<td class='"+i.toThemeProperty("jqx-notification-close-button-container")+"'><div class='"+h+" "+i.element.id+"CloseButton' title='Close'></div></td>");0==i.rtl?(c.find("div").addClass("jqx-notification-close-button-ltr"),a.after(c)):(c.find("div").addClass("jqx-notification-close-button-rtl"),a.before(c))}i.host[0].innerHTML="",i.host.append(r),0<document.querySelectorAll("app-root").length?i.host.find(".jqx-notification-content").append(t.clone()):0<t.length?i.host.find(".jqx-notification-content").append(t):i.host.find(".jqx-notification-content").html(s)},_position:function(e){var t,i,s,r;switch(this.position){case"top-right":t="",i=this.browserBoundsOffset,s=this.browserBoundsOffset,r="";break;case"top-left":t=this.browserBoundsOffset,i="",s=this.browserBoundsOffset,r="";break;case"bottom-left":t=this.browserBoundsOffset,s=i="",r=this.browserBoundsOffset;break;case"bottom-right":t="",i=this.browserBoundsOffset,s="",r=this.browserBoundsOffset}e.css({left:t,right:i,top:s,bottom:r})},_notificationContainer:function(){var e,t=this;if(t.appendContainer){if(0==(e=u(t.appendContainer)).length)throw new Error("jqxNotification: Invalid appendContainer jQuery Selector - "+t.appendContainer+"! Please, check whether the used ID or CSS Class name is correct.")}else 0==(e=u("#jqxNotificationDefaultContainer-"+t.position)).length&&(u("body").append("<div id='jqxNotificationDefaultContainer-"+t.position+"' class='jqx-notification-container'></div>"),e=u("#jqxNotificationDefaultContainer-"+t.position),t.width.indexOf&&-1!=t.width.indexOf("%")&&e.addClass(t.toThemeProperty("jqx-notification-container-full-width")),t.height.indexOf&&-1!=t.height.indexOf("%")&&e.addClass(t.toThemeProperty("jqx-notification-container-full-height")),t._position(e));return e},_destroyContainers:function(e){0==e&&u(".jqx-notification-container").remove()},_setHoverFunctions:function(){var t=this,e=!1;"msie"==u.jqx.browser.browser&&"9.0"==u.jqx.browser.version&&(e=!0),0==e?(t.mouseenterFunction=function(e){e.fadeTo("fast",t.hoverOpacity)},t.mouseleaveFunction=function(e){e.fadeTo("fast",t.opacity)}):(t.mouseenterFunction=function(e){e.css("filter","alpha(opacity = "+100*t.hoverOpacity+")")},t.mouseleaveFunction=function(e){e.css("filter","alpha(opacity = "+100*t.opacity+")")})}})}(jqxBaseFramework),function(b){b.jqx.jqxWidget("jqxNumberInput","",{}),b.extend(b.jqx._jqxNumberInput.prototype,{defineInstance:function(){var e={value:null,decimal:0,min:-99999999,max:99999999,width:200,validationMessage:"Invalid value",height:25,textAlign:"right",readOnly:!1,promptChar:"_",decimalDigits:2,decimalSeparator:".",groupSeparator:",",groupSize:3,symbol:"",symbolPosition:"left",digits:8,negative:!1,negativeSymbol:"-",disabled:!1,inputMode:"advanced",spinButtons:!1,spinButtonsWidth:18,spinButtonsStep:1,autoValidate:!0,spinMode:"advanced",enableMouseWheel:!0,touchMode:"auto",allowNull:!0,placeHolder:"",changeType:null,template:"",rtl:!1,events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"],aria:{"aria-valuenow":{name:"decimal",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},invalidArgumentExceptions:["invalid argument exception"]};return this===b.jqx._jqxNumberInput.prototype||b.extend(!0,this,e),e},createInstance:function(e){var t=this.host.attr("value");null!=t&&(this.decimal=t),null!=this.value&&(this.decimal=this.value);this._createFromInput("jqxNumberInput"),this.render()},_createFromInput:function(e){var t=this;if("input"==t.element.nodeName.toLowerCase()){t.field=t.element,t.field.className&&(t._className=t.field.className);var i={title:t.field.title};if(t.field.value&&(t.decimal=parseFloat(t.field.value)),t.field.getAttribute("min")){var s=t.field.getAttribute("min");t.min=parseFloat(s)}if(t.field.getAttribute("step")){var r=t.field.getAttribute("step");t.spinButtonsStep=parseFloat(r)}if(t.field.getAttribute("max")){var n=t.field.getAttribute("max");t.max=parseFloat(n)}t.field.id.length?i.id=t.field.id.replace(/[^\w]/g,"_")+"_"+e:i.id=b.jqx.utilities.createId()+"_"+e;var o=b("<div></div>",i);o[0].style.cssText=t.field.style.cssText,t.width||(t.width=b(t.field).width()),t.height||(t.height=b(t.field).outerHeight()),b(t.field).hide().after(o);var a=t.host.data();if(t.host=o,t.host.data(a),t.element=o[0],t.element.id=t.field.id,t.field.id=i.id,t._className&&(t.host.addClass(t._className),b(t.field).removeClass(t._className)),t.field.tabIndex){var l=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=l}}},_doTouchHandling:function(){var e=this,t=e.savedValue;if(e.parsing||(e.parsing=!0),e.parsing){e.numberInput.val()&&0==e.numberInput.val().indexOf("-")?e.setvalue("negative",!0):e.setvalue("negative",!1);for(var i=e.numberInput.val(),s=0;s<i.length-1;s++){var r=i.substring(s,s+1);if(isNaN(parseFloat(r))&&-1===e.symbol.toString().indexOf(r)&&"%"!=r&&"$"!=r&&"."!=r&&","!=r&&"-"!=r)return e.numberInput[0].value=t,void(e.parsing=!1)}e.ValueString=e.GetValueString(e.numberInput.val(),e.decimalSeparator,""!=e.decimalSeparator),e._parseDecimalInSimpleMode(),e.decimal=e.ValueString,e.getvalue("negative")&&(e.decimal="-"+e.ValueString),e.parsing=!1}},render:function(){this.host.attr({role:"spinbutton"}),this.host.attr("data-role","input"),b.jqx.aria(this),b.jqx.aria(this,"aria-multiline",!1);var e=this;(this.officeMode||this.theme&&-1!=this.theme.indexOf("office"))&&18==this.spinButtonsWidth&&(this.spinButtonsWidth=15),(b.jqx.mobile.isTouchDevice()||!0===this.touchMode)&&(this.inputMode="textbox",this.spinMode="simple"),""==this.decimalSeparator&&(this.decimalSeparator=" "),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons?this._spinButtons():(this.numberInput=b("<input style='border:none;' autocomplete='off' type='textarea'/>").appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.numberInput.attr("placeholder",this.placeHolder);var t=this.host.attr("name");(t&&this.numberInput.attr("name",t),this.host.attr("tabindex")&&(this.numberInput.attr("tabindex",this.host.attr("tabindex")),this.host.removeAttr("tabindex")),b.jqx.mobile.isTouchDevice()||!0===this.touchMode||"textbox"==this.inputMode)&&((e=this).savedValue="",this.addHandler(this.numberInput,"focus",function(){e.savedValue=e.numberInput[0].value}),this.addHandler(this.numberInput,"change",function(){e._doTouchHandling()}));e=b.data(this.host[0],"jqxNumberInput").jqxNumberInput=this;0<this.host.parents("form").length&&this.addHandler(this.host.parents("form"),"reset",function(){setTimeout(function(){e.setDecimal(0)},10)}),this.propertyChangeMap.disabled=function(e,t,i,s){s?(e.numberInput.addClass(r.toThemeProperty("jqx-input-disabled")),e.numberInput.attr("disabled",!0)):(e.host.removeClass(r.toThemeProperty("jqx-input-disabled")),e.numberInput.attr("disabled",!1)),e.spinButtons&&e.host.jqxRepeatButton&&(e.upbutton.jqxRepeatButton({disabled:s}),e.downbutton.jqxRepeatButton({disabled:s}))},this.disabled&&(this.numberInput.addClass(this.toThemeProperty("jqx-input-disabled")),this.numberInput.attr("disabled",!0),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this.selectedText="",this.decimalSeparatorPosition=-1;this.element.id,this.element;var r=this;this.oldValue=this._value(),this.items=new Array;this.value;var i=this.decimal;this._initializeLiterals(),this._render(),this.setDecimal(i);e=this;setTimeout(function(){},100),this._addHandlers(),b.jqx.utilities.resize(this.host,function(){e._render()})},refresh:function(e){e||this._render()},wheel:function(e,t){if(t.enableMouseWheel){t.changeType="mouse";var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation(),!!s&&(s=!1,e.returnValue=s)}e.preventDefault&&e.preventDefault(),e.returnValue=!1}},_handleDelta:function(e){return e<0?this.spinDown():this.spinUp(),!0},_addHandlers:function(){var i=this;this.addHandler(this.numberInput,"paste",function(e){var t=i._selection();e.preventDefault(),e.originalEvent.clipboardData?content=(e.originalEvent||e).clipboardData.getData("text/plain"):window.clipboardData&&(content=window.clipboardData.getData("Text")),this.selectedText=content,b.data(document.body,"jqxSelection",this.selectedText),"simple"!=i.inputMode?i._pasteSelectedText():i.val(content),setTimeout(function(){i._setSelectionStart(t.start)})}),this.addHandler(this.numberInput,"mousedown",function(e){return i._raiseEvent(2,e)}),this._mousewheelfunc=this._mousewheelfunc||function(e){if(!i.editcell)return i.wheel(e,i),!1},this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var s="";this.addHandler(this.numberInput,"focus",function(e){b.data(i.numberInput,"selectionstart",i._selection().start),i.host.addClass(i.toThemeProperty("jqx-fill-state-focus")),i.spincontainer&&i.spincontainer.addClass(i.toThemeProperty("jqx-numberinput-focus")),s=i.numberInput.val(),i._savedValue=i.decimal}),this.addHandler(this.numberInput,"blur",function(e){if("simple"==i.inputMode&&i._exitSimpleInputMode(e,i,!1,s),i.autoValidate){var t=parseFloat(i.decimal);i.getvalue("negative")&&0<i.decimal&&(t=-parseFloat(i.decimal)),t>i.max&&(i._disableSetSelection=!0,i.setDecimal(i.max),i._disableSetSelection=!1),t<i.min&&(i._disableSetSelection=!0,i.setDecimal(i.min),i._disableSetSelection=!1)}return i.host.removeClass(i.toThemeProperty("jqx-fill-state-focus")),i.spincontainer&&i.spincontainer.removeClass(i.toThemeProperty("jqx-numberinput-focus")),i.numberInput.val()!=s&&(i._raiseEvent(7,e),b.jqx.aria(i,"aria-valuenow",i.decimal),i.element.value=i.decimal),!0}),this.addHandler(this.numberInput,"mouseup",function(e){return i._raiseEvent(3,e)}),this.addHandler(this.numberInput,"keydown",function(e){return i.changeType="keyboard",i._raiseEvent(4,e)}),this.addHandler(this.numberInput,"keyup",function(e){return i._raiseEvent(5,e)}),this.addHandler(this.numberInput,"keypress",function(e){return i._raiseEvent(6,e)})},focus:function(){try{this.numberInput.focus()}catch(e){}},_removeHandlers:function(){this.removeHandler(this.numberInput,"mousedown"),b.jqx.mobile.isOperaMiniMobileBrowser()&&this.removeHandler(b(document),"click."+this.element.id,this._exitSimpleInputMode,this),this.removeHandler(this.numberInput,"paste"),this.removeHandler(this.numberInput,"focus"),this.removeHandler(this.numberInput,"blur"),this.removeHandler(this.numberInput,"mouseup"),this.removeHandler(this.numberInput,"keydown"),this.removeHandler(this.numberInput,"keyup"),this.removeHandler(this.numberInput,"keypress")},_spinButtons:function(){if(!this.host.jqxRepeatButton)throw new Error("jqxNumberInput: Missing reference to jqxbuttons.js.");this.numberInput?this.numberInput.css("float","left"):(this.numberInput=b("<input autocomplete='off' style='border: none; position: relative; float: left;' type='textarea'/>"),this.numberInput.appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.spincontainer&&(this.upbutton&&this.upbutton.jqxRepeatButton("destroy"),this.downbutton&&this.downbutton.jqxRepeatButton("destroy"),this.spincontainer.remove()),this.spincontainer=b('<div style="float: right; height: 100%; overflow: hidden; position: relative;"></div>'),this.rtl&&(this.spincontainer.css("float","right"),this.numberInput.css("float","right"),this.spincontainer.css("left","-1px")),this.host.append(this.spincontainer),this.upbutton=b('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.upbutton),this.upbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"top-right"}),this.downbutton=b('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.downbutton),this.downbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"bottom-right"}),this.template&&(this.upbutton.addClass(this.toThemeProperty("jqx-"+this.template)),this.downbutton.addClass(this.toThemeProperty("jqx-"+this.template)));var t=this;this.downbutton.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-action-button")),this.upbutton.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-action-button")),this.upbutton.addClass(this.toThemeProperty("jqx-rc-tr")),this.downbutton.addClass(this.toThemeProperty("jqx-rc-br")),this.addHandler(this.downbutton,"mouseup",function(e){t.disabled||(t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected")))}),this.addHandler(this.upbutton,"mouseup",function(e){t.disabled||(t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-selected")))}),this.removeHandler(b(document),"mouseup."+this.element.id),this.addHandler(b(document),"mouseup."+this.element.id,function(e){t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-selected")),t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected"))}),this.addHandler(this.downbutton,"mousedown",function(e){if(!t.disabled)return b.jqx.browser.msie&&b.jqx.browser.version<9&&(t._inputSelection=t._selection()),t.downbutton.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-selected")),e.preventDefault(),e.stopPropagation(),!1}),this.addHandler(this.upbutton,"mousedown",function(e){if(!t.disabled)return b.jqx.browser.msie&&b.jqx.browser.version<9&&(t._inputSelection=t._selection()),t.upbutton.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-selected")),e.preventDefault(),e.stopPropagation(),!1}),this.addHandler(this.upbutton,"mouseenter",function(e){t.upbutton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this.addHandler(this.upbutton,"mouseleave",function(e){t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this.addHandler(this.downbutton,"mouseenter",function(e){t.downbutton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))}),this.addHandler(this.downbutton,"mouseleave",function(e){t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))}),this.upbutton.css("border-width","0px"),this.downbutton.css("border-width","0px"),this.disabled?(this.upbutton[0].disabled=!0,this.downbutton[0].disabled=!0):(this.upbutton[0].disabled=!1,this.downbutton[0].disabled=!1),this.spincontainer.addClass(this.toThemeProperty("jqx-input")),this.spincontainer.addClass(this.toThemeProperty("jqx-rc-r")),this.spincontainer.css("border-width","0px"),this.rtl?this.spincontainer.css("border-right-width","1px"):this.spincontainer.css("border-left-width","1px"),this._upArrow=this.upbutton.find("div"),this._downArrow=this.downbutton.find("div"),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._upArrow.addClass(this.toThemeProperty("jqx-input-icon")),this._downArrow.addClass(this.toThemeProperty("jqx-input-icon"));t=this;this._upArrow.hover(function(){t.disabled||t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))},function(){t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this._downArrow.hover(function(){t.disabled||t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))},function(){t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))});var i=b.jqx.mobile.isTouchDevice(),e="click";i&&(e=b.jqx.mobile.getTouchEventName("touchstart")),i&&(this.addHandler(this.downbutton,"click",function(e){t.spinDown()}),this.addHandler(this.upbutton,"click",function(e){t.spinUp()})),this.addHandler(this.downbutton,e,function(e){return i?(e.preventDefault(),e.stopPropagation()):(0==t._selection().start&&t._setSelectionStart(t.numberInput.val().length),b.jqx.browser.msie&&b.jqx.browser.version<9&&t._setSelectionStart(t._inputSelection.start)),t.spinDown(),!1}),this.addHandler(this.upbutton,e,function(e){return i?(e.preventDefault(),e.stopPropagation()):(0==t._selection().start&&t._setSelectionStart(t.numberInput.val().length),b.jqx.browser.msie&&b.jqx.browser.version<9&&t._setSelectionStart(t._inputSelection.start)),t.spinUp(),!1})},spinDown:function(){var e=this,t=this.decimal;if("none"!=e.spinMode)if(null!=this.decimal){var i=(m=this.getvalue("negative"))?-1:0;if((b.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&e._doTouchHandling(),!e.disabled){var s=this._selection(),r=this.decimal;if((d=this.getDecimal())<this.min)return d=this.min,this.setDecimal(this.min),this._setSelectionStart(s.start),void this.spinDown();if(d>this.max)return d=this.max,this.setDecimal(this.max),this._setSelectionStart(s.start),void this.spinDown();e.spinButtonsStep<0&&(e.spinButtonsStep=1);var n=i+(parseInt(e.decimal)-e.spinButtonsStep).toString().length<=e.digits;if("advanced"!=e.spinMode){if(d-e.spinButtonsStep>=e.min&&n){var o=1;for(c=0;c<e.decimalDigits;c++)o*=10;var a=o*d-o*e.spinButtonsStep;a/=o,a=this._parseDecimalValueToEditorValue(a),e.setDecimal(a)}}else{var l=this._getspindecimal(),d=(this._getSeparatorPosition(),parseFloat(l.decimal));e.spinButtonsStep<0&&(e.spinButtonsStep=1);n=i+(parseInt(d)-e.spinButtonsStep).toString().length<=e.digits,o=1;if(-1!=(u=l.decimal.indexOf("."))){for(var h=l.decimal.length-u-1,c=(o=1,0);c<h;c++)o*=10;var u;-1==(u=(d=(d-=new Number(e.spinButtonsStep/o)).toFixed(h)).toString().indexOf("."))&&(d=d.toString()+".");var p=d.toString()+l.afterdecimal;(p=(p=new Number(p)).toFixed(e.decimalDigits))>=e.min&&(p=this._parseDecimalValueToEditorValue(p),e.setDecimal(p))}else if(d-e.spinButtonsStep>=e.min&&n){a=o*d-o*e.spinButtonsStep;(p=(a/=o).toString()+l.afterdecimal)>=e.min&&(p=this._parseDecimalValueToEditorValue(p),e.setDecimal(p))}}if(null==p||"simple"!=this.inputMode)return this._setSelectionStart(s.start),e.savedValue=e.numberInput[0].value,t!=this.decimal&&(b.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),void b.jqx.aria(self,"aria-valuenow",this.decimal);p=this.decimal.toString();var m=this.getvalue("negative");0==i&&m?this._setSelectionStart(s.start+1):null==p||null!=r&&r.toString().length!=p.length?m?this._setSelectionStart(s.start+1):this._setSelectionStart(s.start-1):this._setSelectionStart(s.start),t!=this.decimal&&(b.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),b.jqx.aria(self,"aria-valuenow",this.decimal)}}else this.setDecimal(0)},_getspindecimal:function(){var e=this._selection(),t="",i=(this._getSeparatorPosition(),this._getVisibleItems()),s=this._getHiddenPrefixCount(),r=this.numberInput.val();this.numberInput.val().length==e.start&&0==e.length&&(this._setSelection(e.start,e.start+1),e=this._selection());for(var n="advanced"!=this.inputMode,o=0;o<e.start;o++)if(n){var a=r.substring(o,o+1);!isNaN(parseInt(a))&&(t+=a),a==this.decimalSeparator&&(t+=a)}else i[o].canEdit&&i[o].character!=this.promptChar?t+=i[o].character:i[o].canEdit||-1==this.decimalSeparatorPosition||i[o]!=i[this.decimalSeparatorPosition-s]||(0==t.length&&(t="0"),t+=i[o].character);var l="";for(o=e.start;o<i.length;o++)if(n){a=r.substring(o,o+1);!isNaN(parseInt(a))&&(l+=a),a==this.decimalSeparator&&(l+=a)}else i[o].canEdit&&i[o].character!=this.promptChar?l+=i[o].character:i[o].canEdit||-1==this.decimalSeparatorPosition||i[o]!=i[this.decimalSeparatorPosition-s]||(l+=i[o].character);return{decimal:this.getvalue("negative")?"-"+this._parseDecimalValue(t).toString():this._parseDecimalValue(t).toString(),afterdecimal:this._parseDecimalValue(l)}},_parseDecimalValue:function(e){if("."!=this.decimalSeparator){var t=e.toString().indexOf(this.decimalSeparator);if(0<=t)return e.toString().substring(0,t)+"."+e.toString().substring(t+1)}return e},_parseDecimalValueToEditorValue:function(e){if("."!=this.decimalSeparator){var t=e.toString().indexOf(".");if(0<=t)return e.toString().substring(0,t)+this.decimalSeparator+e.toString().substring(t+1)}return e},spinUp:function(){var e=this,t=this.decimal;if("none"!=e.spinMode)if(null!=this.decimal){(b.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&e._doTouchHandling();var i=(m=this.getvalue("negative"))?-1:0;if(!e.disabled){var s=this._selection(),r=e.decimal;if((h=e.getDecimal())<this.min)return h=this.min,this.setDecimal(this.min),this._setSelectionStart(s.start),void this.spinUp();if(h>this.max)return h=this.max,this.setDecimal(this.max),this._setSelectionStart(s.start),void this.spinUp();e.spinButtonsStep<0&&(e.spinButtonsStep=1);var n=i+(parseInt(e.decimal)+e.spinButtonsStep).toString().length<=e.digits;if("advanced"!=e.spinMode){if(h+e.spinButtonsStep<=e.max&&n){for(var o=1,a=0;a<e.decimalDigits;a++)o*=10;var l=o*h+o*e.spinButtonsStep;l/=o,l=this._parseDecimalValueToEditorValue(l),e.setDecimal(l)}}else{var d=this._getspindecimal(),h=(this._getSeparatorPosition(),parseFloat(d.decimal));e.spinButtonsStep<0&&(e.spinButtonsStep=1);n=i+(parseInt(h)+e.spinButtonsStep).toString().length<=e.digits,o=1;if(-1!=(u=d.decimal.indexOf("."))){var c=d.decimal.length-u-1;for(o=1,a=0;a<c;a++)o*=10;var u;-1==(u=(h=(h+=new Number(e.spinButtonsStep/o)).toFixed(c)).toString().indexOf("."))&&(h=h.toString()+".");var p=h.toString()+d.afterdecimal;p=(p=new Number(p)).toFixed(e.decimalDigits),new Number(p).toFixed(e.decimalDigits)<=e.max?(p=this._parseDecimalValueToEditorValue(p),e.setDecimal(p)):p=void 0}else if(h+e.spinButtonsStep<=e.max&&n){l=o*h+o*e.spinButtonsStep,p=(l/=o).toString()+d.afterdecimal;new Number(p).toFixed(e.decimalDigits)<=e.max?(p=this._parseDecimalValueToEditorValue(p),m&&-1==p.indexOf("-")&&"-0"!=d.decimal&&(p="-"+p),e.setDecimal(p)):p=void 0}}if(null==p||"simple"!=this.inputMode)return this._setSelectionStart(s.start),e.savedValue=e.numberInput[0].value,t!=this.decimal&&(b.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),void b.jqx.aria(self,"aria-valuenow",this.decimal);p=this.decimal.toString();var m=this.getvalue("negative");-1!=i||m?null==p||null!=r&&r.toString().length!=p.length?m?this._setSelectionStart(s.start):this._setSelectionStart(1+s.start):this._setSelectionStart(s.start):this._setSelectionStart(-1+s.start),t!=this.decimal&&(b.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),b.jqx.aria(self,"aria-valuenow",this.decimal)}}else this.setDecimal(0)},_exitSimpleInputMode:function(e,t,i,s){if(null==t&&(t=e.data),null!=t){if(null==i){if(null!=e.target&&null!=t.element&&(null!=e.target.id&&0<e.target.id.toString().length&&0<t.host.find("#"+e.target.id).length||e.target==t.element))return;var r=t.host.offset(),n=r.left,o=r.top,a=t.host.width(),l=t.host.height(),d=b(e.target).offset();if(d.left>=n&&d.left<=n+a&&d.top>=o&&d.top<=o+l)return}if(b.jqx.mobile.isOperaMiniBrowser()&&t.numberInput.attr("readonly",!0),!t.disabled&&!t.readOnly)if(null!=b.data(t.numberInput,"simpleInputMode"))return b.data(t.numberInput,"simpleInputMode",null),this._parseDecimalInSimpleMode(),!1}},_getDecimalInSimpleMode:function(){var e=this.decimal;if("."!=this.decimalSeparator){var t=e.toString().indexOf(this.decimalSeparator);if(0<t)e=e.toString().substring(0,t)+"."+e.toString().substring(t+1)}return e},_parseDecimalInSimpleMode:function(e){var t=this.getvalue("negative"),i=this.ValueString;if(null==i&&(i=this.GetValueString(this.numberInput.val(),this.decimalSeparator,""!=this.decimalSeparator)),"."!=this.decimalSeparator){var s=i.toString().indexOf(".");if(0<s)i=i.toString().substring(0,s)+this.decimalSeparator+i.toString().substring(s+1)}var r=t?"-":"";"left"==this.symbolPosition&&(r+=this.symbol);var n=this.digits%this.groupSize;0==n&&(n=this.groupSize);var o=i.toString();0<=o.indexOf("-")&&(o=o.substring(o.indexOf("-")+1)),r+=o,"right"==this.symbolPosition&&(r+=this.symbol),0!=e&&this.numberInput.val(r)},_enterSimpleInputMode:function(e,t){null==t&&(t=e.data);var i=this._selection();if(null!=t){var s=t.getvalue("negative"),r=t.decimal;s&&0<r&&(r=-r),t.numberInput.val(r),b.data(t.numberInput,"simpleInputMode",!0),b.jqx.mobile.isOperaMiniBrowser()&&t.numberInput.attr("readonly",!1),this._parseDecimalInSimpleMode(),this._setSelectionStart(i.start)}},setvalue:function(e,t){void 0!==this[e]&&("decimal"==e?this._setDecimal(t):(this[e]=t,this.propertyChangedHandler(this,e,t,t)))},getvalue:function(e){return"decimal"==e&&null!=this.negative&&1==this.negative?-Math.abs(this[e]):e in this?this[e]:null},_getString:function(){for(var e="",t=0;t<this.items.length;t++){e+=this.items[t].character}return e},_literal:function(e,t,i,s){return{character:e,regex:t,canEdit:i,isSeparator:s}},_initializeLiterals:function(){if("textbox"!=this.inputMode){for(var e=0,t=this.negativeSymbol.length,i=0;i<t;i++){var s=this.negativeSymbol.substring(i,i+1),r="",n=!1,o=null;o=this.negative?this._literal(s,r,n,!1):this._literal("",r,n,!1),this.items[e]=o,e++}var a=this.symbol.length;if("left"==this.symbolPosition)for(i=0;i<a;i++){s=this.symbol.substring(i,i+1),r="",n=!1,o=this._literal(s,r,n,!1);this.items[e]=o,e++}var l=this.digits%this.groupSize;0==l&&(l=this.groupSize);for(i=0;i<this.digits;i++){s=this.promptChar,r="\\d",n=!0,o=this._literal(s,r,n,!1);if(this.items[e]=o,e++,i<this.digits-1&&null!=this.groupSeparator&&0<this.groupSeparator.length){if(0==--l){l=this.groupSize;var d=this._literal(this.groupSeparator,"",!1,!1);this.items[e]=d,e++}}else i==this.digits-1&&(o.character=0)}if(this.decimalSeparatorPosition=-1,null!=this.decimalDigits&&0<this.decimalDigits){0==(s=this.decimalSeparator).length&&(s=".");o=this._literal(s,"",!1,!0);this.items[e]=o,this.decimalSeparatorPosition=e,e++;for(i=0;i<this.decimalDigits;i++){r="\\d";var h=this._literal(0,r,!0,!1);this.items[e]=h,e++}}if("right"==this.symbolPosition)for(i=0;i<a;i++){s=this.symbol.substring(i,i+1),r="",n=!1,o=this._literal(s,r,n);this.items[e]=o,e++}}},_match:function(e,t){return new RegExp(t,"i").test(e)},_raiseEvent:function(e,t){var i=this.events[e],s={};if("none"==(s.owner=this).host.css("display"))return!0;var r=t.charCode?t.charCode:t.keyCode?t.keyCode:0,n=!0,o=this.readOnly;if((3==e||2==e)&&!this.disabled){if("simple"==this.inputMode||"textbox"==this.inputMode)return!0;this._handleMouse(t)}if(0==e){var a=this.getvalue("decimal");this.max<a||this.min>a?this.host.addClass(this.toThemeProperty("jqx-input-invalid")):(this.host.removeClass(this.toThemeProperty("jqx-input-invalid")),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")))}var l=new b.Event(i);l.owner=this,s.value=this.getvalue("decimal"),s.text=this.numberInput.val(),l.args=s,7==e&&(s.type=this.changeType,this.changeType=null),null!=i&&4!=e&&5!=e&&6!=e&&(n=this.host.trigger(l));var d=this;if("textbox"==this.inputMode)return n;if("simple"!=this.inputMode){if(4==e){if(o||this.disabled)return!1;n=d._handleKeyDown(t,r)}else if(5==e)(o||this.disabled)&&(n=!1);else if(6==e){if(o||this.disabled)return!1;n=d._handleKeyPress(t,r)}}else if(4==e||5==e||6==e){if(b.jqx.mobile.isTouchDevice()||!0===this.touchMode)return!0;if(o||this.disabled)return!1;var h=String.fromCharCode(r),c=(parseInt(h),!0);if(t.ctrlKey||t.shiftKey||t.metaKey||65<=r&&r<=90&&(c=!1),6==e&&null!=b.jqx.browser.opera&&8==r)return!1;if(c){if(4==e&&(c=d._handleSimpleKeyDown(t,r)),189==r||45==r||109==r||173==r){var u=d._selection();if(4==e)0==d.getvalue("negative")?d.setvalue("negative",!0):d.setvalue("negative",!1),d.decimal=d.ValueString,d._parseDecimalInSimpleMode(),d._setSelectionStart(u.start),c=!1,d._raiseEvent(0,d.value),d._raiseEvent(1,d.numberInput.val())}var p=s.ctrlKey||s.metaKey;if(!b.jqx.browser.msie)if(p&&99==r||p&&67==r||p&&122==r||p&&90==r||p&&118==r||p&&86==r||t.shiftKey&&45==r)return(b.jqx.browser.webkit||b.jqx.browser.chrome)&&d._handleSimpleKeyDown(t,r),67==r;if(p&&97==r||p&&65==r)return!0;if(6==e&&c)return this._isSpecialKey(r)}return c}return n},GetSelectionInValue:function(e,t,s,r){var n=0;for(i=0;i<t.length&&!(i>=e);i++){var o=t.substring(i,i+1);(!isNaN(parseInt(o))||r&&t.substring(i,i+1)==s)&&n++}return n},GetSelectionLengthInValue:function(e,t,s,r){var n=0;for(i=0;i<s.length&&!(i>=e+t);i++){var o=s.substring(i,i+1),a=!isNaN(parseInt(o));(0<t&&i>=e&&a||i>=e&&s[i].toString()==r)&&n++}return n},GetInsertTypeByPositionInValue:function(e,t,i,s){var r="before",n=this.GetValueString(i,t,s);return this.GetDigitsToSeparator(0,n,t)<e&&(r="after"),r},RemoveRange:function(e,t,i,s,r,n){var o=this.digits,a=e,l=t,d=0,h=(this.decimal,this._selection(),""!=(s=this.decimalSeparator));if(0==l&&this.ValueString.length<this.decimalPossibleChars-1)return d;var c=this.GetSeparatorPositionInText(s,i);r||(c=this.GetSeparatorPositionInText(s,i)),c<0&&!h&&1<i.length&&(c=i.length),-1==c&&(c=i.length);var u=h?1:0;t<2&&1==n&&(this.ValueString.length-this.decimalDigits-u==o&&e+t<c&&l++);for(var p="",m=0;m<i.length;m++){if(m<a||a+l<=m)p+=i.substring(m,m+1);else if((f=i.substring(m,m+1))!=s){var f=i.substring(m,m+1);if(!(this.symbol&&""!=this.symbol&&0<=this.symbol.indexOf(f)))if(c<m)p+="0";else{f=i.substring(m,m+1);!isNaN(parseInt(f))&&d++}}else p+=s}0==p.length&&(p="0"),r?this.numberInput.val(p):this.ValueString=p;var g=p.substring(0,1);g==s&&isNaN(parseInt(g))&&(p="0"+p);return this.ValueString=this.GetValueString(p,s,h),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(a),d},InsertDigit:function(e,t){"number"!=typeof this.digits&&(this.digits=parseInt(this.digits)),"number"!=typeof this.decimalDigits&&(this.decimalDigits=parseInt(this.decimalDigits));var i=1+this.digits,s=this._selection(),r=this.getvalue("negative"),n=!1;0==s.start&&""!=this.symbol&&"left"==this.symbolPosition&&(this._setSelectionStart(s.start+1),s=this._selection(),n=!0),(r&&n||r&&!n&&0==s.start)&&(this._setSelectionStart(s.start+1),s=this._selection());var o=this.numberInput.val().substring(s.start,s.start+1),a=this.numberInput.val(),l=this.decimalSeparator,d=""!=l&&0<this.decimalDigits;if(o==this.symbol&&"right"==this.symbolPosition){if(0!=this.decimalDigits)return;if(this.ValueString=this.GetValueString(a,l,d),this.ValueString.length>=i)return}this.ValueString=this.GetValueString(a,l,d),""==this.ValueString&&(this.ValueString=new Number(0).toFixed(this.decimalDigits));var h=this.ValueString;0<this.decimalDigits&&t>=h.length&&(t=h.length-1);var c="";t<h.length&&(c=h.substring(t,t+1));var u=!1;"after"==this.GetInsertTypeByPositionInValue(t,l,a,d)&&(u=!0);var p=d?1:0;c!=l&&this.ValueString.length-this.decimalDigits-p>=i-1&&(u=!0),"0"===c&&1===this.ValueString.length&&0===this.decimalDigits&&(u=!0);var m=d?1:0;if(!(!u&&this.ValueString&&this.ValueString.length>=this.digits+this.decimalDigits+m)){if(u&&c!=l){if((x=h.substring(0,t)).length==h.length&&this.ValueString.length>=this.digits+this.decimalDigits+m)return;var f=e,g="";t+1<h.length&&(g=h.substring(t+1));var v=x+f+g;this.ValueString=v}else{var x;v=(x=h.substring(0,t))+(f=e)+(g=h.substring(t));"0"==h.substring(0,1)&&h.substring(1,2)==l&&(v=f+h.substring(1),c==l&&(this._setSelectionStart(s.start-1),s=this._selection())),this.ValueString=v}this.decimal=r?-this.ValueString:this.ValueString,this._parseDecimalInSimpleMode();var w=s.start;w+=1,this._setSelectionStart(w),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())}},GetStringToSeparator:function(e,t,i){var s=this.GetSeparatorPositionInText(t,e),r=e.subString(0,s);return this.GetValueString(r,t,i)},GetSeparatorPositionInText:function(e,t){var s=-1;for(i=0;i<t.length;i++)if(t.substring(i,i+1)==e){s=i;break}return s},GetValueString:function(e,t,i){for(var s="",r=0;r<e.length;r++){var n=e.substring(r,r+1);!isNaN(parseInt(n))&&(s+=n),n==t&&(s+=t)}return s},Backspace:function(){var e=this._selection(),t=this._selection(),i=this.numberInput.val();if(0!=e.start||0!=e.length){this.isBackSpace=!0;var s=i.substring[(e.start,e.start+1)];isNaN(parseInt(s));if(0<e.start&&0==e.length){this._setSelectionStart(e.start-1);e=this._selection()}this.Delete(),this._setSelectionStart(t.start-1),this.isBackSpace=!1}},Delete:function(e){var t=this._selection(),i=this.numberInput.val();if(0===t.start&&"-"==i.substring(0,1)){this.setvalue("negative",!1);t=this._selection(),i=this.numberInput.val()}var s=t.start,r=t.length;r=Math.max(r,1),this.ValueString=this.GetValueString(i,this.decimalSeparator,""!=this.decimalSeparator),s>this.ValueString.indexOf(this.decimalSeparator)&&0<this.decimalDigits&&s++;var n=0;this.symbol&&("left"==this.symbolPosition&&n--,this.negative&&n--),this.RemoveRange(t.start+n,r,this.ValueString,".",!1);var o=this.ValueString.substring(0,1);!isNaN(parseInt(o))||(this.ValueString="0"+this.ValueString),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(s),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())},insertsimple:function(e){var t=this._selection(),i=this.numberInput.val();if(!(t.start==i.length&&null!=this.decimal&&0<this.decimalDigits)){this.decimal;var s=this.decimalSeparator;this.ValueString=this.GetValueString(i,s,""!=s);var r=this.GetSelectionInValue(t.start,i,s,""!=s),n=this.GetSelectionLengthInValue(t.start,t.length,i,s);this.GetDigitsToSeparator(0,this.ValueString,s);if(0<this.decimalDigits&&r>=this.ValueString.length&&r--,""==this.ValueString)return this.ValueString=new Number(0).toFixed(this.decimalDigits),this.ValueString=this.ValueString.replace(".",s),this.RemoveRange(t.start,n,this.ValueString,s,!1,!0),void this.InsertDigit(e,0,t);this.RemoveRange(t.start,n,this.ValueString,s,!1,!0),this.InsertDigit(e,r,t)}},GetDigitsToSeparator:function(e,t,s){if(null==s&&(s="."),t.indexOf(s)<0)return t.length;for(i=0;i<t.length;i++)if(t.substring(i,i+1)==s){e=i;break}return e},_handleSimpleKeyDown:function(e,t){var i,s=this._selection(),r=e.ctrlKey||e.metaKey;if((8==t||46==t)&&r)return this.setDecimal(null),!1;if(0<=s.start&&s.start<this.items.length)var n=String.fromCharCode(t);27===t&&(this.setDecimal(this._savedValue),-1!=(i=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val()))&&this._setSelectionStart(i),e.preventDefault());if(this.rtl&&37==t){var o=(a=e.shiftKey)?1:0;return a?this._setSelection(s.start+1-o,s.start+s.length+1):this._setSelection(s.start+1-o,s.start+1),!1}if(this.rtl&&39==t){var a;o=(a=e.shiftKey)?1:0;return a?this._setSelection(s.start-1,s.length+o+s.start-1):this._setSelection(s.start-1,s.start-1),!1}if(8==t)return this.Backspace(),!1;if(190==t||110==t)return-1!=(i=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val()))&&this._setSelectionStart(i+1),!1;if(188==t){var l=this.numberInput.val();for(c=s.start;c<l.length;c++)if(l[c]==this.groupSeparator){this._setSelectionStart(1+c);break}return!1}if((r=e.ctrlKey||e.metaKey)&&99==t||r&&67==t){s=this._selection();var d="",h=this.numberInput.val();if(0<s.start||0<s.length)for(var c=s.start;c<s.end;c++)d+=h.substring(c,c+1);if(b.data(document.body,"jqxSelection",d),b.jqx.browser.msie)window.clipboardData.setData("Text",d);else{var u=this,p=b('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');p.val(d),b("body").append(p),p.select(),setTimeout(function(){document.designMode="off",p.select(),p.remove(),u.focus()},100)}return this.savedText=d,!0}if(r&&122==t||r&&90==t)return!1;if(r&&118==t||r&&86==t||e.shiftKey&&45==t)return b.jqx.browser.msie&&!this.savedText&&(this.savedText=window.clipboardData.getData("Text")),null!=this.savedText&&0<this.savedText.length?this.val(this.savedText):this.val(b.data(document.body,"jqxSelection")),!1;n=String.fromCharCode(t);var m=parseInt(n);if(96<=t&&t<=105&&(m=t-96,t-=48),!isNaN(m)){u=this;return this.insertsimple(m),!1}if(46==t)return this.Delete(),!1;if(38==t)return this.spinUp(),!1;if(40==t)return this.spinDown(),!1;var f=this._isSpecialKey(t);return!b.jqx.browser.mozilla||f},_getEditRange:function(){var e=0,t=0;for(i=0;i<this.items.length;i++)if(this.items[i].canEdit){e=i;break}for(i=this.items.length-1;0<=i;i--)if(this.items[i].canEdit){t=i;break}return{start:e,end:t}},_getVisibleItems:function(){var e=new Array,t=0;for(i=0;i<this.items.length;i++)0<this.items[i].character.toString().length&&(e[t]=this.items[i],t++);return e},_hasEmptyVisibleItems:function(){var e=this._getVisibleItems();for(i=0;i<e.length;i++)if(e[i].canEdit&&e[i].character==this.promptChar)return!0;return!1},_getFirstVisibleNonEmptyIndex:function(){var e=this._getVisibleItems();for(i=0;i<e.length;i++)if(e[i].canEdit&&e[i].character!=this.promptChar)return i},_handleMouse:function(e,t){var i=this._selection();if(i.length<=1){var s=this._getFirstVisibleNonEmptyIndex();i.start<s&&this._setSelectionStart(s)}},_insertKey:function(e){this.numberInput[0].focus();var m=String.fromCharCode(e),t=parseInt(m);if(!isNaN(t)){var f=0;for(i=0;i<this.items.length;i++)0==this.items[i].character.length&&f++;var g=this._selection(),v=this;if(0<=g.start&&g.start<=this.items.length){var x=!1,s=this._getFirstVisibleNonEmptyIndex();g.start<s&&0==g.length&&(isNaN(m)&&" "!=m||(this._setSelectionStart(s),g=this._selection()));this._getFirstEditableItemIndex();var w=this._getLastEditableItemIndex(),y=this._getVisibleItems();b.each(y,function(e,t){if(!(g.start>e&&e!=y.length-1)){var i=y[e];if(w<e&&(i=y[w]),!isNaN(m)&&" "!=m&&i.canEdit){var s=v._getSeparatorPosition();if(v._match(m,i.regex)){if(!x&&0<g.length){for(j=g.start+f;j<g.end+f;j++)v.items[j].canEdit&&(j>s?v.items[j].character="0":v.items[j].character=v.promptChar);var r=v._getString();x=!0}s=v._getSeparatorPosition();var n=v._hasEmptyVisibleItems();if(null==v.decimal&&(g.start=s-1,g.start<0&&(g.start=0),g.end=g.start),g.start<=s&&n){var o=e;-1==v.decimalSeparatorPosition&&g.start==s&&(o=e+1),null==v.decimal&&(o=g.start);var a="";for(p=0;p<o;p++)y[p].canEdit&&y[p].character!=v.promptChar&&(a+=y[p].character);a+=m;var l=v.decimal<1?1:0;for(g.start==s&&-1!=v.decimalSeparatorPosition&&(a+=v.decimalSeparator,l=0),p=o+l;p<y.length;p++)y[p].character==v.decimalSeparator&&y[p].isSeparator?a+=y[p].character:y[p].canEdit&&y[p].character!=v.promptChar&&(a+=y[p].character);"."!=v.decimalSeparator&&(a=v._parseDecimalValue(a)),a=parseFloat(a).toString(),a=(a=new Number(a)).toFixed(v.decimalDigits),"."!=v.decimalSeparator&&(a=v._parseDecimalValueToEditorValue(a)),v.setvalue("decimal",a);r=v._getString();if(g.end<s?v._setSelectionStart(g.end+l):v._setSelectionStart(g.end),1<=g.length&&v._setSelectionStart(g.end),g.length==v.numberInput.val().length){var d=v._moveCaretToDecimalSeparator(),h=0<=v.decimalSeparatorPosition?1:0;v._setSelectionStart(d-h)}}else if(g.start<s||g.start>s){if(v.numberInput.val().length==g.start&&-1!=v.decimalSeparatorPosition)return!1;if(v.numberInput.val().length==g.start&&-1==v.decimalSeparatorPosition&&!n)return!1;a="";var c=!1;for(p=0;p<e;p++)y[p].canEdit&&y[p].character!=v.promptChar&&(a+=y[p].character),y[p].character==v.decimalSeparator&&y[p].isSeparator&&(a+=y[p].character,c=!0);a+=m;l=v.decimal<1?1:0;for(c||g.start!=s-1||(a+=v.decimalSeparator,c=!0),p=e+1;p<y.length;p++)!c&&y[p].character==v.decimalSeparator&&y[p].isSeparator?a+=y[p].character:y[p].canEdit&&y[p].character!=v.promptChar&&(a+=y[p].character);v.setvalue("decimal",a);r=v._getString();if(v.decimalSeparatorPosition<0&&i==y[w])return v._setSelectionStart(e),!1;var u=r.indexOf(v.symbol);if(u<=(v.getvalue("negative")?1:0)&&(u=r.length),g.start<u?v._setSelectionStart(e+1):v._setSelectionStart(e),g.length,g.length==v.numberInput.val().length){d=v._moveCaretToDecimalSeparator();v._setSelectionStart(d-1)}}return!1}}}})}}},_handleKeyPress:function(e,t){var i=this._selection(),s=e.ctrlKey||e.metaKey;if(s&&97==t||s&&65==t)return!0;if(8==t)return 0<i.start&&this._setSelectionStart(i.start),!1;if(46==t)return i.start<this.items.length&&this._setSelectionStart(i.start),!1;b.jqx.browser.mozilla||(45!=t&&173!=t&&109!=t&&189!=t||(0==this.getvalue("negative")?this.setvalue("negative",!0):this.setvalue("negative",!1)));return b.jqx.browser.msie&&this._insertKey(t),this._isSpecialKey(t)},_deleteSelectedText:function(){var e=this._selection(),t="",s=this._getSeparatorPosition(),r=this._getVisibleItems(),n=this._getHiddenPrefixCount();for(this.numberInput.val().length==e.start&&0==e.length&&(this._setSelection(e.start,e.start+1),e=this._selection()),i=0;i<e.start;i++)r[i].canEdit&&r[i].character!=this.promptChar?t+=r[i].character:r[i].canEdit||-1==this.decimalSeparatorPosition||r[i]!=r[this.decimalSeparatorPosition-n]||(0==t.length&&(t="0"),t+=r[i].character);for(i=e.start;i<e.end;i++)i>s&&-1!=this.decimalSeparatorPosition?r[i].canEdit&&r[i].character!=this.promptChar&&(t+="0"):r[i].canEdit||-1==this.decimalSeparatorPosition||r[i]!=r[this.decimalSeparatorPosition-n]||(0==t.length&&(t="0"),t+=r[i].character);for(i=e.end;i<r.length;i++)r[i].canEdit&&r[i].character!=this.promptChar?t+=r[i].character:r[i].canEdit||-1==this.decimalSeparatorPosition||r[i]!=r[this.decimalSeparatorPosition-n]||(0==t.length&&(t="0"),t+=r[i].character);return this.setvalue("decimal",t),0<e.length},_restoreInitialState:function(){var e=parseInt(this.decimalDigits);for(0<e&&(e+=2),k=this.items.length-1;k>this.items.length-1-e&&this.items[k];k--)this.items[k].canEdit&&this.items[k].character==this.promptChar&&(this.items[k].character=0)},clear:function(){this.setDecimal(0)},clearDecimal:function(){if("textbox"!=this.inputMode){for(var e=0;e<this.items.length;e++)this.items[e].canEdit&&(this.items[e].character=this.promptChar);this._restoreInitialState()}else this.numberInput.val()},_saveSelectedText:function(){var e=this._selection(),t="",s=this._getVisibleItems();if(0<e.start||0<e.length)for(i=e.start;i<e.end;i++)s[i].canEdit&&s[i].character!=this.promptChar?t+=s[i].character:s[i].isSeparator&&(t+=s[i].character);return b.jqx.browser.msie&&window.clipboardData.setData("Text",t),t},_pasteSelectedText:function(){var e=this._selection();if(this.selectedText=b.data(document.body,"jqxSelection"),window.clipboardData){var t=window.clipboardData.getData("Text");if(t!=this.selectedText&&0<t.length&&(this.selectedText=window.clipboardData.getData("Text"),null==this.selectedText||null==this.selectedText))return}e.start,this._getVisibleItems();if(null!=this.selectedText)for(var i=0;i<this.selectedText.length;i++){var s=parseInt(this.selectedText[i]);if(!isNaN(s)){var r=48+s;this._insertKey(r)}}},_getHiddenPrefixCount:function(){var e=0;if(this.negative||e++,"left"==this.symbolPosition)for(i=0;i<this.symbol.length;i++)""==this.symbol.substring(i,i+1)&&e++;return e},_getEditableItem:function(){var e=this._selection();for(i=0;i<this.items.length;i++)if(i<e.start&&this.items[i].canEdit&&this.items[i].character!=this.promptChar)return this.items[i];return null},_getEditableItems:function(){var e=new Array,t=0;for(i=0;i<this.items.length;i++)this.items[i].canEdit&&(e[t]=this.items[i],t++);return e},_getValidSelectionStart:function(e){for(i=this.items.length-1;0<=i;i--)if(this.items[i].canEdit&&this.items[i].character!=this.promptChar)return i;return-1},_getEditableItemIndex:function(e){var t=this._selection(),s=this._getHiddenPrefixCount(),r=this._getVisibleItems(),n=t.start,o=-1;for(i=0;i<n;i++)i<r.length&&r[i].canEdit&&(o=i+s);if(-1==o&&0<t.length)for(n=t.end,i=0;i<n;i++)if(i<r.length&&r[i].canEdit){o=i+s;break}return o},_getEditableItemByIndex:function(e){for(k=0;k<this.items.length;k++)if(k>e&&this.items[k].canEdit&&this.items[k].character!=this.promptChar)return k;return-1},_getFirstEditableItemIndex:function(){var e=this._getVisibleItems();for(m=0;m<e.length;m++)if(e[m].character!=this.promptChar&&e[m].canEdit&&"0"!=e[m].character)return m;return-1},_getLastEditableItemIndex:function(){var e=this._getVisibleItems();for(m=e.length-1;0<=m;m--)if(e[m].character!=this.promptChar&&e[m].canEdit)return m;return-1},_moveCaretToDecimalSeparator:function(){for(i=this.items.length-1;0<=i;i--)if(this.items[i].character==this.decimalSeparator&&this.items[i].isSeparator)return this.negative?this._setSelectionStart(i+1):this._setSelectionStart(i),i;return this.numberInput.val().length},_handleBackspace:function(){var e=this._selection(),t=this._getHiddenPrefixCount(),i=this._getEditableItemIndex()-t,s=this._getFirstVisibleNonEmptyIndex(),r=!1;if(this.negative&&(r=!0,(i+1<=s||0==e.start)&&(this.setvalue("negative",!1),0==e.length))){this._setSelectionStart(e.start-1);e=this._selection()}if(0<=i){0==e.length&&-1!=i&&this._setSelection(i,i+1);var n=e.start>this._getSeparatorPosition()+1&&0<this.decimalSeparatorPosition;n&&(e=this._selection());this._deleteSelectedText();if(e.length<1||n?this._setSelectionStart(e.start):1<=e.length&&this._setSelectionStart(e.end),e.length==this.numberInput.val().length||r){var o=this._moveCaretToDecimalSeparator();this._setSelectionStart(o-1)}}else this._setSelectionStart(e.start)},_handleKeyDown:function(e,t){var s=this._selection(),r=e.ctrlKey||e.metaKey;if((8==t||46==t)&&r)return this.setDecimal(null),!1;if(this.rtl&&37==t){var n=(o=e.shiftKey)?1:0;return o?this._setSelection(s.start+1-n,s.start+s.length+1):this._setSelection(s.start+1-n,s.start+1),!1}if(this.rtl&&39==t){var o;n=(o=e.shiftKey)?1:0;return o?this._setSelection(s.start-1,s.length+n+s.start-1):this._setSelection(s.start-1,s.start-1),!1}if(r&&97==t||r&&65==t)return!0;if(r&&120==t||r&&88==t)return this.selectedText=this._saveSelectedText(e),b.data(document.body,"jqxSelection",this.selectedText),this._handleBackspace(),!1;if(r&&99==t||r&&67==t)return this.selectedText=this._saveSelectedText(e),b.data(document.body,"jqxSelection",this.selectedText),!1;if(r&&122==t||r&&90==t)return!1;if(r&&118==t||r&&86==t||e.shiftKey&&45==t)return this._pasteSelectedText(),!1;if(0<=s.start&&s.start<this.items.length){var a=String.fromCharCode(t);this.items[s.start]}if(8==t)return this._handleBackspace(),!1;if(190==t||110==t)return this._moveCaretToDecimalSeparator(),!1;if(188==t){var l=this.numberInput.val();for(i=s.start;i<l.length;i++)if(l[i]==this.groupSeparator){this._setSelectionStart(1+i);break}return!1}if(null==b.jqx.browser.msie){a=String.fromCharCode(t);var d=parseInt(a);if(96<=t&&t<=105&&(d=t-96,t-=48),!isNaN(d)){return this._insertKey(t),!1}}if(46==t){var h=this._getVisibleItems();if(s.start<h.length){n=0==h[s.start].canEdit?2:1;if(0==s.start)if(this.negative)if(this.setvalue("negative",!1),0==s.length&&this._setSelectionStart(0),0==(s=this._selection()).length)return!1;0==s.length&&this._setSelection(s.start+n,s.start+n+s.length),this._handleBackspace(),new Number(this.decimal)<1||s.start>this._getSeparatorPosition()?this._setSelectionStart(s.end+n):s.start+1<this.decimalSeparatorPosition&&this._setSelectionStart(s.end+n)}return!1}if(38==t)return this.spinUp(),!1;if(40==t)return this.spinDown(),!1;27===t&&(this.setDecimal(this._savedValue),this._setSelectionStart(s.end),e.preventDefault());var c=this._isSpecialKey(t);b.jqx.browser.mozilla&&(45!=t&&173!=t&&109!=t&&189!=t||(0==this.getvalue("negative")?this.setvalue("negative",!0):this.setvalue("negative",!1)));return!b.jqx.browser.mozilla||c},_isSpecialKey:function(e){return 8==e||9==e||13==e||35==e||36==e||37==e||39==e||27==e||46==e},_selection:function(){try{if("selectionStart"in this.numberInput[0]){var e=this.numberInput[0],t=e.selectionEnd-e.selectionStart;return{start:e.selectionStart,end:e.selectionEnd,length:t,text:e.value}}var i=document.selection.createRange();if(null==i)return{start:0,end:e.value.length,length:0};var s=this.numberInput[0].createTextRange(),r=s.duplicate();s.moveToBookmark(i.getBookmark()),r.setEndPoint("EndToStart",s);t=i.text.length;return{start:r.text.length,end:r.text.length+i.text.length,length:t,text:i.text}}catch(e){return{start:0,end:0,length:0}}},selectAll:function(){var t=this.numberInput;setTimeout(function(){if("selectionStart"in t[0])t[0].focus(),t[0].setSelectionRange(0,t[0].value.length);else{var e=t[0].createTextRange();e.collapse(!0),e.moveEnd("character",t[0].value.length),e.moveStart("character",0),e.select()}},10)},_setSelection:function(e,t){if(1!=this._disableSetSelection&&(!b.jqx.mobile.isTouchDevice()&&1!=this.touchMode))try{if("selectionStart"in this.numberInput[0])this.numberInput[0].focus(),this.numberInput[0].setSelectionRange(e,t);else{var i=this.numberInput[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}}catch(e){}},_setSelectionStart:function(e){this._setSelection(e,e),b.data(this.numberInput,"selectionstart",e)},resize:function(e,t){this.width=e,this.height=t,this._render(!1)},_render:function(e){var t=parseInt(this.host.css("border-left-width")),i=parseInt(this.host.css("border-left-width")),s=parseInt(this.host.css("border-left-width")),r=parseInt(this.host.css("border-left-width"));this.numberInput.css("padding-top","0px"),this.numberInput.css("padding-bottom","0px"),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=this.width:null==this.width||isNaN(this.width)||(this.element.style.width=this.width+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=this.height:null==this.height||isNaN(this.height)||(this.element.style.height=this.height+"px");var n=this.host.width(),o=this.host.height();this.numberInput.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0}),isNaN(s)&&(s=1),isNaN(i)&&(i=1),isNaN(r)&&(r=1),isNaN(t)&&(t=1),this.numberInput.css("text-align",this.textAlign);var a=this.numberInput.css("font-size");""==a&&(a=13),this.numberInput.css("height",parseInt(a)+4+"px"),this.numberInput.css("width",n-2);var l=o-2*s-parseInt(a)-2;(isNaN(l)&&(l=0),l<0&&(l=0),this.spinButtons&&this.spincontainer)&&(n-=parseInt(this.spinButtonsWidth-2),b.jqx.mobile.isTouchDevice()||!0===this.touchMode?(this.spincontainer.width(2*this.spinButtonsWidth),n-=this.spinButtonsWidth,this.upbutton.height("100%"),this.downbutton.height("100%"),this.downbutton.css("float","left"),this.upbutton.css("float","right"),this.upbutton.width(this.spinButtonsWidth),this.downbutton.width(1+this.spinButtonsWidth)):(this.spincontainer.width(this.spinButtonsWidth),this.upbutton.width(this.spinButtonsWidth+2),this.downbutton.width(this.spinButtonsWidth+2),this.upbutton.height("50%"),this.downbutton.height("50%"),this.spincontainer.width(this.spinButtonsWidth)),this._upArrow.height("100%"),this._downArrow.height("100%"),this.numberInput.css("width",n-6),this.numberInput.css("margin-right","2px"));var d=l/2;b.jqx.browser.msie&&b.jqx.browser.version<8&&(d=l/4),this.numberInput.css("padding-left","0px"),this.numberInput.css("padding-right","0px"),this.numberInput.css("padding-top",Math.round(d)+"px"),this.numberInput.css("padding-bottom",Math.round(d)+"px"),null!=e&&1!=e||(this.numberInput.val(this._getString()),"advanced"!=this.inputMode&&this._parseDecimalInSimpleMode())},destroy:function(){this._removeHandlers(),this.host.remove()},inputValue:function(e){return void 0===e?this._value():(this.propertyChangedHandler(this,"value",this._value,e),this._refreshValue(),this)},_value:function(){return this.numberInput.val()},val:function(e){if((void 0===e||"object"==typeof e)&&null!==e)return this.getDecimal();if(null!==e){var t=e;-1<(t=t.toString()).indexOf(this.symbol)&&(t=t.replace(this.symbol,""));t=(t=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s}(t,this.groupSeparator,"")).replace(this.decimalSeparator,".");for(var i="",s=0;s<t.length;s++){var r=t.substring(s,s+1);"-"===r&&(i+="-"),"."===r&&(i+="."),null!=r.match(/^[0-9]+$/)&&(i+=r)}t=(t=i).replace(/ /g,""),t=new Number(t),this.setDecimal(t)}else this.setDecimal(null)},getDecimal:function(){return null==this.decimal?null:("simple"==this.inputMode&&(this._parseDecimalInSimpleMode(!1),this.decimal=this._getDecimalInSimpleMode(this.decimal)),""==this.decimal?0:this.getvalue("negative")&&0<this.decimal?-parseFloat(this.decimal):parseFloat(this.decimal))},setDecimal:function(e){var t=e;if("."!=this.decimalSeparator)if(null===e)this._setDecimal(e);else{var i,s,r,n=e;if("number"!=typeof e)if(-1!=(i=(e=e.toString()).indexOf(".")))n=(s=e.substring(0,i))+"."+(r=e.substring(i+1)),-1!=s.indexOf("-")&&(s=s.substring(1)),e="advanced"!=this.inputMode?s+"."+r:s+this.decimalSeparator+r;else if(-1!=(i=e.indexOf(this.decimalSeparator)))n=(s=e.substring(0,i))+"."+(r=e.substring(i+1)),-1!=s.indexOf("-")&&(s=s.substring(1)),e="advanced"!=this.inputMode?s+"."+r:s+this.decimalSeparator+r;n<0?this.setvalue("negative",!0):this.setvalue("negative",!1),this._setDecimal(e)}else e<0?this.setvalue("negative",!0):this.setvalue("negative",!1),null===e?this._setDecimal(e):this._setDecimal(Math.abs(e));null==t&&this.numberInput.val("")},_setDecimal:function(e){if(this.allowNull||null!=e||(e=this.decimal=0),null==e)return this.decimal=null,this.value=null,this.clearDecimal(),this._refreshValue(),this.decimal=null,void(this.value=null);-1!=e.toString().indexOf("e")&&(e=new Number(e).toFixed(this.decimalDigits).toString()),this.clearDecimal();var t=e.toString(),i="",s="",r=!0;0==t.length&&(t="0");for(var n=0;n<t.length;n++){if("number"==typeof e){if("."==t.substring(n,n+1)){r=!1;continue}}else if(t.substring(n,n+1)==this.decimalSeparator){r=!1;continue}r?i+=t.substring(n,n+1):s+=t.substring(n,n+1)}0<i.length&&(i=parseFloat(i).toString());var o=this.digits;o<i.length&&(i=i.substr(0,o));var a=0,l=this._getSeparatorPosition();for(n=l+=this._getHiddenPrefixCount();0<=n;n--)n<this.items.length&&this.items[n].canEdit&&a<i.length&&(this.items[n].character=i.substring(i.length-a-1,i.length-a),a++);a=0;for(n=l;n<this.items.length;n++)this.items[n].canEdit&&a<s.length&&(this.items[n].character=s.substring(a,a+1),a++);if(this._refreshValue(),"."==this.decimalSeparator)this.ValueString=new Number(e).toFixed(this.decimalDigits);else{var d=e.toString().indexOf(this.decimalSeparator);if(0<d){var h=e.toString().substring(0,d)+"."+e.toString().substring(d+1);this.ValueString=new Number(h).toFixed(this.decimalDigits)}else this.ValueString=new Number(e).toFixed(this.decimalDigits)}("advanced"!=this.inputMode&&(this._parseDecimalInSimpleMode(),this._raiseEvent(1,this.ValueString)),"textbox"==this.inputMode)&&(this.decimal=this.ValueString,this.getvalue("negative")&&(this.decimal="-"+this.ValueString));(e=this.val())<this.min||e>this.max?this.host.addClass("jqx-input-invalid"):this.host.removeClass("jqx-input-invalid")},_getSeparatorPosition:function(){var e=this._getHiddenPrefixCount();return 0<this.decimalSeparatorPosition?this.decimalSeparatorPosition-e:this.items.length-e},_setTheme:function(){this.host.removeClass(),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons&&(this.downbutton.removeClass(),this.upbutton.removeClass(),this.downbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this.upbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this._upArrow.removeClass(),this._downArrow.removeClass(),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),this.numberInput.removeClass(),this.numberInput.addClass(this.toThemeProperty("jqx-input-content"))},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&e._render()},propertyChangedHandler:function(e,t,s,r){if(!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){if("template"==t&&(e.upbutton.removeClass(e.toThemeProperty("jqx-"+e.template)),e.downbutton.removeClass(e.toThemeProperty("jqx-"+e.template)),e.upbutton.addClass(e.toThemeProperty("jqx-"+e.template)),e.downbutton.addClass(e.toThemeProperty("jqx-"+e.template))),("digits"==t||"groupSize"==t||"decimalDigits"==t)&&r<0)throw new Exception(this.invalidArgumentExceptions[0]);if("placeHolder"==t&&e.numberInput.attr("placeholder",e.placeHolder),"theme"===t&&b.jqx.utilities.setTheme(s,r,e.host),"digits"==t&&r!=s&&(e.digits=parseInt(r)),"min"!=t&&"max"!=t||(b.jqx.aria(e,"aria-value"+t,r.toString()),e._refreshValue()),"decimalDigits"==t&&r!=s&&(e.decimalDigits=parseInt(r)),"decimalSeparator"==t||"digits"==t||"symbol"==t||"symbolPosition"==t||"groupSize"==t||"groupSeparator"==t||"decimalDigits"==t||"negativeSymbol"==t){var n=e.decimal;if("decimalSeparator"==t&&""==r&&(r=" "),s!=r){var o=e._selection();e.items=new Array,e._initializeLiterals(),e.value=e._getString(),e._refreshValue(),e._setDecimal(n)}}if("rtl"==t&&(e.rtl?(e.spincontainer&&(e.spincontainer.css("float","right"),e.spincontainer.css("border-right-width","1px")),e.numberInput.css("float","right")):(e.spincontainer&&(e.spincontainer.css("float","right"),e.spincontainer.css("border-right-width","1px")),e.numberInput.css("float","left"))),"spinButtons"==t&&(e.spincontainer?(r?e.spincontainer.css("display","block"):e.spincontainer.css("display","none"),e._render()):e._spinButtons()),"touchMode"===t&&(e.inputMode="textbox",e.spinMode="simple",e.render()),"negative"==t&&"advanced"==e.inputMode){o=e._selection();var a=0;r?(e.items[0].character=e.negativeSymbol[0],a=1):(e.items[0].character="",a=-1),e._refreshValue(),e.isInitialized&&e._setSelection(o.start+a,o.end+a)}if("decimal"==t&&(e.value=r,e.setDecimal(r)),"value"===t&&(e.value=r,e.setDecimal(r),e._raiseEvent(1,r)),"textAlign"==t&&(e.textAlign=r,e._render()),"disabled"==t&&(e.numberInput.attr("disabled",r),e.disabled?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),b.jqx.aria(e,"aria-disabled",r.toString())),"readOnly"==t&&(e.readOnly=r),"promptChar"==t){for(i=0;i<e.items.length;i++)e.items[i].character==e.promptChar&&(e.items[i].character=r);e.promptChar=r}"width"==t?(e.width=r,e._render()):"height"==t&&(e.height=r,e._render())}},_value:function(){return this.value},_refreshValue:function(){var e=this.value;if("textbox"!==this.inputMode){this.value=this._getString(),e=this.value;for(var t="",i=0;i<this.items.length;i++){var s=this.items[i];s.canEdit&&s.character!=this.promptChar&&(t+=s.character),i==this.decimalSeparatorPosition&&(t+=".")}this.decimal=t;var r=!1;this.oldValue!==e&&(this.oldValue=e,this._raiseEvent(0,e),r=!0),"simple"!=this.inputMode&&(this.numberInput.val(e),r&&this._raiseEvent(1,e)),null==e&&this.numberInput.val("")}}})}(jqxBaseFramework),function(c){c.jqx.jqxWidget("jqxPanel","",{}),c.extend(c.jqx._jqxPanel.prototype,{defineInstance:function(){var e={width:null,height:null,disabled:!1,scrollBarSize:c.jqx.utilities.scrollBarSize,sizeMode:"fixed",autoUpdate:!1,autoUpdateInterval:500,touchMode:"auto",horizontalScrollBarMax:null,verticalScrollBarMax:null,touchModeStyle:"auto",rtl:!1,events:["layout"]};return this===c.jqx._jqxPanel.prototype||c.extend(!0,this,e),e},createInstance:function(e){this.render()},render:function(){15!=c.jqx.utilities.scrollBarSize&&(this.scrollBarSize=c.jqx.utilities.scrollBarSize),this.host.addClass(this.toThemeProperty("jqx-panel")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all"));var e=c("<div id='panelWrapper' style='overflow: hidden; width: 100%; height: 100%; background-color: transparent; -webkit-appearance: none; outline: none; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='panelContent' style='-webkit-appearance: none; -moz-box-sizing: border-box; box-sizing: border-box; width: 100%; height: 100%; outline: none; border: none; padding: 0px; position: absolute; margin: 0px; align:left; valign:top; left: 0px; top: 0px;'/><div id='verticalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/></div>");if(!this.host.jqxButton)throw new Error("jqxPanel: Missing reference to jqxbuttons.js.");if(!this.host.jqxScrollBar)throw new Error("jqxPanel: Missing reference to jqxscrollbar.js.");var t=this.host.children();this._rtl=!1,0<t.length&&"rtl"==t.css("direction")&&(this.rtl=!0,this._rtl=!0),this.host.wrapInner(e);var i=this.host.find("#verticalScrollBar");i[0].id=this.element.id+"verticalScrollBar",this.vScrollBar=i.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme});var s=this.host.find("#horizontalScrollBar");s[0].id=this.element.id+"horizontalScrollBar",this.hScrollBar=s.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme}),this.content=this.host.find("#panelContent"),this.wrapper=this.host.find("#panelWrapper"),this.content.addClass(this.toThemeProperty("jqx-widget-content")),this.wrapper[0].id=this.wrapper[0].id+this.element.id,this.content[0].id=this.content[0].id+this.element.id,this.bottomRight=this.host.find("#bottomRight").addClass(this.toThemeProperty("jqx-panel-bottomright")).addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),this.bottomRight[0].id="bottomRight"+this.element.id,this.vScrollBar.css("visibility","inherit"),this.hScrollBar.css("visibility","inherit"),this.vScrollInstance=c.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=c.data(this.hScrollBar[0],"jqxScrollBar").instance;var r=this;this.propertyChangeMap.disabled=function(e,t,i,s){r.vScrollBar.jqxScrollBar({disabled:r.disabled}),r.hScrollBar.jqxScrollBar({disabled:r.disabled})},this.vScrollBar.jqxScrollBar({disabled:this.disabled}),this.hScrollBar.jqxScrollBar({disabled:this.disabled}),this._addHandlers(),null==this.width&&(this.width=this.content.width()),null==this.height&&(this.height=this.content.height()),this._arrange(),this.contentWidth=r.content[0].scrollWidth,this.contentHeight=r.content[0].scrollHeight,this.autoUpdate&&r._autoUpdate(),this.propertyChangeMap.autoUpdate=function(e,t,i,s){r.autoUpdate?r._autoUpdate():(clearInterval(r.autoUpdateId),r.autoUpdateId=null)},this.addHandler(c(window),"unload",function(){null!=r.autoUpdateId&&(clearInterval(r.autoUpdateId),r.autoUpdateId=null,r.destroy())}),this._updateTouchScrolling(),this._render()},hiddenParent:function(){return c.jqx.isHidden(this.host)},_updateTouchScrolling:function(){var s=this;1==this.touchMode&&c.jqx.mobile.setMobileSimulator(this.element),this.isTouchDevice()&&(c.jqx.mobile.touchScroll(this.element,s.vScrollInstance.max,function(e,t){if("hidden"!=s.vScrollBar.css("visibility")){var i=s.vScrollInstance.value;s.vScrollInstance.setPosition(i+t)}if("hidden"!=s.hScrollBar.css("visibility")){i=s.hScrollInstance.value;s.hScrollInstance.setPosition(i+e)}},this.element.id,this.hScrollBar,this.vScrollBar),this._arrange()),this.vScrollBar.jqxScrollBar({touchMode:this.touchMode}),this.hScrollBar.jqxScrollBar({touchMode:this.touchMode})},isTouchDevice:function(){var e=c.jqx.mobile.isTouchDevice();return 1==this.touchMode?e=!0:0==this.touchMode&&(e=!1),e&&0!=this.touchModeStyle&&(this.scrollBarSize=c.jqx.utilities.touchScrollBarSize),e},append:function(e){null!=e&&(this.content.append(e),this._arrange())},setcontent:function(e){this.content[0].innerHTML=e,this._arrange();var t=this;setTimeout(function(){t._arrange()},100)},prepend:function(e){null!=e&&(this.content.prepend(e),this._arrange())},clearcontent:function(){this.content.text(""),this.content.children().remove(),this._arrange()},remove:function(e){null!=e&&(c(e).remove(),this._arrange())},_autoUpdate:function(){var s=this;this.autoUpdateId=setInterval(function(){var e=s.content[0].scrollWidth,t=s.content[0].scrollHeight,i=!1;s.contentWidth!=e&&(s.contentWidth=e,i=!0),s.contentHeight!=t&&(s.contentHeight=t,i=!0),i&&s._arrange()},this.autoUpdateInterval)},_addHandlers:function(){var t=this;this.addHandler(this.vScrollBar,"valueChanged",function(e){t._render(t)}),this.addHandler(this.hScrollBar,"valueChanged",function(e){t._render(t)}),this.addHandler(this.host,"mousewheel",function(e){t.wheel(e,t)}),this.addHandler(this.wrapper,"scroll",function(e){0!=t.wrapper[0].scrollTop&&(t.wrapper[0].scrollTop=0),0!=t.wrapper[0].scrollLeft&&(t.wrapper[0].scrollLeft=0)}),this.addHandler(this.host,"mouseleave",function(e){t.focused=!1}),this.addHandler(this.host,"focus",function(e){t.focused=!0}),this.addHandler(this.host,"blur",function(e){t.focused=!1}),this.addHandler(this.host,"mouseenter",function(e){t.focused=!0}),c.jqx.utilities.resize(this.host,function(){c.jqx.isHidden(t.host)||t._arrange(!1)})},resize:function(e,t){this.width=e,this.height=t,this._arrange(!1)},_removeHandlers:function(){this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.wrapper,"scroll"),this.removeHandler(c(window),"resize."+this.element.id)},wheel:function(e,t){var i=0;if(e.originalEvent&&c.jqx.browser.msie&&e.originalEvent.wheelDelta&&(i=e.originalEvent.wheelDelta/120),e||(e=window.event),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s||e.preventDefault&&e.preventDefault(),!s&&s}e.preventDefault&&e.preventDefault(),e.returnValue=!1},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value+e.largestep<=e.max?(e.setPosition(e.value+e.largestep),!0):e.value+e.largestep!=e.max&&(e.setPosition(e.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value-e.largestep>=e.min?(e.setPosition(e.value-e.largestep),!0):e.value-e.largestep!=e.min&&(e.setPosition(e.min),!0)},_handleDelta:function(e){if(this.focused){var t=this.vScrollInstance.value;if(e<0?this.scrollDown():this.scrollUp(),t!=this.vScrollInstance.value)return!1}return!0},_render:function(e){null==e&&(e=this);var t=e.vScrollInstance.value,i=e.hScrollInstance.value;this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(i=0==this._rtl?e.hScrollInstance.max-i:-e.hScrollInstance.value),e.content.css({left:-i+"px",top:-t+"px"})},scrollTo:function(e,t){null!=e&&null!=t&&(this.vScrollInstance.setPosition(t),this.hScrollInstance.setPosition(e))},getScrollHeight:function(){return this.vScrollInstance.max},getVScrollPosition:function(){return this.vScrollInstance.value},getScrollWidth:function(){return this.hScrollInstance.max},getHScrollPosition:function(){return this.hScrollInstance.value},_getScrollSize:function(){var e=this.scrollBarSize;return isNaN(e)&&(e=parseInt(e),isNaN(e)?e="17px":e+="px"),this.isTouchDevice()&&(e=c.jqx.utilities.touchScrollBarSize),e=parseInt(e)},_getScrollArea:function(){var e=0;this.content.css("margin-right","0px"),this.content.css("max-width","9999999px"),c.jqx.browser.msie&&c.jqx.browser.version<10&&(e=parseInt(this.content.css("left")),this.content.css("left",0)),this.content.css("overflow","auto"),this.rtl&&this.content.css("direction","rtl");var t=parseInt(this.content[0].scrollWidth);c.each(this.content.children(),function(){t=Math.max(t,this.scrollWidth),t=Math.max(t,c(this).outerWidth())}),c.jqx.browser.msie&&c.jqx.browser.version<10&&this.content.css("left",e);var i=parseInt(this.content[0].scrollHeight);if(this.content.css("overflow","visible"),c.jqx.browser.msie&&c.jqx.browser.version<9){i=parseInt(this.content[0].scrollHeight);switch(this.sizeMode){case"wrap":i=parseInt(this.content[0].scrollHeight),t=parseInt(this.content[0].scrollWidth);break;case"horizontalWrap":case"horizontalwrap":break;case"verticalWrap":case"verticalwrap":i=parseInt(this.content[0].scrollHeight)}}return this.rtl&&this.content.css("direction","ltr"),{width:t,height:i}},_arrange:function(e){!1!==e&&(null!=this.width&&this.host.width(this.width),null!=this.height&&this.host.height(this.height));var i=this._getScrollSize(),t=this.host.width(),s=this.host.height(),r=this._getScrollArea(),n=r.width,o=r.height,a=o-parseInt(Math.round(this.host.height())),l=n-parseInt(Math.round(this.host.width()));null!=this.horizontalScrollBarMax&&(l=this.horizontalScrollBarMax),null!=this.verticalScrollBarMax&&(a=this.verticalScrollBarMax);var d=function(e,t){5<t?(e.vScrollBar.jqxScrollBar({max:t}),e.vScrollBar.css("visibility","inherit")):(e.vScrollBar.jqxScrollBar("setPosition",0),e.vScrollBar.css("visibility","hidden"))},h=function(e,t){0<t?c.jqx.browser.msie&&c.jqx.browser.version<8&&t-10<=i?(e.hScrollBar.css("visibility","hidden"),e.hScrollBar.jqxScrollBar("setPosition",0)):(e.hScrollBar.jqxScrollBar({max:t+4}),e.hScrollBar.css("visibility","inherit")):(e.hScrollBar.css("visibility","hidden"),e.hScrollBar.jqxScrollBar("setPosition",0))};switch(this.sizeMode){case"wrap":return this.host.width(n),this.host.height(o),this.vScrollBar.css("visibility","hidden"),void this.hScrollBar.css("visibility","hidden");case"horizontalWrap":case"horizontalwrap":return this.host.width(n),this.hScrollBar.css("visibility","hidden"),d(this,a),void this._arrangeScrollbars(i,n,s);case"verticalWrap":case"verticalwrap":return this.host.height(o),this.vScrollBar.css("visibility","hidden"),h(this,l),void this._arrangeScrollbars(i,t,s)}d(this,a);"hidden"!=this.vScrollBar.css("visibility")&&null==this.horizontalScrollBarMax&&(!this.isTouchDevice()&&0<l||0<l)&&(l+=i+2),h(this,l),"hidden"!=this.hScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar({max:a+i+2}),this._arrangeScrollbars(i,t,s)},_arrangeScrollbars:function(e,t,i){var s="hidden"!=this.vScrollBar[0].style.visibility;this.hScrollBar[0].style.visibility;if(this.hScrollBar.height(e),this.hScrollBar.css({top:i-e-2-2+"px",left:"0px"}),this.hScrollBar.width(t-2+"px"),this.vScrollBar.width(e),this.vScrollBar.height(parseInt(i)-2+"px"),this.vScrollBar.css({left:parseInt(t)-parseInt(e)-2-2+"px",top:"0px"}),this.rtl){this.vScrollBar.css({left:"0px"});var r=s?parseInt(e)+"px":0;if("rtl"!=this.content.children().css("direction")){var n=!1;c.jqx.browser.msie&&c.jqx.browser.version<8&&(n=!0),n||this.content.css("padding-left",r)}}else"hidden"!=this.vScrollBar.css("visibility")&&this.content.css("max-width",this.host.width()-this.vScrollBar.outerWidth());"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")?(this.bottomRight.css("visibility","inherit"),this.bottomRight.css({left:1+parseInt(this.vScrollBar.css("left")),top:1+parseInt(this.hScrollBar.css("top"))}),this.bottomRight.width(parseInt(e)+3),this.bottomRight.height(parseInt(e)+3),this.rtl&&(this.bottomRight.css({left:"0px"}),this.hScrollBar.css({left:e+2+"px"})),this.hScrollBar.width(t-1*e-2-2+"px"),this.vScrollBar.height(parseInt(i)-2-e-2+"px")):this.bottomRight.css("visibility","hidden"),this.hScrollInstance.refresh(),this.vScrollInstance.refresh()},destroy:function(){clearInterval(this.autoUpdateId),this.autoUpdateId=null,this.autoUpdate=!1,c.jqx.utilities.resize(this.host,null,!0),this._removeHandlers(),this.removeHandler(c(window),"unload"),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.host.remove()},_raiseevent:function(e,t,i){if(null!=this.isInitialized&&1==this.isInitialized){var s=this.events[e],r=new c.Event(s);return r.previousValue=t,r.currentValue=i,(r.owner=this).host.trigger(r)}},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this.hScrollInstance.value=0,this._arrange(),this._render()},propertyChangedHandler:function(e,t,i,s){e.isInitialized&&("rtl"==t&&(this.vScrollBar.jqxScrollBar({rtl:s}),this.hScrollBar.jqxScrollBar({rtl:s}),e._arrange()),e.updating||"scrollBarSize"!=t&&"width"!=t&&"height"!=t||i!=s&&e._arrange(),"touchMode"==t&&"auto"!=s&&e._updateTouchScrolling(),"theme"==t&&(e.host.removeClass(),e.host.addClass(this.toThemeProperty("jqx-panel")),e.host.addClass(this.toThemeProperty("jqx-widget")),e.host.addClass(this.toThemeProperty("jqx-widget-content")),e.host.addClass(this.toThemeProperty("jqx-rc-all")),e.vScrollBar.jqxScrollBar({theme:this.theme}),e.hScrollBar.jqxScrollBar({theme:this.theme}),e.bottomRight.removeClass(),e.bottomRight.addClass(this.toThemeProperty("jqx-panel-bottomright")),e.bottomRight.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),e.content.removeClass(),e.content.addClass(this.toThemeProperty("jqx-widget-content"))))},invalidate:function(){c.jqx.isHidden(this.host)||this.refresh()},refresh:function(e){this._arrange()}})}(jqxBaseFramework),function(d){d.jqx.jqxWidget("jqxPasswordInput","",{}),d.extend(d.jqx._jqxPasswordInput.prototype,{defineInstance:function(){var e={width:null,height:null,disabled:!1,rtl:!1,placeHolder:null,showStrength:!1,showStrengthPosition:"right",maxLength:null,minLength:null,showPasswordIcon:!0,strengthTypeRenderer:null,passwordStrength:null,changeType:null,localization:{passwordStrengthString:"Password strength",tooShort:"Too short",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong",showPasswordString:"Show Password"},strengthColors:{tooShort:"rgb(170, 0, 51)",weak:"rgb(170, 0, 51)",fair:"rgb(255, 204, 51)",good:"rgb(45, 152, 243)",strong:"rgb(118, 194, 97)"}};return this===d.jqx._jqxPasswordInput.prototype||d.extend(!0,this,e),e},createInstance:function(){this._inDOM=document.body.contains(this.element),this.render()},render:function(){var t=this,e=d.jqx.browser.browser,i=d.jqx.browser.version;this._browserCheck="msie"!=e||"7.0"!=i&&"8.0"!=i,this.widgetID=t.element.id;if("password"!=this.element.getAttribute("type"))throw"Invalid input type. Please set the type attribute of the input element to password.";t._hidden=!0,t._setTheme(),t._setAttributes(),t._showPassword(),t._showStrength(),d.jqx.utilities.resize(this.host,function(){if(!t._inDOM){var e=t.element.parentNode;return t.element.nextSibling?e.insertBefore(t.icon,t.element.nextSibling):e.appendChild(t.icon),void(t._inDOM=!0)}t.element===document.activeElement&&(t._positionIcon(),t.showStrength&&t.host.jqxTooltip("close"))})},refresh:function(e){var t=this;e||(t.removeHandler(t.host,"change.passwordinput"+t.widgetID),t.removeHandler(t.host,"focus.passwordinput"+t.widgetID),t.removeHandler(t.host,"blur.passwordinput"+t.widgetID),t.removeHandler(t.host,"click.passwordinput"+t.widgetID),t.removeHandler(t.host,"keyup.passwordinput"+t.widgetID),t.removeHandler(t.icon,"mousedown.passwordinput"+t.widgetID),t.removeHandler(d(document),"mouseup.passwordinput"+t.widgetID),t.removeHandler(d(document),"mousedown.passwordinput"+t.widgetID),t._setAttributes(),t._setTheme(),t._showPassword(),t._showStrength())},val:function(e){var t=this,i=t.element.value,s="placeholder"in t.element;if(d.isEmptyObject(e)&&""!==e)return s||i!==t.placeHolder||(i=""),i;if(!s||e!==i){if(!s){if(""===e)return void(i!==t.placeHolder&&(t.element.value=t.placeHolder,t.element.setAttribute("type","text")));t.element.setAttribute("type","password")}t.element.value=e,!0===t.showStrength&&t._evaluateStrength()}},propertyChangedHandler:function(e,t,i,s){"theme"!==t?"disabled"!=t?"placeHolder"==t?this._browserCheck&&("placeholder"in this.element?e.element.setAttribute("placeholder",e.placeHolder):""===e.element.value?(e.element.setAttribute("type","text"),e.element.value=s):e.element.value==i&&(e.element.value=s)):this.refresh():e.disabled?(e.element.setAttribute("disabled","disabled"),e.element.className+=" "+e.toThemeProperty("jqx-fill-state-disabled")):(e.host.removeAttr("disabled"),e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled"))):d.jqx.utilities.setTheme(i,s,e.host)},resize:function(e,t){this.width=e,this.height=t,null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=this.width:null==this.width||isNaN(this.width)||(this.element.style.width=this.width+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=this.height:null==this.height||isNaN(this.height)||(this.element.style.height=this.height+"px")},_setAttributes:function(){var t=this,e=t.element;null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=this.width:null==this.width||isNaN(this.width)||(this.element.style.width=this.width+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=this.height:null==this.height||isNaN(this.height)||(this.element.style.height=this.height+"px"),t.maxLength&&e.setAttribute("maxlength",t.maxLength),t.minLength&&e.setAttribute("minLength",t.minLength),t.placeHolder&&t._browserCheck&&("placeholder"in t.element?e.setAttribute("placeholder",t.placeHolder):""===e.value&&(e.setAttribute("type","text"),e.value=t.placeHolder)),t.disabled?(e.setAttribute("disabled","disabled"),e.className+=" "+this.toThemeProperty("jqx-fill-state-disabled")):(e.removeAttribute("disabled"),t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")));var i=!1;t.addHandler(e,"change.passwordinput"+t.widgetID,function(e){i||(e.preventDefault(),e.stopPropagation(),i=!0,t._raiseEvent(),i=!1)}),t.addHandler(e,"click.passwordinput"+t.widgetID,function(){t.showPasswordIcon&&t.icon&&(t.icon.style.display="inline",t._positionIcon())}),t.interval=null,t.addHandler(e,"keydown.passwordinput"+t.widgetID,function(){if(t.changeType="keyboard",t.showPasswordIcon&&t.icon){t.interval&&clearInterval(t.interval);var e=0;t.interval=setInterval(function(){"none"!=t.icon.style.display?(t._positionIcon(),5<++e&&clearInterval(t.interval)):clearInterval(t.interval)},100)}}),t.addHandler(e,"focus.passwordinput"+t.widgetID,function(){(t._focused=!0,e.className+=" "+t.toThemeProperty("jqx-fill-state-focus"),!t.placeHolder||!t._browserCheck||"placeholder"in t.element||e.value!=t.placeHolder||(e.value="",t._hidden&&e.setAttribute("type","password")),0<t.val().length)&&(t.showStrength&&t.host.jqxTooltip("content")&&t.host.jqxTooltip("open"));t.showPasswordIcon&&t.icon&&(t.icon.style.display="inline",t._positionIcon())}),t.addHandler(e,"blur.passwordinput"+t.widgetID,function(){t._focused=!1,t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),!t.placeHolder||!t._browserCheck||"placeholder"in t.element||""!==e.value||(t.element.value=t.placeHolder,t.element.setAttribute("type","text")),t.showPasswordIcon&&t._browserCheck&&(!1===t.rtl?t.host.removeClass(t.toThemeProperty("jqx-passwordinput-password-icon-ltr")):t.host.removeClass(t.toThemeProperty("jqx-passwordinput-password-icon-rtl"))),t.showStrength&&t.host.jqxTooltip("close"),t.showPasswordIcon&&t.icon&&(t.icon.style.display="none")})},destroy:function(){this.host.jqxTooltip&&this.host.jqxTooltip("destroy"),this.host.remove()},_setTheme:function(){var e="jqx-widget jqx-widget-content jqx-input jqx-input-widget jqx-rc-all";this.rtl?(e+=" jqx-rtl",this.element.style.direction="rtl"):(this.host.removeClass(this.toThemeProperty("jqx-rtl")),this.element.style.direction="ltr"),this.element.className+=" "+this.toThemeProperty(e)},_showPassword:function(){if(this.showPasswordIcon&&this._browserCheck){var e=this,t=document.createElement("span"),i=".passwordinput"+e.widgetID;t.setAttribute("tabindex",-1),t.setAttribute("hasfocus",!1),t.setAttribute("title",e.localization.showPasswordString),t.style.position="absolute",t.style.display="none",t.className=e.toThemeProperty("jqx-passwordinput-password-icon");var s=e.element.parentNode;s&&(e.element.nextSibling?s.insertBefore(t,e.element.nextSibling):s.appendChild(t)),e.icon=t,e._positionIcon();var r=function(){e.element.setAttribute("type","password"),e._hidden=!0},n=function(){!1===e._hidden?r():e._hidden&&(e.element.setAttribute("type","text"),e._hidden=!1)};d.jqx.mobile.isTouchDevice()?e.addHandler(e.icon,"mousedown"+i,function(){return n(),!1}):(e.addHandler(e.icon,"mousedown"+i,function(){return n(),!1}),e.addHandler(d(document),"mouseup"+i,function(){return r(),!1}),e.addHandler(d(document),"mousedown"+i,function(){e._focused&&r()}))}},_positionIcon:function(){var e=this.host.offset(),t=this.element.offsetWidth,i=this.element.offsetHeight,s=d(this.icon);this.rtl?s.offset({top:parseInt(e.top+i/2-5,10),left:e.left+2}):s.offset({top:parseInt(e.top+i/2-5,10),left:e.left+t-18})},_showStrength:function(){var e=this;if(e.showStrength){if(!e.host.jqxTooltip)throw new Error("jqxPasswordInput: Missing reference to jqxtooltip.js");var t,i=e.widgetID+"Strength",s=i+"Value",r=i+"Indicator";if(e.strengthTypeRenderer){var n=e.element.value;"placeholder"in e.element||!e._browserCheck||n!=e.placeHolder||(n=""),e._countCharacters();var o=e.localization.tooShort;t=e.strengthTypeRenderer(n,{letters:e.letters,numbers:e.numbers,specialKeys:e.specials},o)}else t='<div style="width: 220px;"><div><span style="font-weight: bold;">'+e.localization.passwordStrengthString+': </span><span id="'+s+'"></span></div><div id="'+r+'"></div></div>';if(e.host.jqxTooltip({theme:e.theme,position:e.showStrengthPosition,content:t,trigger:"none",autoHide:!1,rtl:e.rtl}),!e.strengthTypeRenderer){var a=document.getElementById(r);document.getElementById(s).innerHTML=e.localization.tooShort,a.className+=" jqx-passwordinput-password-strength-inicator",a.style.backgroundColor=e.strengthColors.tooShort,!1===e.rtl?a.style.float="left":a.style.float="right"}e._checkStrength()}},_checkStrength:function(){var e=this;e.addHandler(e.host,"keyup.passwordinput"+e.widgetID,function(){e._evaluateStrength()})},_raiseEvent:function(){var e=new d.Event("change");return e.args={type:this.changeType},this.changeType=null,(e.owner=this).host.trigger(e)},_evaluateStrength:function(){var e=this,t=e.element.value,i=t.length;(e._countCharacters(),0<i)&&(e.showStrength&&!e.host.jqxTooltip("opened")&&e.host.jqxTooltip("open"));var s,r,n=e.letters+e.numbers+2*e.specials+e.letters*e.numbers/2+i;if(s=i<8?e.localization.tooShort:n<20?e.localization.weak:n<30?e.localization.fair:n<40?e.localization.good:e.localization.strong,e.strengthTypeRenderer)r=e.strengthTypeRenderer(t,{letters:e.letters,numbers:e.numbers,specialKeys:e.specials},s),e.host.jqxTooltip({content:r});else{e.passwordStrength&&(r=e.passwordStrength(t,{letters:e.letters,numbers:e.numbers,specialKeys:e.specials},s),d.each(e.localization,function(){if(r==this)return s=r,!1})),document.getElementById(e.widgetID+"StrengthValue").innerHTML=s;var o,a,l=document.getElementById(e.widgetID+"StrengthIndicator");switch(s){case e.localization.tooShort:o="20%",a=e.strengthColors.tooShort;break;case e.localization.weak:o="40%",a=e.strengthColors.weak;break;case e.localization.fair:o="60%",a=e.strengthColors.fair;break;case e.localization.good:o="80%",a=e.strengthColors.good;break;case e.localization.strong:o="100%",a=e.strengthColors.strong}l.style.width=o,l.style.backgroundColor=a}},_countCharacters:function(){this.letters=0,this.numbers=0,this.specials=0;for(var e=this.element.value,t=e.length,i=0;i<t;i++){var s=e.charAt(i),r=e.charCodeAt(i);64<r&&r<91||96<r&&r<123||127<r&&r<155||159<r&&r<166?this.letters+=1:!1!==isNaN(s)?-1=="<>@!#$%^&*()_+[]{}?:;|'\"\\,./~`-=".indexOf(s)||(this.specials+=1):this.numbers+=1}},_toPx:function(e){return"number"==typeof e?e+"px":e}})}(jqxBaseFramework),function(h){h.jqx.jqxWidget("jqxPopover","",{}),h.extend(h.jqx._jqxPopover.prototype,{defineInstance:function(){var e={arrowOffsetValue:null,animationType:"fade",position:"bottom",animationOpenDelay:"fast",animationCloseDelay:"fast",autoClose:!0,isModal:!1,height:null,initContent:null,offset:null,rtl:!1,showArrow:!0,showCloseButton:!1,selector:null,title:"",width:null,_toggleElement:null,_popover:null,_popoverTop:0,_popoverLeft:0,_init:!1,_ie8:h.jqx.browser.msie&&8===h.jqx.browser.version,_ie7:h.jqx.browser.msie&&h.jqx.browser.version<8,_left:0,_top:0,events:["open","close"]};return this===h.jqx._jqxPopover.prototype||h.extend(!0,this,e),e},createInstance:function(){this._content=this.host.children()},render:function(){var e=this,t=e.element.id;if(e._content.detach(),e._toggleElement=h(e.selector),0===e._toggleElement.length)throw new Error('jqxPopover: Invalid Popover toggler: "'+e.selector+'".');if(null===e._toggleElement)throw new Error("jqxPopover: Missing Popover toggler.");var i=h('<div id="'+t+'" class="'+e.toThemeProperty("jqx-popover")+'"><div class="'+e.toThemeProperty("jqx-popover-arrow")+'"></div><div class="'+e.toThemeProperty("jqx-popover-title")+'"></div><div class="'+e.toThemeProperty("jqx-popover-content")+'"></div></div>');h("body").append(i);var s=e.host.data();e.host.detach(),e.host=i,e.host.data(s),e.element=i[0],e.element.id=t,e._popover=h("#"+t);var r=e._popover.find(".jqx-popover-title");r.append(e.title);var n=e._popover.find(".jqx-popover-content");if(n.append(e._content),e._popover.hide(),e._removeHandlers(),e._addHandlers(),e._popover.addClass(e.position),r.addClass(e.toThemeProperty("jqx-widget-header")),e._popover.addClass(e.toThemeProperty("jqx-widget jqx-widget-content jqx-rc-all")),e.showArrow?(e._popover.addClass(e.toThemeProperty("jqx-popover-arrow-"+e.position)),e._popover.find(".jqx-popover-arrow").css("display","block")):e._popover.find(".jqx-popover-arrow").css("display","none"),e.rtl&&(r.addClass(e.toThemeProperty("jqx-rtl")),r.css("direction","rtl"),n.css("direction","rtl")),e.showCloseButton){var o=h('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>'),a=h('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx-icon-close")+'"></div>');o.append(a),r.append(o),r.css("min-height","16px"),o.addClass(e.toThemeProperty("jqx-popover-close-button")),e.closeButton=a,e.rtl&&o.addClass(e.toThemeProperty("jqx-popover-close-button-rtl"))}if(e.arrowOffsetValue)if("bottom"==e.position||"top"==e.position){var l=e._popover.find(".jqx-popover-arrow").css("margin-left");e._popover.find(".jqx-popover-arrow").css("margin-left",parseInt(l)+e.arrowOffsetValue)}else{var d=e._popover.find(".jqx-popover-arrow").css("margin-top");e._popover.find(".jqx-popover-arrow").css("margin-top",parseInt(d)+e.arrowOffsetValue)}(e.width||e.height)&&(e._popover.css("width",e.width),e._popover.css("height",e.height))},refresh:function(e){this.render()},destroy:function(){0!==this.length&&(this._removeHandlers(),this._popover.remove(),this._removeModalBackground())},propertyChangedHandler:function(e,t,i,s){this.render()},_stickToToggleElement:function(){var e=this;e._popover.css("left","0px"),e._popover.css("top","0px");var t=e._toggleElement,i=t.offset(),s=t.outerHeight(),r=t.outerWidth(),n=e._popover.height(),o=e._popover.width();switch(e.position){case"left":e._popoverTop=i.top-n/2+s/2,e._popoverLeft=i.left-e._popover.outerWidth();break;case"right":e._popoverTop=i.top-n/2+s/2,e._popoverLeft=i.left+r;break;case"top":e._popoverTop=i.top-e._popover.outerHeight(),e._popoverLeft=i.left-o/2+r/2;break;case"bottom":e._popoverTop=i.top+s,e._popoverLeft=i.left-o/2+r/2}var a=e.offset?parseFloat(e.offset.left):0,l=e.offset?parseFloat(e.offset.top):0;e._popover.css("top",l+e._popoverTop),e._popover.css("left",a+e._popoverLeft)},open:function(){var e=this;function t(){e._popover.show(),e._raiseEvent("0"),e._isOpen=!0}function i(){e.initContent&&!1===e._init&&(e.initContent(),e._init=!0,e._stickToToggleElement())}if(e._stickToToggleElement(),!0===e._ie7)return t(),void i();switch(e.animationType){case"fade":e._popover.fadeIn(e.animationOpenDelay,function(){e._raiseEvent("0"),i(),e._isOpen=!0});break;case"none":t(),i()}e._makeModalBackground()},close:function(){var e=this;if(e._isOpen)if(!0!==e._ie7){switch(e.animationType){case"fade":e._popover.fadeOut(e.animationCloseDelay,function(){e._raiseEvent("1"),e._isOpen=!1});break;case"none":t()}e._removeModalBackground()}else t();function t(){e._popover.hide(),e._raiseEvent("1"),e._isOpen=!1}},_raiseEvent:function(e,t){void 0===t&&(t={owner:null});var i=this.events[e];t.owner=this;var s=new h.Event(i);return s.owner=this,s.args=t,s.preventDefault&&s.preventDefault(),this._popover.trigger(s)},_makeModalBackground:function(){!0===this.isModal&&(this.modalBackground=h("<div></div>"),this.modalBackground.addClass(this.toThemeProperty("jqx-popover-modal-background")),h(document.body).prepend(this.modalBackground),h(document.body).addClass(this.toThemeProperty("jqx-unselectable")),this.host.addClass(this.toThemeProperty("jqx-selectable")))},_removeModalBackground:function(){!0===this.isModal&&void 0!==this.modalBackground&&(this.modalBackground.remove(),h(document.body).removeClass(this.toThemeProperty("jqx-unselectable")),this.host.removeClass(this.toThemeProperty("jqx-selectable")))},_addHandlers:function(){var t=this,e=t.element.id;t.addHandler(h(document),"keydown.jqxPopover"+e,function(e){27==e.keyCode&&t.close()}),t.addHandler(h(document),"click.jqxPopover"+e,function(e){t.closeButton&&e.target==t.closeButton[0]&&t.close(),!0===t.autoClose&&(e.target==t.element||h(e.target).ischildof(t._popover)||t.isModal||t.close())}),t.addHandler(h(window),"resize.jqxPopover"+e,function(e){"none"!=t.element.style.display&&t._stickToToggleElement()}),t.selector&&t.addHandler(t._toggleElement,"click.jqxPopover"+e,function(e){e.stopPropagation(),"none"!=t.host.css("display")?t.close():t.open()})},_removeHandlers:function(){var e=this.element.id;this.removeHandler(h(document),"click.jqxPopover"+e),this.selector&&this.removeHandler(this._toggleElement,"click.jqxPopover"+e),this.removeHandler(h(document),"keydown.jqxPopover"+e),this.removeHandler(h(window),"resize.jqxPopover"+e)}})}(jqxBaseFramework),function(m){m.jqx.jqxWidget("jqxProgressBar","",{}),m.extend(m.jqx._jqxProgressBar.prototype,{defineInstance:function(){var e={colorRanges:[],value:0,oldValue:null,max:100,min:0,orientation:"horizontal",layout:"normal",width:null,height:null,showText:!1,animationDuration:300,disabled:!1,rtl:!1,renderText:null,template:"",aria:{"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["valueChanged","invalidValue","complete","change"]};return this===m.jqx._jqxProgressBar.prototype||m.extend(!0,this,e),e},createInstance:function(e){var t=this;this.host.addClass(this.toThemeProperty("jqx-progressbar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),m.jqx.aria(this),null!=this.width&&-1!=this.width.toString().indexOf("px")||null==this.width||isNaN(this.width),this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")||null==this.height||isNaN(this.height),this.host.height(this.height),this.valueDiv=m("<div></div>").appendTo(this.element),this._addRanges(),this.valueDiv.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.template&&this.valueDiv.addClass(this.toThemeProperty("jqx-"+this.template)),this.feedbackElementHost=m("<div style='left: 0px; top: 0px; width: 100%; height: 100%; position: absolute;'></div>").appendTo(this.host),this.feedbackElement=m("<span class='text'></span>").appendTo(this.feedbackElementHost),this.feedbackElement.addClass(this.toThemeProperty("jqx-progressbar-text")),this.oldValue=this._value(),this.refresh(),m.jqx.utilities.resize(this.host,function(){t.refresh()})},_addRanges:function(){if(0!=this.colorRanges.length)for(var e="vertical"==this.orientation,t=this.colorRanges,i=t.length,s=0;s<i;s++){var r=t[s].stop,n=t[s].color;this._createColorElements(r,n,e,i-s,s)}},_refreshColorElements:function(){for(var e=this.host.outerWidth(),t=this.host.outerHeight(),i="vertical"==this.orientation,s=0;s<this.colorRanges.length;s++){var r=this.colorRanges[s].element;if(!r)return this.host.find(".jqx-progressbar-range").remove(),void this._addRanges();var n=this.colorRanges[s].stop;n>Math.min(this.max,this.value)&&(n=Math.min(this.max,this.value));var o=100*(n-this.min)/(this.max-this.min);size=i?t*o/100:e*o/100,size+="px",i?(r.css("height",size),"reverse"==this.layout?r.css("bottom",0):r.css("top",0)):(r.css("width",size),(this.rtl||"reverse"==this.layout)&&r.css("right","0px"))}},_createColorElements:function(e,t,i,s,r){var n;e>Math.min(this.max,this.value)&&(e=Math.min(this.max,this.value));var o=100*e/this.max;this.host.width(),this.host.height();n=i?this.host.outerHeight()*o/100:this.host.outerWidth()*o/100,n+="px";var a,l=m(this.valueDiv).parent()[0];(l.style.position="relative",i=i||!1)?((a=m("<div/>")).attr("class","jqx-progressbar-range"),a.css("width","100%"),a.css("height",n),a.css("background-color",t),a.css("position","absolute"),a.css("z-index",s),"reverse"==this.layout?a.css("bottom",0):a.css("top",0),a.appendTo(l)):((a=m("<div/>")).attr("class","jqx-progressbar-range"),a.css("width",n),a.css("height","100%"),a.css("background-color",t),a.css("position","absolute"),a.css("z-index",s),a.css("top","0px"),this.rtl&&a.css("right","0px"),a.appendTo(l));this.colorRanges[r].element=a},resize:function(e,t){this.width=e,this.height=t,this.refresh()},destroy:function(){this.host.removeClass(),this.valueDiv.removeClass(),this.valueDiv.remove(),this.feedbackElement.remove()},_raiseevent:function(e,t,i){if(null!=this.isInitialized&&1==this.isInitialized){var s=this.events[e],r=new m.Event(s);return r.previousValue=t,r.currentValue=i,(r.owner=this).host.trigger(r)}},actualValue:function(e){return void 0===e||(m.jqx.aria(this,"aria-valuenow",e),m.jqx.setvalueraiseevent(this,"value",e)),this._value()},val:function(e){return 0==arguments.length||"object"==typeof e?this.actualValue():this.actualValue(e)},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.host.width(i.width),e.host.height(i.height),e.refresh())},propertyChangedHandler:function(e,t,i,s){if(this.isInitialized&&i!=s&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){var r=this;"colorRanges"==t&&(e.host.find(".jqx-progressbar-range").remove(),e._addRanges()),"min"==t&&e.value<s?e.value=s:"max"==t&&e.value>s&&(e.value=s),"value"===t&&null!=r.value&&(r.value=s,r.oldValue=i,m.jqx.aria(e,"aria-valuenow",s),(s<r.min||s>r.max)&&r._raiseevent(1,i,s),r.refresh()),"theme"==t&&m.jqx.utilities.setTheme(i,s,e.host),"renderText"==t||"orientation"==t||"layout"==t||"showText"==t||"min"==t||"max"==t?r.refresh():"width"==t&&null!=r.width?null==r.width||isNaN(r.width)||(r.host.width(r.width),r.refresh()):"height"==t&&null!=r.height&&(null==r.height||isNaN(r.height)||(r.host.height(r.height),r.refresh())),"disabled"==t&&r.refresh()}},_value:function(){var e=this.value;if("number"!=typeof e){var t=parseInt(e);e=isNaN(t)?0:t}return Math.min(this.max,Math.max(this.min,e))},_percentage:function(){return 100*(this._value()-this.min)/(this.max-this.min)},_textwidth:function(e){var t=m("<span>"+e+"</span>");m(this.host).append(t);var i=t.width();return t.remove(),i},_textheight:function(e){var t=m("<span>"+e+"</span>");m(this.host).append(t);var i=t.height();return t.remove(),i},_initialRender:!0,refresh:function(e){if(!0!==e){var t=this.actualValue(),i=this._percentage();if(this.disabled)return this.host.addClass(this.toThemeProperty("jqx-progressbar-disabled")),void this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(this.host.removeClass(this.toThemeProperty("jqx-progressbar-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),m(this.element.children[0]).show(),!isNaN(t)&&!isNaN(i)){this.oldValue!==t&&(this._raiseevent(0,this.oldValue,t),this._raiseevent(3,this.oldValue,t),this.oldValue=t);var s=this.oldValue,r=this.host.outerHeight(),n=this.host.outerWidth();null!=this.width&&(n=parseInt(this.width)),null!=this.height&&(r=parseInt(this.height)),this._refreshColorElements();var o=parseInt(this.host.outerWidth())/2;parseInt(this.host.outerHeight());isNaN(i)&&(i=0),this.valueDiv.removeClass(this.toThemeProperty("jqx-progressbar-value-vertical jqx-progressbar-value")),"horizontal"==this.orientation?(this.valueDiv.width(0),this.valueDiv[0].style.height="100%",this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value"))):(this.valueDiv[0].style.width="100%",this.valueDiv.height(0),this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value-vertical")));var a=this;try{var l=this.element.children[0];if(m(l)[0].style.position="relative","horizontal"==this.orientation){m(l).toggle(t>=this.min);n=this.host.outerWidth()*i/100;var d=0;("reverse"==this.layout||this.rtl)&&(this._initialRender&&(m(l)[0].style.left=this.host.width()+"px",m(l)[0].style.width=0),d=this.host.outerWidth()-n),m(l).stop(),m(l).animate({width:n,left:d+"px"},this.animationDuration,function(){a._value()===a.max&&a._raiseevent(2,s,a.max)})}else{m(l).toggle(t>=this.min);r=this.host.height()*i/100;var h=0;"reverse"==this.layout&&(this._initialRender&&(m(l)[0].style.top=this.host.height()+"px",m(l)[0].style.height=0),h=this.host.height()-r),m(l).stop(),m(l).animate({height:r,top:h+"px"},this.animationDuration,function(){var e=a._percentage();isNaN(e)&&(e=0),e.toFixed(0)==a.min&&(m(l).hide(),a._value()===a.max&&a._raiseevent(2,s,a.max))})}}catch(e){}this._initialRender=!1,this.feedbackElement.html(i.toFixed(0)+"%").toggle(1==this.showText),this.renderText&&this.feedbackElement.html(this.renderText(i.toFixed(0)+"%",i)),this.feedbackElement.css("position","absolute"),this.feedbackElement.css("top","50%"),this.feedbackElement.css("left","0"),0<this.colorRanges.length&&this.feedbackElement.css("z-index",this.colorRanges.length+1);var c=this.feedbackElement.height(),u=this.feedbackElement.width(),p=Math.floor(o-parseInt(u)/2);this.feedbackElement.css({left:p,"margin-top":-parseInt(c)/2+"px"})}}}})}(jqxBaseFramework),function(h){h.jqx.jqxWidget("jqxRadioButton","",{}),h.extend(h.jqx._jqxRadioButton.prototype,{defineInstance:function(){var e={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"15px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",rtl:!1,changeType:null,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};return this===h.jqx._jqxRadioButton.prototype||h.extend(!0,this,e),e},createInstance:function(e){this._createFromInput("RadioButton"),this.render()},_createFromInput:function(e){var t=this;if("input"==t.element.nodeName.toLowerCase()){t.field=t.element,t.field.className&&(t._className=t.field.className);var i={title:t.field.title};t.field.value&&(i.value=t.field.value),t.field.checked&&(i.checked=!0),t.field.id.length?i.id=t.field.id.replace(/[^\w]/g,"_")+"_"+e:i.id=h.jqx.utilities.createId()+"_"+e;var s=t.element.nextSibling,r=!1;!s||"#text"!=s.nodeName&&"span"!=s.nodeName||(r=!0);var n=0,o=h("<div></div>",i);if(r){o.append(s);var a=h("<span>"+h(s).text()+"</span>");a.appendTo(h(document.body)),n+=a.width(),a.remove()}o[0].style.cssText=t.field.style.cssText,t.width||(t.width=h(t.field).width()+n+10),t.height||(t.height=h(t.field).outerHeight()+10),h(t.field).hide().after(o);var l=t.host.data();if(t.host=o,t.host.data(l),t.element=o[0],t.element.id=t.field.id,t.field.id=i.id,t._className&&(t.host.addClass(t._className),h(t.field).removeClass(t._className)),t.field.tabIndex){var d=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=d}}},render:function(){this.setSize();var r=this;this.propertyChangeMap.width=function(e,t,i,s){r.setSize()},this.propertyChangeMap.height=function(e,t,i,s){r.setSize()},this.radiobutton&&this.radiobutton.remove(),this.width||this.host.css("overflow-x","visible"),this.height||this.host.css("overflow-y","visible"),null==this.boxSize&&(this.boxSize=15);var e=parseInt(this.boxSize)+"px",t=Math.floor((parseInt(this.boxSize)-15)/2),i=t;t+="px",i+="px";var s=parseInt(this.boxSize)/2+"px";"15px"!=this.boxSize?this.radiobutton=h('<div><div style="width: '+e+"; height: "+e+';"><span style="position: relative; left: '+t+"; top: "+i+'; width: 15px; height: 15px;"></span></div></div>'):this.radiobutton=h('<div><div style="width: '+e+"; height: "+e+';"><span style="width: '+s+"; height: "+s+';"></span></div></div>'),this.host.attr("role","radio"),this.host.prepend(this.radiobutton),this.disabledContainer||(this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.clear=h('<div style="clear: both;"></div>'),this.host.append(this.clear)),this.checkMark=h(this.radiobutton[0].firstChild.firstChild),this.box=this.radiobutton,this._supportsRC=!0,h.jqx.browser.msie&&h.jqx.browser.version<9&&(this._supportsRC=!1),this.box.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.box.addClass(this.toThemeProperty("jqx-radiobutton-default")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.disabled&&this.disable(),this.host.addClass(this.toThemeProperty("jqx-radiobutton")),this.locked&&this.host.css("cursor","auto");var n=this.element.getAttribute("checked");"checked"!=n&&"true"!=n&&1!=n||(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),h.jqx.aria(this),this._centerBox()},_centerBox:function(){if(this.height&&-1==this.height.toString().indexOf("%")&&this.box){var e=parseInt(this.height);this.host.css("line-height",e+"px");var t=e-parseInt(this.boxSize)-1;t/=2,this.box.css("margin-top",parseInt(t))}},_addInput:function(){var e=this.host.attr("name");this.input=h("<input type='hidden'/>"),this.host.append(this.input),e&&this.input.attr("name",e)},refresh:function(e){e||(this.setSize(),this._render())},resize:function(e,t){this.width=e,this.height=t,this.setSize()},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.element.style.width=this.width):this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.element.style.height=this.height):this.host.height(this.height),this._centerBox()},_addHandlers:function(){var t=this;this.addHandler(this.box,"click",function(e){if(!t.disabled&&!t.enableContainerClick)return t.changeType="mouse",t.toggle("click"),e.preventDefault(),!1}),this.addHandler(this.host,"keydown",function(e){if(!t.disabled&&!t.locked&&32==e.keyCode)return t.changeType="keyboard",t.toggle("click"),e.preventDefault(),!1}),this.addHandler(this.host,"click",function(e){if(!t.disabled&&t.enableContainerClick)return t.changeType="mouse",t.toggle("click"),e.preventDefault(),!1}),this.addHandler(this.host,"selectstart",function(e){!t.disabled&&t.enableContainerClick&&e.preventDefault()}),this.addHandler(this.host,"mouseup",function(e){!t.disabled&&t.enableContainerClick&&e.preventDefault()}),this.addHandler(this.host,"focus",function(e){if(!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.addClass(t.toThemeProperty("jqx-radiobutton-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-focus")),e.preventDefault(),!1}),this.addHandler(this.host,"blur",function(e){if(!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.removeClass(t.toThemeProperty("jqx-radiobutton-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-focus")),e.preventDefault(),!1}),this.addHandler(this.host,"mouseenter",function(e){if(!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.addClass(t.toThemeProperty("jqx-radiobutton-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault(),!1}),this.addHandler(this.host,"mouseleave",function(e){if(!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.removeClass(t.toThemeProperty("jqx-radiobutton-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault(),!1}),this.addHandler(this.box,"mouseenter",function(){t.disabled||t.enableContainerClick||(t.box.addClass(t.toThemeProperty("jqx-radiobutton-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){t.disabled||t.enableContainerClick||(t.box.removeClass(t.toThemeProperty("jqx-radiobutton-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")))})},focus:function(){try{this.host.focus()}catch(e){}},_removeHandlers:function(){this.removeHandler(this.box,"click"),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave"),this.removeHandler(this.host,"click"),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"mousedown"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur")},_render:function(){null==this.boxSize&&(this.boxSize=13),this.box.width(this.boxSize),this.box.height(this.boxSize),this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-radiobutton-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates()},val:function(e){return 0==arguments.length||"object"==typeof e||("string"==typeof e?("true"==e&&this.check("api"),"false"==e&&this.uncheck("api"),""==e&&this.indeterminate("api")):(1==e&&this.check("api"),0==e&&this.uncheck("api"),null==e&&this.indeterminate("api"))),this.checked},check:function(e){this.checked=!0;var t=this;this.checkMark.removeClass(),this.checkMark.addClass(this.toThemeProperty("jqx-fill-state-pressed")),h.jqx.browser.msie?(this.disabled&&this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")),this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked"))):(this.disabled&&this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")),this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){}));var i=h.find(".jqx-radiobutton");null==this.groupName&&(this.groupName=""),h.each(i,function(){h(this).jqxRadioButton("groupName")==t.groupName&&this!=t.element&&h(this).jqxRadioButton("uncheck","api")});var s=this.changeType;if(this._raiseEvent("0"),this.changeType=s,this._raiseEvent("3",{type:e,checked:!0}),0==this.checkMark.height()){var r=parseInt(this.boxSize)/2;this.checkMark.height(r),this.checkMark.width(r)}else if("13px"!=this.boxSize){r=parseInt(this.boxSize)/2;this.checkMark.height(r),this.checkMark.width(r),this.checkMark.css("margin-left",1+r/4),this.checkMark.css("margin-top",1+r/4)}this.input.val(this.checked),h.jqx.aria(this,"aria-checked",this.checked)},uncheck:function(e){var t=this.checked;this.checked=!1;var i=this;if(h.jqx.browser.msie?i.checkMark.removeClass():(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){i.checkMark.removeClass()})),t){var s=this.changeType;this._raiseEvent("1"),this.changeType=s,this._raiseEvent("3",{type:e,checked:!1})}this.input.val(this.checked),h.jqx.aria(this,"aria-checked",this.checked)},indeterminate:function(e){var t=this.checked;if(this.checked=null,this.checkMark.removeClass(),h.jqx.browser.msie?this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),null!=t){var i=this.changeType;this._raiseEvent("2"),this.changeType=i,this._raiseEvent("3",{type:e,checked:null})}this.input.val(this.checked),h.jqx.aria(this,"aria-checked","undefined")},toggle:function(e){if(!this.disabled&&!this.locked){var t=this.checked;1==this.checked?this.checked=!this.hasTreeStates||null:this.checked=!0,t!=this.checked&&this.updateStates(e),this.input.val(this.checked)}},updateStates:function(e){this.checked?this.check(e):0==this.checked?this.uncheck(e):null==this.checked&&this.indeterminate(e)},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-radiobutton-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),h.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-radiobutton-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-radiobutton-disabled")),this.disabled=!1,h.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this._removeHandlers(),this.host.remove()},_raiseEvent:function(e,t){var i=this.events[e],s=new h.Event(i);s.owner=this,t||(t={}),t.type=this.changeType,this.changeType=null,s.args=t;try{var r=this.host.trigger(s)}catch(e){}return r},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.setSize()},propertyChangedHandler:function(e,t,i,s){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){if(t!=this.enableContainerClick||this.disabled||this.locked||(s?this.host.css("cursor","pointer"):this.host.css("cursor","auto")),"rtl"==t&&(s?(e.box.addClass(e.toThemeProperty("jqx-radiobutton-rtl")),e.host.addClass(e.toThemeProperty("jqx-rtl"))):(e.box.removeClass(e.toThemeProperty("jqx-radiobutton-rtl")),e.host.removeClass(e.toThemeProperty("jqx-rtl")))),"boxSize"==t&&e.render(),"checked"==t)switch(s){case!0:this.check("api");break;case!1:this.uncheck("api");break;case null:this.indeterminate()}"theme"==t&&h.jqx.utilities.setTheme(i,s,this.host),"disabled"==t&&(s?this.disable():this.enable())}}})}(jqxBaseFramework),function(S){S.jqx.jqxWidget("jqxRangeSelector","",{}),S.extend(S.jqx._jqxRangeSelector.prototype,{defineInstance:function(){var e={width:400,height:100,min:0,max:100,range:{from:0,to:1/0,min:0,max:1/0},majorTicksInterval:10,minorTicksInterval:1,showMajorTicks:!0,showMinorTicks:!1,snapToTicks:!0,labelsFormat:null,markersFormat:null,showLabels:!0,labelsOnTicks:!0,markersPosition:"top",labelsFormatFunction:null,groupLabelsFormatFunction:null,markersFormatFunction:null,showGroupLabels:!1,showMarkers:!0,resizable:!0,moveOnClick:!0,disabled:!1,rtl:!1,padding:"auto",events:["change"]};return this===S.jqx._jqxRangeSelector.prototype||S.extend(!0,this,e),e},createInstance:function(e){var i=this;if(this._isTouchDevice=S.jqx.mobile.isTouchDevice(),!S.jqx.dataAdapter)throw new Error("jqxRangeSelector: Missing reference to the following module: 'jqxdata.js'.");var s=S.jqx.isHidden(this.host);this.render();var r=this.host.width(),n=this.host.height();S.jqx.utilities.resize(this.host,function(){var e=i.host.width(),t=i.host.height();i.range=i.getRange(),s?(i.refresh(),s=!1):r==e&&n==t||i.refresh(),r=i.host.width(),n=i.host.height()})},render:function(){(1<this.host.children().length||this.rangeSelector)&&(this._removeHandlers(),this.rangeSelector&&this.rangeSelector.remove()),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-rangeselector")),this.host.children(":eq(0)").addClass(this.toThemeProperty("jqx-rangeselector-content")),this._id=this.element.id,"string"==typeof this.min||this.min instanceof Date?this._dataType="date":this._dataType="number",this._privateProperties(),this._checkProperties(),this._setSize(),this._scale(),this._initSlider()},refresh:function(e){1!=e&&(this.host.children(".jqx-rangeselector-ticks-container").remove(),this._removeHandlers(),this._privateProperties(),this._checkProperties(),this._setSize(),this._scale(),this._initSlider())},destroy:function(){this._removeHandlers(),this.host.remove()},setRange:function(e,t){if(t<e)throw new Error("jqxRangeSelector: range object initialization error. 'min' should be less than 'max'");var i=this._getValue();if(i.from!=e||i.to!=t){var s="The set values are in the wrong format. Please set "+("number"==this._dataType?"numeric":"date")+" values.";if("string"==typeof e||e instanceof Date){if("number"==this._dataType)throw new Error(s)}else if("date"==this._dataType)throw new Error(s);e=this._validateInput(e),t=this._validateInput(t),e>this._max&&(e=this._max),e<this._min&&(e=this._min),t>this._max&&(t=this._max),t<this._min&&(t=this._min);var r=t-e;r>this._range._max?t=e+this._range._max:r<this._range._min&&(t=e+this._range._min);var n=this._valuesArray.indexOf(e),o=this._valuesArray.indexOf(t),a=this._ticksArray[n],l=this._ticksArray[o],d=Math.abs(l-a);this.slider[0].style.width=d+"px";var h=this.rtl?l:a;if(this.slider[0].style.left=h,this._moveSlider(h),"date"==this._dataType)e=new Date(e),t=new Date(t);this._raiseEvent("0",{type:null,from:e,to:t})}},val:function(e){if(0==arguments.length)return this.getRange();null!=e.from&&this.setRange(e.from,e.to)},getRange:function(){return this._getValue()},propertyChangedHandler:function(e,t,i,s){switch(t){case"showMinorTicks":1==s?S("#"+this._id+" .jqx-rangeselector-ticks-minor").css("visibility","visible"):S("#"+this._id+" .jqx-rangeselector-ticks-minor").css("visibility","hidden");break;case"showMarkers":var r=S("#"+this._id+"LeftMarker, #"+this._id+"RightMarker, #"+this._id+"LeftMarkerArrow, #"+this._id+"RightMarkerArrow");1==s?r.css("visibility","visible"):r.css("visibility","hidden");break;default:this.refresh()}},_raiseEvent:function(e,t){var i=this.events[e],s=new S.Event(i);s.owner=this,s.args=t;try{var r=this.host.trigger(s)}catch(e){}return r},_setSize:function(){this.host.width(this.width),this.host.height(this.height)},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_scale:function(){var e=this.host.width(),t=this._max-this._min;this._unitPerPixel=parseFloat((t/e).toFixed(4)),this._pixelPerUnit=e/t,this._minWidth=this._roundNumber(this._range._min/this._unitPerPixel),this._maxWidth=this._roundNumber(this._range._max/this._unitPerPixel),this._minWidth=parseInt(this._minWidth),this._maxWidth=parseInt(this._maxWidth),"number"==this._dataType&&(this._majorTicksCount=t/this.majorTicksInterval,this._majorTicksCount=Math.floor(this._majorTicksCount)+1,this._majorTicksDistance=parseInt(this._roundNumber(e/(t/this.majorTicksInterval))),this._unitsCount=t/this.minorTicksInterval,this._unitsCount=Math.floor(this._unitsCount)+1,this._unitsDistance=parseInt(this._roundNumber(e/(t/this.minorTicksInterval)))),this._addTicks()},_addTicks:function(){this.host.append("<div id='"+this._id+"TicksContainer' class='jqx-rangeselector-ticks-container'></div>"),this.rangeSelector=S("#"+this._id+"TicksContainer"),this._majorTicksArray=new Array,this._ticksArray=new Array,this._valuesArray=new Array;var e=new String;S("#"+this._id+"TicksContainer").append("<div id='labelPlaceholder' style='visibility: hidden; position: absolute;'></div>");var t=this.rangeSelector.height();e="number"==this._dataType?this._addNumericTicks(t):this._addDateTicks(t);var i=0;this.showLabels&&(i+=S("#labelPlaceholder").outerHeight()+6),"number"!=this._dataType&&this.showGroupLabels&&(i+=S("#labelPlaceholder").outerHeight()+6),"auto"==this.padding&&this.host.css("padding-bottom",i),S("#labelPlaceholder").remove(),S("#"+this._id+"TicksContainer").append(e),this._ticksArray.sort(function(e,t){return e-t});for(var s=1;s<this._ticksArray.length;s++)this._ticksArray[s]=this._roundNumber(this._ticksArray[s]);if(this._valuesArray.sort(function(e,t){return e-t}),"number"==this._dataType)for(s=1;s<this._valuesArray.length;s++)this._valuesArray[s]=this._roundNumber(this._valuesArray[s],"marker",!0);for(s=1;s<this._ticksArray.length;s++)this._ticksArray[s-1]==this._ticksArray[s]&&(this._ticksArray.splice(s,1),this._valuesArray.splice(s,1));this.rtl&&(this._valuesArray=this._valuesArray.reverse())},_addNumericTicks:function(e){for(var t=new String,i=0,s=this._min,r=this._max,n=0;n<this._majorTicksCount;n++){var o=this._id+"LabelTick"+(n+1);n==this._majorTicksCount-1&&(i=this.host.width());var a=this.showMajorTicks?"visible":"hidden";t+="<div id='"+o+"' class='"+this.toThemeProperty("jqx-rangeselector-ticks")+" "+this.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+a+"; left: "+i+"px;'></div>",this._ticksArray.push(i),this._majorTicksArray.push(i);var l=this._id+"Label"+(n+1),d=s;this._valuesArray.push(parseFloat(d.toFixed(4))),this.rtl&&(d=r),d=this._formatOutput(d,this.labelsFormat,1<=this.minorTicksInterval?0:2,"label"),S("#labelPlaceholder").html(d);var h=S("#labelPlaceholder").width(),c=this.showLabels?"visible":"hidden";this.labelsOnTicks&&(t+="<div id='"+l+"' class='"+this.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+c+"; left: "+(i-h/2)+"px; top: "+e+"px;'>"+d+"</div>");var u=i;s+=this.majorTicksInterval,r-=this.majorTicksInterval;i=(s-this._min)/this._unitPerPixel;if(i=parseInt(i),!this.labelsOnTicks&&n<this._majorTicksCount-1){var p=Math.abs(u-i);t+="<div id='"+l+"' class='"+this.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+c+"; left: "+(u+p/2-h/2)+"px; top: "+e+"px;'>"+d+"</div>"}}i=0;var m=this.showMinorTicks?"visible":"hidden";for(s=this._min,n=0;n<this._unitsCount;n++){o=this._id+"MinorTick"+(n+1);n==this._unitsCount-1&&(i=this.host.width()),t+="<div id='"+o+"' class='"+this.toThemeProperty("jqx-rangeselector-ticks")+" "+this.toThemeProperty("jqx-rangeselector-ticks-minor")+" "+this.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+m+"; left: "+i+"px;'></div>";var f=s;-1===this._valuesArray.indexOf(parseFloat(f.toFixed(4)))&&(this._valuesArray.push(parseFloat(f.toFixed(4))),this._ticksArray.push(i));i=((s+=this.minorTicksInterval)-this._min)/this._unitPerPixel;i=parseInt(i)}return t},_getMillisecondsByInterval:function(e){var t={};return"year"==e||e.years?(t.divisor=e.years?e.years:1,31536e6*t.divisor):"month"==e||e.months?(t.divisor=e.months?e.months:1,2592e6*t.divisor):"week"==e||e.weeks?(t.divisor=e.weeks?e.weeks:1,6048e5*t.divisor):"day"==e||e.days?(t.divisor=e.days?e.days:1,864e5*t.divisor):"hour"==e||e.hours?(t.divisor=e.hours?e.hours:1,36e5*t.divisor):"minute"==e||e.minutes?(t.divisor=e.minutes?e.minutes:1,60*t.divisor*1e3):"second"==e||e.seconds?(t.divisor=e.seconds?e.seconds:1,1e3*t.divisor):"millisecond"==e||e.milliseconds?(t.divisor=e.milliseconds?e.milliseconds:1,1*t.divisor):t},_addDateTicks:function(p){var _=this,m=new String,e=function(e){var t="majorTicksInterval"==e?_.majorTicksInterval:_.minorTicksInterval,i=new Object;return"year"==t||t.years?(i.period="year",i.interval=864e5,i.divisor=t.years?t.years:1,i.value=31536e6*i.divisor):"month"==t||t.months?(i.period="month",i.interval=864e5,i.divisor=t.months?t.months:1,i.value=2592e6*i.divisor):"week"==t||t.weeks?(i.period="week",i.interval=864e5,i.divisor=t.weeks?t.weeks:1,i.value=6048e5*i.divisor):"day"==t||t.days?(i.period="day",i.interval=36e5,i.divisor=t.days?t.days:1,i.value=864e5*i.divisor):"hour"==t||t.hours?(i.period="hour",i.interval=6e4,i.divisor=t.hours?t.hours:1,i.value=36e5*i.divisor):"minute"==t||t.minutes?(i.period="minute",i.interval=6e4,i.divisor=t.minutes?t.minutes:1,i.value=60*i.divisor*1e3):"second"==t||t.seconds?(i.period="second",i.interval=1e3,i.divisor=t.seconds?t.seconds:1,i.value=1e3*i.divisor):("millisecond"==t||t.milliseconds)&&(i.period="millisecond",i.interval=1,i.divisor=t.milliseconds?t.milliseconds:1,i.value=1*i.divisor),i},j=function(e,t,i){var s=(e-_._min)/_._unitPerPixel;_.rtl&&(e="majorTicksInterval"==t?_._dateMajorTicks[_._dateMajorTicks.length-i]:_._dateMinorTicks[_._dateMinorTicks.length-i]),s=parseInt(s);var r=e;if(-1===_._valuesArray.indexOf(r)&&(_._ticksArray.push(s),_._valuesArray.push(r),"majorTicksInterval"==t&&_._majorTicksArray.push(s)),"majorTicksInterval"==t){var n=_._id+"LabelTick"+i,o=_.showMajorTicks?"visible":"hidden";m+="<div id='"+n+"' class='"+_.toThemeProperty("jqx-rangeselector-ticks")+" "+_.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+o+"; left: "+s+"px;'></div>";var a=r;a=_._formatOutput(a,_.labelsFormat,_.labelPrecision,"label"),S("#labelPlaceholder").html(a);var l=S("#labelPlaceholder").width(),d=_._id+"Label"+i,h=_.showLabels?"visible":"hidden";if(_.labelsOnTicks)_.labelsOnTicks&&(m+="<div id='"+d+"' class='"+_.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+h+"; left: "+(s-l/2)+"px; top: "+p+"px;'>"+a+"</div>");else{var c=_._getMillisecondsByInterval(_.majorTicksInterval)/_._unitPerPixel/2;m+="<div id='"+d+"' class='"+_.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+h+"; left: "+(c+s-l/2)+"px; top: "+p+"px;'>"+a+"</div>"}}else{o=_.showMinorTicks?"visible":"hidden";var u=_._id+"MinorTick"+i;m+="<div id='"+u+"' class='"+_.toThemeProperty("jqx-rangeselector-ticks")+" "+_.toThemeProperty("jqx-rangeselector-ticks-minor")+" "+_.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+o+"; left: "+s+"px;'></div>"}},t=function(e,t,i){for(var s,r,n,o,a,l,d,h,c,u,p,m=0,f=1,g=new Date(_._min).getHours(),v=864e5==t.interval,x=new Array,w=_._min;w<=_._max;w+=t.interval){if(1==v){var y,b=new Date(w).getHours();if(g!=b)1==b?y=1:23==b&&(y=-1),w-=36e5*y,g=new Date(w).getHours()}1==(s=w,r=t.period,n=void 0,n=new Date(s),o=n.getDate(),a="year"==r&&0==n.getMonth()&&1==o,l="month"==r&&1==o,d="week"==r&&0==n.getDay(),h="day"==r&&0==n.getHours(),c="hour"==r&&0==n.getMinutes(),u="minute"==r&&0==n.getSeconds(),p="minute"==r&&0==n.getMilliseconds(),!!(a||l||d||h||c||u||p||"millisecond"==r))&&(m%t.divisor==0&&(i?x.push(w):j(w,e,f,t.interval),f++),m++)}return x};return _._dateMajorTicks=t("majorTicksInterval",e("majorTicksInterval"),!0),_._dateMinorTicks=t("minorTicksInterval",e("minorTicksInterval"),!0),t("majorTicksInterval",e("majorTicksInterval")),t("minorTicksInterval",e("minorTicksInterval")),1==this.showGroupLabels&&this.showLabels&&this._addGroupLabels(S("#labelPlaceholder").height()+p),m},_addGroupLabels:function(e){var t=this,i=new Date(this._min),s=new Date(this._max);if(0<s.getFullYear()-i.getFullYear())var r="year",n=864e5;else if(0<s.getMonth()-i.getMonth())r="month",n=864e5;else{if(!(0<s.getDate()-i.getDate()))return;r="day",n=36e5}for(var o,a,l,d,h,c,u=new String,p=this.toThemeProperty("jqx-rangeselector-group-labels-ticks")+" "+this.toThemeProperty("jqx-slider-tick-horizontal"),m=1,f=this._min;f<this._max;f+=n){var g=(c=a=o=void 0,a=new Date(f),l=a.getFullYear(),d=a.getMonth(),h=a.getDate(),c=!0,"year"==r&&0==d&&1==h?o=l:"month"==r&&1==h?(o=S.jqx.dataFormat.formatdate(a,"MMMM"),0==d&&(o=l+" "+o)):"day"==r&&0==a.getHours()?o=S.jqx.dataFormat.formatdate(a,"dddd"):c=!1,{check:c,value:1==c&&t.groupLabelsFormatFunction?t.groupLabelsFormatFunction(o,a):o});if(1==g.check){var v=(f-this._min)/this._unitPerPixel;u+="<div class='"+this.toThemeProperty("jqx-rangeselector-labels")+"' style='left: "+v+"px; top: "+e+"px;'><div class='"+p+"'></div><div id='"+this._id+"GroupLabel"+m+"' class='"+this.toThemeProperty("jqx-rangeselector-group-labels")+"' style='margin-left: 5px;'>"+g.value+"</div></div>",m++}}S("#"+this._id+"TicksContainer").append(u)},_updateCursor:function(e,t){var i=this.element.style.cursor,s=this.slider.offset().left,r=s+parseInt(this.slider[0].style.width);s-5<e&&e<s+5||r-5<e&&e<r+5?""!=i&&"auto"!=i||(this.element.style.cursor="e-resize"):"e-resize"==i&&(this.element.style.cursor="auto")},_handleMouseMove:function(e){var t=this,i=t.slider,s=e.pageX,r=e.pageY;if(t._isTouchDevice){var n=S.jqx.position(e);s=n.left,r=n.top}var o=t._hostOffset.left,a=t._hostWidth;if(t.resizable&&!t.dragging&&"none"==t.resizeDirection&&o<=s&&s<=o+a&&r>=t._hostOffset.top&&r<=t._hostOffset.top+t._hostHeight&&this._updateCursor(s,r),!t.isMouseDown)return!0;if(t._isTouchDevice&&(r<t._hostOffset.top||r>t._hostOffset.top+t._hostHeight))return!0;var l=t._findNearestTick(t._sliderLeftOffset+s-t._mouseDownX),d=parseInt(l);if(d<0)return!0;d<0&&(d=0);var h,c,u=parseInt(i[0].style.width);if(1==t.resizable&&!t.dragging){var p=d*t._unitPerPixel+t._min;if("left"==t.resizeDirection||t.isLeftMarkerCaptured){s<o-(w=t.isLeftMarkerCaptured?t.leftMarker.outerWidth():0)&&(s=o-w),o+a+w<s&&(s=o+a+w+1);var m=i[0].style.left,f=d-parseInt(m),g=parseInt(u-f);if(h=g,c=parseInt(t._maxWidth),h<parseInt(t._minWidth)||c<h||parseInt(t.rightMarker[0].style.left)<parseInt(t.leftMarker[0].style.left))if(s>t._mouseDownX){if(s=t.sliderRight-t._minWidth-o,u==(g=t._minWidth))return!0;if((d=l=t._findNearestTick(s))<0)return!0;parseInt(m),t._unitPerPixel,t._min,p=d*t._unitPerPixel+t._min}else{if(!(0!=t._maxWidth&&s<t._mouseDownX&&g>t._maxWidth))return!0;if(s=t.sliderRight-t._maxWidth-o,u==(g=t._maxWidth))return!0;if((d=l=t._findNearestTick(s))<0)return!0;parseInt(m),t._unitPerPixel,t._min,p=d*t._unitPerPixel+t._min}t.slider[0].style.left=d+"px",m!=i[0].style.left&&(t.slider[0].style.width=g+"px");var v=t._findNearestTick(d),x=t._valuesArray[t._ticksArray.indexOf(v)];null!=x?(t.leftMarkerValue[0].innerHTML=t._formatOutput(x,t.markersFormat,0,"left"),d!=v&&(t.slider[0].style.left=v+"px")):t.leftMarkerValue[0].innerHTML=t._formatOutput(p,t.markersFormat,0,"left"),t.oldX=s,t.moved=!0}else if("right"==t.resizeDirection||t.isRightMarkerCaptured){var w,y=!1;s<o-(w=t.isRightMarkerCaptured?t.rightMarker.outerWidth():0)&&(s=o-w,!0),o+a+w<s&&(s=o+a+w,y=!0);var b=t._sliderInitialWidth,_=t._findNearestTick(b+t._sliderLeftOffset),j=t._findNearestTick(b+s-t._mouseDownX+t._sliderLeftOffset);if(j<0)return!0;(g=b-(f=_-j))<=0&&(f=b,g=0);var q=parseInt(t.element.style.width);0<=t.element.style.width.indexOf("%")&&(q=t.host.width()),(y||t._sliderLeftOffset+g>=q)&&(g=q-t._sliderLeftOffset,boundDetected=!0),g>parseInt(this._maxWidth)&&(g=parseInt(this._maxWidth)),g<parseInt(this._minWidth)&&(g=parseInt(this._minWidth)),t.slider[0].style.width=g+"px";p=(t._sliderLeftOffset+g)*t._unitPerPixel+t._min;var T=t._findNearestTick(t._sliderLeftOffset+g),C=t._valuesArray[t._ticksArray.indexOf(T)];null!=C?(t._sliderLeftOffset+g!=T&&(t.slider[0].style.width=T-t._sliderLeftOffset+"px"),t.rightMarkerValue[0].innerHTML=t._formatOutput(C,t.markersFormat,0,"right")):t.rightMarkerValue[0].innerHTML=t._formatOutput(p,t.markersFormat,0,"right"),t.oldX=s}t._layoutShutter(),t._layoutMarkers(),t.moved=!0}1==t.dragging&&(t._moveSlider(d,!0),t.oldX=s)},_moveSlider:function(e,t){this.moved=!0;var i=parseInt(this.slider[0].style.width),s=parseInt(e+i),r=this._hostWidth,n=e;if(n<0&&(e=n=0),r<n+i&&(e=n=r-i),0<=n&&n+i<=r){this.slider[0].style.left=n+"px";var o=this._findNearestTick(n),a=-1!=this._majorTicksArray.indexOf(o),l=this._valuesArray[this._ticksArray.indexOf(o)];if(null!=l){if(this.leftMarkerValue[0].innerHTML=this._formatOutput(l,this.markersFormat,0,"left"),e!=o&&a&&t){this.slider[0].style.left=o+"px";s=parseInt(o+i)}}else this.leftMarkerValue[0].innerHTML=this._formatOutput(n*this._unitPerPixel+this._min,this.markersFormat,0,"left");var d=this._findNearestTick(s),h=this._valuesArray[this._ticksArray.indexOf(d)];if(null!=h){var c=-1!=this._majorTicksArray.indexOf(d);if(this.rightMarkerValue[0].innerHTML=this._formatOutput(h,this.markersFormat,0,"right"),s!=d&&c&&a&&t){var u=d-o;this.slider[0].style.width=u+"px"}}else this.rightMarkerValue[0].innerHTML=this._formatOutput((n+i)*this._unitPerPixel+this._min,this.markersFormat,0,"right")}this._layoutShutter(),this._layoutMarkers()},_initSlider:function(){var l=this,e=this.toThemeProperty("jqx-rangeselector-shutter")+" "+this.toThemeProperty("jqx-scrollbar-state-normal");S("#"+this._id+"TicksContainer").append("<div id='"+this._id+"ShutterLeft' class='"+e+"'></div><div id='"+this._id+"Slider' class='"+this.toThemeProperty("jqx-rangeselector-slider")+" "+this.toThemeProperty("jqx-scrollbar-thumb-state-normal")+"'><div class='"+this.toThemeProperty("jqx-rangeselector-inner-slider")+"'></div></div><div id='"+this._id+"ShutterRight' class='"+e+"'></div>"),this.slider=S("#"+this._id+"Slider"),this.shutterLeft=S("#"+this._id+"ShutterLeft"),this.shutterRight=S("#"+this._id+"ShutterRight"),this._hostOffset=this.rangeSelector.offset(),this._hostWidth=this.rangeSelector.width(),this._hostHeight=this.rangeSelector.height();var t=this._hostOffset,i=this._initRange(),s=i.left,r=(i.right-s)/this._unitPerPixel;this.slider[0].style.width=Math.round(r)+"px";var n=t.left+parseInt((s-this._min)/this._unitPerPixel);if(this.slider.offset({left:n}),this._layoutShutter(),this._initMarkers(),0==this.disabled){var d,h;this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.addHandler(this.host,"dragstart.rangeselector"+this._id,function(){return!1}),this.addHandler(S(window),"jqxReady.rangeselector",function(){return l._layoutMarkers(),!1}),this.isSliderCaptured=!1,this.resizeDirection="none",this.isLeftMarkerCaptured=!1,this.isRightMarkerCaptured=!1,this.dragging=!1,this._mouseDownX;var o="mousedown.rangeselector"+this.element.id;this._isTouchDevice&&(o=S.jqx.mobile.getTouchEventName("touchstart")+".rangeselector"+this.element.id),this.addHandler(this.host,o,function(e){l.isMouseDown=!0,l._hostOffset=l.rangeSelector.offset(),l._hostWidth=l.rangeSelector.width(),l._hostHeight=l.rangeSelector.height(),l._sliderLeftOffset=parseInt(l.slider[0].style.left);var t=e.pageX,i=e.pageY;if(l._isTouchDevice){var s=S.jqx.position(e);t=s.left,i=s.top}l._initialSliderOffset=t-l.slider.offset().left;var r=l.slider.width();l._sliderInitialWidth=r,d=l.slider.offset().left,h=l._sliderInitialWidth,l.initialOffset=d;var n=parseInt(d+h);if(l.oldX=t,l._mouseDownX=t,l.resizeDirection="none",l.sliderRight=n,d-5<t&&t<d+5&&l._heightCheck(i))l.isSliderCaptured=!1,l.dragging=!1,l.resizeDirection="left";else if(n-5<t&&t<n+5&&l._heightCheck(i))l.isSliderCaptured=!1,l.dragging=!1,l.resizeDirection="right";else if(d+5<=t&&t<=n+5&&l._heightCheck(i))l.isSliderCaptured=!0,l.dragging=!0;else if(l.isSliderCaptured=!1,l.dragging=!1,l.moveOnClick){if(l.isLeftMarkerCaptured||l.isRightMarkerCaptured)return!1;var o=l._sliderLeftOffset+l._initialSliderOffset;(o=l._findNearestTick(o))<0&&(o=0);var a=parseInt(l.slider[0].style.width);i>=l.slider.offset().top&&(n<t?l._moveSlider(o-a,!0):l._moveSlider(o,!0))}}),this.addHandler(l.leftMarker,o,function(e){if(l.leftMarkerAndArrow.addClass(l.toThemeProperty("jqx-fill-state-pressed")),l.oldLeftX=e.pageX,l._isTouchDevice){var t=S.jqx.position(e);oldLeftX=t.left}l._mouseDownX=l.oldLeftX,l.isLeftMarkerCaptured=!0}),this.addHandler(l.rightMarker,o,function(e){if(l.rightMarkerAndArrow.addClass(l.toThemeProperty("jqx-fill-state-pressed")),l.oldRightX=e.pageX,l._isTouchDevice){var t=S.jqx.position(e);oldRightX=t.left}l._mouseDownX=l.oldRightX,l.isRightMarkerCaptured=!0}),this.addHandler(S(document),"selectstart.rangeselector"+this._id,function(e){if(1==l.isSliderCaptured||1==l.isLeftMarkerCaptured||1==l.isRightMarkerCaptured||1==l.dragging)return e.preventDefault(),!1});var a="mousemove.rangeselector"+this.element.id;this._isTouchDevice&&(a=S.jqx.mobile.getTouchEventName("touchmove")+".rangeselector"+this.element.id),this.addHandler(S(document),a,function(e){l._handleMouseMove(e)});var c=function(e){try{var t=l.moved;if(l.moved=!1,l.isMouseDown=!1,l.dragging=!1,l.resizeDirection="none",1==l.isLeftMarkerCaptured&&(l.leftMarkerAndArrow.removeClass(l.toThemeProperty("jqx-fill-state-pressed")),l.isLeftMarkerCaptured=!1),1==l.isRightMarkerCaptured&&(l.rightMarkerAndArrow.removeClass(l.toThemeProperty("jqx-fill-state-pressed")),l.isRightMarkerCaptured=!1),t){var i=l._getValue();l._raiseEvent("0",{type:"mouse",from:i.from,to:i.to})}}catch(e){}};this.addHandler(S(document),"mouseup.rangeselector"+this._id,function(e){c()});try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var u=function(e){c()},p=null;window.parent&&document.referrer&&(p=document.referrer),p&&-1!=p.indexOf(document.location.host)&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",u,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",u))}}catch(e){}}else this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this._moveSlider(parseInt(l.slider[0].style.left)),this.moved=!1},_initMarkers:function(){var e=S("#"+this._id+"TicksContainer"),t=this.toThemeProperty("jqx-rangeselector-markers")+" "+this.toThemeProperty("jqx-disableselect")+" "+this.toThemeProperty("jqx-fill-state-normal");e.append("<div id='"+this._id+"LeftMarker' class='"+t+"'></div><div id='"+this._id+"RightMarker' class='"+t+"'></div>");var i=this.toThemeProperty("jqx-rangeselector-marker-arrow")+" "+this.toThemeProperty("jqx-fill-state-normal");"bottom"==this.markersPosition?i+=" "+this.toThemeProperty("jqx-rangeselector-marker-arrow-bottom"):i+=" "+this.toThemeProperty("jqx-rangeselector-marker-arrow-top"),e.append("<div id='"+this._id+"LeftMarkerArrow' class='"+i+" "+this.toThemeProperty("jqx-rangeselector-marker-left-arrow")+"'></div>"),e.append("<div id='"+this._id+"RightMarkerArrow' class='"+i+" "+this.toThemeProperty("jqx-rangeselector-marker-right-arrow")+"'></div>"),S("#"+this._id+"LeftMarker").append("<div id='"+this._id+"LeftMarkerValue' class='"+this.toThemeProperty("jqx-disableselect")+" "+this.toThemeProperty("jqx-rangeselector-markers-value")+"'></div>"),S("#"+this._id+"RightMarker").append("<div id='"+this._id+"RightMarkerValue' class='"+this.toThemeProperty("jqx-disableselect")+" "+this.toThemeProperty("jqx-rangeselector-markers-value")+"'></div>");var s=S("#"+this._id+"LeftMarker, #"+this._id+"RightMarker, #"+this._id+"LeftMarkerArrow, #"+this._id+"RightMarkerArrow"),r=S("#"+this._id+"LeftMarker, #"+this._id+"LeftMarkerArrow"),n=S("#"+this._id+"RightMarker, #"+this._id+"RightMarkerArrow");if(1==this.showMarkers?s.css("visibility","visible"):s.css("visibility","hidden"),0==this.disabled&&1==this.resizable){var o=this;this.addHandler(r,"mouseenter.rangeselector"+this._id,function(e){o.element.style.cursor="pointer",r.addClass(o.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(r,"mouseleave.rangeselector"+this._id,function(e){o.element.style.cursor="auto",r.removeClass(o.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(n,"mouseenter.rangeselector"+this._id,function(e){o.element.style.cursor="pointer",n.addClass(o.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(n,"mouseleave.rangeselector"+this._id,function(e){o.element.style.cursor="auto",n.removeClass(o.toThemeProperty("jqx-fill-state-hover"))})}this.leftMarkerAndArrow=r,this.rightMarkerAndArrow=n,this.leftMarkerArrow=S("#"+this._id+"LeftMarkerArrow"),this.rightMarkerArrow=S("#"+this._id+"RightMarkerArrow"),this.leftMarker=S("#"+this._id+"LeftMarker"),this.rightMarker=S("#"+this._id+"RightMarker"),this.leftMarkerValue=S("#"+this._id+"LeftMarkerValue"),this.rightMarkerValue=S("#"+this._id+"RightMarkerValue");var a=this._initRange();this._updateMarkersValues(a.left,a.right),this._layoutMarkers(),"auto"==this.padding?(this.host.css("padding-left",this.leftMarker[0].offsetWidth),this.host.css("padding-right",this.rightMarker[0].offsetWidth),this.host.css("padding-top",this._leftMarkerHeight+7)):this.host.css("padding",this.padding)},_layoutMarkers:function(){if(1==this.showMarkers){this._hostOffset||(this._hostOffset=this.rangeSelector.offset()),this._leftMarkerHeight||(this._leftMarkerHeight=this.leftMarker.outerHeight(),this._rightMarkerHeight=this.rightMarker.outerHeight());this._hostOffset.top;var e=parseInt(this.slider[0].style.left)+this._hostOffset.left,t=-5;"bottom"==this.markersPosition&&(t=parseInt(this.element.style.height)+4+this._rightMarkerHeight);var i=t-this._leftMarkerHeight,s=t-this._rightMarkerHeight;"bottom"==this.markersPosition&&(t=parseInt(this.element.style.height)-6);var r=this.leftMarker[0].offsetWidth,n=1+e-r-this._hostOffset.left;this.leftMarker[0].style.left=n+"px",this.leftMarker[0].style.top=i+"px",this.leftMarkerArrow[0].style.left=2+n+r+"px",this.leftMarkerArrow[0].style.top=6+t+"px";var o=e+parseInt(this.slider[0].style.width)-this._hostOffset.left;this.rightMarker[0].style.left=o+"px",this.rightMarker[0].style.top=s+"px",this.rightMarkerArrow[0].style.left=7+o+"px",this.rightMarkerArrow[0].style.top=6+t+"px"}},_updateMarkersValues:function(e,t){var i=e,s=t;this.leftMarkerValue[0].innerHTML=this._formatOutput(i,this.markersFormat,0,"left",!0),this.rightMarkerValue[0].innerHTML=this._formatOutput(s,this.markersFormat,0,"right",!0)},_removeHandlers:function(){var e=this.element.id,t=S("#"+e+"LeftMarker, #"+e+"LeftMarkerArrow"),i=S("#"+e+"RightMarker, #"+e+"RightMarkerArrow"),s="mousemove.rangeselector"+e,r="mousedown.rangeselector"+e;this._isTouchDevice&&(s=S.jqx.mobile.getTouchEventName("touchmove")+".rangeselector"+e,r=S.jqx.mobile.getTouchEventName("touchstart")+".rangeselector"+e),this.removeHandler(S(document),s),this.removeHandler(S(document),"mouseup.rangeselector"+e),this.removeHandler(this.host,r),this.removeHandler(this.host,"click.rangeselector"+e),this.removeHandler(this.host,"dragstart.rangeselector"+e),this.removeHandler(t,"mouseenter.rangeselector"+e),this.removeHandler(t,"mouseleave.rangeselector"+e),this.removeHandler(i,"mouseenter.rangeselector"+e),this.removeHandler(i,"mouseleave.rangeselector"+e),this.removeHandler(S("#"+e+"LeftMarker"),r),this.removeHandler(S("#"+e+"RightMarker"),r),this.removeHandler(S("#"+e+"LeftMarkerValue, #"+e+"RightMarkerValue"),"selectstart.rangeselector"+e)},_heightCheck:function(e){var t=this.slider,i=t.offset().top;return i<=e&&e<=i+t.height()},_checkProperties:function(){this._range._from<this._min?this._range._from=this._min:this._range._from>this._min&&this._range._from>this._max&&(this._range._from=this._min),this._range._to>this._max?this._range._to=this._max:this._range._to<this._min&&this._range._to<this._max&&(this._range._to=this._max);var e=this._max-this._min;this._range._min>e&&(this._range._min=e),this._range._max>e&&(this._range._max=e);var t=this._range._to-this._range._from;t<this._range._min?this._range._to=this._range._from+this._range._min:t>this._range._max&&(this._range._to=this._range._from+this._range._max)},_findNearestTick:function(e){for(var t=0,i=Math.abs(e-this._ticksArray[0]),s=1;s<this._ticksArray.length;s++){var r=Math.abs(e-this._ticksArray[s]);r<i&&(i=r,t=s)}return this._ticksArray[t]},_privateProperties:function(){this._min=this._validateInput(this.min),this._max=this._validateInput(this.max),this._range=new Object,this._range._from=this._validateInput(null!=this.range.from?this.range.from:0),this._range._to=this._validateInput(null!=this.range.to?this.range.to:1/0),this._range._min=this._minMaxDate(null!=this.range.min?this.range.min:0),this._range._max=this._minMaxDate(null!=this.range.max?this.range.max:1/0)},_validateInput:function(e){var t;return"number"==typeof e?t=e:"string"==typeof e?t=Date.parse(e):e instanceof Date&&(t=e.getTime()),t},_minMaxDate:function(e){if("number"!=typeof e){var t;switch(e){case"millisecond":t=1;break;case"second":t=1e3;break;case"minute":t=6e4;break;case"hour":t=36e5;break;case"day":t=864e5;break;case"week":t=6048e5;break;default:t=e.milliseconds?e.milliseconds:0+e.seconds?1e3*e.seconds:0+e.minutes?6e4*e.minutes:0+e.hours?36e5*e.hours:0+e.days?864e5*e.days:0+e.weeks?6048e5*e.weeks:0}return t}return e},_formatOutput:function(e,t,i,s,r){var n;if(this.values||(this.values=new Array),this.values[s]=e,"label"==s&&this.labelsFormatFunction)n="date"==this._dataType?this._roundDate(e):this._roundNumber(e,"label"),n=this.labelsFormatFunction(n);else if("label"!=s&&this.markersFormatFunction)"date"==this._dataType&&(n=this._roundDate(e)),n=this.markersFormatFunction(e,s);else if(t)"number"==this._dataType?n=S.jqx.dataFormat.formatnumber(e,t):(n=this._roundDate(e),n=S.jqx.dataFormat.formatdate(n,t));else{var o;if("date"==this._dataType)throw null==this.labelsFormat&&null==this.markersFormat?o="both labelsFormat and markersFormat":null==this.labelsFormat?o="labelsFormat":null==this.markersFormat&&(o="markersFormat"),new Error("When the data format is date, "+o+" should be set.");n=e.toFixed(i)}return n},_getValue:function(e){var t=this,i=t.minorTicksInterval;function s(e){return"number"===t._dataType?Math.round(e/i)*i:t._roundNumber(e,"marker")}var r=this.slider,n=r.width(),o=new Object,a=(r.offset().left-this.rangeSelector.offset().left)*this._unitPerPixel+this._min;if(o.from=s(a),o.to=s(a+n*this._unitPerPixel),!e&&1==this.snapToTicks){var l=this._findNearestTick((o.from-this._min)/this._unitPerPixel);o.from=this._valuesArray[this._ticksArray.indexOf(l)];var d=this._findNearestTick((o.to-this._min)/this._unitPerPixel);o.to=this._valuesArray[this._ticksArray.indexOf(d)]}return"date"==this._dataType&&(o.from=new Date(o.from),o.to=new Date(o.to)),o},_roundNumber:function(e,t,i){return"marker"==t&&1==i&&(e=parseFloat(e)),parseFloat(e)},_roundDate:function(e){"number"==typeof e&&(e=new Date(e));var t=this._max-this._min;if(12096e5<t){var i=e.getDate();12<e.getHours()&&(e.setDate(i+1),e.setHours(0),e.setMinutes(0),e.setSeconds(0))}else 1728e5<t&&(e.setHours(e.getHours()+Math.round(e.getMinutes()/60)),e.setMinutes(0),e.setSeconds(0));return e},_layoutShutter:function(){var e=parseInt(this.slider[0].style.left);this.shutterLeft[0].style.width=e+"px",this.shutterLeft[0].style.left="0px",S.jqx.browser.msie&&S.jqx.browser.version<9&&(this.shutterLeft[0].style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=75)",this.shutterRight[0].style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=75)");var t=1+e+parseInt(this.slider[0].style.width);this.shutterRight[0].style.left=t+"px";var i=parseInt(this.element.style.width);if(0<=this.element.style.width.indexOf("%"))i=parseInt(this.host.width());var s=i-1-e-parseInt(this.slider[0].style.width);s<0&&(s=0),this.shutterRight[0].style.width=1+s+"px",t+1+s<2+i&&(this.shutterRight[0].style.width=2+s+"px"),0==s&&(this.shutterRight[0].style.width="0px")},_initRange:function(){if(this._range._from>this._range._to)throw new Error("jqxRangeSelector: range object initialization error. 'min' should be less than 'max'");return{left:this._range._from,right:this._range._to}}})}(jqxBaseFramework),function(d){d.jqx.jqxWidget("jqxRating","",{}),d.extend(d.jqx._jqxRating.prototype,{defineInstance:function(){var e={count:5,disabled:!1,value:0,height:"auto",width:"auto",precision:1,singleVote:!1,itemHeight:"20",itemWidth:"20",_itemHeight:void 0,_itemWidth:void 0,_images:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},_events:["change"],_invalidArgumentExceptions:{invalidPrecision:"The value of the precision property is invalid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidCount:"You've entered invalid value for the count property!",invalidValue:"You've entered invalid value property!"}};return this===d.jqx._jqxRating.prototype||d.extend(!0,this,e),e},createInstance:function(e){d.jqx.aria(this),this._createRating()},destroy:function(){this.host.remove()},val:function(e){return 0==arguments.length||"object"==typeof e||(this.value="string"==typeof e?parseInt(e):e,this.setValue(this.value)),this.value},_createRating:function(){this.host.css("display","none"),this.host.empty(),this._addInput(),this._validateProperties(),this._render(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this.host.css("display","block"),this.host.addClass(this.toThemeProperty("jqx-widget")),this.disabled&&this.disable()},_addInput:function(){var e=this.host.attr("name");this.input=d("<input type='hidden'/>"),this.host.append(this.input),e&&this.input.attr("name",e),this.input.val(this.value.toString())},_render:function(){for(var e=1;e<=this.count;e++)this._images[e-1]=d('<div style="float:left;width:auto;height:auto; position: relative;"><div style="position:absolute;width:auto;height:auto;visibility:hidden;" class="jqx-rating-hoverWrapper"><div style="width:auto;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-hover")+'"></div><div style="visibility:hidden;width:auto;height:auto;" class="'+this.toThemeProperty("jqx-rating-image-backward")+'"></div></div><div style="position:absolute;width:auto;height:auto;" class="jqx-rating-voteWrapper"><div style="width:auto;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-default")+'"></div><div style="width:0;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-backward")+'"></div></div></div>'),this.host.append(this._images[e-1])},_performLayout:function(){for(var e=1;e<=this.count;e++){var t=this._images[e-1].find(this.toThemeProperty(".jqx-rating-image-backward",!0)),i=this._images[e-1].find(this.toThemeProperty(".jqx-rating-image-default",!0)),s=this._images[e-1].find(this.toThemeProperty(".jqx-rating-image-hover",!0)),r=this._getImageName(i),n=this._getImageName(s),o=this._getImageName(t);i.css("background-image","none"),s.css("background-image","none"),t.css("background-image","none"),this._appendImage(s,n,e-1),this._appendImage(t,o,e-1),this._appendImage(i,r,e-1)}},resize:function(e,t){this.width=e,this.height=t,this._setControlSize(this.width,this.height)},_setControlSize:function(e,t){this.host.css("height",this.height),this.host.css("width",this.width),this.itemHeight&&"auto"!==this.itemHeight?this._itemHeight=parseInt(this.itemHeight):this._itemHeight=t,this.itemWidth&&"auto"!==this.itemWidth?this._itemWidth=parseInt(this.itemWidth):this._itemWidth=e},_appendImage:function(e,t,i){var s=this,r=d('<img style="-moz-user-select:-moz-none;-khtml-user-select: none;-webkit-user-select:none;user-select:none;" class="'+this.toThemeProperty("jqx-rating-image")+'" src="'+t+'" />');e.append(r);try{r.load(function(){s._initialized||(s._setControlSize(d(this).width(),d(this).height()),s._setValue(s.value,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),s._initialized=!0),s._images[i].height(s._itemHeight),d(this).height(s._itemHeight),s._images[i].width(s._itemWidth),d(this).width(s._itemWidth)})}catch(e){r[0].onload=function(){s._initialized||(s._setControlSize(d(this).width(),d(this).height()),s._setValue(s.value,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),s._initialized=!0),s._images[i].height(s._itemHeight),d(this).height(s._itemHeight),s._images[i].width(s._itemWidth),d(this).width(s._itemWidth)}}return r},_validateProperties:function(){try{if(this.precision<.001||1<this.precision)throw this._invalidArgumentExceptions.invalidPrecision;if("auto"!==this.height&&parseInt(this.height)<0)throw this._invalidArgumentExceptions.invalidHeight;if("auto"!==this.width&&parseInt(this.width)<0)throw this._invalidArgumentExceptions.invalidWidth;if(this.count<=0)throw this._invalidArgumentExceptions.invalidCount;if(this.value>this.count||this.value<0)throw this._invalidArgumentExceptions.invalidValue}catch(e){alert(e)}},_getImageIndex:function(e){for(var t=0;e!==this._images[t][0];)t++;return++t},_getRating:function(e,t){var i=this._getImageIndex(e);if(this.precision<1){for(var s=parseInt(t)-parseInt(d(e).position().left),r=this._itemWidth*this.precision,n=0;n<s;)n+=r;n>parseInt(this._itemWidth)-r&&(n=parseInt(this._itemWidth)),i-=1-n/d(e).width()}return i},_addEventHandlers:function(){for(var s=this,e=0;e<this.count;e++)d.jqx.mobile.isTouchDevice()||(this.addHandler(this._images[e],"mousemove",function(e){var t=s._getRating(this,e.pageX);s._setValue(t,".jqx-rating-hoverWrapper",".jqx-rating-image-hover",".jqx-rating-image-backward")}),this.addHandler(this._images[e],"mouseenter",function(e){for(var t=s._getImageIndex(this),i=0;i<t;i++)s._images[i].children(".jqx-rating-hoverWrapper").css("z-index","10"),s._images[i].children(".jqx-rating-voteWrapper").css("z-index","1"),s._images[i].children(".jqx-rating-hoverWrapper").css("visibility","visible")}),this.addHandler(this._images[e],"mouseleave",function(e){for(var t=s._getImageIndex(this),i=0;i<t;i++)s._images[i].children(".jqx-rating-voteWrapper").css("z-index","10"),s._images[i].children(".jqx-rating-hoverWrapper").css("z-index","1"),s._images[i].children(".jqx-rating-hoverWrapper").css("visibility","hidden")})),this.addHandler(this._images[e],"click",function(e){var t=s._getRating(this,e.pageX);s._setValue(t,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),s.singleVote&&s.disable(),e.stopPropagation(),s._raiseEvent(0,t)}),this.addHandler(this._images[e],"dragstart",function(e){return!1})},_removeEventHandlers:function(){for(var e=0;e<this.count;e++)this.removeHandler(this._images[e],"mousemove"),this.removeHandler(this._images[e],"mouseenter"),this.removeHandler(this._images[e],"mouseleave"),this.removeHandler(this._images[e],"click"),this.removeHandler(this._images[e],"dragstart")},_getImageName:function(e){var t=e.css("background-image");return t=(t=(t=(t=t.replace('url("',"")).replace('")',"")).replace("url(","")).replace(")","")},_setValue:function(e,t,i,s){for(var r=1;r<=this.count;r++){var n=1,o=this._images[r-1].children(t),a=o.children(i),l=o.children(s);e<r&&(n=Math.abs(r-e)<1?1-Math.abs(r-e):0),a.width(this._itemWidth*n),l.width(this._itemWidth-parseInt(a.width())),o.children(this.toThemeProperty(s)).children(0).css("margin-left",-this._itemWidth*n+"px")}d.jqx.aria(this,"aria-valuenow",e)},_raiseEvent:function(e,t){var i=new d.Event(this._events[e]);return i.owner=this,i.value=t,i.oldvalue=this.value,this.value=t,this.input&&this.input.val(this.value.toString()),this.host.trigger(i)},setValue:function(e){this._setValue(e,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),this.value=e,this._raiseEvent(0,this.value)},getValue:function(){return this.value},disable:function(){this._removeEventHandlers(),this.disabled=!0,d.jqx.aria(this,"aria-disabled",!0)},enable:function(){this._removeEventHandlers(),this._addEventHandlers(),this.disabled=!1,d.jqx.aria(this,"aria-disabled",!1)},propertyChangedHandler:function(e,t,i,s){"disabled"!==t?"value"===t?e.setValue(s):e._createRating():s?this.disable():this.enable()}})}(jqxBaseFramework),function(v){v.jqx.response=function(){this.defineInstance()},v.jqx.response.prototype={defineInstance:function(){this._handlers=new Array,this.refresh();var e=this;this.layouts=[],this.addHandler(v(document),"scroll.jqxresponse",function(){e.scroll=e.getScroll()})},refresh:function(){this.os=this.getOS(),this.browser=this.getBrowser(),this.device=this.getDevice(),this.viewPort=this.getViewPort(),this.document=this.getDocument(),this.scroll=this.getScroll(),this.media=window.matchMedia||window.msMatchMedia||function(){return{}}},refreshSize:function(){this.viewPort=this.getViewPort(),this.document=this.getDocument()},addHandler:function(e,t,i,s){switch(t){case"mousemove":if(window.addEventListener&&!s)return e[0].addEventListener("mousemove",i,!1),!1}e.on?e.on(t,i):e.bind(t,i)},removeHandler:function(e,t,i){null!=t?null==i?e.off?e.off(t):e.unbind(t):e.off?e.off(t,i):e.unbind(t,i):e.off?e.off():e.unbind()},responsive:function(f){this._counter||(this._counter=0);for(var g=this.getDevice().type,n=v(f.container),e=0;e<n.length;e++){var t=n[e];t.style.position="relative",t.style.clear="both";v(t).width();for(var o=v(t).children(),i=0;i<o.length;i++){var s=o[i];s.className;s.style.position="relative",s.style.top="0px",v(s).css("float","left"),s._className=s.className,f.colClass&&v(s).addClass(f.colClass)}}if(this.layouts.push({object:f,resize:function(){for(var e=0;e<n.length;e++){var m=n[e],t=v(m).width(),i=function(e){for(var t=v(m).children(),i=f.margin,s=f.padding,r=f.colOffsets,n=0,o=0;o<t.length;o++){var a=t[o];a.className=a._className;var l=a._className;f.colClass&&(""!=l?l+=" "+f.colClass:l=f.colClass);var d=e/t.length;if(d=f.colWidths[o]?e*f.colWidths[o]:e/t.length,!f.deviceTypes||f.deviceTypes&&0<=f.deviceTypes.indexOf(g))for(var h=0;h<f.breakpoints.length;h++){var c=f.breakpoints[h-1],u=f.breakpoints[h];0<h&&c.width>=e&&u.width<e?c.colWidths[o]&&(d=e*c.colWidths[o],c.colClass&&(l=""!=a._className?a._className+" "+c.colClass:c.colClass,a.className=l),c.margin||(c.margin={left:0,right:0,top:0,bottom:0}),i=c.margin,c.padding||(c.padding={left:0,right:0,top:0,bottom:0}),s=c.padding,c.colOffsets||(c.colOffsets=new Array(t.length)),r=c.colOffsets):e<=u.width&&u.colWidths[o]&&(d=e*u.colWidths[o],u.colClass&&(l=""!=a._className?a._className+" "+u.colClass:u.colClass,a.className=l),u.margin||(u.margin={left:0,right:0,top:0,bottom:0}),i=u.margin,u.padding||(u.padding={left:0,right:0,top:0,bottom:0}),s=u.padding,u.colOffsets||(u.colOffsets=new Array(t.length)),r=u.colOffsets)}a.className=l;var p=d;s&&(null==s.left&&(s.left=0),null==s.top&&(s.top=0),null==s.bottom&&(s.bottom=0),null==s.right&&(s.right=0),p-=s.left,p-=s.right,a.style.paddingLeft=s.left+"px",a.style.paddingRight=s.right+"px",a.style.paddingTop=s.top+"px",a.style.paddingBottom=s.bottom+"px"),a.style.marginLeft="0px",a.style.marginRight="0px",a.style.marginTop="0px",a.style.marginBottom="0px",i&&(null==i.left&&(i.left=0),null==i.top&&(i.top=0),null==i.bottom&&(i.bottom=0),null==i.right&&(i.right=0),p-=i.left,p-=i.right,a.style.marginRight=i.right+"px",a.style.marginLeft=i.left+"px",a.style.marginTop=i.top+"px",a.style.marginBottom=i.bottom+"px"),e-1<=(n+=p)&&n-e<=5&&(p--,n=0),r&&null!=r[o]&&(a.style.marginLeft=parseInt(a.style.marginLeft)+r[o]*e+"px"),a.style.width=p+"px"}},s=o.css("visibility");o.css("visibility","hidden"),i(t);var r=v(m).width();t!=r&&(i(r),v(window).trigger("resize")),o.css("visibility",s)}}}),1==this.layouts.length){var r=this;v(window).on("resize.response"+this._counter,function(){for(var e=0;e<r.layouts.length;e++)r.layouts[e].resize()}),v(window).on("orientationchange.response"+this._counter,function(){for(var e=0;e<r.layouts.length;e++)r.layouts[e].resize()}),v(window).on("orientationchanged.response"+this._counter,function(){for(var e=0;e<r.layouts.length;e++)r.layouts[e].resize()})}for(e=0;e<this.layouts.length;e++)this.layouts[e].resize()},destroy:function(){if(this.removeHandler(v(window),"resize.jqxresponse"),this.removeHandler(v(document),"scroll.jqxresponse"),0<this._counter)for(var e=0;e<this._counter;e++)v(window).off("resize.response"+e),v(window).off("orientationchange.response"+e),v(window).off("orientationchanged.response"+e);for(e=0;e<this._handlers.length;e++){var t=this._handlers[e];this.removeHandler(v(t),"mousedown.response"+t[0].id),this.removeHandler(v(t),"touchstart.response"+t[0].id),this.removeHandler(v(t),"mousemove.response"+t[0].id),this.removeHandler(v(t),"touchmove.response"+t[0].id),this.removeHandler(v(t),"mouseup.response"+t[0].id),this.removeHandler(v(t),"touchend.response"+t[0].id)}},resize:function(i){var s=this;this.removeHandler(v(window),"resize.jqxresponse"),this.addHandler(v(window),"resize.jqxresponse",function(e){if(i)if(v.isArray(i))for(var t=0;t<i.length;t++)i[t]();else i();s.refreshSize()}),null==i&&this.removeHandler(v(window),"resize.jqxresponse")},pointerDown:function(e,s){if(e&&s){var t=v.jqx.mobile.isTouchDevice(),r=!0;if(t){var i=v.jqx.mobile.getTouchEventName("touchstart")+".response"+e[0].id;null!=s?this.addHandler(v(e),i,function(e){var t=v.jqx.position(e),i=s(e,t,"touch");return r=!1,setTimeout(function(){r=!0},500),i}):this.removeHandler(v(e),i)}null!=s?this.addHandler(v(e),"mousedown.response"+e[0].id,function(e){var t=v.jqx.position(e);if(r)return s(e,t,"mouse")}):this.removeHandler(v(e),"mousedown.response"+e[0].id),this._handlers.push(e)}},pointerUp:function(e,s){if(e){var t=v.jqx.mobile.isTouchDevice(),r=!0;if(t){var i=v.jqx.mobile.getTouchEventName("touchend")+".response"+e[0].id;null!=s?this.addHandler(v(e),i,function(e){var t=v.jqx.position(e),i=s(e,t,"touch");return r=!1,setTimeout(function(){r=!0},500),i}):this.removeHandler(v(e),i)}null!=s?this.addHandler(v(e),"mouseup.response"+e[0].id,function(e){var t=v.jqx.position(e);if(r)return s(e,t,"mouse")}):this.removeHandler(v(e),"mouseup.response"+e[0].id),this._handlers.push(e)}},pointerMove:function(e,i){if(e){if(v.jqx.mobile.isTouchDevice()){var t=v.jqx.mobile.getTouchEventName("touchmove")+".response"+e[0].id;null!=i?this.addHandler(v(e),t,function(e){if(1==v.jqx.mobile.getTouches(e).length){var t=v.jqx.position(e);return i(e,t,"touch")}}):this.removeHandler(v(e),t)}else null!=i?this.addHandler(v(e),"mousemove.response"+e[0].id,function(e){var t=v.jqx.position(e);return i(e,t,"mouse")}):this.removeHandler(v(e),"mousemove.response"+e[0].id);this._handlers.push(e)}},isHidden:function(e){return v.jqx.isHidden(v(e))},inViewPort:function(e){var t=this.viewPort;if(e.getBoundingClientRect){var i=e.getBoundingClientRect?e.getBoundingClientRect():{};return i&&0<=i.bottom&&i.top<=t.height&&0<=i.right&&i.left<=t.width}return!1},getScroll:function(){var e={left:window.pageXOffset||document.scrollLeft,top:window.pageYOffset||document.scrollTop};return null==e.left&&(e.left=0),null==e.top&&(e.top=0),e},getDocument:function(){return{width:v(document).width(),height:v(document).height()}},getViewPort:function(){return{width:v(window).width(),height:v(window).height()}},getTouch:function(){return!!("ontouchstart"in window)||("MSPointerDown"in window||!!v.jqx.mobile.isWindowsPhone())},getDevice:function(){var e=this.os.name,t=window.location.search.match(/deviceType=(Tablet|Phone)/),i=window.deviceType,s="";return t&&t[1]?s=t[1]:"iPhone"===i?s="Phone":"iPad"===i?s="Tablet":"Android"!=e&&"iOS"!=e&&/Windows|Linux|MacOS|Mac OS|Mac OS X/.test(e)?s="Desktop":"iOS"==e&&0<=navigator.userAgent.toLowerCase().indexOf("ipad")?s="Tablet":"RIMTablet"==e?s="Tablet":"Android"==e?(s=this.os.version&&0<=this.os.version.substring(0,1).indexOf("3")?"Tablet":this.os.version&&0<=this.os.version.substring(0,1).indexOf("4")&&-1==navigator.userAgent.search(/mobile/i)?"Tablet":"Phone",0<=navigator.userAgent.toLowerCase().indexOf("kindle fire")&&(s="Tablet")):s="Phone",/Windows/.test(e)&&(0<=navigator.userAgent.indexOf("Windows Phone")||0<=navigator.userAgent.indexOf("WPDesktop")||0<=navigator.userAgent.indexOf("IEMobile")||0<=navigator.userAgent.indexOf("ZuneWP7")?s="Phone":0<=navigator.userAgent.indexOf("Touch")&&(s="Tablet",this.getTouch()||(s="Desktop"))),{type:s,touch:this.getTouch(),width:window.screen.width,height:window.screen.height,availWidth:window.screen.availWidth,availHeight:window.screen.availHeight}},canvas:function(){var e=!1,t=document.createElement("canvas");return t&&t.getContext&&t.getContext("2d")&&(e=!0),e},vml:function(){if(null==this._vmlSupport){var e=document.body.appendChild(document.createElement("div"));e.innerHTML='<v:shape id="vml_flag1" adj="1" />';var t=e.firstChild;t.style.behavior="url(#default#VML)",this._vmlSupport=!t||"object"==typeof t.adj,e.parentNode.removeChild(e)}return this._vmlSupport},svg:function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")},getBrowser:function(){var i=navigator.userAgent.toLowerCase(),s="",r=null;if(browserNames={msie:{name:"Internet Explorer",eval:/(msie) ([\w.]+)/.exec(i)},webkit:{name:"Webkit",eval:/(webkit)[ \/]([\w.]+)/.exec(i)},chrome:{name:"Chrome",eval:/(chrome)[ \/]([\w.]+)/.exec(i)},safari:{name:"Safari",eval:/(safari)[ \/]([\w.]+)/.exec(i)},edge:{name:"Edge",eval:/Edge/i.exec(i)},opera:{name:"Opera",eval:/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(i)},operamobile:{name:"Opera Mobile",eval:/(opera mobi)(?:.*version|)[ \/]([\w.]+)/.exec(i)||/(opera tablet)(?:.*version|)[ \/]([\w.]+)/.exec(i)},dolphin:{name:"Dolphin",eval:/(dolphin)[ \/]([\w.]+)/.exec(i)},webosbrowser:{name:"webOSBrowser",eval:/(wosbrowser)(?:.*version|)[ \/]([\w.]+)/.exec(i)},chromemobile:{name:"Chrome Mobile",eval:/(crmo)[ \/]([\w.]+)/.exec(i)},silk:{name:"Silk",eval:/(silk)[ \/]([\w.]+)/.exec(i)},firefox:{name:"Firefox",eval:/(firefox)[ \/]([\w.]+)/.exec(i)},msie11:{name:"Internet Explorer 11",eval:0<=i.indexOf("rv:11.0")&&0<=i.indexOf(".net4.0c")},winphone:{name:"Internet Explorer Mobile",eval:0<=i.indexOf("windows phone 8.1")},other:{name:"Other",eval:i.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(i)}},v.each(browserNames,function(e,t){if(this.eval)if("Other"==this.name)r||(r=this.eval,s=this.name);else if("Internet Explorer 11"==this.name)r||(r=["","msie",11],s="Internet Explorer");else if("Edge"==this.name)r=["","edge",i.substring(i.indexOf("edge")+5)],s=this.name;else if("Internet Explorer Mobile"==this.name)r||(r=["","msie",11],s="Internet Explorer");else{if("Chrome"==s&&"Safari"==this.name)return!0;r=this.eval,s=this.name}}),r){var e={name:s,accessName:r[1]||"",version:r[2]||"0",canvas:this.canvas(),svg:this.svg(),vml:this.vml()};e[r[1]]=r[1]}else e={name:"Other",browser:"other",version:""};return e},getOS:function(){var i=null,s="",r=navigator.userAgent,n="Other",e={ios:{name:"iOS",regex:new RegExp("(?:i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS )([^\\s;]+)")},android:{name:"Android",regex:new RegExp("(?:(Android |HTC_|Silk/))([^\\s;]+)")},webos:{name:"webOS",regex:new RegExp("(?:(?:webOS|hpwOS)/)([^\\s;]+)")},blackberry:{name:"BlackBerry",regex:new RegExp("(?:BlackBerry(?:.*)Version/)([^\\s;]+)")},rimTablet:{name:"RIMTablet",regex:new RegExp("(?:RIM Tablet OS )([^\\s;]+)")},chrome:{name:"Chrome OS",regex:new RegExp("CrOS")},mac:{name:"MacOS",regex:new RegExp("mac")},win:{name:"Windows",regex:new RegExp("win")},linux:{name:"Linux",regex:new RegExp("linux")},bada:{name:"Bada",regex:new RegExp("(?:Bada/)([^\\s;]+)")},other:{name:"Other"}},t="",o=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 10",r:/(Windows 10|Windows NT 10)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"BB10",r:/BB10/},{s:"MeeGo",r:/MeeGo/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var a in o){var l=o[a];if(l.r.test(r)){t=l.s;break}}var d="";switch(/Windows/.test(t)&&(d=/Windows (.*)/.exec(t)[1],t="Windows"),/BB10/.test(t)&&(d="10",t="BlackBerry"),n){case"Mac OS X":d=/Mac OS X (10[\.\_\d]+)/.exec(r)[1];break;case"Android":d=/Android ([\.\_\d]+)/.exec(r)[1];break;case"iOS":d=(d=/OS (\d+)_(\d+)_?(\d+)?/.exec(nVer))[1]+"."+d[2]+"."+(0|d[3])}return""!=d&&(s=d),v.each(e,function(e,t){if(i=r.match(this.regex)||r.toLowerCase().match(this.regex))return this.name.match(/Windows|Linux|MacOS/)||(s=!i[1]||"HTC_"!=i[1]&&"Silk/"!=i[1]?i[i.length-1]:"2.3"),!(n={name:this.name,version:s,platform:navigator.platform})}),n&&"Other"==n.name&&(n.name=t),n&&""!=n.name&&""!=t&&(n.name=t),n&&""==n.version&&""!=d&&(n.version=d),n}}}(jqxBaseFramework),function(v){v.jqx.jqxWidget("jqxResponsivePanel","",{}),v.extend(v.jqx._jqxResponsivePanel.prototype,{defineInstance:function(){var e={width:null,height:null,collapseBreakpoint:1e3,collapseWidth:null,toggleButton:null,toggleButtonSize:30,animationType:"fade",animationDirection:"left",animationShowDelay:"fast",animationHideDelay:"fast",autoClose:!0,initContent:null,_collapsed:!1,_opened:!1,_init:!1,_ie7:v.jqx.browser.msie&&v.jqx.browser.version<8,events:["collapse","expand","open","close"]};return this===v.jqx._jqxResponsivePanel.prototype||v.extend(!0,this,e),e},createInstance:function(){this.initContent&&!1===this._init&&(this.initContent(),this._init=!0),this._render(!0)},_render:function(e){var t=this;if(!0===e&&t.toggleButton){if(t._toggleButton=v(t.toggleButton),0===t._toggleButton.length)throw new Error('jqxResponsivePanel: Invalid toggleButton selector: "'+t.toggleButton+'".');var i=v('<div class="'+t.toThemeProperty("jqx-menu-minimized-button")+" "+t.toThemeProperty("jqx-responsive-panel-button-inner")+'"></div>');t._toggleButton.append(i)}t._setSize(),t._addClasses(),!1===e&&t._removeHandlers(),t._addHandlers(),t._checkWindowSize()},render:function(){this._render(!1)},refresh:function(e){!0!==e&&this._checkWindowSize()},destroy:function(e){this._removeHandlers(),this.host.remove(),!0!==e&&this.toggleButton&&this._toggleButton.remove()},propertyChangedHandler:function(e,t,i,s){if(s!==i&&"toggleButton"!==t&&"initContent"!==t)switch(t){case"width":case"height":e.host.css(t,s);break;case"collapseBreakpoint":e._checkWindowSize();break;case"toggleButtonSize":e.toggleButton&&e._toggleButton.css({width:s,height:s});break;default:e.render()}},open:function(){var e=this;if(!0===e._collapsed&&!1===e._opened){function t(){e.host.show(),e._opened=!0,e._raiseEvent("2"),e.initContent&&!1===e._init&&(e.initContent(),e._init=!0)}if(!0===e._ie7)return void t();switch(e.animationType){case"fade":e.host.fadeIn(e.animationShowDelay,function(){e._raiseEvent("2"),e._opened=!0,e.initContent&&!1===e._init&&(e.initContent(),e._init=!0)});break;case"slide":var i=e.animationDirection;"top"===i?i="up":"bottom"===i&&(i="down"),e._slide(e.host,{mode:"show",direction:i,duration:e.animationShowDelay});break;case"none":t()}}},close:function(){var e=this;if(!0===e._collapsed&&!0===e._opened){if(!0===e._ie7)return e.host.hide(),e._opened=!1,void e._raiseEvent("3");switch(e.animationType){case"fade":e.host.fadeOut(e.animationHideDelay,function(){e._opened=!1,e._raiseEvent("3")});break;case"slide":var t=e.animationDirection;"top"===t?t="up":"bottom"===t&&(t="down"),e._slide(e.host,{mode:"hide",direction:t,duration:e.animationHideDelay});break;case"none":e.host.hide(),e._opened=!1,e._raiseEvent("3")}}},_raiseEvent:function(e,t){void 0===t&&(t={owner:null});var i=this.events[e];t.owner=this;var s=new v.Event(i);return s.owner=this,s.args=t,s.preventDefault&&s.preventDefault(),this.host.trigger(s)},_setSize:function(){this.host.css("width",this.width),this.host.css("height",this.height),this.toggleButton&&this._toggleButton.css({width:this.toggleButtonSize,height:this.toggleButtonSize})},_addClasses:function(){var e=this;e.host.addClass(e.toThemeProperty("jqx-responsive-panel")),e.host.addClass(e.toThemeProperty("jqx-widget")),e.host.addClass(e.toThemeProperty("jqx-widget-content")),e.host.addClass(e.toThemeProperty("jqx-rc-all")),e.toggleButton&&(e._toggleButton.addClass(e.toThemeProperty("jqx-responsive-panel-button")),e._toggleButton.addClass(e.toThemeProperty("jqx-fill-state-normal")),e._toggleButton.addClass(e.toThemeProperty("jqx-rc-all")))},isCollapsed:function(){return this._collapsed},isOpened:function(){return this._opened},_addHandlers:function(){var t=this,e=t.element.id;t.addHandler(t.host,"click.jqxResponsivePanel"+e,function(e){e.stopPropagation()}),t.addHandler(v(document),"click.jqxResponsivePanel"+e,function(){!0===t._collapsed&&!0===t.autoClose&&t.close()}),t.addHandler(v(window),"resize.jqxResponsivePanel"+e,function(){setTimeout(function(){t._checkWindowSize()},0)}),t.toggleButton&&(t.addHandler(t._toggleButton,"mouseenter.jqxResponsivePanel"+e,function(){t._toggleButton.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._toggleButton,"mouseleave.jqxResponsivePanel"+e,function(){t._toggleButton.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._toggleButton,"mousedown.jqxResponsivePanel"+e,function(){t._toggleButton.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(v(document),"mouseup.jqxResponsivePanel"+e,function(){t._toggleButton.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._toggleButton,"click.jqxResponsivePanel"+e,function(e){e.stopPropagation(),!0===t._opened?t.close():t.open()}))},_removeHandlers:function(){var e=this,t=e.element.id;e.removeHandler(e.host,"click.jqxResponsivePanel"+t),e.removeHandler(v(document),"click.jqxResponsivePanel"+t),e.removeHandler(v(window),"resize.jqxResponsivePanel"+t),e.toggleButton&&(e.removeHandler(e._toggleButton,"mouseenter.jqxResponsivePanel"+t),e.removeHandler(e._toggleButton,"mouseleave.jqxResponsivePanel"+t),e.removeHandler(e._toggleButton,"mousedown.jqxResponsivePanel"+t),e.removeHandler(v(document),"mouseup.jqxResponsivePanel"+t),e.removeHandler(e._toggleButton,"click.jqxResponsivePanel"+t))},_checkWindowSize:function(){var e=this,t=this.host.parent().width();"jqx-responsive-panel"===this.host.parent()[0].nodeName.toLowerCase()&&(t=this.host.parent().parent().width()),!1===e._collapsed&&t<=e.collapseBreakpoint?(e.toggleButton&&e._toggleButton.show(),!1===e._opened&&e.host.hide(),e.host.removeClass(e.toThemeProperty("jqx-responsive-panel-expanded")),e.host.addClass(e.toThemeProperty("jqx-responsive-panel-collapsed")),e._collapsed=!0,e._raiseEvent("0"),e.collapseWidth&&e.host.width(e.collapseWidth),e.host.trigger("resize")):!0===e._collapsed&&t>e.collapseBreakpoint&&(e.collapseWidth&&e.host.width(e.width),e.toggleButton&&e._toggleButton.hide(),!1===e._opened&&e.host.show(),e.host.removeClass(e.toThemeProperty("jqx-responsive-panel-collapsed")),e.host.addClass(e.toThemeProperty("jqx-responsive-panel-expanded")),e._collapsed=!1,e._raiseEvent("1"),e.initContent&&!1===e._init&&(e.initContent(),e._init=!0),e.host.trigger("resize"))},_slide:function(e,t){var i=this;if(i.activeAnimations||(i.activeAnimations=[]),0<i.activeAnimations.length)for(var s=0;s<i.activeAnimations.length;s++)i.activeAnimations[s].clearQueue(),i.activeAnimations[s].finish();else e.clearQueue(),e.finish();var r,n="ui-effects-",o=function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&0<e.length&&e.data(n+t[i],e[0].style[t[i]])},a=function(e,t){var i,s;for(s=0;s<t.length;s++)null!==t[s]&&(void 0===(i=e.data(n+t[s]))&&(i=""),e.css(t[s],i))},l=function(i){if(i.parent().is(".ui-effects-wrapper"))return i.parent();var s={width:i.outerWidth(!0),height:i.outerHeight(!0),float:i.css("float")},e=v("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),t={width:i.width(),height:i.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return i.wrap(e),(i[0]===r||v.contains(i[0],r))&&v(r).focus(),e=i.parent(),"static"===i.css("position")?(e.css({position:"relative"}),i.css({position:"relative"})):(v.extend(s,{position:i.css("position"),zIndex:i.css("z-index")}),v.each(["top","left","bottom","right"],function(e,t){s[t]=i.css(t),isNaN(parseInt(s[t],10))&&(s[t]="auto")}),i.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(t),e.css(s).show()},d=function(e){var t=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===t||v.contains(e[0],t))&&v(t).focus()),e},h=["position","top","bottom","left","right","width","height"],c=t.mode,u="show"===c,p=t.direction||"left",m="up"===p||"down"===p?"top":"left",f="up"===p||"left"===p,g={};o(e,h),e.show(),r=t.distance||e["top"===m?"outerHeight":"outerWidth"](!0),l(e).css({overflow:"hidden"}),u&&e.css(m,f?isNaN(r)?"-"+r:-r:r),g[m]=(u?f?"+=":"-=":f?"-=":"+=")+r;return i.activeAnimations.push(e),e.animate(g,{duration:t.duration,easing:t.easing,complete:function(){i.activeAnimations.pop(e),"show"===c?(i._opened=!0,i._raiseEvent("2"),i.initContent&&!1===i._init&&(i.initContent(),i._init=!0)):"hide"===c&&(e.hide(),i._opened=!1,i._raiseEvent("3")),a(e,h),d(e)}}),function(){e.clearQueue(),e.stop(!0,!0)}}})}(jqxBaseFramework),function(j){j.jqx.jqxWidget("jqxRibbon","",{}),j.extend(j.jqx._jqxRibbon.prototype,{defineInstance:function(){var e={width:null,height:"auto",mode:"default",position:"top",selectedIndex:-1,selectionMode:"click",popupCloseMode:"click",animationType:"fade",animationDelay:400,scrollPosition:"both",disabled:!1,rtl:!1,scrollStep:10,scrollDelay:30,reorder:!1,initContent:null,_roundedCorners:!0,_removeByDrag:!1,_suppressReorder:!0,events:["select","unselect","change","_removeByDrag","reorder"]};return this===j.jqx._jqxRibbon.prototype||j.extend(!0,this,e),e},createInstance:function(){var e=this;"none"!==e.host.css("display")&&!1!==document.body.contains(e.element)||(e._initiallyHidden=!0),e._browser=j.jqx.browser,"popup"!==e.mode&&-1===e.selectedIndex&&(e.selectedIndex=0),e._originalHTML=e.element.innerHTML,e._render(!0)},render:function(){this._render()},refresh:function(e){!0!==e&&this._render()},destroy:function(){this._removeHandlers(),this.host.remove()},selectAt:function(e){this._selectAt(e)},clearSelection:function(){-1!==this.selectedIndex&&this._clearSelection()},disableAt:function(e){this._items[e]._disabled=!0,j(this._items[e]).addClass(this.toThemeProperty("jqx-fill-state-disabled")),e===this.selectedIndex&&this._clearSelection()},enableAt:function(e){this._items[e]._disabled=!1,j(this._items[e]).removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},hideAt:function(e){this._items[e].style.display="none",this._checkScrollButtons(),e===this.selectedIndex?this._clearSelection():this._updatePositions()},showAt:function(e){"horizontal"===this._orientation?this._items[e].style.display="inline-block":this._items[e].style.display="inherit",this._checkScrollButtons(),this._updatePositions()},val:function(e){if(!e)return this.selectedIndex;this._selectAt(e)},addAt:function(e,t){var i=this,s="jqx-ribbon-item jqx-ribbon-item-"+i.position,r="jqx-widget-content jqx-ribbon-content-section jqx-ribbon-content-section-"+i.position;i._removeHandlers();var n=document.createElement("li");n.innerHTML=t.title;var o=document.createElement("div");if("string"==typeof t.content)o.innerHTML=t.content;else if(void 0!==t.content.length)try{if(void 0!==jQuery&&t.content instanceof jQuery)j(o).append(t.content);else if(j.isArray(t.content))for(var a=0;a<t.content.length;a++)t.content[a].appendTo(o);else for(;0<t.content.length;)o.appendChild(t.content[0])}catch(e){}else o.appendChild(t.content);switch(i.position){case"top":s+=" jqx-rc-t",r+=" jqx-rc-b";break;case"bottom":s+=" jqx-rc-b",r+=" jqx-rc-t";break;case"left":s+=" jqx-rc-l",r+=" jqx-rc-r";break;case"right":s+=" jqx-rc-r",r+=" jqx-rc-l"}"popup"===i.mode&&(r+=" jqx-ribbon-content-section-popup jqx-ribbon-content-section-"+i._orientation+"-popup"),!0===i.rtl&&(s+=" jqx-ribbon-item-rtl"),n.className=i.toThemeProperty(s),o.className=i.toThemeProperty(r),i._items.length-1>=e?(i._headerElement.insertBefore(n,i._items[e]),i._contentElement.insertBefore(o,i._contentSections[e])):(i._headerElement.appendChild(n),i._contentElement.appendChild(o)),i._updateItems(),i._addHandlers(),i._checkScrollButtons(),e<=i.selectedIndex&&i.selectedIndex<i._items.length-1&&i.selectedIndex++,i._updatePositions(),i.selectedIndex<0||(i._suppressSelectionEvents=!0,i._selectAt(i.selectedIndex,i.selectedIndex,!0))},removeAt:function(e){e===this.selectedIndex&&this._clearSelection(),j(this._items[e]).remove(),j(this._contentSections[e]).remove(),this._updateItems(!0),this._updatePositions(),this._checkScrollButtons()},updateAt:function(e,t){var i=this._items[e];i.innerHTML=t.newTitle,this._contentSections[e].innerHTML=t.newContent,i._isInitialized=!1,this.initContent&&e===this.selectedIndex&&(this.initContent(e),i._isInitialized=!0),this._updatePositions()},setPopupLayout:function(e,t,i,s){var r=this._contentSections[e];"popup"===this.mode&&(r.getAttribute("data-width")||(r.style.width&&r.setAttribute("data-width",r.style.width),r.style.height&&r.setAttribute("data-height",r.style.height)),i&&(r.style.width=this._toPx(i)),s&&(r.style.height=this._toPx(s)),r._layout=t,this._positionContent(e))},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2===Object.keys(i).length&&(e.element.style.width=e._toPx(e.width),e.element.style.height=e._toPx(e.height),e._updateSize())},propertyChangedHandler:function(e,t,i,s){if(!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2===Object.keys(e.batchUpdate).length)&&s!==i)switch(t){case"width":case"height":e.element.style[t]=e._toPx(s),e._updateSize();break;case"position":e._render();break;case"mode":e._contentElement.style.width="auto",e._removeHandlers(null,i),e._render();break;case"selectedIndex":e._selectAt(s,i);break;case"selectionMode":e._removeHandlers(i),e._addHandlers();break;case"scrollPosition":var r=e._scrollButtonNear,n=e._scrollButtonFar;j(r).removeClass(e.toThemeProperty("jqx-ribbon-scrollbutton-"+i+" jqx-rc-tr jqx-rc-bl jqx-rc-tl")),j(n).removeClass(e.toThemeProperty("jqx-ribbon-scrollbutton-"+i+" jqx-rc-tr jqx-rc-bl jqx-rc-br")),r.className+=" "+e.toThemeProperty("jqx-ribbon-scrollbutton-"+s),n.className+=" "+e.toThemeProperty("jqx-ribbon-scrollbutton-"+s),e._scrollButtonRc(r,n),e._checkScrollButtons(),e._updatePositions();break;case"disabled":!0===s?(e._removeHandlers(),e.element.className+=" "+e.toThemeProperty("jqx-fill-state-disabled")):(e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e._addHandlers());break;case"theme":j.jqx.utilities.setTheme(i,s,e.host);break;case"rtl":if(!0===s){e._headerElement.className+=" "+e.toThemeProperty("jqx-ribbon-header-rtl");for(var o=0;o<e._items.length;o++)e._items[o].className+=" "+e.toThemeProperty("jqx-ribbon-item-rtl")}else{e._header.removeClass(e.toThemeProperty("jqx-ribbon-header-rtl"));for(var a=0;a<e._items.length;a++)j(e._items[a]).removeClass(e.toThemeProperty("jqx-ribbon-item-rtl"))}e._positionSelectionToken(e.selectedIndex)}},_raiseEvent:function(e,t){var i,s=this.events[e],r=new j.Event(s);r.owner=this,r.args=t;try{i=this.host.trigger(r)}catch(e){}return i},_render:function(e){var t=this;switch(!0!==e&&t._removeHandlers(),t._selectionTokenOffsetY=0,t._browser.browser){case"mozilla":t._browserWidthRtlFlag=0,t._browserScrollRtlFlag=1,t._selectionTokenOffsetX=1;break;case"msie":t._browserWidthRtlFlag=0,t._browserScrollRtlFlag=-1,"8.0"===t._browser.version?t._selectionTokenOffsetX=1:"7.0"===t._browser.version?(t._selectionTokenOffsetX=0,"popup"!==t.mode||"bottom"!==t.position&&"right"!==t.position||(t._selectionTokenOffsetY=2)):t._selectionTokenOffsetX=0;break;default:t._browserWidthRtlFlag=1,t._browserScrollRtlFlag=1,t._selectionTokenOffsetX=0}if(!0===e){var i=t.host.children();t._headerElement=i[0],t._header=j(i[0]),t._contentElement=i[1],t._content=j(i[1]),t._checkStructure(i)}t._headerElement.style.float="none",t._contentElement.style.padding="0px",t.element.style.width=t._toPx(t.width),t.element.style.height=t._toPx(t.height),"bottom"!==t.position&&"right"!==t.position||t.element.insertBefore(t._contentElement,t._headerElement),"top"===t.position||"bottom"===t.position?t._orientation="horizontal":t._orientation="vertical","right"===t.position?t._headerElement.style.float="right":"left"===t.position&&(t._headerElement.style.float="left"),t._contentSections=t._content.children(),j.each(t._contentSections,function(){this.getAttribute("data-width")&&(this.style.width=this.getAttribute("data-width"),this.style.height=this.getAttribute("data-height"),this.removeAttribute("data-width"),this.removeAttribute("data-height"))}),!0===e&&(t._selectionToken=document.createElement("div"),t._selectionToken.className=t.toThemeProperty("jqx-widget-content jqx-ribbon-selection-token jqx-ribbon-selection-token-"+t.position),t.element.appendChild(t._selectionToken)),t._updateItems(),!0!==t._initiallyHidden&&t._addClasses(),!0===e&&(t._appendScrollButtons(),t._checkScrollButtons()),t._allowSelection=!0,-1!==t.selectedIndex&&(t._items[t.selectedIndex].className+=" "+t.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"),t._positionSelectionToken(t.selectedIndex),t._contentSections[t.selectedIndex].style.display="block",t.initContent&&(t.initContent(t.selectedIndex),t._items[t.selectedIndex]._isInitialized=!0)),t.disabled?t.element.className+=" "+t.toThemeProperty("jqx-fill-state-disabled"):t._addHandlers(),j.jqx.utilities.resize(t.host,function(){t._initiallyHidden&&(t._initiallyHidden=!1,t._addClasses(),-1!==t.selectedIndex&&(t._items[t.selectedIndex].className+=" "+t.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"))),t._updateSize(!0)}),"popup"===t.mode&&""!==t.theme&&setTimeout(function(){t._positionPopup(),t._positionSelectionToken(t.selectedIndex)},30)},_updateSize:function(e){var t=this;if("7.0"===t._browser.version&&"msie"===t._browser.browser)if("horizontal"===t._orientation)t._header.css("width",t.host.width()-parseInt(t._header.css("padding-left"),10)-parseInt(t._header.css("padding-right"),10)-parseInt(t._header.css("border-left-width"),10)-parseInt(t._header.css("border-right-width"),10)),t._contentSections.width(t._content.width()-parseInt(t._contentSections.css("border-left-width"),10)-parseInt(t._contentSections.css("border-right-width"),10)-parseInt(t._contentSections.css("padding-left"),10)-parseInt(t._contentSections.css("padding-right"),10)),"default"===t.mode&&"string"==typeof t.height&&-1!==t.height.indexOf("%")&&t._contentSections.height(t._content.height()-t._header.height()-parseInt(t._contentSections.css("border-bottom-width"),10)-parseInt(t._contentSections.css("border-top-width"),10)-1);else if(t._header.css("height",t.host.height()-parseInt(t._header.css("padding-top"),10)-parseInt(t._header.css("padding-bottom"),10)-parseInt(t._header.css("border-top-width"),10)-parseInt(t._header.css("border-bottom-width"),10)),t._contentSections.height(t._content.height()-parseInt(t._contentSections.css("border-top-width"),10)-parseInt(t._contentSections.css("border-bottom-width"),10)-parseInt(t._contentSections.css("padding-top"),10)-parseInt(t._contentSections.css("padding-bottom"),10)),"default"===t.mode&&"string"==typeof t.width&&-1!==t.height.indexOf("%")){var i="left"===t.position?parseInt(t._contentSections.css("border-left-width"),10)+parseInt(t._contentSections.css("border-right-width"),10)+1:0;t._contentSections.width(t._content.width()-t._header.width()-i)}t._checkScrollButtons(!0),t._updatePositions(void 0,e),"popup"===t.mode&&t._positionPopup()},_stopAnimation:function(){if(!this._allowSelection){this.selectedIndex=this._animatingIndex;var e=j(this._contentSections[this._animatingIndex]);this._initAnimate(e),e.animate("finish"),this._clearSelection(!0,this._animatingIndex),this._allowSelection=!0}},_selectAt:function(e,t,i){var s=this;if(void 0===t&&(t=s.selectedIndex),(e!==t||!0===i)&&(s._stopAnimation(),s._allowSelection)){if(s._animatingIndex=e,-1!==s.selectedIndex&&s._clearSelection(!0,t),s._allowSelection=!1,s._selecting=e,"click"===s.selectionMode&&j(s._items[e]).removeClass(s.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover")),"popup"===s.mode&&s._roundedCorners){var r,n;switch(s._header.removeClass(s.toThemeProperty("jqx-rc-all")),s.position){case"top":r="jqx-rc-t",n="jqx-rc-b";break;case"bottom":r="jqx-rc-b",n="jqx-rc-t";break;case"left":r="jqx-rc-l",n="jqx-rc-r";break;case"right":r="jqx-rc-r",n="jqx-rc-l"}s._headerElement.className+=" "+s.toThemeProperty(r);for(var o=0;o<s._items.length;o++)s._items[o].className+=" "+s.toThemeProperty(r),s._contentSections[o].className+=" "+s.toThemeProperty(n)}var a;switch(s._items[e].className+=" "+s.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"),s._selectionToken.style.display="block",s._updatePositions(e),s.animationType){case"fade":a=j(s._contentSections[e]),s._initAnimate(a),"none"===a.css("display")?a.fadeIn({duration:s.animationDelay,complete:function(){s._animationComplete(e,t)}}):a.fadeOut({duration:s.animationDelay,complete:function(){s._animationComplete(e,t)}});break;case"slide":a=j(s._contentSections[e]);var l=s.position;"top"===l?l="up":"bottom"===l&&(l="down"),s.slideAnimation=s._slide(a,{mode:"show",direction:l,duration:s.animationDelay},e,t);break;case"none":s._contentSections[e].style.display="block",s._animationComplete(e,t)}}},_clearSelection:function(e,t){var i=this;if("popup"===i.mode&&i._roundedCorners&&(i._headerElement.className+=" "+i.toThemeProperty("jqx-rc-all")),i._selecting=-1,void 0===t&&(t=i.selectedIndex),j(i._items[t]).removeClass(i.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected")),i._selectionToken.style.display="none",!0!==e&&"none"!==i.animationType){var s=j(i._contentSections[t]);if("fade"===i.animationType)i._initAnimate(s),s.fadeOut({duration:i.animationDelay,complete:function(){i._clearSelectionComplete(t)}});else if("slide"===i.animationType){var r=i.position;"top"===r?r="up":"bottom"===r&&(r="down"),i._stopAnimation(),t=i.selectedIndex,i.slideAnimation=i._slide(s,{mode:"hide",direction:r,duration:i.animationDelay},t),i.selectedIndex=-1}}else{if(-1===t)return;i._contentSections[t].style.display="none",i._clearSelectionComplete(t,e)}},_addHandlers:function(){var o,a=this,n=a.element.id,l=!1;function e(e){var t=a._closest(e.target,"li"),i=t._index;a._items[i]._disabled||(i!==a.selectedIndex?a._selectAt(i):"popup"===a.mode&&"none"!==a.popupCloseMode&&(t.className+=" "+a.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"),a._clearSelection()))}function t(e){if(!0===a.reorder&&!0===l){for(var t=a._closest(e.target,"li")._index,i=a._items[o].innerHTML,s=a._contentSections[o].childNodes,r=[];0<s.length;)r.push(j(s[0]).detach());a._suppressSelectionEvents=!0,a._oldReorderIndex=o,a.removeAt(o),a.clearSelection(),a.addAt(t,{title:i,content:r}),a.selectAt(t),setTimeout(function(){j(a._items[t]).trigger("mousedown")},0)}else{var n=a._closest(e.target,"li");f(n._index)&&(n.className+=" "+a.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"))}}function i(e){var t=a._closest(e.target,"li");f(t._index)&&j(t).removeClass(a.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"))}function s(e){if("#document"!==e.target.nodeName){var t=a._closest(e.target,"li");!0!==a.reorder&&!0!==a._removeByDrag||t._index!==a.selectedIndex||(l=!0,o=t._index,t.style.cursor="move")}}function r(){"mouseLeave"===a.popupCloseMode&&"popup"===a.mode&&a._clearSelection()}function d(e){var t=a._closest(e.target,"li")._index;a._items[t]._disabled||t===a.selectedIndex||a._selectAt(t)}function h(e){var t=a._closest(e.target,"li")._index;a._items[t]._disabled||"popup"===a.mode&&"none"!==a.popupCloseMode&&a._clearSelection()}function c(){"mouseLeave"===a.popupCloseMode&&"popup"===a.mode&&a._clearSelection()}var u,p,m=function(e){if("click"===a.popupCloseMode&&"popup"===a.mode&&-1!==a.selectedIndex){if("svg"===e.target.tagName)return;var t=a._closest(e.target,void 0,"jqx-ribbon");if(void 0!==t&&t.getAttribute("id")!==n)return void a._clearSelection();if(void 0===e.target.className||-1!==e.target.className.indexOf("jqx-ribbon-content-popup"))return void a._clearSelection();if(j(e.target).ischildof(a.host))return;var i=!1,s=[],r=function(e){e.parentElement&&(s.push(e.parentElement),r(e.parentElement))};r(e.target),j.each(s,function(){if(void 0!==this.className&&this.className.indexOf){if(-1!==this.className.indexOf("jqx-ribbon"))return!(i=!0);if(-1!==this.className.indexOf("jqx-ribbon"))return n===this.id&&(i=!0),!1}}),i||a._clearSelection()}};if("click"===a.selectionMode){for(var f=function(e){return(a._selecting!==e&&!1===a._allowSelection||(-1===a._selecting||a.selectedIndex!==e)&&!0===a._allowSelection)&&!a._items[e]._disabled},g=0;g<a._items.length;g++){var v=a._items[g];a.addHandler(v,"click.ribbon"+n,e),a.addHandler(v,"mouseenter.ribbon"+n,t),a.addHandler(v,"mouseleave.ribbon"+n,i),a.addHandler(v,"mousedown.ribbon"+n,s)}if("popup"===a.mode){a.addHandler(a.host,"mouseleave.ribbon"+n,function(){"mouseLeave"===a.popupCloseMode&&"popup"===a.mode&&a._clearSelection()});for(var x=0;x<a._contentSections.length;x++)a.addHandler(a._contentSections[x],"mouseleave.ribbon"+n,r);a.addHandler(j(document),"mousedown.ribbon"+n,function(e){m(e)})}if(!0===a._removeByDrag)for(var w=0;w<a._items.length;w++)a._items[w].className+=" "+a.toThemeProperty("jqx-ribbon-item-docking-layout");a.addHandler(document,"mouseup.ribbon"+n,function(){l=!1;for(var e=0;e<a._items.length;e++)a._items[e].style.cursor=""}),a.addHandler(a._header,"mouseleave.ribbon"+n,function(e){!0===a._removeByDrag&&!0===l&&(a._raiseEvent("3",{draggedIndex:o,x:e.pageX,y:e.pageY}),1<a._items.length&&a.removeAt(o),l=!1,e.target.style.cursor="")})}else if("hover"===a.selectionMode){for(var y=0;y<a._items.length;y++){var b=a._items[y];a.addHandler(b,"mouseenter.ribbon"+n,d),"popup"===a.mode&&a.addHandler(b,"click.ribbon"+n,h)}if("popup"===a.mode){a.addHandler(a.host,"mouseleave.ribbon"+n,function(){"mouseLeave"===a.popupCloseMode&&"popup"===a.mode&&a._clearSelection()});for(var _=0;_<a._contentSections.length;_++)a.addHandler(a._contentSections,"mouseleave.ribbon"+n,c);a.addHandler(j(document),"mousedown.ribbon"+n,function(e){m(e)})}}j.jqx.mobile.isTouchDevice()?(u="touchstart",p="touchend"):(u="mousedown",p="mouseup"),a.addHandler(a._scrollButtonNear,u+".ribbon"+n,function(){return"horizontal"===a._orientation?a._timeoutNear=setInterval(function(){var e=a._headerElement.scrollLeft,t=a.rtl&&"msie"===a._browser.browser?-1:1;a._headerElement.scrollLeft=e-a.scrollStep*t,a._updatePositions()},a.scrollDelay):a._timeoutNear=setInterval(function(){var e=a._headerElement.scrollTop;a._headerElement.scrollTop=e-a.scrollStep,a._updatePositions()},a.scrollDelay),!1}),a.addHandler(a._scrollButtonFar,u+".ribbon"+n,function(){return"horizontal"===a._orientation?a._timeoutFar=setInterval(function(){var e=a._headerElement.scrollLeft,t=a.rtl&&"msie"===a._browser.browser?-1:1;a._headerElement.scrollLeft=e+a.scrollStep*t,a._updatePositions()},a.scrollDelay):a._timeoutFar=setInterval(function(){var e=a._headerElement.scrollTop;a._headerElement.scrollTop=e+a.scrollStep,a._updatePositions()},a.scrollDelay),!1}),a.addHandler(j(document),p+".ribbon"+n,function(){clearInterval(a._timeoutNear),clearInterval(a._timeoutFar)})},_removeHandlers:function(e,t){var i,s,r=this,n=r.element.id;e||(e=r.selectionMode),t||(t=r.mode);for(var o=0;o<r._items.length;o++){var a=r._items[o];r.removeHandler(a,"mouseenter.ribbon"+n),"click"===e&&(r.removeHandler(a,"click.ribbon"+n),r.removeHandler(a,"mouseleave.ribbon"+n),r.removeHandler(a,"mousedown.ribbon"+n))}"click"===e?(r.removeHandler(document,"mouseup.ribbon"+n),r.removeHandler(r._header,"mouseleave.ribbon"+n)):"hover"===e&&"popup"===t&&r.removeHandler(r.host,"mouseleave.ribbon"+n),j.jqx.mobile.isTouchDevice()?(i="touchstart",s="touchend"):(i="mousedown",s="mouseup"),r.removeHandler(r._scrollButtonNear,i+".ribbon"+n),r.removeHandler(r._scrollButtonFar,i+".ribbon"+n),r.removeHandler(j(document),s+".ribbon"+n)},_checkStructure:function(e){if(2!==e.length)throw new Error("jqxRibbon: Invalid HTML structure. You need to add a ul and a div to the widget container.");if(this._header.children().length!==this._content.children().length)throw new Error("jqxRibbon: Invalid HTML structure. For each list item you must have a corresponding div element.")},_addClasses:function(){var e,t,i,s=this,r="jqx-widget-content jqx-ribbon-content-section jqx-ribbon-content-section-"+s.position,n="jqx-widget-content jqx-ribbon-content jqx-ribbon-content-"+s._orientation,o="jqx-widget-header jqx-disableselect jqx-ribbon-header jqx-ribbon-header-"+s._orientation,a="jqx-ribbon-item jqx-ribbon-item-"+s.position;if(s._content.removeClass(),s._header.removeClass(s.toThemeProperty("jqx-rc-all jqx-widget-header jqx-disableselect jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-rc-all jqx-ribbon-header-"+s._orientation+"-popup jqx-ribbon-header-bottom jqx-ribbon-header-auto jqx-ribbon-header-right jqx-ribbon-header-rtl")),s.host.removeClass(),s._roundedCorners)switch(s.position){case"top":o+=" jqx-rc-t",a+=" jqx-rc-t",r+=" jqx-rc-b";break;case"bottom":o+=" jqx-rc-b",a+=" jqx-rc-b",r+=" jqx-rc-t";break;case"left":o+=" jqx-rc-l",a+=" jqx-rc-l",r+=" jqx-rc-r";break;case"right":o+=" jqx-rc-r",a+=" jqx-rc-r",r+=" jqx-rc-l"}else switch(s.position){case"top":a+=" jqx-rc-t";break;case"bottom":a+=" jqx-rc-b";break;case"left":a+=" jqx-rc-l";break;case"right":a+=" jqx-rc-r"}!0===s.rtl&&(o+=" jqx-ribbon-header-rtl",a+=" jqx-ribbon-item-rtl"),s.element.className+=" "+s.toThemeProperty("jqx-widget jqx-ribbon"),s._headerElement.className+=" "+s.toThemeProperty(o),s._contentElement.className+=" "+s.toThemeProperty(n);for(var l=0;l<s._items.length;l++){var d=j(s._contentSections[l]),h=j(s._items[l]);d.removeClass(),h.removeClass(s.toThemeProperty("jqx-fill-state-disabled jqx-ribbon-item-rtl jqx-widget-content jqx-ribbon-item-selected jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-ribbon-item-docking-layout jqx-ribbon-item jqx-ribbon-item-"+s.position)),"popup"===s.mode&&(r+=" jqx-ribbon-content-section-popup jqx-ribbon-content-popup-"+s.position+" jqx-ribbon-content-section-"+s._orientation+"-popup"),s._contentSections[l].className+=" "+s.toThemeProperty(r),s._items[l].className+=" "+s.toThemeProperty(a)}("popup"===s.mode?(-1===s.selectedIndex&&s._roundedCorners&&(s.element.className+=" "+s.toThemeProperty("jqx-rc-all"),s._headerElement.className+=" "+s.toThemeProperty("jqx-rc-all")),s.element.className+=" "+s.toThemeProperty("jqx-ribbon-popup"),s._headerElement.className+=" "+s.toThemeProperty("jqx-ribbon-header-"+s._orientation+"-popup"),s._contentElement.className+=" "+s.toThemeProperty("jqx-ribbon-content-popup"),s._positionPopup()):"horizontal"===s._orientation?"auto"!==s.height?(t=s._headerElement.offsetHeight,"top"===s.position?s._contentElement.style.paddingTop=s._toPx(t):s._headerElement.className+=" "+s.toThemeProperty("jqx-ribbon-header-bottom")):s._headerElement.className+=" "+s.toThemeProperty("jqx-ribbon-header-auto"):"vertical"===s._orientation&&("auto"!==s.width?(e=s._headerElement.offsetWidth,"left"===s.position?s._contentElement.style.paddingLeft=s._toPx(e):(s._headerElement.className+=" "+s.toThemeProperty("jqx-ribbon-header-right"),s._contentElement.style.paddingRight=s._toPx(e))):(s.element.className+=" "+s.toThemeProperty("jqx-ribbon-auto"),s._headerElement.className+=" "+s.toThemeProperty("jqx-ribbon-header-auto"),s._contentElement.className+=" "+s.toThemeProperty("jqx-ribbon-content-auto-width"))),j(s._headerElement).addClass(s.toThemeProperty("jqx-ribbon-header-"+s.position)),"7.0"===s._browser.version&&"msie"===s._browser.browser)&&("horizontal"===s._orientation?(s._header.css("width",s.host.width()-parseInt(s._header.css("padding-left"),10)-parseInt(s._header.css("padding-right"),10)-parseInt(s._header.css("border-left-width"),10)-parseInt(s._header.css("border-right-width"),10)),s._items.height(s._items.height()-parseInt(s._items.css("padding-top"),10)-parseInt(s._items.css("padding-bottom"),10)-parseInt(s._items.css("border-top-width"),10)-parseInt(s._items.css("border-bottom-width"),10)),s._contentSections.width(s._contentSections.width()-parseInt(s._contentSections.css("border-left-width"),10)-parseInt(s._contentSections.css("border-right-width"),10)-parseInt(s._contentSections.css("padding-left"),10)-parseInt(s._contentSections.css("padding-right"),10)),"default"===s.mode&&"auto"!==s.height&&("top"===s.position?s._contentSections.css("padding-top",t):s._contentSections.css("padding-bottom",t),s._content.css("height",s.host.height()+2),s._contentSections.css("height",s._content.height()-parseInt(s._contentSections.css("border-bottom-width"),10)-parseInt(s._contentSections.css("border-top-width"),10)-1))):("left"===s.position?(s._contentElement.className+=" "+s.toThemeProperty("jqx-ribbon-content-left"),i=parseInt(s._contentSections.css("border-left-width"),10)+parseInt(s._contentSections.css("border-right-width"),10)+1):(s._contentElement.className+=" "+s.toThemeProperty("jqx-ribbon-content-right"),i=0),s._header.css("height",s.host.height()-parseInt(s._header.css("padding-top"),10)-parseInt(s._header.css("padding-bottom"),10)-parseInt(s._header.css("border-top-width"),10)-parseInt(s._header.css("border-bottom-width"),10)),s._items.width(s._items.width()-parseInt(s._items.css("padding-left"),10)-parseInt(s._items.css("padding-right"),10)-parseInt(s._items.css("border-left-width"),10)-parseInt(s._items.css("border-right-width"),10)),s._contentSections.height(s._contentSections.height()-parseInt(s._contentSections.css("border-top-width"),10)-parseInt(s._contentSections.css("border-bottom-width"),10)-parseInt(s._contentSections.css("padding-top"),10)-parseInt(s._contentSections.css("padding-bottom"),10)),"default"===s.mode&&"auto"!==s.width&&("left"===s.position?s._contentSections.css("padding-left",e):s._contentSections.css("padding-right",e),s._contentSections.width(s._content.width()-s._header.width()-i))));"bottom"===s.position&&s._content.css("padding-bottom",t)},_positionPopup:function(){var e=this,t="7.0"===e._browser.version&&"msie"===e._browser.browser;switch(e.position){case"top":e._contentElement.style.top=e._toPx(e._headerElement.offsetHeight);break;case"bottom":e._contentElement.style.bottom=t?e._toPx(e._height(e._headerElement)):e._toPx(e._headerElement.offsetHeight);break;case"left":e._contentElement.style.left=e._toPx(e._headerElement.offsetWidth);break;case"right":e._contentElement.style.right=e._header.outerWidth()+"px"}},_appendScrollButtons:function(){var s=this,e="horizontal"===s._orientation?["left","right"]:["up","down"];function t(e,t,i){e.className=s.toThemeProperty("jqx-ribbon-scrollbutton jqx-ribbon-scrollbutton-"+s.position+" jqx-ribbon-scrollbutton-"+s.scrollPosition+" jqx-widget-header "+t),e.innerHTML='<div class="'+s.toThemeProperty("jqx-ribbon-scrollbutton-inner "+i)+'"></div>',"horizontal"===s._orientation?e.style.height=s._toPx(s._height(s._headerElement)):e.style.width=s._toPx(s._width(s._headerElement)),s.element.appendChild(e)}var i=document.createElement("div");t(i,"jqx-ribbon-scrollbutton-lt","jqx-icon-arrow-"+e[0]);var r=document.createElement("div");if(t(r,"jqx-ribbon-scrollbutton-rb","jqx-icon-arrow-"+e[1]),s._scrollButtonRc(i,r),s._scrollButtonNear=i,s._scrollButtonFar=r,s.roundedCorners)switch(s.position){case"top":case"bottom":i.style.marginLeft="-1px",r.style.marginRight="-1px";break;case"right":case"left":i.style.marginTop="-1px",r.style.marginBottom="-1px"}},_scrollButtonRc:function(e,t){var i=this;if(i.roundedCorners)switch(i.position){case"top":"far"!==i.scrollPosition&&(e.className+=" "+i.toThemeProperty("jqx-rc-tl")),"near"!==i.scrollPosition&&(t.className+=" "+i.toThemeProperty("jqx-rc-tr"));break;case"bottom":"far"!==i.scrollPosition&&(e.className+=" "+i.toThemeProperty("jqx-rc-bl")),"near"!==i.scrollPosition&&(t.className+=" "+i.toThemeProperty("jqx-rc-br"));break;case"left":"far"!==i.scrollPosition&&(e.className+=" "+i.toThemeProperty("jqx-rc-tl")),"near"!==i.scrollPosition&&(t.className+=" "+i.toThemeProperty("jqx-rc-bl"));break;case"right":"far"!==i.scrollPosition&&(e.className+=" "+i.toThemeProperty("jqx-rc-tr")),"near"!==i.scrollPosition&&(t.className+=" "+i.toThemeProperty("jqx-rc-br"))}},_updateItems:function(e){function t(){i._items[s]._index===i.selectedIndex&&(i.selectedIndex=s)}var i=this;i._items=i._header.children(),i._contentSections=i._content.children();for(var s=0;s<i._items.length;s++){var r=i._items[s];r.setAttribute("unselectable","on"),void 0===r._index&&(r._disabled=!1,r._isInitialized=!1,i._contentSections[s]._layout="default"),!0===e&&t(),r._index=s,!0!==e&&t(),i._contentSections[s]&&(i._contentSections[s]._index=s)}},_positionContent:function(e){var t,i,s,r,n,o,a=this,l=a._contentSections[e];"horizontal"===a._orientation?(t=a.element.offsetWidth,i=a.host.offset().left,s=a._items[e].offsetWidth,r=j(a._items[e]).offset().left,n=l.offsetWidth||parseInt(l.style.width,10),o="left"):(t=a.element.offsetHeight,i=a.host.offset().top,s=a._items[e].offsetHeight,r=j(a._items[e]).offset().top,n=l.offsetHeight||parseInt(l.style.height,10),o="top");var d=function(e){e<0?e=0:t<e+n&&(e=t-n),l.style[o]=a._toPx(e)};switch(l._layout){case"near":d(r-i);break;case"far":d(r-i-(n-s));break;case"center":d(r-i-(n-s)/2);break;default:if("right"===a.position)for(var h=0;h<a._contentSections.length;h++)a._contentSections[h].style.right="1px";else l.style[o]=""}},_checkScrollButtons:function(e){var t=this,i=0;j.each(t._items,function(){var e=j(this);"none"!==e.css("display")&&(i+="horizontal"===t._orientation?e.outerWidth(!0):e.outerHeight(!0))});var s="horizontal"===t._orientation?["margin-left","margin-right"]:["margin-top","margin-bottom"],r="horizontal"===t._orientation?t._width(t._headerElement):t._height(t._headerElement);if(t._itemMargins||(t._itemMargins=[],t._itemMargins.push(j(t._items[0]).css(s[0])),t._itemMargins.push(j(t._items[t._items.length-1]).css(s[1]))),r<i){t._scrollButtonNear.style.display="block",t._scrollButtonFar.style.display="block";var n=t.rtl?t._itemMargins[0]:17,o=t.rtl?t._itemMargins[0]:17;switch(t.scrollPosition){case"near":o=0,n=34;break;case"far":o=34,n=17}t._items[0]&&(t._items[0].style[s[0]]=t._toPx(n)),t._items[t._items.length-1]&&(t._items[t._items.length-1].style[s[1]]=t._toPx(o))}else t._items[0]&&(t._items[0].style[s[0]]=t._toPx(t._itemMargins[0])),t._items[t._items.length-1]&&(t._items[t._items.length-1].style[s[1]]=t._toPx(t._itemMargins[1])),t._scrollButtonNear.style.display="none",t._scrollButtonFar.style.display="none";if(!0===e)if("horizontal"===t._orientation){var a=t._toPx(t._height(t._headerElement));t._scrollButtonNear.style.height=a,t._scrollButtonFar.style.height=a}else{var l=t._toPx(t._width(t._headerElement));t._scrollButtonNear.style.width=l,t._scrollButtonFar.style.width=l}},_positionSelectionToken:function(e){var t=this;if(-1!==e){var i,s,r,n,o,a=j(t._items[e]);if(0===a.length)return;if("horizontal"===t._orientation){var l,d;!0===t.rtl?(l=1===t._browserWidthRtlFlag?t._headerElement.scrollWidth-t._headerElement.clientWidth:0,d=t._browserScrollRtlFlag):(l=0,d=1),r=a[0].offsetLeft+l-t._headerElement.scrollLeft*d-t._selectionTokenOffsetX+2,o=t._headerElement.offsetHeight-1;var h=t._width(a[0])+parseInt(a.css("padding-left"),10)+parseInt(a.css("padding-right"),10);"top"===t.position?(i=o-t._selectionTokenOffsetY,s=""):(i="",s=o-t._selectionTokenOffsetY),t._selectionToken.style.top=t._toPx(i),t._selectionToken.style.bottom=t._toPx(s),t._selectionToken.style.left=t._toPx(r),t._selectionToken.style.width=t._toPx(h)}else{i=a[0].offsetTop-t._headerElement.scrollTop-t._selectionTokenOffsetX+2,o=t._headerElement.offsetWidth-1;var c=t._height(a[0])+parseInt(a.css("padding-top"),10)+parseInt(a.css("padding-bottom"),10);"left"===t.position?(r=o-t._selectionTokenOffsetY,n=""):(r="",n=o-t._selectionTokenOffsetY),t._selectionToken.style.top=t._toPx(i),t._selectionToken.style.left=t._toPx(r),t._selectionToken.style.right=t._toPx(n),t._selectionToken.style.height=t._toPx(c)}}},_updatePositions:function(e,t){var i=this;if(isNaN(e)&&(e=!0===t&&null!==i._selecting&&0<=i._selecting?i._selecting:i.selectedIndex),-1!==e&&(i._positionSelectionToken(e),"popup"===i.mode&&"default"!==i._contentSections[e]._layout&&i._positionContent(e),"popup"===i.mode&&("left"===i.position||"right"===i.position))){i._contentElement.style.width="auto";var s=i._contentSections[e].style.width&&0<=i._contentSections[e].style.width.indexOf("%");i._contentElement.style.width=s?i._toPx(i._width(i._contentSections[e])-i._width(i._headerElement)):i._toPx(i._width(i._contentSections[e]))}},_animationComplete:function(e,t){var i=this,s=-1!==t?t:null;i._contentElement.style.pointerEvents="auto",i.selectedIndex=e,!0!==i._suppressSelectionEvents?(i._raiseEvent("0",{selectedIndex:e}),i._raiseEvent("2",{unselectedIndex:s,selectedIndex:e})):(!0!==i._suppressReorder&&void 0!==i._oldReorderIndex&&e!==i._oldReorderIndex&&i._raiseEvent("4",{newIndex:e,oldIndex:i._oldReorderIndex}),i._suppressSelectionEvents=!1,i._suppressReorder=!1),i.initContent&&!1===i._items[e]._isInitialized&&(i.initContent(e),i._items[e]._isInitialized=!0),i._allowSelection=!0,i._selecting=null},_clearSelectionComplete:function(e,t){this._selecting=null,void 0===e&&(e=this.selectedIndex),-1!==e&&(this._contentElement.style.pointerEvents="none",!0!==this._suppressSelectionEvents&&this._raiseEvent("1",{unselectedIndex:e})),!0!==t&&(this.selectedIndex=-1)},_slide:function(e,t,i,s){var r=this;if(r.activeAnimations||(r.activeAnimations=[]),0<r.activeAnimations.length)for(var n=0;n<r.activeAnimations.length;n++)r.activeAnimations[n].clearQueue(),r.activeAnimations[n].finish();else e.clearQueue(),e.animate("finish");var o,a="ui-effects-",l=function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&0<e.length&&e.data(a+t[i],e[0].style[t[i]])},d=function(e,t){var i,s;for(s=0;s<t.length;s++)null!==t[s]&&(void 0===(i=e.data(a+t[s]))&&(i=""),e.css(t[s],i))},h=function(i){if(i.parent().is(".ui-effects-wrapper"))return i.parent();var s={width:i.outerWidth(!0),height:i.outerHeight(!0),float:i.css("float")},e=j("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),t={width:i.width(),height:i.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return i.wrap(e),(i[0]===r||j.contains(i[0],r))&&j(r).focus(),e=i.parent(),"static"===i.css("position")?(e.css({position:"relative"}),i.css({position:"relative"})):(j.extend(s,{position:i.css("position"),zIndex:i.css("z-index")}),j.each(["top","left","bottom","right"],function(e,t){s[t]=i.css(t),isNaN(parseInt(s[t],10))&&(s[t]="auto")}),i.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(t),e.css(s).show()},c=function(e){var t=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===t||j.contains(e[0],t))&&j(t).focus()),e},u=["position","top","bottom","left","right","width","height"],p=t.mode,m="show"===p,f=t.direction||"left",g="up"===f||"down"===f?"top":"left",v="up"===f||"left"===f,x={};l(e,u),e.show(),o=t.distance||e["top"===g?"outerHeight":"outerWidth"](!0),h(e).css({overflow:"hidden"}),m&&e.css(g,v?isNaN(o)?"-"+o:-o:o),x[g]=(m?v?"+=":"-=":v?"-=":"+=")+o;return r.activeAnimations.push(e),e.animate(x,{duration:t.duration,easing:t.easing,complete:function(){r.activeAnimations.pop(e),"show"===p?r._animationComplete(i,s):"hide"===p&&(e.hide(),r._clearSelectionComplete(i)),d(e,u),c(e)}}),function(){e.clearQueue(),e.stop(!0,!0)}},_toPx:function(e){return"number"==typeof e?e+"px":e},_width:function(e){var t=j(e),i=t.css("border-left-width"),s=t.css("border-right-width"),r=parseInt(t.css("padding-left"),10),n=parseInt(t.css("padding-right"),10),o="none"===t.css("display");o&&(e.style.display="block"),i=-1===i.indexOf("px")?1:parseInt(i,10),s=-1===s.indexOf("px")?1:parseInt(s,10);var a=e.offsetWidth-(i+s+r+n);return o&&(e.style.display="none"),Math.max(0,a)},_height:function(e){var t=j(e),i=t.css("border-top-width"),s=t.css("border-bottom-width"),r=parseInt(t.css("padding-top"),10),n=parseInt(t.css("padding-bottom"),10);i=-1===i.indexOf("px")?1:parseInt(i,10),s=-1===s.indexOf("px")?1:parseInt(s,10);var o=e.offsetHeight-(i+s+r+n);return Math.max(0,o)},_closest:function(e,t,i){if(t){if(e.nodeName.toLowerCase()===t)return e;for(var s=e.parentNode;null!==s&&"#document"!==s.nodeName;){if(s.nodeName.toLowerCase()===t)return s;s=s.parentNode}}if(i){if(-1<(" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(" "+i+" "))return e;for(var r=e.parentNode;null!==r&&"#document"!==r.nodeName;){if(-1<(" "+r.className+" ").replace(/[\n\t]/g," ").indexOf(" "+i+" "))return r;r=r.parentNode}}},_initAnimate:function(e){if(e.initAnimate){if(e.animate)return;e.initAnimate()}}})}(jqxBaseFramework),function(Ne){Ne.jqx.scheduler||(Ne.jqx.scheduler={}),Ne.jqx.jqxWidget("jqxScheduler","",{}),Ne.extend(Ne.jqx._jqxScheduler.prototype,{defineInstance:function(){var e={altRows:!1,autoShowLoadElement:!0,columnsHeight:30,columns:[],columnGroups:null,dataview:null,disabled:!1,enableHover:!0,appointmentOpacity:.8,headerZIndex:335,height:600,timeRulerWidth:60,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",localization:null,ready:null,renderToolBar:null,renderAppointment:null,rendered:null,rendering:null,rtl:!1,showToolbar:!0,showLegend:!1,legendPosition:"bottom",legendHeight:34,rowsHeight:27,touchRowsHeight:36,appointmentsMinHeight:18,touchAppointmentsMinHeight:27,appointmentsRenderMode:"default",serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:Ne.jqx.utilities.scrollBarSize,touchScrollBarSize:Ne.jqx.utilities.touchScrollBarSize,showHeader:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,showAllDayRow:!0,changedAppointments:new Array,renderMode:"simple",views:new Array,view:0,min:new Ne.jqx.date(0),max:new Ne.jqx.date(9999,12,31),date:new Ne.jqx.date("todayDate"),colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF","#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8","#E8601A","#FF9639","#F5BD6A","#599994","#115D6E","#D02841","#FF7C41","#FFC051","#5B5F4D","#364651","#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00","#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B","#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63","#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6","#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F","#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825","#993144","#FFA257","#CCA56A","#ADA072","#949681","#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932","#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54","#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3","#444546","#FFBB6E","#F28D00","#D94F00","#7F203B","#583C39","#674E49","#948658","#F0E99A","#564E49","#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17","#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5","#844341","#D5CC92","#BBA146","#897B26","#55591C","#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472","#96003A","#FF7347","#FFBC7B","#FF4154","#642223","#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E","#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7","#7B1A25","#BF5322","#9DA860","#CEA457","#B67818","#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46","#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800","#FF6800","#A0A700","#FF8D00","#678900","#0069A5"],colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],resources:null,contextMenu:!0,contextMenuOpen:null,contextMenuClose:null,contextMenuItemClick:null,contextMenuCreate:null,timeZone:null,statuses:{free:"white",tentative:"tentative",busy:"transparent",outOfOffice:"#800080"},appointmentDataFields:{from:"from",to:"to",id:"id",calendarId:"calendarId",description:"description",location:"location",subject:"subject",background:"background",color:"color",borderColor:"borderColor",style:"style",recurrencePattern:"recurrencePattern",recurrenceException:"recurrenceException",draggable:"draggable",resizable:"resizable",resourceId:"resourceId",status:"status",tooltip:"tooltip",hidden:"hidden",allDay:"allDay",timeZone:"timeZone",ownerId:"ownerId"},appointmentTooltips:!0,tableColumns:1,tableRows:1,dayNameFormat:"full",touchDayNameFormat:"abbr",toolBarRangeFormat:"dd MMMM yyyy",toolBarRangeFormatAbbr:"dd MM yyyy",columnRenderer:null,exportSettings:{serverURL:null,characterSet:null,fileName:"jqxScheduler",dateTimeFormatString:"S",resourcesInMultipleICSFiles:!1,ICSXWRCALNAME:"jqxScheduler",ICSXWRCALDESC:"jqxScheduler Description"},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},editDialogDateTimeFormatString:"dd/MM/yyyy hh:mm tt",editDialogDateFormatString:"dd/MM/yyyy",editDialogOpen:null,editDialogCreate:null,editDialogKeyDown:null,editDialogClose:null,editDialog:!0,toolbarHeight:54,tableZIndex:669,_updating:!1,touchMode:"auto",width:800,that:this,beginDrag:null,endDrag:null,dragging:null,timeZones:[{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Rome",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Budapest, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}]};return this===Ne.jqx._jqxScheduler.prototype||(Ne.extend(!0,this,e),this.that=this),e},createInstance:function(e){var r=this;r._views=new Array,r._view=r.view;for(var t=0;t<r.views.length;t++)"string"===Ne.type(r.views[t])?r._views.push({type:r.views[t]}):r._views.push(r.views[t]);for(t=0;t<r._views.length;t++)if(r._views[t].type==r.view){r._view=t;break}15!=Ne.jqx.utilities.scrollBarSize&&(r.scrollBarSize=Ne.jqx.utilities.scrollBarSize),r.source&&!r.source.dataBind&&(r.source=new Ne.jqx.dataAdapter(r.source));var i=r.source._source.datafields;i&&0<i.length&&(r._camelCase=void 0!==r.source._source.dataFields,r.selectionMode=r.selectionMode.toLowerCase()),null==r.host.attr("tabindex")&&r.host.attr("tabindex","0"),r.host.attr("role","grid"),r.host.attr("align","left"),r.host.addClass(r.toTP("jqx-grid")),r.host.addClass(r.toTP("jqx-scheduler")),r.host.addClass(r.toTP("jqx-reset")),r.host.addClass(r.toTP("jqx-rc-all")),r.host.addClass(r.toTP("jqx-widget")),r.host.addClass(r.toTP("jqx-widget-content jqx-disableselect")),r._testmodules()||(r.overlay=Ne("<div style='z-index: 999; position:absolute;'></div>"),r.overlay.hide(),r.overlay.appendTo(r.host),r.render(!0),Ne.jqx.utilities.resize(r.host,function(){var e=Ne(window).width(),t=Ne(window).height();r._hostWidth=null,r._hostHeight=null;var i=r.host.width(),s=r.host.height();r._hostWidth=i,r._hostHeight=s,r._lastHostWidth==i&&r._lastHostHeight==s||r._updatesize(r._lastHostWidth!=i,r._lastHostHeight!=s),r._lastWidth=e,r._lastHeight=t,r._lastHostWidth=i,r._lastHostHeight=s}),r.createEditRecurrenceDialog())},createEditRecurrenceDialog:function(){var t=this;t.editRecurrenceDialog=null;var i=Ne("<div><div>"+t.schedulerLocalization.editRecurringAppointmentDialogTitleString+"</div><div><div>"+t.schedulerLocalization.editRecurringAppointmentDialogContentString+"</div><div style='position: absolute; white-space:nowrap; text-overflow: ellipsis; left:0px; width:100%; bottom: 0px;'><button title='"+t.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"' id='editRecurringAppointmentOccurrence."+t.element.id+"' style='white-space:nowrap; text-overflow: ellipsis; border-left-width: 0px;  border-bottom-width: 0px; border-radius:0px; width:50%;'>"+t.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"</button><button title='"+t.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"' id='editRecurringAppointmentSeries."+t.element.id+"' style=' white-space:nowrap; text-overflow: ellipsis; border-bottom-width: 0px;  border-left-width: 0px; border-right-width:0px; width:50%; border-radius:0px;'>"+t.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"</button></div></div></div>");t.editRecurrenceDialog=i,Ne(i).jqxWindow({rtl:t.rtl,autoFocus:!1,animationType:"none",autoOpen:!1,theme:t.theme,minWidth:300,minHeight:110,resizable:!1});var e=i.find("button");e.jqxButton({theme:t.theme,width:"50%",height:30});var s=!1;e.mousedown(function(){s=!0,0<=this.id.indexOf("editRecurringAppointmentOccurrence")?t.editSeries(!1):t.editSeries(!0),Ne(i).jqxWindow("close")}),this.addHandler(Ne(i),"open",function(e){t._raiseEvent("editRecurrenceDialogOpen",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})}),t.addHandler(Ne(i),"keydown",function(e){if(13==e.keyCode&&Ne(document.activeElement).ischildof(Ne(i))&&"button"==document.activeElement.nodeName.toLowerCase())return Ne(document.activeElement).trigger("mousedown"),Ne(document.activeElement).trigger("mouseup"),!0}),this.addHandler(Ne(i),"close",function(e){if(!s)return t._removeFeedbackAndStopResize(),t.overlay.hide(),t.focus(),t._raiseEvent("editRecurrenceDialogClose",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null}),!1;s=!1,t.overlay.hide(),t.focus(),t._raiseEvent("editRecurrenceDialogClose",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})}),t.editRecurrenceDialog=i},getViewStart:function(){var e=this.getVisibleDate(),t=this._views[this._view].type;this._views[this._view];switch(t){case"dayView":case"timelineDayView":return e}return this.getFirstDayOfWeek(e)},getViewEnd:function(){var e=this.getViewStart(),t=1,i=this._views[this._view].type,s=this._views[this._view];switch(i){case"dayView":t=1;break;case"timelineDayView":t=1,s.days&&(t=s.days);break;case"weekView":case"timelineWeekView":t=7,s.days&&(t=s.days);break;case"monthView":t=41;break;case"timelineMonthView":t=41,s.days&&(t=s.days);break;case"agendaView":t=7,s.days&&(t=s.days)}return e.addDays(t)},getFirstDayOfWeek:function(e){var t=e,i=this.schedulerLocalization.firstDay;for((i<0||6<i)&&(i=6);t.dayOfWeek()!=i;)t.addDays(-1,!1);return t},getVisibleDate:function(){var e=this.date;e<this.min&&(e=this.min),e>this.max&&(e=this.max);var t=this._views[this._view].type;this._views[this._view];switch(e=e.clearTime(),t){case"dayView":case"weekView":case"timelineDayView":case"timelineWeekView":case"agendaView":return e}var i=e.day();return e=e.addDays(1-i)},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=Ne('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var e=Ne('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.schedulerLocalization.loadString+"</span></div></div>");if(e.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),e.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(e),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url){var t=!1;("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(t=!0),t?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height));var i=!1;("auto"===this.width||null===this.width||this.autoWidth)&&(i=!0),i?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width))}},_measureElement:function(e){var t=Ne("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");t.addClass(this.toTP("jqx-widget")),Ne(document.body).append(t),"cell"==e?this._cellheight=t.height():this._columnheight=t.height(),t.remove()},_testmodules:function(){var e="",t=function(){""!=e.length&&(e+=",")};this.host.jqxScrollBar||(t(),e+=" jqxscrollbar.js"),this.host.jqxButton||(t(),e+=" jqxbuttons.js"),Ne.jqx.dataAdapter||(t(),e+=" jqxdata.js"),this.host.jqxDateTimeInput||(t(),e+=" jqxdatetimeinput.js"),this.host.jqxCalendar||(t(),e+=" jqxcalendar.js");try{Globalize||(t(),e+=" globalize.js")}catch(e){}if(""!=e)throw new Error("jqxScheduler: Missing references to the following module(s): "+e);return!1},focus:function(){try{if(this.isTouchDevice())return;if(this._editDialog&&this._editDialog.jqxWindow("isOpen")){var e=this;return setTimeout(function(){e.editDialogFields.subject.focus(),e.editDialogFields.subject.select()},1),void(this.focused=!0)}if(document.activeElement==this.element)return;this.host.focus();e=this;setTimeout(function(){e.host.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return Ne.jqx.isHidden(this.host)},_updatesize:function(e,t){if(!this._loading){var i=this,s=i.host.width(),r=i.host.height();i._oldWidth||(i._oldWidth=s),i._oldHeight||(i._oldHeight=r),null!=i._resizeTimer&&(clearTimeout(i._resizeTimer),i._resizeTimer=null);var n=function(){i._resizeTimer&&clearTimeout(i._resizeTimer),i.resizingGrid=!0,Ne.jqx.isHidden(i.host)||(i._updatecolumnwidths(),i.refresh(),i._oldWidth=s,i._oldHeight=r,i.resizingGrid=!1)};n(),i._resizeTimer=setTimeout(function(){var e=i.host.width(),t=i.host.height();i._oldWidth==e&&i._oldHeight==t||n()},300)}},resize:function(e,t){null!=e&&(this.width=e),null!=t&&(this.height=t),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var e=Ne.jqx.mobile.isTouchDevice();return this.touchDevice=e,1==this.touchMode?(e=!0,Ne.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=e):0==this.touchMode&&(e=!1),e&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),e},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(e,t){if(this._cellscache=new Array,Ne.jqx.dataFormat&&Ne.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxScheduler: "+this.loadingErrorMessage);if(null!=e){for(var i in this.schedulerLocalization)e[i]&&(this.schedulerLocalization[i]=e[i]);e.loadingErrorMessage&&(this.loadingErrorMessage=e.loadingErrorMessage),!1!==t&&(this._builddataloadelement(),Ne(this.dataloadelement).css("visibility","hidden"),Ne(this.dataloadelement).css("display","none"))}else this.schedulerLocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},agendaDateColumn:"Date",agendaTimeColumn:"Time",agendaAppointmentColumn:"Appointment",backString:"Back",forwardString:"Forward",toolBarPreviousButtonString:"previous",toolBarNextButtonString:"next",emptyDataString:"No data to display",loadString:"Loading...",clearString:"Clear",todayString:"Today",dayViewString:"Day",weekViewString:"Week",monthViewString:"Month",agendaViewString:"Agenda",timelineDayViewString:"Timeline Day",timelineWeekViewString:"Timeline Week",timelineMonthViewString:"Timeline Month",agendaAllDayString:"all day",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",editRecurringAppointmentDialogTitleString:"Edit Recurring Appointment",editRecurringAppointmentDialogContentString:"Do you want to edit only this occurrence or the series?",editRecurringAppointmentDialogOccurrenceString:"Edit Occurrence",editRecurringAppointmentDialogSeriesString:"Edit The Series",editDialogTitleString:"Edit Appointment",editDialogCreateTitleString:"Create New Appointment",contextMenuEditAppointmentString:"Edit Appointment",contextMenuCreateAppointmentString:"Create New Appointment",editDialogSubjectString:"Subject",editDialogLocationString:"Location",editDialogFromString:"From",editDialogToString:"To",editDialogAllDayString:"All day",editDialogExceptionsString:"Exceptions",editDialogResetExceptionsString:"Reset on Save",editDialogDescriptionString:"Description",editDialogResourceIdString:"Owner",editDialogStatusString:"Status",editDialogColorString:"Color",editDialogColorPlaceHolderString:"Select Color",editDialogTimeZoneString:"Time Zone",editDialogSelectTimeZoneString:"Select Time Zone",editDialogSaveString:"Save",editDialogDeleteString:"Delete",editDialogCancelString:"Cancel",editDialogRepeatString:"Repeat",editDialogRepeatEveryString:"Repeat every",editDialogRepeatEveryWeekString:"week(s)",editDialogRepeatEveryYearString:"year(s)",editDialogRepeatEveryDayString:"day(s)",editDialogRepeatNeverString:"Never",editDialogRepeatDailyString:"Daily",editDialogRepeatWeeklyString:"Weekly",editDialogRepeatMonthlyString:"Monthly",editDialogRepeatYearlyString:"Yearly",editDialogRepeatEveryMonthString:"month(s)",editDialogRepeatEveryMonthDayString:"Day",editDialogRepeatFirstString:"first",editDialogRepeatSecondString:"second",editDialogRepeatThirdString:"third",editDialogRepeatFourthString:"fourth",editDialogRepeatLastString:"last",editDialogRepeatEndString:"End",editDialogRepeatAfterString:"After",editDialogRepeatOnString:"On",editDialogRepeatOfString:"of",editDialogRepeatOccurrencesString:"occurrence(s)",editDialogRepeatSaveString:"Save Occurrence",editDialogRepeatSaveSeriesString:"Save Series",editDialogRepeatDeleteString:"Delete Occurrence",editDialogRepeatDeleteSeriesString:"Delete Series",editDialogStatuses:{free:"Free",tentative:"Tentative",busy:"Busy",outOfOffice:"Out of Office"}}},_updateScrollbars:function(e){var t=!1,i=this;("auto"===i.width||null===i.width||i.autowidth)&&999999==i.maxWidth&&(t=!0);var s=i._views[i._view].type,r=i._views[i._view];if("monthView"==s&&i.resources&&"none"==i.resources.orientation&&!r.monthRowAutoHeight){var n=i.vScrollBar[0].style.visibility;return i.hScrollBar[0].style.visibility="hidden",i.vScrollBar[0].style.visibility="hidden",void(n!=i.vScrollBar[0].style.visibility&&i._updatecolumnwidths())}var o=parseInt(i.scrollBarSize),a=i.table?i.table.height():0,l=0,d="inherit";n=i.vScrollBar[0].style.visibility,i.hScrollBar[0].style.visibility;if(e)h=e;else var h=i.host.height();i.columnGroups?h-=i.showHeader?i.columnsheader.height():0:h-=i.showHeader?i.columnsHeight:0,i.filterable&&(h-=i.filter.height()),i.pageable&&(h-=i.pagerHeight,"both"===i.pagerPosition&&(h-=i.pagerHeight)),i.showToolbar&&(h-=i.toolbarHeight),i.showLegend&&0<i._resources.length&&(h-=i.legendHeight);var c=!1;("auto"===i.height||null===i.height||i.autoheight)&&999999==i.maxHeight&&(c=!0),!c&&h<a&&0<i.getRows().length?(i.vScrollBar[0].style.visibility=d,l=4+parseInt(o),i.vScrollBar.jqxScrollBar({max:a-h})):i.vScrollBar[0].style.visibility="hidden",n!=i.vScrollBar[0].style.visibility&&i._updatecolumnwidths();var u=i.table?i.table.width():0;4<u&&(u-=4);var p=parseInt(i.host.css("border-left-width"))+parseInt(i.host.css("border-right-width")),m=p+i.host.width()-l;if(m<u&&!t){if(i.hScrollBar[0].style.visibility=d,i.hScrollBar.jqxScrollBar({max:2+p+u-m}),l=4+parseInt(o),0==o&&(l=0),!c&&a!=h){if(h-l+4<a&&0<i.getRows().length){i.hScrollBar.jqxScrollBar({max:p+u-m});var f="hidden"===i.vScrollBar[0].style.visibility;i.vScrollBar[0].style.visibility=d,i._updatecolumnwidths(),f&&i.hScrollBar.jqxScrollBar({max:u-m+p});var g=i.table?i.table.width():0;3<g&&(g-=3),g!=u&&(g<m?(i.hScrollBar.jqxScrollBar({max:p+g-m}),i.hScrollBar[0].style.visibility="hidden",l=0):f?m<g&&i.hScrollBar.jqxScrollBar({max:p+g-m}):i.hScrollBar.jqxScrollBar({max:u-m+p-o}))}0<a-h?i.vScrollBar.jqxScrollBar({max:a-h+l}):i.vScrollBar[0].style.visibility="hidden"}}else i.hScrollBar[0].style.visibility="hidden";0===i.getRows().length&&(i.vScrollBar[0].style.visibility="hidden",i.bottomRight[0].style.visibility="hidden"),"hidden"==i.vScrollBar[0].style.visibility&&0!=i.vScrollInstance.value&&i.vScrollInstance.setPosition(0)},_measureElementWidth:function(e){var t=Ne("<span style='visibility: hidden; white-space: nowrap;'>"+e+"</span>");t.addClass(this.toTP("jqx-widget")),t.addClass(this.toTP("jqx-grid")),t.addClass(this.toTP("jqx-grid-column-header")),t.addClass(this.toTP("jqx-widget-header")),Ne(document.body).append(t);var i=t.outerWidth()+20;return t.remove(),i},_arrangeAutoHeight:function(e){if(e||(e=0),"auto"===this.height||null===this.height||this.autoheight){var t=this.table.height(),i=0;if(this._hostHeight=null,this.columnGroups?i+=this.showHeader?this.columnsheader.height():-1:i+=this.showHeader?this.columnsHeight:-1,i+=this.showLegend&&0<this._resources.length?this.legendHeight:0,i+=this.showToolbar?this.toolbarHeight:0,i+=this.pageable?this.pagerHeight:0,"both"===this.pagerPosition&&(i+=this.pageable?this.pagerHeight:0),i+=t,this.filterable){var s=this.filter.find(".filterrow"),r=1;0<this.filter.find(".filterrow-hidden").length&&(r=0),i+=this.filterHeight-1+this.filterHeight*s.length*r}return i+e>this.maxHeight?this.host.height(this.maxHeight):this.host.height(i+e),!0}return!1},_arrangeAutoWidth:function(e){if(e||(e=0),"auto"===this.width||null===this.width||this.autowidth){this._hostWidth=null;for(var t=0,i=0;i<this.columns.records.length;i++){var s=this.columns.records[i].width;this.columns.records[i].hidden||(t+="auto"==s?s=this._measureElementWidth(this.columns.records[i].text):s)}return width=t,width+e>this.maxWidth?this.host.width(this.maxWidth):this.host.width(width+e),!0}return!1},_measureTopAndHeight:function(){var e=this.host.height(),t=0;return this.showToolbar&&(t+=this.toolbarHeight,e-=parseInt(this.toolbarHeight)),this.showLegend&&"bottom"!=this.legendPosition&&0<this._resources.length&&(t+=parseInt(this.legendHeight)+1),{top:t,height:e}},_arrange:function(){if(this.table){this._arrangeAutoHeight(),this._arrangeAutoWidth();var e=this.legendHeight;0==this._resources.length&&(e=0);var t=this._hostWidth?this._hostWidth:this.host.width(),i=this._hostHeight?this._hostHeight:this.host.height(),s=i;this.showLegend&&"top"==this.legendPosition?this.legendbartop[0].style.visibility="inherit":this.legendbartop[0].style.visibility="hidden";var r=0;if(this.showToolbar?(this.toolbar.width(t),this.toolbar[0].style.height=this.toolbarHeight-1+"px",this.toolbar[0].style.top="0px",r+=this.toolbarHeight,i-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.showLegend&&"bottom"==this.legendPosition?(this.legendbarbottom[0].style.width=t+"px",this.legendbarbottom[0].style.height=e+"px"):this.legendbarbottom[0].style.height="0px",this.showLegend&&"top"==this.legendPosition){this.legendbartop[0].style.width!=t+"px"&&(this.legendbartop[0].style.width=parseInt(t)+"px"),this.legendbartop[0].style.height!=e+"px"&&(this.legendbartop[0].style.height=parseInt(e-1)+"px"),this.legendbartop[0].style.top!=r+"px"&&(this.legendbartop[0].style.top=r+"px");var n=r+e+"px";r+=e,this.content[0].style.top!=n&&(this.content[0].style.top=r+"px")}this.showLegend||(this.legendbartop[0].style.display="none",this.legendbarbottom[0].style.display="none"),this._updateScrollbars(s);var o=parseInt(this.scrollBarSize),a=2,l=0;if("hidden"!=this.vScrollBar[0].style.visibility&&(l=o+4),"hidden"!=this.hScrollBar[0].style.visibility&&(a=o+4+2),0==o&&(l=a=0),"hidden"!=this.vScrollBar[0].style.visibility||"hidden"!=this.hScrollBar[0].style.visibility){var d=this._arrangeAutoHeight(a-2),h=this._arrangeAutoWidth(l+1);if((d||h)&&(this.legendbartop[0].style.width=parseInt(t)+"px",this.toolbar[0].style.width=parseInt(t)+"px",this.legendbarbottom[0].style.width=parseInt(t)+"px",this.filter[0].style.width=parseInt(t)+"px"),d){var c=this._measureTopAndHeight();r=c.top,i=c.height}}var u=0;this.showLegend&&"bottom"==this.legendPosition?(a+=e,u+=e):this.showLegend&&(a+=e),this.hScrollBar[0].style.height!=o+"px"&&(this.hScrollBar[0].style.height=parseInt(o)+"px"),this.hScrollBar[0].style.top==r+i-4-o-u+"px"&&"0px"==this.hScrollBar[0].style.left||(this.hScrollBar[0].style.top=r+i-4-o-u-1+"px",this.hScrollBar[0].style.left="0px");var p=this.hScrollBar[0].style.width,m=!1,f=!1;0==l?p!=t-2+"px"&&(this.hScrollBar[0].style.width=t-2+"px",m=!0):p!=t-o-4+"px"&&(this.hScrollBar[0].style.width=t-o-4+"px",m=!0),this.vScrollBar[0].style.width!=o+"px"&&(this.vScrollBar[0].style.width=o+"px",f=!0),this.vScrollBar[0].style.height!=parseInt(i)-a+"px"&&(this.vScrollBar[0].style.height=parseInt(i)-a+"px",f=!0),this.vScrollBar[0].style.left==parseInt(t)-parseInt(o)-4+"px"&&this.vScrollBar[0].style.top==r+"px"||(this.vScrollBar[0].style.top=r+"px",this.vScrollBar[0].style.left=parseInt(t)-parseInt(o)-4+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:r}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:o+2}));var g=this.vScrollInstance;g.disabled=this.disabled;var v=this.hScrollInstance;v.disabled=this.disabled,m&&v.refresh(),f&&g.refresh();var x;"hidden"!=(x=this).vScrollBar[0].style.visibility&&"hidden"!=x.hScrollBar[0].style.visibility?(x.bottomRight[0].style.visibility="inherit",x.bottomRight[0].style.left=1+parseInt(x.vScrollBar.css("left"))+"px",x.bottomRight[0].style.top=parseInt(x.hScrollBar.css("top"))+"px",x.rtl&&x.bottomRight.css("left","0px"),x.bottomRight[0].style.width=parseInt(o)+3+"px",x.bottomRight[0].style.height=parseInt(o)+4+"px"):x.bottomRight[0].style.visibility="hidden",this.content[0].style.width!=t-l+"px"&&(this.content[0].style.width=t-l+"px"),this.content[0].style.height!=i-a+3+"px"&&(this.content[0].style.height=i-a+3+"px"),this.content[0].style.top!=r+"px"&&(this.content[0].style.top=parseInt(r)+"px"),this.rtl&&this.content.css("left",l),this.showLegend&&"bottom"==this.legendPosition&&(this.legendbarbottom.css("top",r-1+i-e-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.legendbarbottom.css("left",this.content.css("left")):this.legendbarbottom.css("left","0px"))),this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,t!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),i!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostWidth=t,this._hostHeight=s;var w=this.schedulercontent.coord();this._tableOffset=w}},scrollOffset:function(e,t){if(0==arguments.length||null!=e&&"object"==typeof e&&!e.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};if(null!=e&&"object"==typeof e)t=e.left,e=e.top;null!=e&&null!=t&&null!=e&&null!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&null!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&null!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginAppointmentsUpdate:function(){this._appupdating=!0},endAppointmentsUpdate:function(){this._appupdating=!1,this._renderrows()},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(e){(this._updating=!1)!==e&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(e,t,s){if(!0!==this.loadingstate){var r=window;"block"==this.host.css("display")&&(this.autoShowLoadElement?(Ne(this.dataloadelement).css("visibility","visible"),Ne(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(Ne(this.dataloadelement).css("visibility","hidden"),Ne(this.dataloadelement).css("display","none")));var y=this;null==e&&(e={}),null!=e.sortcomparer&&null!=e.sortcomparer||(e.sortcomparer=null),null!=e.filter&&null!=e.filter||(e.filter=null),null!=e.sort&&null!=e.sort||(e.sort=null),null!=e.data&&null!=e.data||(e.data=null);null!=e&&(null!=e._source?e._source.url:e.url),this.dataview=this.dataview||new Ne.jqx.scheduler.dataView("dataView"),this.resourcesDataView=this.resourcesDataView||new Ne.jqx.scheduler.dataView("resourcesDataView"),this.dataview.pageable=this.pageable,((this.dataview.scheduler=this).resourcesDataView.scheduler=this)._loading=!0,this.appointments=new Array,this.uiappointments=new Array;var n=1;this.resources&&this.resources.source&&(n=2);var b=0,_=function(){if(b==n){y._resourcesBinding=!1;var e=1<y._resources.length?y._resources.length:1;if(y.resources&&"horizontal"===y.resources.orientation?(y.tableColumns=e,y.tableRows=1):y.resources&&"vertical"===y.resources.orientation?(y.tableRows=e,y.tableColumns=1):(y.tableColumns=1,y.tableRows=1),y._render(),y.autoShowLoadElement&&!y._loading&&(Ne(y.dataloadelement).css("visibility","hidden"),Ne(y.dataloadelement).css("display","none")),y._updateTouchScrolling(),y._raiseEvent("bindingComplete"),s&&s(),!y.initializedcall){if(y.initializedcall=!0,y.isInitialized=!0,(null!=y.width&&-1!=y.width.toString().indexOf("%")||null!=y.height&&-1!=y.height.toString().indexOf("%"))&&y._updatesize(!0),y.ready&&y.ready(),y._rendercelltexts&&y._rendercelltexts(),y._gridRenderElement){Ne(y._gridRenderElement).show("slow");var t=6e3+Math.floor(4e3*Math.random()+1),i=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();r[Ne.camelCase(i)](function(){Ne(y._gridRenderElement).hide("slow",function(){Ne(y._gridRenderElement).remove()})},t)}if("hidden"==y.host.css("visibility")){Ne.jqx.browser.msie&&Ne.jqx.browser.version;"visible"==y.vScrollBar.css("visibility")&&y.vScrollBar.css("visibility","inherit"),"visible"==y.hScrollBar.css("visibility")&&y.hScrollBar.css("visibility","inherit"),y._intervalTimer=setInterval(function(){"visible"==y.host.css("visibility")&&(y._updatesize(!0),clearInterval(y._intervalTimer))},100)}}}};this._resourcesBinding=!1,this.dataview.update=function(e){y._loading=!1,y.appointmentsByKey=new Array,y.appointments=new Array,y.uiappointments=new Array;y.source._source.datafields;for(var t=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"],i=new Array,s=0;s<y.source.records.length;s++){var r=y.source.records[s],n={};for(var o in y.appointmentDataFields){var a=r[y.appointmentDataFields[o]];if("from"!=o&&"to"!=o||(a=new Ne.jqx.date(a)),"style"==o&&a){var l=y.getAppointmentColors(a);n.color=l.color,n.background=l.background,n.borderColor=l.border}if("recurrencePattern"==o&&a&&((a=new Ne.jqx.scheduler.recurrencePattern(a)).timeZone=r.timeZone||y.timeZone),"recurrenceException"==o){var d=new Array;if(a){0<=a.indexOf("EXDATE:")&&(a=a.substring(a.indexOf("EXDATE:")+7));var h=new Array;0<=a.indexOf(",")?h=a.split(","):h.push(a);for(var c=0;c<h.length;c++){var u=h[c];if(0<=u.indexOf(";")){var p=u.split(";")[1];u=u.split(";")[0],0<=p.toLowerCase().indexOf("display")&&p.toLowerCase().indexOf("none")&&(n.hidden=!0)}try{"Invalid Date"!=(m=Ne.jqx.scheduler.utilities.untilStringToDate(u))&&(m=n.timeZone?new Ne.jqx.date(m,n.timeZone):y.timeZone?m.toTimeZone(y.timeZone):new Ne.jqx.date(m))}catch(e){var m=new Ne.jqx.date(u,y.timeZone)}d.push(m)}}a=d}n[o]=a}for(var f in t){if(null==n[o=t[f]]){a="";if("originalData"==o)continue;"ownerId"==o&&(a=null),"timeZone"==o&&(a=null),"recurrencePattern"==o&&(a=null),"recurrenceException"==o&&(a=null),"allDay"==o&&(a=!1),"draggable"==o&&(a=!0),"resizable"==o&&(a=!0),"hidden"==o&&(a=!1),"resourceId"==o&&(a=null),"from"==o&&(a=new Ne.jqx.date),"to"==o&&(a=(new Ne.jqx.date).addHours(1)),n[o]=a}}n.originalData=r,y.resources&&!y.resources.source&&(y._resourcesBinding||-1==i.indexOf(n.resourceId)&&i.push(n.resourceId)),y.appointmentsByKey[r.uid]=n,y.appointments.push(n);var g=new Ne.jqx.scheduler.appointment(n);if(n.timeZone&&(g.from=g.from.toTimeZone(n.timeZone),g.to=g.to.toTimeZone(n.timeZone)),y.timeZone?(n.timeZone||(g.timeZone=y.timeZone),g.from=g.from.toTimeZone(y.timeZone),g.to=g.to.toTimeZone(y.timeZone)):(g.from=g.from.toTimeZone(null),g.to=g.to.toTimeZone(null)),n.jqxAppointment=g,n.recurrenceException)for(var v=0;v<n.recurrenceException.length;v++){m=g.recurrenceException[v];var x=g.clone();x.occurrenceFrom=m;var w=g.duration();y.allDay&&(w=new Ne.jqx.timeSpan(1e4*(y.to-y.from))),x.from=m,x.to=m.add(w),x.rootAppointment=g,x.hidden=!0,g.exceptions.push(x)}g.boundAppointment=n,(g.scheduler=y).uiappointments.push(g)}y._resourcesBinding||(y._resources=i),b++,_()},this.resourcesDataView.update=function(e){if(y.resources.dataField){y._resources=new Array;for(var t=0;t<e.length;t++)0<=y._resources.indexOf(e[t][y.resources.dataField])||e[t][y.resources.dataField]&&y._resources.push(e[t][y.resources.dataField])}else y._resources=e;null==y.resources.orientation&&(y.resources.orientation="none"),b++,_()},this.dataview.databind(e),this.resources&&this.resources.source&&(this._resourcesBinding=!0,this.resourcesDataView.databind(this.resources.source))}},_raiseEvent:function(e,t){null==t&&(t={owner:null});var i=e,s=t;s.owner=this;var r=new Ne.Event(i);r.owner=this,r.args=s;var n=this.host.trigger(r);return t=r.args,n},ensureAppointmentVisible:function(e){return!!this.appointmentsByKey[e]&&this._ensureAppointmentVisible(this.appointmentsByKey[e].jqxAppointment)},_ensureAppointmentVisible:function(e){if("hidden"===this.vScrollBar[0].style.visibility&&"hidden"===this.hScrollBar[0].style.visibility)return!1;if(!e)return!1;var t=this.getViewStart(),i=this.getViewEnd();if(!Ne.jqx.scheduler.utilities.rangeIntersection(e.from,e.to,t,i))return this.navigateTo(e.from),this._ensureAppointmentVisible(e);var s=e.id,r=Ne('[data-key="'+s+'"]');if(0<r.length)var n=r[0];else{if(!(e.elements&&0<e.elements.length))return!1;n=e.elements[0].element}var o=this.vScrollInstance.value,a=this.hScrollInstance.value;if(this.rtl)a=this.hScrollInstance.max-a;var l=this.element.clientHeight,d=this.element.clientWidth,h=0;this.columnGroups?h+=this.showHeader?this.columnsheader.height():0:h+=this.showHeader?this.columnsHeight:0;var c=this._views[this._view].type,u=this._views[this._view],p=0;if("dayView"==c||"weekView"==c){var m=this.showAllDayRow;!u.timeRuler||"dayView"!==c&&"weekView"!==c||null!=u.timeRuler.showAllDayRow&&(m=u.timeRuler.showAllDayRow),m&&(p=1==this.tableRows?this.table[0].rows[0].clientHeight:this.table[0].rows[1].clientHeight);var f=1<=e.duration().days()||e.allDay;if(f&&1==this.tableRows&&1==this.tableColumns)return!1}this.showToolbar&&(h+=this.toolbarHeight),l-=h,this.showLegend&&0<this._resources.length&&(l-=this.legendHeight);var g,v=o-0,x=l+v-p,w=a-0,y=d+w,b=n,_=((b=Ne(b))[0].clientHeight,b.position().top-p);_<=v?((g=_)<0&&(g=0),(!f||f&&1<this.tableRows)&&this.vScrollBar.jqxScrollBar("setPosition",g)):x<=_&&((g=_)<0&&(g=0),(!f||f&&1<this.tableRows)&&this.vScrollBar.jqxScrollBar("setPosition",g-2));var j=b.position().left;j=Math.round(j),b.outerWidth();if(0===Math.round(b.position().left)&&this.hScrollBar.jqxScrollBar("setPosition",0),j<=w){var q=j-b.outerWidth()+0;q<0&&(q=0),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-j):this.hScrollBar.jqxScrollBar("setPosition",j)}y<j&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-j):this.hScrollBar.jqxScrollBar("setPosition",j))},ensureVisible:function(e,t){for(var i="date"==Ne.type(e)?e:e.toDate(),s=0;s<this.rows.length;s++)for(var r=0;r<this.rows[s].cells.length;r++){var n=this.rows[s].cells[r];if(!t||n.getAttribute("data-view")===t){var o=n.getAttribute("data-date");if((0,this._getDateByString)(o).valueOf()==i.valueOf())return this._ensureVisible(n)}}},_ensureVisible:function(e){if("hidden"===this.vScrollBar[0].style.visibility&&"hidden"===this.hScrollBar[0].style.visibility)return!1;var t=this.vScrollBar.jqxScrollBar("value"),i=this.hScrollBar.jqxScrollBar("value");this.rtl&&(i=this.hScrollBar.jqxScrollBar("max")-i);var s=this._hostHeight,r=this._hostWidth,n=0;this.columnGroups?n+=this.showHeader?this.columnsheader.height():0:n+=this.showHeader?this.columnsHeight:0,this.showToolbar&&(n+=this.toolbarHeight),s-=n,this.showLegend&&0<this._resources.length&&(s-=this.legendHeight),"hidden"!=this.hScrollBar.css("visibility")&&(s-=20);var o=this._views[this._view].type,a=this._views[this._view],l=0;if("dayView"==o||"weekView"==o){var d=this.showAllDayRow;!a.timeRuler||"dayView"!==o&&"weekView"!==o||null!=a.timeRuler.showAllDayRow&&(d=a.timeRuler.showAllDayRow),d&&(l=1==this.tableRows?this.table[0].rows[0].clientHeight:this.table[0].rows[1].clientHeight)}var h=t-0,c=s+h-l,u=i-0,p=r+u,m=e,f=(m=Ne(m)).position().top-l,g=f+m.outerHeight(),v=m.position().left,x=(v=Math.round(v))+m.outerWidth();if(0===Math.round(m.position().left)&&this.hScrollBar.jqxScrollBar("setPosition",0),v<=u){var w=v-m.outerWidth()+0;w<0&&(w=0),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-w):this.hScrollBar.jqxScrollBar("setPosition",w)}p<=x&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-(2+x-r)):this.hScrollBar.jqxScrollBar("setPosition",2+x-r));var y=m.parent().index();if(0<this.tableRows&&y--,0===Math.round(m.position().top)||0===y)return this.vScrollBar.jqxScrollBar("setPosition",0);var b=this.table[0].rows.length-1;if(this.table[0].rows[b][0]===m.parent()[0])return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"));if(f<=h){var _=f;return _<0&&(_=0),this.vScrollBar.jqxScrollBar("setPosition",_)}return c<=g?this.vScrollBar.jqxScrollBar("setPosition",4+g-s+l):void 0},getColumn:function(e){var t=null;return this.columns.records&&Ne.each(this.columns.records,function(){if(this.datafield==e||this.displayfield==e)return t=this,!1}),t},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;t=t.toLowerCase();var s=this.getColumn(e);if(null!=s){s[t];s[t]=i;var r=this.getColumn(e);switch(null!=r&&(r[t]=i),t){case"text":case"hidden":case"hideable":case"renderer":case"align":case"cellsalign":case"contenttype":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==t?this._rendercolumnheaders():"text"==t||"class"==t||"hidden"==t||"pinned"==t||"resizable"==t||"renderer"==t?this._rendercolumnheaders():("width"==t||"maxwidth"==t||"minwidth"==t)&&(s._width=null,s._percentagewidth=null,this._updatecolumnwidths()),this.refresh()}}},getColumnProperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getColumn(e)[t])},setColumnProperty:function(e,t,i){this._setcolumnproperty(e,t,i)},hideColumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showColumn:function(e){this._setcolumnproperty(e,"hidden",!1)},updateBoundData:function(e,t){this.databind(this.source,e,t)},refresh:function(e){if(1!=e){if(Ne.jqx.isHidden(this.host))return;this.table[0].style.top="0px",this.vScrollInstance.setPosition(0),this._renderrows(),this._arrange(),this._renderhorizontalscroll(),this._updateTouchScrolling(),this._refreshToolBar(),this._updateFocusedCell()}},_updateFocusedCell:function(){var e=this;if(e.focusedCell)e._updateCellsSelection();else{var t=e._views[e._view].type,i=e._views[e._view],s=e.showAllDayRow;if(!i.timeRuler||"dayView"!==t&&"weekView"!==t||null!=i.timeRuler.showAllDayRow&&(s=i.timeRuler.showAllDayRow),!s||"dayView"!=t&&"weekView"!=t?(e.focusedCell=e.rows[0].cells[0],e.rtl&&(e.focusedCell=e.rows[0].cells[e.rows[0].cells.length-1])):(e.focusedCell=e.rows[1].cells[0],e.rtl&&(e.focusedCell=e.rows[1].cells[e.rows[1].cells.length-1])),0<=e.focusedCell.className.indexOf("jqx-scheduler-disabled-cell")){e.focusedCell=null;for(var r=0;r<this.rows.length;r++){for(var n=0;n<this.rows[r].cells.length;n++){var o=this.rows[r].cells[n];if(-1==o.className.indexOf("jqx-scheduler-disabled-cell")){e.focusedCell=o;break}}if(e.focusedCell)break}}e._lastSelectedCell=e.focusedCell,e._updateCellsSelection()}},_updateTouchScrolling:function(){var i=this.that;if(i.isTouchDevice()){var e=Ne.jqx.mobile.getTouchEventName("touchstart"),t=Ne.jqx.mobile.getTouchEventName("touchend"),s=Ne.jqx.mobile.getTouchEventName("touchmove");i.schedulercontent&&(i.removeHandler(i.table,e+".touchScroll"),i.removeHandler(i.table,s+".touchScroll"),i.removeHandler(i.table,t+".touchScroll"),i.removeHandler(i.table,"touchcancel.touchScroll"),Ne.jqx.mobile.touchScroll(i._table[0],Math.max(i.vScrollInstance.max,i.hScrollInstance.max),function(e,t){if(!i.dragOrResize){if(null!=t&&"hidden"!=i.vScrollBar.css("visibility")){i.vScrollInstance.value;i.vScrollInstance.setPosition(t)}if(null!=e&&"hidden"!=i.hScrollBar.css("visibility")){i.hScrollInstance.value;i.hScrollInstance.setPosition(e)}i.scrolled=new Date}},this.element.id,this.hScrollBar,this.vScrollBar))}},scrollWidth:function(){return this.hScrollInstance.max},scrollHeight:function(){return this.vScrollInstance.max},scrollLeft:function(e){"hidden"!=this.hScrollBar[0].style.visibility&&this.hScrollInstance.setPosition(e)},scrollTop:function(e){"hidden"!=this.vScrollBar[0].style.visibility&&this.vScrollInstance.setPosition(e)},render:function(e){var t="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbartop' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbarbottom' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerHTML=t,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var i=this.host.find("#verticalScrollBar"+this.element.id),s=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=i.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=s.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=Ne.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=Ne.data(this.hScrollBar[0],"jqxScrollBar").instance,this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-scheduler-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.legendbarbottom=this.host.find("#legendbarbottom"),this.legendbarbottom[0].id="legendbarbottom"+this.element.id,this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar-bottom")),this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbarbottom.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.legendbartop=this.host.find("#legendbartop"),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar-top")),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbartop.addClass(this.toTP("jqx-widget-header")),this.schedulertable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns;var r=this.source.datafields;if(null==r&&this.source._source&&(r=this.source._source.datafields),r)for(var n=0;n<this.columns.length;n++){var o=this.columns[n];if(o&&o.cellsFormat&&2<o.cellsFormat.length)for(var a=0;a<r.length;a++)if(r[a].name==o.datafield&&!r[a].format){r[a].format=o.cellsFormat;break}}this.databind(this.source),this.showToolbar&&this.toolbar.css("visibility","inherit"),this.showLegend&&this.legendbarbottom.css("visibility","inherit"),this.tableheight=null;var l=this;this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(e){return l.content&&(l.content[0].scrollTop=0,l.content[0].scrollLeft=0),l.schedulercontent&&(l.schedulercontent[0].scrollLeft=0,l.schedulercontent[0].scrollTop=0),!1}),!0!==e&&this._render()},_render:function(){var l=this;if(null!=l.dataview&&!l._loading){(25!=l.columnsHeight||l.columnGroups)&&l._measureElement("column"),l.rowinfo=new Array,l._removeHandlers(),null==l.columns?l.columns=new Ne.jqx.schedulerDataCollection(l.element):l._initializeColumns(),l.host.height(l.height),l.host.width(l.width),Ne.jqx.utilities.html(l.content,""),l.columnsheader=l.columnsheader||Ne('<div style="overflow: hidden;"></div>'),l.columnsheader.remove(),l.columnsheader.addClass(l.toTP("jqx-widget-header")),l.columnsheader.addClass(l.toTP("jqx-grid-header")),l.showHeader?l.columnsheader&&l.columnsheader.css("display","block"):l.columnsheader.css("display","none"),l.schedulercontent=l.schedulercontent||Ne('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),l.schedulercontent.remove();var e=l.columnsHeight;e=l._preparecolumnGroups(),l.columnsheader.height(e),l.content.append(l.columnsheader),l.content.append(l.schedulercontent),l._rendercolumnheaders(),l.tableheight=null,l.schedulercontent.find("#contenttable"+l.element.id).remove(),null!=l.table&&(l.table.remove(),l.table=null),null!=l.pinnedtable&&(l.pinnedtable.remove(),l.pinnedtable=null),l.table=Ne('<div id="contenttable'+l.element.id+'" style="overflow: hidden; position: relative;"></div>'),l.pinnedtable=Ne('<div id="contenttable2'+l.element.id+'" style="display: none; overflow: hidden; position: relative;"></div>'),l.schedulercontent.addClass(l.toTP("jqx-grid-content")),l.schedulercontent.addClass(l.toTP("jqx-widget-content")),l.schedulercontent.append(l.table),1==l.tableRows&&l.schedulercontent.append(l.pinnedtable),l._renderrows(),l._arrange(),l._resourcesElements=new Array;var t=function(o,a){o.children().remove();o=Ne("<div style='margin:5px; position: relative;'></div>").appendTo(o);l._resourcesElements[a]=new Array,Ne.each(l._resources,function(e){var t=l.getColors(e),i=this.toString(),s=Ne("<div data-toggle='on' style='border-color: "+t.border+"; background: "+t.background+";' class='"+l.toThemeProperty("jqx-scheduler-legend")+"'></div>");s.appendTo(o);var r=Ne("<div class='"+l.toThemeProperty("jqx-scheduler-legend-label")+"'>"+i+"</div>");r.appendTo(o),l._resourcesElements[a][i]=s;var n=function(){"on"==s.attr("data-toggle")?l.hideAppointmentsByResource(i):l.showAppointmentsByResource(i)};l.addHandler(s,"mousedown",function(){return n(),!1}),l.addHandler(r,"mousedown",function(){return n(),!1})})};t(l.legendbarbottom,"bottom"),t(l.legendbartop,"top"),"top"==l.legendPosition?l.legendbarbottom.hide():l.legendbartop.hide(),0==l._resources.length&&(l.legendbarbottom.hide(),l.legendbartop.hide()),l.renderToolBar?l.renderToolBar(l.toolbar):l._renderToolBar(),l.disabled&&l.host.addClass(l.toThemeProperty("jqx-fill-state-disabled")),l._renderhorizontalscroll(),l._addHandlers(),l.clearSelection();var i=l._views[l._view].type,s=l._views[l._view],r=l.showAllDayRow;!s.timeRuler||"dayView"!==i&&"weekView"!==i||null!=s.timeRuler.showAllDayRow&&(r=s.timeRuler.showAllDayRow),l.focusedCell=!r||"dayView"!=i&&"weekView"!=i?l.rows[0].cells[0]:l.rows[1].cells[0],l._lastSelectedCell=l.focusedCell,l._updateCellsSelection()}},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},getAppointmentElement:function(e){var t=null;0<=e.className.indexOf("jqx-scheduler-appointment")&&-1==e.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==e.className.indexOf("jqx-scheduler-appointment-content")&&-1==e.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(t=e);for(var i=e,s=0;s<4&&i.parentNode;s++)0<=i.className.indexOf("jqx-scheduler-appointment")&&-1==i.className.indexOf("jqx-scheduler-appointment-innter-content")&&-1==i.className.indexOf("jqx-scheduler-appointment-content")&&-1==i.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(t=i),i=i.parentNode;return t},getJQXAppointmentByElement:function(e){var t=e.getAttribute?e.getAttribute("data-key"):e.attr("data-key");if(0<=t.indexOf("."))var i=t.substring(0,t.indexOf(".")),s=(t.substring(t.indexOf(".")+1),this.appointmentsByKey[i].jqxAppointment.renderedAppointments[t]);else s=this.appointmentsByKey[t].jqxAppointment;return s},_renderToolBar:function(){var n=this,e=Ne('<div style="width: 100%; height: 100%; position: relative;"></div>'),t=(this.toolbarHeight-20)/2;e.css("top",t),n.toolbarLeftButton=Ne('<div type="button" style="outline: none; padding: 0px; margin-top: 3px; margin-left: 3px; margin-right: 3px; width: 27px; float: left;"></div>'),n.toolbarRightButton=Ne('<div type="button" style="outline: none; padding: 0px; margin-top: 3px; margin-right: 3px; width: 27px; float: left;"></div>'),n.toolbarLeftButton.attr("title",n.schedulerLocalization.toolBarPreviousButtonString),n.toolbarRightButton.attr("title",n.schedulerLocalization.toolBarNextButtonString),n.toolbarRightButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:n.disabled,theme:n.theme}),n.toolbarLeftButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:n.disabled,theme:n.theme}),n.dateTimeInput=Ne('<div style="outline: none; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: left;"></div>'),n.toolbarLeftButton.find(".jqx-icon-arrow-left").remove(),n.toolbarRightButton.find(".jqx-icon-arrow-right").remove();var i=Ne("<div style='outline: none; margin-left: 6px; width: 15px; height: 15px;'></div>");i.addClass(n.toThemeProperty("jqx-icon-arrow-left")),n.toolbarLeftButton.wrapInner(i);var s=Ne("<div style='outline: none; margin-left: 6px; width: 15px; height: 15px;'></div>");s.addClass(n.toThemeProperty("jqx-icon-arrow-right")),n.toolbarRightButton.wrapInner(s),n.rtl&&(n.toolbarLeftButton.css("float","right"),n.toolbarRightButton.css("float","right"),n.dateTimeInput.css("float","right")),n.addHandler(n.toolbarRightButton,"mouseenter",function(){s.addClass(n.toThemeProperty("jqx-icon-arrow-right-hover"))}),n.addHandler(n.toolbarLeftButton,"mouseenter",function(){i.addClass(n.toThemeProperty("jqx-icon-arrow-left-hover"))}),n.addHandler(n.toolbarRightButton,"mouseleave",function(){s.removeClass(n.toThemeProperty("jqx-icon-arrow-right-hover"))}),n.addHandler(n.toolbarLeftButton,"mouseleave",function(){i.removeClass(n.toThemeProperty("jqx-icon-arrow-left-hover"))}),n.addHandler(n.toolbarRightButton,"mousedown",function(){s.addClass(n.toThemeProperty("jqx-icon-arrow-right-selected"))}),n.addHandler(n.toolbarRightButton,"mouseup",function(){s.removeClass(n.toThemeProperty("jqx-icon-arrow-right-selected"))}),n.addHandler(n.toolbarLeftButton,"mousedown",function(){i.addClass(n.toThemeProperty("jqx-icon-arrow-left-selected"))}),n.addHandler(n.toolbarLeftButton,"mouseup",function(){i.removeClass(n.toThemeProperty("jqx-icon-arrow-left-selected"))}),n.addHandler(Ne(document),"mouseup.pagerbuttons"+n.element.id,function(){s.removeClass(n.toThemeProperty("jqx-icon-arrow-right-selected")),i.removeClass(n.toThemeProperty("jqx-icon-arrow-left-selected"))}),n.addHandler(n.toolbarRightButton,"click",function(){n.toolbarRightButton.jqxButton("disabled")||(n.rtl?n.navigateBackward():n.navigateForward(),n.focus())}),n.addHandler(n.toolbarLeftButton,"click",function(){n.toolbarLeftButton.jqxButton("disabled")||(n.rtl?n.navigateForward():n.navigateBackward(),n.focus())}),n.toolbar.children().remove(),n.toolbar.append(e),n.rtl?(e.append(n.toolbarRightButton),e.append(n.dateTimeInput),e.append(n.toolbarLeftButton)):(e.append(n.toolbarLeftButton),e.append(n.dateTimeInput),e.append(n.toolbarRightButton)),n.toolbarDetails=Ne('<div class="'+n.toTP("jqx-scheduler-toolbar-details")+'" style="margin-left: 7px; margin-top:2px; float: left;"></div>'),n.toolbarViews=Ne('<div style="margin-right: 10px; margin-top:0px; float: right;"></div>'),n.rtl&&(n.toolbarDetails.css("float","right"),n.toolbarDetails.css("margin-left","0px"),n.toolbarDetails.css("margin-right","7px"),n.toolbarViews.css("margin-left","10px"),n.toolbarViews.css("margin-right","0px"),n.toolbarViews.css("float","left"));var o=new Array;n.rtl?(o.push(n.toolbarRightButton),o.push(n.dateTimeInput),o.push(n.toolbarLeftButton)):(o.push(n.toolbarLeftButton),o.push(n.dateTimeInput),o.push(n.toolbarRightButton));var a=n._views.length-1;Ne.each(n._views,function(e){var t="",i=e;if(n.rtl&&(i=a-e),null!=n._views[i].text)t=n._views[i].text;else switch(n._views[i].type){case"dayView":t=n.schedulerLocalization.dayViewString;break;case"weekView":t=n.schedulerLocalization.weekViewString;break;case"monthView":t=n.schedulerLocalization.monthViewString;break;case"agendaView":t=n.schedulerLocalization.agendaViewString;break;case"timelineDayView":t=n.schedulerLocalization.timelineDayViewString;break;case"timelineWeekView":t=n.schedulerLocalization.timelineWeekViewString;break;case"timelineMonthView":t=n.schedulerLocalization.timelineMonthViewString}var s='<span data-type="'+n._views[i].type+'" style="cursor: pointer; outline: none; margin-left: -1px; position: relative;">'+t+"</span>",r=Ne(s);r.addClass(n.toTP("jqx-group-button-normal jqx-button jqx-fill-state-normal")),o.push(r),0==i&&(n.rtl?r.addClass(n.toTP("jqx-rc-r")):r.addClass(n.toTP("jqx-rc-l"))),i==n._views.length-1&&(n.rtl?r.addClass(n.toTP("jqx-rc-l")):r.addClass(n.toTP("jqx-rc-r"))),i===n._view&&r.addClass(n.toTP("jqx-fill-state-pressed")),r.mouseenter(function(){r.addClass(n.toTP("jqx-fill-state-hover"))}),r.mouseleave(function(){r.removeClass(n.toTP("jqx-fill-state-hover"))}),r.mousedown(function(){n._setView(i),n.focus()}),Ne(n.toolbarViews).append(r)}),e.append(n.toolbarDetails),e.append(n.toolbarViews),n._views.length<2&&n.toolbarViews.hide(),n.dateTimeInput.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:n.rtl,localization:n._getDateTimeInputLocalization(),firstDayOfWeek:n.schedulerLocalization.firstDay,todayString:n.schedulerLocalization.todayString,clearString:n.schedulerLocalization.clearString,showFooter:!0,height:19,width:18,renderMode:"simple"}),n.addHandler(n.dateTimeInput,"change",function(e){n.fromNavigate||(n.navigateTo(new Ne.jqx.date(e.args.date,n.timeZone)),n.focus())}),n.tabKeyElements=o;var r=n._views[n._view].type,l=function(e){var t=Ne.jqx.formatDate(n.getViewStart().toDate(),e,n.schedulerLocalization),i=Ne.jqx.formatDate(n.getViewEnd().toDate(),e,n.schedulerLocalization);"dayView"===r||"timelineDayView"===r?n.toolbarDetails.html(t):n.toolbarDetails.html(t+" - "+i),n.rtl?(n.toolbarDetails.addClass("jqx-rtl"),n.toolbarDetails.html("<span style='direction:rtl;'>"+i+"<span> - <span style='direction:rtl;'>"+t+"</span>")):n.toolbarDetails[0].style.direction="ltr"};l(n.toolBarRangeFormat);var d=n.toolbarViews.width()+n.toolbarDetails.width()+120;n.toolBarRangeFormat;d>n.host.width()?(l(n.toolBarRangeFormatAbbr),(d=n.toolbarViews.width()+n.toolbarDetails.width()+120)>n.host.width()&&(n.toolbarDetails.hide(),(d=n.toolbarViews.width()+120)>n.host.width()&&n.toolbarViews.hide())):n.currentToolbarFormat=n.toolBarRangeFormat},_setView:function(e){var t=this;if(t.toolbarViews.find(".jqx-fill-state-pressed").removeClass(t.toTP("jqx-fill-state-pressed")),t.rtl?Ne(t.toolbarViews.children()[t._views.length-1-e]).addClass(t.toTP("jqx-fill-state-pressed")):Ne(t.toolbarViews.children()[e]).addClass(t.toTP("jqx-fill-state-pressed")),t._view!==e){t.vScrollBar[0].style.visibility&&(t._scrollPosition||(t._scrollPosition=new Array),t._scrollPosition[t._view]=t.vScrollInstance.value);var i=t.hScrollBar[0].style.visibility;i&&(t._hscrollPosition||(t._hscrollPosition=new Array),t._hscrollPosition[t._view]=t.hScrollInstance.value);var s=t._views[t._view].type,r=t._views[e].type;t._view=e,t._refreshColumns(),t.refresh(),i!==t.hScrollBar[0].style.visibility&&(t._renderrows(),t._updateTouchScrolling()),t._scrollPosition[t._view]&&t.vScrollInstance.setPosition(t._scrollPosition[t._view]),t._hscrollPosition[t._view]&&t.hScrollInstance.setPosition(t._hscrollPosition[t._view]),t.selectedJQXAppointment&&t._ensureAppointmentVisible(t.selectedJQXAppointment);var n=t.getViewStart(),o=Ne.jqx.scheduler.utilities.getEndOfDay(t.getViewEnd());t._raiseEvent("viewChange",{date:t.date,from:n,to:o,oldViewType:s,newViewType:r})}},_getDateTimeInputLocalization:function(){var e={};return e.backString=this.schedulerLocalization.backString,e.forwardString=this.schedulerLocalization.forwardString,e.todayString=this.schedulerLocalization.todayString,e.clearString=this.schedulerLocalization.clearString,e.calendar=this.schedulerLocalization,e},setView:function(e){switch(e){case"dayView":this._setView(0);break;case"weekView":this._setView(1);break;case"monthView":this._setView(2);break;case"timelineDayView":this._setView(3);break;case"timelineWeekView":this._setView(4);break;case"timelineMonthView":this._setView(5)}this.view=e},navigateForward:function(){var e=this._views[this._view].type,t=this._views[this._view],i=new Ne.jqx.date(this.date,this.timeZone);switch(e){case"dayView":case"timelineDayView":i=i.addDays(1),i=function(){for(;(0==i.dayOfWeek()||6==i.dayOfWeek())&&!1===t.showWeekends;)i=i.addDays(1);return i}();break;case"weekView":case"timelineWeekView":i=i.addDays(7);break;case"monthView":case"timelineMonthView":i.day();var s=i.month(),r=i.year(),n=new Ne.jqx.date(r,s,1);n.timeZone=this.timeZone,i=n.addMonths(1);break;case"agendaView":i=t.days?i.addDays(t.days):i.addDays(7)}return this.navigateTo(i)},navigateBackward:function(){var e=this._views[this._view].type,t=this._views[this._view],i=new Ne.jqx.date(this.date,this.timeZone);switch(e){case"dayView":case"timelineDayView":i=i.addDays(-1),i=function(){for(;(0==i.dayOfWeek()||6==i.dayOfWeek())&&!1===t.showWeekends;)i=i.addDays(-1);return i}();break;case"weekView":case"timelineWeekView":i=i.addDays(-7);break;case"monthView":case"timelineMonthView":i.day();var s=i.month(),r=i.year(),n=new Ne.jqx.date(r,s,1);n.timeZone=this.timeZone,i=n.addMonths(-1);break;case"agendaView":i=t.days?i.addDays(-t.days):i.addDays(-7)}return this.navigateTo(i)},_refreshToolBar:function(e){var r=this,n=r.getViewStart(),o=r.getViewEnd(),t=function(e){var t=Ne.jqx.formatDate(n.toDate(),e,r.schedulerLocalization),i=Ne.jqx.formatDate(o.toDate(),e,r.schedulerLocalization),s=r._views[r._view].type;if(!1===r._views[r._view].showWeekends){0!=n.dayOfWeek()&&6!=n.dayOfWeek()||(n=n.addDays(1)),0!=n.dayOfWeek()&&6!=n.dayOfWeek()||(n=n.addDays(1)),0!=o.dayOfWeek()&&6!=o.dayOfWeek()||(o=o.addDays(-1)),0!=o.dayOfWeek()&&6!=o.dayOfWeek()||(o=o.addDays(-1));t=Ne.jqx.formatDate(n.toDate(),e,r.schedulerLocalization),i=Ne.jqx.formatDate(o.toDate(),e,r.schedulerLocalization)}"dayView"===s||"timelineDayView"===s?r.toolbarDetails.html(t):r.toolbarDetails.html(t+" - "+i),r.rtl?(r.toolbarDetails.addClass("jqx-rtl"),r.toolbarDetails.html("<span style='direction:rtl;'>"+i+"<span> - <span style='direction:rtl;'>"+t+"</span>")):r.toolbarDetails[0].style.direction="ltr"};e?t(r._lastFormatString||r.toolBarRangeFormat):(t(r.toolBarRangeFormat),r.toolbarDetails.show(),r.toolbarViews.show(),r.toolbarViews.width()+r.toolbarDetails.width()+120>r.host.width()&&(t(r.toolBarRangeFormatAbbr),r.toolbarViews.width()+r.toolbarDetails.width()+120>r.host.width()&&(r.toolbarDetails.hide(),r.toolbarViews.width()+120>r.host.width()&&r.toolbarViews.hide())))},navigateTo:function(e){var t=this;if("date"==Ne.type(e)&&(e=new Ne.jqx.date(e)),!(e<this.min||e>this.max)){e.timeZone=t.timeZone,t.date=e,t._refreshToolBar(!0),t.fromNavigate=!0,t.dateTimeInput.val(e.toDate()),t.fromNavigate=!1,t._refreshColumnTitles(),t._renderrows(),t._updateFocusedCell();var i=t.getViewStart(),s=Ne.jqx.scheduler.utilities.getEndOfDay(t.getViewEnd());t._raiseEvent("dateChange",{date:e,from:i,to:s})}},_preparecolumnGroups:function(){var e=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var s=this,t=0;t<this.columnGroups.length;t++)this.columnGroups[t].parent=null,this.columnGroups[t].groups=null;for(t=0;t<this.columns.records.length;t++)this.columns.records[t].parent=null,this.columns.records[t].groups=null;var i=function(e){for(var t=0;t<s.columnGroups.length;t++){var i=s.columnGroups[t];if(i.name===e)return i}return null};for(t=0;t<this.columnGroups.length;t++){if((d=this.columnGroups[t]).groups||(d.groups=null),d.parentGroup&&(d.parentgroup=d.parentGroup),d.parentgroup)(r=i(d.parentgroup))&&((d.parent=r).groups||(r.groups=new Array),-1===r.groups.indexOf(d)&&r.groups.push(d))}for(t=0;t<this.columns.records.length;t++){var r;if((d=this.columns.records[t]).columngroup)(r=i(d.columngroup))&&(r.groups||(r.groups=new Array),-1===(d.parent=r).groups.indexOf(d)&&r.groups.push(d))}var n=0;for(t=0;t<this.columns.records.length;t++){var o=d=this.columns.records[t];for(d.level=0;o.parent;)o=o.parent,d.level++;o=d;var a=d.level;for(n=Math.max(n,d.level);o.parent;)(o=o.parent)&&(o.level=--a)}var l=function(e){var t=new Array;if(e.columngroup&&t.push(e),!e.groups)return new Array;for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var s=l(e.groups[i]),r=0;r<s.length;r++)t.push(s[r]);return t};for(t=0;t<this.columnGroups.length;t++){var d=this.columnGroups[t],h=l(d);d.columns=h;for(var c=new Array,u=0,p=0;p<h.length;p++)c.push(this.columns.records.indexOf(h[p])),h[p].pinned&&u++;if(0!=u)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:t<e?1:0});for(var m=1;m<c.length;m++)if(c[m]!=c[m-1]+1)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+n,e=this.columnGroupslevel*this.columnsHeight}return e},wheel:function(e,t){if(t.editRecurrenceDialog&&t.editRecurrenceDialog.jqxWindow("isOpen"))return!0;if(t._editDialog&&t._editDialog.jqxWindow("isOpen"))return!0;if(t.autoheight&&"hidden"==t.hScrollBar.css("visibility"))return e.returnValue=!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!s&&(s=!1,e.returnValue=s)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;if(e<0?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20),t!=this.vScrollInstance.value)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){t=this.hScrollInstance.value;if(0<e?20<this.hScrollInstance.value?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max),t!=this.hScrollInstance.value)return!0}return!1},_removeHandlers:function(){var e=this;e._mousewheelfunc&&e.removeHandler(this.host,"mousewheel",e._mousewheelfunc),e.removeHandler(Ne(document),"keydown.scheduler"+e.element.id),e.removeHandler(e.host,"focus"),e.removeHandler(e.host,"blur"),e.removeHandler(e.host,"dragstart."+e.element.id),e.removeHandler(e.host,"selectstart."+e.element.id),e.removeHandler(Ne(window),"jqxReady."+e.element.id),e.removeHandler(e.host,"mousewheel",e._mousewheelfunc);var t="mousedown";e.isTouchDevice()&&(t=Ne.jqx.mobile.getTouchEventName("touchstart"),Ne.jqx.browser.msie&&Ne.jqx.browser.version<10&&(t="mousedown")),e.table&&e.removeHandler(e.table,"mouseleave");var i="mousemove.scheduler"+e.element.id,s="mouseup.scheduler"+e.element.id;if(e.isTouchDevice()&&!0!==e.touchMode&&(i=Ne.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+e.element.id,s=Ne.jqx.mobile.getTouchEventName("touchend")+".scheduler"+e.element.id),e.removeHandler(Ne(document),i),e.removeHandler(Ne(document),s),!e.isTouchDevice())try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var r=null;window.parent&&document.referrer&&(r=document.referrer),r&&-1!=r.indexOf(document.location.host)&&e.removeHandler(Ne(window.top.document),"mouseup.jqxscheduler"+e.element.id)}}catch(e){}e.removeHandler(e.host,i),e.removeHandler(Ne(document),"keydown.jqxscheduler"+e.element.id),e.removeHandler(e.host,"keydown"),e.table&&(e.removeHandler(e.table,"dblclick"),e.removeHandler(e.pinnedtable,t),e.removeHandler(e.table,t))},selectAppointment:function(e){this.appointmentsByKey[e]&&this._selectAppointment(this.appointmentsByKey[e].jqxAppointment)},_selectAppointment:function(e,t,i){if(e){var s=this;s.selectedAppointment&&s.clearAppointmentsSelection();var r=e.id,n=Ne('[data-key="'+r+'"]');if(0<n.length){s.selectedJQXAppointment=e,s.selectedAppointment=Ne(t||n[0]);var o=s._views[s._view].type;s._views[s._view];if("agendaView"==o)return void s.clearSelection();switch(n.addClass(s.toTP("jqx-scheduler-selected-appointment")),e.resizable&&n.find(".jqx-scheduler-appointment-resize-indicator").show(),o){case"dayView":Ne(n).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),Ne(n).find(".jqx-scheduler-appointment-right-resize-indicator").hide();break;case"weekView":break;case"monthView":case"timeLineMonthView":case"timeLineDayView":case"timeLineWeekView":1<n.length&&Ne.each(n,function(e){s.rtl?(0<e&&Ne(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide(),e<n.length-1&&Ne(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide()):(0<e&&Ne(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),e<n.length-1&&Ne(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide())})}if("mouse"==i)return void s.clearSelection()}s.clearSelection()}},clearAppointmentsSelection:function(){if(this.selectedAppointment){var e=this.selectedAppointment.attr("data-key"),t=Ne('[data-key="'+e+'"]');t.removeClass(this.toTP("jqx-scheduler-selected-appointment")),t.find(".jqx-scheduler-appointment-resize-indicator").hide(),this.selectedAppointment=null,this.selectedJQXAppointment=null}},selectCell:function(e,t,i){for(var s=this,r=e.toDate(),n=0;n<s.rows.length;n++)for(var o=0;o<s.rows[n].cells.length;o++){var a=s.rows[n].cells[o];if(!i||a.getAttribute("data-view")===i){var l=a.getAttribute("data-date"),d=(0,s._getDateByString)(l);if(t&&a.getAttribute("data-end-date")){if(d.valueOf()==e.valueOf())return a.setAttribute("data-selected","true"),s.focusedCell=a,s._lastSelectedCell=a,s._updateCellsSelection(),void s._ensureVisible(s.focusedCell)}else if(!t&&a.getAttribute("data-end-date"))continue;if(d.valueOf()==r.valueOf())return a.setAttribute("data-selected","true"),s.focusedCell=a,s._lastSelectedCell=a,s._updateCellsSelection(),void s._ensureVisible(s.focusedCell)}}s._updateCellsSelection()},selectRange:function(e,t,i,s){e<this.min&&(e=this.min),t>this.max&&(t=this.max);for(var r=e.toDate(),n=t.toDate(),o=!1,a=0;a<this.rows.length;a++)for(var l=0;l<this.rows[a].cells.length;l++){var d=this.rows[a].cells[l];if(!s||d.getAttribute("data-view")===s){var h=d.getAttribute("data-date"),c=(0,this._getDateByString)(h);if(i&&d.getAttribute("data-end-date"))c.valueOf()>=r.valueOf()&&c.valueOf()<=n.valueOf()&&d.setAttribute("data-selected","true");else if(!i&&d.getAttribute("data-end-date"))continue;c.valueOf()>=r.valueOf()&&c.valueOf()<=n.valueOf()&&(d.setAttribute("data-selected","true"),o||(this._lastSelectedCell=d,this.focusedCell=d,o=!0))}}this._updateCellsSelection()},_selectRange:function(r,n){if("agendaView"!=this._views[this._view].type){var e=r,t=n.getAttribute("data-view");if(r.getAttribute("data-view")===t){var i=n.getAttribute("data-date"),s=e.getAttribute("data-date");if(null!=i&&null!=s){var o=n.getAttribute("data-end-date"),a=e.getAttribute("data-end-date"),l=null!=o||null!=a,d=null!=o&&null!=a,h=this._getDateByString,c=h(i),u=h(s);c<this.min.toDate()&&(c=this.min.toDate()),u<this.min.toDate()&&(u=this.min.toDate()),c>this.max.toDate()&&(c=this.max.toDate()),u>this.max.toDate()&&(u=this.max.toDate());var p=Math.min(c,u),m=Math.max(c,u),f=this.rows,g=0,v=0;0<g&&this.rtl&&(g=0,v=1);var x=f.length;if(l&&(x=1,null==r.getAttribute("data-end-date"))){u.setHours(0,0,0,0);var w=new Ne.jqx.date(u,this.timeZone).toString();Ne(e).parent().index();Ne.each(f[0].cells,function(){if(this.getAttribute("data-date")===w){r=this,d=null!=n.getAttribute("data-end-date")&&null!=r.getAttribute("data-end-date");var e=n.getAttribute("data-date"),t=r.getAttribute("data-date"),i=h(e),s=h(t);return p=Math.min(i,s),m=Math.max(i,s),!1}})}for(var y=0;y<x;y++){var b=f[y];if(l&&1<this.tableRows){var _=(-1+parseInt(r.getAttribute("data-view")))*(f.length/this.tableRows);j=f[_],b=f[_]}for(var j=b.cells,q=g;q<j.length-v;q++)if(j[q].getAttribute("data-view")===t&&(j[q].removeAttribute("data-selected"),d||!j[q].getAttribute("data-end-date"))){var T=j[q].getAttribute("data-date"),C=h(T).valueOf();p<=C&&C<=m&&j[q].setAttribute("data-selected","true")}}this._updateCellsSelection()}}}},findCell:function(e,t){var i=this,s=null;if(!i._tableOffset){var r=i.schedulercontent.coord();i._tableOffset=r}var n=i._tableOffset,o=n.top,a=n.left;if(t<o)return null;if(e<a)return null;if(t>o+i._hostHeight)return null;if(e>a+i._hostWidth)return null;for(var l=!1,d=i.rows,h=i._views[i._view],c=h.type,u=i.vScrollInstance.value,p=i.hScrollInstance.value,m=0;m<d.length&&!l;m++){var f=d[m].cells,g=!1;(0==m&&"dayView"==c||"weekView"==c)&&(g=i.showAllDayRow,!h.timeRuler||"dayView"!==c&&"weekView"!==c||null!=h.timeRuler.showAllDayRow&&(g=h.timeRuler.showAllDayRow),g&&i._allDayRowFullHeight);for(var v=0;v<f.length;v++){var x=f[v];if(0!=v||!x.getAttribute("data-time-slot")){if(x._left)w=x._left,y=x._top,b=x._width,_=x._height;else{var w=x.offsetLeft+a,y=x.offsetTop+o,b=x.offsetWidth,_=x.offsetHeight;x._left=w,x._top=y,x._width=b,x._height=_}if(x._left=w,x._top=y,x._width=b,x._height=_,0!==b&&0!==_){if(i.rtl?"hidden"!=i.hScrollInstance.element.style.visibility&&(w-=i.hScrollInstance.max-p):w-=p,y-=u,0==m&&g&&(y+=u),!(y<=t&&t<y+_))break;if(w<=e&&e<w+b){s=x,l=!0;break}}}}}return s},_removeFeedbackAndStopResize:function(){var e=this;if(e.feedback){if(e.feedback.remove(),e.feedback=null,e.pinnedfeedback.remove(),e.pinnedfeedback=null,e.feedbacks)for(var t=0;t<e.feedbacks.length;t++)e.feedbacks[t].remove();if(e._resizeDays=0,e._resizeStep=0,e._lastX=null,e.feedbacks=new Array,e.leftResize=!1,e.rightResize=!1,e.topResize=!1,e.bottomResize=!1,e.overlay.hide(),e.resizing=!1,e.resizeFrom=null,e._dragCell=null,e._dragStartCell=null,e.resizeTo=null,e.dragOrResize=!1,e.isMouseDown=!1,e.selectedJQXAppointment)Ne('[data-key="'+e.selectedJQXAppointment.id+'"]').removeClass(e.toTP("jqx-scheduler-feedback-appointment jqx-disableselect"));e.openedMonthCellPopup&&e.openedMonthCellPopup.remove()}},_saveChangesAfterDragOrResize:function(e,t,i,s){if(!1===e)if(t.isException()){for(var r=t.rootAppointment?t.rootAppointment.exceptions:t.exceptions,n=0;n<r.length;n++)if(r[n].occurrenceFrom.equals(t.occurrenceFrom)){r[n]=t;break}}else t.rootAppointment.recurrenceException||(t.rootAppointment.recurrenceException=new Array),null!=t.rootAppointment?(t.rootAppointment.exceptions.push(t),t.rootAppointment.recurrenceException.push(t.occurrenceFrom)):(t.exceptions.push(t),t.recurrenceException.push(t.occurrenceFrom));else if(!0===e){if(t.isException())for(r=t.rootAppointment?t.rootAppointment.exceptions:t.exceptions,n=0;n<r.length;n++)if(r[n].occurrenceFrom.equals(t.occurrenceFrom)){for(var o=0;o<t.rootAppointment.recurrenceException.length;o++)if(t.rootAppointment.recurrenceException[o].equals(r[n].occurrenceFrom)){t.from;var a=new Ne.jqx.date(r[n].occurrenceFrom.year(),r[n].occurrenceFrom.month(),r[n].occurrenceFrom.day(),t.from.hour(),t.from.minute(),t.from.second());t.rootAppointment.recurrenceException[o]=a;break}(r[n]=t).from,a=new Ne.jqx.date(r[n].occurrenceFrom.year(),r[n].occurrenceFrom.month(),r[n].occurrenceFrom.day(),t.from.hour(),t.from.minute(),t.from.second());r[n].occurrenceFrom=a;break}if(null!=t.rootAppointment){t.rootAppointment.recurrencePattern=t.rootAppointment.recurrencePattern.createNewPattern();var l=t.rootAppointment.from,d=t.rootAppointment.duration();a=null;switch(t.rootAppointment.recurrencePattern.freq){case"daily":case"weekly":case"monthly":case"yearly":a=new Ne.jqx.date(l.year(),l.month(),l.day(),t.from.hour(),t.from.minute(),t.from.second())}s?(t.rootAppointment.from=l,t.rootAppointment.to=l.add(t.duration())):(t.rootAppointment.from=a,t.rootAppointment.to=a.add(d)),t.rootAppointment.allDay=t.allDay,t.rootAppointment.resourceId=t.resourceId,t.rootAppointment.color=t.color,t.rootAppointment.borderColor=t.borderColor,t.rootAppointment.background=t.background,t.rootAppointment.timezone=t.timezone,t.rootAppointment.subject=t.subject,t.rootAppointment.description=t.description,t.rootAppointment.location=t.location,t.rootAppointment.category=t.category,t.rootAppointment.status=t.status,this.resizing?t.rootAppointment.recurrencePattern.setFrom(l):t.rootAppointment.recurrencePattern.setFrom(a)}else t.recurrencePattern=t.recurrencePattern.createNewPattern(),t.recurrencePattern.setFrom(t.from);var h=Ne(i).attr("data-view"),c=this._resources[parseInt(h)-1];null!=c&&(null!=t.rootAppointment?t.rootAppointment.resourceId=c:t.resourceId=c)}},_handleMouseUp:function(e,y,b){var _=this;clearInterval(_._verticalIntervalDragVelocity),clearInterval(_._horizontalIntervalDragVelocity),clearInterval(_._intervalDrag),clearInterval(_._horizontalIntervalDrag);var t=e,i=!1;if(b?_.resizeTo?t.to.equals(_.resizeTo)&&(i=!0):_.resizeFrom&&t.from.equals(_.resizeFrom)&&(i=!0):_._dragStartCell==y&&(i=!0),i)return Ne('[data-key="'+e.id+'"]').removeClass(_.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),void _._removeFeedbackAndStopResize();var j=t.duration(),q=1<=t.duration().days()||t.allDay,s=function(e,t){if(t.allDay||q)var i=_.getMaxAllDayAppointments(_.appointmentsToRender);if(b)_.resizeTo?(_.resizeTo>_.max&&(_.resizeTo=_.max),_.resizeTo<_.min&&(_.resizeTo=_.min),t.to=_.resizeTo):_.resizeFrom&&(_.resizeFrom>_.max&&(_.resizeFrom=_.max),_.resizeFrom<_.min&&(_.resizeFrom=_.min),t.from=_.resizeFrom),0==t.from.hour()&&0==t.from.minute()&&23==t.to.hour()&&59==t.to.minute()&&(t.allDay=!0);else{var s=_._views[_._view].type,r=_._views[_._view],n=Ne(y).attr("data-date"),o=null!=Ne(y).attr("data-end-date"),a=new Ne.jqx.date(n,_.timeZone);if(a<_.min&&(a=_.min),a>_.max&&(a=_.max),_.rtl&&q&&o)t.to=Ne.jqx.scheduler.utilities.getEndOfDay(a);else if(!_.rtl||"monthView"!=s&&"timelineMonthView"!=s)if(!_.rtl||"timelineDayView"!=s&&"timelineWeekView"!=s)t.from=a;else{var l=_.getMinutesPerScale();t.to=a.addMinutes(l)}else t.to=Ne.jqx.scheduler.utilities.getEndOfDay(a);if("dayView"===s||"weekView"===s)if(q||o){if(!q&&o)t.to=Ne.jqx.scheduler.utilities.getEndOfDay(a),t.allDay=!0;else if(q&&o&&!_.rtl)t.to=a.add(j),0==t.from.hour()&&0==t.from.minute()&&23==t.to.hour()&&59==t.to.minute()&&(t.allDay=!0);else if(q&&o&&_.rtl)t.from=Ne.jqx.scheduler.utilities.getStartOfDay(t.to.add(new Ne.jqx.timeSpan(-j))),0==t.from.hour()&&0==t.from.minute()&&23==t.to.hour()&&59==t.to.minute()&&(t.allDay=!0);else if(q&&!o){var d=30;switch(r.timeRuler&&r.timeRuler.scale){case"sixtyMinutes":case"hour":d=60;break;case"fifteenMinutes":case"quarterHour":d=15;break;case"tenMinutes":d=10;break;case"fiveMinutes":d=5}t.to=a.addMinutes(d),t.allDay=!1}}else t.to=a.add(j),t.allDay=!1;else if("monthView"===s)_.rtl?t.from=Ne.jqx.scheduler.utilities.getStartOfDay(t.to.add(new Ne.jqx.timeSpan(-j))):t.to=a.add(j);else if("timelineDayView"===s||"timelineWeekView"===s||"timelineMonthView"===s)if(_.rtl)if("timelineMonthView"==s)t.from=Ne.jqx.scheduler.utilities.getStartOfDay(t.to.add(new Ne.jqx.timeSpan(-j)));else{l=_.getMinutesPerScale();t.from=a.addMinutes(l).add(new Ne.jqx.timeSpan(-j))}else t.to=a.add(j)}_._saveChangesAfterDragOrResize(e,t,y,_.resizing);s=Ne(y).attr("data-view");var h=_._resources[parseInt(s)-1];null!=h&&(t.resourceId=h),_.resizing=!1,_.resizeFrom=null,_._dragCell=null,_.resizeTo=null;var c={},u={};for(var p in _.appointmentDataFields){var m=_.appointmentDataFields[p],f=t[p];c[p]=f,"from"!=p&&"to"!=p||(f=f.toDate()),u[m]=f}if(c.jqxAppointment=t,c.originalData=u,t.boundAppointment=c,_._raiseEvent("appointmentChange",{appointment:t.boundAppointment}),_.changedAppointments[t.id]={type:"Update",appointment:t.boundAppointment},_.table.find(".jqx-icon-arrow-down").hide(),"monthView"==_._views[_._view].type&&_._views[_._view].monthRowAutoHeight)_._renderrows();else if("weekView"!=_._views[_._view].type&&"dayView"!=_._views[_._view].type||!t.allDay&&!q){g=_.getViewStart(),v=Ne.jqx.scheduler.utilities.getEndOfDay(_.getViewEnd());_._prepareAppointmentsInView(g,v),_._renderAppointments(g,v)}else if(1<_.tableRows)_._renderrows();else{var g=_.getViewStart(),v=Ne.jqx.scheduler.utilities.getEndOfDay(_.getViewEnd());_._prepareAppointmentsInView(g,v),_._renderAppointments(g,v);var x=_.getMaxAllDayAppointments(_.appointmentsToRender);if(x!=i){var w=x*(_._defaultRowHeight-2);w=_.isTouchDevice()?Math.max(22+_._defaultRowHeight,17+w):Math.max(3*_._defaultRowHeight,17+w),1==_.tableRows?Ne(Ne(_.table[0].rows[0]).find("td")).css("height",w+"px"):Ne(Ne(_.table[0].rows[1]).find("td")).css("height",w+"px"),Ne(_.oldRow).find("td").css("height",w+"px"),Ne(_.pinnedTableRow).find("td").css("height",w+"px"),_.pinnedtable.height(w),_._updateScrollbars(_._hostHeight?_._hostHeight:_.host.height())}}_._removeFeedbackAndStopResize()};t.isRecurrentAppointment()?s(!1,t):s(null,t)},_handleDayWeekViewResize:function(e,t,i,s,r){var n=this,o=(n._views[n._view].type,n._views[n._view]);if(1<=r.duration().days()||r.allDay||i.getAttribute("data-end-date")){var a=function(e){return!(e<n.cellWidth-10)},l=o.appointmentsRenderMode&&"exactTime"==o.appointmentsRenderMode;if(r.allDay||!l){if(n.leftResize){if(n._lastResizeX||(n._lastResizeX=n.mouseDownPosition.left),e>n._lastResizeX+Ne(i).width()/2)a(h=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-s.left-n.cellWidth)&&(n.feedback.css("left",5+s.left+n.cellWidth),n.feedback.width(h-5),n.feedback.hide(),n.pinnedfeedback.css("left",5+s.left+n.cellWidth),n.pinnedfeedback.width(h-5),n._lastResizeX=n.pinnedfeedback.coord().left,n.rtl?n.resizeTo=Ne.jqx.scheduler.utilities.getEndOfDay(new Ne.jqx.date(i.getAttribute("data-date"),n.timeZone)).addDays(-1):n.resizeFrom=new Ne.jqx.date(i.getAttribute("data-date"),n.timeZone).addDays(1));else if(e<n._lastResizeX-Ne(i).width()/2)a(h=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-s.left)&&(n.feedback.css("left",5+s.left),n.feedback.width(h-5),n.feedback.hide(),n.pinnedfeedback.css("left",5+s.left),n.pinnedfeedback.width(h-5),n._lastResizeX=n.pinnedfeedback.coord().left,n.rtl?n.resizeTo=Ne.jqx.scheduler.utilities.getEndOfDay(new Ne.jqx.date(i.getAttribute("data-date"),n.timeZone)):n.resizeFrom=new Ne.jqx.date(i.getAttribute("data-date"),n.timeZone))}else if(n.rightResize){n._lastResizeX||(n._lastResizeX=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left);var d=Ne(i).width()/2;if(e>n._lastResizeX+d){M=Ne(i).width()+s.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left;a(h=n.selectedAppointmentTableBounds.width+M)&&(n.feedback.hide(),n.feedback.width(h-6),n.feedback.css("left",5+s.left),n.pinnedfeedback.width(h-6),n._lastResizeX=n.selectedAppointmentTableBounds.width+M+n.pinnedfeedback.coord().left,n.rtl?n.resizeFrom=new Ne.jqx.date(i.getAttribute("data-date"),n.timeZone):n.resizeTo=Ne.jqx.scheduler.utilities.getEndOfDay(new Ne.jqx.date(i.getAttribute("data-date"),n.timeZone)))}else if(e<n._lastResizeX-d){var h;M=s.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left;a(h=n.selectedAppointmentTableBounds.width+M)&&(n.feedback.hide(),n.feedback.css("left",5+s.left),n.feedback.width(h-6),n.pinnedfeedback.width(h-6),n._lastResizeX=n.selectedAppointmentTableBounds.width+M+n.pinnedfeedback.coord().left,n.rtl?n.resizeFrom=new Ne.jqx.date(i.getAttribute("data-date"),n.timeZone).addDays(1):n.resizeTo=Ne.jqx.scheduler.utilities.getEndOfDay(new Ne.jqx.date(i.getAttribute("data-date"),n.timeZone).addDays(-1)))}}}else{var c=new Array,u=new Array,p=-1,m=-1,f=this.host.coord().left,g=0,v=n.hScrollInstance.value;if(n.rtl)v=n.hScrollInstance.max-n.hScrollInstance.value;"hidden"==n.hScrollBar[0].style.visibility&&(v=0);for(var x=e+v,w=0;w<this.columns.records.length;w++)this.columns.records[w].timeColumn&&(n.rtl||(f+=this.columns.records[w].width,g++));var y=n.getViewStart(),b=n.getViewEnd();for(w=0;w<this._getColumnsLengthPerView();w++){var _=this.columns.records[w+g].width;n.leftResize?(n.rtl||(c.push(f),u.push(y.addDays(w)),(0!=r.from.hour()||0==r.from.hour()&&0!=r.from.minute())&&f<n.selectedAppointmentTableBounds.left&&f+_>n.selectedAppointmentTableBounds.left&&(c.push(n.selectedAppointmentTableBounds.left),u.push(r.from),p=c.length-1),(23!=r.to.hour()||23==r.to.hour()&&59!=r.to.minute())&&f<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&f+_>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(c.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width+8),u.push(r.to),m=c.length-1)),n.rtl&&(c.push(f),u.push(b.addDays(-w-1)),(0!=r.from.hour()||0==r.from.hour()&&0!=r.from.minute())&&f<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&f+_>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(c.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width+8),u.push(r.from),p=c.length-1),(23!=r.to.hour()||23==r.to.hour()&&59!=r.to.minute())&&f<n.selectedAppointmentTableBounds.left&&f+_>n.selectedAppointmentTableBounds.left&&(c.push(n.selectedAppointmentTableBounds.left),u.push(r.to),m=c.length-1)),f+=_):n.rtl?((0!=r.from.hour()||0==r.from.hour()&&0!=r.from.minute())&&f<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&f+_>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(c.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width+8),u.push(r.from),p=c.length-1),(23!=r.to.hour()||23==r.to.hour()&&59!=r.to.minute())&&f<n.selectedAppointmentTableBounds.left&&f+_>n.selectedAppointmentTableBounds.left&&(c.push(n.selectedAppointmentTableBounds.left),u.push(r.to),m=c.length-1),f+=_,c.push(f),u.push(b.addDays(-w-1))):((0!=r.from.hour()||0==r.from.hour()&&0!=r.from.minute())&&f<n.selectedAppointmentTableBounds.left&&f+_>n.selectedAppointmentTableBounds.left&&(c.push(n.selectedAppointmentTableBounds.left),u.push(r.from),p=c.length-1),(23!=r.to.hour()||23==r.to.hour()&&59!=r.to.minute())&&f<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&f+_>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(c.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width+8),u.push(r.to),m=c.length-1),f+=_,c.push(f),u.push(y.addDays(w)))}if(n.leftResize){for(w=0;w<c.length;w++){s=c[w];if((I=c[w+1])||(I=s),w<c.length-1?s<=x&&x<=I:s<=x){_=-s+n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width;var j=n.pinnedfeedback.width(),q=n.pinnedfeedback.css("left"),T=n.resizeTo,C=n.resizeFrom;0<_&&(n.pinnedfeedback.css("left",s),n.pinnedfeedback.width(_),w==p?n.rtl?n.resizeTo=r.from:n.resizeFrom=r.from:w==m?n.rtl?n.resizeTo=r.to:n.resizeFrom=r.to:n.rtl?n.resizeTo=Ne.jqx.scheduler.utilities.getEndOfDay(u[w]):n.resizeFrom=u[w])}}var S=n.resizeFrom,k=n.resizeTo;n.rtl?S=r.from:k=r.to,new Ne.jqx.timeSpan(1e4*(k-S)).days()<1&&(n.pinnedfeedback.css("left",q),n.pinnedfeedback.width(j),n.resizeFrom=C,n.resizeTo=T)}else if(n.rightResize){for(w=0;w<c.length;w++){var I;s=c[w];if((I=c[w+1])||(I=s),w<c.length-1?e>=s-this.cellWidth/3&&e<=I-this.cellWidth/3:e>=s-this.cellWidth/3){_=s-n.selectedAppointmentTableBounds.left-15,j=n.pinnedfeedback.width();n.pinnedfeedback.width(_);T=n.resizeTo,C=n.resizeFrom;if(w==p){n.rtl?n.resizeFrom=r.from:n.resizeTo=r.from;_=s-n.selectedAppointmentTableBounds.left-9;n.pinnedfeedback.width(_);break}if(w==m){n.rtl?n.resizeFrom=r.to:n.resizeTo=r.to;_=s-n.selectedAppointmentTableBounds.left-9;n.pinnedfeedback.width(_);break}n.rtl?n.resizeFrom=u[w]:n.resizeTo=Ne.jqx.scheduler.utilities.getEndOfDay(u[w]);break}}S=n.resizeFrom,k=n.resizeTo;n.rtl?k=r.to:S=r.from,new Ne.jqx.timeSpan(1e4*(k-S)).days()<1&&(n.pinnedfeedback.width(j),n.resizeFrom=C,n.resizeTo=T)}}}else{var D=function(e){return!(e<10)},P=n.findCell(n.feedback.coord().left,t);if(n.topResize){if(n._lastResizeY||(n._lastResizeY=n.mouseDownPosition.top),t>n._lastResizeY+Ne(i).height()/2){if(D(B=n.selectedAppointmentTableBounds.height+n.selectedAppointmentTableBounds.top-s.top-Ne(i).height()-3)){n.feedback.css("top",2+s.top+Ne(i).height()),n.feedback.height(B),n._lastResizeY=n.feedback.coord().top;var A=new Ne.jqx.date(P.getAttribute("data-date"),n.timeZone);n.resizeFrom=A.addMinutes(n.getMinutesPerScale())}}else if(t<n._lastResizeY-Ne(i).height()/2)D(B=n.selectedAppointmentTableBounds.height+n.selectedAppointmentTableBounds.top-s.top-3)&&(n.feedback.css("top",2+s.top),n.feedback.height(B),n._lastResizeY=n.feedback.coord().top,n.resizeFrom=new Ne.jqx.date(P.getAttribute("data-date"),n.timeZone))}else if(n.bottomResize)if(n._lastResizeY||(n._lastResizeY=n.mouseDownPosition.top),t>n._lastResizeY+Ne(i).height()/2){var M=-5+Ne(i).height()+s.top-n.selectedAppointmentTableBounds.height-n.selectedAppointmentTableBounds.top;D(B=n.selectedAppointmentTableBounds.height+M)&&(n.feedback.height(B),n._lastResizeY=n.selectedAppointmentTableBounds.height+M+n.feedback.coord().top,n.resizeTo=new Ne.jqx.date(P.getAttribute("data-date"),n.timeZone).addMinutes(n.getMinutesPerScale()))}else if(t<n._lastResizeY-Ne(i).height()/2){var B,M=-5+s.top-n.selectedAppointmentTableBounds.height-n.selectedAppointmentTableBounds.top;D(B=n.selectedAppointmentTableBounds.height+M)&&(n.feedback.height(B),n._lastResizeY=n.selectedAppointmentTableBounds.height+M+n.feedback.coord().top,n.resizeTo=new Ne.jqx.date(P.getAttribute("data-date"),n.timeZone))}}},_handleTimelineMonthViewResize:function(e,t,i,s,r){var n=this,o=(n._views[n._view].type,n._views[n._view],function(e){return!(e<10)}),a=n.findCell(e,n.feedback.coord().top);if(r.allDay){if(n.leftResize){if(n._lastResizeX||(n._lastResizeX=n.mouseDownPosition.left),e>n._lastResizeX+Ne(i).width()/2)o(d=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-s.left-Ne(i).width())&&(n.feedback.css("left",s.left+Ne(i).width()),n.feedback.width(d),n._lastResizeX=n.feedback.coord().left,n.rtl?n.resizeTo=Ne.jqx.scheduler.utilities.getEndOfDay(new Ne.jqx.date(a.getAttribute("data-date"),n.timeZone).addDays(-1)):n.resizeFrom=new Ne.jqx.date(a.getAttribute("data-date"),n.timeZone).addDays(1));else if(e<n._lastResizeX-Ne(i).width()/2)o(d=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-s.left)&&(n.feedback.css("left",s.left),n.feedback.width(d),n._lastResizeX=n.feedback.coord().left,n.rtl?n.resizeTo=Ne.jqx.scheduler.utilities.getEndOfDay(new Ne.jqx.date(a.getAttribute("data-date"),n.timeZone)):n.resizeFrom=new Ne.jqx.date(a.getAttribute("data-date"),n.timeZone))}else if(n.rightResize)if(n._lastResizeX||(n._lastResizeX=n.mouseDownPosition.left),e>n._lastResizeX+Ne(i).width()/2){var l=Ne(i).width()+s.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left;o(d=n.selectedAppointmentTableBounds.width+l-5)&&(n.feedback.width(d),n._lastResizeX=n.selectedAppointmentTableBounds.width+l+n.feedback.coord().left,n.rtl?n.resizeFrom=new Ne.jqx.date(a.getAttribute("data-date"),n.timeZone):n.resizeTo=Ne.jqx.scheduler.utilities.getEndOfDay(new Ne.jqx.date(a.getAttribute("data-date"),n.timeZone)))}else if(e<n._lastResizeX-Ne(i).width()/2){var d;l=s.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left;o(d=n.selectedAppointmentTableBounds.width+l-5)&&(n.feedback.width(d),n._lastResizeX=n.selectedAppointmentTableBounds.width+l+n.feedback.coord().left,n.rtl?n.resizeFrom=new Ne.jqx.date(a.getAttribute("data-date"),n.timeZone).addDays(1):n.resizeTo=Ne.jqx.scheduler.utilities.getEndOfDay(new Ne.jqx.date(a.getAttribute("data-date"),n.timeZone).addDays(-1)))}}else{for(var h=new Array,c=new Array,u=-1,p=-1,m=this.host.coord().left,f=0,g=0;g<this.columns.records.length;g++)this.columns.records[g].timeColumn&&(m+=this.columns.records[g].width,f++);var v=n.hScrollInstance.value;if(n.rtl)v=n.hScrollInstance.max-n.hScrollInstance.value;"hidden"==n.hScrollBar[0].style.visibility&&(v=0);var x=e+v,w=n.getViewStart(),y=n.getViewEnd();for(this._getColumnsLengthPerView(),g=0;g<this._getColumnsLengthPerView();g++){var b=this.columns.records[g+f].width;n.leftResize?(h.push(m),n.rtl?c.push(y.addDays(-g)):c.push(w.addDays(g)),(0!=r.from.hour()||0==r.from.hour()&&0!=r.from.minute())&&m<n.selectedAppointmentTableBounds.left&&m+b>n.selectedAppointmentTableBounds.left&&(h.push(n.selectedAppointmentTableBounds.left),c.push(r.from),u=h.length-1),(23!=r.to.hour()||23==r.to.hour()&&59!=r.to.minute())&&m<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&m+b>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(h.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width+8),c.push(r.to),p=h.length-1),m+=b):((0!=r.from.hour()||0==r.from.hour()&&0!=r.from.minute())&&m<n.selectedAppointmentTableBounds.left&&m+b>n.selectedAppointmentTableBounds.left&&(h.push(n.selectedAppointmentTableBounds.left),c.push(r.from),u=h.length-1),(23!=r.to.hour()||23==r.to.hour()&&59!=r.to.minute())&&m<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&m+b>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(h.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width),c.push(r.to),p=h.length-1),m+=b,h.push(m),n.rtl?c.push(y.addDays(-g-1)):c.push(w.addDays(g)))}if(n.leftResize){for(g=0;g<h.length;g++){var _=h[g];if((I=h[g+1])||(I=_),g<h.length-1?_<=x&&x<=I:_<=x){b=-_+n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width;var j=n.feedback.width(),q=n.feedback.css("left"),T=n.resizeTo,C=n.resizeFrom;n.feedback.css("left",_),n.feedback.width(b),g==u?n.rtl?n.resizeTo=r.from:n.resizeFrom=r.from:g==p?n.rtl?n.resizeTo=r.to:n.resizeFrom=r.to:n.rtl?n.resizeTo=c[g]:n.resizeFrom=c[g]}}var S=n.resizeFrom,k=n.resizeTo;n.rtl?S=r.from:k=r.to;new Ne.jqx.timeSpan(1e4*(k-S));n.feedback.width()<20&&(n.feedback.css("left",q),n.feedback.width(j),n.resizeFrom=C,n.resizeTo=T)}else if(n.rightResize){for(g=0;g<h.length;g++){var I;_=h[g];if((I=h[g+1])||(I=_),g<h.length-1?x>=_-this.cellWidth/3&&x<=I-this.cellWidth/3:x>=_-this.cellWidth/3){b=_-n.selectedAppointmentTableBounds.left-12,j=n.feedback.width();n.feedback.width(b);T=n.resizeTo,C=n.resizeFrom;if(g==u){n.rtl?n.resizeFrom=r.from:n.resizeTo=r.from;b=_-n.selectedAppointmentTableBounds.left;n.feedback.width(b);break}if(g==p){n.rtl?n.resizeFrom=r.to:n.resizeTo=r.to;b=_-n.selectedAppointmentTableBounds.left;n.feedback.width(b);break}n.rtl?n.resizeFrom=c[g]:n.resizeTo=Ne.jqx.scheduler.utilities.getEndOfDay(c[g]);break}}S=n.resizeFrom,k=n.resizeTo;n.rtl?k=r.to:S=r.from;new Ne.jqx.timeSpan(1e4*(k-S));n.feedback.width()<20&&(n.feedback.width(j),n.resizeFrom=C,n.resizeTo=T)}}},_handleMonthViewResize:function(e,t,i,s,r){var n=this;if(n.selectedJQXAppointment){n._views[n._view].type;var o=n._views[n._view],a=-5;1<n.tableColumns&&(a=parseInt(-5/n.tableColumns));for(var l=0;l<n.columns.records.length/n.tableColumns;l++)n.columns.records[l].timeColumn||(a+=n.columns.records[l].width);var d=n.selectedJQXAppointment.resourceId,h=n._resources.indexOf(d);n.resources&&"none"==n.resources.orientation&&(h=-1);var c="0px";-1!=h&&1==n.tableRows&&(c=a*h+"px"),o.showWeekNumbers&&(n.rtl||(c=parseInt(c)+n.columns.records[0].width+"px"));var u=i.offsetWidth,p=(i.offsetHeight,18);n.isTouchDevice()&&(p=2);for(l=0;l<6;l++)n.feedbacks[l][0].style.left=c,n.feedbacks[l][0].style.width=a+"px",n.feedbacks[l][0].style.display="block",n.feedbacks[l][0].style.top=parseInt(n.rows[l].top)+p+"px",1<n.tableRows&&(n.feedbacks[l][0].style.top=parseInt(n.rows[6*h+l].top)+p+"px"),Ne(n.feedbacks[l][0]).find(".jqx-scheduler-appointment-resize-indicator").css("visibility","inherit");var m=n.selectedJQXAppointment.elements,f=(m[0].cells[0].cell,m[m.length-1]),g=f.lastCellY,v=f.lastCellX,x=m[0].cellY,w=m[0].cellX,y=parseInt(s.top),b=parseInt(s.left);if(n.rtl){if(n.leftResize){for(D=!1,l=0;l<6;l++){j=n.feedbacks[l],q=parseInt(j[0].style.top)-p,parseInt(j[0].style.left);if(q<y)j[0].style.width=a+"px";else for(T=0;T<m.length;T++){(I=m[T].cellY)==q&&(j[0].style.width=m[T].width+"px",j[0].style.top=m[T].y+"px")}C=m[0],S=parseInt(C.x);if(q==x)if(j[0].style.left=S+"px",y==x){if(j[0].style.left=1+s.left+"px",j[0].style.width=-1+C.x+C.width-s.left+"px",s.left>C.x+C.width&&(j[0].style.width=C.width+"px",j[0].style.left=C.x+"px"),"exactTime"==o.appointmentsRenderMode&&!n.selectedJQXAppointment.allDay)e-(P=n.host.coord().left)>=C.x-10&&e-P<=C.cellX+n.cellWidth&&(j[0].style.width=C.width+"px",j[0].style.left=C.x+"px",D=!0)}else y<x?(j[0].style.left=S+"px",j[0].style.width=C.width+"px"):x<y&&(j[0].style.left=c,j[0].style.width=C.x+C.width-parseInt(c)+"px");else q==y&&(j[0].style.width=a-s.left+parseInt(c)+"px",j[0].style.left=s.left+"px");if(q<x&&(j[0].style.display="none"),y<q&&(j[0].style.display="none"),y<x)for(T=0;T<m.length;T++){(I=m[T].cellY)==q&&(j[0].style.display="block",j[0].style.width=m[T].width+"px",j[0].style.left=m[T].x+"px")}if(y==x)for(T=0;T<m.length;T++){I=m[T].cellY;(y<x||y==x)&&I==q&&x!=g&&(j[0].style.left=1+s.left+parseInt(c)+"px",1+s.left+parseInt(c)>C.x+C.width&&(j[0].style.left=C.x+"px"),j[0].style.width=-1+C.x+C.width-s.left+"px")}}(A=Ne.jqx.scheduler.utilities.getEndOfDay(new Ne.jqx.date(i.getAttribute("data-date"),n.timeZone)))>n.selectedJQXAppointment.from&&!D?n.resizeTo=A:n.resizeTo=n.selectedJQXAppointment.to}else if(n.rightResize){for(_=!1,l=0;l<6;l++){j=n.feedbacks[l],q=parseInt(j[0].style.top)-p,parseInt(j[0].style.left);q<y&&(j[0].style.width=a+"px");for(T=0;T<m.length;T++){(I=m[T].cellY)==q&&(j[0].style.top=m[T].y+"px")}C=m[0],S=parseInt(C.x);if(q==x)if(j[0].style.left=S+"px",y==x)if(w<=b){if(j[0].style.width=b+u-S-5+"px","exactTime"==o.appointmentsRenderMode&&!n.selectedJQXAppointment.allDay)e-(P=n.host.coord().left)>=C.lastCellX&&e-P<=C.x+C.width+15&&(j[0].style.width=C.width+"px",_=!0)}else j[0].style.width=C.width+"px";else x<y?(j[0].style.left=S+"px",j[0].style.width=C.width+"px"):y<x&&(j[0].style.left=S+"px",j[0].style.width=a-S+parseInt(c)+"px");else q==y&&(j[0].style.width=b+u-5-parseInt(c)+"px");if(g<q&&(j[0].style.display="none"),q<y&&(j[0].style.display="none"),g<y)for(T=0;T<m.length;T++){(I=m[T].cellY)==q&&(j[0].style.display="block"),q==g&&(j[0].style.width=m[T].width+"px",j[0].style.left=m[T].x+"px")}if(y<=g&&q==g)for(T=0;T<m.length;T++){I=m[T].cellY;q!=y&&I==q&&x!=g?(j[0].style.width=m[T].width+"px",j[0].style.left=m[T].x+"px"):q==y&&I==q&&x!=g&&(j[0].style.left=m[T].x+"px",j[0].style.width=b+u-5-parseInt(c)-m[T].x+"px")}}(A=new Ne.jqx.date(i.getAttribute("data-date"),n.timeZone))<n.selectedJQXAppointment.to&&!_?n.resizeFrom=A:n.resizeFrom=n.selectedJQXAppointment.from}}else if(n.leftResize){for(var _=!1,l=0;l<6;l++){var j=n.feedbacks[l],q=parseInt(j[0].style.top)-p;parseInt(j[0].style.left);if(q<y){j[0].style.width=a+"px";for(var T=0;T<m.length;T++){(I=m[T].cellY)==q&&(j[0].style.top=m[T].y+"px")}}else for(var T=0;T<m.length;T++){(I=m[T].cellY)==q&&(j[0].style.width=m[T].width+"px",j[0].style.top=m[T].y+"px")}var C=m[0],S=parseInt(C.x);if(q==x)if(j[0].style.left=S+"px",y==x){if(j[0].style.left=1+s.left+"px",j[0].style.width=-1+C.x+C.width-s.left+"px","exactTime"==o.appointmentsRenderMode&&!n.selectedJQXAppointment.allDay){var k=n.cellWidth-(C.x-w);e-(P=n.host.coord().left)>=C.x&&e-P<=C.x+k+2&&(j[0].style.left=S+"px",j[0].style.width=C.width+"px",_=!0)}}else x<y?(j[0].style.left=S+"px",j[0].style.width=C.width+"px"):y<x&&(j[0].style.left=c,j[0].style.width=C.x+C.width-parseInt(c)+"px");else q==y&&(j[0].style.width=a-s.left+parseInt(c)+"px",j[0].style.left=s.left+"px");if(g<q&&(j[0].style.display="none"),q<y&&(j[0].style.display="none"),g<=y)for(var T=0;T<m.length;T++){var I=m[T].cellY;g<y||y==g&&v<b?I==q&&(j[0].style.display="block",j[0].style.width=m[T].width+"px",j[0].style.left=m[T].x+"px"):y==g&&b<=v&&x!=g&&(j[0].style.width=m[T].width-s.left+parseInt(c)+"px")}}(A=new Ne.jqx.date(i.getAttribute("data-date"),n.timeZone))<n.selectedJQXAppointment.to&&!_?n.resizeFrom=A:n.resizeFrom=n.selectedJQXAppointment.from}else if(n.rightResize){for(var D=!1,l=0;l<6;l++){var j=n.feedbacks[l],q=parseInt(j[0].style.top)-p;parseInt(j[0].style.left);q<y&&(j[0].style.width=a+"px");for(var T=0;T<m.length;T++){(I=m[T].cellY)==q&&(j[0].style.top=m[T].y+"px")}var P,C=m[0],S=parseInt(C.x);if(q==x)if(j[0].style.left=S+"px",y==x)if(w<=b){if(j[0].style.width=b+u-S-5+"px","exactTime"==o.appointmentsRenderMode&&!n.selectedJQXAppointment.allDay)v<=e-(P=n.host.coord().left)&&e-P<=C.x+C.width+15&&(j[0].style.width=C.width+"px",D=!0)}else j[0].style.width=C.width+"px";else y<x?(j[0].style.left=S+"px",j[0].style.width=C.width+"px"):x<y&&(j[0].style.left=S+"px",j[0].style.width=a-S+parseInt(c)+"px");else q==y&&(j[0].style.width=b+u-5-parseInt(c)+"px");if(q<x&&(j[0].style.display="none"),y<q&&x<q&&(j[0].style.display="none"),y<=x)for(var T=0;T<m.length;T++){var I=m[T].cellY;(y<x||y==x&&b<w)&&I==q&&(j[0].style.display="block",j[0].style.width=m[T].width+"px")}}var A;(A=Ne.jqx.scheduler.utilities.getEndOfDay(new Ne.jqx.date(i.getAttribute("data-date"),n.timeZone)))>n.selectedJQXAppointment.from&&!D?n.resizeTo=A:n.resizeTo=n.selectedJQXAppointment.to}var M=new Array;for(l=0;l<6;l++){"block"==(j=n.feedbacks[l])[0].style.display&&M.push(j)}Ne.each(M,function(e){n.rtl?(0<e&&(Ne(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"),e<M.length-1&&(Ne(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden")):(0<e&&(Ne(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden"),e<M.length-1&&(Ne(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"))})}},_handleTimelineDayWeekViewResize:function(e,t,i,s,r){var n=this,o=(n._views[n._view].type,n._views[n._view],n.getMinutesPerScale()),a=function(e){return!(e<10)},l=n.findCell(e,n.feedback.coord().top);if(n.leftResize)n._lastResizeX||(n._lastResizeX=n.mouseDownPosition.left),e>n._lastResizeX+Ne(i).width()/2?a(h=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-s.left-Ne(i).width())&&(n.feedback.css("left",2+s.left+Ne(i).width()),n.feedback.width(h),n._lastResizeX=n.feedback.coord().left,n.rtl?n.resizeTo=new Ne.jqx.date(l.getAttribute("data-date"),n.timeZone):n.resizeFrom=new Ne.jqx.date(l.getAttribute("data-date"),n.timeZone).addMinutes(o)):e<n._lastResizeX-Ne(i).width()/2&&a(h=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-s.left)&&(n.feedback.css("left",2+s.left),n.feedback.width(h),n._lastResizeX=n.feedback.coord().left,n.rtl?n.resizeTo=new Ne.jqx.date(l.getAttribute("data-date"),n.timeZone).addMinutes(o):n.resizeFrom=new Ne.jqx.date(l.getAttribute("data-date"),n.timeZone));else if(n.rightResize)if(n._lastResizeX||(n._lastResizeX=n.mouseDownPosition.left),e>n._lastResizeX+Ne(i).width()/2){var d=Ne(i).width()+s.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left;a(h=n.selectedAppointmentTableBounds.width+d)&&(n.feedback.width(h),n._lastResizeX=n.selectedAppointmentTableBounds.width+d+n.feedback.coord().left,n.rtl?n.resizeFrom=new Ne.jqx.date(l.getAttribute("data-date"),n.timeZone):n.resizeTo=new Ne.jqx.date(l.getAttribute("data-date"),n.timeZone).addMinutes(o))}else if(e<n._lastResizeX-Ne(i).width()/2){var h;d=s.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left;a(h=n.selectedAppointmentTableBounds.width+d)&&(n.feedback.width(h),n._lastResizeX=n.selectedAppointmentTableBounds.width+d+n.feedback.coord().left,n.rtl?n.resizeFrom=new Ne.jqx.date(l.getAttribute("data-date"),n.timeZone).addMinutes(o):n.resizeTo=new Ne.jqx.date(l.getAttribute("data-date"),n.timeZone))}},_handleResize:function(s,l,e,t,d){var h=this,c=h._views[h._view].type,u=h._views[h._view];"dayView"===c||"weekView"===c?h._handleDayWeekViewResize(s,l,e,t,d):"timelineMonthView"===c?h._handleTimelineMonthViewResize(s,l,e,t,d):"monthView"===c?h._handleMonthViewResize(s,l,e,t,d):"timelineDayView"!==c&&"timelineWeekView"!==c||h._handleTimelineDayWeekViewResize(s,l,e,t,d),"timelineDayView"===c||"timelineMonthView"===c||"timelineWeekView"===c?(clearInterval(h._horizontalIntervalDrag),h._horizontalIntervalDrag=setInterval(function(){var e=h.host.width(),t=h.host.coord().left+25,i=e+t-45;h.rtl?i<s?h.hScrollInstance.setPosition(h.hScrollInstance.value-5):s<t&&h.hScrollInstance.setPosition(h.hScrollInstance.value+5):s<t?h.hScrollInstance.setPosition(h.hScrollInstance.value-5):i<s&&h.hScrollInstance.setPosition(h.hScrollInstance.value+5)},5)):"dayView"!==c&&"weekView"!==c||(clearInterval(h._intervalDrag),h._intervalDrag=setInterval(function(){var e=h.host.height(),t=0;h.columnGroups?t+=h.showHeader?h.columnsheader.height():0:t+=h.showHeader?h.columnsHeight:0,h.showToolbar&&(t+=h.toolbarHeight),e-=t;var i=h.legendHeight;0==h._resources.length&&(i=0),h.showLegend&&(e-=i);var s=t+h.host.coord().top,r=h.showAllDayRow;!u.timeRuler||"dayView"!==c&&"weekView"!==c||null!=u.timeRuler.showAllDayRow&&(r=u.timeRuler.showAllDayRow);var n=1<=d.duration().days()||d.allDay;r&&n?s-=20:r&&h.resizing&&(s+=Ne(h.table[0].rows[0]).height(),e-=Ne(h.table[0].rows[0]).height());var o=s+25,a=e+o-45;l<o?h.vScrollInstance.setPosition(h.vScrollInstance.value-5):a<l&&h.vScrollInstance.setPosition(h.vScrollInstance.value+5)},5)),h.resizing=!0},_startTimers:function(s,d,h){var c=this,u=c.host.coord(),r=0,p=0;"hidden"!=c.hScrollInstance.element.style.visibility&&(clearInterval(c._horizontalIntervalDragVelocity),c._horizontalIntervalDragVelocity=setInterval(function(){40<++r&&(r=40)},100),clearInterval(c._horizontalIntervalDrag),c._horizontalIntervalDrag=setInterval(function(){var e=c._hostWidth,t=u.left+30,i=e+t-60;c.rtl?s<t?c.hScrollInstance.setPosition(c.hScrollInstance.value+10+r):i<s?c.hScrollInstance.setPosition(c.hScrollInstance.value-10-r):r=0:s<t?c.hScrollInstance.setPosition(c.hScrollInstance.value-10-r):i<s?c.hScrollInstance.setPosition(c.hScrollInstance.value+10+r):r=0},10)),"hidden"!=c.vScrollInstance.element.style.visibility&&(clearInterval(c._verticalIntervalDragVelocity),c._verticalIntervalDragVelocity=setInterval(function(){40<++p&&(p=40)},100),clearInterval(c._intervalDrag),c._intervalDrag=setInterval(function(){var e=c._hostHeight,t=0;c.columnGroups?t+=c.showHeader?c.columnsheader.height():0:t+=c.showHeader?c.columnsHeight:0;var i=c._views[c._view].type,s=c._views[c._view];c.showToolbar&&(t+=c.toolbarHeight),e-=t,c.showLegend&&0<c._resources.length&&(e-=c.legendHeight);var r=u.top,n=t+r;if("dayView"==i||"weekView"==i){var o=c.showAllDayRow;!s.timeRuler||"dayView"!==i&&"weekView"!==i||null!=s.timeRuler.showAllDayRow&&(o=s.timeRuler.showAllDayRow);var a=1<=h.duration().days()||h.allDay;o&&a?n-=20:o&&c.resizing&&(n+=Ne(c.table[0].rows[0]).height())}var l=r+e+t-30;d<n+30?c.vScrollInstance.setPosition(c.vScrollInstance.value-10-p):l<d?c.vScrollInstance.setPosition(c.vScrollInstance.value+10+p):p=0},10))},_hoverCell:function(e){return!this.enableHover||(0<this._resources.length&&0<=e.className.indexOf("pinned")||(0<=e.className.indexOf("time-column")||(0<=e.className.indexOf("jqx-scheduler-disabled-cell")||(!(!e||e!=this.hoveredCell)||(!(this.hoveredCell=e)||(this._removeHoveredCell(),(this.hoveredCell=e).className+=" "+this.toTP("jqx-fill-state-hover")+" "+this.toTP("jqx-grid-cell-hover")+" "+this.toTP("jqx-scheduler-cell-hover"),void(e.jqxClassName=e.className)))))))},_removeHoveredCell:function(){var e,t=this;if(t.hoveredCell){var i=t.hoveredCell;e=(e=(e=(e=i.className).replace(" "+t.toTP("jqx-fill-state-hover"),"")).replace(" "+t.toTP("jqx-grid-cell-hover"),"")).replace(" "+t.toTP("jqx-scheduler-cell-hover"),""),i.className=e,i.jqxClassName=e}t.hoveredCell=null},_addHandlers:function(){var P=this;this._mousewheelfunc=this._mousewheelfunc||function(e){return P.wheel(e,P),!1};var i=this.focused=!1;this.addHandler(Ne(document),"keydown.scheduler"+P.element.id,function(e){i=!1,9===e.keyCode&&e.shiftKey&&!P.focused&&(i=!0)}),this.addHandler(this.host,"focus",function(e){if(!P.focusedCell||P.selectedAppointment||i||Ne(P.focusedCell).addClass(P.toThemeProperty("jqx-scheduler-cell-focus")),P.focused=!0,i)if(0<P.appointmentsToRender.length){var t=P.appointmentsToRender[P.appointmentsToRender.length-1];P._selectAppointment(t),P._lastSelectedAppointment=t}else if(P.focusedCell){if(P.focusedCell&&-1==P.focusedCell.className.indexOf("-focus"))return P._updateCellsSelection(),!1}else P._updateFocusedCell()}),this.addHandler(this.host,"blur",function(e){if(P.focusedCell){if(document.activeElement==P.element)return!0;if(Ne(document.activeElement).ischildof(P.host))return!0;Ne(P.focusedCell).removeClass(P.toThemeProperty("jqx-scheduler-cell-focus")),P.focused=!1}}),this.addHandler(this.host,"dragstart."+this.element.id,function(e){return!1}),this.addHandler(this.host,"selectstart."+this.element.id,function(e){return!!P.enableBrowserSelection||(!(!P.showToolBar||!Ne(e.target).ischildof(P.toolbar))||(!!(P.rowDetails&&0<Ne(e.target).parents("[data-role=details]").length)||null!=P.editKey&&void 0))}),this.addHandler(Ne(window),"jqxReady."+this.element.id,function(){}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var t=this.isTouchDevice();this.vScrollInstance.valueChanged=function(e){P._timer&&clearTimeout(P._timer),t?P.table&&(P.table[0].style.top=0-P.vScrollInstance.value+"px"):P._timer=setTimeout(function(){P.table&&(P.table[0].style.top=0-P.vScrollInstance.value+"px")},1)},this.hScrollInstance.valueChanged=function(e){P._htimer&&clearTimeout(P._htimer),t?P.table&&P._renderhorizontalscroll():P._htimer=setTimeout(function(){P.table&&P._renderhorizontalscroll()},1)};var e="mousedown";this.isTouchDevice()&&(e=Ne.jqx.mobile.getTouchEventName("touchstart"),Ne.jqx.browser.msie&&Ne.jqx.browser.version<10&&(e="mousedown")),this.addHandler(this.table,"mouseleave",function(e){P._removeHoveredCell()}),P.isTouchDevice()&&(P.enableHover=!1);var s="mousemove.scheduler"+this.element.id,r="mouseup.scheduler"+this.element.id;this.isTouchDevice()&&!0!==this.touchMode&&(s=Ne.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+this.element.id,r=Ne.jqx.mobile.getTouchEventName("touchend")+".scheduler"+this.element.id),this.addHandler(Ne(document),s,function(e){var t=e.pageX,i=e.pageY;P.isTouchDevice()&&(t=(m=Ne.jqx.position(e)).left,i=m.top,(isNaN(t)||isNaN(i))&&(t=(m=Ne.jqx.position(e.originalEvent)).left,i=m.top));if(P.disabled||3===e.which)return!0;if(!P.isMouseDown)return!0;if(P.hScrollInstance.isScrolling()||P.vScrollInstance.isScrolling())return!0;if(P._hostWidth){var s=P.host.coord();if(s.left+P._hostWidth<t||t<s.left)return!0;if(s.top+P._hostHeight<i||i<s.top)return!0}if(P.mouseDownPosition&&(3<=Math.abs(P.mouseDownPosition.left-t)&&Math.abs(P.mouseDownPosition.left-t)<=10||3<=Math.abs(P.mouseDownPosition.top-i)&&Math.abs(P.mouseDownPosition.top-i)<=10)&&(P.dragOrResize=!0),P.selectedAppointment&&P.dragOrResize){var r=null;if(P._hasOpenedMenu)return!0;if(P.editRecurrenceDialog.jqxWindow("isOpen"))return!0;var n=P._views[P._view].type,o=P._views[P._view],a=!1;if("td"===e.target.nodeName.toLowerCase())var l=e.target;else l=P.findCell(t,i);if(!l)return!0;if(null!=l.getAttribute("data-time-slot"))return!0;if(0<=l.className.indexOf("jqx-grid-cell-pinned"))return!0;if(!P.feedback){if(!(r=P.getJQXAppointmentByElement(P.selectedAppointment)).draggable&&!r.resizable)return!(r=null);if(P.beginDrag)if(!P.beginDrag(r))return!0;var d=Ne('[data-key="'+r.id+'"]'),h=P.selectedAppointment.position();P.feedback=P.selectedAppointment.clone(!0),P.pinnedfeedback=P.selectedAppointment.clone(!0);var c=!("row-resize"==P.selectedAppointment[0].style.cursor||"col-resize"==P.selectedAppointment[0].style.cursor||P.resizing),u=function(e){c&&e.find(".jqx-scheduler-appointment-resize-indicator").hide(),d.addClass(P.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),e.find(".jqx-scheduler-appointment-duration-status").hide(),e.addClass(P.toTP("jqx-scheduler-feedback-appointment")),e.addClass(P.toTP("jqx-scheduler-feedback-drag-appointment")),c?e.css("z-index",401):e.css("z-index",400)};if(u(P.feedback),u(P.pinnedfeedback),"monthView"!=P._views[P._view].type||c){if(P.table.append(P.feedback),1==P.tableRows?P.pinnedtable.append(P.pinnedfeedback):P.table.append(P.pinnedfeedback),P.feedback.css("left",h.left),P.feedback.css("top",h.top),P.pinnedfeedback.css("left",h.left),P.pinnedfeedback.css("top",h.top),"monthView"==P._views[P._view].type&&P.isTouchDevice()){P.feedbacks=new Array;for(var p=0;p<6;p++)P.feedbacks.push(P.feedback.clone(!0)),Ne(P.feedbacks[p]).hide(),P.table.append(Ne(P.feedbacks[p]))}}else{P.feedbacks=new Array;for(p=0;p<6;p++)P.feedbacks.push(P.feedback.clone(!0)),Ne(P.feedbacks[p]).hide(),P.table.append(Ne(P.feedbacks[p]))}}if(P.dragging)if(!1===P.dragging(r,l,P.feedback))return!0;var m=Ne(l).position();if(P.endDrag)var f=P.feedback.css("left"),g=P.feedback.css("top"),v=P.feedback.width(),x=P.feedback.height;r||(r=P.selectedJQXAppointment),r||(P.selectAppointment(P.uiappointments[0].id),r=P.selectedJQXAppointment);var w=r.resourceId,y=P._resources.indexOf(w);P.resources&&"none"==P.resources.orientation&&(y=-1);var b=!1,_=P.isTouchDevice();if(_&&!0!==P.touchMode&&null==P._dragCell&&!(P.leftResize||P.rightResize||P.topResize||P.bottomResize||P.resizing))switch(n){case"dayView":case"weekView":(a=1<=r.duration().days()||r.allDay)?(t>=P.selectedAppointmentBounds.left-15&&t<=P.selectedAppointmentBounds.left+15&&(b=!0,P.leftResize=!0),t>=P.selectedAppointmentBounds.left+P.selectedAppointmentBounds.width-15&&t<=P.selectedAppointmentBounds.left+P.selectedAppointmentBounds.width+15&&(b=!0,P.rightResize=!0)):(i>=P.selectedAppointmentBounds.top-15&&i<=P.selectedAppointmentBounds.top+15&&(b=!0,P.topResize=!0),i>=P.selectedAppointmentBounds.top-15+P.selectedAppointmentBounds.height&&i<=P.selectedAppointmentBounds.top+P.selectedAppointmentBounds.height+15&&(b=!0,P.bottomResize=!0));break;default:t>=P.selectedAppointmentBounds.left-15&&t<=P.selectedAppointmentBounds.left+15&&(b=!0,P.leftResize=!0),t>=P.selectedAppointmentBounds.left+P.selectedAppointmentBounds.width-15&&t<=P.selectedAppointmentBounds.left+P.selectedAppointmentBounds.width+15&&(b=!0,P.rightResize=!0)}if(_&&(P.leftResize||P.rightResize||P.topResize||P.bottomResize||P.resizing)||b){if(l.getAttribute("data-view")!=y+1&&0<P._resources.length&&"none"!=P.resources.orientation)return!0;if((j=P._getDateByString(l.getAttribute("data-date")))<P.min.toDate()||j>P.max.toDate())return;P._handleResize(t,i,l,m,r),P._oldResizeTD=l}else if(!_&&"row-resize"==P.selectedAppointment[0].style.cursor||"col-resize"==P.selectedAppointment[0].style.cursor||P.resizing){if(l.getAttribute("data-view")!=y+1&&0<P._resources.length&&P.resources&&"none"!=P.resources.orientation)return!0;if((j=P._getDateByString(l.getAttribute("data-date")))<P.min.toDate()||j>P.max.toDate())return;P._handleResize(t,i,l,m,r),P._oldResizeTD=l}else{if(!r.draggable)return P._removeFeedbackAndStopResize(),!0;if(P._dragCell==l)return P._startTimers(t,i,r),P.isTouchDevice()&&!0!==P.touchMode?(e.stopPropagation(),!1):void 0;var j;if((j=P._getDateByString(l.getAttribute("data-date")))<P.min.toDate()||j>P.max.toDate())return;var q=r.duration();if(0<=n.indexOf("month")&&new Ne.jqx.date(j).add(q)>P.max)return;var T="hidden"==P.vScrollBar[0].style.visibility?0:6+P.vScrollBar.outerWidth();if(P._dragCell=l,P.feedback[0].style.left=2+m.left+"px",P.feedback[0].style.top=2+m.top+"px","dayView"===n||"weekView"===n){P.pinnedfeedback.css("left",2+m.left),P.pinnedfeedback.css("top",2+m.top);var C=0;if(l.getAttribute("data-end-date")){var S=P.appointmentsMinHeight;if(P.isTouchDevice()&&(S=P.touchAppointmentsMinHeight),o.appointmentHeight&&(S=o.appointmentHeight),a=1<=r.duration().days()||r.allDay,P.feedback.css("top",2+m.top+S),P.pinnedfeedback.css("top",2+m.top+18),"dayView"==n){var k=P.selectedAppointment.coord().left-9;P.feedback.css("left",k),P.pinnedfeedback.css("left",k)}if(a){if(P.pinnedfeedback.css("top",r.elements[0].y),C=P.selectedAppointment.width(),2+m.left+C>P.host.width()-T)C-=2+m.left+C-P.host.width()+T+6;P.feedback.width(C),P.feedback.height(S),P.pinnedfeedback.width(C),P.pinnedfeedback.height(S)}else C=Ne(l).width()-4,P.feedback.width(C),P.feedback.height(S),P.pinnedfeedback.width(C),P.pinnedfeedback.height(S);P.feedback.hide(),P.pinnedfeedback.show()}else{P.feedback.show(),P.pinnedfeedback.hide();switch(o.timeRuler&&o.timeRuler.scale){case"sixtyMinutes":case"hour":1;break;case"thirtyMinutes":case"halfHour":2;break;case"fifteenMinutes":case"quarterHour":4;break;case"tenMinutes":6;break;case"fiveMinutes":12}C=Ne(l).width()-4,P.feedback.width(C),(a=1<=r.duration().days()||r.allDay)?P.feedback.height(Ne(l).height()-6):P.feedback.height(P.selectedAppointment.height())}P._startTimers(t,i,r)}else if("monthView"===n){P.feedback.css("left",1+m.left);var I=P.selectedAppointmentTableBounds;(D=parseInt(I.top))>m.top&&D<m.top+l.offsetHeight?P.feedback.css("top",D+"px"):P.feedback.css("top",P.selectedAppointment.height()+m.top-2),P.isTouchDevice()&&P.feedback.css("top",m.top+2),C=P.selectedAppointment.width(),P.feedback.width(C),P.feedback.height(P.selectedAppointment.height()),P._startTimers(t,i,r)}else if("timelineDayView"===n||"timelineMonthView"===n||"timelineWeekView"===n){var D;I=P.selectedAppointmentTableBounds;(D=parseInt(I.top))>m.top&&D<m.top+l.offsetHeight&&P.feedback.css("top",D+"px"),P._startTimers(t,i,r)}}if(P.endDrag)return P.endDrag(r,l,P.feedback)||P.feedback.width(v),P.feedback.height(x),P.feedback.css("top",g),P.feedback.css("left",f),!0;if(P.isTouchDevice()&&!0!==P.touchMode)return e.stopPropagation(),!1}});var n=function(e){if(P.isMouseDown=!1,P.dragOrResize=!1,P.contextMenu&&P.menu&&3!==e.which&&(P.menu.jqxMenu("close"),P._hasOpenedMenu=!1),3===e.which)return!0;if(P.selectedAppointment&&P.feedback){if(P.editRecurrenceDialog.jqxWindow("isOpen"))return;P._handleMouseUp(P.selectedJQXAppointment,P._dragCell,P.resizing)}};if(this.addHandler(Ne(document),r,function(e){return n(e)}),!this.isTouchDevice())try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var o=null;if(window.parent&&document.referrer&&(o=document.referrer),o&&-1!=o.indexOf(document.location.host)){P.addHandler(Ne(window.top.document),"mouseup.jqxscheduler"+P.element.id,function(e){if(!P.disabled)return n(e)})}}}catch(e){}this.addHandler(this.host,s,function(e){var t=e.pageX,i=e.pageY;if(P.disabled||3===e.which)return!0;if(P.selectedAppointment&&P.isMouseDown)return!0;if(P.hScrollInstance.isScrolling()||P.vScrollInstance.isScrolling())return!0;if(P._hasOpenedMenu)return!0;if("none"!==P.overlay[0].style.display)return!0;var s=null;0<=e.target.className.indexOf("jqx-scheduler-appointment")&&-1==e.target.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==e.target.className.indexOf("jqx-scheduler-appointment-content")&&-1==e.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(s=e.target);for(var r=e.target,n=0;n<4&&r.parentNode;n++)0<=r.className.indexOf("jqx-scheduler-appointment")&&-1==r.className.indexOf("jqx-scheduler-appointment-innter-content")&&-1==r.className.indexOf("jqx-scheduler-appointment-content")&&-1==r.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(s=r),r=r.parentNode;if(s){var o=P._views[P._view].type,a=(P._views[P._view],P.getJQXAppointmentByElement(s));if(a.resizable){var l=a.duration(),d=a.allDay||1<=l.days()||23==l.hours()&&59==l.minutes&&59==l.seconds,h=Ne(s).coord(),c=Ne(s).position();P.selectedAppointmentBounds={top:h.top,left:h.left,width:Ne(s).width(),height:Ne(s).height()},P.selectedAppointmentTableBounds={top:c.top,left:c.left,width:Ne(s).width(),height:Ne(s).height()};var u=P.selectedAppointmentBounds;if("weekView"==o||"dayView"==o)d?"dayView"!=o?t>=u.left-3&&t<=u.left+6?(s.style.cursor="col-resize",P.leftResize=!0,P.rightResize=!1):t>=u.left+u.width-6&&t<=u.left+u.width+3?(s.style.cursor="col-resize",P.leftResize=!1,P.rightResize=!0):s.style.cursor="pointer":s.style.cursor="pointer":i>=u.top-3&&i<=u.top+6?(s.style.cursor="row-resize",P.topResize=!0,P.bottomResize=!1):i>=u.top+u.height-6&&i<=u.top+u.height+3?(s.style.cursor="row-resize",P.topResize=!1,P.bottomResize=!0):s.style.cursor="pointer";else if("monthView"==o&&1<a.elements.length){var p=P.table.coord();for(n=0;n<a.elements.length;n++){var m=a.elements[n];u={top:p.top+m.y,left:p.left+m.x,width:m.width,height:m.height};if(0==n&&!P.rtl||n==a.elements.length-1&&P.rtl)if(t>=u.left-3&&t<=u.left+6){if(i>=u.top&&i<=u.top+u.height){s.style.cursor="col-resize",P.leftResize=!0,P.rightResize=!1,P.selectedAppointment=Ne(s);break}s.style.cursor="pointer"}else s.style.cursor="pointer";else if(n==a.elements.length-1&&!P.rtl||0==n&&P.rtl)if(t>=u.left+u.width-6&&t<=u.left+u.width+3){if(i>=u.top&&i<=u.top+u.height){s.style.cursor="col-resize",P.leftResize=!1,P.rightResize=!0,P.selectedAppointment=Ne(s);break}s.style.cursor="pointer"}else s.style.cursor="pointer"}}else t>=u.left-3&&t<=u.left+6?(s.style.cursor="col-resize",P.leftResize=!0,P.rightResize=!1):t>=u.left+u.width-6&&t<=u.left+u.width+3?(s.style.cursor="col-resize",P.leftResize=!1,P.rightResize=!0):s.style.cursor="pointer"}}if(!P.enableHover)return!0;if("td"===e.target.nodeName.toLowerCase())var f=e.target;else f=P.findCell(t,i);if(!f)return!0;if(P._removeHoveredCell(),P.renderedRecords&&0===P.renderedRecords.length)return!0;if(P.isMouseDown){if(3<Math.abs(P.mousecaptureposition.left-t)||3<Math.abs(P.mousecaptureposition.top-i)){if(0===P.mousecaptureposition.clickedcell.length)return void(P.selectionarea[0].style.visibility="hidden");P.lastHoveredCell!=f&&(P._selectRangeTimer&&clearTimeout(P._selectRangeTimer),P._selectRangeTimer=setTimeout(function(){"agendaView"!=P._views[P._view].type&&P._selectRange(f,P.mousecaptureposition.clickedcell[0])},1)),P.lastHoveredCell=f}}else if(!s){if(1==P.rows.length&&1==P.rows[0].cells.length)return!0;P._hoverCell(f)}return!0}),this.addHandler(Ne(document),"keydown.jqxscheduler"+P.element.id,function(e){if(P.focused&&e.ctrlKey&&68==e.keyCode)return!1}),this.addHandler(this.host,"keydown",function(e){return P._handleKey(e)}),Ne.jqx.browser.msie&&Ne.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(e){P.table.trigger("mousedown",e)});var a=function(i){i.target;var e=null;if(P.disabled)return!0;P.menu||3!=i.which||P._initMenu();P.table.coord();var t=i.pageX,s=i.pageY;(Ne.jqx.browser.msie&&Ne.jqx.browser.version<9&&arguments&&2==arguments.length&&(t=arguments[1].pageX,s=arguments[1].pageY),P.isTouchDevice())&&(t=(f=Ne.jqx.position(i)).left,s=f.top,(isNaN(t)||isNaN(s))&&(t=(f=Ne.jqx.position(i.originalEvent)).left,s=f.top));P.mouseDown={top:s,left:t};e=P.findCell(t,s);if("td"===i.target.nodeName.toLowerCase())e=i.target;else e=P.findCell(t,s);var r=P._views[P._view].type,n=P._views[P._view];if("monthView"===r&&n.weekViewNavigation&&e&&e.getAttribute("data-time-slot")){var o=P._getDateByString(e.getAttribute("data-date")),a=new Ne.jqx.date(o);P.date=a,P.setView("weekView")}if("monthView"===r&&n.dayViewNavigation){var l=Ne(e).coord().top;if(e&&l<=s&&s<=l+16){o=P._getDateByString(e.getAttribute("data-date")),a=new Ne.jqx.date(o);P.date=a,P.setView("dayView")}}if("span"===i.target.nodeName.toLowerCase()&&(0<=i.target.className.indexOf("jqx-icon-arrow-down")||0<=i.target.className.indexOf("jqx-icon-close")))return i.target.mousedown&&i.target.mousedown(),!0;var d=Ne(e).parent(),h=d.attr("data-key");P.mousecaptureposition={left:i.pageX,top:i.pageY,clickedrow:Ne(d).index(),clickedcell:Ne(e)},3!==i.which?(P.isMouseDown=!0,P.isMouseDownDate=new Date):P.isMouseDown=!1,P.contextMenu&&P.menu&&3!==i.which&&(P.menu.jqxMenu("close"),P._hasOpenedMenu=!1);var c,u=function(e){if(3===i.which&&P.contextMenu&&P.menu){e?P.menu.find("li:first").show():P.menu.find("li:first").hide();var t=P.menu.coord();if("block"==P.menu.css("display")&&t.left==i.pageX&&t.top==i.pageY)return P._hasOpenedMenu=!0,i.preventDefault(),void i.stopPropagation();P.menuOpening=!0,P.menu.jqxMenu("open",i.pageX,i.pageY),P.menuOpening=!1,P._hasOpenedMenu=!0,i.preventDefault(),i.stopPropagation(),setTimeout(function(){P.menu.jqxMenu("focus")},50)}},p=function(){for(var e=0;e<y.length;e++)for(var t=y[e].cells,i=0;i<t.length;i++)t[i].removeAttribute("data-selected")};if(0==(c=0<=i.target.className.indexOf("jqx-scheduler-appointment")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-duration-status")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-status")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-content")?Ne(i.target):Ne(i.target).parents(".jqx-scheduler-appointment")).length&&(c=null),c&&-1==c[0].className.indexOf("feedback")){if(0<c.parents(".jqx-scheduler-month-cell-popup").length)return!0;P.mouseDownPosition={top:s,left:t};var m=Ne(c).coord();P.selectedAppointmentBounds={top:m.top,left:m.left,width:Ne(c).width(),height:Ne(c).height()};var f=Ne(c).position();P.selectedAppointmentTableBounds={top:f.top,left:f.left,width:Ne(c).width(),height:Ne(c).height()},P._dragStartCell||(P._dragStartCell=P.findCell(m.left,m.top));var g=P.getJQXAppointmentByElement(c);P._selectAppointment(g,c,"mouse"),P._raiseEvent("appointmentClick",{appointment:g.boundAppointment}),P.clearSelection();var v=(new Date).getTime(),x=300;if(Ne.jqx.browser.msie&&Ne.jqx.browser.version<9&&(x=1e3),P.clickTime||(P.clickTime=new Date),v-P.clickTime.getTime()<x&&P._lastSelectedAppointment&&g.id==P._lastSelectedAppointment.id&&3!=i.which){if(!g.readOnly&&!P.editRecurrenceDialog.jqxWindow("isOpen")&&(!P._editDialog||P._editDialog&&!P._editDialog.jqxWindow("isOpen")))!1!==P._initDialog(g)&&P._openDialog();P.mouseDownPosition=null,P.isMouseDown=!1,i.preventDefault&&i.preventDefault(),P._raiseEvent("appointmentDoubleClick",{appointment:g.boundAppointment})}else g.readOnly||3!==i.which&&P.focus();return P._lastSelectedAppointment=g,i.preventDefault&&i.preventDefault(),i.stopPropagation(),P.clickTime=new Date,void(g.readOnly||3==i.which&&u(!0))}if(3===i.which)if(null!==P.getSelection())u(!1);else{P.clearAppointmentsSelection(),e.setAttribute("data-selected","true"),P._lastSelectedCell=e,P.focusedCell=e,P._updateCellsSelection(e),u(!1);var w=new Ne.jqx.date(e.getAttribute("data-date"),P.timeZone);P._raiseEvent("cellClick",{cell:e,date:w})}else 3!=i.which&&P.clearAppointmentsSelection();if("agendaView"==P.view&&(c=-1!=i.target.className.indexOf("jqx-scheduler-agenda-appointment"))){c=i.target;g=P.getJQXAppointmentByElement(c);P._selectAppointment(g,c,"mouse"),P._raiseEvent("appointmentClick",{appointment:g.boundAppointment});v=(new Date).getTime(),x=300;if(Ne.jqx.browser.msie&&Ne.jqx.browser.version<9&&(x=1e3),P.clickTime||(P.clickTime=new Date),v-P.clickTime.getTime()<x&&P._lastSelectedAppointment&&g.id==P._lastSelectedAppointment.id&&3!=i.which){if(!g.readOnly&&!P.editRecurrenceDialog.jqxWindow("isOpen")&&(!P._editDialog||P._editDialog&&!P._editDialog.jqxWindow("isOpen")))!1!==P._initDialog(g)&&P._openDialog();P.mouseDownPosition=null,P.isMouseDown=!1,i.preventDefault&&i.preventDefault(),P._raiseEvent("appointmentDoubleClick",{appointment:g.boundAppointment})}P._lastSelectedAppointment=g,i.preventDefault&&i.preventDefault(),i.stopPropagation(),P.clickTime=new Date,g.readOnly||3==i.which&&u(!0)}if(void 0!==h&&3!=i.which){P.clickedTD=e;w=new Ne.jqx.date(e.getAttribute("data-date"),P.timeZone);if(P.rowinfo[h]){v=(new Date).getTime(),x=300;if(P.clickTime||(P.clickTime=new Date),P.focus(),P._lastSelectedCell&&"true"==P._lastSelectedCell.getAttribute("data-selected")&&"true"===e.getAttribute("data-selected")&&v-P.clickTime.getTime()<x){w=new Ne.jqx.date(e.getAttribute("data-date"),P.timeZone);P._raiseEvent("cellDoubleClick",{cell:e,date:w}),!0,P._initDialog(),P._openDialog(),i.preventDefault&&i.preventDefault()}}var y=P.rows;if("true"!=e.getAttribute("data-selected")||i.shiftKey||v-P.clickTime.getTime()>x){if("true"==e.getAttribute("data-time-slot"))return;if(i.shiftKey||(P.shiftSelectedCell=null),i.shiftKey&&P._lastSelectedCell&&"agendaView"!=r&&(P.shiftSelectedCell||(P.shiftSelectedCell=P._lastSelectedCell),e.getAttribute("data-view")===P.shiftSelectedCell.getAttribute("data-view")&&p(),P._selectRange(e,P.shiftSelectedCell)),!i.shiftKey)p(),(o=P._getDateByString(e.getAttribute("data-date")))>=P.min.toDate()&&o<=P.max.toDate()?e.setAttribute("data-selected","true"):e.setAttribute("data-selected","false");Ne('[data-key="'+h+'"]').removeClass(P.toTP("jqx-scheduler-selected-appointment")),P.selectedAppointment=null,(o=P._getDateByString(e.getAttribute("data-date")))>=P.min.toDate()&&o<=P.max.toDate()&&(P._lastSelectedCell=e,P.focusedCell=e),P._updateCellsSelection(e),P.openedMonthCellPopup&&P.openedMonthCellPopup.remove()}P._raiseEvent("cellClick",{cell:e,date:w}),P.clickTime=new Date,i.stopPropagation&&i.stopPropagation()}};this.addHandler(this.pinnedtable,e,function(e){var t=a(e);if(null!=t)return t}),this.addHandler(this.table,e,function(e){var t=a(e);if(null!=t)return t})},moveAppointment:function(a,l,d,h,c){var u=this,p=h.getAttribute("data-end-date");if(a){if(u.editRecurrenceDialog.jqxWindow("isOpen"))return;clearInterval(u._verticalIntervalDragVelocity),clearInterval(u._horizontalIntervalDragVelocity),clearInterval(u._intervalDrag),clearInterval(u._horizontalIntervalDrag);var m=a.duration(),f=1<=a.duration().days()||a.allDay,e=function(e){if(!c){var t=u._views[u._view].type,i=u._views[u._view],s=l;if(a.from=s,"dayView"===t||"weekView"===t)if(f||p){if(!f&&p)a.to=Ne.jqx.scheduler.utilities.getEndOfDay(s),a.allDay=!0;else if(f&&p)a.to=s.add(m);else if(f&&!p){var r=30;switch(i.timeRuler&&i.timeRuler.scale){case"sixtyMinutes":case"hour":r=60;break;case"fifteenMinutes":case"quarterHour":r=15;break;case"tenMinutes":r=10;break;case"fiveMinutes":r=5}a.to=s.addMinutes(r),a.allDay=!1}}else a.to=s.add(m),a.allDay=!1;else"monthView"===t?a.to=s.add(m):"timelineDayView"!==t&&"timelineWeekView"!==t&&"timelineMonthView"!==t||(a.to=s.add(m))}if(u._saveChangesAfterDragOrResize(e,a,h,c),null!=d&&(a.resourceId=d),u.table.find(".jqx-icon-arrow-down").hide(),a.allDay||f)u._renderrows();else{var n=u.getViewStart(),o=Ne.jqx.scheduler.utilities.getEndOfDay(u.getViewEnd());u._prepareAppointmentsInView(n,o),u._renderAppointments(n,o)}u._raiseEvent("appointmentChange",{appointment:a.boundAppointment}),u.changedAppointments[a.id]={type:"Update",appointment:a.boundAppointment},u._ensureAppointmentVisible(u.selectedJQXAppointment)};a.isRecurrentAppointment()?e(!1):e(null)}},getAppointmentProperty:function(e,t){var i=null;if(this.appointmentsByKey[e]&&(i=this.appointmentsByKey[e].jqxAppointment),i)return i[t]},setAppointmentProperty:function(e,t,i){var s=this,r=null;if(this.appointmentsByKey[e]&&(r=this.appointmentsByKey[e].jqxAppointment),r)switch(r[t]=i,s.changedAppointments[e]={type:t,appointment:r.boundAppointment},e){case"draggable":case"resizable":break;case"background":case"color":case"borderColor":case"status":case"tooltip":case"subject":case"location":case"description":case"style":var n=s.getViewStart(),o=Ne.jqx.scheduler.utilities.getEndOfDay(s.getViewEnd());s._prepareAppointmentsInView(n,o),s._renderAppointments(n,o);break;case"hidden":case"timeZone":if(r.isAllDayAppointment())s._renderrows();else{n=s.getViewStart(),o=Ne.jqx.scheduler.utilities.getEndOfDay(s.getViewEnd());s._prepareAppointmentsInView(n,o),s._renderAppointments(n,o)}break;default:s._renderrows()}},deleteAppointment:function(e){this.appointmentsByKey[e]&&this._deleteAppointment(this.appointmentsByKey[e].jqxAppointment)},_deleteAppointment:function(e){var t=this;if(e.rootAppointment){if(e.isException()){for(var i=e.rootAppointment?e.rootAppointment.exceptions:e.exceptions,s=0;s<i.length;s++)if(i[s].occurrenceFrom.equals(t.editAppointment.occurrenceFrom)){i[s]=e;break}}else null!=e.rootAppointment?(e.rootAppointment.exceptions.push(t.editAppointment),e.rootAppointment.recurrenceException.push(t.editAppointment.occurrenceFrom)):(e.exceptions.push(t.editAppointment),e.recurrenceException.push(t.editAppointment.occurrenceFrom));return e.hidden=!0,void t._renderrows()}t._raiseEvent("appointmentDelete",{appointment:e.boundAppointment});var r=e.id;delete t.appointmentsByKey[r];var n=-1;for(s=0;s<t.appointments.length;s++)if(t.appointments[s]==e.boundAppointment||t.appointments[s].id==e.boundAppointment.id){n=s;break}-1!=n&&t.appointments.splice(n,1),n=-1;for(s=0;s<t.uiappointments.length;s++)if(t.uiappointments[s]==e||t.uiappointments[s].id==e.id){n=s;break}-1!=n&&t.uiappointments.splice(n,1),t.selectedJQXAppointment==e&&(t.clearAppointmentsSelection(),t.uiappointments[n+1]?t.selectAppointment(t.uiappointments[n+1].id):t.uiappointments[n-1]?t.selectAppointment(t.uiappointments[n-1].id):t.uiappointments[0]&&t.selectAppointment(t.uiappointments[0].id)),t.changedAppointments[r]={type:"Delete",appointment:e.boundAppointment},t._renderrows()},addAppointment:function(e){var t=this;if(e.scheduler||(e.scheduler=this),!e.duration)if((e.from||e.to)&&e.appointmentObject){var i=new Ne.jqx.scheduler.appointment;for(var s in e)i[s]=e[s];e=i}else{var r=e,n={},o=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"];for(var s in t.appointmentDataFields){var a=r[w=t.appointmentDataFields[s]];if("from"!=s&&"to"!=s||(a=new Ne.jqx.date(a)),"style"==s&&a){var l=t.getAppointmentColors(a);n.color=l.color,n.background=l.background,n.borderColor=l.border}if("recurrencePattern"==s&&a&&((a=new Ne.jqx.scheduler.recurrencePattern(a)).timeZone=r.timeZone||t.timeZone),"recurrenceException"==s){var d=new Array;if(a){0<=a.indexOf("EXDATE:")&&(a=a.substring(a.indexOf("EXDATE:")+7));var h=new Array;0<=a.indexOf(",")?h=a.split(","):h.push(a);for(var c=0;c<h.length;c++){var u=h[c];if(0<=u.indexOf(";")){var p=u.split(";")[1];u=u.split(";")[0],0<=p.toLowerCase().indexOf("display")&&p.toLowerCase().indexOf("none")&&(n.hidden=!0)}try{"Invalid Date"!=(m=Ne.jqx.scheduler.utilities.untilStringToDate(u))&&(m=n.timeZone?new Ne.jqx.date(m,n.timeZone):t.timeZone?m.toTimeZone(t.timeZone):new Ne.jqx.date(m))}catch(e){var m=new Ne.jqx.date(u,t.timeZone)}d.push(m)}}a=d}n[s]=a}for(var f in o){if(null==n[s=o[f]]){a="";if("originalData"==s)continue;"ownerId"==s&&(a=null),"timeZone"==s&&(a=null),"recurrencePattern"==s&&(a=null),"recurrenceException"==s&&(a=null),"allDay"==s&&(a=!1),"draggable"==s&&(a=!0),"resizable"==s&&(a=!0),"hidden"==s&&(a=!1),"resourceId"==s&&(a=null),"from"==s&&(a=new Ne.jqx.date),"to"==s&&(a=(new Ne.jqx.date).addHours(1)),n[s]=a}}n.originalData=r,n.scheduler=this;e=new Ne.jqx.scheduler.appointment(n);n.timeZone&&(e.from=e.from.toTimeZone(n.timeZone),e.to=e.to.toTimeZone(n.timeZone)),t.timeZone?(n.timeZone||(e.timeZone=t.timeZone),e.from=e.from.toTimeZone(t.timeZone),e.to=e.to.toTimeZone(t.timeZone)):(e.from=e.from.toTimeZone(null),e.to=e.to.toTimeZone(null))}s=t.dataview.generatekey();e.id=s,t.appointmentsByKey[s]=e,t.appointments.push(e);var g={},v={};for(var x in t.appointmentDataFields){var w=t.appointmentDataFields[x];a=e[x];g[x]=a,"from"!=x&&"to"!=x||(a=a.toDate?a.toDate():new Ne.jqx.date(a).toDate()),v[w]=a}g.originalData=v,((e.boundAppointment=g).jqxAppointment=e).jqxAppointment=e,t._raiseEvent("appointmentAdd",{appointment:e.boundAppointment}),t.uiappointments.push(e),t.changedAppointments[s]={type:"Add",appointment:e.boundAppointment},t.hiddenResources&&t.hiddenResources[e.resourceId]?t.hideAppointmentsByResource(e.resourceId):t._renderrows(),t._selectAppointment(e),t._lastSelectedAppointment=e},_updateCellsSelection:function(){var e=this,t=e.rows,i=0,s=0;0<i&&e.rtl&&(i=0,s=1);for(var r=0;r<t.length;r++)for(var n=t[r].cells,o=i;o<n.length-s;o++){var a=n[o];if("true"==a.getAttribute("data-selected")){if(0<=(l=a.jqxClassName||a.className).indexOf("jqx-fill-state-pressed")){a!=e.focusedCell?l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""):a==e.focusedCell&&e.focused&&(l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(l=l+=" "+e.toTP("jqx-scheduler-cell-focus"))),a.className!=l&&(a.className=l),a.jqxClassName=l;continue}l=(l=(l=(l=(l=(l=(l=(l=l.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+e.theme,"")).replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+e.theme,"")).replace(" jqx-scheduler-cell-selected","")).replace(" jqx-scheduler-cell-selected-"+e.theme,""),l=l+=" "+e.toTP("jqx-fill-state-pressed jqx-grid-cell-selected jqx-scheduler-cell-selected"),a==e.focusedCell&&e.focused&&!e.selectedAppointment&&(l=l+=" "+e.toTP("jqx-scheduler-cell-focus")),a.className!=l&&(a.className=l),a.jqxClassName=l}else{var l;if(-1==(l=a.jqxClassName||a.className).indexOf("jqx-fill-state-pressed")){a!=e.focusedCell?l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""):a==e.focusedCell&&e.focused&&(l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(l=l+=" "+e.toTP("jqx-scheduler-cell-focus"))),a.className!=l&&(a.className=l),a.jqxClassName=l;continue}a==e.focusedCell&&e.focused&&(l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(l=l+=" "+e.toTP("jqx-scheduler-cell-focus")),a.className!=l&&(a.className=l),a.jqxClassName=l),l=(l=(l=(l=(l=(l=(l=(l=l.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+e.theme,"")).replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+e.theme,"")).replace(" jqx-scheduler-cell-selected","")).replace(" jqx-scheduler-cell-selected-"+e.theme,""),a==e.focusedCell&&e.focused&&!e.selectedAppointment&&(l=l+=" "+e.toTP("jqx-scheduler-cell-focus")),a.className!=l&&(a.className=l),a.jqxClassName=l,a.removeAttribute("data-selected")}}},_getuikey:function(e,t){var i=null,s=this.table[0].rows;if(i=Ne(s[e]).attr("data-key"),Ne(s[e]).attr("data-role")){var r=Ne(s[e]);if("next"==t)for(;r;){if(r=r.next())if(!r.attr("data-role"))return i=r.attr("data-key")}else if("prev"==t)for(;r;){if(r=r.prev())if(!r.attr("data-role"))return i=r.attr("data-key")}return null}return i},getRows:function(){var e=this._views[this._view].type,t=this._views[this._view],i="halfHour";t.timeRuler&&t.timeRuler.scale&&(i=t.timeRuler.scale);var s=24,r=this.showAllDayRow;if(t.timeRuler&&("dayView"===e||"weekView"===e)){var n=0,o=23;if(null!=t.timeRuler.scaleStartHour)n=parseInt(t.timeRuler.scaleStartHour);if(null!=t.timeRuler.scaleEndHour)o=parseInt(t.timeRuler.scaleEndHour);n<0&&(n=0),o<0&&(o=23),23<n&&(n=0),23<o&&(o=23),s=o-n+1,null!=t.timeRuler.showAllDayRow&&(r=t.timeRuler.showAllDayRow)}var a=new Array,l=0;switch(e){case"dayView":case"weekView":default:l=2*s;if("hour"===i||"sixtyMinutes"===i)l=s;else if("quarterHour"===i||"fifteenMinutes"===i)l=4*s;else if("tenMinutes"===i)l=6*s;else if("fiveMinutes"===i)l=12*s;r&&l++;break;case"monthView":l=6;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":l=1;break;case"agendaView":l=this.appointments?this.appointments.length:0}for(var d=0;d<l;d++)a.push({uid:d});return a},_getDateByString:function(e){var t=e.split(" "),i=t[0].split("-"),s=t[1].split(":"),r=parseInt(i[0],10),n=parseInt(i[1],10)-1,o=parseInt(i[2],10),a=parseInt(s[0],10),l=parseInt(s[1],10),d=parseInt(s[2],10),h=new Date(r,n,o,a,l,d);return r<1970&&h.setFullYear(r,n,o),h},_getCellByDate:function(e,t,i){var s=this.rows;void 0===t&&(t=!1),void 0===i&&this.focusedCell&&(i=this.focusedCell.getAttribute("data-view"));for(var r=0;r<s.length;r++){var n=s[r];if(!n.element.getAttribute("data-group-row"))for(var o=0;o<n.cells.length;o++){var a=n.cells[o];if(null==a.getAttribute("rowspan")&&(a.getAttribute("data-view")===i&&!(a.getAttribute("data-time-slot")||t&&null!=a.getAttribute("data-end-date")))){var l=a.getAttribute("data-date");if(this._getDateByString(l).valueOf()==e.valueOf())return a}}}},_rendercelltexts:function(){var e=String.fromCharCode("");if(-1==location.hostname.indexOf(e.substring(4))){this._gridRenderElement&&Ne(this._gridRenderElement).remove();var t=String.fromCharCode(83,80,65,78),i=String.fromCharCode(72,84,84,80,58,47,47),s=document.createElement(t);s.id=Ne.jqx.utilities.createId(),s.innerHTML=e,s.style.position="absolute",s.style.right="5px",s.style.bottom="5px",s.style.color="#909090",s.style.cursor="pointer",s.style.zIndex="999999",s.style.display="none",s.style.fontSize="9px",s.onmousedown=function(){open(i+e)},this.content[0].appendChild(s),this._gridRenderElement=s}},_handleKey:function(c){if(this._loading)return!0;var x=c.shiftKey,w=c.ctrlKey||c.metaKey,y=this,e=c.charCode?c.charCode:c.keyCode?c.keyCode:0;if(y._hasOpenedMenu)return 27==e?y.closeMenu():y.menu.jqxMenu("focus"),!0;if(13===e||y.selectedAppointment&&46==e){if(y.editRecurrenceDialog&&y.editRecurrenceDialog.jqxWindow("isOpen"))return!0;if(y._editDialog&&y._editDialog.jqxWindow("isOpen"))return!0;if(y.selectedAppointment){if(!(a=y.getJQXAppointmentByElement(y.selectedAppointment)).readOnly)if(46==e)!1!==y._initDialog(a,"delete")&&y._openDialog();else!1!==y._initDialog(a)&&y._openDialog()}else y._initDialog(),y._openDialog()}if(27===e&&y.dragOrResize){y.table.find(".jqx-icon-arrow-down").hide();var t=y.getViewStart(),i=Ne.jqx.scheduler.utilities.getEndOfDay(y.getViewEnd());return y._prepareAppointmentsInView(t,i),y._renderAppointments(t,i),y._removeFeedbackAndStopResize(),!1}var s=function(e){var t=y.selectedAppointment,i=y.getJQXAppointmentByElement(t),s=i.elements[0].cells[0].cell,r=i.elements[i.elements.length-1].cells[i.elements[i.elements.length-1].cells.length-1].cell,n=y.rows[y.rows.length-1].cells[y.rows[y.rows.length-1].cells.length-1];!x&&(x||w||"down"!=e&&"right"!=e)||(s=r);var o=y._views[y._view].type,a=(y._views[y._view],s);switch(e){case"left":if(0<(d=(h=y.rowByCell[s.getAttribute("data-key")]).indexOf(s))&&!x)a=h.cells[d-1];else if("monthView"==o&&!x)(l=h.aboveRow)&&(a=l.cells[l.cells.length-1]);break;case"right":if((d=(h=y.rowByCell[s.getAttribute("data-key")]).indexOf(s))<h.cells.length-1)a=h.cells[d+1];else if("monthView"==o)(c=h.belowRow)&&(a=c.cells[0]);"monthView"==o&&!x&&w&&r==n&&(a=s);break;case"up":var l,d=(h=y.rowByCell[s.getAttribute("data-key")]).indexOf(s);(l=h.aboveRow)&&!x&&(a=l.cells[d]);break;case"down":var h,c;d=(h=y.rowByCell[s.getAttribute("data-key")]).indexOf(s);(c=h.belowRow)&&(a=c.cells[d])}var u=a.getAttribute("data-date"),p=new Ne.jqx.date(u,y.timeZone),m=(o=Ne(a).attr("data-view"),y._resources[parseInt(o)-1]);if(x){o=y._views[y._view].type,y._views[y._view];var f=!1;"dayView"===o||"weekView"===o?s.getAttribute("data-end-date")?"left"==e&&(1<i.elements[0].cells.length||y.rtl)?(y.rtl?i.to=Ne.jqx.scheduler.utilities.getEndOfDay(p.addDays(1)):i.to=Ne.jqx.scheduler.utilities.getEndOfDay(p.addDays(-1)),f=!0):"right"==e&&((!y.rtl||y.rtl&&1<i.elements[0].cells.length)&&(i.to=Ne.jqx.scheduler.utilities.getEndOfDay(p)),f=!0):"up"==e&&1<i.elements[0].cells.length?(i.to=p,f=!0):"down"==e&&(i.to=p.addMinutes(y.getMinutesPerScale()),f=!0):0<=o.indexOf("month")?"left"==e&&(1<i.elements[0].cells.length||1<i.elements.length)?(i.to=Ne.jqx.scheduler.utilities.getEndOfDay(p.addDays(-1)),f=!0):"right"==e&&(i.to=Ne.jqx.scheduler.utilities.getEndOfDay(p),f=!0):!y.rtl&&"left"==e&&1<i.elements[0].cells.length||y.rtl&&"right"==e&&1<i.elements[0].cells.length?(i.to=p,y.rtl&&(i.to=p.addMinutes(y.getMinutesPerScale())),f=!0):(!y.rtl&&"right"==e||y.rtl&&"left"==e)&&(i.to=p.addMinutes(y.getMinutesPerScale()),y.rtl&&(i.to=i.to.addMinutes(y.getMinutesPerScale())),f=!0),f&&y.moveAppointment(i,p,m,a,!0)}else if(w)y.moveAppointment(i,p,m,a);else{y.clearAppointmentsSelection();var g=!0;"down"==e&&(g=!1),y.selectCell(p,g,o),y._ensureVisible(a)}if(y.selectedAppointment){y.selectedAppointment.removeClass(y.toTP("jqx-scheduler-selected-appointment"));var v=y.selectedAppointment.attr("data-key");Ne('[data-key="'+v+'"]').addClass(y.toTP("jqx-scheduler-selected-appointment")),y.clearSelection()}};if(c.altKey&&y._resourcesElements&&y._resources&&0<y._resources.length){var r=49<=e&&e<=58?r=e-48:-1;if(1<=r)return Ne.each(y._resources,function(e,t){if(e==r-1)return i=t,"on"==y._resourcesElements.bottom[i].attr("data-toggle")?y.hideAppointmentsByResource(i):y.showAppointmentsByResource(i),!1;var i}),!1}if(c.ctrlKey){if(!y.selectedAppointment){if(37==e)return y.toolbarLeftButton.trigger("click"),y._ensureVisible(y.focusedCell),!1;if(39==e)return y.toolbarRightButton.trigger("click"),y._ensureVisible(y.focusedCell),!1}if(49==e)return y._setView(0),!1;if(50==e)return y._setView(1),!1;if(51==e)return y._setView(2),!1;if(52==e)return y._setView(3),!1;if(53==e)return y._setView(4),!1;if(54==e)return y._setView(5),!1;if(68==e)return y.dateTimeInput.jqxDateTimeInput("open"),!1;if(77==e)return y.openMenu(),!1}if(9==e)if(c.shiftKey)if(y.selectedAppointment){y.clearSelection();o=y.selectedAppointment;if(a=y.getJQXAppointmentByElement(o))return 0<(n=y.tabKeyAppointments.indexOf(a))?(a=y.tabKeyAppointments[n-1],y._selectAppointment(a),y._lastSelectedAppointment=a,y._ensureAppointmentVisible(a),!1):(y.clearAppointmentsSelection(),y.focusedCell?!y.focusedCell||-1!=y.focusedCell.className.indexOf("-focus")||(y._updateCellsSelection(),y._ensureVisible(y.focusedCell),!1):(y._updateFocusedCell(),y._ensureVisible(y.focusedCell),!1))}else if(y.focusedCell){if(y.focusedCell&&-1==y.focusedCell.className.indexOf("-focus"))return y._updateCellsSelection(),y._ensureVisible(y.focusedCell),!1}else y._updateFocusedCell(),y._ensureVisible(y.focusedCell);else{if(y.selectedAppointment){y.clearSelection();var n,o=y.selectedAppointment,a=y.getJQXAppointmentByElement(o);return(n=y.tabKeyAppointments.indexOf(a))<y.tabKeyAppointments.length-1?(a=y.tabKeyAppointments[n+1],y._selectAppointment(a),y._lastSelectedAppointment=a,y._ensureAppointmentVisible(a),!1):(y.clearAppointmentsSelection(),!0)}if(a=y.tabKeyAppointments[0])return y._selectAppointment(a),y._lastSelectedAppointment=a,y._ensureAppointmentVisible(a),!1;if(!y.focusedCell)return y._updateFocusedCell(),y._ensureVisible(y.focusedCell),!1;if(y.focusedCell&&-1==y.focusedCell.className.indexOf("-focus"))return y._updateCellsSelection(),y._ensureVisible(y.focusedCell),!1}if(y.selectedAppointment)return 37==e?s("left"):38==e?s("up"):40==e?s("down"):39==e&&s("right"),!(37<=e&&e<=40)&&void 0;var u=this._lastSelectedCell;if(u){Ne(this._lastSelectedCell).parent()[0]||(this._lastSelectedCell=this.rows[0].cells[0],u=this._lastSelectedCell);this.rows;var p=this._views[this._view].type,l=this._views[this._view],m="halfHour";l.timeRuler&&l.timeRuler.scale&&(m=l.timeRuler.scale);var d=function(e,t){switch(m){case"sixtyMinutes":case"hour":60;break;case"thirtyMinutes":case"halfHour":30;break;case"fifteenMinutes":case"quarterHour":15;break;case"tenMinutes":10;break;case"fiveMinutes":5}var i=e.getAttribute("data-date"),s=function(e,t,i){if(e&&(null==e.getAttribute("rowspan")||"agendaView"==p)&&null==e.getAttribute("data-time-slot")){if(i<y.min||i>y.max)return;var s=y.rows,r=y._lastSelectedCell;if(y._lastSelectedCell=e,c.shiftKey&&y._lastSelectedCell?y.shiftSelectedCell||(y.shiftSelectedCell=u):c.shiftKey||(y.shiftSelectedCell=null),y.shiftSelectedCell)e.getAttribute("data-end-date")&&y.shiftSelectedCell.getAttribute("data-end-date")?(y.focusedCell=e,y._selectRange(e,y.shiftSelectedCell)):e.getAttribute("data-end-date")||y.shiftSelectedCell.getAttribute("data-end-date")?(y.focusedCell=r,y._lastSelectedCell=r):(y.focusedCell=e,y._selectRange(e,y.shiftSelectedCell));else{for(var n=0;n<s.length;n++){var o=s[n];if(!o.element.getAttribute("data-group-row"))for(var a=0;a<o.cells.length;a++){o.cells[a].removeAttribute("data-selected","false")}}e.setAttribute("data-selected","true"),y.focusedCell=e}y._ensureVisible(y.focusedCell)}};new Ne.jqx.date(i,y.timeZone),e.getAttribute("data-view");switch(t){case"left":if(0<(o=(h=y.rowByCell[e.getAttribute("data-key")]).indexOf(e)))var r=h.cells[o-1],n=new Ne.jqx.date(r.getAttribute("data-date"),y.timeZone);s(r,0,n);break;case"right":if((o=(h=y.rowByCell[e.getAttribute("data-key")]).indexOf(e))<h.cells.length-1)r=h.cells[o+1],n=new Ne.jqx.date(r.getAttribute("data-date"),y.timeZone);s(r,0,n);break;case"up":var o=(h=y.rowByCell[e.getAttribute("data-key")]).indexOf(e),a=h.aboveRow;if(a){r=a.cells[o];if(0==o&&r.getAttribute("rowspan")){var l=-1+y.rows.indexOf(h);for(r=e;0<=l;){if(y.rows[l].cells[0]!=r){r=y.rows[l].cells[0];break}l--}}s(r,0,n=new Ne.jqx.date(r.getAttribute("data-date"),y.timeZone))}break;case"down":o=(h=y.rowByCell[e.getAttribute("data-key")]).indexOf(e);var d=h.belowRow;if(d){r=d.cells[o];if(0==o&&r.getAttribute("rowspan"))for(l=1+y.rows.indexOf(h),r=e;l<y.rows.length;){if(y.rows[l].cells[0]!=r){r=y.rows[l].cells[0];break}l++}s(r,0,n=new Ne.jqx.date(r.getAttribute("data-date"),y.timeZone))}break;case"home":o=(h=y.rowByCell[e.getAttribute("data-key")]).indexOf(e);s(r=y.rows[0].cells[o],0,n=new Ne.jqx.date(r.getAttribute("data-date"),y.timeZone));break;case"end":var h;o=(h=y.rowByCell[e.getAttribute("data-key")]).indexOf(e);s(r=y.rows[y.rows.length-1].cells[o],0,n=new Ne.jqx.date(r.getAttribute("data-date"),y.timeZone))}y._updateCellsSelection()};return 36==e||w&&38==e?(d(u,"home"),!1):35==e||w&&40==e?(d(u,"end"),!1):37==e?(y.selectedAppointment?s(u):d(u,"left"),!1):38==e?(y.selectedAppointment?s(u):d(u,"up"),!1):40==e?(y.selectedAppointment?s(u):d(u,"down"),!1):39==e?(y.selectedAppointment?s(u):d(u,"right"),!1):void 0}},getSelectedCells:function(){for(var i=this,e=i.rows,t=e.length,s=new Array,r=0;r<t;r++)for(var n=e[r].cells,o=0;o<n.length;o++)n[o].getAttribute("data-selected")&&s.push(n[o]);return s.sort(function(e,t){return i._sortByDate(e,t)})},getSelection:function(){var e=this,t=e.getSelectedCells();if(0==t.length)return null;var i=t[0].getAttribute("data-date"),s=t[t.length-1].getAttribute("data-date"),r=e.getMinutesPerScale();0<=(n=e._views[e._view].type).toLowerCase().indexOf("month")&&(r=0),t[0].getAttribute("data-end-date")&&(r=0),s=new Ne.jqx.date(s,e.timeZone).addMinutes(r);var n=parseInt(t[0].getAttribute("data-view"))-1,o=e._resources[n];return 0<=e._views[e._view].type.toLowerCase().indexOf("month")?{from:new Ne.jqx.date(i,e.timeZone),to:Ne.jqx.scheduler.utilities.getEndOfDay(s),resourceId:o}:0<=e._views[e._view].type.toLowerCase().indexOf("day")||0<=e._views[e._view].type.toLowerCase().indexOf("week")?(i=new Ne.jqx.date(i,e.timeZone),0===s.minute()&&0===s.hour()&&0===i.hour()&&0===i.minute()?s.day()===i.day()?{from:new Ne.jqx.date(i,e.timeZone),to:Ne.jqx.scheduler.utilities.getEndOfDay(s),resourceId:o}:{from:new Ne.jqx.date(i,e.timeZone),to:Ne.jqx.scheduler.utilities.getEndOfDay(s).addDays(-1),resourceId:o}:{from:new Ne.jqx.date(i,e.timeZone),to:s,resourceId:o}):void 0},clearSelection:function(){for(var e=this.rows,t=e.length,i=0;i<t;i++)for(var s=e[i].cells,r=0;r<s.length;r++)s[r].removeAttribute("data-selected");this._updateCellsSelection()},_getvirtualcolumnsindexes:function(e,t,i,s,r){this.rtl&&(e=this.hScrollInstance.max-e);var n=0,o=-1,a=i+s;if(this.autorowheight)return{start:0,end:i+s};if(!r)for(var l=0;l<i+s;l++){if(this.columns.records[l].hidden||(n+=this.columns.records[l].width),e<=n&&-1==o&&(o=l),t+e<n){a=l;break}}return i+s<++a&&(a=i+s),-1==o&&(o=0),{start:o,end:a}},_renderhorizontalscroll:function(){var e=this,t=e.hScrollInstance,i=t.value;"hidden"===e.hScrollBar[0].style.visibility&&(i=t.value=0);var s=parseInt(i);if(null!=e.table){for(var r=function(e){return!(!e.parentNode||"#document-fragment"==e.parentNode.nodeName)},n=e._getvirtualcolumnsindexes(s,e._hostWidth,0,e.columns.records.length,!1),o=n.start,a=n.end,l=(e.rows,0);l<o;l++){var d=l;r(h=e.columns.records[d].element[0])&&h.parentNode.removeChild(h)}for(l=a;l<e.columns.records.length;l++){var h;d=l;r(h=e.columns.records[d].element[0])&&h.parentNode.removeChild(h)}for(l=o;l<a;l++){d=l;r(h=e.columns.records[d].element[0])||e.columnsrow[0].appendChild(h)}var c=e.columnsrow;e.columns.records.length,e.columns.records,e.source.records.length;if(e.rtl&&"hidden"!=e.hScrollBar.css("visibility")&&(s=t.max-s),e.table[0].style.left=-s+"px","block"==e.pinnedtable[0].style.display&&(e.pinnedtable[0].style.left=-s+"px"),0<e._resources.length&&0<e.tableRows)for(var u=0;u<this.table[0].rows.length;u++){var p=this.table[0].rows[u];p.getAttribute("data-group-row")&&Ne(p).find("span").css("left",5+s)}c[0].style.marginLeft=-s+"px"}},_getDayName:function(e,t){7<=e&&(e-=7),t||(t=this.dayNameFormat,this.isTouchDevice()&&(t=this.touchDayNameFormat));var i=this.schedulerLocalization.days.names[e];switch(t){case"full":i=this.schedulerLocalization.days.names[e];break;case"abbr":i=this.schedulerLocalization.days.namesAbbr[e];break;case"shortest":i=this.schedulerLocalization.days.namesShort[e];break;case"firstTwoLetters":i=i.substring(0,2);break;case"firstLetter":i=i.substring(0,1)}return i},_initializeColumns:function(){if(0===this._views.length&&this._views.push({type:"dayView"}),!this._views[this._view])throw new Error("jqxScheduler: View is undefined. You need to define the View in the Views Array when you create jqxScheduler");var i=this._views[this._view].type,f=this._views[this._view];if(f.timeSlotWidth&&(f.timeSlotWidth=Math.max(f.timeSlotWidth,30),f.columnWidth=f.timeSlotWidth),f.columnWidth&&f.columnWidth<30&&(f.columnWidth=30),this.columns&&this.columns.records)for(var s=0;s<this.columns.records.length;s++)this._removecolumnhandlers(this.columns.records[s]);this.columns=new Array;for(var e=new Array,g=this,t=function(e,t){var i="halfHour";f.timeRuler&&f.timeRuler.scale&&(i=f.timeRuler.scale);var s=24,r=0,n=23;if(f.timeRuler){if(null!=f.timeRuler.scaleStartHour)r=parseInt(f.timeRuler.scaleStartHour);if(null!=f.timeRuler.scaleEndHour)n=parseInt(f.timeRuler.scaleEndHour);r<0&&(r=0),n<0&&(n=23),23<r&&(r=0),23<n&&(n=23),s=n-r+1}var o=2;if(i)switch(i){case"sixtyMinutes":case"hour":o=1;break;case"thirtyMinutes":case"halfHour":o=2;break;case"fifteenMinutes":case"quarterHour":o=4;break;case"tenMinutes":o=6;break;case"fiveMinutes":o=12}new Array;var a="auto";f.timeRuler&&f.timeRuler.formatString&&(a=f.timeRuler.formatString);var l=r,d=s,h=e.addHours(l),c="auto";c=f.columnWidth?o*f.columnWidth:80*o;for(var u=0;u<d;u++){var p=h.toDate();if("auto"===a)if(0==p.getHours()&&0==p.getMinutes()||12==p.getHours()&&0==p.getMinutes())var m="hh tt";else m="hh:mm";else if(Ne.isFunction(a))m=a(p);else m=a;Ne.jqx.dataFormat.isDate(p)&&(p=Ne.jqx.dataFormat.formatdate(p,m,g.schedulerLocalization)),h=h.addMinutes(60,!1),g.columns.push({columnGroup:t,text:p,minwidth:30,width:c})}},r=0;r<this.tableColumns;r++){if(1<this.tableColumns){var n=g._resources[r]?g._resources[r]:"Resource"+r;e.push({text:n,name:n})}var o="left";switch(this.rtl&&(o="right"),i){case"dayView":var a=this.getViewStart();!1===f.showWeekends&&(0!==a.dayOfWeek()&&6!==a.dayOfWeek()||(a=a.addDays(1)),0!==a.dayOfWeek()&&6!==a.dayOfWeek()||(a=a.addDays(1)));var l="auto";f&&f.columnWidth&&(l=f.columnWidth);n=g._resources[r]?g._resources[r]:"Resource"+r;this.columns.push({align:o,width:l,columnGroup:n,text:this._getDayName(a.dayOfWeek())});break;case"weekView":case"monthView":for(s=0;s<7;s++){var d=this.schedulerLocalization.firstDay+s;if(!1!==f.showWeekends||0!==s&&6!==s){l="auto";f&&f.columnWidth&&(l=f.columnWidth);n=g._resources[r]?g._resources[r]:"Resource"+r;this.columns.push({align:"weekView"==i?o:"center",width:l,columnGroup:n,text:this._getDayName(d)})}}break;case"timelineDayView":n=g._resources[r]?g._resources[r]:"Resource"+r;t(g.getViewStart(),n);break;case"timelineWeekView":for(s=0;s<7;s++){d=this.schedulerLocalization.firstDay+s;if(!1!==f.showWeekends||0!==s&&6!==s){n=g._resources[r]?g._resources[r]:"Resource"+r;e.push({align:g.rtl?"right":"left",parentGroup:n,name:this._getDayName(d)+r,text:this._getDayName(d)}),t(g.getViewStart().addDays(s),this._getDayName(d)+r)}}break;case"timelineMonthView":var h=g.getViewStart(),c="auto";f.timeRuler&&f.timeRuler.formatString&&(c=f.timeRuler.formatString);for(s=0;s<41;s++){d=h.dayOfWeek();if(!1!==f.showWeekends||0!==d&&6!==d){l="auto";l=f.columnWidth?f.columnWidth:100;var u=h.toDate();if("auto"===c){var p="dd";1===(u=h.toDate()).getDate()&&(p="MMM dd")}else if(Ne.isFunction(c))p=c(u);else p=c;Ne.jqx.dataFormat.isDate(u)&&(u=Ne.jqx.dataFormat.formatdate(u,p,g.schedulerLocalization)),h=h.addDays(1);n=g._resources[r]?g._resources[r]:"Resource"+r;g.columns.push({minwidth:30,columnGroup:n,text:u,width:l})}}break;case"agendaView":var m=f.dateColumnWidth,v=f.timeColumnWidth,x=f.appointmentColumnWidth;x||(x="70%"),v||(v="auto"),m||(m="auto"),g.columns.push({text:g.schedulerLocalization.agendaDateColumn,width:m}),g.columns.push({text:g.schedulerLocalization.agendaTimeColumn,width:v}),g.columns.push({text:g.schedulerLocalization.agendaAppointmentColumn,width:x})}}0<e.length&&(this.columnGroups=e);g=this;var w=new Ne.jqx.schedulerDataCollection(this.element),y=0;this._columns=this.columns;var b="left",_=new Ne.jqx.scheduler.column(g,this);_.visibleindex=y++,_.text="",_.width=g.timeRulerWidth,_.editable=!1,_.timeColumn=!0,b="left",_.text="",_.hidden=!1,_.width=g.timeRulerWidth;!f.timeRuler||"dayView"!==i&&"weekView"!==i?"dayView"!==i&&"weekView"!==i&&(_.hidden=!0):(_._text=f.timeRuler.text||"",b=f.timeRuler.position||"left",_.hidden=f.timeRuler.hidden||!1,_.width=f.timeRuler.width||g.timeRulerWidth,f.timeRuler.timeZones);var j=function(e){var t=new Ne.jqx.scheduler.column(g,g);t.visibleindex=y++,t.text="",t.width=g.timeRulerWidth,t.editable=!1,t.timeColumn=!0,b="left",t.text="",t.hidden=!1,t.timeZone=f.timeRuler.timeZones[e].id,t.width=g.timeRulerWidth,!f.timeRuler||"dayView"!==i&&"weekView"!==i||(t._text=f.timeRuler.timeZones[s].text||"",t.hidden=f.timeRuler.hidden||!1,t.width=f.timeRuler.width||g.timeRulerWidth,w.add(t))};if("left"===b&&("dayView"===i||"weekView"===i)){if(f.timeRuler&&f.timeRuler.timeZones)for(s=0;s<f.timeRuler.timeZones.length;s++)j(s);w.add(_)}"left"===b&&"monthView"===i&&f.showWeekNumbers&&(_.hidden=!1,w.add(_));new Array;if(Ne.each(this.columns,function(e){if(null!=g.columns[e]){var t=new Ne.jqx.scheduler.column(g,this);t.visibleindex=y++,w.add(t)}}),"right"===b&&("dayView"===i||"weekView"===i)){if(f.timeRuler)for(s=0;s<f.timeRuler.timeZones.length;s++)j(s);w.add(_)}"right"===b&&"monthView"===i&&f.showWeekNumbers&&(_.hidden=!1,w.add(_)),this.rtl&&w.records.reverse(),this.columns=w},_getColumnsLengthPerView:function(){var e=this._views[this._view].type,t=this._views[this._view],i=1;switch(e){case"dayView":i=1;break;case"weekView":case"monthView":i=!1!==t.showWeekends?7:5;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":case"agendaView":i=this.columns.records.length}return i},_renderagenda:function(){var n=this,e=(n._views[n._view].type,n._views[n._view]),t=n.getViewStart(),i=Ne.jqx.scheduler.utilities.getEndOfDay(n.getViewEnd().addDays(-1));n._prepareAppointmentsInView(t,i);for(var s=n.appointmentsToRender.length,r=new Array,o=0;o<n.appointmentsToRender.length;o++)for(var a=n.appointmentsToRender[o],l=a.from.clearTime();l<Ne.jqx.scheduler.utilities.getEndOfDay(a.to);){var d=l.toString();r[d]?r[d].appointments.push(a):(r[d]={date:l,appointments:new Array},r[d].appointments.push(a),r[r.length]=r[d]),0,l=l.addDays(1).clearTime()}var h=0,c=0;n.rows=new Array;for(var u=Ne.jqx.browser.msie&&Ne.jqx.browser.version<8,p=0,m=n.rtl?" "+n.toTP("jqx-grid-table-rtl"):"",f=0,g="<table cellspacing='0' cellpadding='0' class='"+n.toTP("jqx-grid-table")+m+"' id='table"+n.element.id+"'><colgroup>",v=n.columns.records.length,x=0;x<v;x++){var w=n.columns.records[x];if(w.hidden)p++,nonHiddenColumns--;else{if((P=w.width)<w.minwidth&&(P=w.minwidth),P>w.maxwidth&&(P=w.maxwidth),(P-=0)<0&&(P=0),u){var y=P;x==p&&y++,g+="<col style='max-width: "+y+"px; width: "+y+"px;'>"}else g+="<col style='max-width: "+P+"px; width: "+P+"px;'>";f+=P}}if(g+="</colgroup>",0==s){var b='<tr role="row">',_=this.host.height(),j=0;n.columnGroups?j+=n.showHeader?n.columnsheader.height():0:j+=n.showHeader?n.columnsHeight:0,n.showToolbar&&(j+=n.toolbarHeight),n.showLegend&&0<n._resources.length&&(j+=n.legendHeight),_-=j;var q='<td data-date="'+t.toString()+'" colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+_+"px; height: "+_+"px; max-width:"+f+"px; width:"+f+"px;",T=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");q+='" class="'+(T+=" "+this.toTP("jqx-center-align"))+'">',q+=this.schedulerLocalization.emptyDataString,b+=q+="</td>",g+=b+="</tr>",this.table[0].style.width=f+2+"px",c=f}var C=n.rowsHeight;n.isTouchDevice()&&(C=n.touchRowsHeight);for(o=0;o<r.length;o++)for(var S=o,k=(l=r[o],0);k<l.appointments.length;k++){var I=0;b='<tr data-key="'+S+'" role="row">';h=0;var D=l.appointments[k];for(x=0;x<v;x++){var P,A=n.columns.records[x],M=x;n.rtl&&(M=v-1-x),(P=A.width)<A.minwidth&&(P=A.minwidth),P>A.maxwidth&&(P=A.maxwidth),(P-=0)<0&&(P=0);T=n.toTP("jqx-cell")+" "+n.toTP("jqx-grid-cell")+" "+n.toTP("jqx-item");n.rtl&&(T+=" "+n.toTP("jqx-cell-rtl"));S=n.dataview.generatekey();var B=l.date;_=C+"px",q='<td data-key="'+S+'" data-view="'+-1+'" data-date="'+B.toString()+'" role="gridcell"  style="max-width:'+P+"px; width:"+P+"px; height: "+_+"; min-height: "+C+"px;";if(0==M&&0==k){q='<td rowspan="'+l.appointments.length+'" data-key="'+S+'" data-view="'+-1+'" data-date="'+B.toString()+'" role="gridcell"  style="max-width:'+P+"px; width:"+P+"px;  min-height: "+C+"px;";T+=" "+n.toTP("jqx-center-align")}else if(0==M){h++;continue}n.rtl&&1==M&&(T+=" "+n.toTP("jqx-right-align")),A.hidden?(q+="display: none;",n._hiddencolumns=!0):(I+=0+P,0!=h||n.rtl?q+="border-left-width: 1px;":q+="border-left-width: 0px;",h++),q+='" class="'+T+'">';var H="";if(0==M&&0==k){var z=B.toString("dddd",n.schedulerLocalization),E=B.toString("MMMM, yyyy",n.schedulerLocalization),O=n.toTP("jqx-scheduler-agenda-date"),N=n.toTP("jqx-scheduler-agenda-day"),L=n.toTP("jqx-scheduler-agenda-week");H='<div class="'+O+'"><strong class="'+N+'">'+B.day()+'</strong><br/><em class="'+L+'">'+z+'</em><br/><span class="'+O+'">'+E+"</span></div>"}if(1==M){var R="auto",F=(e=this._views[this._view],D.from),W=D.to;e.timeRuler&&e.timeRuler.formatString&&(R=e.timeRuler.formatString);var V=R,G=R;if("auto"===R){if(0==F.hour()&&0==F.minute()||12==F.hour()&&0==F.minute())V="hh tt";else V="hh:mm";if(0==W.hour()&&0==W.minute()||12==W.hour()&&0==W.minute())G="hh tt";else G="hh:mm"}O=n.toTP("jqx-scheduler-agenda-time");H=D.allDay?"<span class='"+O+"'>"+n.schedulerLocalization.agendaAllDayString+"</span>":n.rtl?"<span class='"+O+"'>"+W.toString(G,n.schedulerLocalization)+" - "+F.toString(V,n.schedulerLocalization)+"</span>":"<span class='"+O+"'>"+F.toString(V,n.schedulerLocalization)+" - "+W.toString(G,n.schedulerLocalization)+"</span>"}else if(2==M){D.resourceId&&Ne.each(n._resources,function(e,t){if(D.resourceId==t){var i=n.getColors(e),s=(this.toString(),n.toTP("jqx-scheduler-agenda-appointment-resource jqx-scheduler-legend"));if(n.rtl)s=n.toTP("jqx-scheduler-agenda-appointment-resource-rtl jqx-scheduler-legend");var r="<div data-key='"+D.id+"' class='"+s+"' style='margin-right: 5px; border-color: "+i.border+"; background: "+i.background+";' class='"+n.toThemeProperty("jqx-scheduler-legend")+"'></div>";H=r}});var U=D.subject?D.subject:"(No Title)",Y=D.location,K=D.description,X=D.status?n.schedulerLocalization.editDialogStatuses[D.status]:"",$=D.isRecurrentAppointment(),Z=(D.isException(),n.schedulerLocalization.editDialogSubjectString+": "+U);Y&&(Z+="\n"+n.schedulerLocalization.editDialogLocationString+": "+Y),K&&(Z+="\n"+n.schedulerLocalization.editDialogDescriptionString+": "+K),X&&(Z+="\n"+n.schedulerLocalization.editDialogStatusString+": "+X),$&&(Z+="\n"+n.schedulerLocalization.editDialogRepeatString+": "+$);O=n.toTP("jqx-scheduler-agenda-appointment jqx-scheduler-legend-label");if(n.rtl)O=n.toTP("jqx-scheduler-agenda-appointment-rtl jqx-scheduler-legend-label");H+="<span data-key='"+D.id+"' title='"+Z+"' class='"+O+"'>"+U+"</span>"}q+=H,b+=q+="</td>"}0==c&&(n.table[0].style.width=I+2+"px",n.pinnedtable[0].style.width=I+2+"px",c=I),g+=b+="</tr>"}g+="</table>",n.table[0].innerHTML=g,n.pinnedtable[0].innerHTML=g,n.pinnedtable[0].style.display="none";var J=Ne(n.table[0].firstChild),Q=Ne(n.pinnedtable[0].firstChild);function ee(){var i={};return i.cells=new Array,i.indexOf=function(e){for(var t=0;t<i.cells.length;t++)if(i.cells[t].getAttribute("data-key")==e.getAttribute("data-key"))return t;return-1},i}n._table=J,n._pinnedtable=Q,Ne.jqx.browser.msie&&Ne.jqx.browser.version<10&&(n._table[0].style.width=c+"px",n._pinnedtable[0].style.width=c+"px"),0===s&&(n._table[0].style.width=2+c+"px",n._pinnedtable[0].style.width=2+c+"px",n._pinnedtable[0].style.display="none"),n._pinnedtable[0].style.display="none",n._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),n.table[0].rows=n.table[0].firstChild.rows,n.rowByCell=new Array,n.columnCells=new Array,n.cellWidth=0,n.cellHeight=0;var te=n.table[0].rows.length;for(o=0;o<te;o++){var ie=n.table[0].rows[o];if(!ie.getAttribute("data-group-row")){var se=new ee;se.aboveRow=null,se.belowRow=null,0<n.rows.length&&(se.aboveRow=n.rows[n.rows.length-1],n.rows[n.rows.length-1].belowRow=se),se.element=ie,n.rows.push(se);var re=!1;for(x=0;x<ie.cells.length;x++){if(ie.cells.length<n.columns.records.length&&!re)for(var ne=o;0<=ne;){var oe=n.table[0].rows[ne];if(n.table[0].rows[ne].cells.length==n.columns.records.length){var ae=oe.cells[0];n.columnCells[se.cells.length]||(n.columnCells[se.cells.length]=new Array),n.columnCells[se.cells.length].push(ae),0==n.cellWidth&&(n.cellWidth=ae.clientWidth),0==n.cellHeight&&(1==te||1<o)&&(n.cellHeight=ae.clientHeight),se.cells.push(ae),re=!0;break}ne--}"none"!==(ae=ie.cells[x]).style.display&&(0<=ae.className.indexOf("jqx-grid-cell-pinned")||(n.columnCells[se.cells.length]||(n.columnCells[se.cells.length]=new Array),n.columnCells[se.cells.length].push(ae),0==n.cellWidth&&(n.cellWidth=ae.clientWidth),0==n.cellHeight&&(1==te||1<o)&&(n.cellHeight=ae.clientHeight),se.cells.push(ae),n.rowByCell[ae.getAttribute("data-key")]=se))}}}0===s&&(n._table[0].style.tableLayout="auto"),n._updateScrollbars(n.host.height()),n._arrange(),n.rendered&&n.rendered(),n.renderedTime=new Date},_renderrows:function(){if(!(i=this)._loading&&!i._updating&&!i._appupdating){i.rendering&&i.rendering();var i,e=(i=this)._views[i._view].type,t=i._views[i._view];if("agendaView"!=e){var s=1,r=i.getViewStart(),n=Ne.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd());i._prepareAppointmentsInView(r,n);var o=new Array;if("weekView"===e||"dayView"===e)s=i.getMaxAllDayAppointments(i.appointmentsToRender);else"monthView"===e&&t.monthRowAutoHeight&&i.rows&&6==i.rows.length&&(o=i._getMonthAppointmentsPerWeek());1<i.tableRows&&i.tableRows;var a,l="halfHour",d=null;t.rowHeight&&(d=t.rowHeight),t&&t.allDayRowHeight&&(a=t.allDayRowHeight),t.timeRuler&&t.timeRuler.scale&&(l=t.timeRuler.scale);var h=0;i.table[0].rows=new Array,i.rows=new Array;var c=i.toTP("jqx-cell")+" "+i.toTP("jqx-widget-content");i.rtl&&(c+=" "+i.toTP("jqx-cell-rtl"));var u=i.columns.records.length,p=i._getColumnsLengthPerView(),m=Ne.jqx.browser.msie&&Ne.jqx.browser.version<8;m&&i.host.attr("hideFocus","true"),i._lastSelectedCell=null,i.focusedCell=null;new Array;var f=i.source.records;f=i.dataview.evaluate(f),i.dataViewRecords=f,i.cells=new Array;i.dataViewRecords;i.renderedRecords=i.getRows();i.tableZIndex;var g=i.getRows().length,v=0,x=0;if(m)for(var w=0;w<u;w++){(ge=(I=i.columns.records[w]).width)<I.minwidth&&(ge=I.minwidth),ge>I.maxwidth&&(ge=I.maxwidth);var y=Ne('<table><tr><td role="gridcell" style="max-width: '+ge+"px; width:"+ge+'px;" class="'+c+'"></td></tr></table>');Ne(document.body).append(y);var b=y.find("td");v=1+parseInt(b.css("padding-left"))+parseInt(b.css("padding-right")),y.remove();break}var _=i.rtl?" "+i.toTP("jqx-grid-table-rtl"):"",j="<table cellspacing='0' cellpadding='0' class='"+i.toTP("jqx-grid-table")+_+"' id='table"+i.element.id+"'><colgroup>",q=0,T=2,C=30;switch(l){case"sixtyMinutes":case"hour":C=60,T=1;break;case"thirtyMinutes":case"halfHour":C=30,T=2;break;case"fifteenMinutes":case"quarterHour":C=15,T=4;break;case"tenMinutes":C=10,T=6;break;case"fiveMinutes":C=5,T=12}var S=1;"timelineDayView"===e||"timelineWeekView"===e?p=(u*=S=T)/i.tableColumns:"timelineMonthView"===e?p=u/i.tableColumns:"monthView"===e&&(p=t.showWeekNumbers?(u-i.tableColumns)/i.tableColumns:u/i.tableColumns);var k=function(e){var t;if(t=i.columns.records[e])return t;for(;e>=i.columns.records.length;)e-=i.columns.records.length;return t=i.columns.records[e]};for(w=0;w<u;w++){var I;if((I=k(w)).hidden)q++,0;else{if((ge=I.width/S)<I.minwidth&&(ge=I.minwidth/S),ge>I.maxwidth&&(ge=I.maxwidth/S),(ge-=v)<0&&(ge=0),"monthView"==e&&i.rtl&&I.timeColumn&&ge++,m){var D=ge;w==q&&D++,j+="<col style='max-width: "+D+"px; width: "+D+"px;'>"}else j+="<col style='max-width: "+ge+"px; width: "+ge+"px;'>";x+=ge}}if(j+="</colgroup>",i._hiddencolumns=!1,0===g){var P='<tr role="row">',A=i.host.height();i.pageable&&(A-=i.pagerHeight,"both"===i.pagerPosition&&(A-=i.pagerHeight)),A-=i.columnsHeight,i.showLegend&&0<i._resources.length&&(A-=i.legendHeight),A<25&&(A=25),"hidden"!=i.hScrollBar[0].style.visibility&&(A-=i.hScrollBar.outerHeight()),("auto"===i.height||null===i.height||i.autoheight)&&(A=300);y='<td colspan="'+i.columns.records.length+'" role="gridcell" style="border: none; min-height: '+A+"px; height: "+A+"px; max-width:"+x+"px; width:"+x+"px;",c=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");i.rtl&&(c+=" "+i.toTP("jqx-cell-rtl")),y+='" class="'+(c+=" "+i.toTP("jqx-center-align"))+'">',y+=i.schedulerLocalization.emptyDataString,j+=P+=y+="</td>",i.table[0].style.width=x+2+"px",h=x}var M=i.getRows(),B=(r=i.getViewStart(),A=i._hostHeight?i._hostHeight:i.host.height(),0);i.columnGroups?B+=i.showHeader?i.columnsheader.height():0:B+=i.showHeader?i.columnsHeight:0,i.showToolbar&&(B+=i.toolbarHeight),i.showLegend&&0<i._resources.length&&(B+=i.legendHeight);var H=i.showAllDayRow,z=23;t.resourceHeaderRowHeight&&(z=t.resourcesRowHeight),z+=2,null!=t.showAllDayRow&&(H=t.showAllDayRow);var E=i._columnswidth>i._hostWidth?3+i.scrollBarSize:0,O=1<i.tableRows?i.resources.unitsInView:1;if(null==O&&(O=i._resources.length),i.resources&&i.resources.resourceRowHeight&&(d=i.resources.resourceRowHeight),null==d||"auto"==d){var N=i.rowsHeight,L=3*N;if(i.isTouchDevice())L=22+(N=i.touchRowsHeight);1==i.tableRows?(d=0<A?A-B:N,10<i.columns.records.length&&(d=0<A?A-i.scrollBarSize-5-B:N)):(d=0<A?(A-B-z)/g:N,10<i.columns.records.length&&(d=0<A?(A-i.scrollBarSize-5-B-O*z)/(O*g):N)),"dayView"===e||"weekView"===e?H&&(null==a||"auto"==a?a=d=0<A?(A-B)/(i.tableRows*g):L:d=0<A?(A-B-a-O*z)/(O*(g-1)):N):"monthView"===e&&("hidden"==i.hScrollBar[0].style.visibility&&(E=0),d=1==i.tableRows?0<A?(A-B-E)/g:N:0<A?(A-B-z-E)/g:N),d=Math.max(N,d),a||(a=L),a=Math.max(L,a),i._allDayRowHeight=a,a=s*((i._defaultRowHeight=N)-2),a=Math.max(L,17+a),i._allDayRowFullHeight=a,t.allDayRowHeight&&(i._allDayRowHeight=t.allDayRowHeight,a=s*(t.allDayRowHeight-2),i._allDayRowFullHeight=a)}var R,F=new Array;if(i.resources&&i.resources.colorScheme){for(var W=0;W<i.colorSchemes.length;W++)if(i.colorSchemes[W].name==i.resources.colorScheme){F=i.colorSchemes[W].colors;break}for(;i._resources.length>F.length-1;){var V=parseInt(i.resources.colorScheme.substring(6));27<=V&&(V=0),F=F.concat(i.colorSchemes[V].colors),V++}}for(var G=0;G<i.tableRows;G++){var U=0,Y=23;if(t.timeRuler&&null!=t.timeRuler.scaleStartHour)U=parseInt(t.timeRuler.scaleStartHour);if(t.timeRuler&&null!=t.timeRuler.scaleEndHour)Y=parseInt(t.timeRuler.scaleEndHour);var K=r;!1===t.showWeekends&&(0!=K.dayOfWeek()&&6!=K.dayOfWeek()||(K=K.addDays(1)));var X=new Array,$="monthView"!=e&&"timelineDayView"!=e&&"timelineWeekView"!=e&&"timelineMonthView"!=e&&H?1:0;if(1<i.tableRows){P='<tr data-group-row="true" role="row">',c=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(i.rtl&&(c+=" "+i.toTP("jqx-cell-rtl")),m)c+=" "+i.toTP("jqx-grid-cell-pinned");else{c+=" "+i.toTP("jqx-grid-cell-pinned"),xe+=' colspan="'+u+'"';D=0;for(var Z=0;Z<u;Z++){var J=k(Z),Q=J.width/S;Q<J.minwidth&&(ge=J.minwidth/S),Q>J.maxwidth&&(ge=J.maxwidth/S),(Q-=v)<0&&(Q=0),J.hidden||(D+=Q)}ge=D}y='<td style="height:'+z+"px;";if(w!=u-1||1!=u||i.rtl||(y+="border-right-color: transparent;"),0<i._resources.length&&i.resources.colorScheme&&"none"!=i.resources.orientation){var ee="",te="",ie="";ee=F[G],ee=i.hexToRgba(F[G],.7).toString(),ie=255-(.299*(R=i.hexToRgba(F[G],.7)).r+.587*R.g+.114*R.b)<105?"Black":"White",y+="background: "+ee+";",y+="border-color: "+(te=F[G])+";",y+="color: "+ie+";"}y+='" class="'+c+'" role="gridcell" '+xe,y+="><span style='position: relative;'>"+i._resources[G]+"</span>",j+=P+=y+="</td>"}for(var se=0;se<g;se++){var re={},ne="jqx"+i.element.id+"_"+se,oe=(P='<tr data-key="'+(re.uid=ne)+'" role="row">',0),ae=0;if(X[0]&&$<se){C=30;if("monthView"!=e){switch(l){case"sixtyMinutes":case"hour":C=60;break;case"thirtyMinutes":case"halfHour":C=30;break;case"fifteenMinutes":case"quarterHour":C=15;break;case"tenMinutes":C=10;break;case"fiveMinutes":C=5}for(var le=0;le<u;le++)X[le]=X[le].addMinutes(C,!1)}else for(le=0;le<u;le++)X[le]=X[le].addDays(7,!1)}var de=0,he=1,ce=0;ce=t.showWeekends||null==t.showWeekends?i.columns.records.length/(7*i.tableColumns):i.columns.records.length/(5*i.tableColumns),ce*=T;var ue=0;i.rtl&&(ue=1);var pe=0;for(w=0;w<u;w++){var me=k(w);if(p<=de&&(ue=pe=de=0,i.rtl&&(ue=1),he++),!X[w])if(i.rtl){if(0<=e.toString().indexOf("timelineDayView")){fe=1+w;X[w]=K.addHours(1+Y).addMinutes(-fe*C,!1)}else 0<=e.toString().indexOf("timelineWeekView")?t.showWeekends||null==t.showWeekends?X[w]=K.addDays(6-pe).addHours(1+Y,!1).addMinutes(-ue*C,!1):X[w]=K.addDays(4-pe).addHours(1+Y,!1).addMinutes(-ue*C,!1):"dayView"==e||"monthView"==e||"weekView"==e?t.showWeekends||null==t.showWeekends?X[w]=K.addDays(6-de).addHours(U,!1):X[w]=K.addDays(4-de).addHours(U,!1):X[w]=K.addDays(p-de-1).addHours(U,!1);i.timeZone&&(X[w].timeZone=i.timeZone)}else{if(0<=e.toString().indexOf("timelineDayView")){var fe=w;X[w]=K.addHours(U).addMinutes(fe*C,!1)}else 0<=e.toString().indexOf("timelineWeekView")?X[w]=K.addDays(pe).addHours(U,!1).addMinutes(ue*C,!1):X[w]=K.addDays(de).addHours(U,!1);i.timeZone&&(X[w].timeZone=i.timeZone)}ce<=++ue&&(ue=0,pe++),me.timeColumn||"dayView"!==e&&"weekView"!==e?!me.timeColumn&&"monthView"===e&&t.showWeekNumbers?de++:"monthView"===e&&!t.showWeekNumbers||"timelineMonthView"===e?de++:"timelineDayView"!=e&&"timelineWeekView"!=e||de++:de++;var ge,ve=X[w];(ge=me.width/S)<me.minwidth&&(ge=me.minwidth/S),ge>me.maxwidth&&(ge=me.maxwidth/S),(ge-=v)<0&&(ge=0);c=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");me.pinned&&(c+=" "+i.toTP("jqx-grid-cell-pinned")),i.sortcolumn===me.displayfield&&(c+=" "+i.toTP("jqx-grid-cell-sort")),i.altRows&&se%2!=0&&(c+=" "+i.toTP("jqx-grid-cell-alt")),0!=se||!H||"dayView"!==e&&"weekView"!==e||(c+=" "+i.toTP("jqx-grid-cell-alt")),(ve>i.max||ve<i.min)&&(c+=" "+i.toTP("jqx-scheduler-disabled-cell")),i.rtl&&(c+=" "+i.toTP("jqx-cell-rtl"));var xe="",we=(ne=i.dataview.generatekey(),G+he);i.resources&&"none"==i.resources.orientation&&(we=-1),0==i._resources.length&&(we=-1);y='<td data-key="'+ne+'" data-view="'+we+'" data-date="'+ve.toString()+'" role="gridcell" '+xe+' style="max-width:'+ge+"px; width:"+ge+"px;  height:"+d+"px;";if(0==se&&H&&("dayView"===e||"weekView"===e))y='<td  data-key="'+ne+'" data-view="'+we+'" data-end-date="'+Ne.jqx.scheduler.utilities.getEndOfDay(ve).toString()+'" data-date="'+ve.clearTime().toString()+'" role="gridcell" '+xe+' style="max-width:'+ge+"px; width:"+ge+"px; height:"+a+"px;";if("monthView"==e&&t.monthRowAutoHeight&&0<o.length&&o[se]&&"auto"!=o[se]&&d<o[se])y='<td data-key="'+ne+'" data-view="'+we+'" data-date="'+ve.toString()+'" role="gridcell" '+xe+' style="max-width:'+ge+"px; width:"+ge+"px;  height:"+o[se]+"px;";if(i.resources&&0<i._resources.length&&i.resources.colorScheme&&"none"!==i.resources.orientation){ee="",te="";if(ee=F[G+he-1],ee=0!=se||!H||"dayView"!==e&&"weekView"!==e?i.hexToRgba(F[G+he-1],.3).toString():i.shadeColor(F[G+he-1],.3).toString(),(0!=se||!H||"dayView"!==e&&"weekView"!==e)&&-1==e.indexOf("month")&&!me.timeColumn&&!1!==t.showWorkTime){var ye=1,be=5,_e=8,je=18;if(t.workTime)ye=t.workTime.fromDayOfWeek?t.workTime.fromDayOfWeek:0,be=t.workTime.toDayOfWeek?t.workTime.toDayOfWeek:0,_e=t.workTime.fromHour?t.workTime.fromHour:8,je=t.workTime.toHour?t.workTime.toHour:8;ve.dayOfWeek()>=ye&&ve.dayOfWeek()<=be&&ve.hour()>=_e&&ve.hour()<je&&(ee=i.hexToRgba(F[G+he-1],.1).toString())}y+="background: "+ee+";",y+="border-color: "+(te=F[he+G-1])+";"}if(w!=u-1||1!=u||i.rtl||(y+="border-right-color: transparent;"),me.timeColumn&&!me.hidden&&"monthView"===e){c=i.toTP("jqx-scheduler-time-column")+" "+i.toTP("jqx-widget-header")+" "+i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(c+=" "+i.toTP("jqx-scheduler-week-number-column"),1<i.tableRows)c=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(i.rtl&&(c+=" "+i.toTP("jqx-cell-rtl")),0!==ve.minute()){ae++;continue}y='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+ve.toString()+'" role="gridcell" style="max-width:'+ge+"px; width:"+ge+"px;";w!=u-1||1!=u||i.rtl?i.rtl&&0==w&&(y+="border-left-color: transparent;"):y+="border-right-color: transparent;",w==u-1&&i.rtl&&(y+="border-right-color: transparent;")}if(!me.timeColumn||me.hidden||"dayView"!==e&&"weekView"!==e){if(0<se){var qe="border-left-width: 1px;";i.rtl&&0==w&&"monthView"==e&&t.showWeekNumbers&&(qe="border-left-width: 0px;"),y+=qe}}else{c=i.toTP("jqx-scheduler-time-column")+" "+i.toTP("jqx-widget-header")+" "+i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(1<i.tableRows)c=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(i.rtl&&(c+=" "+i.toTP("jqx-cell-rtl")),0<se){if(0!==ve.minute()){ae++;continue}y='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+ve.toString()+'" rowspan='+T+' role="gridcell" '+xe+' style="max-width:'+ge+"px; width:"+ge+"px;";w!=u-1||1!=u||i.rtl?i.rtl&&0==w&&(y+="border-left-color: transparent;"):y+="border-right-color: transparent;"}else{if(i.resources&&"none"==i.resources.orientation&&(we=-1),0==se&&H&&("dayView"===e||"weekView"===e))y='<td data-view="'+we+'" data-time-slot="true" data-end-date="'+Ne.jqx.scheduler.utilities.getEndOfDay(ve).toString()+'" data-date="'+ve.toString()+'" role="gridcell" '+xe+' style="max-width:'+ge+"px; width:"+ge+"px;";w!=u-1||1!=u||i.rtl?0==w&&1==u&&i.rtl&&(y+="border-right-color: transparent;"):y+="border-right-color: transparent;",i.rtl&&(y+="border-left-width: 1px;"),1<i.tableRows&&(y+="background: "+ee+";",y+="border-color: "+te+";")}}if("left"!=me.cellsalign&&("right"===me.cellsalign?c+=" "+i.toTP("jqx-right-align"):c+=" "+i.toTP("jqx-center-align")),me.timeColumn||i.rowinfo[re.uid]&&i.rowinfo[re.uid].selected&&i.editKey!==re.uid&&"none"!==i.selectionMode&&(c+=" "+i.toTP("jqx-grid-cell-selected"),c+=" "+i.toTP("jqx-fill-state-pressed"),c+=" "+i.toTP("jqx-scheduler-cell-selected")),me.hidden?(y+="display: none;",i._hiddencolumns=!0):(oe+=v+ge,0!=ae||i.rtl||(y+="border-left-width: 0px;"),ae++),(0!=se||!H||"dayView"!==e&&"weekView"!==e)&&-1==e.indexOf("month")&&(c+=" "+i.toTP("jqx-grid-cell-nowrap"),se%2!=1||me.timeColumn||(c+=" "+i.toTP("jqx-scheduler-middle-cell")),!me.timeColumn&&!1!==t.showWorkTime)){ye=1,be=5,_e=8,je=18;if(t.workTime)ye=t.workTime.fromDayOfWeek?t.workTime.fromDayOfWeek:0,be=t.workTime.toDayOfWeek?t.workTime.toDayOfWeek:0,_e=t.workTime.fromHour?t.workTime.fromHour:8,je=t.workTime.toHour?t.workTime.toHour:8;ve.dayOfWeek()>=ye&&ve.dayOfWeek()<=be&&ve.hour()>=_e&&ve.hour()<je?c+=" "+i.toTP("jqx-scheduler-work-time-cell"):c+=" "+i.toTP("jqx-scheduler-not-work-time-cell")}var Te="";if("monthView"===e){i.touchDevice||me.timeColumn||(c+=" "+i.toTP("jqx-top-align"));var Ce="dd";Te=ve.toDate();var Se=i.toTP("jqx-scheduler-month-outer-cell")+" ",ke=i.toTP("jqx-scheduler-month-weekend-cell");i.date.month()==ve.month()&&(Se=""),ve.isWeekend()?c+=" "+ke:ke="",1===Te.getDate()&&(Ce="MMM dd"),Te=i.touchDevice?16<d?"<div class='"+Se+i.toTP("jqx-scheduler-month-cell-touch")+"'>"+Ne.jqx.dataFormat.formatdate(Te,Ce,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>":"<div class='"+Se+i.toTP("jqx-scheduler-month-cell-touch")+"'>"+Ne.jqx.dataFormat.formatdate(Te,Ce,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>":16<d?"<div class='"+Se+i.toTP("jqx-scheduler-month-cell")+"'>"+Ne.jqx.dataFormat.formatdate(Te,Ce,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>":"<div class='"+Se+i.toTP("jqx-scheduler-month-cell")+"'>"+Ne.jqx.dataFormat.formatdate(Te,Ce,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>"}else"timelineWeekView"!==e&&"timelineDayView"!==e&&"timelineMonthView"!==e||(c+=" "+i.toTP("jqx-right-align jqx-bottom-align"),Te="<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span>");0!=se||!H||"dayView"!==e&&"weekView"!==e||me.timeColumn||(c+=" "+i.toTP("jqx-top-align"),c+=" "+i.toTP("jqx-scheduler-all-day-cell"),i.rtl&&(c+=" "+i.toTP("jqx-rtl")),Te=ve.toDate(),Te="<span>"+Ne.jqx.dataFormat.formatdate(Te,"dd",i.schedulerLocalization)+"</span>");var Ie=me.cellsFormat;if(me.timeColumn&&!me.hidden){Te=ve.toDate(),me.timeZone&&(Te=(Te=ve.clone().toTimeZone(me.timeZone)).toDate());t.timeRuler&&t.timeRuler.formatString?Ie=t.timeRuler.formatString:me.timeColumn.format||(Ie=0==Te.getHours()||12==Te.getHours()?"hh tt":"hh:mm"),Ne.jqx.dataFormat.isDate(Te)&&(Te=Ne.jqx.dataFormat.formatdate(Te,Ie,i.schedulerLocalization)),se<$&&(i.rtl?c+=" "+i.toTP("jqx-scheduler-time-column-header-cell-rtl"):c+=" "+i.toTP("jqx-scheduler-time-column-header-cell"),Te=""),se<$&&(me._text&&(c+=" "+i.toTP("jqx-bottom-align")),t.timeRuler&&t.timeRuler.timeZones&&0<t.timeRuler.timeZones.length&&w<t.timeRuler.timeZones.length&&(Te=me._text)),"monthView"==e&&(Te=ve.weekOfYear(i.schedulerLocalization.firstDay))}else""!=Ie&&Ne.jqx.dataFormat&&(Ne.jqx.dataFormat.isDate(Te)?Te=Ne.jqx.dataFormat.formatdate(Te,Ie,i.schedulerLocalization):(Ne.jqx.dataFormat.isNumber(Te)||!isNaN(parseFloat(Te))&&isFinite(Te))&&(Te=Ne.jqx.dataFormat.formatnumber(Te,Ie,i.schedulerLocalization)));if(""!=me.cellclassname&&me.cellclassname)if("string"==typeof me.cellclassname)c+=" "+me.cellclassname;else{var De=me.cellclassname(se,me.datafield,Te,re);De&&(c+=" "+De)}if(""!=me.cellsRenderer&&me.cellsRenderer){var Pe=M.indexOf(re);Te=me.cellsRenderer(Pe,me.datafield,Te,re)}y+='" class="'+c+'">',y+=Te,P+=y+="</td>"}0==h&&(i.table[0].style.width=oe+2+"px",i.pinnedtable[0].style.width=oe+2+"px",h=oe),j+=P+="</tr>",i.rowinfo[re.uid]?"row"in i.rowinfo[re.uid]||(i.rowinfo[re.uid].row=re):i.rowinfo[re.uid]={row:re}}}j+="</table>",i.table[0].innerHTML=j,i.pinnedtable[0].innerHTML=j,i.table[0].rows=i.table[0].firstChild.rows;var Ae=Ne.jqx.browser.msie&&Ne.jqx.browser.version<9,Me=null;if(!H||"dayView"!==e&&"weekView"!==e||1!=i.tableRows)i.pinnedtable[0].style.display="none";else if(i.pinnedtable[0].style.display="block",i.pinnedtable[0].style.zIndex="400",i.pinnedtable[0].style.position="absolute",i.pinnedtable[0].style.top="0px",i.pinnedtable[0].style.height=a+"px",!Ae)if(1==i.tableRows){i.oldRow=i.table[0].rows[0];try{i.table[0].rows[0]=i.pinnedtable.find("tr")[0]}catch(e){}Me=i.pinnedtable.find("tr")[0],i.pinnedTableRow=Me}else{i.oldRow=i.table[0].rows[1];try{i.table[0].rows[1]=i.pinnedtable.find("tr")[1]}catch(e){}Me=i.pinnedtable.find("tr")[1],i.pinnedTableRow=Me}Z=Ne(i.table[0].firstChild);var Be=Ne(i.pinnedtable[0].firstChild);i._table=Z,i._pinnedtable=Be,Ne.jqx.browser.msie&&Ne.jqx.browser.version<10&&(i._table[0].style.width=h+"px",i._pinnedtable[0].style.width=h+"px"),0===g&&(i._table[0].style.width=2+h+"px",i._pinnedtable[0].style.width=2+h+"px"),i._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),i._pinnedtable.addClass("jqx-grid-table-one-cell jqx-disableselect"),i.rowByCell=new Array,i.columnCells=new Array,i.cellWidth=0,i.cellHeight=0;var He=i.table[0].rows.length;for(se=0;se<He;se++){var ze=i.table[0].rows[se];if(0==se&&Me&&(ze=Me),!ze.getAttribute("data-group-row")){(re=new Oe).aboveRow=null,re.belowRow=null,0<i.rows.length&&(re.aboveRow=i.rows[i.rows.length-1],i.rows[i.rows.length-1].belowRow=re),re.element=ze,i.rows.push(re);for(w=0;w<ze.cells.length;w++){var Ee=ze.cells[w];Ee.getAttribute("data-time-slot")||"none"!==Ee.style.display&&(0<=Ee.className.indexOf("jqx-grid-cell-pinned")||(i.columnCells[re.cells.length]||(i.columnCells[re.cells.length]=new Array),i.columnCells[re.cells.length].push(Ee),0==i.cellWidth&&(i.cellWidth=Ee.clientWidth),0==i.cellHeight&&(1==He||1<se)&&(i.cellHeight=Ee.clientHeight),"monthView"==i._views[i._view].type&&null==re.top&&(re.top=parseInt(Ne(Ee).position().top)),re.cells.push(Ee),i.rowByCell[Ee.getAttribute("data-key")]=re))}}}0===g&&(i._table[0].style.tableLayout="auto"),i._renderAppointments(r,n),("none"!=i.pinnedtable[0].style.display||("dayView"==e||"weekView"==e)&&1<i.tableRows)&&i._updateScrollbars(i.host.height()),"monthView"===e&&t.monthRowAutoHeight&&(0==o.length?i._renderrows():i._updateScrollbars(i.host.height())),i.rendered&&i.rendered(),i.renderedTime=new Date}else i._renderagenda()}function Oe(){var i={};return i.cells=new Array,i.indexOf=function(e){for(var t=0;t<i.cells.length;t++)if(i.cells[t].getAttribute("data-key")==e.getAttribute("data-key"))return t;return-1},i}},showAppointmentsByResource:function(e){for(var t=this,i=0;i<t.uiappointments.length;i++){var s=t.uiappointments[i];if(s.resourceId==e&&(s.hidden=!1,s.hiddenByResourceId=!1,s.exceptions))for(var r=0;r<s.exceptions.length;r++)s.exceptions[r].hiddenByResourceId=!1,s.exceptions[r].hidden=!1}if(t._resourcesElements){var n=t.getColors(t._resources.indexOf(e));t._resourcesElements.top[e].attr("data-toggle","on"),t._resourcesElements.top[e].css("background",n.background),t._resourcesElements.bottom[e].attr("data-toggle","on"),t._resourcesElements.bottom[e].css("background",n.background)}t.hiddenResources&&delete t.hiddenResources[e],t._renderrows()},hideAppointmentsByResource:function(e){for(var t=this,i=0;i<t.uiappointments.length;i++){var s=t.uiappointments[i];if(s.resourceId==e&&(s.hidden=!0,s.hiddenByResourceId=!0,s.exceptions))for(var r=0;r<s.exceptions.length;r++)s.exceptions[r].hiddenByResourceId=!0,s.exceptions[r].hidden=!0}t._resourcesElements&&(t._resourcesElements.top[e].attr("data-toggle","off"),t._resourcesElements.top[e].css("background","transparent"),t._resourcesElements.bottom[e].attr("data-toggle","off"),t._resourcesElements.bottom[e].css("background","transparent")),t.hiddenResources||(t.hiddenResources=new Array),t.hiddenResources[e]=!0,t._renderrows()},_prepareAppointmentsInView:function(e,t){var i=this;if(!i._appupdating){for(var s=new Array,r=0;r<this.uiappointments.length;r++){var n=this.uiappointments[r];if(!n.hidden||null!=n.recurrencePattern){Ne.jqx.scheduler.utilities.rangeIntersection(n.from,n.to,e,t)&&!n.recurrencePattern&&s.push(n),n.renderedAppointments=new Array;var o=!1;if(n.recurrencePattern){for(var a=n.getOccurrences(e,t),l=n.exceptions,d=0;d<a.length;d++){var h=a[d];if(!h.hidden){for(var c=!0,u=0;u<l.length;u++){var p=(m=l[u]).occurrenceFrom?m.occurrenceFrom:m;if(i.selectedJQXAppointment&&i.selectedJQXAppointment.rootAppointment&&!o&&i.selectedJQXAppointment.occurrenceFrom.clearTime().equals(p.clearTime())&&(i.selectedJQXAppointment=m,o=!0),p.clearTime().equals(h.from.clearTime())){c=!1;break}}c&&(i.selectedJQXAppointment&&i.selectedJQXAppointment.rootAppointment&&!o&&i.selectedJQXAppointment.occurrenceFrom.clearTime().equals(h.occurrenceFrom.clearTime())&&(i.selectedJQXAppointment=h,o=!0),n.renderedAppointments[h.id]=h,s.push(h))}}for(u=0;u<l.length;u++){p=(m=l[u]).occurrenceFrom?m.from:m;var m,f=n.createOccurrence(p);m.occurrenceFrom&&(m.cloneAppointmentAttributes(f),m.hidden)||f!=n&&(s.push(m),n.renderedAppointments[m.id]=m)}}}}var g=new Array;this.tabKeyAppointments=new Array;for(r=0;r<s.length;r++){var v=s[r];g.push(v),this.tabKeyAppointments.push(v)}g.sort(this._sortAppointmentsByFrom),0<this._resources.length?this.tabKeyAppointments.sort(function(e,t){return i._sortAppointmentsByResourceId(e,t,i)}):this.tabKeyAppointments.sort(this._sortAppointmentsByFrom),this.appointmentsToRender=g}},_renderDayWeekAppointments:function(){var e=this,t=(e._views[e._view].type,e._views[e._view]),i=new Array,s=new Array,r=this.rows,n=e.showAllDayRow,o=e.getMinutesPerScale();t.timeRuler&&null!=t.timeRuler.showAllDayRow&&(n=t.timeRuler.showAllDayRow);for(var a=0;a<this.appointmentsToRender.length;a++){var l=this.appointmentsToRender[a],d=l.from,h=l.to,c=Ne.jqx.scheduler.utilities.getEndOfDay(h),u=d.day(),p=(l.allDay,e._getDateByString),m=new Array,f=new Array,g=l.resourceId,v=e._resources.indexOf(g);e.resources&&"none"==e.resources.orientation&&(v=-1);var x=d.toDate().valueOf(),w=h.toDate().valueOf(),y=(c.toDate().valueOf(),function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0});if(!l.allDay&&l.duration().days()<1||!n){0==(B=h.toDate()).getHours()&&0==B.getMinutes()&&!0;for(var b=0;b<e.columnCells.length;b++)if(e.columnCells[b]){var _=e.columnCells[b];e.rtl&&(_=e.columnCells[e.columnCells.length-1-b]);for(var j=0;j<_.length;j++)if(!_[j].getAttribute("data-end-date")){var q=p(z=_[j].getAttribute("data-date")),T=p(z);T.setMinutes(T.getMinutes()+o-1);var C=q.valueOf(),S=T.valueOf();if(!(h<C)&&(x<=C&&C<w||x<=S&&S<w||C<=x&&w<=S)){if(-1!=v&&1+v!=_[j].getAttribute("data-view"))continue;u!=q.getDate()&&(m.sort(y),f.push(m),m=new Array,u=d.addDays(1).day()),m.push({cell:_[j],date:q})}}}m.sort(y),f.push(m);var k=new Array;for(b=0;b<f.length;b++){if(0!=(_=f[b]).length){var I=e.cellWidth,D=_[_.length-1].cell.offsetTop+e.cellHeight,P=_[0].cell.offsetLeft,A=_[0].cell.offsetTop,M=e.getMinutesPerScale(),B=new Ne.jqx.date(_[_.length-1].date,e.timeZone).addMinutes(M),H={cells:_,x:P,y:A,height:D-A,width:I,appointment:l,from:new Ne.jqx.date(_[0].date,e.timeZone),to:B};k.push(H),i.push(H)}}l.elements=k,l.rootAppointment&&(l.rootAppointment.elements=l.rootAppointment.elements.concat(l.elements))}else{_=r[0].cells;if(1<this.tableRows)_=r[v*(r.length/e.tableRows)].cells;for(j=0;j<_.length;j++){var z,E=p(z=_[j].getAttribute("data-date"));q=new Ne.jqx.date(E,e.timeZone);if(!(c<(C=(q=Ne.jqx.scheduler.utilities.getEndOfDay(q)).toDate().valueOf()))&&(d<=q&&q<=c)){if(-1!=v&&1+v!=_[j].getAttribute("data-view"))continue;0==m.length&&(q=Ne.jqx.scheduler.utilities.getStartOfDay(q)),m.push({cell:_[j],date:q})}}m.sort(y),f.push(m);for(k=new Array,b=0;b<f.length;b++){if(0==(_=f[b]).length)break;var O=Ne(_[0].cell).position();I=Ne(_[_.length-1].cell).position().left+this.cellWidth-O.left,D=Ne(_[_.length-1].cell).position().top,P=O.left,A=O.top;if(this.rtl)P=(O=Ne(_[_.length-1].cell).position()).left,I=Ne(_[0].cell).position().left+this.cellWidth-O.left;var N=_[_.length-1].date;N=new Ne.jqx.date(Ne.jqx.scheduler.utilities.getEndOfDay(N),e.timeZone);H={cells:_,x:P,y:A,height:D-A+this.cellHeight,width:I,appointment:l,from:Ne.jqx.scheduler.utilities.getStartOfDay(new Ne.jqx.date(_[0].date,e.timeZone)),to:N};k.push(H),s.push(H)}l.elements=k,l.rootAppointment&&(l.rootAppointment.elements=l.rootAppointment.elements.concat(l.elements))}}var L=this.getViewStart(),R=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var F=new Array,W=L,V=0;W<R;){F[V]=new Array;for(b=0;b<i.length;b++){(U=i[b]).from.day()==W.day()&&(U.column=-1,U.columnSpan=1,F[V].push(U))}V++,W=W.addDays(1)}for(b=0;b<F.length;b++)this._renderAppointmentsInDay(F[b]);this._renderAllDayAppointments(s)}else for(j=0;j<this._resources.length;j++){var G=this._resources[j];for(F=new Array,W=L,V=0;W<R;){F[V]=new Array;for(b=0;b<i.length;b++){var U;(U=i[b]).from.day()==W.day()&&(U.column=-1,U.columnSpan=1,U.appointment.resourceId==G&&F[V].push(U))}V++,W=W.addDays(1)}for(b=0;b<F.length;b++)this._renderAppointmentsInDay(F[b]);var Y=new Array;for(b=0;b<s.length;b++)s[b].appointment.resourceId==G&&Y.push(s[b]);this._renderAllDayAppointments(Y)}},_renderAllDayAppointments:function(e){var t=this,i=this.showAllDayRow;if((P=this._views[this._view]).timeRuler&&null!=P.timeRuler.showAllDayRow&&(i=P.timeRuler.showAllDayRow),i&&0!=e.length){var s,r=e;if(s=this.getMaxAllDayAppointments(e),1==this.tableRows)this.table[0].rows[0].clientHeight;else this.table[0].rows[1].clientHeight;for(var n=0;n<e.length;n++){(m=e[n]).row=-1,(p=this.getCollisionAppointments(m,e)).sort(this._sortAppointmentsByFrom);var o=p.indexOf(m);if(0<=o)for(var a=o;a<p.length;a++)p[a].row=-1;for(var l=0;l<s;l++){var d=l;for(var h in p){if("indexOf"==h)break;if(-1==(w=p[h]).row&&!this.isBusyRow(d,p)){w.row=d;var c=s,u=this.getMaxAllDayAppointments(p);u<c&&(c=u),w.rowsCount=c}}}}for(l=0;l<r.length;l++){var p,m=r[l];(p=this.getCollisionAppointments(m,r)).sort(this._sortAppointmentsByFrom);var f=1;for(var h in p){if("indexOf"==h)break;var g=p[h];f=Math.max(f,g.rowsCount)}for(var h in p){if("indexOf"==h)break;(g=p[h]).rowsCount=f}if(1==p.length)m.rowSpan=f;else{var v=0,x=!0;for(a=m.row;a<f;a++){for(var h in p){if("indexOf"==h)break;var w;(w=p[h])!=m&&(w.row==a&&(x=!1))}if(!x)break;v++}m.rowSpan=v}}var y=t.appointmentsMinHeight+2;if(t.isTouchDevice())y=t.touchAppointmentsMinHeight+2;for(var b=0;b<r.length;b++){var _=y;(m=r[b]).height=y;var j=_*m.row;if(m.y=18+m.y+j+4*m.row,m.x+=3,m.width-=8,0!=m.appointment.from.hour()||23!=m.appointment.to.hour()){var q=this.getViewStart(),T=this.getViewEnd();if(t.rtl){C=parseFloat(t.cellWidth/24)*m.appointment.to.hour()+parseFloat(t.cellWidth/48)*(m.appointment.to.minute()/30),S=parseFloat(t.cellWidth/24)*m.appointment.from.hour()+parseFloat(t.cellWidth/48)*(m.appointment.from.minute()/30);0<C&&(C=t.cellWidth-C),m.appointment.from<q&&(S=0),m.appointment.to>T&&(C=0),"exactTime"==P.appointmentsRenderMode&&(m.x+=C,m.width-=C,m.width-=S),m.appointment.duration().days()<1&&m.width<15&&(m.width=15),m.timewidth=m.width,"exactTimeStatus"==P.appointmentsRenderMode&&(m.timewidth-=C,m.timewidth-=S),m.timex=C}else{var C=parseFloat(t.cellWidth/24)*m.appointment.from.hour()+parseFloat(t.cellWidth/48)*(m.appointment.from.minute()/30);m.appointment.from<q&&(C=0),m.timewidth=m.width,m.timex=C;var S=parseFloat(t.cellWidth/24)*m.appointment.to.hour()+parseFloat(t.cellWidth/48)*(m.appointment.to.minute()/30);m.appointment.to>T&&(S=0),m.timewidth-=C,0<S&&(m.timewidth-=t.cellWidth,m.timewidth+=S),"exactTime"==P.appointmentsRenderMode&&(m.width=m.timewidth,m.x+=C)}}}for(b=0;b<r.length;b++){var k=r[b],I="",D="auto",P=this._views[this._view],A=k.appointment.from,M=k.appointment.to;P.timeRuler&&P.timeRuler.formatString&&(D=P.timeRuler.formatString);var B=D;if("auto"===D){if(0==A.hour()&&0==A.minute()||12==A.hour()&&0==A.minute())B="hh tt";else B="hh:mm";if(0==M.hour()&&0==M.minute()||12==M.hour()&&0==M.minute())var H="hh tt";else H="hh:mm"}var z=A.toString(B),E=M.toString(H),O=k.appointment.duration(),N=k.appointment.allDay||23===O.hours&&59===O.minutes&&59===O.seconds,L=k.appointment.background,R=k.appointment.subject?k.appointment.subject:"(No Title)",F=k.appointment.color,W=k.appointment.resourceId,V=t.getColors(t._resources.indexOf(W)),G=" data-resourceId='"+W+"' ",U=k.appointment.borderColor;0<(he=k.appointment.location).length&&(he=", "+he),L||(L=V.background),U||(U=V.border),F||(F=V.color);var Y=k.appointment.isRecurrentAppointment(),K=k.appointment.isException();N&&(E=z="");var X="",$=t.toTP("jqx-scheduler-appointment-status"),Z="",J=t.statuses[k.appointment.status],Q=!1;J&&("transparent"==J?Q=!1:(Z="<div style='background: "+J+"; border-right-color: "+U+"' class='"+$+"'></div>","tentative"==J&&(Z="<div style='background-color: "+U+"; border-right-color: "+U+"' class='"+($=t.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),Q=!0));var ee=t.toTP("jqx-scheduler-appointment-duration-status"),te="<div style='width: "+k.timewidth+"px; left: "+k.timex+"px;' class='"+ee+"'></div>";N&&(te="");var ie="";if("exactTimeStatus"!=P.appointmentsRenderMode&&(te=""),t.rtl)Z="<div style='background: "+J+"; border-left-color: "+U+"' class='"+($=t.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==J&&(Z="<div style='background-color: "+U+"; border-left-color: "+U+"' class='"+($=t.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),ie=Z,Z="";var se="",re=R+he;if(N||(re=R+he+te),t.renderAppointment){var ne=t.renderAppointment({appointment:k.appointment.boundAppointment,textColor:F,background:L,borderColor:U,html:re,cssClass:"",style:"",width:k.width,height:k.height,view:t._views[t._view].type});if(ne)if((I=ne.html)!=re&&(re=I),F=ne.textColor,L=ne.background,U=ne.borderColor,ne.cssClass&&(se=ne.cssClass+" "),""!=ne.style)L=(V=t.getAppointmentColors(ne.style)).background,U=V.border,F=V.color}if(""===X)if(Q)X="<div style='white-space:nowrap;' class='"+t.toTP("jqx-scheduler-appointment-content")+"'>"+Z+"<div class='"+t.toTP("jqx-scheduler-appointment-inner-content")+"'>"+re+"</div>"+ie+"</div>";else X="<div style='white-space:nowrap;' class='"+t.toTP("jqx-scheduler-appointment-content")+"'><div class='"+t.toTP("jqx-scheduler-appointment-inner-content")+"'>"+re+"</div></div>";var oe="";if(t.rtl&&(oe=t.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),K){var ae="white"==F.toLowerCase()?t.toTP("jqx-icon-recurrence-exception-white"):t.toTP("jqx-icon-recurrence-exception");I="<div data-key='"+k.appointment.id+"'"+G+"class='"+oe+se+t.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+k.x+"px; top: "+k.y+"px; width: "+k.width+"px; line-height: "+k.height+"px; height: "+k.height+"px; border-color:"+U+"; color:"+F+"; background:"+L+";'><div class='"+ae+"'></div>"+X+"<div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(Y){var le="white"==F.toLowerCase()?t.toTP("jqx-icon-recurrence-white"):t.toTP("jqx-icon-recurrence");I="<div data-key='"+k.appointment.id+"'"+G+"class='"+oe+se+t.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+k.x+"px; top: "+k.y+"px; width: "+k.width+"px; line-height: "+k.height+"px; height: "+k.height+"px; border-color:"+U+"; color:"+F+"; background:"+L+";'><div class='"+le+"'></div>"+X+"<div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else I="<div data-key='"+k.appointment.id+"'"+G+"class='"+oe+se+t.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+k.x+"px; top: "+k.y+"px; width: "+k.width+"px; line-height: "+k.height+"px; height: "+k.height+"px; border-color:"+U+"; color:"+F+"; background:"+L+";'>"+X+"<div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";var de=Ne(I);if(1==this.tableRows?de.appendTo(this.pinnedtable):de.appendTo(this.table),k.element=de,this.appointmentTooltips)if(k.appointment.tooltip)de[0].setAttribute("title",k.appointment.tooltip);else{var he,ce=k.appointment.subject;if(z&&(ce=z+" - "+E+" "+ce),ce)(he=k.appointment.location)&&(ce+="\n"+he),de[0].setAttribute("title",ce)}}}},_renderAppointmentsInDay:function(e,t){if(0!=e.length){var i,s=this,r=this._views[this._view],n=e,o=(this.getViewStart(),this.getViewEnd(),0);if(r.timeRuler?(o=this.columns.records[1].width,r.timeRuler.timeZones&&(o=this.columns.records[1+r.timeRuler.timeZones.length].width)):o=this.columns.records[1].width,!(o/(i=this.getMaxColumnsInADay(e))<0)){for(var a=0;a<e.length;a++){(g=e[a]).column=-1,(f=this.getCollisionAppointments(g,e)).sort(this._sortAppointmentsByFrom);var l=f.indexOf(g);if(0<=l)for(var d=l;d<f.length;d++)f[d].column=-1;for(var h=0;h<i;h++){var c=h;for(var u in f){if("indexOf"==u)break;if(-1==(b=f[u]).column&&!this.isBusyColumn(c,f)){b.column=c;var p=i,m=this.getMaxColumnsInADay(f);m<p&&(p=m),b.columnsCount=p}}}}for(h=0;h<n.length;h++){var f,g=n[h];(f=this.getCollisionAppointments(g,n)).sort(this._sortAppointmentsByFrom);var v=1;for(var u in f){if("indexOf"==u)break;null!=(x=f[u]).columnsCount&&(v=Math.max(v,x.columnsCount))}for(var u in f){if("indexOf"==u)break;var x;(x=f[u]).columnsCount=v}if(1==f.length)g.columnSpan=v;else{var w=0,y=!0;for(d=g.column;d<v;d++){for(var u in f){if("indexOf"==u)break;var b;null!=(b=f[u]).column&&(b!=g&&b.column==d&&(y=!1))}if(!y)break;w++}g.columnSpan=w}}for(var _=0;_<n.length;_++){var j=o/n[_].columnsCount;(g=n[_]).width=j*g.columnSpan-5;var q=j*g.column;if(g.x=2+g.x+q,g.height-=5,g.y+=1,"exactTime"==r.appointmentsRenderMode){var T=s.getMinutesPerScale();if(g.appointment.from.minute()%T!=0)var C=g.appointment.from.minute()%T,S=parseFloat(s.cellHeight/T)*C;else S=0;if(g.appointment.to.minute()%T!=0){C=g.appointment.to.minute()%T;var k=s.cellHeight-parseFloat(s.cellHeight/T)*C;g.to.day()!==g.appointment.to.day()&&(k=0)}else k=0;g.y+=S,g.height-=S,g.height-=k}}for(_=0;_<n.length;_++){var I=n[_],D="",P="auto",A=(r=this._views[this._view],I.appointment.from),M=I.appointment.to;r.timeRuler&&r.timeRuler.formatString&&(P=r.timeRuler.formatString);var B=P;if("auto"===P){if(0==A.hour()&&0==A.minute()||12==A.hour()&&0==A.minute())B="hh tt";else B="hh:mm";if(0==M.hour()&&0==M.minute()||12==M.hour()&&0==M.minute())var H="hh tt";else H="hh:mm"}A.toString(B),M.toString(H);var z=I.appointment.background,E=I.appointment.subject?I.appointment.subject:"(No Title)",O=I.appointment.location?I.appointment.location:"",N=I.appointment.color,L=I.appointment.resourceId,R=s.getColors(s._resources.indexOf(L)),F=" data-resourceId='"+L+"' ",W=I.appointment.borderColor;z||(z=R.background),W||(W=R.border),N||(N=R.color);var V=I.appointment.isRecurrentAppointment(),G=I.appointment.isException(),U="",Y=s.toTP("jqx-scheduler-appointment-status"),K="",X=s.statuses[I.appointment.status],$=!1;X&&("transparent"==X?$=!1:(K="<div style='background: "+X+"; border-right-color: "+W+"' class='"+Y+"'></div>","tentative"==X&&(K="<div style='background-color: "+W+"; border-right-color: "+W+"' class='"+(Y=s.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),$=!0));var Z="";if(s.rtl)K="<div style='background: "+X+"; border-left-color: "+W+"' class='"+(Y=s.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==X&&(K="<div style='background-color: "+W+"; border-left-color: "+W+"' class='"+(Y=s.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),Z=K,K="";var J="",Q=E+"<br/>"+O;if(!O)Q=E;if(s.renderAppointment){var ee=s.renderAppointment({appointment:I.appointment.boundAppointment,textColor:N,background:z,borderColor:W,html:Q,cssClass:"",style:"",width:I.width,height:I.height,view:s._views[s._view].type});if(ee)if((D=ee.html)!=Q&&(Q=D),N=ee.textColor,z=ee.background,W=ee.borderColor,ee.cssClass&&(J=ee.cssClass+" "),""!=ee.style)z=(R=s.getAppointmentColors(ee.style)).background,W=R.border,N=R.color}if(""===U)if($)U="<div class='"+s.toTP("jqx-scheduler-appointment-content")+"'>"+K+"<div class='"+s.toTP("jqx-scheduler-appointment-inner-content")+"'>"+Q+"</div>"+Z+"</div>";else U="<div class='"+s.toTP("jqx-scheduler-appointment-content")+"'><div class='"+s.toTP("jqx-scheduler-appointment-inner-content")+"'>"+Q+"</div></div>";var te="";if(s.rtl&&(te=s.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),G){var ie="white"==N.toLowerCase()?s.toTP("jqx-icon-recurrence-exception-white"):s.toTP("jqx-icon-recurrence-exception");D="<div data-key='"+I.appointment.id+"'"+F+"class='"+te+J+s.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+I.x+"px; top: "+I.y+"px; width: "+I.width+"px; height: "+I.height+"px; border-color:"+W+"; color:"+N+"; background:"+z+";'><div class='"+ie+"'></div>"+U+"<div class='"+s.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+s.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"}else if(V){var se="white"==N.toLowerCase()?s.toTP("jqx-icon-recurrence-white"):s.toTP("jqx-icon-recurrence");D="<div data-key='"+I.appointment.id+"'"+F+"class='"+te+J+s.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+I.x+"px; top: "+I.y+"px; width: "+I.width+"px; height: "+I.height+"px; border-color:"+W+"; color:"+N+"; background:"+z+";'><div class='"+se+"'></div>"+U+"<div class='"+s.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+s.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"}else D="<div data-key='"+I.appointment.id+"'"+F+"class='"+te+J+s.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+I.x+"px; top: "+I.y+"px; width: "+I.width+"px; height: "+I.height+"px; border-color:"+W+"; color:"+N+"; background:"+z+";'>"+U+"<div class='"+s.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+s.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>";var re=Ne(D);if(re.appendTo(this.table),I.element=re,this.appointmentTooltips)if(I.appointment.tooltip)re[0].setAttribute("title",I.appointment.tooltip);else{var ne=I.appointment.subject;if(ne)(O=I.appointment.location)&&(ne+="\n"+O),re[0].setAttribute("title",ne)}}}}},getCollisionAppointments:function(e,t){for(var i=new Array,s=e.from,r=e.to,n=0;n<t.length;n++){var o=t[n],a=o.from,l=o.to;Ne.jqx.scheduler.utilities.rangeIntersection(s,r,a,l)&&i.push(o)}return i},getAllDayCollisionAppointments:function(e,t){for(var i=new Array,s=Ne.jqx.scheduler.utilities.getStartOfDay(e.from),r=Ne.jqx.scheduler.utilities.getEndOfDay(e.to),n=0;n<t.length;n++){var o=t[n],a=Ne.jqx.scheduler.utilities.getStartOfDay(o.from),l=Ne.jqx.scheduler.utilities.getEndOfDay(o.to);Ne.jqx.scheduler.utilities.rangeIntersection(s,r,a,l)&&i.push(o)}return i},_renderAppointments:function(e,t){var i=this;if(!i._appupdating){i.table.find(".jqx-scheduler-appointment").remove(),i.pinnedtable.find(".jqx-scheduler-appointment").remove();var s=i._views[i._view].type;"dayView"===s||"weekView"===s?i._renderDayWeekAppointments(e,t):"monthView"===s?i._renderMonthAppointments(e,t):"timelineWeekView"!==s&&"timelineDayView"!==s&&"timelineMonthView"!==s||i._renderTimelineAppointments(e,t),i.selectedJQXAppointment&&i._selectAppointment(i.selectedJQXAppointment)}},_renderTimelineAppointments:function(e,t){for(var i=this,s=i._views[i._view].type,r=i._views[i._view],n=new Array,o=(this.rows,this.cellHeight),a=this.cellWidth,l=i.getMinutesPerScale(),d=0;d<this.appointmentsToRender.length;d++){var h=this.appointmentsToRender[d],c=h.from,u=h.to,p=i._getDateByString,m=new Array,f=c.toDate().valueOf(),g=u.toDate().valueOf();"timelineMonthView"===s&&(f=c.clearTime().toDate().valueOf());var v=i.rows[0],x=h.resourceId,w=i._resources.indexOf(x);if(0<i._resources.length&&"horizontal"!==i.resources.orientation&&1<=w&&(v=i.rows[w]),i.resources&&"none"==i.resources.orientation){w=-1;v=i.rows[0]}for(var y=v.cells,b=0;b<y.length;b++){var _=y[b].getAttribute("data-date");y[b].appointments=new Array;var j=p(_),q=j.valueOf(),T=p(_);T.setMinutes(T.getMinutes()+l-1);var C=T.valueOf();if(!(u<q)&&(f<=q&&q<g||f<=C&&C<g)){if(-1!=w&&1+w!=y[b].getAttribute("data-view"))continue;m.push({cell:y[b],date:j}),v=O}}m.sort(function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0});var S=new Array;if(0==(y=m).length)break;var k=i.appointmentsMinHeight;i.isTouchDevice()&&(k=i.touchAppointmentsMinHeight),r.appointmentHeight&&(k=r.appointmentHeight);var I=Ne(y[0].cell).position(),D=k,P=Ne(y[y.length-1].cell).position().left-I.left+a,A=I.left,M=I.top;if(i.rtl)I=Ne(y[y.length-1].cell).position(),P=Ne(y[0].cell).position().left-I.left+a,A=I.left,M=I.top;var B=new Ne.jqx.date(y[y.length-1].date,i.timeZone).addMinutes(l);if("timelineMonthView"===s)B=Ne.jqx.scheduler.utilities.getEndOfDay(new Ne.jqx.date(y[y.length-1].date,i.timeZone));var H={cellX:A,cellY:M,cellHeight:o,cells:y,x:A,y:M,height:D,width:P,appointment:h,from:new Ne.jqx.date(y[0].date,i.timeZone),to:B};S.push(H),n.push(H),h.elements=S,h.rootAppointment&&(h.rootAppointment.elements=h.rootAppointment.elements.concat(h.elements))}if(this._resources.length<2||"none"==this.resources.orientation)this._renderUITimelineAppointments(n,e,t);else for(b=0;b<this._resources.length;b++){for(var z=this._resources[b],E=new Array,O=0;O<n.length;O++)n[O].appointment.resourceId==z&&E.push(n[O]);this._renderUITimelineAppointments(E,e,t)}},_renderUITimelineAppointments:function(e,t,i){(u=this)._views[u._view].type;var s,r=u._views[u._view],n=e,u=this,o=new Array;s=u.getMaxTimelineAppointments(e,o,t,i);var a=u.appointmentsMinHeight;u.isTouchDevice()&&(a=u.touchAppointmentsMinHeight),r.appointmentHeight&&(a=r.appointmentHeight);for(var l=0;l<e.length;l++){(x=e[l]).row=-1,(v=u.getCollisionAppointments(x,e)).sort(u._sortAppointmentsByFrom);var d=v.indexOf(x);if(0<=d)for(var h=d;h<v.length;h++)v[h].row=-1;for(var c=0;c<s;c++){var p=c;for(var m in v){if("indexOf"==m)break;if(-1==(j=v[m]).row&&!u.isBusyRow(p,v)){j.row=p;var f=s,g=u.getMaxTimelineAppointments(v,o,t,i);g<f&&(f=g),j.rowsCount=f}}}}for(c=0;c<n.length;c++){var v,x=n[c];(v=u.getCollisionAppointments(x,n)).sort(u._sortAppointmentsByFrom);var w=1;for(var m in v){if("indexOf"==m)break;var y=v[m];w=Math.max(w,y.rowsCount)}for(var m in v){if("indexOf"==m)break;(y=v[m]).rowsCount=w}if(1==v.length)x.rowSpan=w;else{var b=0,_=!0;for(h=x.row;h<w;h++){for(var m in v){if("indexOf"==m)break;var j;(j=v[m])!=x&&(j.row==h&&(_=!1))}if(!_)break;b++}x.rowSpan=b}}for(var q=0;q<n.length;q++){var T=a,C=2+(3+((x=n[q]).height=T))*x.row;x.y=x.y+C,x.x+=1,x.width-=5;var S=u._views[u._view].type;r=u._views[u._view];if("timelineMonthView"==S&&r.appointmentsRenderMode){if(0!=x.appointment.from.hour()||23!=x.appointment.to.hour())if(u.rtl){k=parseFloat(u.cellWidth/24)*x.appointment.to.hour()+parseFloat(u.cellWidth/48)*(x.appointment.to.minute()/30),I=parseFloat(u.cellWidth/24)*x.appointment.from.hour()+parseFloat(u.cellWidth/48)*(x.appointment.from.minute()/30);0<k&&(k=u.cellWidth-k),"exactTime"==r.appointmentsRenderMode&&(x.x+=k,x.width-=k,x.width-=I),x.appointment.duration().days()<1&&x.width<15&&(x.width=15),x.timewidth=x.width,x.timex=k}else{var k=parseFloat(u.cellWidth/24)*x.appointment.from.hour()+parseFloat(u.cellWidth/48)*(x.appointment.from.minute()/30),I=parseFloat(u.cellWidth/24)*x.appointment.to.hour()+parseFloat(u.cellWidth/48)*(x.appointment.to.minute()/30);if(x.timewidth=x.width,x.timex=k,x.timewidth-=k,x.timewidth-=u.cellWidth,x.timewidth+=I,"exactTime"==r.appointmentsRenderMode&&(x.width=x.timewidth,x.x+=k,x.appointment.duration().days()<1&&x.width<15&&k+(x.width=15)>u.cellWidth)){var D=u.cellWidth-k-15;x.x+=D}}}else if(r.appointmentsRenderMode&&"exactTime"==r.appointmentsRenderMode){var P=u.getMinutesPerScale();if(x.appointment.from.minute()%P!=0){var A=x.appointment.from.minute()%P;k=parseFloat(u.cellWidth/P)*A;if(u.rtl)k=parseFloat(u.cellWidth/P)*A}else k=0;if(x.appointment.to.minute()%P!=0){A=x.appointment.to.minute()%P,I=u.cellWidth-parseFloat(u.cellWidth/P)*A;if(u.rtl)I=u.cellWidth-parseFloat(u.cellWidth/P)*A}else I=0;u.rtl?x.x+=I:x.x+=k,x.width-=k,x.width-=I}}for(q=0;q<n.length;q++){var M=n[q],B="";r=u._views[u._view],M.appointment.from,M.appointment.to;r.timeRuler&&r.timeRuler.formatString&&r.timeRuler.formatString;var H=M.appointment.background,z=M.appointment.subject?M.appointment.subject:"(No Title)";(ie=M.appointment.location)&&1<ie.length&&(ie=", "+ie);var E=M.appointment.color,O=M.appointment.resourceId,N=u.getColors(u._resources.indexOf(O)),L=" data-resourceId='"+O+"' ",R=M.appointment.borderColor;H||(H=N.background),R||(R=N.border),E||(E=N.color);var F=M.appointment.isRecurrentAppointment(),W=M.appointment.isException(),V="",G=u.toTP("jqx-scheduler-appointment-status"),U="",Y=u.statuses[M.appointment.status],K=!1;Y&&("transparent"==Y?K=!1:(U="<div style='background: "+Y+"; border-right-color: "+R+"' class='"+G+"'></div>","tentative"==Y&&(U="<div style='background-color: "+R+"; border-right-color: "+R+"' class='"+(G=u.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),K=!0));var X="";if(u.rtl)U="<div style='background: "+Y+"; border-left-color: "+R+"' class='"+(G=u.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==Y&&(U="<div style='background-color: "+R+"; border-left-color: "+R+"' class='"+(G=u.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),X=U,U="";var $="",Z=z+"<br/>"+ie;if(u.renderAppointment){var J=u.renderAppointment({appointment:M.appointment.boundAppointment,textColor:E,background:H,borderColor:R,html:Z,cssClass:"",style:"",width:M.width,height:M.height,view:u._views[u._view].type});if(J)if((B=J.html)!=Z&&(Z=B),E=J.textColor,H=J.background,R=J.borderColor,J.cssClass&&($=J.cssClass+" "),""!=J.style)H=(N=u.getAppointmentColors(J.style)).background,R=N.border,E=N.color}if(""===V)if(K)V="<div style='white-space:nowrap;' class='"+u.toTP("jqx-scheduler-appointment-content")+"'>"+U+"<div class='"+u.toTP("jqx-scheduler-appointment-inner-content")+"'>"+Z+"</div>"+X+"</div>";else V="<div style='white-space:nowrap;' class='"+u.toTP("jqx-scheduler-appointment-content")+"'><div class='"+u.toTP("jqx-scheduler-appointment-inner-content")+"'>"+Z+"</div></div>";var Q="";if(u.rtl&&(Q=u.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),W){var ee="white"==E.toLowerCase()?u.toTP("jqx-icon-recurrence-exception-white"):u.toTP("jqx-icon-recurrence-exception");B="<div data-key='"+M.appointment.id+"'"+L+"class='"+Q+$+u.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+M.x+"px; top: "+M.y+"px; width: "+M.width+"px; height: "+M.height+"px; line-height: "+M.height+"px; border-color:"+R+"; color:"+E+"; background:"+H+";'><div class='"+ee+"'></div>"+V+"<div class='"+u.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+u.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(F){var te="white"==E.toLowerCase()?u.toTP("jqx-icon-recurrence-white"):u.toTP("jqx-icon-recurrence");B="<div data-key='"+M.appointment.id+"'"+L+"class='"+Q+$+u.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+M.x+"px; top: "+M.y+"px; width: "+M.width+"px; height: "+M.height+"px; line-height: "+M.height+"px; border-color:"+R+"; color:"+E+"; background:"+H+";'><div class='"+te+"'></div>"+V+"<div class='"+u.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+u.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else B="<div data-key='"+M.appointment.id+"'"+L+"class='"+Q+$+u.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+M.x+"px; top: "+M.y+"px; width: "+M.width+"px; height: "+M.height+"px; line-height: "+M.height+"px; border-color:"+R+"; color:"+E+"; background:"+H+";'>"+V+"<div class='"+u.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+u.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";if((oe=Ne(B)).appendTo(this.table),M.element=oe,this.appointmentTooltips)if(M.appointment.tooltip)oe[0].setAttribute("title",M.appointment.tooltip);else{var ie,se=M.appointment.subject;if(se)(ie=M.appointment.location)&&(se+="\n"+ie),oe[0].setAttribute("title",se)}}var re=u.table.find(".jqx-scheduler-appointment"),ne=function(e){for(var t=0;t<re.length;t++){if(re[t].getAttribute("data-key")==e)return re[t]}};for(q=0;q<n.length;q++){M=n[q];var oe=Ne(ne(M.appointment.id));Ne.each(M.cells,function(e){var d=Ne(this.cell),h=M.cellY,c=(M.cellX,M.cellHeight);if(d[0].appointments||(d[0].appointments=new Array),d[0].appointments.push({ui:oe,appointment:M}),oe=oe,M.y+M.height>=h+c-12){oe[0].style.visibility="hidden";var t=d.find(".jqx-icon-arrow-down");0<t.length&&(t[0].style.display="block",t[0].mousedown=function(){u.openedMonthCellPopup&&u.openedMonthCellPopup.remove();var e=Ne("<div></div>"),t=(new Ne.jqx.date(d.attr("data-date"),u.timeZone),Ne("<div class='"+u.toTP("jqx-scheduler-month-cell")+"'><span style='float: right; cursor: pointer; width:16px; height: 16px;' class='"+u.toTP("jqx-icon-close")+"'></span></div>"));t.height(16),t.find("span")[0].mousedown=function(){e.remove()},t.addClass(u.toTP("jqx-widget-header")),e.addClass(u.toTP("jqx-widget")),e.addClass(u.toTP("jqx-window")),e.addClass(u.toTP("jqx-scheduler-month-cell-popup")),e.addClass(u.toTP("jqx-popup"));var i=Ne("<div></div>");e.append(t),e.append(i),i.addClass(u.toTP("jqx-widget-content"));for(var s=d.width(),r=21,n=0;n<d[0].appointments.length;n++){var o=d[0].appointments[n].ui.clone(!0);o.css("left","3px"),o.css("top","0px"),o.css("margin-top","2px"),o.css("position","relative"),o.css("visibility","visible"),o.width(s-6),o.click(function(e){var t=u.getJQXAppointmentByElement(u.getAppointmentElement(e.target));u._raiseEvent("appointmentClick",{appointment:t.boundAppointment})}),o.dblclick(function(e){var t=u.getJQXAppointmentByElement(u.getAppointmentElement(e.target));t.readOnly||u.editRecurrenceDialog.jqxWindow("isOpen")||u._editDialog&&(!u._editDialog||u._editDialog.jqxWindow("isOpen"))||!1!==u._initDialog(t)&&u._openDialog();u._raiseEvent("appointmentDoubleClick",{appointment:t.boundAppointment})}),r+=o.outerHeight()+4,i.append(o)}e.css("overflow","hidden"),e.css("position","absolute");var a=u.table.height()-h-25;a<c&&(a=c),e.css("max-height",a),e.height(r),e.width(s),e.css("z-index","9999");var l=d.position();e.css("top",l.top),e.css("left",l.left),u.table.append(e),u.openedMonthCellPopup=e})}})}},_renderMonthAppointments:function(){for(var e=this,t=(e._views[e._view].type,e._views[e._view]),i=new Array,s=(this.rows,Ne(".jqx-scheduler-month-cell:first").height()),r=0;r<this.appointmentsToRender.length;r++){var n=this.appointmentsToRender[r],o=Ne.jqx.scheduler.utilities.getStartOfDay(n.from),a=Ne.jqx.scheduler.utilities.getEndOfDay(n.to),l=(n.allDay,e._getDateByString),d=new Array,h=new Array,c=o.toDate().valueOf(),u=a.toDate().valueOf(),p=function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0},m=-1,f=n.resourceId,g=e._resources.indexOf(f);e.resources&&"none"==e.resources.orientation&&(g=-1);for(var v=0;v<e.rows.length;v++)for(var x=e.rows[v].cells,w=0;w<x.length;w++){var y=l(x[w].getAttribute("data-date")),b=y.valueOf();a<b||(x[w].appointments=new Array,-1!=g&&1+g!=x[w].getAttribute("data-view")||c<=b&&b<u&&(m!=v&&-1!=m&&(d.sort(p),h.push(d),d=new Array),d.push({cell:x[w],date:y}),m=v))}d.sort(p),h.push(d);var _=new Array;for(v=0;v<h.length;v++){if(0==(x=h[v]).length)break;var j=e.appointmentsMinHeight;e.isTouchDevice()&&(j=e.touchAppointmentsMinHeight),t.appointmentHeight&&(j=t.appointmentHeight);var q=j,T=(P=Ne(x[x.length-1].cell).position().left)-Ne(x[0].cell).position().left+e.columns.records[0].width;if(t.showWeekNumbers)T=P-Ne(x[0].cell).position().left+e.columns.records[1].width;var C=(D=Ne(x[0].cell).position()).left,S=D.top+s,k=Ne.jqx.scheduler.utilities.getEndOfDay(new Ne.jqx.date(x[x.length-1].date,e.timeZone)),I=new Ne.jqx.date(x[0].date,e.timeZone);if(e.rtl){var D,P;k=Ne.jqx.scheduler.utilities.getEndOfDay(new Ne.jqx.date(x[0].date,e.timeZone)),I=new Ne.jqx.date(x[x.length-1].date,e.timeZone),C=(D=Ne(x[x.length-1].cell).position()).left,S=D.top+s,T=(P=Ne(x[0].cell).position().left)-Ne(x[x.length-1].cell).position().left+e.columns.records[0].width;if(t.showWeekNumbers)T=P-Ne(x[x.length-1].cell).position().left+e.columns.records[1].width}var A={cells:x,cellY:parseInt(D.top),cellX:parseInt(D.left),lastCellY:parseInt(D.top),lastCellX:P,x:C,y:S,height:q,width:T,appointment:n,from:I,to:k};_.push(A),i.push(A)}n.elements=_,n.rootAppointment&&(n.rootAppointment.elements=n.rootAppointment.elements.concat(n.elements))}var M=this.getViewStart(),B=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var H=new Array,z=M,E=0;z<B;){H[E]=new Array;for(v=0;v<i.length;v++){z<=(N=i[v]).from&&N.to<z.addDays(7)&&(N.row=-1,N.rowSpan=1,H[E].push(N))}E++,z=z.addDays(7)}for(v=0;v<H.length;v++)0<H[v].length&&this._renderUIMonthAppointments(H[v])}else for(w=0;w<this._resources.length;w++){var O=this._resources[w];for(new Array,H=new Array,z=M,E=0;z<B;){H[E]=new Array;for(v=0;v<i.length;v++){var N;z<=(N=i[v]).from&&N.to<z.addDays(7)&&(N.row=-1,N.rowSpan=1,N.appointment.resourceId==O&&H[E].push(N))}E++,z=z.addDays(7)}for(v=0;v<H.length;v++)0<H[v].length&&this._renderUIMonthAppointments(H[v])}},_getMonthAppointmentsPerWeek:function(){var e=this,t=(e._views[e._view].type,e._views[e._view]),i=new Array,s=(this.rows,Ne(".jqx-scheduler-month-cell:first").height());if(!e.rows)return new Array;for(var r=this.getViewStart(),n=this.getViewEnd(),o=0;o<this.appointmentsToRender.length;o++){var a=this.appointmentsToRender[o],l=Ne.jqx.scheduler.utilities.getStartOfDay(a.from),d=Ne.jqx.scheduler.utilities.getEndOfDay(a.to),h=(a.allDay,e._getDateByString,new Array),c=new Array,u=l.toDate().valueOf(),p=d.toDate().valueOf(),m=function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0},f=-1,g=a.resourceId,v=e._resources.indexOf(g);e.resources&&"none"==e.resources.orientation&&(v=-1);for(var x=0;x<e.rows.length;x++)for(var w=e.rows[x].cells,y=0;y<w.length;y++){w[y].getAttribute("data-date");var b=r.addDays(7*x+y).toDate(),_=b.valueOf();d<_||(-1!=v&&1+v!=w[y].getAttribute("data-view")||u<=_&&_<p&&(f!=x&&-1!=f&&(h.sort(m),c.push(h),h=new Array),h.push({cell:w[y],date:b}),f=x))}h.sort(m),c.push(h);var j=new Array;for(x=0;x<c.length;x++){if(0==(w=c[x]).length)break;var q=e.appointmentsMinHeight;e.isTouchDevice()&&(q=e.touchAppointmentsMinHeight),t.appointmentHeight&&(q=t.appointmentHeight);var T=q,C=(A=Ne(w[w.length-1].cell).position().left)-Ne(w[0].cell).position().left+e.columns.records[0].width;if(t.showWeekNumbers)C=A-Ne(w[0].cell).position().left+e.columns.records[1].width;var S=(P=Ne(w[0].cell).position()).left,k=P.top+s,I=Ne.jqx.scheduler.utilities.getEndOfDay(new Ne.jqx.date(w[w.length-1].date,e.timeZone)),D=new Ne.jqx.date(w[0].date,e.timeZone);if(e.rtl){var P,A;I=Ne.jqx.scheduler.utilities.getEndOfDay(new Ne.jqx.date(w[0].date,e.timeZone)),D=new Ne.jqx.date(w[w.length-1].date,e.timeZone),S=(P=Ne(w[w.length-1].cell).position()).left,k=P.top+s,C=(A=Ne(w[0].cell).position().left)-Ne(w[w.length-1].cell).position().left+e.columns.records[0].width;if(t.showWeekNumbers)C=A-Ne(w[w.length-1].cell).position().left+e.columns.records[1].width}var M={cells:w,cellY:parseInt(P.top),cellX:parseInt(P.left),lastCellY:parseInt(P.top),lastCellX:A,x:S,y:k,height:T,width:C,appointment:a,from:D,to:I};j.push(M),i.push(M)}}if(this._resources.length<2||"none"==this.resources.orientation){for(var B=new Array,H=r,z=0;H<n;){B[z]=new Array;for(x=0;x<i.length;x++){H<=(L=i[x]).from&&L.to<H.addDays(7)&&(L.row=-1,L.rowSpan=1,B[z].push(L))}z++,H=H.addDays(7)}var E=new Array;for(x=0;x<B.length;x++)if(0<B[x].length){var O=this.getMaxMonthAppointments(B[x]);q=e.appointmentsMinHeight;e.isTouchDevice()&&(q=e.touchAppointmentsMinHeight),t.appointmentHeight&&(q=t.appointmentHeight),E.push(O*(q+3)+22)}else E.push("auto");return E}for(E=new Array,y=0;y<this._resources.length;y++){var N=this._resources[y];for(new Array,B=new Array,H=r,z=0;H<n;){B[z]=new Array;for(x=0;x<i.length;x++){var L;H<=(L=i[x]).from&&L.to<H.addDays(7)&&(L.row=-1,L.rowSpan=1,L.appointment.resourceId==N&&B[z].push(L))}z++,H=H.addDays(7)}for(x=0;x<B.length;x++)if(0<B[x].length){O=this.getMaxMonthAppointments(B[x]);E.push(O*(q+3)+22)}else E.push("auto");return E}},_renderUIMonthAppointments:function(e){var t,i=this._views[this._view],s=e,d=(this.getViewStart(),this.getViewEnd(),this);t=this.getMaxMonthAppointments(e);var r=d.appointmentsMinHeight;d.isTouchDevice()&&(r=d.touchAppointmentsMinHeight),i.appointmentHeight&&(r=i.appointmentHeight);var n=this._sortAppointmentsByFrom;this.rtl&&(n=this._sortAppointmentsByTo);for(var o=0;o<e.length;o++){(g=e[o]).row=-1,(f=this.getCollisionAppointments(g,e)).sort(n);var a=f.indexOf(g);if(0<=a)for(var l=a;l<f.length;l++)f[l].row=-1;for(var h=0;h<t;h++){var c=h;for(var u in f){if("indexOf"==u)break;if(-1==(b=f[u]).row&&!this.isBusyRow(c,f)){b.row=c;var p=t,m=this.getMaxMonthAppointments(f);m<p&&(p=m),b.rowsCount=p}}}}for(h=0;h<s.length;h++){var f,g=s[h];(f=this.getCollisionAppointments(g,s)).sort(n);var v=1;for(var u in f){if("indexOf"==u)break;var x=f[u];v=Math.max(v,x.rowsCount)}for(var u in f){if("indexOf"==u)break;(x=f[u]).rowsCount=v}if(1==f.length)g.rowSpan=v;else{var w=0,y=!0;for(l=g.row;l<v;l++){for(var u in f){if("indexOf"==u)break;var b;(b=f[u])!=g&&(b.row==l&&(y=!1))}if(!y)break;w++}g.rowSpan=w}}for(var _=0;_<s.length;_++){var j=r,q=2+(3+((g=s[_]).height=j))*g.row;if(g.y=g.y+q,g.x+=1,g.width-=5,0!=g.appointment.from.hour()||23!=g.appointment.to.hour())if(d.rtl){T=parseFloat(d.cellWidth/24)*g.appointment.to.hour()+parseFloat(d.cellWidth/48)*(g.appointment.to.minute()/30),C=parseFloat(d.cellWidth/24)*g.appointment.from.hour()+parseFloat(d.cellWidth/48)*(g.appointment.from.minute()/30);1<g.appointment.elements.length?g==g.appointment.elements[0]?0<C?"exactTime"==i.appointmentsRenderMode?(g.width-=d.cellWidth-T,g.width-=C):g.timewidth=g.width-d.cellWidth+T-C:(g.timewidth=g.width,g.timex=0):g==g.appointment.elements[g.appointment.elements.length-1]&&("exactTime"==i.appointmentsRenderMode&&(g.x+=d.cellWidth,g.x-=T,g.width+=T,g.width-=d.cellWidth),g.timewidth=g.width-d.cellWidth+T,g.timex=d.cellWidth-T):("exactTime"==i.appointmentsRenderMode&&(g.x+=d.cellWidth,g.x-=T,g.width-=d.cellWidth-T,g.width-=C),g.appointment.duration().days()<1&&g.width<15&&(g.width=15),g.timewidth=g.width-d.cellWidth+T-C,g.timex=d.cellWidth-T)}else{var T=parseFloat(d.cellWidth/24)*g.appointment.from.hour()+parseFloat(d.cellWidth/48)*(g.appointment.from.minute()/30);g.timewidth=g.width,g.from.clearTime().toString()==g.appointment.from.clearTime().toString()?g.timex=T:T=0,1<g.appointment.elements.length&&g.appointment.elements[0]!=g&&(T=0);var C=parseFloat(d.cellWidth/24)*g.appointment.to.hour()+parseFloat(d.cellWidth/48)*(g.appointment.to.minute()/30);if(1<g.appointment.elements.length&&g.appointment.elements[g.appointment.elements.length-1]!=g&&(C=0),g.timewidth-=T,0<C&&(g.timewidth-=d.cellWidth,g.timewidth+=C),"exactTime"==i.appointmentsRenderMode&&(g.from.clearTime().toString()==g.appointment.from.clearTime().toString()&&(g.x+=T),g.width=g.timewidth,g.appointment.duration().days()<1&&g.width<15&&T+(g.width=15)>d.cellWidth)){var S=d.cellWidth-T-15;g.x+=S}}}for(_=0;_<s.length;_++){var k=s[_],I="",D="auto",P=(i=this._views[this._view],k.appointment.from),A=k.appointment.to;D="auto",i=this._views[this._view],P=k.appointment.from,A=k.appointment.to;i.timeRuler&&i.timeRuler.formatString&&(D=i.timeRuler.formatString);var M=D,B=D;if("auto"===D){if(0==P.hour()&&0==P.minute()||12==P.hour()&&0==P.minute())M="hh tt";else M="hh:mm";if(0==A.hour()&&0==A.minute()||12==A.hour()&&0==A.minute())B="hh tt";else B="hh:mm"}var H=P.toString(M),z=A.toString(B),E=k.appointment.duration(),O=k.appointment.allDay||23===E.hours&&59===E.minutes&&59===E.seconds,N=k.appointment.background,L=k.appointment.subject?k.appointment.subject:"(No Title)",R=k.appointment.color,F=k.appointment.resourceId,W=d.getColors(d._resources.indexOf(F)),V=" data-resourceId='"+F+"' ",G=k.appointment.borderColor;(de=k.appointment.location)&&1<de.length&&(de=", "+de),N||(N=W.background),G||(G=W.border),R||(R=W.color);var U=k.appointment.isRecurrentAppointment(),Y=k.appointment.isException(),K="",X=d.toTP("jqx-scheduler-appointment-status"),$="",Z=d.statuses[k.appointment.status],J=!1;Z&&("transparent"==Z?J=!1:($="<div style='background: "+Z+"; border-right-color: "+G+"' class='"+X+"'></div>","tentative"==Z&&($="<div style='background-color: "+G+"; border-right-color: "+G+"' class='"+(X=d.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),J=!0));var Q=d.toTP("jqx-scheduler-appointment-duration-status"),ee="<div style='width: "+k.timewidth+"px; left: "+k.timex+"px;' class='"+Q+"'></div>";O&&(ee=""),"exactTimeStatus"!=i.appointmentsRenderMode&&(ee="");var te="";if(d.rtl)$="<div style='background: "+Z+"; border-left-color: "+G+"' class='"+(X=d.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==Z&&($="<div style='background-color: "+G+"; border-left-color: "+G+"' class='"+(X=d.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),te=$,$="";var ie="",se=L+de;if(O||(se=L+de+ee),d.renderAppointment){var re=d.renderAppointment({appointment:k.appointment.boundAppointment,textColor:R,background:N,borderColor:G,html:se,cssClass:"",style:"",width:k.width,height:k.height,view:d._views[d._view].type});if(re)if((I=re.html)!=se&&(se=I),R=re.textColor,N=re.background,G=re.borderColor,re.cssClass&&(ie=re.cssClass+" "),""!=re.style)N=(W=d.getAppointmentColors(re.style)).background,G=W.border,R=W.color}if(""===K)if(J)K="<div style='white-space:nowrap;' class='"+d.toTP("jqx-scheduler-appointment-content")+"'>"+$+"<div class='"+d.toTP("jqx-scheduler-appointment-inner-content")+"'>"+se+"</div>"+te+"</div>";else K="<div style='white-space:nowrap;' class='"+d.toTP("jqx-scheduler-appointment-content")+"'><div class='"+d.toTP("jqx-scheduler-appointment-inner-content")+"'>"+se+"</div></div>";var ne="";if(d.rtl&&(ne=d.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),Y){var oe="white"==R.toLowerCase()?d.toTP("jqx-icon-recurrence-exception-white"):d.toTP("jqx-icon-recurrence-exception");I="<div data-key='"+k.appointment.id+"'"+V+"class='"+ne+ie+d.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+k.x+"px; top: "+k.y+"px; width: "+k.width+"px; line-height: "+k.height+"px; height: "+k.height+"px; border-color:"+G+"; color:"+R+"; background:"+N+";'><div class='"+oe+"'></div>"+K+"<div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(U){var ae="white"==R.toLowerCase()?d.toTP("jqx-icon-recurrence-white"):d.toTP("jqx-icon-recurrence");I="<div data-key='"+k.appointment.id+"'"+V+"class='"+ne+ie+d.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+k.x+"px; top: "+k.y+"px; width: "+k.width+"px; line-height: "+k.height+"px; height: "+k.height+"px; border-color:"+G+"; color:"+R+"; background:"+N+";'><div class='"+ae+"'></div>"+K+"<div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else I="<div data-key='"+k.appointment.id+"'"+V+"class='"+ne+ie+d.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+k.x+"px; top: "+k.y+"px; width: "+k.width+"px; line-height: "+k.height+"px; height: "+k.height+"px; border-color:"+G+"; color:"+R+"; background:"+N+";'>"+K+"<div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";var le=Ne(I);if(le.appendTo(this.table),k.element=le,this.appointmentTooltips)if(k.appointment.tooltip)le[0].setAttribute("title",k.appointment.tooltip);else{var de,he=k.appointment.subject;if(H&&!O&&(he=H+" - "+z+" "+he),he)(de=k.appointment.location)&&(he+="\n"+de),le[0].setAttribute("title",he)}Ne.each(k.cells,function(){var a=Ne(this.cell),l=a.position();if(a[0].appointments||(a[0].appointments=new Array),a[0].appointments.push({ui:le,appointment:k}),k.y+k.height+2>=l.top+a.height()){le.css("visibility","hidden");var e=a.find(".jqx-icon-arrow-down");e.show(),e[0]&&(e[0].mousedown=function(){d.openedMonthCellPopup&&d.openedMonthCellPopup.remove();var e=Ne("<div></div>"),t=a.find("div").clone(!0);t.find("span").removeClass().addClass(d.toTP("jqx-icon-close")),t.find("span")[0].mousedown=function(){e.remove()},t.addClass(d.toTP("jqx-widget-header")),e.addClass(d.toTP("jqx-widget")),e.addClass(d.toTP("jqx-window")),e.addClass(d.toTP("jqx-scheduler-month-cell-popup")),e.addClass(d.toTP("jqx-popup"));var i=Ne("<div></div>");e.append(t),e.append(i),i.addClass(d.toTP("jqx-widget-content jqx-disableselect"));for(var s=a.width(),r=5+a.find("div").outerHeight(),n=0;n<a[0].appointments.length;n++){var o=a[0].appointments[n].ui.clone(!0);o.css("left","3px"),o.css("top","0px"),o.css("margin-top","2px"),o.css("position","relative"),o.css("visibility","visible"),o.width(s-6),r+=o.outerHeight()+4,i.append(o),o.click(function(e){var t=d.getJQXAppointmentByElement(d.getAppointmentElement(e.target));d._raiseEvent("appointmentClick",{appointment:t.boundAppointment})}),o.dblclick(function(e){var t=d.getJQXAppointmentByElement(d.getAppointmentElement(e.target));t.readOnly||d.editRecurrenceDialog.jqxWindow("isOpen")||d._editDialog&&(!d._editDialog||d._editDialog.jqxWindow("isOpen"))||!1!==d._initDialog(t)&&d._openDialog();d._raiseEvent("appointmentDoubleClick",{appointment:t.boundAppointment})})}e.css("overflow","hidden"),e.css("position","absolute"),e.height(r),e.width(s),e.css("z-index","9999"),e.css("top",l.top),e.css("left",l.left),d.table.append(e),d.openedMonthCellPopup=e})}})}},_sortByDate:function(e,t){var i=e.getAttribute("data-date");i=this._getDateByString(i);var s=t.getAttribute("data-date");return i<(s=this._getDateByString(s))?-1:s<i?1:i==s?0:void 0},_sortAppointmentsByFrom:function(e,t){if(e.from.equals(t.from)){var i=1e4*(e.to-e.from);if(1e4*(t.to-t.from)<i)return-1}return e.from<t.from?-1:e.from>t.from?1:e.from==t.from?0:void 0},_sortAppointmentsByTo:function(e,t){if(e.to.equals(t.to)){var i=1e4*(e.to-e.from);if(1e4*(t.to-t.from)<i)return-1}return e.to<t.to?-1:e.to>t.to?1:e.to==t.to?0:void 0},_sortAppointmentsByResourceId:function(e,t,i){var s=i._resources.indexOf(e.resourceId),r=i._resources.indexOf(t.resourceId);return s==r?0:s<r?-1:r<s?-1:void 0},isBusyRow:function(e,t){for(var i=0;i<t.length;i++){if(t[i].row==e)return!0}return!1},isBusyColumn:function(e,t){for(var i=0;i<t.length;i++){if(t[i].column==e)return!0}return!1},getMaxTimelineAppointments:function(e,t,i,s){if(0==e.length)return 1;var r=this._views[this._view].type,n=(this._views[this._view],1),o=i,a=this.getMinutesPerScale(),l=null,d=null,h="";for(var c in e){if("indexOf"==c)break;var u=e[c];l||(l=u.from),d||(d=u.to),l=Math.min(u.from,l),d=Math.max(u.to,d),h+=u.appointment.id}if(h+=l,t[h+=d])return t[h];l=new Ne.jqx.date(l,this.timeZone),d=new Ne.jqx.date(d,this.timeZone);for(o=l;l<d;){var p=o;if("timelineMonthView"===r)var m=p.addDays(1);else m=p.addMinutes(a);var f=0;for(var c in e){if("indexOf"==c)break;var g=(u=e[c]).from,v=u.to;Ne.jqx.scheduler.utilities.rangeIntersection(p,m,g,v)&&f++}n=Math.max(f,n),o="timelineMonthView"===r?o.addDays(1,!1):o.addMinutes(a,!1)}return t[h]=n},getMaxMonthAppointments:function(e){this._views[this._view].type,this._views[this._view];if(0==e.length)return 1;for(var t=1,i=this.getViewStart().clone(),s=this.getViewEnd();i<s;){var r=i,n=Ne.jqx.scheduler.utilities.getEndOfDay(r),o=0;for(var a in e){if("indexOf"==a)break;var l=e[a],d=l.from,h=l.to;Ne.jqx.scheduler.utilities.rangeIntersection(r,n,d,h)&&o++}t=Math.max(o,t),i=i.addDays(1,!1)}return t},getMaxAllDayAppointments:function(e){this._views[this._view].type,this._views[this._view];var u=this;if(0==e.length)return 1;var t=function(e){for(var t=1,i=u.getViewStart(),s=u.getViewEnd();i<s;){var r=i,n=Ne.jqx.scheduler.utilities.getEndOfDay(r),o=0;for(var a in e){if("indexOf"==a)break;var l=e[a],d=l;if(l.appointment&&(d=l.appointment),1!=d.hidden&&d.duration&&(d.allDay||1<=d.duration().days())){var h=l.from,c=l.to;Ne.jqx.scheduler.utilities.rangeIntersection(r,n,h,c)&&o++}}t=Math.max(o,t),i=i.addDays(1,!1)}return t};if(this._resources.length<2||!this.resources.orientation||"none"==this.resources.orientation)var i=t(e);else{for(var s=1,r=0;r<this._resources.length;r++){for(var n=this._resources[r],o=new Array,a=0;a<e.length;a++)e[a].appointment&&e[a].appointment.resourceId==n?o.push(e[a]):null!=e[a].resourceId&&e[a].resourceId==n&&o.push(e[a]);i=t(o);s=Math.max(s,i)}i=s}return i},getMinutesPerScale:function(){this._views[this._view].type;var e=this._views[this._view],t=30,i="halfHour";switch(e.timeRuler&&e.timeRuler.scale&&(i=e.timeRuler.scale),i){case"sixtyMinutes":case"hour":t=60;break;case"thirtyMinutes":case"halfHour":t=30;break;case"fifteenMinutes":case"quarterHour":t=15;break;case"tenMinutes":t=10;break;case"fiveMinutes":t=5}return t},getMaxColumnsInADay:function(e){this._views[this._view].type;var t=this._views[this._view],i=30,s="halfHour";switch(t.timeRuler&&t.timeRuler.scale&&(s=t.timeRuler.scale),s){case"sixtyMinutes":case"hour":i=60;break;case"thirtyMinutes":case"halfHour":i=30;break;case"fifteenMinutes":case"quarterHour":i=15;break;case"tenMinutes":i=10;break;case"fiveMinutes":i=5}if(0==e.length)return 1;for(var r=1,n=e[0].from.clone(),o=n.addMinutes(i),a=Ne.jqx.scheduler.utilities.getEndOfDay(n);n<a;){var l=n,d=o,h=0;for(var c in e){if("indexOf"==c)break;var u=e[c];if(u.from||u.to){var p=u.from,m=u.to;Ne.jqx.scheduler.utilities.rangeIntersection(l,d,p,m)&&h++}}r=Math.max(h,r),n=n.addMinutes(i,!1),o=o.addMinutes(i,!1)}return r},getTouches:function(e){return Ne.jqx.mobile.getTouches(e)},_updatecolumnwidths:function(){var c=this._hostWidth,u=c;"hidden"!==this.vScrollBar.css("visibility")&&0<this.scrollBarSize&&(c-=parseInt(this.scrollBarSize)+6,this.rtl&&(c+=3),u=c);if(null!=this.columns&&null!=this.columns.records){var p=this,m=!1,f=new Array;Ne.each(this.columns.records,function(e,t){if(!this.hidden){if(-1!=this.width.toString().indexOf("%")||null!=this._percentagewidth){t=0,"hidden"==p.vScrollBar[0].style.visibility||p.scrollBarSize;0==p.scrollBarSize&&0,t=parseFloat(this.width)*u/100,null!=this._percentagewidth&&(t=parseFloat(this._percentagewidth)*u/100),t<this.minwidth&&"auto"!=this.minwidth&&(t=this.minwidth),t>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),c-=Math.round(t)}else"auto"==this.width||this._width?this.text:c-=this.width;"auto"==this._width&&(f[f.length]=this)}});var e=this.columnsheader.find("#columntable"+this.element.id);if(0!=e.length){var g=0,v=(e.find(".jqx-grid-column-header"),0);Ne.each(this.columns.records,function(e,t){var i=this.element,s=!1,r=this.width,n=this.width;if(-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(r=null!=this._percentagewidth?parseFloat(this._percentagewidth)*u/100:parseFloat(this.width)*u/100,r=Math.round(r),s=!0),"auto"==this.width||this._width||s)if(s)r<this.minwidth&&"auto"!=this.minwidth&&(r=this.minwidth,this.width=r),r>this.maxwidth&&"auto"!=this.maxwidth&&(r=this.maxwidth,this.width=r),parseInt(i[0].style.width)!=r&&(i.width(r),this.width=r);else{var o=p.columns.records.length,a=p._views[p._view].type;if("dayView"===a||"weekView"===a){var l=p._views[p._view];l.timeRuler&&l.timeRuler.timeZones&&(o-=l.timeRuler.timeZones.length),o--}else"monthView"===a&&p._views[p._view].showWeekNumbers&&o--;var d=Math.floor(c*(1/o));if(p.resources&&p.resources.resourceColumnWidth&&"auto"!=p.resources.resourceColumnWidth?d=p.resources.resourceColumnWidth:p.resources&&p.resources.resourceColumnWidth&&"auto"==p.resources.resourceColumnWidth&&"horizontal"==p.resources.orientation&&(d=Math.round((2+c)*(1/p._getColumnsLengthPerView()))),1<=(g+=c*(1/o)-d)&&(g-=1,d++),.5<=g&&e==p.columns.records.length-1&&d++,"agendaView"==a&&(d=c/f.length,d++),d<0){var h=Ne("<span>"+this.text+"</span>");Ne(document.body).append(h),d=10+h.width(),h.remove()}d<this.minwidth&&(d=this.minwidth),d>this.maxwidth&&(d=this.maxwidth),this._width="auto",this.width=parseInt(d),i.width(this.width)}else parseInt(i[0].style.width)!=this.width&&i.width(this.width);parseInt(i[0].style.left)!=v&&i.css("left",v),this.hidden||(v+=this.width),this._requirewidthupdate=!0,n!==this.width&&(m=!0)}),this.columnsheader.width(2+v),e.width(this.columnsheader.width()),this._resizecolumnGroups(),m&&(this._renderrows(),p._arrange())}}},_rendercolumnheaders:function(){var f=this;if(!this._updating){var g=this._views[this._view];this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var v=Ne('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');v[0].cells=new Array;var x=0;this._hostWidth||(this._hostWidth=this.host.width());var w=this._hostWidth,y=w,e=this.getRows().length,t=this.rowsHeight;this.isTouchDevice()&&(t=this.touchRowsHeight),e*t>this.host.height()&&(this.vScrollBar[0].style.visibility="inherit"),"hidden"!==this.vScrollBar.css("visibility")&&0<this.scrollBarSize&&(w-=parseInt(this.scrollBarSize)+6,this.rtl&&(w+=3),y=w);var i=new Array,b=new Array;if(Ne.each(this.columns.records,function(e,t){if(!this.hidden)if("auto"==this.width||this._width)this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)w-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)w-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){t=0;(t=parseFloat(this.width)*y/100)<this.minwidth&&"auto"!=this.minwidth&&(t=this.minwidth),t>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),w-=t}else"string"==typeof this.width&&(this.width=parseInt(this.width)),w-=this.width;null!=this.width&&"auto"!=this.width||(b[b.length]=this),i[i.length]=this}),this.rtl)for(var s=0;s<i.length;s++)this.columns.replace(s,i[s]);var _=this.headerZIndex,j=f.columnsHeight,q=0,T=document.createDocumentFragment();Ne.each(this.columns.records,function(e,t){var i,s;this.height=f.columnsHeight,f.columnGroups&&f.columnGroups.length&&(this.height=(this.datafield,i=this,s=f.columnGroupslevel*f.columnsHeight,s-=i.level*f.columnsHeight),j=this.height);var r=f.toTP("jqx-grid-column-header")+" "+f.toTP("jqx-widget-header");f.rtl&&(r+=" "+f.toTP("jqx-grid-column-header-rtl")),f.enableBrowserSelection||(r+=" "+f.toTP("jqx-disableselect"));var n=f.rtl?_++:_--,o=document.createElement("div");o.setAttribute("role","columnheader"),o.style.position="absolute",o.style.zIndex=n,o.style.height="100%",o.className=r;var a=Ne(o);f.rtl&&0===e&&(a[0].style.borderLeftColor="transparent"),f.columnGroups?(a[0].style.height=j+"px",a[0].style.bottom="0px"):this.timeColumn||(a[0].style.height=-1+j+"px"),this.uielement=a,this.element=a,""!=this.classname&&this.classname&&a.addClass(this.classname);var l=this.width,d=!1;if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(l=null!=this._percentagewidth?parseFloat(this._percentagewidth)*y/100:parseFloat(this.width)*y/100,l=Math.round(l),d=!0),"auto"==this.width||this._width||d)if(d)l<this.minwidth&&"auto"!=this.minwidth&&(l=this.minwidth),l>this.maxwidth&&"auto"!=this.maxwidth&&(l=this.maxwidth),null!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),a.width(l),this.width=l;else{var h=f.columns.records.length,c=f._views[f._view].type;if("dayView"===c||"weekView"===c){var u=f._views[f._view];u.timeRuler&&u.timeRuler.timeZones&&(h-=u.timeRuler.timeZones.length),h--}else"monthView"===c&&f._views[f._view].showWeekNumbers&&h--;var p=Math.floor(w*(1/h));f.resources&&f.resources.resourceColumnWidth&&"auto"!=f.resources.resourceColumnWidth?p=f.resources.resourceColumnWidth:f.resources&&f.resources.resourceColumnWidth&&"auto"==f.resources.resourceColumnWidth&&"horizontal"==f.resources.orientation&&(p=Math.round((2+w)*(1/f._getColumnsLengthPerView()))),1<=(q+=w*(1/h)-p)&&(q-=1,p++),.5<=q&&e==f.columns.records.length-1&&p++,isNaN(p)&&(p=this.minwidth),"agendaView"==c&&(p=w/b.length,p++),p<0&&($element=Ne("<span>"+this.text+"</span>"),Ne(document.body).append($element),p=10+$element.width(),$element.remove()),p<this.minwidth&&(p=this.minwidth),p>this.maxwidth&&(p=this.maxwidth),this._width="auto",this.width=parseInt(p),l=this.width,a.width(this.width)}else l<this.minwidth&&"auto"!=this.minwidth&&(l=this.minwidth),l>this.maxwidth&&"auto"!=this.maxwidth&&(l=this.maxwidth),a[0].style.width=parseInt(l)+"px";this.timeColumn&&(a.css("border-bottom-color","transparent"),g.timeRuler&&g.timeRuler.timeZones&&e<g.timeRuler.timeZones.length&&a.css("border-right-color","transparent"),1==this.tableRows&&a.addClass(f.toTP("jqx-scheduler-time-column"))),this.hidden&&a.css("display","none");Ne(a.children()[0]);v[0].cells[e]=a[0];var m=f._rendercolumnheader(this.text,this.align,j,f);a[0].innerHTML=m,T.appendChild(a[0]);a[0].style.left=x+"px",this.hidden||(x+=l)}),v[0].appendChild(T),this.columnsheader[0].style.width=0<x?2+x+"px":x+"px",this._columnswidth=x,this.columnsrow=v,f.columnsheader.append(v),v[0].style.width=x+"px",this.columnGroups&&this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(this.columnGroups){var e=this.headerZIndex+this.columns.records.length,t=this.toTP("jqx-grid-column-header")+" "+this.toTP("jqx-grid-columngroup-header")+" "+this.toTP("jqx-widget-header");this.rtl&&(t+=" "+this.toTP("jqx-grid-columngroup-header-rtl"));var i=this.columnsheader.find("#columntable"+this.element.id);i.find("jqx-grid-columngroup-header").remove();for(var s=0;s<this.columnGroupslevel-1;s++)for(var r=0;r<this.columnGroups.length;r++){var n=this.columnGroups[r],o=n.level;if(o===s){var a=o*this.columnsHeight,l=99999;if(n.groups){var d=function(e){for(var t=0,i=0;i<e.groups.length;i++){var s=e.groups[i];s.groups?t+=d(s):s.hidden||(t+=s.width,l=Math.min(parseInt(s.element[0].style.left),l))}return t};n.width=d(n),n.left=l;var h=this.columnsHeight,c=e--,u=Ne('<div role="columnheader" style="z-index: '+c+';position: absolute;" class="'+t+'"></div>'),p=Ne(this._rendercolumnheader(n.text,n.align,this.columnsHeight,this));n.renderer&&n.renderer(u,n.text),u.append(p),u[0].style.left=l+"px",0===l&&(u[0].style.borderLeftColor="transparent"),u[0].style.top=a+"px",u[0].style.height=h+"px",u[0].style.width=-1+n.width+"px",i.append(u),n.element=u}}}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var e=0;e<this.columnGroups.length;e++){var t=this.columnGroups[e],i=t.level*this.columnsHeight,r=99999;if(t.groups){var n=function(e){for(var t=0,i=0;i<e.groups.length;i++){var s=e.groups[i];s.groups?t+=n(s):(t+=s.width,r=Math.min(parseInt(s.element[0].style.left),r))}return t};t.width=n(t),t.left=r;var s=this.columnsHeight,o=t.element;o[0].style.left=r+"px",o[0].style.top=i+"px",o[0].style.height=s+"px",o[0].style.width=-1+t.width+"px"}}},_removecolumnhandlers:function(e){var t=Ne(e.element);if(0<t.length){this.removeHandler(t,"mouseenter"),this.removeHandler(t,"mouseleave");var i=Ne(e.filtericon);this.removeHandler(i,"mousedown"),this.removeHandler(i,"click"),this.removeHandler(t,"click")}},destroy:function(){var e=this;e._removeHandlers(),e._editDialog&&e._editDialog.jqxWindow("destroy"),e.menu&&e.menu.jqxMenu("destroy"),e.editRecurrenceDialog&&e.editRecurrenceDialog.jqxWindow("destroy"),e.vScrollBar.jqxScrollBar("destroy"),e.hScrollBar.jqxScrollBar("destroy"),delete e.vScrollBar,delete e.hScrollBar,delete e._mousewheelfunc,Ne.jqx.utilities.resize(e.host,null,!0),e.host.remove()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.host.height(e.height),e.host.width(e.width),e._updatesize(!1,!0))},propertyChangedHandler:function(e,t,i,s){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)&&s!==i)if("filterable"==t)e._render();else if("view"==t)e.setView(s);else if("views"==t){e._columns=null,e._views=new Array,e._view=e.view;for(var r=0;r<e.views.length;r++)"string"===Ne.type(e.views[r])?e._views.push({type:e.views[r]}):e._views.push(e.views[r]);for(r=0;r<e._views.length;r++)if(e._views[r].type==e.view){e._view=r;break}e._render()}else if("height"===t)e._hostWidth=null,e._hostHeight=null,e.host.height(e.height),e.host.width(e.width),e._updatesize(!1,!0);else if("width"===t)e._hostWidth=null,e._hostHeight=null,e.host.height(e.height),e.host.width(e.width),e._updatesize(!0,!1);else if("source"===t)e.updateBoundData();else if("resources"==t)e.updateBoundData();else if("columns"===t||"columnGroups"===t)e._columns=null,e._render();else if("selectionMode"===t)e.selectionMode=s.toLowerCase();else if("touchMode"==t)e._removeHandlers(),e.touchDevice=null,e.vScrollBar.jqxScrollBar({touchMode:s}),e.hScrollBar.jqxScrollBar({touchMode:s}),e.refresh(),e._addHandlers();else{if("enableHover"==t)return;"showLegend"==t?(e.legendbartop.show(),e.legendbarbottom.show(),e.refresh()):"disabled"==t?(s?e.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),e.host.find(".jqx-grid-group-collapse").css("cursor",s?"default":"pointer"),e.host.find(".jqx-grid-group-expand").css("cursor",s?"default":"pointer")):"columnsHeight"==t?e._render():"localization"==t?(e._render(),e.editRecurrenceDialog&&(e.editRecurrenceDialog.jqxWindow("destroy"),e.createEditRecurrenceDialog())):"theme"==t?(Ne.jqx.utilities.setTheme(i,s,e.host),e._editDialog&&Ne.jqx.utilities.setTheme(i,s,e._editDialog),e.editRecurrenceDialog&&Ne.jqx.utilities.setTheme(i,s,e.editRecurrenceDialog),e.menu&&e.menu.jqxMenu({theme:e.theme}),e.vScrollBar.jqxScrollBar({theme:e.theme}),e.hScrollBar.jqxScrollBar({theme:e.theme}),e.refresh()):"date"===t?e.navigateTo(s):e.refresh()}},_rendercolumnheader:function(e,t,i,s){var r="4px";s.columnGroups?((r=i/2-this._columnheight/2)<0&&(r=4),r+="px"):25!=this.columnsHeight&&((r=this.columnsHeight/2-this._columnheight/2)<0&&(r=4),r+="px");var n='<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+r+"; margin-top: "+r+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>";if(this.columnRenderer){var o=this.columnRenderer(e,t,i,n);if(null!=o)return o}return n}})}(jqxBaseFramework),function(M){M.jqx.scheduler||(M.jqx.scheduler={}),M.jqx.scheduler.utilities={weekDays:{Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()},areWeekDaysIncluded:function(e,i){var s=!1;return M.each(e,function(e,t){if(t===i)return!(s=!0)}),s},getStartOfDay:function(e){var t=new M.jqx.date(e.year(),e.month(),e.day(),0,0,0);return t.timeZone=e.timeZone,t},getEndOfDay:function(e){var t=new M.jqx.date(e.year(),e.month(),e.day(),23,59,59);return t.timeZone=e.timeZone,t},getDaysCount:function(e,t){for(var i=1;e<t;)e.day()!=t.day()&&i++,e=e.addDays(1);return i},getStartOfWeek:function(e,t){var i=e.dayOfWeek(),s=t.firstDay;i<s&&(i+=7);var r=i-s;return e.addDays(-r).date()},getEndOfWeek:function(e,t,i){return that.getStartOfWeek(e,dateTimeFormat,i).addDays(7)},getEndOfMonth:function(e,t){var i=e.daysInMonth(),s=new M.jqx.date(e.year(),e.month(),i,23,59,59);return s.timeZone=e.timeZone,s},rangeIntersection:function(e,t,i,s){var r=e.valueOf(),n=i.valueOf(),o=t.valueOf(),a=s.valueOf();if(r<=n&&n<o)return!0;if(n<r&&r<a)return!0;if(r==n||o==a)return!0;if(r<n){if(n<o&&o<a)return!0;if(a<o)return!0}else{if(r<a&&a<o)return!0;if(o<a)return!0}return!1},rangeContains:function(e,t,i,s){return e<=i&&s<=t},monthDays:[31,28,31,30,31,30,31,31,30,31,30,31],msPerDay:864e5,maxYear:9999,ORDINAL_BASE:new Date(1970,0,1),getYearDay:function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());return Math.ceil((t-new Date(e.getFullYear(),0,1))/M.jqx.scheduler.utilities.msPerDay)+1},isLeapYear:function(e){return e instanceof Date&&(e=e.getFullYear()),e%4==0&&e%100!=0||e%400==0},tzOffset:function(e){return 60*e.getTimezoneOffset()*1e3},monthRange:function(e,t){var i=new Date(e,t,1);return[M.jqx.scheduler.utilities.getWeekday(i),M.jqx.scheduler.utilities.getMonthDays(i)]},getMonthDays:function(e){var t=e.getMonth();return 1==t&&M.jqx.scheduler.utilities.isLeapYear(e)?29:M.jqx.scheduler.utilities.monthDays[t]},getWeekday:function(e){return[6,0,1,2,3,4,5][e.getDay()]},combine:function(e,t){return t=t||e,new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())},sort:function(e){e.sort(function(e,t){return e.getTime()-t.getTime()})},timeToUntilString:function(e){for(var t,i=new Date(e),s=[i.getUTCFullYear(),i.getUTCMonth()+1,i.getUTCDate(),"T",i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),"Z"],r=0;r<s.length;r++)t=s[r],!/[TZ]/.test(t)&&t<10&&(s[r]="0"+String(t));return s.join("")},untilStringToDate:function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/.exec(e);if(!t)throw new Error("Invalid UNTIL value: "+e);return new Date(Date.UTC(t[1],t[2]-1,t[3],t[5]||0,t[6]||0,t[7]||0))},Time:function(e,t,i){this.hour=e,this.minute=t,this.second=i,(this.that=this).getHours=function(){return that.hour},this.getMinutes=function(){return that.minute},this.getSeconds=function(){return that.second},this.getTime=function(){return 1e3*(60*that.hour*60+60*that.minute+that.second)}}},M.jqx.scheduler.appointment=function(){var n=this;if(n.from=new M.jqx.date,n.to=(new M.jqx.date).addHours(1),n.subject="",n.description="",n.location="",n.tooltip="",n.hidden=!1,n.resourceId=null,n.id="",n.background=null,n.color=null,n.borderColor=null,n.status="busy",n.style=null,n.exceptions=new Array,n.exceptionDates=new Array,n.recurrencePattern=null,n.recurrenceException=new Array,n.occurrenceEnumerator=null,n.rootAppointment=null,n.hiddenByResourceId=!1,n.draggable=!0,n.resizable=!0,n.recurrentAppointment=!1,n.allDay=!1,n.readOnly=!1,n.showStatus=!0,n.timeZone=null,n.scheduler=null,n.elements=new Array,n.appointmentObject=!0,n.duration=function(){var e=1e4*(n.to-n.from);return new M.jqx.timeSpan(e)},n.toJSON=function(e){var i=function(e){return(e<10?"0":"")+e},t=function(e,t){return e?t?e.getUTCFullYear()+"-"+i(e.getUTCMonth()+1)+"-"+i(e.getUTCDate())+"T"+i(e.getUTCHours())+":"+i(e.getUTCMinutes())+":"+i(e.getUTCSeconds())+"Z":e.getFullYear()+"-"+i(e.getMonth()+1)+"-"+i(e.getDate())+"T"+i(e.getHours())+":"+i(e.getMinutes())+":"+i(e.getSeconds())+"Z":""},s={};return s.id=n.id,s.from=t(n.from.toDate(),e),s.to=t(n.to.toDate(),e),s.subject=n.subject,s.status=n.status,s.location=n.location,s.description=n.description,s.title=n.title,s.resourceId=n.resourceId,n.recurrencePattern?s.recurrencePattern=n.recurrencePattern.toString():s.recurrencePattern="",n.recurrenceException&&0<n.recurrenceException.length?s.recurrenceException=function(){for(var e="",t=0;t<n.recurrenceException.length;t++)e+=n.recurrenceException[t].toString(),t<n.recurrenceException.length-1&&(e+=",");return e}():s.recurrenceException="",s.dtstamp=t(new Date,e),JSON.stringify(s)},n.toString=function(i){var e=function(e){for(var t="";75<e.length;)t+=e.substr(0,75)+"\n",e=" "+e.substr(75);return t+=e},s=function(e){return(e<10?"0":"")+e},r=function(e,t){return e?t?""+e.getFullYear()+s(e.getMonth()+1)+s(e.getDate())+"T"+s(e.getHours())+s(e.getMinutes())+s(e.getSeconds()):""+e.getUTCFullYear()+s(e.getUTCMonth()+1)+s(e.getUTCDate())+"T"+s(e.getUTCHours())+s(e.getUTCMinutes())+s(e.getUTCSeconds())+"Z":""},t=n.status;return t||(t="CONFIRMED"),"busy"==t.toLowerCase()&&(t="CONFIRMED"),"tentative"==t.toLowerCase()&&(t="TENTATIVE"),"free"==t.toLowerCase()&&(t="CANCELLED"),"outOfOffice"==t.toLowerCase()&&(t="CANCELLED"),"BEGIN:VEVENT\nUID:"+n.id+"\nDTSTAMP:"+r(new Date,i)+"\n"+e("TITLE:"+n.subject)+"\nDTSTART:"+r(n.from.toDate(),i)+"\nDTEND:"+r(n.to.toDate(),i)+"\n"+(n.recurrencePattern?"RRULE:"+n.recurrencePattern.toString()+"\n":"")+(n.recurrenceException&&0<n.recurrenceException.length?"EXDATE:"+function(){for(var e="",t=0;t<n.recurrenceException.length;t++)e+=r(n.recurrenceException[t].toDate(),i),t<n.recurrenceException.length-1&&(e+=",");return e}()+"\n":"")+(n.subject?e("SUMMARY:"+n.subject)+"\n":"")+"TRANSP:OPAQUE\n"+(n.status?e("STATUS:"+t)+"\n":"")+(n.description?e("DESCRIPTION:"+n.description)+"\n":"")+(n.location?e("LOCATION:"+n.location)+"\n":"")+"END:VEVENT"},n.range=function(){return n.allDay?{from:M.jqx.scheduler.utilities.getStartOfDay(n.from),to:M.jqx.scheduler.utilities.getEndOfDay(n.to)}:{from:n.from,to:n.to}},n.clearRecurrence=function(){n.recurrencePattern&&(n.exceptions=new Array,n.exceptionDates=new Array,n.recurrencePattern=null,n.recurrenceException=new Array,n.hidden=!1)},n.isAllDayAppointment=function(){return 1<=this.duration().days()||this.allDay},n.cloneAppointmentAttributes=function(e){e.subject=n.subject,e.description=n.description,e.location=n.location,e.tooltip=n.tooltip,e.resourceId=n.resourceId,e.category=n.category,e.status=n.status,e.rootAppointment=n,e.color=n.color,e.borderColor=n.borderColor,e.background=n.background,e.hidden=n.hidden,e.timezone=n.timeZone,e.style=n.style,e.hiddenByResourceId=n.hiddenByResourceId},n.createOccurrence=function(e){if(null==e)return null;var t=new M.jqx.scheduler.appointment;t.allDay=n.allDay;var i=n.duration();return n.allDay&&(i=new M.jqx.timeSpan(1e4*(n.to-n.from))),t.from=e,t.to=e.add(i),t.occurrenceFrom=e.clone(),t.subject=n.subject,t.description=n.description,t.location=n.location,t.tooltip=n.tooltip,t.resourceId=n.resourceId,t.category=n.category,t.status=n.status,t.rootAppointment=n,t.color=n.color,t.draggable=n.draggable,t.resizable=n.resizable,t.borderColor=n.borderColor,t.background=n.background,t.recurrentAppointment=!0,t.timeZone=n.timeZone,t.style=n.style,t.hiddenByResourceId=n.hiddenByResourceId,t.boundAppointment=n.boundAppointment,n.hiddenByResourceId&&(t.hidden=!0),t.id=n.id+"."+M.jqx.scheduler.utilities.guid(),n.hidden=!0,n.occurrenceIndex++,t},n.clone=function(){var e=new M.jqx.scheduler.appointment;return e.allDay=n.allDay,e.from=n.from.clone(),e.to=n.to.clone(),e.subject=n.subject,e.description=n.description,e.location=n.location,e.tooltip=n.tooltip,e.resourceId=n.resourceId,e.category=n.category,e.status=n.status,e.color=n.color,e.borderColor=n.borderColor,e.background=n.background,e.style=n.style,e.timeZone=n.timeZone,e.hiddenByResourceId=n.hiddenByResourceId,n.hiddenByResourceId&&(e.hidden=!0),e.id=n.id+"."+M.jqx.scheduler.utilities.guid(),e},n.isRecurrentAppointment=function(){return n.recurrentAppointment||null!=n.recurrencePattern},n.anyExceptions=function(){return null!=n.exceptions&&0<n.exceptions.length},n.anyOccurrences=function(){return null!=n.occurrenceEnumerator&&n.occurrenceEnumerator.getNextAppointment()},n.isException=function(){var e=n.rootAppointment||this;if(!e.recurrenceException)return!1;for(var t=0;t<e.recurrenceException.length;t++){var i=e.recurrenceException[t];if(n.occurrenceFrom&&i.equals(n.occurrenceFrom))return!0}return!1},n.getOccurrences=function(e,t){n.occurrenceIndex=0;var i=null!==e?e:n.from,s=new M.jqx.scheduler.recurrentAppointmentsList(n,n.calendar,i,t,n.scheduler);return n.occurrences=s.list,s.list},1===arguments.length)if("object"==M.type(arguments[0]))for(var e in arguments[0]){var t=arguments[0][e];void 0!==this[e]&&(this[e]=t)}else n.from=arguments[0],n.to=new M.jqx.date(n.from).addHours(1);else 2===arguments.length?(n.from=arguments[0],n.to=arguments[1]):3===arguments.length?(n.from=arguments[0],n.to=arguments[1],n.subject=arguments[2]):3===arguments.length&&(n.from=arguments[0],n.to=arguments[1],n.subject=arguments[2],n.description=arguments[3]);null!=n.recurrencePattern&&n.recurrencePattern.setFrom(n.from)},M.jqx.scheduler.recurrentAppointmentsList=function(){var a=this;return a.recurrentAppointment=null,a.currentTime=null,a.calendar=M.jqx.scheduler.calendar,a.from=new M.jqx.date(0),a.to=new M.jqx.date(9999,12,31),a.foundItems=0,a.list=new Array,a.scheduler=null,a.getOccurrences=function(e,t,i){return null==e?a.list:new M.jqx.scheduler.recurrentAppointmentsList(e,a.calendar,t,i).list},a.current=function(){return a.recurrentAppointment.createOccurrence(a.currentTime)},a.fillList=function(){a.currentTime=null,a.foundItems=0,a.list=new Array;var e=a.recurrentAppointment.recurrencePattern;if(e.step=0,e.current=0,e.currentYearDay=0,null==e)return!1;for(;a.getNextAppointment(e);){var t=a.current();t&&a.list.push(t)}},a.getNextAppointment=function(e){if(null==a.recurrentAppointment)return!1;this.scheduler._views[this.scheduler._view].type;var t=this.scheduler._views[this.scheduler._view],i=0;switch(e.freq){case"weekly":i=7;break;case"monthly":i=31;break;case"yearly":i=365}for(var s=0;s<4294967295;s++){var r=e.getNewOccurenceDate();if(e.currentTime=r,e.to<r&&e.to.addDays(i)>=r||a.to<r&&a.to.addDays(i)>=r)return!(a.currentTime=null);if(e.to.addDays(i)<r||a.to.addDays(i)<r)return a.currentTime=null,!1;var n=!0;if(n=a.getCanSetTime(e,r,n),e.canCreateNewOccurence(r,a.calendar)){var o=!0;!1===t.showWeekends&&(6!=r.dayOfWeek()&&0!=r.dayOfWeek()||(o=!1)),o&&a.foundItems++}if(n)return a.currentTime=r,!(a.foundItems>e.count)}return!1},a.getCanSetTime=function(e,t,i){return e.canCreateNewOccurence(t,a.calendar)||(i=!1),t<a.from&&t.add(a.recurrentAppointment.duration())<=a.from&&(i=!1),a.to<=t&&(i=!1),i},a.isException=function(e,t,i){for(var s=a.recurrentAppointment.exceptions,r=0;r<s.length;r++)if(i.isDateInExceptionAppointment(e,t,s[r])&&-1===i.newExceptions.indexOf(s[r]))return!0;return!1},arguments&&0<arguments.length&&(a.recurrentAppointment=arguments[0],arguments[1]&&(a.calendar=arguments[1]),arguments[2]&&(a.from=arguments[2]),arguments[3]&&(a.to=arguments[3]),arguments[4]&&(a.scheduler=arguments[4]),void 0===arguments[2]&&(a.from=new M.jqx.date(0),a.to=new M.jqx.date(9999,12,31)),a.fillList()),a},M.jqx.scheduler.recurrencePattern=function(){var y=this,e={from:new M.jqx.date(0),to:new M.jqx.date(9999,12,31),count:1e3,interval:1,exceptions:new Array,newExceptions:new Array,month:1,day:1,current:0,currentYearDay:0,step:0,days:[],bynweekday:[],isEveryWeekDay:!0,timeZone:null,weekDays:{Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},freq:"daily",bymonth:null,bymonthday:null,byyearday:null,byweekno:null,byweekday:null};return M.extend(!0,y,e),y.getNewOccurenceDate=function(){var e=function(e,t){var i=0,s=[];if(e instanceof Array)for(;i<t;i++)s[i]=[].concat(e);else for(;i<t;i++)s[i]=e;return s},t=function(e,t){var i=e%t;return i*t<0?i+t:i},s=function(e,t){1===arguments.length&&(t=e,e=0);for(var i=[],s=e;s<t;s++)i.push(s);return i},r=[0,31,60,91,121,152,182,213,244,274,305,335,366],n=[0,31,59,90,120,151,181,212,243,273,304,334,365],i=y.from.year(),o=[6,0,1,2,3,4,5],a=function(e){y.yearlen=e%4!=0||e%100==0&&e%400!=0?365:366,y.nextyearlen=(1+e)%4!=0||(1+e)%100==0&&(1+e)%400!=0?365:366;new Date(e,0,1);var t=o[new Date(e,0,1).getDay()],i=function(){for(var e=[],t=0;t<55;t++)e=e.concat(s(7));return e}();365==y.yearlen?(y.wdaymask=i.slice(t),y.mrange=[].concat(n)):(y.wdaymask=i.slice(t),y.mrange=[].concat(r))};switch(a(i),y.freq){case"daily":default:var l=y.from.add(new M.jqx.timeSpan(y.step*y.interval,0,0,0));return y.step++,l;case"weekly":if(y.byweekday){if(l=(l=new M.jqx.date(y.from,y.timeZone)).addDays(y.step*y.interval*7),1<=y.step)var d=(l=l.addDays(-y.from.dayOfWeek())).addDays(7);else d=l.addDays(7-y.from.dayOfWeek());for(var h=l,c=0;c<7&&o[h.dayOfWeek()]!==y.byweekday[y.current]&&!(d<=h);c++)h=h.addDays(1);l=h,y.current++,null==y.byweekday[y.current]&&(y.current=0,y.step++)}return l;case"monthly":if(0<y.bynweekday.length){(l=new M.jqx.date(y.from.year(),y.from.month(),1,y.from.hour(),y.from.minute(),y.from.second())).timeZone=y.timeZone,a((l=l.addMonths(y.step*y.interval)).year());var u=l.month(),p=(x=y.mrange.slice(u-1,u+1))[0],m=x[1];m-=1,y.nwdaymask=e(0,y.yearlen),y.step++;for(var f=0;f<y.bynweekday.length;f++){var g=y.bynweekday[f][0];(w=y.bynweekday[f][1])<0?(c=m+7*(w+1),c-=t(y.wdaymask[c]-g,7)):(c=p+7*(w-1),c+=t(7-y.wdaymask[c]+g,7)),p<=c&&c<=m&&(y.nwdaymask[c]=1)}var v=c+1-p;(l=new M.jqx.date(y.from.year(),y.from.month(),v,y.from.hour(),y.from.minute(),y.from.second())).timeZone=y.timeZone,l=l.addMonths((y.step-1)*y.interval)}else{if(0<y.bymonthday.length)(l=new M.jqx.date(y.from.year(),y.from.month(),y.bymonthday[y.current],y.from.hour(),y.from.minute(),y.from.second())).timeZone=y.timeZone,l=l.addMonths(y.step*y.interval),y.current++,y.bymonthday[y.current]||(y.current=0,y.step++);else(l=new M.jqx.date(y.from.year(),y.from.month(),y.day,y.from.hour(),y.from.minute(),y.from.second())).timeZone=y.timeZone,l=l.addMonths(y.step*y.interval),y.step++}return l;case"yearly":if(y.bymonth&&0<y.bymonth.length)if(0<y.bynweekday.length){(l=new M.jqx.date(y.from.year(),y.bymonth[y.current],1,y.from.hour(),y.from.minute(),y.from.second())).timeZone=y.timeZone,a((l=l.addYears(y.step*y.interval)).year());var x;u=l.month(),p=(x=y.mrange.slice(u-1,u+1))[0],m=x[1];m-=1,y.nwdaymask=e(0,y.yearlen);for(f=0;f<y.bynweekday.length;f++){var w;g=y.bynweekday[f][0];(w=y.bynweekday[f][1])<0?(c=m+7*(w+1),c-=t(y.wdaymask[c]-g,7)):(c=p+7*(w-1),c+=t(7-y.wdaymask[c]+g,7)),p<=c&&c<=m&&(y.nwdaymask[c]=1)}v=c+1-p;(l=new M.jqx.date(l.year(),y.bymonth[y.current],v,y.from.hour(),y.from.minute(),y.from.second())).timeZone=y.timeZone,y.step++}else{if(y.byyearday&&0<y.byyearday.length)(l=new M.jqx.date(y.from.year(),y.bymonth[y.current],y.byyearday[y.currentYearDay],y.from.hour(),y.from.minute(),y.from.second())).timeZone=y.timeZone,l=l.addYears(y.step*y.interval),y.currentYearDay++,y.byyearday[y.currentYearDay]||(y.currentYearDay=0,y.current++,y.bymonth[y.current]||(y.current=0,y.step++));else(l=new M.jqx.date(y.from.year(),y.bymonth[y.current],y.from.day(),y.from.hour(),y.from.minute(),y.from.second())).timeZone=y.timeZone,l=l.addYears(y.step*y.interval),y.current++,y.bymonth[y.current]||(y.current=0,y.step++)}else if(y.byyearday&&0<y.byyearday.length)(l=new M.jqx.date(y.from.year(),y.from.month(),y.byyearday[y.current],y.from.hour(),y.from.minute(),y.from.second())).timeZone=y.timeZone,l=l.addYears(y.step*y.interval),y.current++,y.byyearday[y.current]||(y.current=0,y.step++);else if(null!=y.byweekno){l=y.from.addYears(y.step*y.interval);if(l=function(e,t){var i=1,s=new M.jqx.date(t.year(),1,1,t.hour(),t.minute(),t.second());for(s.timeZone=y.timeZone;i!=e&&(s=s.addDays(7),!(53<++i)););for(;M.jqx.scheduler.utilities.getWeekday(s.toDate())!=y.wkst;)s=s.addDays(1);return s}(y.byweekno[y.current],l),y.byweekday){for(h=l,c=0;c<7&&o[h.dayOfWeek()]!==y.byweekday[y.currentYearDay];c++)h=h.addDays(1);l=h,y.currentYearDay++,y.byweekday[y.currentYearDay]||(y.currentYearDay=0,y.current++,y.byweekno[y.current]||(y.current=0,y.step++))}else y.current++,y.byweekno[y.current]||(y.current=0,y.step++)}else{(l=new M.jqx.date(y.from.year(),y.month,y.day,y.from.hour(),y.from.minute(),y.from.second())).timeZone=y.timeZone,l=l.addYears(y.step*y.interval),y.step++}return l}},y.isDateInExceptionAppointment=function(e,t,i){switch(y.freq){case"daily":case"weekly":default:return e.year()==i.from.year()&&e.dayOfYear()==i.from.dayOfYear()}},y.createNewPattern=function(){var e;return y.ical?e=new M.jqx.scheduler.recurrencePattern(y.ical):((e=new M.jqx.scheduler.recurrencePattern).from=y.from,e.to=y.to,e.count=y.count,e.interval=y.interval,e.exceptions=y.exceptions,e.newExceptions=y.newExceptions,e.weekDays=y.weekDays,e.isEveryWeekDay=y.isEveryWeekDay,e.month=y.month,e.day=y.day,e.current=y.current,e.currentYearDay=y.currentYearDay,e.step=y.step,e.days=y.days,e.bynweekday=y.bynweekday,e.bymonth=y.bymonth,e.bymonthday=y.bymonthday,e.byyearday=y.byyearday,e.byweekno=y.byweekno,e.byweekday=y.byweekday,e.freq=e.freq,e.timeZone=e.timeZone,e)},y.equals=function(e){return y.from==e.from&&y.to==e.to&&y.count===e.count&&y.interval===e.interval&&y.day===e.day&&y.month===e.month},y.isDayOfWeekIncluded=function(e){var t=e.dayOfWeek();return M.jqx.scheduler.utilities.areWeekDaysIncluded(y.weekDays,t)},y.getWeekIndexFromDate=function(e,t){var i=t.firstDay,s=M.jqx.scheduler.utilities.getStartOfWeek(y.from,t,i),r=new M.jqx.timeSpan(e.subtract(s));return parseInt(r.days()/7)},y.canCreateNewOccurence=function(e,t){e.toDate();switch(y.freq){case"daily":default:return(!y.bymonth||-1!=y.bymonth.indexOf(e.month()))&&(!y.isEveryWeekDay||!!y.isDayOfWeekIncluded(e,t));case"weekly":var i=y.getWeekIndexFromDate(e,t);if(y.bymonth&&-1==y.bymonth.indexOf(e.month()))return!1;if(i%y.interval!=0)return!1;if(y.weekDays=={}){if(y.from.dayOfWeek()!=start.dayOfWeek())return!1}else if(!y.isDayOfWeekIncluded(e,t))return!1;break;case"monthly":case"yearly":if(y.bymonth&&-1==y.bymonth.indexOf(e.month()))return!1;if(e<y.from)return!1}return!0},y.toString=function(){var t={};t.dtstart=this.from.toDate(),t.until=this.to?this.to.toDate():null,t.count=this.count;var e={YEARLY:0,MONTHLY:1,WEEKLY:2,DAILY:3,HOURLY:4,MINUTELY:5,SECONDLY:6};t.freq=e[this.freq.toUpperCase()],"YEARLY"==t.freq&&(t.bymonth=this.bymonth?this.bymonth:(new Array).push(this.month)),t.byweekday=new Array;return M.each(this.weekDays,function(){var e=this;--e<0&&(e=6),t.byweekday.push(e)}),null!=this.byyearday&&(t.byyearday=this.byyearday),null!=this.byweekno&&(t.byweekno=this.byweekno),t.bymonthday=this.bymonthday,t.wkst=["MO","TU","WE","TH","FR","SA","SU"][this.wkst],t.interval=this.interval,new M.jqx.ICalRule(t).toString()},y.init=function(e){var t=new M.jqx.ICalRule(y.ical,e),i=t.options;if(y.from=i.dtstart?new M.jqx.date(i.dtstart,y.timeZone):y.from,y.count=null!=i.count?i.count:y.count,y.freq=t.FREQUENCIES[i.freq].toLowerCase(),y.interval=null!=i.interval?i.interval:y.interval,y.to=i.until?new M.jqx.date(i.until,y.timeZone):y.to,y.wkst=i.wkst,y.bymonth=i.bymonth,y.bymonth&&0<y.bymonth.length?y.month=y.bymonth[0]:y.month=y.from.month(),y.day=y.from.day(),null!=i.byweekday){y.weekDays={};for(var s=0;s<i.byweekday.length;s++){switch(i.byweekday[s]){case 0:y.weekDays.Monday=1;break;case 1:y.weekDays.Tuesday=2;break;case 2:y.weekDays.Wednesday=3;break;case 3:y.weekDays.Thursday=4;break;case 4:y.weekDays.Friday=5;break;case 5:y.weekDays.Saturday=6;break;case 6:y.weekDays.Sunday=0}}y.byweekday=i.byweekday}return y.byweekno=i.byweekno,i.bynweekday&&(y.bynweekday=i.bynweekday),null!=i.bymonthday&&(y.bymonthday=i.bymonthday.sort(),y.bymonthday[0]&&(y.day=y.bymonthday[0])),null!=i.byyearday&&(y.day=i.byyearday[0],y.byyearday=i.byyearday.sort()),i},y.setFrom=function(e){y.from=e.clone(),y.ical&&y.init(e)},1==arguments.length&&(y.ical=arguments[0],y.init()),y},M.jqx.scheduler.calendar={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","},M.jqx.ICalRule=function(t,e){var u=this,i=function(e,t){1===arguments.length&&(t=e,e=0);for(var i=[],s=e;s<t;s++)i.push(s);return i},s=function(e,t){var i=0,s=[];if(e instanceof Array)for(;i<t;i++)s[i]=[].concat(e);else for(;i<t;i++)s[i]=e;return s},r=function(e){return!(e instanceof Array&&0==e.length)&&Boolean(e)},p=function(e,t){return-1!=e.indexOf(t)},n=([].concat(s(1,31),s(2,28),s(3,31),s(4,30),s(5,31),s(6,30),s(7,31),s(8,31),s(9,30),s(10,31),s(11,30),s(12,31),s(1,7)),[].concat(s(1,31),s(2,29),s(3,31),s(4,30),s(5,31),s(6,30),s(7,31),s(8,31),s(9,30),s(10,31),s(11,30),s(12,31),s(1,7)),i(1,29)),o=i(1,30),a=i(1,31),l=i(1,32);[].concat(l,o,l,a,l,a,l,l,a,l,a,l,l.slice(0,7)),[].concat(l,n,l,a,l,a,l,l,a,l,a,l,l.slice(0,7));n=i(-28,0),o=i(-29,0),a=i(-30,0),l=i(-31,0);[].concat(l,o,l,a,l,a,l,l,a,l,a,l,l.slice(0,7)),[].concat(l,n,l,a,l,a,l,l,a,l,a,l,l.slice(0,7)),function(){for(var e=[],t=0;t<55;t++)e=e.concat(i(7))}();var m=function(e,t){var i=this;if(0===t)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=t,this.nth=function(e){return i.n==e?i:new m(i.weekday,e)},this.equals=function(e){return i.weekday==e.weekday&&i.n==e.n},this.toString=function(){var e=["MO","TU","WE","TH","FR","SA","SU"][i.weekday];return this.n&&(e=(0<i.n?"+":"")+String(i.n)+e),e},this.getJsWeekday=function(){return 6==i.weekday?0:i.weekday+1}};this.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],this.YEARLY=0,this.MONTHLY=1,this.WEEKLY=2,this.DAILY=3,this.HOURLY=4,this.MINUTELY=5,this.SECONDLY=6,this.MO=new m(0),this.TU=new m(1),this.WE=new m(2),this.TH=new m(3),this.FR=new m(4),this.SA=new m(5),this.SU=new m(6);var f={freq:null,dtstart:null,interval:1,wkst:u.MO,count:null,until:null,bysetpos:null,bymonth:null,bymonthday:null,byyearday:null,byweekno:null,byweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null};this._string=null,this.toString=function(){var e,t,i,s,r,n=this.origOptions,o=[];t=Object.keys(n),i=Object.keys(f);for(var a=0;a<t.length;a++)if(p(i,t[a])&&(e=t[a].toUpperCase(),r=[],!(null===(s=n[t[a]])||s instanceof Array&&!s.length))){switch(e){case"FREQ":s=u.FREQUENCIES[n.freq];break;case"WKST":s||(s=0),s=s.toString();break;case"BYWEEKDAY":e="BYDAY",s instanceof Array||(s=[s]);for(var l,d=0;d<s.length;d++)(l=s[d])instanceof m||(l=l instanceof Array?new m(l[0],l[1]):new m(l)),r[d]=l.toString();s=r;break;case"DTSTART":case"UNTIL":s=M.jqx.scheduler.utilities.timeToUntilString(s);break;default:if(s instanceof Array){for(d=0;d<s.length;d++)r[d]=String(s[d]);s=r}else s=String(s)}o.push([e,s])}var h=[];for(a=0;a<o.length;a++){var c=o[a];h.push(c[0]+"="+c[1].toString())}return h.join(";")},this.parseString=function(e){if(!(e=e.replace(/^\s+|\s+$/,"")).length)return null;var t,i,s,r,n,o=e.split(";"),a={};for(t=0;t<o.length;t++)if(s=(n=o[t].split("="))[0],r=n[1],""!=s)switch(s){case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":if(-1!=r.indexOf(","))for(r=r.split(","),i=0;i<r.length;i++)/^[+-]?\d+$/.test(r[i])&&(r[i]=Number(r[i]));else/^[+-]?\d+$/.test(r)&&(r=Number(r));a[s=s.toLowerCase()]=r;break;case"BYDAY":var l,d,h,c=r.split(",");for(a.byweekday=[],i=0;i<c.length;i++)2==(h=c[i]).length?(d=u[h],a.byweekday.push(d)):(h=h.match(/^([+-]?\d)([A-Z]{2})$/),l=Number(h[1]),d=h[2],d=u[d].weekday,a.byweekday.push(new m(d,l)));break;case"FREQ":a.freq=u[r];break;case"WKST":a.wkst=u[r];break;case"DTSTART":a.dtstart=M.jqx.scheduler.utilities.untilStringToDate(r);break;case"UNTIL":a.until=M.jqx.scheduler.utilities.untilStringToDate(r);break;case"BYEASTER":a.byeaster=Number(r);break;default:throw new Error("Unknown ICalRule property '"+s+"'")}return u.options=a},"string"===M.type(t)?this.options=this.parseString(t):this.options=t||{};var d,h,c,g;t=this.options;Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var i,s;if(null==this)throw new TypeError(" this is null or not defined");var r=Object(this),n=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(i=t),s=0;s<n;){var o;s in r&&(o=r[s],e.call(i,o,s,r)),s++}}),Object.keys||(Object.keys=(d=Object.prototype.hasOwnProperty,h=!{toString:null}.propertyIsEnumerable("toString"),g=(c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var t,i,s=[];for(t in e)d.call(e,t)&&s.push(t);if(h)for(i=0;i<g;i++)d.call(e,c[i])&&s.push(c[i]);return s})),this.origOptions={};var v=[],x=Object.keys(this.options),w=Object.keys(f);if(x.forEach(function(e){this.origOptions[e]=this.options[e],p(w,e)||v.push(e)},this),v.length)throw new Error("Invalid options: "+v.join(", "));if(!u.FREQUENCIES[this.options.freq]&&null===t.byeaster)throw new Error("Invalid Frequency: "+String(t.freq));w.forEach(function(e){p(x,e)||(t[e]=f[e])});var y=this.options;if(null!==y.byeaster&&(y.freq=this.YEARLY),y.dtstart||(y.dtstart=new Date,y.dtstart.setMilliseconds(0)),e&&(y.dtstart=e.toDate()),null===y.wkst?y.wkst=this.MO.weekday:"number"==typeof y.wkst||(null==y.wkst?y.wkst=this.MO.weekday:y.wkst=y.wkst.weekday),null!==y.bysetpos){"number"==typeof y.bysetpos&&(y.bysetpos=[y.bysetpos]);for(var b=0;b<y.bysetpos.length;b++){if(0==(q=y.bysetpos[b])||!(-366<=q&&q<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(r(y.byweekno)||r(y.byyearday)||r(y.bymonthday)||null!==y.byweekday||null!==y.byeaster))switch(y.freq){case this.YEARLY:y.bymonth||(y.bymonth=y.dtstart.getMonth()+1),y.bymonthday=y.dtstart.getDate();break;case this.MONTHLY:y.bymonthday=y.dtstart.getDate();break;case this.WEEKLY:y.byweekday=M.jqx.scheduler.utilities.getWeekday(y.dtstart)}if(null===y.bymonth||y.bymonth instanceof Array||(y.bymonth=[y.bymonth]),null===y.byyearday||y.byyearday instanceof Array||(y.byyearday=[y.byyearday]),null===y.bymonthday)y.bymonthday=[],y.bynmonthday=[];else if(y.bymonthday instanceof Array){var _=[],j=[];for(b=0;b<y.bymonthday.length;b++){var q;0<(q=y.bymonthday[b])?_.push(q):q<0&&j.push(q)}y.bymonthday=_,y.bynmonthday=j}else y.bymonthday<0?(y.bynmonthday=[y.bymonthday],y.bymonthday=[]):(y.bynmonthday=[],y.bymonthday=[y.bymonthday]);if(null===y.byweekno||y.byweekno instanceof Array||(y.byweekno=[y.byweekno]),null===y.byweekday)y.bynweekday=null;else if("number"==typeof y.byweekday)y.byweekday=[y.byweekday],y.bynweekday=null;else if(y.byweekday instanceof m)!y.byweekday.n||y.freq>this.MONTHLY?(y.byweekday=[y.byweekday.weekday],y.bynweekday=null):(y.bynweekday=[[y.byweekday.weekday,y.byweekday.n]],y.byweekday=null);else{var T=[],C=[];for(b=0;b<y.byweekday.length;b++){var S=y.byweekday[b];"number"==typeof S?T.push(S):!S.n||y.freq>this.MONTHLY?T.push(S.weekday):C.push([S.weekday,S.n])}y.byweekday=r(T)?T:null,y.bynweekday=r(C)?C:null}if(null===y.byhour?y.byhour=y.freq<this.HOURLY?[y.dtstart.getHours()]:null:"number"==typeof y.byhour&&(y.byhour=[y.byhour]),null===y.byminute?y.byminute=y.freq<this.MINUTELY?[y.dtstart.getMinutes()]:null:"number"==typeof y.byminute&&(y.byminute=[y.byminute]),null===y.bysecond?y.bysecond=y.freq<this.SECONDLY?[y.dtstart.getSeconds()]:null:"number"==typeof y.bysecond&&(y.bysecond=[y.bysecond]),y.freq>=this.HOURLY)this.timeset=null;else{if(this.timeset=[],y.byhour)for(b=0;b<y.byhour.length;b++)for(var k=y.byhour[b],I=0;I<y.byminute.length;I++)for(var D=y.byminute[I],P=0;P<y.bysecond.length;P++){var A=y.bysecond[P];this.timeset.push(new M.jqx.scheduler.utilities.Time(k,D,A))}M.jqx.scheduler.utilities.sort(this.timeset)}return this}}(jqxBaseFramework),function(me){me.extend(me.jqx._jqxScheduler.prototype,{_getexportcolor:function(e){var t=e;if("transparent"==e&&(t="#FFFFFF"),t&&t.toString()||(t="#FFFFFF"),-1!=t.toString().indexOf("rgb")){var i=t.split(",");if(-1!=t.toString().indexOf("rgba")){var s=parseInt(i[0].substring(5)),r=parseInt(i[1]),n=parseInt(i[2]),o=parseInt(i[3].substring(1,4)),a={r:s,g:r,b:n},l=this._rgbToHex(a);return 0==s&&0==r&&0==n&&0==o?"#ffffff":"#"+l}a={r:s=parseInt(i[0].substring(4)),g:r=parseInt(i[1]),b:n=parseInt(i[2].substring(1,4))};return"#"+(l=this._rgbToHex(a))}if(-1!=t.toString().indexOf("#")&&4==t.toString().length){var d=t.toString().substring(1,4);t+=d}return t},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},exportData:function(h){if(!me.jqx.dataAdapter.ArrayExporter)throw"jqxScheduler: Missing reference to jqxdata.export.js!";var e=this.exportSettings.serverURL,t=this.exportSettings.characterSet,i=this.exportSettings.fileName,s=this.exportSettings.ICSXWRCALNAME,r=this.exportSettings.ICSXWRCALDESC;void 0===i&&(i="jqxScheduler");var c=this;if("ical"!=h&&"ics"!=h){w=this.getDataAppointments();var n=new Array,u={},p={},o=this.host.find(".jqx-grid-cell:first");o.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),o.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),o.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),o.removeClass(this.toThemeProperty("jqx-fill-state-hover"));var a="cell",l=1,m="column",f=1,g=me(this.columns.records[0].element),v=0;me.each(this.appointmentDataFields,function(e,d){if(u[d]={},u[d].text=d,u[d].width=100,u[d].formatString="",u[d].localization=c.schedulerLocalization,"from"==e||"to"==e?(u[d].type="date",u[d].formatString=c.exportSettings.dateTimeFormatString):u[d].type="string",u[d].cellsAlign="left",n.push(u[d]),a="cell"+l,m="column"+f,"html"==h||"xls"==h||"pdf"==h){var t=function(e,t,i,s,r,n,o,a,l){p[e]={},null!=t&&(p[e]["font-size"]=t.css("font-size"),p[e]["font-weight"]=t.css("font-weight"),p[e]["font-style"]=t.css("font-style"),p[e]["background-color"]=c._getexportcolor(t.css("background-color")),p[e].color=c._getexportcolor(t.css("color")),p[e]["border-color"]=c._getexportcolor(t.css("border-top-color")),i?p[e]["text-align"]="left":(p[e]["text-align"]="left",p[e].formatString="",p[e].dataType="string","from"!=o&&"to"!=o||(p[e].dataType="date",p[e].formatString=c.exportSettings.dateTimeFormatString)),"html"!=h&&"pdf"!=h||(p[e]["border-top-width"]=t.css("border-top-width"),p[e]["border-left-width"]=t.css("border-left-width"),p[e]["border-right-width"]=t.css("border-right-width"),p[e]["border-bottom-width"]=t.css("border-bottom-width"),p[e]["border-top-style"]=t.css("border-top-style"),p[e]["border-left-style"]=t.css("border-left-style"),p[e]["border-right-style"]=t.css("border-right-style"),p[e]["border-bottom-style"]=t.css("border-bottom-style"),i?(0==v&&(p[e]["border-left-width"]=t.css("border-right-width")),p[e]["border-top-width"]=t.css("border-right-width"),p[e]["border-bottom-width"]=t.css("border-bottom-width")):(0==v&&(p[e]["border-left-width"]="1px"),p[e]["border-right-width"]="1px")),i&&(u[d].style=e),u[d].cellStyle=e)};t(m,g,!0,0,0,0,e),f++,t(a,o,!1,0,0,0,e),l++}v++});var d=me.jqx.dataAdapter.ArrayExporter(w,u,p,e);if(null==i){this._renderrows();var x=d.exportTo(h);return setTimeout(function(){c.exporting=!1},50),x}d.exportToFile(h,i,e,t),this._renderrows(),setTimeout(function(){c.exporting=!1},50)}else if(1<c._resources.length&&i&&c.resourcesInMultipleICSFiles)for(var w=this.getAppointments(),y=0;y<c._resources.length;y++){for(var b=c._resources[y],_=new Array,j=0;j<w.length;j++){var q=w[j];q.resourceId==b&&_.push(q)}var T="BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:jqxScheduler\nMETHOD:PUBLISH\n";s&&(T+="X-WR-CALNAME:"+s+"\n"),r&&(T+="X-WR-CALDESC:"+r+"\n");for(var C=0;C<_.length;C++)T+=_[C].jqxAppointment.toString(),C<_.length-1&&(T+="\n");var S=(T+="\nEND:VCALENDAR").length,k=new Uint8Array(new ArrayBuffer(S));for(C=0;C<S;C++)k[C]=T.charCodeAt(C);var I=new Blob([k],{type:"application/calendar"});saveAs?saveAs(I,i+"_"+b+".ics"):window.jqxSaveAs&&window.jqxSaveAs(I,i+"_"+b+".ics")}else{var w=this.getAppointments();for(T="BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:jqxScheduler\nMETHOD:PUBLISH\n",y=0;y<w.length;y++)T+=w[y].jqxAppointment.toString(),y<w.length-1&&(T+="\n");S=(T+="\nEND:VCALENDAR").length,k=new Uint8Array(new ArrayBuffer(S));for(y=0;y<S;y++)k[y]=T.charCodeAt(y);I=new Blob([k],{type:"application/calendar"});if(!i)return T;saveAs?saveAs(I,i+".ics"):window.jqxSaveAs&&window.jqxSaveAs(I,i+".ics")}},shadeColor:function(e,t){var i=parseInt(e.slice(1),16),s=t<0?0:255,r=t<0?-1*t:t,n=i>>16,o=i>>8&255,a=255&i;return"#"+(16777216+65536*(Math.round((s-n)*r)+n)+256*(Math.round((s-o)*r)+o)+(Math.round((s-a)*r)+a)).toString(16).slice(1)},hexToRgba:function(e,t){var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),s=function(){var e=me.jqx.browser.msie&&me.jqx.browser.version<10;return null==this.alpha||e?"rgb("+this.r+", "+this.g+", "+this.b+")":(1<this.alpha?this.alpha=1:this.alpha<0&&(this.alpha=0),"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")")};return null==t?i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16),toString:s}:null:(1<t?t=1:t<0&&(t=0),i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16),alpha:t,toString:s}:null)},getAppointmentColors:function(e){var t;t=e;var i;return{background:this.hexToRgba(e,this.appointmentOpacity).toString(),color:255-(.299*(i=this.hexToRgba(e,.7)).r+.587*i.g+.114*i.b)<105?"Black":"White",border:t}},getColors:function(e){-1==e&&(e=0);var t,i,s=this.resources?this.resources.colorScheme:null;s||(s="scheme01");for(var r=new Array,n=0;n<this.colorSchemes.length;n++)if(this.colorSchemes[n].name==s){r=this.colorSchemes[n].colors;break}for(;e>r.length-1;){var o=parseInt(s.substring(6));27<=o&&(o=0),r=r.concat(this.colorSchemes[o].colors),o++}r[e],t=this.hexToRgba(r[e],.7).toString(),i=r[e];var a;return{background:t,color:255-(.299*(a=this.hexToRgba(r[e],.7)).r+.587*a.g+.114*a.b)<105?"Black":"White",border:i}},getAppointments:function(){for(var e=this.uiappointments,t=new Array,i=0;i<e.length;i++){var s=e[i].boundAppointment;s.toString=s.jqxAppointment.toString,t.push(s)}return t},getDataAppointments:function(){for(var e=this.uiappointments,t=new Array,i=0;i<e.length;i++){var s=e[i].boundAppointment,r={};me.each(this.appointmentDataFields,function(e,t){if(r[t]=s[e],"from"!=e&&"to"!=e||"date"!=me.type(s[e])&&(r[t]=s[e].toDate()),"recurrencePattern"==e&&s[e]&&(r[t]=s[e].toString()),"recurrenceException"==e&&s[e]){r[t]="";for(var i=0;i<s[e].length;i++)r[t]+=s[e][i].toString(),i<s[e].length-1&&(r[t]+=",")}try{JSON&&(r.toString=function(){return JSON.stringify(r)})}catch(e){}}),t.push(r)}return t},_refreshColumns:function(){this._initializeColumns(),this.columnsheader=this.columnsheader||me('<div style="overflow: hidden;"></div>'),this.columnsheader.children().remove();var e=this.columnsHeight;e=this._preparecolumnGroups(),this.columnsheader.height(e),this._rendercolumnheaders()},_refreshColumnTitles:function(){var e=this._views[this._view].type,m=this._views[this._view],f=this,g=new Array;if(f.columns.records[0].timeColumn&&g.push({}),m.timeRuler&&m.timeRuler.timeZones)for(var t=0;t<m.timeRuler.timeZones.length;t++)g.push({});for(var i=function(e,t,i){var s="halfHour";m.timeRuler&&m.timeRuler.scale&&(s=m.timeRuler.scale);var r=24,n=0,o=23;if(m.timeRuler){if(null!=m.timeRuler.scaleStartHour)n=parseInt(m.timeRuler.scaleStartHour);if(null!=m.timeRuler.scaleEndHour)o=parseInt(m.timeRuler.scaleEndHour);n<0&&(n=0),o<0&&(o=23),23<n&&(n=0),23<o&&(o=23),r=o-n+1}if(s)switch(s){case"sixtyMinutes":case"hour":1;break;case"thirdyMinutes":case"halfHour":2;break;case"fifteenMinutes":case"quarterHour":4;break;case"tenMinutes":6;break;case"fiveMinutes":12}new Array;var a="auto";m.timeRuler&&m.timeRuler.formatString&&(a=m.timeRuler.formatString);var l=n,d=r,h=e.addHours(l);if(f.rtl)h=e.addHours(o);for(var c=0;c<d;c++){var u=h.toDate();if("auto"===a)if(0==u.getHours()&&0==u.getMinutes()||12==u.getHours()&&0==u.getMinutes())var p="hh tt";else p="hh:mm";else if(me.isFunction(a))p=a(u);else p=a;me.jqx.dataFormat.isDate(u)&&(u=me.jqx.dataFormat.formatdate(u,p,f.schedulerLocalization)),h=f.rtl?h.addMinutes(-60):h.addMinutes(60),g.push({}),f.columns.records[g.length-1].text=u}},s=(this.tableColumns,0);s<this.tableColumns;s++)switch(e){case"dayView":var r=this.getViewStart();!1===m.showWeekends&&(0!==r.dayOfWeek()&&6!==r.dayOfWeek()||(r=r.addDays(1)),0!==r.dayOfWeek()&&6!==r.dayOfWeek()||(r=r.addDays(1))),g.push({}),this.columns.records[g.length-1].text=this._getDayName(r.dayOfWeek());break;case"weekView":case"monthView":for(t=0;t<7;t++){var n=this.schedulerLocalization.firstDay+t;(!1!==m.showWeekends||0!==t&&6!==t)&&(g.push({}),f.rtl&&(n=6-n),this.columns.records[g.length-1].text=this._getDayName(n))}break;case"timelineDayView":f._resources[s]&&f._resources[s];i(f.getViewStart());break;case"timelineWeekView":for(t=0;t<7;t++){n=this.schedulerLocalization.firstDay+t;(!1!==m.showWeekends||0!==t&&6!==t)&&(f.rtl&&(n=6-n),i(f.getViewStart().addDays(t),this._getDayName(n)))}break;case"timelineMonthView":var o=f.getViewStart(),a="auto";m.timeRuler&&m.timeRuler.formatString&&(a=m.timeRuler.formatString);for(t=0;t<41;t++){n=o.dayOfWeek();if(!1!==m.showWeekends||0!==n&&6!==n){f.rtl&&(n=6-n);var l=o.toDate();if("auto"===a){var d="dd";1===(l=o.toDate()).getDate()&&(d="MMM dd")}else if(me.isFunction(a))d=a(l);else d=a;me.jqx.dataFormat.isDate(l)&&(l=me.jqx.dataFormat.formatdate(l,d,f.schedulerLocalization)),o=o.addDays(1),g.push({}),f.columns.records[g.length-1].text=l}}}var h,c,u=f.columnsHeight;for(t=0;t<this.columns.records.length;t++){var p=this.columns.records[t];if(!p.timeColumn){f.columnGroups&&f.columnGroups.length&&(p.datafield,h=p,c=void 0,c=f.columnGroupslevel*f.columnsHeight,u=c-=h.level*f.columnsHeight);var v=null!=p.renderer?p.renderer(p.text,p.align,u):f._rendercolumnheader(p.text,p.align,u,p);null==v&&(v=f._rendercolumnheader(p.text,p.align,u,f)),null!=p.renderer&&(v=me(v)),me(p.element).html(v)}}},initRepeatPanels:function(i,s,m){var Q=this,e=me("<div></div>");s.append(e);var t=me("<div class='jqx-scheduler-edit-dialog-label'>"+Q.schedulerLocalization.editDialogRepeatString+"</div>").appendTo(e),r=me("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(e),n=me("<div></div>").appendTo(r),o=me("<div></div>");s.append(o);var a=me("<div></div>");o.append(a);a.detach(),Q.editDialogFields.repeatEndPanel={},function(e,t){var i=me("<div></div>").appendTo(e),s=me("<div class='jqx-scheduler-edit-dialog-label'>"+Q.schedulerLocalization.editDialogRepeatEndString+"</div>").appendTo(i),r=me("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(i),n=me("<div style='position:relative; float:left;'><span style='margin-left:2px;'>"+Q.schedulerLocalization.editDialogRepeatNeverString+"</span></div>").appendTo(r);n.jqxRadioButton({rtl:Q.rtl,groupName:"end"+t,theme:Q.theme,width:200,height:25,checked:!0}),Q.editDialogFields[t].repeatEndNever=n,Q.editDialogFields[t].repeatEndNeverLabel=s;var o=me("<div class='jqx-scheduler-edit-dialog-label'></div>").appendTo(i),a=me("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(i),l=me("<div style='position:relative;  float:left;'><span style='margin-left:2px;'>"+Q.schedulerLocalization.editDialogRepeatAfterString+"</span></div>").appendTo(a);l.jqxRadioButton({rtl:Q.rtl,groupName:"end"+t,theme:Q.theme,width:60,height:25,checked:!1});var d=me("<div style='margin-left: 3px; float:left;'></div>").appendTo(a);d.jqxNumberInput({rtl:Q.rtl,decimal:10,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:Q.theme});me("<div style='float: left; margin-left: 5px; line-height:25px;'>"+Q.schedulerLocalization.editDialogRepeatOccurrencesString+"</div>").appendTo(a);Q.editDialogFields[t].repeatEndAfter=l,Q.editDialogFields[t].repeatEndAfterValue=d,Q.editDialogFields[t].repeatEndAfterLabel=o;var h=me("<div class='jqx-scheduler-edit-dialog-label'></div>").appendTo(i),c=me("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(i),u=me("<div style='position:relative; float:left;'><span style='margin-left:2px;'>"+Q.schedulerLocalization.editDialogRepeatOnString+"</span></div>").appendTo(c);u.jqxRadioButton({rtl:Q.rtl,groupName:"end"+t,theme:Q.theme,width:60,height:25,checked:!1});var p=me("<div style='margin-left: 3px; float:left;'></div>").appendTo(c);p.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:Q.rtl,localization:Q._getDateTimeInputLocalization(),firstDayOfWeek:Q.schedulerLocalization.firstDay,todayString:Q.schedulerLocalization.todayString,clearString:Q.schedulerLocalization.clearString,value:m,formatString:Q.editDialogDateFormatString,height:25,width:150,theme:Q.theme});p.jqxDateTimeInput("getInstance");Q.editDialogFields[t].repeatEndOn=u,Q.editDialogFields[t].repeatEndOnValue=p,Q.editDialogFields[t].repeatEndOnLabel=h}(Q.editDialogFields.repeatEndPanelContainer=a,"repeatEndPanel");var l=function(){var e=me("<div style='visibility: hidden;'></div>").appendTo(me(document.body)),t=me("<div class='jqx-scheduler-edit-dialog-label'>"+Q.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(e),i=me("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(e),s=me("<div style='float:left;'></div>").appendTo(i);s.jqxNumberInput({rtl:Q.rtl,decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:Q.theme});me("<div style='float: left; margin-left: 5px; line-height:25px;'>"+Q.schedulerLocalization.editDialogRepeatEveryDayString+"</div>").appendTo(i);Q.editDialogFields.daily={},Q.editDialogFields.daily.repeatDayInterval=s,Q.editDialogFields.daily.repeatDayLabel=t,(Q.editDialogFields.daily.panel=e).detach(),Q.editDialogFields.weekly={};var r=me("<div style='visibility: hidden;'></div>").appendTo(me(document.body)),n=me("<div class='jqx-scheduler-edit-dialog-label'>"+Q.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(r),o=me("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(r),a=me("<div style='float:left;'></div>").appendTo(o);a.jqxNumberInput({rtl:Q.rtl,decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:Q.theme});me("<div style='float: left; margin-left: 5px; line-height:25px;'>"+Q.schedulerLocalization.editDialogRepeatEveryWeekString+"</div>").appendTo(o);Q.editDialogFields.weekly.repeatWeekInterval=a,Q.editDialogFields.weekly.repeatWeekIntervalLabel=n;var l=me("<div class='jqx-scheduler-edit-dialog-label'>"+Q.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(r),d=me("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(r),h=me("<div style='float:left;'></div>").appendTo(d);Q.editDialogFields.weekly.repeatDaysLabel=l,Q.editDialogFields.weekly.repeatDays=new Array;for(var c=0;c<7;c++){var u=Q._getDayName(c,"firstTwoLetters"),p=me("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'>"+u+"</span></div>");h.append(p);var m=1==c;p.jqxCheckBox({rtl:Q.rtl,height:25,checked:m,width:50,theme:Q.theme}),Q.editDialogFields.weekly.repeatDays.push(p)}(Q.editDialogFields.weekly.panel=r).detach(),Q.editDialogFields.monthly={};var f=me("<div style='visibility: hidden;'></div>").appendTo(me(document.body)),g=me("<div class='jqx-scheduler-edit-dialog-label'>"+Q.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(f),v=me("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(f),x=me("<div style='float:left;'></div>").appendTo(v);x.jqxNumberInput({rtl:Q.rtl,decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:Q.theme});me("<div style='float: left; margin-left: 5px; line-height:25px;'>"+Q.schedulerLocalization.editDialogRepeatEveryMonthString+"</div>").appendTo(v);Q.editDialogFields.monthly.repeatMonth=x,Q.editDialogFields.monthly.repeatMonthLabel=g;var w=me("<div class='jqx-scheduler-edit-dialog-label'>"+Q.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(f),y=me("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(f),b=me("<div style='float:left;'></div>").appendTo(y),_=me("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'>"+Q.schedulerLocalization.editDialogRepeatEveryMonthDayString+"</span></div>").appendTo(b);_.jqxRadioButton({rtl:Q.rtl,groupName:"month",height:25,width:60,checked:!0,theme:Q.theme});var j=me("<div style='float:left;'></div>").appendTo(b);j.jqxNumberInput({rtl:Q.rtl,decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:Q.theme}),Q.editDialogFields.monthly.repeatMonthDay=j,Q.editDialogFields.monthly.repeatMonthDayBool=_,Q.editDialogFields.monthly.repeatMonthDayLabel=w;var q=me("<div class='jqx-scheduler-edit-dialog-label'></div>").appendTo(f),T=me("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(f),C=me("<div style='float:left;'></div>").appendTo(T),S=me("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'></span></div>").appendTo(C);S.jqxRadioButton({groupName:"month",height:25,width:25,checked:!1,theme:Q.theme});var k=me("<div style='float:left;'></div>").appendTo(C),I=new Array;I.push(Q.schedulerLocalization.editDialogRepeatFirstString),I.push(Q.schedulerLocalization.editDialogRepeatSecondString),I.push(Q.schedulerLocalization.editDialogRepeatThirdString),I.push(Q.schedulerLocalization.editDialogRepeatFourthString),I.push(Q.schedulerLocalization.editDialogRepeatLastString),k.jqxDropDownList({dropDownWidth:150,selectedIndex:0,source:I,autoDropDownHeight:!0,height:25,width:"auto",theme:Q.theme});var D=me("<div style='margin-left: 5px; float:left;'></div>").appendTo(C),P=new Array;for(c=0;c<7;c++){u=Q._getDayName(c);P.push(u)}D.jqxDropDownList({rtl:Q.rtl,dropDownWidth:150,autoDropDownHeight:!0,selectedIndex:1,source:P,height:25,width:"auto",theme:Q.theme}),Q.editDialogFields.monthly.repeatDayOfWeekBool=S,Q.editDialogFields.monthly.repeatDayOfWeek=D,Q.editDialogFields.monthly.repeatDayOfWeekLabel=q,Q.editDialogFields.monthly.repeatDayOfWeekType=k,(Q.editDialogFields.monthly.panel=f).detach(),Q.editDialogFields.yearly={};var A=me("<div style='visibility: hidden;'></div>").appendTo(me(document.body)),M=me("<div class='jqx-scheduler-edit-dialog-label'>"+Q.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(A),B=me("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(A),H=me("<div style='float:left;'></div>").appendTo(B);H.jqxNumberInput({decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:Q.theme});me("<div style='float: left; margin-left: 5px; line-height:25px;'>"+Q.schedulerLocalization.editDialogRepeatEveryYearString+"</div>").appendTo(B);Q.editDialogFields.yearly.repeatYear=H,Q.editDialogFields.yearly.repeatYearLabel=M;var z=me("<div class='jqx-scheduler-edit-dialog-label'>"+Q.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(A),E=me("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(A),O=me("<div style='float:left;'></div>").appendTo(E),N=me("<div style='position:relative; top: 6px; float:left;'></span></div>").appendTo(O);N.jqxRadioButton({rtl:Q.rtl,groupName:"year",height:25,width:25,checked:!0,theme:Q.theme}),Q.editDialogFields.yearly.repeatYearBool=N,Q.editDialogFields.yearly.repeatYearBoolLabel=z;var L=me("<div style='float:left;'></div>").appendTo(O),R=new Array;for(c=0;c<12;c++){var F=Q.schedulerLocalization.months.names[c];R.push(F)}L.jqxDropDownList({selectedIndex:0,height:25,dropDownWidth:150,width:"auto",source:R,theme:Q.theme}),Q.editDialogFields.yearly.repeatYearMonth=L;var W=me("<div style='margin-left: 5px; float:left;'></div>").appendTo(O);W.jqxNumberInput({decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:Q.theme}),Q.editDialogFields.yearly.repeatYearDay=W;var V=me("<div class='jqx-scheduler-edit-dialog-label'></div>").appendTo(A),G=me("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(A),U=me("<div style='float:left;'></div>").appendTo(G),Y=me("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'></span></div>").appendTo(U);Y.jqxRadioButton({rtl:Q.rtl,groupName:"year",height:25,width:25,checked:!1,theme:Q.theme});var K=me("<div style='float:left;'></div>").appendTo(U);Q.editDialogFields.yearly.repeatDayOfWeekBool=Y,Q.editDialogFields.yearly.repeatDayOfWeekType=K,Q.editDialogFields.yearly.repeatDayOfWeekLabel=V;var X=new Array;X.push(Q.schedulerLocalization.editDialogRepeatFirstString),X.push(Q.schedulerLocalization.editDialogRepeatSecondString),X.push(Q.schedulerLocalization.editDialogRepeatThirdString),X.push(Q.schedulerLocalization.editDialogRepeatFourthString),X.push(Q.schedulerLocalization.editDialogRepeatLastString),K.jqxDropDownList({dropDownWidth:150,selectedIndex:0,source:X,autoDropDownHeight:!0,height:25,width:"auto",theme:Q.theme});var $=me("<div style='margin-left: 5px; float:left;'></div>").appendTo(U);Q.editDialogFields.yearly.repeatDayOfWeek=$;var Z=new Array;for(c=0;c<7;c++){u=Q._getDayName(c);Z.push(u)}$.jqxDropDownList({rtl:Q.rtl,dropDownWidth:150,selectedIndex:1,autoDropDownHeight:!0,source:Z,height:25,width:"auto",theme:Q.theme});R=new Array,me("<div style='line-height:25px; height: 25px; margin-left: 5px; float:left;'>"+Q.schedulerLocalization.editDialogRepeatOfString+"</div>").appendTo(U);var J=me("<div style='margin-left: 5px; float:left;'></div>").appendTo(U);for(c=0;c<12;c++){F=Q.schedulerLocalization.months.names[c];R.push(F)}(Q.editDialogFields.yearly.repeatDayOfWeekMonth=J).jqxDropDownList({rtl:Q.rtl,dropDownWidth:150,selectedIndex:0,source:R,height:25,width:"auto",theme:Q.theme}),(Q.editDialogFields.yearly.panel=A).detach()};Q.editAppointment&&Q.editAppointment.rootAppointment,l();var d=me("<div></div>");s.append(d);var h=me("<div class='jqx-scheduler-edit-dialog-label'>"+Q.schedulerLocalization.editDialogExceptionsString+"</div>").appendTo(d),c=me("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(d),u=me("<div style='position:relative; top:2px;'>"+Q.schedulerLocalization.editDialogResetExceptionsString+"</div>").appendTo(c);u.jqxCheckBox({height:25,width:"100%",theme:Q.theme}),d.hide(),Q.editDialogFields.resetExceptions=u,Q.editDialogFields.resetExceptionsLabel=h,Q.editDialogFields.resetExceptionsContainer=d;var p=new Array;p.push(Q.schedulerLocalization.editDialogRepeatNeverString),p.push(Q.schedulerLocalization.editDialogRepeatDailyString),p.push(Q.schedulerLocalization.editDialogRepeatWeeklyString),p.push(Q.schedulerLocalization.editDialogRepeatMonthlyString),p.push(Q.schedulerLocalization.editDialogRepeatYearlyString),n.jqxDropDownList({rtl:Q.rtl,width:"100%",height:25,autoDropDownHeight:!0,theme:Q.theme,source:p,selectedIndex:0}),Q.editDialogFields.repeat=n,Q.editDialogFields.repeatLabel=t,Q.editDialogFields.repeatContainer=e,Q.editDialogFields.repeatPanel=o,this.addHandler(n,"change",function(e){var t=e.args.item.index;!function(){switch(o.children().detach(),t){case 0:break;case 1:Q.editDialogFields.daily.panel.css("visibility","visible"),o.append(Q.editDialogFields.daily.panel);break;case 2:Q.editDialogFields.weekly.panel.css("visibility","visible"),o.append(Q.editDialogFields.weekly.panel);break;case 3:Q.editDialogFields.monthly.panel.css("visibility","visible"),o.append(Q.editDialogFields.monthly.panel);break;case 4:Q.editDialogFields.yearly.panel.css("visibility","visible"),o.append(Q.editDialogFields.yearly.panel)}o.append(a),0==t?Q.editDialogFields.repeatEndPanelContainer.hide():Q.editDialogFields.repeatEndPanelContainer.show(),Q.isTouchDevice()||(i.jqxWindow({height:150}),i.jqxWindow({height:s[0].scrollHeight+40}))}()})},_initMenu:function(){var s=this;if(this.host.jqxMenu){if(this.menu){if(this._hasOpenedMenu)return;this.removeHandler(this.menu,"keydown"),this.removeHandler(this.menu,"closed"),this.removeHandler(this.menu,"itemclick"),this.menu.jqxMenu("destroy"),this.menu.removeData(),this.menu.remove()}this.menuitemsarray=new Array,this.menu=me('<div id="menu.jqxscheduler'+this.element.id+'" style="white-space: nowrap; z-index: 9999999999999;"></div>'),this.host.append(this.menu),this.addHandler(me(window),"orientationchange.jqxscheduler"+this.element.id,function(){s.menu.jqxMenu("close"),s._hasOpenedMenu=!1}),this.addHandler(me(window),"orientationchanged.jqxscheduler"+this.element.id,function(){s.menu.jqxMenu("close"),s._hasOpenedMenu=!1}),this.removeHandler(this.menu,"keydown"),this.addHandler(this.menu,"keydown",function(e){27==e.keyCode&&(s.menu.jqxMenu("close"),s._hasOpenedMenu=!1,s.focus())}),this.addHandler(this.menu,"open",function(e){s.contextMenuOpen&&s.contextMenuOpen(s.menu,s.selectedJQXAppointment?s.selectedJQXAppointment.boundAppointment:null,e),s._raiseEvent("contextMenuOpen",{menu:s.menu,appointment:s.selectedJQXAppointment?s.selectedJQXAppointment.boundAppointment:null}),s._removeFeedbackAndStopResize()}),this.addHandler(this.menu,"close",function(e){s.contextMenuClose&&s.contextMenuClose(s.menu,s.selectedJQXAppointment?s.selectedJQXAppointment.boundAppointment:null,e),s._hasOpenedMenu=!1,document.activeElement&&0<=document.activeElement.className.indexOf("jqx-menu")&&!s.menuOpening&&s.focus(),s._raiseEvent("contextMenuClose",{menu:s.menu,appointment:s.selectedJQXAppointment?s.selectedJQXAppointment.boundAppointment:null})}),this.addHandler(this.host,"contextmenu",function(e){return e.preventDefault(),e.stopPropagation(),!1}),this.addHandler(this.menu,"itemclick",function(e){var t=s.menu.jqxMenu("getItem",e.args.id);if((s._raiseEvent("contextMenuItemClick",{item:t,menu:s.menu,appointment:s.selectedJQXAppointment?s.selectedJQXAppointment.boundAppointment:null}),s.contextMenuItemClick)&&1==s.contextMenuItemClick(s.menu,s.selectedJQXAppointment?s.selectedJQXAppointment.boundAppointment:null,e))return 500<new Date-s.renderedTime&&s._renderrows(),s.menu.jqxMenu("close"),void(s._hasOpenedMenu=!1);if("createAppointment"==t.id)s._initDialog(),s._openDialog(),"keyboard"==e.args.clickType&&(s.menu.jqxMenu("close"),s._hasOpenedMenu=!1);else{if("editAppointment"!=t.id)return"keyboard"==e.args.clickType&&(s.menu.jqxMenu("close"),s._hasOpenedMenu=!1),!0;var i=s.getJQXAppointmentByElement(s.selectedAppointment);i.readOnly||!1!==s._initDialog(i)&&s._openDialog(),"keyboard"==e.args.clickType&&(s.menu.jqxMenu("close"),s._hasOpenedMenu=!1)}});var e=new Array;e.push({label:this.schedulerLocalization.contextMenuEditAppointmentString,id:"editAppointment"}),e.push({label:this.schedulerLocalization.contextMenuCreateAppointmentString,id:"createAppointment"});var t={rtl:this.rtl,keyboardNavigation:!0,source:e,popupZIndex:999999,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0};s.contextMenuCreate&&s.contextMenuCreate(s.menu,t),s._raiseEvent("contextMenuCreate",{menu:s.menu,settings:t}),this.menu.jqxMenu(t)}},_initDialog:function(ae,s){var le=this,de=null;if(ae&&ae.isRecurrentAppointment()&&!le.editRecurrenceDialog.jqxWindow("isOpen")){var e=(i=le.host.coord()).top+le.host.height()/2-le.editRecurrenceDialog.height()/2,t=i.left+le.host.width()/2-le.editRecurrenceDialog.width()/2;le.editRecurrenceDialog.find("button:first").focus(),setTimeout(function(){le.editRecurrenceDialog.find("button:first").focus()},25),le.editRecurrenceDialog.jqxWindow("move",t,e),le.editRecurrenceDialog.jqxWindow("open"),le.editSeries=function(e){e?le._initDialog(ae.rootAppointment):le._initDialog(ae),le._openDialog()},le.overlay.show(),le.overlay.width(le.host.width()),le.overlay.height(le.host.height());var i=le.host.coord();return le.overlay.offset(i),le._editDialog||le._initDialog(),!1}if((le.editAppointment=ae)||(de=le.getSelection())||(le.focus(),le.focusedCell||le._updateFocusedCell(),le.focusedCell&&(le.focusedCell.setAttribute("data-selected","true"),le._lastSelectedCell=le.focusedCell,le._updateCellsSelection(le.focusedCell),de=le.getSelection())),de||ae){var he=de?de.from:ae.from,ce=de?de.to:ae.to,r=le.getSelectedCells();if(0<r.length)r[r.length-1].getAttribute("data-end-date")&&(ce=me.jqx.scheduler.utilities.getEndOfDay(ce));le._editStart=he,le._editEnd=ce}if(le.editDialogFields&&le.editDialogFields.resourceContainer&&0<le._resources.length){for(var n=new Array,o=0;o<le._resources.length;o++)n.push(le._resources[o]);var a=!0;10<n.length&&(a=!1),le.editDialogFields.resource.jqxDropDownList({source:n,selectedIndex:0,autoDropDownHeight:a}),ae||le.editDialogFields.resource.val(de.resourceId)}if(le.editDialogFields&&le.editDialogFields.repeatContainer&&(ae&&ae.rootAppointment?(le.editDialogFields.repeatContainer.hide(),le.editDialogFields.repeatPanel.hide()):(le.editDialogFields.repeatContainer.show(),le.editDialogFields.repeatPanel.show())),null==le._editDialog){var ue=(le._editDialog=null)==ae?le.schedulerLocalization.editDialogCreateTitleString:le.schedulerLocalization.editDialogTitleString,pe=me("<div><div>"+ue+"</div><div id='dialog"+this.element.id+"'></div></div>");me(pe).jqxWindow({rtl:le.rtl,autoFocus:!1,autoOpen:!1,animationType:"none",theme:le.theme,width:530,maxHeight:800,minHeight:110,resizable:!1,initContent:function(){le.editDialogFields={},null==he&&null==ce&&le._editStart&&le._editEnd&&(he=le._editStart,ce=le._editEnd),pe.jqxWindow("setTitle",ue);var e=me(pe.children()[1]),t=me("<div></div>");e.append(t);var i=me("<div class='jqx-scheduler-edit-dialog-label'>"+le.schedulerLocalization.editDialogSubjectString+"</div>").appendTo(t),s=me("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(t),r=me("<input type='text'/>").appendTo(s);r.jqxInput({rtl:le.rtl,width:"100%",height:25,theme:le.theme}),r.css("box-sizing","border-box"),le.editDialogFields.subject=r,le.editDialogFields.subjectLabel=i,le.editDialogFields.subjectContainer=t;var n=me("<div></div>");e.append(n);var o=me("<div class='jqx-scheduler-edit-dialog-label'>"+le.schedulerLocalization.editDialogLocationString+"</div>").appendTo(n),a=me("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(n),l=me("<input type='text'/>").appendTo(a);l.jqxInput({rtl:le.rtl,width:"100%",height:25,theme:le.theme}),l.css("box-sizing","border-box"),le.editDialogFields.location=l,le.editDialogFields.locationLabel=o,le.editDialogFields.locationContainer=n;var d=me("<div></div>");e.append(d);var h=me("<div class='jqx-scheduler-edit-dialog-label'>"+le.schedulerLocalization.editDialogFromString+"</div>").appendTo(d),c=me("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(d),u=me("<div></div>").appendTo(c),p=null;he?p=he.toDate():((f=new Date).setHours(9,0,0),p=f);u.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:le.rtl,localization:le._getDateTimeInputLocalization(),firstDayOfWeek:le.schedulerLocalization.firstDay,todayString:le.schedulerLocalization.todayString,clearString:le.schedulerLocalization.clearString,value:p,formatString:le.editDialogDateTimeFormatString,width:"100%",showTimeButton:!0,height:25,theme:le.theme}),le.editDialogFields.from=u,le.editDialogFields.fromLabel=h,le.editDialogFields.fromContainer=d;var m=me("<div></div>");e.append(m);var f,g=me("<div class='jqx-scheduler-edit-dialog-label'>"+le.schedulerLocalization.editDialogToString+"</div>").appendTo(m),v=me("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(m),x=me("<div></div>").appendTo(v),w=null;ce?w=ce.toDate():((f=new Date).setHours(10,0,0),w=f);x.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:le.rtl,localization:le._getDateTimeInputLocalization(),firstDayOfWeek:le.schedulerLocalization.firstDay,todayString:le.schedulerLocalization.todayString,clearString:le.schedulerLocalization.clearString,value:w,formatString:le.editDialogDateTimeFormatString,width:"100%",showTimeButton:!0,height:25,theme:le.theme}),le.editDialogFields.to=x,le.editDialogFields.toLabel=g,le.editDialogFields.toContainer=m,le._changeFromUser=!0,le.addHandler(u,"change",function(e){if(le._changeFromUser){e.args;var t=e.args.oldValue,i=x.val("date"),s=new me.jqx.date(i)-new me.jqx.date(t);if(0<s){var r=1e4*s,n=me.jqx.timeSpan(r),o=new me.jqx.date(e.args.newValue).add(n);x.val(o.toDate())}}}),le.addHandler(x,"change",function(e){if(le._changeFromUser){e.args;var t=e.args.oldValue,i=x.val("date");u.val("date")>=i&&x.val(t)}});var y=me("<div></div>");e.append(y);var b=me("<div class='jqx-scheduler-edit-dialog-label'>"+le.schedulerLocalization.editDialogAllDayString+"</div>").appendTo(y),_=me("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(y),j=me("<div style='position:relative;'></div>").appendTo(_);j.jqxCheckBox({rtl:le.rtl,height:25,width:25,theme:le.theme}),le.editDialogFields.allDay=j,le.editDialogFields.allDayLabel=b,le.editDialogFields.allDayContainer=y,le.addHandler(y,"change",function(e){e.args.checked?(x.jqxDateTimeInput({showTimeButton:!1,formatString:le.editDialogDateFormatString}),u.jqxDateTimeInput({showTimeButton:!1,formatString:le.editDialogDateFormatString})):(x.jqxDateTimeInput({showTimeButton:!0,formatString:le.editDialogDateTimeFormatString}),u.jqxDateTimeInput({showTimeButton:!0,formatString:le.editDialogDateTimeFormatString}))}),me.jqx.scheduler.utilities.getStartOfDay(he).equals(he)&&me.jqx.scheduler.utilities.getEndOfDay(ce).equals(ce)&&le.editDialogFields.allDay.val(!0),(0<=le._views[le._view].type.indexOf("month")||he&&he.equals(ce)||ce&&ce.equals(me.jqx.scheduler.utilities.getEndOfDay(ce))&&he&&he.equals(me.jqx.scheduler.utilities.getStartOfDay(he)))&&le.editDialogFields.allDay.val(!0);var q=me("<div></div>");e.append(q);var T=me("<div class='jqx-scheduler-edit-dialog-label'>"+le.schedulerLocalization.editDialogTimeZoneString+"</div>").appendTo(q),C=me("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(q),S=me("<div></div>").appendTo(C),k=new Array;k.push({displayName:le.schedulerLocalization.editDialogSelectTimeZoneString,id:null}),k=k.concat(le.timeZones);for(var I=0;I<k.length;I++){var D=k[I],P=D.displayName.indexOf(")");if(0<=P)var A=D.displayName.substring(2+P);else A=D.displayName;D.searchName=A}S.jqxDropDownList({rtl:le.rtl,placeHolder:le.schedulerLocalization.editDialogSelectTimeZoneString,width:"100%",height:25,theme:le.theme,searchMember:"searchName",source:k,displayMember:"displayName",valueMember:"id"}),le.editDialogFields.timeZone=S,le.editDialogFields.timeZoneLabel=T,le.editDialogFields.timeZoneContainer=q,le.initRepeatPanels(pe,e,ce.toDate()),le.editDialogFields&&le.editDialogFields.repeatContainer&&(le.editAppointment&&le.editAppointment.rootAppointment?(le.editDialogFields.repeatContainer.hide(),le.editDialogFields.repeatPanel.hide()):(le.editDialogFields.repeatContainer.show(),le.editDialogFields.repeatPanel.show()));var M=me("<div></div>");e.append(M);var B=me("<div class='jqx-scheduler-edit-dialog-label'>"+le.schedulerLocalization.editDialogDescriptionString+"</div>").appendTo(M),H=me("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(M),z=me("<textarea type='text' resizable='off' style='position:relative; top: 3px; padding:3px;'></textarea>").appendTo(H);z.jqxInput({rtl:le.rtl,height:40,width:"100%",theme:le.theme}),z.css("box-sizing","border-box"),le.editDialogFields.description=z,le.editDialogFields.descriptionLabel=B,le.editDialogFields.descriptionContainer=M;var E=me("<div></div>");e.append(E);var O=me("<div class='jqx-scheduler-edit-dialog-label'>"+le.schedulerLocalization.editDialogColorString+"</div>").appendTo(E),N=me("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(E),L=me("<div></div>").appendTo(N);L.jqxDropDownList({rtl:le.rtl,selectedIndex:-1,placeHolder:le.schedulerLocalization.editDialogColorPlaceHolderString,selectionRenderer:function(e,t){if(t<0)return e.css("top","4px"),e.css("position","relative"),e[0].outerHTML;var i="";return i+="<div style='margin-top: 2px; float: left; border-radius: 3px; width: 96%; height: 20px; border: none; background:"+le.colors[t]+"; margin-left: 2%;'></div>"},renderer:function(e){if(-1==e)return"";var t="";t="";return t+="<div style='margin-top: 1px; float: left; border-radius: 3px; width: 96%; height: 20px; border: none; background:"+le.colors[e]+"; margin-left: 2%;'></div>"},source:le.colors,height:25,width:"100%",theme:le.theme}),le.editDialogFields.color=L,le.editDialogFields.colorLabel=O,le.editDialogFields.colorContainer=E;var R=me("<div></div>");e.append(R);var F=me("<div class='jqx-scheduler-edit-dialog-label'>"+le.schedulerLocalization.editDialogStatusString+"</div>").appendTo(R),W=me("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(R),V=me("<div></div>").appendTo(W);V.jqxDropDownList({rtl:le.rtl,selectedIndex:2,autoDropDownHeight:!0,source:le.schedulerLocalization.editDialogStatuses,height:25,width:"100%",theme:le.theme}),le.editDialogFields.status=V,le.editDialogFields.statusLabel=F,le.editDialogFields.statusContainer=R;var G=me("<div></div>");e.append(G);var U=me("<div class='jqx-scheduler-edit-dialog-label'>"+le.schedulerLocalization.editDialogResourceIdString+"</div>").appendTo(G),Y=me("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(G),K=me("<div></div>").appendTo(Y),X=new Array;for(I=0;I<le._resources.length;I++)X.push(le._resources[I]);var $=!0;10<X.length&&($=!1),K.jqxDropDownList({rtl:le.rtl,source:X,selectedIndex:0,autoDropDownHeight:$,height:25,width:"100%",theme:le.theme}),le.editDialogFields.resource=K,le.editDialogFields.resourceLabel=U,le.editDialogFields.resourceContainer=G,0==X.length&&G.hide(),!ae&&de&&le.editDialogFields.resource.val(de.resourceId);var Z=me("<div></div>");e.append(Z);var J=me("<div style='width:100%;' class='jqx-scheduler-edit-dialog-field'></div>").appendTo(Z),Q=me("<button style='margin-left: 5px; float:right;'>"+le.schedulerLocalization.editDialogCancelString+"</button>").appendTo(J),ee=me("<button style='margin-left: 5px; float:right;'>"+le.schedulerLocalization.editDialogDeleteString+"</button>").appendTo(J),te=me("<button style='display: none; margin-left: 5px; float:right;'>"+le.schedulerLocalization.editDialogRepeatDeleteSeriesString+"</button>").appendTo(J),ie=me("<button style='display: none; margin-left: 5px; float:right;'>"+le.schedulerLocalization.editDialogRepeatDeleteString+"</button>").appendTo(J),se=me("<button style='margin-left: 5px; float:right;'>"+le.schedulerLocalization.editDialogSaveString+"</button>").appendTo(J),re=me("<button style='display: none; margin-left: 5px; float:right;'>"+le.schedulerLocalization.editDialogRepeatSaveSeriesString+"</button>").appendTo(J),ne=me("<button style='display: none; margin-left: 5px; float:right;'>"+le.schedulerLocalization.editDialogRepeatSaveString+"</button>").appendTo(J),oe=25;le.isTouchDevice()&&(oe=null),ee.jqxButton({rtl:le.rtl,theme:le.theme,height:oe}),te.jqxButton({rtl:le.rtl,theme:le.theme,height:oe}),ie.jqxButton({rtl:le.rtl,theme:le.theme,height:oe}),se.jqxButton({rtl:le.rtl,theme:le.theme,height:oe}),Q.jqxButton({rtl:le.rtl,theme:le.theme,height:oe}),re.jqxButton({rtl:le.rtl,theme:le.theme,height:oe}),ne.jqxButton({rtl:le.rtl,theme:le.theme,height:oe}),re.hide(),ne.hide(),le.editDialogFields.saveOccurrenceButton=ne,le.editDialogFields.saveSeriesButton=re,le.editDialogFields.saveButton=se,le.editDialogFields.cancelButton=Q,le.editDialogFields.deleteButton=ee,le.editDialogFields.deleteSeriesButton=te,le.editDialogFields.deleteExceptionsButton=ie,le.editDialogFields.buttons=J,le.addHandler(ee,"click",function(){pe.jqxWindow("close"),le.overlay.hide(),le._deleteAppointment(le.editAppointment)}),le.addHandler(Q,"click",function(){pe.jqxWindow("close"),le.overlay.hide()}),le.addHandler(ne,"click",function(){if(le.editAppointment.isException()){for(var e=le.editAppointment.rootAppointment?le.editAppointment.rootAppointment.exceptions:le.editAppointment.exceptions,t=0;t<e.length;t++)if(e[t].occurrenceFrom.equals(le.editAppointment.occurrenceFrom)){e[t]=le.editAppointment;break}}else null!=le.editAppointment.rootAppointment?(le.editAppointment.rootAppointment.exceptions.push(le.editAppointment),le.editAppointment.rootAppointment.recurrenceException.push(le.editAppointment.occurrenceFrom)):(le.editAppointment.exceptions.push(le.editAppointment),le.editAppointment.recurrenceException.push(le.editAppointment.occurrenceFrom));le._setAppointmentPropertiesFromDialog(le.editAppointment,"occurrence")&&(le.changedAppointments[le.editAppointment.id]={type:"Update",appointment:le.editAppointment.boundAppointment},le._raiseEvent("appointmentChange",{appointment:le.editAppointment.boundAppointment}),le._renderrows(),pe.jqxWindow("close"),le.overlay.hide())}),le.addHandler(re,"click",function(){var e=le.editAppointment;e.rootAppointment&&(e=e.rootAppointment),le._setAppointmentPropertiesFromDialog(e,"series")&&(le.changedAppointments[e.id]={type:"Update",appointment:e.boundAppointment},le._raiseEvent("appointmentChange",{appointment:e.boundAppointment}),le._renderrows(),pe.jqxWindow("close"),le.overlay.hide())}),le.addHandler(se,"click",function(){var e=!0;if(null==le.editAppointment){var t=new me.jqx.scheduler.appointment;(e=le._setAppointmentPropertiesFromDialog(t,"none"))&&le.addAppointment(t)}else le.editAppointment.rootAppointment?(ne.trigger("click"),e=!1):le.editAppointment.isRecurrentAppointment()?(re.trigger("click"),e=!1):(e=le._setAppointmentPropertiesFromDialog(le.editAppointment,"none"))&&(le.changedAppointments[le.editAppointment.id]={type:"Update",appointment:le.editAppointment?le.editAppointment.boundAppointment:null},le._raiseEvent("appointmentChange",{appointment:le.editAppointment.boundAppointment}),le._renderrows());e&&(pe.jqxWindow("close"),le.overlay.hide())}),le.addHandler(pe,"close",function(e){le.overlay.hide(),le.focus(),le.editDialogClose&&le.editDialogClose(pe,le.editDialogFields,le.editAppointment?le.editAppointment.boundAppointment:null),le._raiseEvent("editDialogClose",{dialog:pe,fields:le.editDialogFields,appointment:le.editAppointment?le.editAppointment.boundAppointment:null})}),le.editDialogCreate&&le.editDialogCreate(pe,le.editDialogFields,le.editAppointment),le._raiseEvent("editDialogCreate",{dialog:pe,fields:le.editDialogFields,appointment:le.editAppointment?le.editAppointment.boundAppointment:null}),pe.jqxWindow({height:e[0].scrollHeight+40})}}),le._editDialog=pe}le.dialogOpenings||(le.dialogOpenings=0),le.removeHandler(le._editDialog,"open"),le.addHandler(le._editDialog,"open",function(e){if(le.editDialogOpen&&le.editDialogFields&&1==le.editDialogOpen(pe,le.editDialogFields,le.editAppointment?le.editAppointment.boundAppointment:null))return;le.rtl&&(le._editDialog.find(".jqx-scheduler-edit-dialog-label").addClass(le.toThemeProperty("jqx-scheduler-edit-dialog-label-rtl")),le._editDialog.find(".jqx-scheduler-edit-dialog-field").addClass(le.toThemeProperty("jqx-scheduler-edit-dialog-field-rtl")),le.editDialogFields.saveOccurrenceButton.css("float","left"),le.editDialogFields.saveSeriesButton.css("float","left"),le.editDialogFields.saveButton.css("float","left"),le.editDialogFields.cancelButton.css("float","left"),le.editDialogFields.deleteButton.css("float","left"),le.editDialogFields.deleteSeriesButton.css("float","left"),le.editDialogFields.deleteExceptionsButton.css("float","left"),le.editDialogFields.buttons.css("width","auto"),le.editDialogFields.allDay.css("float","right")),setTimeout(function(){var e=le.editAppointment?le.editAppointment.boundAppointment:null;le.editAppointment&&le.editAppointment.rootAppointment&&(e=le.editAppointment.rootAppointment.boundAppointment),le._raiseEvent("editDialogOpen",{dialog:le._editDialog,fields:le.editDialogFields,appointment:e})});var t=function(){setTimeout(function(){s?le.editDialogFields.deleteButton.focus():(le.editDialogFields.subject.focus(),le.editDialogFields.subject.select())},1)},i=null==le.editAppointment?le.schedulerLocalization.editDialogCreateTitleString:le.schedulerLocalization.editDialogTitleString;if(le._editDialog.jqxWindow({title:i}),0==le.dialogOpenings&&!ae)return le.dialogOpenings++,le.isTouchDevice()||(le._editDialog.jqxWindow({height:150}),le._editDialog.jqxWindow({height:me(le._editDialog.children())[1].scrollHeight+40})),le.editDialogFields.deleteButton.hide(),void t();le.editDialogFields&&(le.editDialogFields.subject.val(""),le.editDialogFields.location.val(""),t(),le.editDialogFields.resetExceptions.val(!1),le.editDialogFields.description.val(""),ae||le.editDialogFields.deleteButton.hide(),ae?(le.dialogOpenings++,le.editDialogFields.deleteButton.show(),le.editDialogFields.subject.val(ae.subject),le.editDialogFields.location.val(ae.location),le.editDialogFields.description.val(ae.description),le.editDialogFields.timeZone.val(ae.timeZone),0<=le.colors.indexOf(ae.borderColor)?le.editDialogFields.color.val(ae.borderColor):le.editDialogFields.color.jqxDropDownList("clearSelection"),le.editDialogFields.allDay.val(ae.allDay),le.editDialogFields.resource.val(ae.resourceId),le.editDialogFields.status.val(ae.status),ae.timeZone&&(ae.from=ae.from.toTimeZone(ae.timeZone),ae.to=ae.to.toTimeZone(ae.timeZone)),he=ae.from,ce=ae.to,me.jqx.scheduler.utilities.getStartOfDay(he).equals(he)&&me.jqx.scheduler.utilities.getEndOfDay(ce).equals(ce)&&le.editDialogFields.allDay.val(!0),le._setAppointmentPropertiesToDialog(ae,he,ce,de?de.resourceId:null)):(le.editDialogFields.saveButton.show(),le._setAppointmentPropertiesToDialog(null,he,ce,de?de.resourceId:null)),he&&ce&&(le._changeFromUser=!1,le.editDialogFields.from.val(he.toDate()),le.editDialogFields.to.val(ce.toDate()),le._changeFromUser=!0),le.isTouchDevice()||(le._editDialog.jqxWindow({height:150}),le._editDialog.jqxWindow({height:me(le._editDialog.children())[1].scrollHeight+40})))}),le.removeHandler(le._editDialog,"keydown"),le.addHandler(le._editDialog,"keydown",function(e){if(le.editDialogKeyDown){var t=le.editDialogKeyDown(pe,le.editDialogFields,le.editAppointment,e);if(null!=t)return t}if(13==e.keyCode){if(me(document.activeElement).ischildof(le._editDialog)){if("button"==document.activeElement.nodeName.toLowerCase())return!0;ae?ae.isException()||ae.rootAppointment?le.editDialogFields.saveOccurrenceButton.trigger("click"):ae.isRecurrentAppointment()?le.editDialogFields.saveSeriesButton.trigger("click"):le.editDialogFields.saveButton.trigger("click"):le.editDialogFields.saveButton.trigger("click")}}else 27==e.keyCode&&le.editDialogFields.cancelButton.trigger("click")})},openMenu:function(e,t){var i=this;i.menu||i._initMenu();i._views[i._view].type;if(i.contextMenu&&i.menu){if(i.selectedAppointment?i.menu.jqxMenu("showItem","editAppointment"):i.menu.jqxMenu("hideItem","editAppointment"),arguments.length<2){if(i.selectedAppointment)e=(s=i.selectedAppointment.coord()).left,t=s.top;else if(i.focusedCell)var s=me(i.focusedCell).coord();e=s.left,t=s.top}i.menu.jqxMenu("open",e,t),i._hasOpenedMenu=!0}},closeMenu:function(){var e=this;e.contextMenu&&e.menu&&setTimeout(function(){e.menu.jqxMenu("close")})},closeDialog:function(){this._editDialog.jqxWindow("close")},openDialog:function(e,t){var i=this;i._views[i._view].type;i.selectedJQXAppointment?!1!==i._initDialog(i.selectedJQXAppointment)&&i._openDialog(e,t):(null==i.getSelection()&&(i.focus(),i.focusedCell.setAttribute("data-selected","true"),i._lastSelectedCell=i.focusedCell,i._updateCellsSelection(i.focusedCell)),i._initDialog(),i._openDialog(e,t))},_openDialog:function(e,t){var i=this;i._views[i._view].type;if(i.editDialog){var s=i.host.coord();if(i.overlay.show(),i.overlay.css("z-index",9999999),i.overlay.width(i.host.width()),i.overlay.height(i.host.height()),i.overlay.offset(s),i.isTouchDevice())i._editDialog.jqxWindow("move",s.left,s.top),i._editDialog.jqxWindow({draggable:!1,maxWidth:i.host.width(),maxHeight:i.host.height()}),i._editDialog.jqxWindow({width:i.host.width(),height:i.host.height()}),i._editDialog.jqxWindow("open"),i._editDialog.jqxWindow("move",s.left,s.top);else if(null!=e&&null!=t)i._editDialog.jqxWindow("move",e,t),i._editDialog.jqxWindow("open");else{var r=i._editDialog.height();r<400&&(r=400);var n=s.top+i.host.height()/2-r/2,o=s.left+i.host.width()/2-i._editDialog.width()/2;i._editDialog.jqxWindow("move",o,n),i._editDialog.jqxWindow("open")}setTimeout(function(){i.overlay.css("z-index",999)},50)}},_setAppointmentPropertiesFromDialog:function(e,q){var T=this;return function(e){var t=T._views[T._view].type,i=(T._views[T._view],T.editDialogFields.from.val("date"));if((a=T.editDialogFields.to.val("date"))<i)return T.editDialogFields.from.jqxDateTimeInput("focus"),!1;if(i==a)return 0<=t.indexOf("month");if(e.resourceId=T.editDialogFields.resource.val(),"none"==T.editDialogFields.resourceContainer.css("display")&&(e.resourceId=""),e.description=T.editDialogFields.description.val(),e.allDay=T.editDialogFields.allDay.val(),e.status=T.editDialogFields.status.val(),e.location=T.editDialogFields.location.val(),e.timeZone=T.editDialogFields.timeZone.val(),""==e.timeZone&&""!=T.timeZone&&(e.timeZone=T.timeZone),e.from=new me.jqx.date(i,e.timeZone),e.to=new me.jqx.date(a,e.timeZone),T.timeZone?(e.from=e.from.toTimeZone(T.timeZone),e.to=e.to.toTimeZone(T.timeZone)):(e.from=e.from.toTimeZone(null),e.to=e.to.toTimeZone(null)),e.allDay&&(e.from=me.jqx.scheduler.utilities.getStartOfDay(e.from),e.to=me.jqx.scheduler.utilities.getEndOfDay(e.to)),T.editDialogFields.color.val()){var s=T.getAppointmentColors(T.editDialogFields.color.val());e.color=s.color,e.background=s.background,e.borderColor=s.border}e.subject=T.editDialogFields.subject.val();var r=T.editDialogFields.repeat.jqxDropDownList("selectedIndex"),n=new me.jqx.scheduler.recurrencePattern,o=T.editDialogFields.repeatEndPanel;if(n.timeZone=T.timeZone,n.from=e.from.clone(),"occurrence"==q&&e.rootAppointment&&(n.from=e.rootAppointment.from.clone()),T.editDialogFields.resetExceptions.val()&&(e.exceptions=new Array,e.recurrenceException=new Array),o.repeatEndNever.val())n.count=1e3,n.to=new me.jqx.date(9999,12,31);else if(o.repeatEndAfter.val())n.count=o.repeatEndAfterValue.val(),n.to=new me.jqx.date(9999,12,31);else if(o.repeatEndOn.val()){n.count=1e3;var a=new me.jqx.date(o.repeatEndOnValue.jqxDateTimeInput("getDate"),T.timeZone);n.to=a}switch(r){case 0:default:e.clearRecurrence();break;case 1:var l=T.editDialogFields.daily.repeatDayInterval.val();n.interval=l,n.freq="daily";break;case 2:var d=T.editDialogFields.weekly,h=(l=d.repeatWeekInterval.val(),[{Sunday:0},{Monday:1},{Tuesday:2},{Wednesday:3},{Thursday:4},{Friday:5},{Saturday:6}]),c=d.repeatDays,u=new Array;n.weekDays={};for(var p=0;p<7;p++){c[p].val()&&(0==p?u.push(6):u.push(p-1),me.extend(n.weekDays,h[p]))}n.freq="weekly",n.byweekday=u,n.interval=l;break;case 3:var m=T.editDialogFields.monthly;l=m.repeatMonth.val();if(m.repeatMonthDayBool.val())n.day=m.repeatMonthDay.val(),n.bymonthday=new Array,n.bymonthday.push(n.day);else{var f=m.repeatDayOfWeek.jqxDropDownList("selectedIndex"),g=new Array;0==f?f=6:f--;var v="";switch(m.repeatDayOfWeekType.jqxDropDownList("selectedIndex")){case 0:v=1;break;case 1:v=2;break;case 2:v=3;break;case 3:v=4;break;case 4:v=-1}g.push([f,v]),n.bynweekday=g}n.freq="monthly",n.interval=l;break;case 4:var x=T.editDialogFields.yearly;l=x.repeatYear.val();if(x.repeatYearBool.val())n.day=x.repeatYearDay.val(),n.month=x.repeatYearMonth.jqxDropDownList("selectedIndex"),n.bymonth=new Array,n.bymonth.push(1+n.month),n.byyearday=new Array,n.byyearday.push(n.day);else{n.month=x.repeatDayOfWeekMonth.jqxDropDownList("selectedIndex"),n.bymonth=new Array,n.bymonth.push(1+n.month);f=x.repeatDayOfWeek.jqxDropDownList("selectedIndex"),g=new Array;0==f?f=6:f--;v="";switch(x.repeatDayOfWeekType.jqxDropDownList("selectedIndex")){case 0:v=1;break;case 1:v=2;break;case 2:v=3;break;case 3:v=4;break;case 4:v=-1}g.push([f,v]),n.bynweekday=g}n.freq="yearly",n.interval=l}e.rootAppointment?e.rootAppointment.recurrencePattern=n:0<r&&(e.recurrencePattern=n);var w={},y={};for(var b in T.appointmentDataFields){var _=T.appointmentDataFields[b],j=e[b];w[b]=j,"from"!=b&&"to"!=b||(j=j.toDate()),y[_]=j}return w.originalData=y,(w.jqxAppointment=e).boundAppointment=w,!0}(e)},_setAppointmentPropertiesToDialog:function(e,t,o,i){var f=this;if(function(){var e=f.editDialogFields.repeatEndPanel;e.repeatEndNever.jqxRadioButton({checked:!0}),e.repeatEndAfter.jqxRadioButton({checked:!1}),e.repeatEndAfterValue.val(1),e.repeatEndOnValue.val(t);var t=o.toDate();f.editDialogFields.daily&&f.editDialogFields.daily.repeatDayInterval.val(1);if(f.editDialogFields.weekly){for(var i=f.editDialogFields.weekly,s=0;s<i.repeatDays.length;s++)1==s?i.repeatDays[s].jqxCheckBox({checked:!0}):i.repeatDays[s].jqxCheckBox({checked:!1});i.repeatWeekInterval.val(1)}if(f.editDialogFields.monthly){var r=f.editDialogFields.monthly;r.repeatDayOfWeek.jqxDropDownList("selectIndex",1),r.repeatDayOfWeekBool.jqxRadioButton({checked:!1}),r.repeatDayOfWeekType.jqxDropDownList("selectIndex",0),r.repeatMonthDayBool.jqxRadioButton({checked:!0}),r.repeatMonthDay.val(1),r.repeatMonth.val(1)}if(f.editDialogFields.yearly){var n=f.editDialogFields.yearly;n.repeatDayOfWeekMonth.jqxDropDownList("selectIndex",0),n.repeatDayOfWeekBool.jqxRadioButton({checked:!1}),n.repeatDayOfWeekType.jqxDropDownList("selectIndex",0),n.repeatDayOfWeek.jqxDropDownList("selectIndex",1),n.repeatYear.val(1),n.repeatYearMonth.jqxDropDownList("selectIndex",0),n.repeatYearDay.val(1),n.repeatYearBool.val(!0)}}(),e&&e.isRecurrentAppointment()?e.rootAppointment?f.editDialogFields.resetExceptionsContainer.hide():f.editDialogFields.resetExceptionsContainer.show():e&&(f.editDialogFields.resetExceptionsContainer.hide(),f.editDialogFields.repeat.jqxDropDownList("selectIndex",0)),!e)return f.editDialogFields.timeZone.jqxDropDownList("clearSelection"),i?f.editDialogFields.resource.val(i):f.editDialogFields.resource.jqxDropDownList("selectIndex",0),f.editDialogFields.allDay.val(!1),(0<=f._views[f._view].type.indexOf("month")||t&&t.equals(o)||o&&o.equals(me.jqx.scheduler.utilities.getEndOfDay(o))&&t&&t.equals(me.jqx.scheduler.utilities.getStartOfDay(t)))&&f.editDialogFields.allDay.val(!0),f.editDialogFields.color.jqxDropDownList("clearSelection"),f.editDialogFields.description.val(""),f.editDialogFields.subject.val(""),void f.editDialogFields.repeat.jqxDropDownList("selectIndex",0);!function(e){var t=e.recurrencePattern;e.rootAppointment&&(t=e.rootAppointment.recurrencePattern);if(null!=t){var i=t.freq,s=0;"daily"==i&&(s=1),"weekly"==i&&(s=2),"monthly"==i&&(s=3),"yearly"==i&&(s=4);var r=f.editDialogFields.repeatEndPanel;switch(1e3!=t.count?(r.repeatEndNever.jqxRadioButton({checked:!1}),r.repeatEndAfter.jqxRadioButton({checked:!0}),r.repeatEndAfterValue.val(t.count)):9999!=t.to.year()?(r.repeatEndOn.jqxRadioButton({checked:!0}),r.repeatEndOnValue.val(t.to.toDate())):r.repeatEndNever.jqxRadioButton({checked:!0}),f.editDialogFields.repeat.jqxDropDownList("selectIndex",s),s){case 1:var n=t.interval;f.editDialogFields.daily.repeatDayInterval.val(n);break;case 2:n=t.interval;var o=f.editDialogFields.weekly;o.repeatWeekInterval.val(n);for(var a=t.byweekday,l=0;l<7;l++)(d=o.repeatDays[l]).val(!1);for(l=0;l<a.length;l++){var d;6==(d=a[l])?o.repeatDays[0].val(!0):o.repeatDays[d+1].val(!0)}break;case 3:var h=f.editDialogFields.monthly;if(h.repeatMonth.val(t.interval),t.bymonthday&&0<t.bymonthday.length)h.repeatMonthDayBool.jqxRadioButton({checked:!0}),h.repeatMonthDay.val(t.day);else{h.repeatDayOfWeekBool.jqxRadioButton({checked:!0});var c=(m=t.bynweekday)[0][0];7==++c&&(c=0),h.repeatDayOfWeek.jqxDropDownList("selectIndex",c);var u="";switch(m[0][1]){case 1:u=0;break;case 2:u=1;break;case 3:u=2;break;case 4:u=3;break;case-1:u=4}h.repeatDayOfWeekType.jqxDropDownList("selectIndex",u)}break;case 4:var p=f.editDialogFields.yearly;if(t.byyearday&&0<t.byyearday.length&&(p.repeatYearDay.val(t.byyearday[0]),p.repeatYearBool.val(!0)),t.bymonth&&0<t.bymonth.length&&(p.repeatYearMonth.val(t.bymonth[0]),p.repeatYearBool.val(!0)),!t.byyearday||t.byyearday&&0==t.byyearday.length){var m;switch(p.repeatDayOfWeekMonth.val(t.bymonth[0]),p.repeatDayOfWeekBool.jqxRadioButton({checked:!0}),c=(m=t.bynweekday)[0][0],7==++c&&(c=0),p.repeatDayOfWeek.jqxDropDownList("selectIndex",c),u="",m[0][1]){case 1:u=0;break;case 2:u=1;break;case 3:u=2;break;case 4:u=3;break;case-1:u=4}p.repeatDayOfWeekType.jqxDropDownList("selectIndex",u)}}}}(e)}}),me.jqx.scheduler.column=function(i,e){return this.owner=i,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.editable=!0,this.hidden=!1,this.hideable=!0,this.groupable=!0,this.renderer=null,this.cellsRenderer=null,this.columntype=null,this.cellsFormat="",this.align="center",this.cellsalign="center",this.width="auto",this.minwidth=60,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.resizable=!0,this.draggable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.autoCellHeight=!0,this.validation=null,this.classname="",this.cellclassname="",this.rendered=null,this.exportable=!0,this.nullable=!0,this.columngroup=null,this.columntype="textbox",this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsFormat:this.cellsFormat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){var i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){i=this[e.toLowerCase()];this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(e){if(null!=e){if(me.jqx.hasProperty(e,"dataField")&&(this.datafield=me.jqx.get(e,"dataField")),me.jqx.hasProperty(e,"displayField")?this.displayfield=me.jqx.get(e,"displayField"):this.displayfield=this.datafield,me.jqx.hasProperty(e,"columnType")&&(this.columntype=me.jqx.get(e,"columnType")),me.jqx.hasProperty(e,"validation")&&(this.validation=me.jqx.get(e,"validation")),me.jqx.hasProperty(e,"autoCellHeight")&&(this.autoCellHeight=me.jqx.get(e,"autoCellHeight")),me.jqx.hasProperty(e,"text")?this.text=me.jqx.get(e,"text"):this.text=this.displayfield,me.jqx.hasProperty(e,"sortable")&&(this.sortable=me.jqx.get(e,"sortable")),me.jqx.hasProperty(e,"hidden")&&(this.hidden=me.jqx.get(e,"hidden")),me.jqx.hasProperty(e,"groupable")&&(this.groupable=me.jqx.get(e,"groupable")),me.jqx.hasProperty(e,"renderer")&&(this.renderer=me.jqx.get(e,"renderer")),me.jqx.hasProperty(e,"align")&&(this.align=me.jqx.get(e,"align")),me.jqx.hasProperty(e,"cellsAlign")&&(this.cellsalign=me.jqx.get(e,"cellsAlign")),me.jqx.hasProperty(e,"cellsFormat")&&(this.cellsFormat=me.jqx.get(e,"cellsFormat")),me.jqx.hasProperty(e,"width")&&(this.width=me.jqx.get(e,"width")),me.jqx.hasProperty(e,"minWidth")&&(this.minwidth=me.jqx.get(e,"minWidth")),me.jqx.hasProperty(e,"maxWidth")&&(this.maxwidth=me.jqx.get(e,"maxWidth")),me.jqx.hasProperty(e,"cellsRenderer")&&(this.cellsRenderer=me.jqx.get(e,"cellsRenderer")),me.jqx.hasProperty(e,"columnType")&&(this.columntype=me.jqx.get(e,"columnType")),me.jqx.hasProperty(e,"pinned")&&(this.pinned=me.jqx.get(e,"pinned")),me.jqx.hasProperty(e,"filterable")&&(this.filterable=me.jqx.get(e,"filterable")),me.jqx.hasProperty(e,"filter")&&(this.filter=me.jqx.get(e,"filter")),me.jqx.hasProperty(e,"resizable")&&(this.resizable=me.jqx.get(e,"resizable")),me.jqx.hasProperty(e,"draggable")&&(this.draggable=me.jqx.get(e,"draggable")),me.jqx.hasProperty(e,"editable")&&(this.editable=me.jqx.get(e,"editable")),me.jqx.hasProperty(e,"initEditor")&&(this.initeditor=me.jqx.get(e,"initEditor")),me.jqx.hasProperty(e,"createEditor")&&(this.createeditor=me.jqx.get(e,"createEditor")),me.jqx.hasProperty(e,"destroyEditor")&&(this.destroyeditor=me.jqx.get(e,"destroyEditor")),me.jqx.hasProperty(e,"getEditorValue")&&(this.geteditorvalue=me.jqx.get(e,"getEditorValue")),me.jqx.hasProperty(e,"className")&&(this.classname=me.jqx.get(e,"className")),me.jqx.hasProperty(e,"cellClassName")&&(this.cellclassname=me.jqx.get(e,"cellClassName")),me.jqx.hasProperty(e,"rendered")&&(this.rendered=me.jqx.get(e,"rendered")),me.jqx.hasProperty(e,"exportable")&&(this.exportable=me.jqx.get(e,"exportable")),me.jqx.hasProperty(e,"nullable")&&(this.nullable=me.jqx.get(e,"nullable")),me.jqx.hasProperty(e,"columnGroup")&&(this.columngroup=me.jqx.get(e,"columnGroup")),!e instanceof String&&"string"!=typeof e)for(var t in e)if(!this.hasOwnProperty(t)&&!this.hasOwnProperty(t.toLowerCase()))throw i.host.remove(),new Error("jqxScheduler: Invalid property name - "+t+".")}},this._initfields(e),this},me.jqx.schedulerDataCollection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginUpdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t},this.isempty=function(e){return null==this.records[e]},this.initialize=function(e){e<1&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null!=e&&(this.records[this.records.length]=e,!0)},this.insertAt=function(e,t){return null!=e&&null!=e&&(null!=t&&(0<=e&&(e<this.records.length?(this.records.splice(e,0,t),!0):this.add(t))))},this.remove=function(e){if(null==e||null==e)return!1;var t=this.records.indexOf(e);return-1!=t&&(this.records.splice(t,1),!0)},this.removeAt=function(e){if(null==e||null==e)return!1;if(e<0)return!1;if(e<this.records.length){this.records[e];return this.records.splice(e,1),!0}return!1},this},me.jqx.scheduler.dataView=function(h){return(this.that=this).scheduler=null,this.records=[],this.rows=[],this.columns=[],this.filters=new Array,this.pagesize=0,this.pagenum=0,this.source=null,this.databind=function(e,t){var i=this;if(me.isArray(e))i.update(e);else{var s=!!e._source,r=null;this._sortData=null,this._sortHierarchyData=null,s?e=(r=e)._source:r=new me.jqx.dataAdapter(e,{autoBind:!1});var n,o=function(e){e.originaldata=r.originaldata,e.records=r.records,e.hierarchy=r.hierarchy,e.scheduler.serverProcessing||(e._sortData=null,e._sortfield=null,e._filteredData=null,e._sortHierarchyData=null),e.hierarchy||(e.hierarchy=new Array,r.hierarchy=new Array),r._source.totalrecords?e.totalrecords=r._source.totalrecords:r._source.totalRecords?e.totalrecords=r._source.totalRecords:0!==e.hierarchy.length?e.totalrecords=e.hierarchy.length:e.totalrecords=e.records.length,e.cachedrecords=r.cachedrecords};n=this,r.recordids=[],r.records=new Array,r.cachedrecords=new Array,r.originaldata=new Array,r._options.totalrecords=n.totalrecords,r._options.originaldata=n.originaldata,r._options.recordids=n.recordids,r._options.cachedrecords=new Array,r._options.pagenum=n.pagenum,r._options.pageable=n.pageable,null!=e.type&&(r._options.type=e.type),null!=e.formatdata&&(r._options.formatData=e.formatdata),null!=e.contenttype&&(r._options.contentType=e.contenttype),null!=e.async&&(r._options.async=e.async),null!=e.updaterow&&(r._options.updaterow=e.updaterow),null!=e.addrow&&(r._options.addrow=e.addrow),null!=e.deleterow&&(r._options.deleterow=e.deleterow),0==n.pagesize&&(n.pagesize=10),r._options.pagesize=n.pagesize,this.source=e,void 0!==t&&(uniqueId=t);i=this;switch(e.datatype){case"local":case"array":default:if(null==e.localdata&&(e.localdata=[]),null!=e.localdata)r.unbindBindingUpdate(h+i.scheduler.element.id),(!i.scheduler.autoBind&&i.scheduler.isInitialized||i.scheduler.autoBind)&&r.dataBind(),(d=function(){o(i),i.update(r.records)})(),r.bindBindingUpdate(h+i.scheduler.element.id,d);break;case"ics":case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=e.localdata)return r.unbindBindingUpdate(h+i.scheduler.element.id),(!i.scheduler.autoBind&&i.scheduler.isInitialized||i.scheduler.autoBind)&&r.dataBind(),(d=function(e){o(i),i.update(r.records)})(),void r.bindBindingUpdate(h+i.scheduler.element.id,d);var a={},l=r._options.data;r._options.data?me.extend(r._options.data,a):(e.data&&me.extend(a,e.data),r._options.data=a);var d=function(){var e=function(){o(i),i.update(r.records)};if(me.jqx.browser.msie&&me.jqx.browser.version<9)try{e()}catch(e){}else e()};r.unbindDownloadComplete(h+i.scheduler.element.id),r.bindDownloadComplete(h+i.scheduler.element.id,d),r._source.loaderror=function(e,t,i){d()},(!i.scheduler.autoBind&&i.scheduler.isInitialized||i.scheduler.autoBind)&&r.dataBind(),r._options.data=l}}},this.addFilter=function(e,t){this._sortData=null,this._sortHierarchyData=null;for(var i=-1,s=0;s<this.filters.length;s++)if(this.filters[s].datafield==e){i=s;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removeFilter=function(e){this._sortData=null,this._sortHierarchyData=null;for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this._compare=function(e,t,i){if(void 0===(e=e)&&(e=null),void 0===(t=t)&&(t=null),null===e&&null===t)return 0;if(null===e&&null!==t)return 1;if(null!==e&&null===t)return 1;if(e=e.toString(),t=t.toString(),me.jqx.dataFormat)if(i&&""!=i)switch(i){case"number":case"int":case"float":return e<t?-1:t<e?1:0;case"date":case"time":return e<t?-1:t<e?1:0;case"string":case"text":e=String(e).toLowerCase(),t=String(t).toLowerCase()}else{if(me.jqx.dataFormat.isNumber(e)&&me.jqx.dataFormat.isNumber(t))return e<t?-1:t<e?1:0;if(me.jqx.dataFormat.isDate(e)&&me.jqx.dataFormat.isDate(t))return e<t?-1:t<e?1:0;me.jqx.dataFormat.isNumber(e)||me.jqx.dataFormat.isNumber(t)||(e=String(e).toLowerCase(),t=String(t).toLowerCase())}try{if(e<t)return-1;if(t<e)return 1}catch(e){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)},this.evaluate=function(e){if(this.scheduler.serverProcessing)return e;var t=new Array;if(this.filters.length){var d=new Array,i=function(e,t){for(var i=0;i<e.length;i++){var s=e[i];s._visible=!0;for(var r=void 0,n=0;n<this.filters.length;n++){var o=this.filters[n].filter,a=s[this.filters[n].datafield],l=o.evaluate(a);r=null==r?l:"or"==o.operator?r||l:r&&l}s._visible=!1,(r||s.aggregate)&&(s._visible=!0,t.push(s),d[s.uid]=s)}};if(this._filteredData)this.rows=this._filteredData;else{if(this.source.hierarchy||this.scheduler.source.hierarchy&&0<this.scheduler.source.hierarchy.length){var r=new Array,n=function(e,t){for(var i=0;i<t.length;i++){var s=t[i];r.push(s),s.records&&0<s.records.length&&n(s,s.records)}};n(null,e),i.call(this,r,t);for(var s=0;s<t.length;s++)for(var o=t[s];o.parent;){var a=o.parent;d[a.uid]||(a._visible=!0,d[a.uid]=a),o=a}t=e}else i.call(this,e,t);this._filteredData=t,this.rows=t}}else this.rows=e;return this.rows},this.getid=function(e,t,i){if(0<me(e,t).length)return me(e,t).text();if(this.rows&&""!=e&&null!=e&&0<this.rows.length){null==(n=this.rows[this.rows.length-1][e])&&(n=null);for(var s=1;s<=100;s++){if(!this.scheduler.appointmentsByKey[s+n]){if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){if(this.scheduler.appointmentsByKey["jqx"+n+s])continue;return"jqx"+n+s}return n+s}}}if(null!=e&&0<e.toString().length){var r=me(t).attr(e);if(null!=r&&0<r.toString().length)return this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords?"jqx"+r:r}if(this.rows&&0<this.rows.length&&this.scheduler.appointmentsByKey[i]){var n;null==(n=this.rows[this.rows.length-1][e])&&(n="");for(s=1;s<=1e3;s++){if(!this.scheduler.appointmentsByKey[s+n]){if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){if(this.scheduler.appointmentsByKey["jqx"+n+s])continue;return"jqx"+n+s}return n+s}}}if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){if(!this.scheduler.appointmentsByKey["jqx"+i])return"jqx"+i;for(s=i+1;s<=100;s++){if(!this.scheduler.appointmentsByKey["jqx"+s]){if(this.scheduler.appointmentsByKey["jqx"+s])continue;return"jqx"+s}}}return i},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()},this}}(jqxBaseFramework),function(m){m.jqx.jqxWidget("jqxScrollBar","",{}),m.extend(m.jqx._jqxScrollBar.prototype,{defineInstance:function(){var e={height:null,width:null,vertical:!1,min:0,max:1e3,value:0,step:10,largestep:50,thumbMinSize:10,thumbSize:0,thumbStep:"auto",roundedCorners:"all",showButtons:!0,disabled:!1,touchMode:"auto",touchModeStyle:"auto",thumbTouchSize:0,_triggervaluechanged:!0,rtl:!1,areaDownCapture:!1,areaUpCapture:!1,_initialLayout:!1,offset:0,reference:0,velocity:0,frame:0,timestamp:0,ticker:null,amplitude:0,target:0};return this===m.jqx._jqxScrollBar.prototype||m.extend(!0,this,e),e},createInstance:function(e){this.render()},render:function(){this._mouseup=new Date;var e=this,t="<div id='jqxScrollOuterWrap' style='box-sizing: content-box; width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='box-sizing: content-box; width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div><div id='jqxScrollAreaUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollThumb' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollBtnDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div></div></div>";if(m.jqx.utilities&&"hidden"==m.jqx.utilities.scrollBarButtonsVisibility&&(this.showButtons=!1),e.WinJS?MSApp.execUnsafeLocalFunction(function(){e.host.html(t)}):this.element.innerHTML=t,null!=this.width&&0<parseInt(this.width)&&this.host.width(parseInt(this.width)),null!=this.height&&0<parseInt(this.height)&&this.host.height(parseInt(this.height)),this.isPercentage=!1,null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.width(this.width),this.isPercentage=!0),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.height(this.height),this.isPercentage=!0),this.isPercentage){var i=this;m.jqx.utilities.resize(this.host,function(){i._arrange()},!1)}this.thumbCapture=!1,this.scrollOuterWrap=m(this.element.firstChild),this.scrollWrap=m(this.scrollOuterWrap[0].firstChild),this.btnUp=m(this.scrollWrap[0].firstChild),this.areaUp=m(this.btnUp[0].nextSibling),this.btnThumb=m(this.areaUp[0].nextSibling),this.arrowUp=m(this.btnUp[0].firstChild),this.areaDown=m(this.btnThumb[0].nextSibling),this.btnDown=m(this.areaDown[0].nextSibling),this.arrowDown=m(this.btnDown[0].firstChild);var s=this.element.id;if(this.btnUp[0].id="jqxScrollBtnUp"+s,this.btnDown[0].id="jqxScrollBtnDown"+s,this.btnThumb[0].id="jqxScrollThumb"+s,this.areaUp[0].id="jqxScrollAreaUp"+s,this.areaDown[0].id="jqxScrollAreaDown"+s,this.scrollWrap[0].id="jqxScrollWrap"+s,this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+s,!this.host.jqxRepeatButton)throw new Error("jqxScrollBar: Missing reference to jqxbuttons.js.");this.btnUp.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDown.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDownInstance=m.data(this.btnDown[0],"jqxRepeatButton").instance,this.btnUpInstance=m.data(this.btnUp[0],"jqxRepeatButton").instance,this.areaUp.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.areaDown.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.btnThumb.jqxButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.propertyChangeMap.value=function(e,t,i,s){isNaN(s)||i!=s&&e.setPosition(parseFloat(s),!0)},this.propertyChangeMap.width=function(e,t,i,s){null!=e.width&&0<parseInt(e.width)&&(e.host.width(parseInt(e.width)),e._arrange())},this.propertyChangeMap.height=function(e,t,i,s){null!=e.height&&0<parseInt(e.height)&&(e.host.height(parseInt(e.height)),e._arrange())},this.propertyChangeMap.theme=function(e,t,i,s){e.setTheme()},this.propertyChangeMap.max=function(e,t,i,s){isNaN(s)||i!=s&&(e.max=parseInt(s),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.min=function(e,t,i,s){isNaN(s)||i!=s&&(e.min=parseInt(s),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.disabled=function(e,t,i,s){i!=s&&(s?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e.btnUp.jqxRepeatButton("disabled",e.disabled),e.btnDown.jqxRepeatButton("disabled",e.disabled),e.btnThumb.jqxButton("disabled",e.disabled))},this.propertyChangeMap.touchMode=function(e,t,i,s){i!=s&&(e._updateTouchBehavior(),!0===s?(e.showButtons=!1,e.refresh()):!1===s&&(e.showButtons=!0,e.refresh()))},this.propertyChangeMap.rtl=function(e,t,i,s){i!=s&&e.refresh()},this.buttonUpCapture=!1,this.buttonDownCapture=!1,this._updateTouchBehavior(),this.setPosition(this.value),this._addHandlers(),this.setTheme()},resize:function(e,t){this.width=e,this.height=t,this._arrange()},_updateTouchBehavior:function(){if(this.isTouchDevice=m.jqx.mobile.isTouchDevice(),1==this.touchMode){if(m.jqx.browser.msie&&m.jqx.browser.version<9)return void this.setTheme();this.isTouchDevice=!0,m.jqx.mobile.setMobileSimulator(this.btnThumb[0]),this._removeHandlers(),this._addHandlers(),this.setTheme()}else 0==this.touchMode&&(this.isTouchDevice=!1)},_addHandlers:function(){var a=this,e=!1;try{("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(e=!0,this._touchSupport=!0)}catch(e){}if((a.isTouchDevice||e)&&(this.addHandler(this.btnThumb,m.jqx.mobile.getTouchEventName("touchend"),function(e){var t=a.vertical?a.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):a.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),i=a.toThemeProperty("jqx-fill-state-pressed");return a.btnThumb.removeClass(t),a.btnThumb.removeClass(i),a.disabled||a.handlemouseup(a,e),!1}),this.addHandler(this.btnThumb,m.jqx.mobile.getTouchEventName("touchstart"),function(e){if(!a.disabled){if(1==a.touchMode)e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY;else{var t=e;t.originalEvent.touches&&t.originalEvent.touches.length?(e.clientX=t.originalEvent.touches[0].clientX,e.clientY=t.originalEvent.touches[0].clientY):(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY)}a.handlemousedown(e),e.preventDefault&&e.preventDefault()}}),m.jqx.mobile.touchScroll(this.element,a.max,function(e,t,i,s,r){if("visible"==a.host.css("visibility")){if(1==a.touchMode)r.clientX=r.originalEvent.clientX,r.clientY=r.originalEvent.clientY;else{var n=r;n.originalEvent.touches&&n.originalEvent.touches.length?(r.clientX=n.originalEvent.touches[0].clientX,r.clientY=n.originalEvent.touches[0].clientY):(r.clientX=r.originalEvent.clientX,r.clientY=r.originalEvent.clientY)}var o=a.vertical?a.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):a.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");a.btnThumb.addClass(o),a.btnThumb.addClass(a.toThemeProperty("jqx-fill-state-pressed")),a.thumbCapture=!0,a.handlemousemove(r)}},a.element.id,a.host,a.host)),!this.isTouchDevice){try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var t=null;if(window.parent&&document.referrer&&(t=document.referrer),t&&-1!=t.indexOf(document.location.host)){var i=function(e){a.disabled||a.handlemouseup(a,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",i,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",i)}}}catch(e){}var s="click mouseup mousedown";this.addHandler(this.btnDown,s,function(e){var t=a.step;switch(Math.abs(a.max-a.min)<=t&&(t=1),a.rtl&&!a.vertical&&(t=-a.step),e.type){case"click":a.buttonDownCapture&&!a.isTouchDevice?a.disabled||a.setPosition(a.value+t):!a.disabled&&a.isTouchDevice&&a.setPosition(a.value+t);break;case"mouseup":if(!a.btnDownInstance.base.disabled&&a.buttonDownCapture)return a.buttonDownCapture=!1,a.btnDown.removeClass(a.toThemeProperty("jqx-scrollbar-button-state-pressed")),a.btnDown.removeClass(a.toThemeProperty("jqx-fill-state-pressed")),a._removeArrowClasses("pressed","down"),a.handlemouseup(a,e),a.setPosition(a.value+t),!1;break;case"mousedown":if(!a.btnDownInstance.base.disabled)return a.buttonDownCapture=!0,a.btnDown.addClass(a.toThemeProperty("jqx-fill-state-pressed")),a.btnDown.addClass(a.toThemeProperty("jqx-scrollbar-button-state-pressed")),a._addArrowClasses("pressed","down"),!1}}),this.addHandler(this.btnUp,s,function(e){var t=a.step;switch(Math.abs(a.max-a.min)<=t&&(t=1),a.rtl&&!a.vertical&&(t=-a.step),e.type){case"click":a.buttonUpCapture&&!a.isTouchDevice?a.disabled||a.setPosition(a.value-t):!a.disabled&&a.isTouchDevice&&a.setPosition(a.value-t);break;case"mouseup":if(!a.btnUpInstance.base.disabled&&a.buttonUpCapture)return a.buttonUpCapture=!1,a.btnUp.removeClass(a.toThemeProperty("jqx-scrollbar-button-state-pressed")),a.btnUp.removeClass(a.toThemeProperty("jqx-fill-state-pressed")),a._removeArrowClasses("pressed","up"),a.handlemouseup(a,e),a.setPosition(a.value-t),!1;break;case"mousedown":if(!a.btnUpInstance.base.disabled)return a.buttonUpCapture=!0,a.btnUp.addClass(a.toThemeProperty("jqx-fill-state-pressed")),a.btnUp.addClass(a.toThemeProperty("jqx-scrollbar-button-state-pressed")),a._addArrowClasses("pressed","up"),!1}})}var r="click";if(this.isTouchDevice&&(r=m.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.areaUp,r,function(e){if(!a.disabled){var t=a.largestep;return a.rtl&&!a.vertical&&(t=-a.largestep),a.setPosition(a.value-t),!1}}),this.addHandler(this.areaDown,r,function(e){if(!a.disabled){var t=a.largestep;return a.rtl&&!a.vertical&&(t=-a.largestep),a.setPosition(a.value+t),!1}}),this.addHandler(this.areaUp,"mousedown",function(e){if(!a.disabled)return!(a.areaUpCapture=!0)}),this.addHandler(this.areaDown,"mousedown",function(e){if(!a.disabled)return!(a.areaDownCapture=!0)}),this.addHandler(this.btnThumb,"mousedown dragstart",function(e){if("dragstart"===e.type)return!1;a.disabled||a.handlemousedown(e),e.preventDefault&&e.preventDefault()}),this.addHandler(m(document),"mouseup."+this.element.id,function(e){a.disabled||a.handlemouseup(a,e)}),!this.isTouchDevice&&(this.mousemoveFunc=function(e){a.disabled||a.handlemousemove(e)},this.addHandler(m(document),"mousemove."+this.element.id,this.mousemoveFunc),this.addHandler(m(document),"mouseleave."+this.element.id,function(e){a.disabled||a.handlemouseleave(e)}),this.addHandler(m(document),"mouseenter."+this.element.id,function(e){a.disabled||a.handlemouseenter(e)}),!a.disabled)){this.addHandler(this.btnUp,"mouseenter mouseleave",function(e){"mouseenter"===e.type?a.disabled||a.btnUpInstance.base.disabled||1==a.touchMode||(a.btnUp.addClass(a.toThemeProperty("jqx-scrollbar-button-state-hover")),a.btnUp.addClass(a.toThemeProperty("jqx-fill-state-hover")),a._addArrowClasses("hover","up")):a.disabled||a.btnUpInstance.base.disabled||1==a.touchMode||(a.btnUp.removeClass(a.toThemeProperty("jqx-scrollbar-button-state-hover")),a.btnUp.removeClass(a.toThemeProperty("jqx-fill-state-hover")),a._removeArrowClasses("hover","up"))});var n=a.toThemeProperty("jqx-scrollbar-thumb-state-hover");a.vertical||(n=a.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")),this.addHandler(this.btnThumb,"mouseenter mouseleave",function(e){"mouseenter"===e.type?a.disabled||1==a.touchMode||(a.btnThumb.addClass(n),a.btnThumb.addClass(a.toThemeProperty("jqx-fill-state-hover"))):a.disabled||1==a.touchMode||(a.btnThumb.removeClass(n),a.btnThumb.removeClass(a.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.btnDown,"mouseenter mouseleave",function(e){"mouseenter"===e.type?a.disabled||a.btnDownInstance.base.disabled||1==a.touchMode||(a.btnDown.addClass(a.toThemeProperty("jqx-scrollbar-button-state-hover")),a.btnDown.addClass(a.toThemeProperty("jqx-fill-state-hover")),a._addArrowClasses("hover","down")):a.disabled||a.btnDownInstance.base.disabled||1==a.touchMode||(a.btnDown.removeClass(a.toThemeProperty("jqx-scrollbar-button-state-hover")),a.btnDown.removeClass(a.toThemeProperty("jqx-fill-state-hover")),a._removeArrowClasses("hover","down"))})}},destroy:function(){var e=this.btnUp,t=this.btnDown,i=this.btnThumb,s=(this.scrollWrap,this.areaUp),r=this.areaDown;this.arrowUp.remove(),delete this.arrowUp,this.arrowDown.remove(),delete this.arrowDown,r.removeClass(),s.removeClass(),t.removeClass(),e.removeClass(),i.removeClass(),e.jqxRepeatButton("destroy"),t.jqxRepeatButton("destroy"),s.jqxRepeatButton("destroy"),r.jqxRepeatButton("destroy"),i.jqxButton("destroy");var n=m.data(this.element,"jqxScrollBar");this._removeHandlers(),this.btnUp=null,this.btnDown=null,this.scrollWrap=null,this.areaUp=null,this.areaDown=null,this.scrollOuterWrap=null,delete this.mousemoveFunc,delete this.btnDownInstance,delete this.btnUpInstance,delete this.scrollOuterWrap,delete this.scrollWrap,delete this.btnDown,delete this.areaDown,delete this.areaUp,delete this.btnDown,delete this.btnUp,delete this.btnThumb,delete this.propertyChangeMap.value,delete this.propertyChangeMap.min,delete this.propertyChangeMap.max,delete this.propertyChangeMap.touchMode,delete this.propertyChangeMap.disabled,delete this.propertyChangeMap.theme,delete this.propertyChangeMap,n&&delete n.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter"),this.removeHandler(this.btnDown,"mouseenter"),this.removeHandler(this.btnThumb,"mouseenter"),this.removeHandler(this.btnUp,"mouseleave"),this.removeHandler(this.btnDown,"mouseleave"),this.removeHandler(this.btnThumb,"mouseleave"),this.removeHandler(this.btnUp,"click"),this.removeHandler(this.btnDown,"click"),this.removeHandler(this.btnDown,"mouseup"),this.removeHandler(this.btnUp,"mouseup"),this.removeHandler(this.btnDown,"mousedown"),this.removeHandler(this.btnUp,"mousedown"),this.removeHandler(this.areaUp,"mousedown"),this.removeHandler(this.areaDown,"mousedown"),this.removeHandler(this.areaUp,"click"),this.removeHandler(this.areaDown,"click"),this.removeHandler(this.btnThumb,"mousedown"),this.removeHandler(this.btnThumb,"dragstart"),this.removeHandler(m(document),"mouseup."+this.element.id),this.mousemoveFunc?this.removeHandler(m(document),"mousemove."+this.element.id,this.mousemoveFunc):this.removeHandler(m(document),"mousemove."+this.element.id),this.removeHandler(m(document),"mouseleave."+this.element.id),this.removeHandler(m(document),"mouseenter."+this.element.id)},_addArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?("up"!=t&&null!=t||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),"down"!=t&&null!=t||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):("up"!=t&&null!=t||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),"down"!=t&&null!=t||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},_removeArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?("up"!=t&&null!=t||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),"down"!=t&&null!=t||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):("up"!=t&&null!=t||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),"down"!=t&&null!=t||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},setTheme:function(){var e=this.btnUp,t=this.btnDown,i=this.btnThumb,s=this.scrollWrap,r=(this.areaUp,this.areaDown,this.arrowUp),n=this.arrowDown;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset"),this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");var o=this.toThemeProperty("jqx-reset");this.areaDown[0].className=o,this.areaUp[0].className=o;var a=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.host.addClass(a),this.isTouchDevice&&this.host.addClass(this.toThemeProperty("jqx-scrollbar-mobile")),t[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal"),e[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");var l="";if(this.vertical?(r[0].className=o+" "+this.toThemeProperty("jqx-icon-arrow-up"),n[0].className=o+" "+this.toThemeProperty("jqx-icon-arrow-down"),l=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")):(r[0].className=o+" "+this.toThemeProperty("jqx-icon-arrow-left"),n[0].className=o+" "+this.toThemeProperty("jqx-icon-arrow-right"),l=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")),l+=" "+this.toThemeProperty("jqx-fill-state-normal"),i[0].className=l,this.disabled?(s.addClass(this.toThemeProperty("jqx-fill-state-disabled")),s.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))):(s.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),s.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))),"all"==this.roundedCorners)if(this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.vertical){var d=m.jqx.cssroundedcorners("top");d=this.toThemeProperty(d),e.addClass(d);var h=m.jqx.cssroundedcorners("bottom");h=this.toThemeProperty(h),t.addClass(h)}else{var c=m.jqx.cssroundedcorners("left");c=this.toThemeProperty(c),e.addClass(c);var u=m.jqx.cssroundedcorners("right");u=this.toThemeProperty(u),t.addClass(u)}else{var p=m.jqx.cssroundedcorners(this.roundedCorners);p=this.toThemeProperty(p),elBtnUp.addClass(p),elBtnDown.addClass(p)}p=m.jqx.cssroundedcorners(this.roundedCorners);p=this.toThemeProperty(p),i.hasClass(p)||i.addClass(p),"none"===e.css("display")&&(this.showButtons=!1,this.touchModeStyle=!0,i.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch"))),this.isTouchDevice&&0!=this.touchModeStyle&&(this.showButtons=!1,i.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch")))},isScrolling:function(){return null!=this.thumbCapture&&null!=this.buttonDownCapture&&null!=this.buttonUpCapture&&null!=this.areaDownCapture&&null!=this.areaUpCapture&&(this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture)},track:function(){var e,t,i,s;t=(e=Date.now())-this.timestamp,this.timestamp=e,i=this.offset-this.frame,this.frame=this.offset,s=1e3*i/(1+t),this.velocity=.2*s+.2*this.velocity},handlemousedown:function(e){if(null==this.thumbCapture||0==this.thumbCapture){this.thumbCapture=!0;var t=this.btnThumb;null!=t&&(t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.vertical?t.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):t.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")))}var i=this;this.thumbCapture&&m.jqx.scrollAnimation&&(i.reference=parseInt(i.btnThumb[0].style.top),i.offset=parseInt(i.btnThumb[0].style.top),i.vertical||(i.reference=parseInt(i.btnThumb[0].style.left),i.offset=parseInt(i.btnThumb[0].style.left)),i.velocity=i.amplitude=0,i.frame=i.offset,i.timestamp=Date.now(),clearInterval(i.ticker),i.ticker=setInterval(function(){i.track()},100)),this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartValue=this.value},toggleHover:function(e,t){},refresh:function(){this._arrange()},_setElementPosition:function(e,t,i){isNaN(t)||parseInt(e[0].style.left)!=parseInt(t)&&(e[0].style.left=t+"px"),isNaN(i)||parseInt(e[0].style.top)!=parseInt(i)&&(e[0].style.top=i+"px")},_setElementTopPosition:function(e,t){isNaN(t)||(e[0].style.top=t+"px")},_setElementLeftPosition:function(e,t){isNaN(t)||(e[0].style.left=t+"px")},handlemouseleave:function(e){var t=this.btnUp,i=this.btnDown;if((this.buttonDownCapture||this.buttonUpCapture)&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),this._removeArrowClasses("pressed")),1==this.thumbCapture){var s=this.btnThumb,r=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");s.removeClass(r),s.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemouseenter:function(e){var t=this.btnUp,i=this.btnDown;if(this.buttonUpCapture&&(t.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","up")),this.buttonDownCapture&&(i.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","down")),1==this.thumbCapture){var s=this.btnThumb;this.vertical?s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")),s.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemousemove:function(e){var t=this.btnUp,i=this.btnDown;if(null!=i&&null!=t){if(null!=t&&null!=i&&null!=this.buttonDownCapture&&null!=this.buttonUpCapture&&(this.buttonDownCapture&&0==e.which?(i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","down"),this.buttonDownCapture=!1):this.buttonUpCapture&&0==e.which&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","up"),this.buttonUpCapture=!1)),1!=this.thumbCapture)return!1;var s=this.btnThumb;if(0==e.which&&!this.isTouchDevice&&!this._touchSupport){this.thumbCapture=!1,this._arrange();var r=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");return s.removeClass(r),s.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),!0}null!=e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation();var n=0;try{n=this.vertical?e.clientY-this.dragStartY:e.clientX-this.dragStartX;var o=this._btnAndThumbSize;this._btnAndThumbSize||(o=this.vertical?t.height()+i.height()+s.height():t.width()+i.width()+s.width());var a=(this.max-this.min)/(this.scrollBarSize-o);if("auto"!=this.thumbStep){if(n*=a,Math.abs(this.dragStartValue+n-this.value)>=parseInt(this.thumbStep)){var l=Math.round(parseInt(n)/this.thumbStep)*this.thumbStep;return this.rtl&&!this.vertical?this.setPosition(this.dragStartValue-l):this.setPosition(this.dragStartValue+l),!1}return!1}l=n*=a;this.rtl&&!this.vertical&&(l=-n),this.setPosition(this.dragStartValue+l),this.offset=parseInt(s[0].style.left),this.vertical&&(this.offset=parseInt(s[0].style.top))}catch(e){alert(e)}return!1}},handlemouseup:function(e,t){var i=!1;if(this.thumbCapture){this.thumbCapture=!1;var s=this.btnThumb,r=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");if(s.removeClass(r),s.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i=!0,this._mouseup=new Date,m.jqx.scrollAnimation){var n=this;clearInterval(this.ticker),(25<this.velocity||this.velocity<-25)&&(this.amplitude=.8*this.velocity,this.target=Math.round(this.offset+this.amplitude),this.vertical,this.target-=this.reference,this.timestamp=Date.now(),requestAnimationFrame(function e(){var t,i;if(n.amplitude)if(t=Date.now()-n.timestamp,.5<(i=-n.amplitude*Math.exp(-t/325))||i<-.5){var s=r=(n.max-n.min)/(n.scrollBarSize-n._btnAndThumbSize)*(n.target+i);n.rtl&&!n.vertical&&(s=-r),n.setPosition(n.dragStartValue+s),requestAnimationFrame(e)}else{var r;s=r=(n.max-n.min)/(n.scrollBarSize-n._btnAndThumbSize)*(n.target+i),n.rtl&&!n.vertical&&(s=-r),n.setPosition(n.dragStartValue+s)}}))}}if(this.areaDownCapture=this.areaUpCapture=!1,this.buttonUpCapture||this.buttonDownCapture){var o=this.btnUp,a=this.btnDown;this.buttonUpCapture=!1,this.buttonDownCapture=!1,o.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),a.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),o.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),a.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed"),i=!0,this._mouseup=new Date}i&&(null!=t.preventDefault&&t.preventDefault(),null!=t.originalEvent&&(t.originalEvent.mouseHandled=!0),null!=t.stopPropagation&&t.stopPropagation())},setPosition:function(e,t){this.element;if(null!=e&&NaN!=e||(e=this.min),e>=this.max&&(e=this.max),e<this.min&&(e=this.min),this.value!==e||1==t){if(e==this.max){var i=new m.Event("complete");this.host.trigger(i)}var s=this.value;if(this._triggervaluechanged){var r=new m.Event("valueChanged");r.previousValue=this.value,r.currentValue=e}this.value=e,this._positionelements(),this._triggervaluechanged&&this.host.trigger(r),this.valueChanged&&this.valueChanged({currentValue:this.value,previousvalue:s})}return e},val:function(i){return function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return"number"!=typeof i&&"date"!=typeof i&&"boolean"!=typeof i&&"string"!=typeof i}(i)||0==arguments.length?this.value:(this.setPosition(i),i)},_getThumbSize:function(e){var t=this.max-this.min,i=0;return 1<t?i=e/(t+e)*e:1==t?i=e-1:0==t&&(i=e),0<this.thumbSize&&(i=this.thumbSize),i<this.thumbMinSize&&(i=this.thumbMinSize),Math.min(i,e)},_positionelements:function(){this.element;var e=this.areaUp,t=this.areaDown,i=(this.btnUp,this.btnDown,this.btnThumb),s=(this.scrollWrap,this._height?this._height:this.host.height()),r=this._width?this._width:this.host.width(),n=this.vertical?r:s;this.showButtons||(n=0);var o=this.vertical?s:r;this.scrollBarSize=o;var a=this._getThumbSize(o-2*n);(a=Math.floor(a))<this.thumbMinSize&&(a=this.thumbMinSize),(NaN==s||s<10)&&(s=10),(NaN==r||r<10)&&(r=10),n+=2,this.btnSize=n;var l=this._btnAndThumbSize;if(!this._btnAndThumbSize){l=this.vertical?2*this.btnSize+i.outerHeight():2*this.btnSize+i.outerWidth();l=Math.round(l)}var d=(o-l)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical&&(d=(o-l)/(this.max-this.min)*(this.max-this.value-this.min)),(d=Math.round(d))<0&&(d=0),this.vertical){var h=o-d-l;h<0&&(h=0),t[0].style.height=h+"px",e[0].style.height=d+"px",this._setElementTopPosition(e,n),this._setElementTopPosition(i,n+d),this._setElementTopPosition(t,n+d+a)}else e[0].style.width=d+"px",t[0].style.width=0<=o-d-l?o-d-l+"px":"0px",this._setElementLeftPosition(e,n),this._setElementLeftPosition(i,n+d),this._setElementLeftPosition(t,2+n+d+a)},_arrange:function(){var e=this;if(e._initialLayout)e._initialLayout=!1;else{if(e.min>e.max){var t=e.min;e.min=e.max,e.max=t}if(e.min<0){var i=e.max-e.min;e.min=0,e.max=i}e.element;var s=e.areaUp,r=e.areaDown,n=e.btnUp,o=e.btnDown,a=e.btnThumb,l=e.scrollWrap,d=parseInt(e.element.style.height),h=parseInt(e.element.style.width);if(e.isPercentage)d=e.host.height(),h=e.host.width();isNaN(d)&&(d=0),isNaN(h)&&(h=0),e._width=h,e._height=d;var c=e.vertical?h:d;e.showButtons||(c=0),n[0].style.width=c+"px",n[0].style.height=c+"px",o[0].style.width=c+"px",o[0].style.height=c+"px",e.vertical?l[0].style.width=h+2+"px":l[0].style.height=d+2+"px",e._setElementPosition(n,0,0);var u=c+2;e.vertical?e._setElementPosition(o,0,d-u):e._setElementPosition(o,h-u,0);var p=e.vertical?d:h;e.scrollBarSize=p;var m=e._getThumbSize(p-2*u);(m=Math.floor(m-2))<e.thumbMinSize&&(m=e.thumbMinSize);var f=!1;e.isTouchDevice&&0!=e.touchModeStyle&&(f=!0),e.vertical?(a[0].style.width=h+"px",a[0].style.height=m+"px",f&&0!==e.thumbTouchSize&&(a.css({width:e.thumbTouchSize+"px"}),a.css("margin-left",(e.host.width()-e.thumbTouchSize)/2))):(a[0].style.width=m+"px",a[0].style.height=d+"px",f&&0!==e.thumbTouchSize&&(a.css({height:e.thumbTouchSize+"px"}),a.css("margin-top",(e.host.height()-e.thumbTouchSize)/2))),(NaN==d||d<10)&&(d=10),(NaN==h||h<10)&&(h=10),e.btnSize=c;var g=e.vertical?2*u+(2+parseInt(a[0].style.height)):2*u+(2+parseInt(a[0].style.width));g=Math.round(g);var v=(p-(e._btnAndThumbSize=g))/(e.max-e.min)*(e.value-e.min);if(e.rtl&&!e.vertical&&(v=(p-g)/(e.max-e.min)*(e.max-e.value-e.min)),v=Math.round(v),(isNaN(v)||v<0||v===-1/0||v===1/0)&&(v=0),e.vertical){var x=p-v-g;x<0&&(x=0),r[0].style.height=x+"px",r[0].style.width=h+"px",s[0].style.height=v+"px",s[0].style.width=h+"px";var w=parseInt(e.element.style.height);e.isPercentage&&(w=e.host.height()),a[0].style.visibility="inherit",(w-3*parseInt(c)<0||w<g)&&(a[0].style.visibility="hidden"),e._setElementPosition(s,0,u),e._setElementPosition(a,0,u+v),e._setElementPosition(r,0,u+v+m)}else{0<v&&(s[0].style.width=v+"px"),0<d&&(s[0].style.height=d+"px");var y=p-v-g;y<0&&(y=0),r[0].style.width=y+"px",r[0].style.height=d+"px";var b=parseInt(e.element.style.width);e.isPercentage&&(b=e.host.width()),a[0].style.visibility="inherit",(b-3*parseInt(c)<0||b<g)&&(a[0].style.visibility="hidden"),e._setElementPosition(s,u,0),e._setElementPosition(a,u+v,0),e._setElementPosition(r,u+v+m,0)}}}})}(jqxBaseFramework),function(l){var t=0;l.jqx.jqxWidget("jqxScrollView","",{}),l.extend(l.jqx._jqxScrollView.prototype,{defineInstance:function(){var e={width:320,height:320,buttonsOffset:[0,0],moveThreshold:.5,currentPage:0,animationDuration:300,showButtons:!0,bounceEnabled:!0,slideShow:!1,slideDuration:3e3,disabled:!1,_mouseDown:!1,_movePermited:!1,_startX:-1,_startOffset:-1,_lastOffset:-1,_events:["pageChanged"],_eventsMap:{mousedown:l.jqx.mobile.getTouchEventName("touchstart"),mouseup:l.jqx.mobile.getTouchEventName("touchend"),mousemove:l.jqx.mobile.getTouchEventName("touchmove")}};return this===l.jqx._jqxScrollView.prototype||l.extend(!0,this,e),e},createInstance:function(){t+=1,this._instanceId=t,this._isTouchDevice=l.jqx.mobile.isTouchDevice();var e=this;l.jqx.utilities.resize(this.host,function(){e.refresh()})},resize:function(e,t){this.width=e,this.height=t,this.refresh()},refresh:function(){if(this.host.width(this.width),this.host.height(this.height),this._render(),this._performLayout(),0<=this.moveThreshold.toString().indexOf("%")&&(this.moveThreshold=parseInt(this.moveThreshold,10)/100),this._refreshPages(),this._refreshButtons(),this._removeEventListeners(),this._addEventListeners(),this._changePage(this.currentPage,!1,0),this.slideShow){var e=this;this.slideShowTimer=setInterval(function(){e.currentPage>=e._pages.length-1?e._changePage(0,!0,e.animationDuration):e._changePage(e.currentPage+1,!0,e.animationDuration)},this.slideDuration)}else null!=this.slideShowTimer&&clearInterval(this.slideShowTimer)},destroy:function(){this.host.remove()},_getEvent:function(e){return this._isTouchDevice?this._eventsMap[e]:e},_eventNamespace:function(){return".scrollview"+this._instanceId},_removeEventListeners:function(){this.removeHandler(this._innerWrapper),this.removeHandler(this.host,this._getEvent("mousemove")+this._eventNamespace()),this.removeHandler(l(document),this._getEvent("mouseup")+this._eventNamespace())},_getCoordinate:function(e,t){if(this._isTouchDevice){var i=l.jqx.position(e);if("pageX"==t)return i.left;if("pageY"==t)return i.top;if(e.originalEvent.touches)return e.originalEvent.touches[0][t]}return e[t]},_draggedRight:function(){if(0<this.currentPage){var e=this.currentPage-1,t=l(this._pages[e]);if(t.offset().left+t.outerWidth()-this.host.offset().left>=this.host.width()*this.moveThreshold)return this.changePage(e),!0}return!1},_draggedLeft:function(){if(this.currentPage+1<this._pages.length){var e=this.currentPage+1,t=l(this._pages[e]);if(this.host.width()-(t.offset().left-this.host.offset().left)>=this.host.width()*this.moveThreshold)return this.changePage(e),!0}return!1},_dropTarget:function(){(this._movedLeft?this._draggedLeft():this._draggedRight())||this.changePage(this.currentPage,!1)},_scrollEnabled:function(e){return!!this._mouseDown&&(this._movePermited||15<=Math.abs(this._getCoordinate(e,"pageX")-this._startX)&&(this._movePermited=!0),this._movePermited)},_setMoveDirection:function(e){this._lastOffset>e?this._movedLeft=!0:this._movedLeft=!1},_getBounceOffset:function(e){var t=-(this._innerWrapper.width()-this.host.width());return 0<e?e=0:e<t&&(e=t),e},_addEventListeners:function(){var i=this;this.addHandler(this._innerWrapper,this._getEvent("mousedown")+this._eventNamespace(),function(e){i._mouseDown=!0,i._startX=i._getCoordinate(e,"pageX"),i._startOffset=i._lastOffset=parseInt(i._innerWrapper.css("margin-left"),10)}),this.addHandler(this.host,"dragstart",function(){return!1}),this.addHandler(this.host,this._getEvent("mousemove")+this._eventNamespace(),function(e){if(i._scrollEnabled(e)){var t=i._startOffset+i._getCoordinate(e,"pageX")-i._startX;return i.bounceEnabled||(t=i._getBounceOffset(t)),i._innerWrapper.css("margin-left",t),i._setMoveDirection(t),i._lastOffset=t,e.preventDefault(),!1}return!0}),this.addHandler(l(document),this._getEvent("mouseup")+this._eventNamespace(),function(e){i._movePermited&&i._dropTarget(),i._movePermited=!1,i._mouseDown=!1});try{if((""!=document.referrer||window.frameElement)&&(null!=window.top&&window.parent&&document.referrer&&(parentLocation=document.referrer),-1!=parentLocation.indexOf(document.location.host))){var e=function(e){i._movePermited&&i._dropTarget(),i._movePermited=!1,i._mouseDown=!1};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",e,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",e)}}catch(e){}},_render:function(){this.host.addClass(this.toThemeProperty("jqx-scrollview")),this.host.css({overflow:"hidden",position:"relative"})},_performLayout:function(){this.host.css({width:this.width,height:this.height})},_renderPages:function(){this._innerWrapper||(this._innerWrapper=l("<div/>"),this.host.wrapInner(this._innerWrapper),this._innerWrapper=this.host.children().first()),this._innerWrapper.addClass(this.toThemeProperty("jqx-scrollview-inner-wrapper")),this._innerWrapper.height(this.host.height())},_refreshPage:function(e){e.addClass(this.toThemeProperty("jqx-scrollview-page")),this._performPageLayout(e)},_refreshPages:function(){var e=this,t=0;this._renderPages(),this._pages=this._innerWrapper.children(),this._pages.each(function(){e._refreshPage(l(this)),t+=l(this).outerWidth(!0)}),this._innerWrapper.width(t)},_performPageLayout:function(e){e.css("float","left"),e.width(this.host.width()),e.height(this.host.height())},_refreshButtons:function(){this._renderButtons(),this._removeButtonsEventListeners(),this._addButtonsEventListeners(),this._performButtonsLayout()},_removeButtonsEventListeners:function(){var e=this;this._buttonsContainer.children().each(function(){e.removeHandler(l(this))})},_addButtonsEventListeners:function(){var t=this;this._buttonsContainer.children().each(function(e){t.addHandler(l(this),"click",function(){t.changePage(e)})})},_performButtonsLayout:function(){var e=(this.host.width()-this._buttonsContainer.width())/2,t=0!=this._buttonsContainer.outerHeight()?this._buttonsContainer.outerHeight():14;this._buttonsContainer.css({position:"absolute",left:e+parseInt(this.buttonsOffset[0],10),top:this.host.height()-2*t+parseInt(this.buttonsOffset[1],10)-1})},_renderButtons:function(){var e;this._buttonsContainer&&this._buttonsContainer.remove(),this._buttons=[],this._buttonsContainer=l("<span/>");for(var t=0;t<this._pages.length;t+=1)e=l('<span class="'+this.toThemeProperty("jqx-scrollview-button")+" "+this.toThemeProperty("jqx-fill-state-normal")+'"></span>'),this._buttonsContainer.append(e),this._buttons[t]=e;this._buttonsContainer.appendTo(this.host),this.showButtons||this._buttonsContainer.hide()},_raiseEvent:function(e,t){var i=new l.Event(this._events[e]);return i.args=t,this.host.trigger(i)},_swapButtons:function(e,t){this._buttons[e].removeClass(this.toThemeProperty("jqx-scrollview-button-selected")),this._buttons[e].removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._buttons[t].addClass(this.toThemeProperty("jqx-scrollview-button-selected")),this._buttons[t].addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_changePage:function(e,t,i){if(!this.disabled){var s=l(this._pages[e]),r=(this.host.width()-s.width())/2,n=s.offset().left-this._innerWrapper.offset().left-r,o=this.currentPage,a=this;void 0===i&&(i=this.animationDuration),this._innerWrapper.stop(),this._swapButtons(this.currentPage,e),this.currentPage=e,this._innerWrapper.animate({marginLeft:-n},i,function(){t&&a._raiseEvent(0,{currentPage:e,oldPage:o})})}},propertyChangedHandler:function(e,t,i,s){if("currentPage"===t)e.currentPage=i,e.changePage(s);else if(/(buttonsOffset|width|height)/.test(t))e.refresh();else{if("showButtons"===t)return void(s?e._buttonsContainer.css("display","block"):e._buttonsContainer.css("display","none"));"slideShow"==t&&e.refresh()}},changePage:function(e){if(e>=this._pages.length||e<0)throw new Error("Invalid index!");this._changePage(e,!0)},forward:function(){this.currentPage+1<this._pages.length&&this.changePage(this.currentPage+1)},back:function(){0<=this.currentPage-1&&this.changePage(this.currentPage-1)}})}(jqxBaseFramework),function(B){B.jqx.jqxWidget("jqxSlider","",{}),B.extend(B.jqx._jqxSlider.prototype,{defineInstance:function(){var e={disabled:!1,width:300,height:30,step:1,max:10,min:0,int64:!1,orientation:"horizontal",showTicks:!0,tickMode:"default",tickNumber:10,minorTickNumber:20,niceInterval:!1,ticksPosition:"both",ticksFrequency:2,minorTicksFrequency:1,showMinorTicks:!1,showButtons:!0,buttonsPosition:"both",mode:"default",showRange:!0,rangeSlider:!1,value:0,values:[0,10],tooltip:!1,tooltipFormatFunction:null,tooltipFormatSettings:null,tooltipPosition:"near",tooltipHideDelay:500,sliderButtonSize:14,tickSize:7,minorTickSize:4,showTickLabels:!1,tickLabelStyleSettings:null,tickLabelFormatSettings:null,tickLabelFormatFunction:null,template:"",layout:"normal",rtl:!1,changeType:null,editableLabels:!1,padding:{},_settings:{vertical:{size:"height",oSize:"width",outerOSize:"outerWidth",outerSize:"outerHeight",left:"top",top:"left",start:"_startY",mouse:"_mouseStartY",page:"pageY",opposite:"horizontal"},horizontal:{size:"width",oSize:"height",outerOSize:"outerHeight",outerSize:"outerWidth",left:"left",top:"top",start:"_startX",mouse:"_mouseStartX",page:"pageX",opposite:"vertical"}},_touchEvents:{mousedown:B.jqx.mobile.getTouchEventName("touchstart"),click:B.jqx.mobile.getTouchEventName("touchstart"),mouseup:B.jqx.mobile.getTouchEventName("touchend"),mousemove:B.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_events:["change","slide","slideEnd","slideStart","created"],_invalidArgumentExceptions:{invalidWidth:"Invalid width.",invalidHeight:"Invalid height.",invalidStep:"Invalid step.",invalidMaxValue:"Invalid maximum value.",invalidMinValue:"Invalid minimum value.",invalidTickFrequency:"Invalid tick frequency.",invalidValue:"Invalid value.",invalidValues:"Invalid values.",invalidTicksPosition:"Invalid ticksPosition",invalidButtonsPosition:"Invalid buttonsPosition"},_lastValue:[],_track:null,_leftButton:null,_rightButton:null,_slider:null,_rangeBar:null,_slideEvent:null,_capturedElement:null,_slideStarted:!1,_helpers:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===B.jqx._jqxSlider.prototype||B.extend(!0,this,e),e},_createFromInput:function(e){var t,i,s,r,n,o,a=this;if("input"===a.element.nodeName.toLowerCase()&&(a.field=a.element,a.field.className&&(a._className=a.field.className),t={title:a.field.title},a.field.value&&(t.value=a.field.value),a.field.id.length?t.id=a.field.id.replace(/[^\w]/g,"_")+"_"+e:t.id=B.jqx.utilities.createId()+"_"+e,a.field.getAttribute("min")&&(i=a.field.getAttribute("min"),a.min=parseFloat(i)),a.field.getAttribute("step")&&(s=a.field.getAttribute("step"),a.step=parseFloat(s)),a.field.getAttribute("max")&&(r=a.field.getAttribute("max"),a.max=parseFloat(r)),n=document.createElement("div"),void 0!==t.id&&n.setAttribute("id",t.id),void 0!==t.value&&n.setAttribute("value",t.value),n.style.cssText=a.field.style.cssText,a.width||(a.width=a.field.offsetWidth),a.height||(a.height=a.field.offsetHeight),a.field.style.display="none",a.field.parentNode&&a.field.parentNode.insertBefore(n,a.field.nextSibling),o=a.host.data(),a.host=B(n),a.host.data(o),a.element=n,a.element.id=a.field.id,a.field.id=t.id,a._helpers.element=new jqxHelper(a.element),a._helpers.field=new jqxHelper(a.field),a._className&&(a._helpers.element.addClass(a._className),a._helpers.field.removeClass(a._className)),a.field.tabIndex)){var l=a.field.tabIndex;a.field.tabIndex=-1,a.element.tabIndex=l}},createInstance:function(e){var t=this;window.jqxHelper||(window.jqxHelper=B),t._createFromInput("jqxSlider"),t._isTouchDevice=B.jqx.mobile.isTouchDevice();if(t.element.innerHTML="<div role='slider'><div style='width:100%; height: 100%;'></div></div><div><div></div><div></div><div></div></div><div><div style='width:100%; height: 100%;'></div></div>",t._leftButton=t.element.firstChild,t._contentWrapper=t._leftButton.nextSibling,t._rightButton=t._contentWrapper.nextSibling,t.element.className=t.toThemeProperty("jqx-slider jqx-widget"),t._topTicks=t._contentWrapper.firstChild,t._track=t._topTicks.nextSibling,t._bottomTicks=t._track.nextSibling,t._leftButton.className=t.toThemeProperty("jqx-slider-left"),t._rightButton.className=t.toThemeProperty("jqx-slider-left"),t._helpers.leftButton=new jqxHelper(t._leftButton),t._helpers.rightButton=new jqxHelper(t._rightButton),t._helpers.element=new jqxHelper(t.element),t._helpers.track=new jqxHelper(t._track),!t.host.jqxRepeatButton)throw new Error("jqxSlider: Missing reference to jqxbuttons.js.");if(B.jqx.aria(this),"s"===t.int64){if(!B.jqx.longInt)throw new Error("jqxSlider: Missing reference to jqxmath.js");B.jqx.longInt(t),t._value64=(new B.jqx.math).fromString(t.value.toString(),10),t._values64=[(new B.jqx.math).fromString(t.values[0].toString(),10),(new B.jqx.math).fromString(t.values[1].toString(),10)],t._min64=(new B.jqx.math).fromString(t.min.toString(),10),t._max64=(new B.jqx.math).fromString(t.max.toString(),10),t._step64=(new B.jqx.math).fromString(t.step.toString(),10),t._ticksFrequency64=(new B.jqx.math).fromString(t.ticksFrequency.toString(),10),t._minorTicksFrequency64=(new B.jqx.math).fromString(t.minorTicksFrequency.toString(),10)}else if("u"===t.int64){try{new BigNumber(t.value)}catch(e){throw new Error("jqxSlider: Missing reference to jqxmath.js")}t._value64=new BigNumber(t.value),t._values64=[new BigNumber(t.values[0]),new BigNumber(t.values[1])],t._min64=new BigNumber(t.min),t._max64=new BigNumber(t.max),t._step64=new BigNumber(t.step),t._ticksFrequency64=new BigNumber(t.ticksFrequency),t._minorTicksFrequency64=new BigNumber(t.minorTicksFrequency)}t._helpers.element.width(t.width),t._helpers.element.height(t.height),t._helpers.element.isRendered?t._helpers.element.isRendered()?(B(t._leftButton).jqxRepeatButton({template:t.template,theme:t.theme,delay:50,width:t.sliderButtonSize,height:t.sliderButtonSize}),B(t._rightButton).jqxRepeatButton({template:t.template,theme:t.theme,delay:50,width:t.sliderButtonSize,height:t.sliderButtonSize}),t.render()):(t._helpers.element.sizeChanged(function(){B(t._leftButton).jqxRepeatButton({template:t.template,theme:t.theme,delay:50,width:t.sliderButtonSize,height:t.sliderButtonSize}),B(t._rightButton).jqxRepeatButton({template:t.template,theme:t.theme,delay:50,width:t.sliderButtonSize,height:t.sliderButtonSize}),t.render()}),t._helpers.element.sizeStyleChanged(function(){var e=t._helpers.element.getSizeFromStyle();e.width&&(t.width=e.width),e.height&&(t.height=e.height),t.__trackSize=null,t.__thumbSize=null,t._performLayout(),t._initialSettings()})):(B(t._leftButton).jqxRepeatButton({template:t.template,theme:t.theme,delay:50,width:t.sliderButtonSize,height:t.sliderButtonSize}),B(t._rightButton).jqxRepeatButton({template:t.template,theme:t.theme,delay:50,width:t.sliderButtonSize,height:t.sliderButtonSize}),t.render())},render:function(){var e=this;e._setPaddingValues(),e._rendering=!0,e._refresh(),e._raiseEvent(4,{value:e.getValue()}),e._addInput(),null==e.element.getAttribute("tabindex")&&e.element.setAttribute("tabindex",0),B.jqx.utilities.resize(e.host,function(){e.__trackSize=null,e.__thumbSize=null,e._performLayout(),e._initialSettings()}),"vertical"===e.orientation&&(e.element.style.minWidth="96px"),e._rendering=!1},focus:function(){try{this.host.focus()}catch(e){}},destroy:function(){var e=this;e.removeHandler(B(document),"mouseup.arrow"+e.element.id),e.removeHandler(B(document),e._getEvent("mouseup")+"."+e.element.id),e.removeHandler(B(document),e._getEvent("mousemove")+"."+e.element.id),B.jqx.utilities.resize(this.host,null,!0),e.host.remove(),e._helpers=[]},_addInput:function(){var e=this.element.getAttribute("name"),t=document.createElement("input");t.setAttribute("type","hidden"),this.element.appendChild(t),e&&t.setAttribute("name",e),this.rangeSlider?this.values&&(t.value=this.value.rangeStart.toString()+"-"+this.value.rangeEnd.toString()):t.value=this.value.toString(),this.input=t},_getSetting:function(e){return this._settings[this.orientation][e]},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},refresh:function(e){e||this._refresh()},_refresh:function(){this._render(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._initialSettings()},_render:function(){this._addTrack(),this._addSliders(),this._addTickContainers(),this._updateButtonsVisibility(),this._addRangeBar()},_addTrack:function(){var e=this,t=e._track;e._helpers.track.addClass(e.toThemeProperty("jqx-slider-track")),t.setAttribute("style",""),e._helpers.track.removeClass(e.toThemeProperty("jqx-slider-track-"+e._getSetting("opposite"))),e._helpers.track.addClass(e.toThemeProperty("jqx-slider-track-"+e.orientation)),e._helpers.track.addClass(e.toThemeProperty("jqx-fill-state-normal jqx-rc-all"))},_addSliders:function(){var e=this;if(null===e._slider||e._slider.length<1){e._slider={};var t=document.createElement("div"),i=document.createElement("div");t.className=e.toThemeProperty("jqx-slider-slider"),i.className=e.toThemeProperty("jqx-slider-slider"),e._slider.left=t,e._track.appendChild(t),e._slider.right=i,e._track.appendChild(i),e._helpers.track=new jqxHelper(e._track),e._helpers.left=new jqxHelper(e._slider.left),e._helpers.right=new jqxHelper(e._slider.right),e.template&&(e._helpers.left.addClass(e.toThemeProperty("jqx-"+e.template)),e._helpers.right.addClass(e.toThemeProperty("jqx-"+e.template)))}e._helpers.left.removeClass(e.toThemeProperty("jqx-slider-slider-"+e._getSetting("opposite"))),e._helpers.left.addClass(e.toThemeProperty("jqx-slider-slider-"+e.orientation)),e._helpers.right.removeClass(e.toThemeProperty("jqx-slider-slider-"+e._getSetting("opposite"))),e._helpers.right.addClass(e.toThemeProperty("jqx-slider-slider-"+e.orientation)),e._helpers.right.addClass(e.toThemeProperty("jqx-fill-state-normal")),e._helpers.left.addClass(e.toThemeProperty("jqx-fill-state-normal"))},_addTickContainers:function(){this._bottomTicks.className=this.toThemeProperty("jqx-slider-tickscontainer"),this._topTicks.className=this.toThemeProperty("jqx-slider-tickscontainer");var e="visible";this.showTicks||(e="hidden"),this._bottomTicks.style.visibility=e,this._topTicks.style.visibility=e},_updateButtonsVisibility:function(){var e="block";this.showButtons&&!this.rangeSlider||(e="none"),this._rightButton.style.display=e,this._leftButton.style.display=e},_getNiceInterval:function(e){function t(e){return Math.log(parseFloat(e))/Math.LN10}var i,s=this,r="Width";"vertical"===s.orientation&&(r="Height");var n,o,a=document.createElement("span");if(a.className=s.toThemeProperty("jqx-widget jqx-slider-label"),a.style.position="absolute",a.style.visibility="hidden",s.tickLabelStyleSettings){var l=s.tickLabelStyleSettings;a.style.fontSize=l.fontSize,a.style.fontFamily=l.fontFamily,a.style.fontWeight=l.fontWeight,a.style.fontStyle=l.fontStyle}n=s._formatLabel(s.min),o=s._formatLabel(s.max);var d=B.jqx.browser.msie?0:1;document.body.appendChild(a),a.innerHTML=n;var h=a["scroll"+r]+d;a.innerHTML=o;var c=a["scroll"+r]+d;a.parentNode.removeChild(a);var u=Math.max(c,h),p=0;105<u&&(p=(u-105)/100),u*=1.5+p;var m=s._getTrackSize();64<m&&!1===s.showButtons&&(m-=64);var f,g,v,x,w,y=Math.round(m/u);return 0===y&&(y=1),!0===e&&(y*=4),!1===s.int64?(f=s.max-s.min,g=Math.floor(t(f)-t(y)),w=(i=f<2*(x=y*(v=Math.pow(10,g)))?1:f<3*x?2:f<7*x?5:10)*v):(f=new BigNumber(s.max).subtract(new BigNumber(s.min)),g=Math.floor(t(f.toString())-t(y)),v=new BigNumber(10).pow(new BigNumber(g)),x=new BigNumber(y).multiply(v),i=-1===f.compare(new BigNumber(2*x))?1:-1===f.compare(new BigNumber(3*x))?2:-1===f.compare(new BigNumber(7*x))?5:10,-1===(w=new BigNumber(i).multiply(v)).compare(1)&&(w=new BigNumber(1)),"s"===s.int64&&(w=(new B.jqx.math).fromString(w.toString()))),w},_formatLabel:function(e,t){var i,s=!0!==t?this.tickLabelFormatFunction:this.tooltipFormatFunction,r=!0!==t?this.tickLabelFormatSettings:this.tooltipFormatSettings;return s?i=s(e):r?void 0!==r.radix?i=(new B.jqx.math).getRadixValue(e,this.int64,r.radix):void 0!==r.outputNotation&&"default"!==r.outputNotation&&"decimal"!==r.outputNotation?i=(new B.jqx.math).getDecimalNotation(e,r.outputNotation,r.decimalDigits,r.digits):void 0!==r.decimalDigits?i=Number(e).toFixed(r.decimalDigits):void 0!==r.digits&&(i=Number(Number(e).toPrecision(r.digits)).toString()):i=e,i},_addTicks:function(e,t){var i=this;if(i.showTicks){var s,r,n,o,a,l,d,h,c,u,p,m,f,g=parseInt(e.style[i._getSetting("size")],10),v="normal"===i.layout&&"horizontal"===i.orientation&&!1===i.rtl||"reverse"===i.layout&&"vertical"===i.orientation,x="";!1===i.int64?(a=i.max-i.min,"default"===i.tickMode?(i.niceInterval?(n=i._getNiceInterval(),o=i._getNiceInterval(!0)):(n=i.ticksFrequency,o=i.minorTicksFrequency),l=Math.round(a/n),d=Math.round(a/o)):"tickNumber"===i.tickMode&&(l=i.tickNumber,d=i.minorTickNumber,n=Math.round(a/l)),c=i.min,u=i.max):"s"===i.int64?(a=i._max64.subtract(i._min64),"default"===i.tickMode?(i.niceInterval?(n=i._getNiceInterval(),o=i._getNiceInterval(!0)):(n=i._ticksFrequency64,o=i._minorTicksFrequency64),l=a.div(n).toNumber(),d=a.div(o).toNumber()):"tickNumber"===i.tickMode&&(l=i.tickNumber,d=i.minorTickNumber,n=a.div((new B.jqx.math).fromNumber(l))),c=i._min64.toString(),u=i._max64.toString()):"u"===i.int64&&(a=i._max64.subtract(i._min64),"default"===i.tickMode?(i.niceInterval?(n=i._getNiceInterval(),o=i._getNiceInterval(!0)):(n=i._ticksFrequency64,o=i._minorTicksFrequency64),l=parseInt(a.divide(n).toString(),10),d=parseInt(a.divide(o).toString(),10)):"tickNumber"===i.tickMode&&(l=i.tickNumber,d=i.minorTickNumber,n=a.divide(new BigNumber(l)).intPart()),c=i._min64.toString(),u=i._max64.toString());var w=g/l;h=g/d,e.innerHTML="",r=v?i._formatLabel(c):i._formatLabel(u);var y=document.createElement("span");if(y.style.visibility="hidden",y.className=i.toThemeProperty("jqx-widget jqx-widget-content jqx-slider"),i.tickLabelStyleSettings){var b=i.tickLabelStyleSettings;y.style.fontSize=b.fontSize,y.style.fontFamily=b.fontFamily,y.style.fontWeight=b.fontWeight,y.style.fontStyle=b.fontStyle}document.body.appendChild(y),y.innerHTML="0";var _={width:y.offsetWidth,height:y.offsetHeight};y.parentNode.removeChild(y);var j=parseInt(e.style[i._getSetting("oSize")],10),q="horizontal"===i.orientation?i.padding.left:0;x+=i._addTick(e,q,i.min,j,r,_,!1,t);var T=document.createElement("span");T.className=i.toThemeProperty("jqx-widget"),T.style.position="absolute",T.style.visibility="hidden",document.body.appendChild(T),T.innerHTML=i.min.toString(),p="horizontal"===i.orientation?T.offsetWidth:T.offsetHeight;var C=0,S=0;if("default"===i.tickMode&&!0===i.niceInterval){var k,I;if(!1===i.int64)S=(C=v?(I=(k=i.min)-k%n+n)-k:(k=i.max)-(I=k-k%n))/n*w;else{var D=new BigNumber(n.toString());v?C=(I=(k=new BigNumber(i.min)).subtract(k.mod(D)).add(D)).subtract(k):(I=(k=new BigNumber(i.max)).subtract(k.mod(D)),C=k.subtract(I)),S=parseFloat(C.divide(D).multiply(w).toString())}var P=!0;if(S<=p&&(P=!1),I.toString()!==i.max.toString()&&S<g){var A=i._formatLabel(I.toString());x+=i._addTick(e,S+q,I,j,A,_,!1,t,P)}}for(m=1;m<l;m++){var M;s=m*w+S,s=Math.floor(s),!1===i.int64?M=v?i.min+n*m+C:i.max-n*m-C:"s"===i.int64?M=v?i._min64.add(n.multiply((new B.jqx.math).fromString(m.toString(),10))).add((new B.jqx.math).fromString(C.toString(),10)).toString():i._max64.subtract(n.multiply((new B.jqx.math).fromString(m.toString(),10))).subtract((new B.jqx.math).fromString(C.toString(),10)).toString():"u"===i.int64&&(M=v?i._min64.add(n.multiply(m)).add(C).toString():i._max64.subtract(n.multiply(m)).subtract(C).toString()),M.toString()!==i.max.toString()&&(r=i._formatLabel(M.toString()),f=!0,"default"===i.tickMode&&!0===i.niceInterval&&(T.innerHTML=r,l*w<=s+(p="horizontal"===i.orientation?T.offsetWidth:T.offsetHeight)&&(f=!1)),x+=i._addTick(e,s+q,m,j,r,_,!1,t,f))}if(i.showMinorTicks)for(m=1;m<d;m++)s=m*h,s=Math.floor(s),r="",x+=i._addTick(e,s+q,m,j,r,_,!0,t);r=v?i._formatLabel(u):i._formatLabel(c),x+=i._addTick(e,l*w+q,i.max,j,r,_,!1,t),e.innerHTML=x,T.parentNode.removeChild(T)}},_addTick:function(e,t,i,s,r,n,o,a,l){var d,h,c=this,u="";u=c.toThemeProperty("jqx-slider-tick"),u+=" "+c.toThemeProperty("jqx-fill-state-pressed"),c.template&&(u+=" "+c.toThemeProperty("jqx-"+c.template));var p=c._getSetting("top"),m="2px",f=c.tickSize;if(o&&(f=c.minorTickSize),e!==c._bottomTicks&&(m=s-f-2+"px"),"horizontal"===c.orientation){if(h='<div style="'+p+": "+m+"; "+c._getSetting("oSize")+":  "+f+"px; float: left; position:absolute; left:"+t+'px;" class="'+c.toThemeProperty("jqx-slider-tick-horizontal")+" "+u+'"></div>',c.showTickLabels){m=e!==c._bottomTicks?s-f-n.height-2+"px":2+f+"px";var g=n.width*r.toString().length;if(d=t-(g/=2),!1!==l){var v="",x="",w="",y="";if(c.tickLabelStyleSettings){var b=c.tickLabelStyleSettings;b.fontSize&&(v=b.fontSize),b.fontFamily&&(x=b.fontFamily),b.fontWeight&&(w=b.fontWeight),b.fontStyle&&(y=b.fontStyle)}h+='<div class="'+c.toThemeProperty("jqx-slider-label jqx-slider-label-"+a)+'" style="'+p+": "+m+"; float: left; position:absolute; left:"+d+"px; white-space: nowrap; font-size: "+v+"; font-family: "+x+"; font-weight: "+w+"; font-style: "+y+'">'+r+"</div>"}}}else if(h='<div style="'+p+": "+m+"; "+c._getSetting("oSize")+":  "+f+"px; float: none; position:absolute; top:"+t+'px;" class="'+c.toThemeProperty("jqx-slider-tick-vertical")+" "+u+'"></div>',c.showTickLabels){m=e!==c._bottomTicks?s-f-r.toString().length*n.width-6+"px":6+f+"px";var _=n.height;d=t-(_/=2),!1!==l&&(h+='<div class="'+c.toThemeProperty("jqx-slider-label jqx-slider-label-"+a)+'" style="'+p+": "+m+"; float: none; position:absolute; top:"+d+'px;">'+r+"</div>")}return h},_addRangeBar:function(){var e=this;(null===e._rangeBar||e._rangeBar.length<1)&&(e._rangeBar=document.createElement("div"),e._rangeBar.className=e.toThemeProperty("jqx-slider-rangebar jqx-fill-state-pressed jqx-rc-all"),e.template&&(e._rangeBar.className+=" "+e.toThemeProperty("jqx-"+e.template)),e._helpers.rangeBar=new jqxHelper(e._rangeBar),e._track.appendChild(e._rangeBar)),e.showRange?e._rangeBar.style.display="block":e._rangeBar.style.display="none",e._thumbSize=e._slider.left.offsetWidth},_getLeftDisplacement:function(){if(!this.showButtons)return 0;if(this.rangeSlider)return 0;switch(this.buttonsPosition){case"left":return this._leftButton[this._getSetting("outerSize")](!0)+this._rightButton[this._getSetting("outerSize")](!0);case"right":return 0;default:return this._leftButton[this._getSetting("outerSize")](!0)}return 0},_performLayout:function(){var e=this;null!==e.width&&-1!==e.width.toString().indexOf("px")?e.element.style.width=parseInt(e.width,10)+"px":void 0===e.width||isNaN(e.width)||(e.element.style.width=parseInt(e.width,10)+"px"),null!==e.height&&-1!==e.height.toString().indexOf("px")?e.element.style.height=parseInt(e.height,10)+"px":void 0===e.height||isNaN(e.height)||(e.element.style.height=parseInt(e.height,10)+"px");null!==e.width&&-1!==e.width.toString().indexOf("%")&&(!0,e._helpers.element.width(e.width)),null!==e.height&&-1!==e.height.toString().indexOf("%")&&(!0,e._helpers.element.height(e.height));var t=e._helpers.element.innerHeight();"width"===e._getSetting("size")&&(t=e._helpers.element.innerWidth()),e._performButtonsLayout(),e._performTrackLayout(t-6),e._contentWrapper.style[e._getSetting("size")]=e._track.style[e._getSetting("size")],e._contentWrapper.style[e._getSetting("oSize")]=e.element.style[e._getSetting("oSize")],e._performTicksLayout(),e._performRangeBarLayout();var i=e.padding;if("horizontal"===e.orientation){if(e._contentWrapper.style.position="absolute",e._contentWrapper.style.left="0px",e._contentWrapper.style.top="0px",e.showButtons&&!e.rangeSlider&&(e._contentWrapper.style.left=1+e._helpers.leftButton.outerWidth(!0)+"px",e._leftButton.style.left=i.left+"px",e._rightButton.style.right=i.right+"px","left"===e.buttonsPosition?(e._contentWrapper.style.left=2+2*e._helpers.leftButton.innerWidth()+e._helpers.left.innerWidth()/2+"px",e._rightButton.style.left=1+e._helpers.leftButton.innerWidth()+"px"):"right"===e.buttonsPosition&&(e._contentWrapper.style.left=e._helpers.left.innerWidth()/2+"px",e._leftButton.style.left="",e._leftButton.style.right=1+i.right+e._helpers.leftButton.innerWidth()+"px",e._rightButton.style.right=e._leftButton.style.right-e._helpers.leftButton.innerWidth()+"px")),!e.showButtons||e.rangeSlider){var s=2+Math.ceil(e.sliderButtonSize/2);e._contentWrapper.style.left=s+"px"}}else if(e._contentWrapper.style.position="absolute",e._contentWrapper.style.left="0px",e._contentWrapper.style.top="0px",e.showButtons&&!e.rangeSlider&&(e._contentWrapper.style.top=1+e._helpers.leftButton.outerHeight(!0)+"px",e._leftButton.style.top="0px",e._rightButton.style.bottom="0px",e._leftButton.style.left="",e._leftButton.style.right="",e._rightButton.style.left="",e._rightButton.style.right="","left"===e.buttonsPosition?(e._contentWrapper.style.top=2+2*e._helpers.leftButton.innerHeight()+e._helpers.left.innerHeight()/2+"px",e._rightButton.style.top=1+e._helpers.leftButton.innerHeight()+"px"):"right"===e.buttonsPosition&&(e._contentWrapper.style.top=e._helpers.left.innerHeight()/2+"px",e._leftButton.style.top="",e._leftButton.style.bottom=1+e._helpers.leftButton.innerHeight()+"px",e._rightButton.style.bottom=e._leftButton.style.bottom-e._helpers.leftButton.innerHeight()+"px")),!e.showButtons||e.rangeSlider){s=2+Math.ceil(e.sliderButtonSize/2);e._contentWrapper.style.top=s+"px"}if(e.rangeSlider?e._slider.left.style.visibility="visible":e._slider.left.style.visibility="hidden",e._refreshRangeBar(),"vertical"===e.orientation&&e.showButtons){e._leftButton.offsetWidth,e._track.offsetWidth;e._track.style.marginLeft="1px"}e._editableLabels()},_performTrackLayout:function(e){var t=this,i=e;(t.showButtons&&!t.rangeSlider&&("horizontal"===t.orientation?i-=t._helpers.leftButton.innerWidth()+t._helpers.rightButton.innerWidth()+4:i-=t._helpers.leftButton.innerHeight()+t._helpers.rightButton.innerHeight()+4),t.rangeSlider||!t.showButtons)&&(i=e-2*(2+Math.ceil(t.sliderButtonSize/2)));"horizontal"===t.orientation?(i-=t.padding.left+t.padding.right,i-=t._helpers.left.outerWidth()-2):i-=t._helpers.left.outerHeight()-2,t._track.style[t._getSetting("size")]=i+"px",t._track.style.left=t.padding.left+"px",t._slider.left.style.left="0px",t._slider.left.style.top="0px",t._slider.right.style.left="0px",t._slider.right.style.top="0px"},_performTicksLayout:function(){var e=this;e._performTicksContainerLayout(),e._addTicks(this._topTicks,"top"),e._addTicks(this._bottomTicks,"bottom"),e._topTicks.style.visibility="hidden",e._bottomTicks.style.visibility="hidden","top"!==e.ticksPosition&&"both"!==e.ticksPosition||!e.showTicks||(e._topTicks.style.visibility="visible"),"bottom"!==e.ticksPosition&&"both"!==e.ticksPosition||!e.showTicks||(e._bottomTicks.style.visibility="visible")},_performTicksContainerLayout:function(){var e,t=this;"horizontal"===t.orientation?(t._topTicks.style.width=t._track.style.width,t._bottomTicks.style.width=t._track.style.width,e=(parseInt(t.element.style.height,10)-t._helpers.track.outerHeight())/2-2,t._topTicks.style.height=e+"px",t._bottomTicks.style.height=e+"px",t._topTicks.style.float="none",t._track.style.float="none",t._bottomTicks.style.float="none"):(t._topTicks.style.height=t._track.style.height,t._bottomTicks.style.height=t._track.style.height,e=(parseInt(t.element.style.width,10)-t._helpers.track.outerWidth())/2-2,t._topTicks.style.width=e+"px",t._bottomTicks.style.width=e+"px",t._topTicks.style.float="left",t._track.style.float="left",t._bottomTicks.style.float="left")},_performButtonsLayout:function(){this._updateButtonsVisibilityStyles(),this._updateButtonsVisibilityClasses(),this._updateButtonsVisibilityHover(),this._centerElement(this._rightButton),this._centerElement(this._leftButton),this._layoutButtons()},_centerElement:function(e){var t=new jqxHelper(e);e.style.marginLeft="0px",e.style.marginTop="0px",e.style.marginRight="0px",e.style.marginBottom="0px";var i=(parseFloat(this.element.style[this._getSetting("oSize")])-parseFloat(t[this._getSetting("outerOSize")]()))/2;return"horizontal"===this.orientation?(e.style.marginLeft="0px",e.style.marginTop=i+"px"):(e.style.marginTop="0px;",e.style.marginLeft=i+"px"),e},_updateButtonsVisibilityStyles:function(){this._leftButton.style.backgroundPosition="center",this._rightButton.style.backgroundPosition="center","vertical"===this.orientation&&(this._leftButton.style.float="none",this._rightButton.style.float="none"),this._leftButton.style.position="absolute",this._rightButton.style.position="absolute"},_updateButtonsVisibilityClasses:function(){var e=this,t={prev:"left",next:"right"};"vertical"===e.orientation&&(t={prev:"up",next:"down"}),e._helpers.leftButton.addClass(e.toThemeProperty("jqx-rc-all jqx-slider-button")),e._helpers.rightButton.addClass(e.toThemeProperty("jqx-rc-all jqx-slider-button")),e._leftArrow=e._leftButton.firstChild,e._rightArrow=e._rightButton.firstChild,e._helpers.leftArrow=new jqxHelper(e._leftArrow),e._helpers.rightArrow=new jqxHelper(e._rightArrow),e._helpers.leftArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-left")),e._helpers.rightArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-right")),e._helpers.leftArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up")),e._helpers.rightArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down")),e._helpers.leftArrow.addClass(e.toThemeProperty("jqx-icon-arrow-"+t.prev)),e._helpers.rightArrow.addClass(e.toThemeProperty("jqx-icon-arrow-"+t.next))},_updateButtonsVisibilityHover:function(){var e=this,t={prev:"left",next:"right"};"vertical"===e.orientation&&(t={prev:"up",next:"down"}),e.removeHandler(B(document),"mouseup.arrow"+e.element.id),e.addHandler(B(document),"mouseup.arrow"+e.element.id,function(){e._helpers.leftArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-"+t.prev+"-selected")),e._helpers.rightArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-"+t.next+"-selected")),e.sliderTooltip?(e.sliderTooltipTimer&&clearTimeout(e.sliderTooltipTimer),e.sliderTooltipTimer=setTimeout(function(){e.sliderTooltipObj.fadeOut("fast"),e._mouseDown=!1},e.tooltipHideDelay)):e._mouseDown=!1}),e.removeHandler(e._leftButton,"mousedown."+e.element.id),e.removeHandler(e._leftButton,"mouseup."+e.element.id),e.removeHandler(e._leftButton,"mouseenter."+e.element.id),e.removeHandler(e._leftButton,"mouseleave."+e.element.id),e.removeHandler(e._rightButton,"mousedown."+e.element.id),e.removeHandler(e._rightButton,"mouseup."+e.element.id),e.removeHandler(e._rightButton,"mouseenter."+e.element.id),e.removeHandler(e._rightButton,"mouseleave."+e.element.id),e.addHandler(e._leftButton,"mousedown."+e.element.id,function(){e.disabled||(e._helpers.leftArrow.addClass(e.toThemeProperty("jqx-icon-arrow-"+t.prev+"-selected")),e._mouseDown=!0)}),e.addHandler(e._leftButton,"mouseup."+e.element.id,function(){e.disabled||e._helpers.leftArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-"+t.prev+"-selected"))}),e.addHandler(e._leftButton,"mouseenter."+e.element.id,function(){e.disabled||e._helpers.leftArrow.addClass(e.toThemeProperty("jqx-icon-arrow-"+t.prev+"-hover"))}),e.addHandler(e._leftButton,"mouseleave."+e.element.id,function(){e.disabled||e._helpers.leftArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-"+t.prev+"-hover"))}),e.addHandler(e._rightButton,"mousedown."+e.element.id,function(){e.disabled||(e._helpers.rightArrow.addClass(e.toThemeProperty("jqx-icon-arrow-"+t.next+"-selected")),e._mouseDown=!0)}),e.addHandler(e._rightButton,"mouseup."+e.element.id,function(){e.disabled||e._helpers.rightArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-"+t.next+"-selected"))}),e.addHandler(e._rightButton,"mouseenter."+e.element.id,function(){e.disabled||e._helpers.rightArrow.addClass(e.toThemeProperty("jqx-icon-arrow-"+t.next+"-hover"))}),e.addHandler(e._rightButton,"mouseleave."+e.element.id,function(){e.disabled||e._helpers.rightArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-"+t.next+"-hover"))})},_layoutButtons:function(){"horizontal"===this.orientation?this._horizontalButtonsLayout():this._verticalButtonsLayout()},_horizontalButtonsLayout:function(){var e=2+Math.ceil(this.sliderButtonSize/2);"left"===this.buttonsPosition?(this._leftButton.style.marginRight="0px",this._rightButton.style.marginRight=e+"px"):"right"===this.buttonsPosition?(this._leftButton.style.marginLeft=2+e+"px",this._rightButton.style.marginRight="0px"):(this._leftButton.style.marginRight=e+"px",this._rightButton.style.marginLeft=e+"px")},_verticalButtonsLayout:function(){var e=this,t=2+Math.ceil(e.sliderButtonSize/2);"left"===e.buttonsPosition?(e._leftButton.style.marginBottom="0px",e._rightButton.style.marginBottom=t+"px"):"right"===e.buttonsPosition?(e._leftButton.style.marginTop=2+t+"px",e._rightButton.style.marginBottom="0px"):(e._leftButton.style.marginBottom=t+"px",e._rightButton.style.marginTop=2+t+"px");var i=parseInt(e._leftButton.style.marginLeft,10);e._leftButton.style.marginLeft=i-1+"px",e._rightButton.style.marginLeft=i-1+"px"},_performRangeBarLayout:function(){var e=this;e._rangeBar.style[e._getSetting("oSize")]=e._helpers.track[e._getSetting("oSize")]()+"px",e._rangeBar.style[e._getSetting("size")]=e._helpers.track[e._getSetting("size")]()+"px",e._rangeBar.style.position="absolute",e._rangeBar.style.left="0px",e._rangeBar.style.top="0px"},_raiseEvent:function(e,t){var i=this._events[e],s=new B.Event(i,this.element);return!1===this._triggerEvents||(!!this._rendering||(s.args=t,0===e&&(s.args.type=this.changeType,this.changeType=null),1===e&&(s.args.cancel=!1,this._slideEvent=s),this._lastValue[e]=t.value,(s.owner=this).host.trigger(s)))},_initialSettings:function(){var e=this;!1===e.int64?e.rangeSlider?"number"!=typeof e.value?e.setValue(e.value):e.setValue(e.values):(void 0===e.value&&(e.value=0),e.setValue(e.value)):!1===e.rangeSlider||!0===Array.isArray(e._value64)?e.setValue(e._value64):e.setValue(e._values64),e.disabled&&e.disable()},_addEventHandlers:function(){var e=this;e.addHandler(e._slider.right,e._getEvent("mousedown"),e._startDrag,{that:this}),e.addHandler(e._slider.left,e._getEvent("mousedown"),e._startDrag,{that:this}),e.addHandler(B(document),e._getEvent("mouseup")+"."+e.element.id,function(){e._stopDrag()});try{if((""!==document.referrer||window.frameElement)&&null!==window.top&&window.top!==window.self){var t=function(){e._stopDrag()},i=null;window.parent&&document.referrer&&(i=document.referrer),i&&-1!==i.indexOf(document.location.host)&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",t,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",t))}}catch(e){}e.addHandler(B(document),e._getEvent("mousemove")+"."+e.element.id,e._performDrag,{that:this}),e.addHandler(e._slider.left,"mouseenter",function(){e.disabled||e._helpers.left.addClass(e.toThemeProperty("jqx-fill-state-hover"))}),e.addHandler(e._slider.right,"mouseenter",function(){e.disabled||e._helpers.right.addClass(e.toThemeProperty("jqx-fill-state-hover"))}),e.addHandler(e._slider.left,"mouseleave",function(){e.disabled||e._helpers.left.removeClass(e.toThemeProperty("jqx-fill-state-hover"))}),e.addHandler(e._slider.right,"mouseleave",function(){e.disabled||e._helpers.right.removeClass(e.toThemeProperty("jqx-fill-state-hover"))}),e.addHandler(e._slider.left,"mousedown",function(){e.disabled||e._helpers.left.addClass(e.toThemeProperty("jqx-fill-state-pressed"))}),e.addHandler(e._slider.right,"mousedown",function(){e.disabled||e._helpers.right.addClass(e.toThemeProperty("jqx-fill-state-pressed"))}),e.addHandler(e._slider.left,"mouseup",function(){e.disabled||e._helpers.left.removeClass(e.toThemeProperty("jqx-fill-state-pressed"))}),e.addHandler(e._slider.right,"mouseup",function(){e.disabled||e._helpers.right.removeClass(e.toThemeProperty("jqx-fill-state-pressed"))}),e.addHandler(e._leftButton,e._getEvent("click"),e._leftButtonHandler,{that:this}),e.addHandler(e._rightButton,e._getEvent("click"),e._rightButtonHandler,{that:this}),e.addHandler(e._track,e._getEvent("mousedown"),e._trackMouseDownHandler,{that:this}),e.addHandler(e.host,"focus",function(){e._helpers.track.addClass(e.toThemeProperty("jqx-fill-state-focus")),e._helpers.leftButton.addClass(e.toThemeProperty("jqx-fill-state-focus")),e._helpers.rightButton.addClass(e.toThemeProperty("jqx-fill-state-focus")),e._helpers.right.addClass(e.toThemeProperty("jqx-fill-state-focus")),e._helpers.left.addClass(e.toThemeProperty("jqx-fill-state-focus"))}),e.addHandler(e.host,"blur",function(){e._helpers.track.removeClass(e.toThemeProperty("jqx-fill-state-focus")),e._helpers.leftButton.removeClass(e.toThemeProperty("jqx-fill-state-focus")),e._helpers.rightButton.removeClass(e.toThemeProperty("jqx-fill-state-focus")),e._helpers.right.removeClass(e.toThemeProperty("jqx-fill-state-focus")),e._helpers.left.removeClass(e.toThemeProperty("jqx-fill-state-focus"))}),e.element.onselectstart=function(){return!1},e._addMouseWheelListeners(),e._addKeyboardListeners()},_addMouseWheelListeners:function(){var i=this;i.addHandler(i.host,"mousewheel",function(e){if(i.disabled)return!0;if(i.changeType="mouse",document.activeElement&&!B(document.activeElement).ischildof(i.host))return!0;var t=e.wheelDelta;e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),"wheelDelta"in e||(t=-40*e.detail),0<t?i.incrementValue():i.decrementValue(),e.preventDefault()})},_addKeyboardListeners:function(){var t=this;t.addHandler(t.host,"keydown",function(e){if(!0!==t._editingLabels)switch(t.changeType="keyboard",e.keyCode){case 40:case 37:return"normal"!==t.layout||t.rtl?t.incrementValue():t.decrementValue(),!1;case 38:case 39:return"normal"!==t.layout||t.rtl?t.decrementValue():t.incrementValue(),!1;case 36:return t.rangeSlider?t.setValue([t.values[0],t.max]):t.setValue(t.min),!1;case 35:return t.rangeSlider?t.setValue([t.min,t.values[1]]):t.setValue(t.max),!1}})},_trackMouseDownHandler:function(e){var t=e.data.that,i=B.jqx.mobile.getTouches(e)[0],s=parseInt(t._slider.left.style[t._getSetting("size")],10);isNaN(s)&&(s=0);var r=(t._isTouchDevice?i:e)[t._getSetting("page")]-s/2,n=t._getClosest(r),o=t._getValueByPosition(r);t._mouseDown=!0,t.changeType="mouse",t._setValue(o,n),t.input&&B.jqx.aria(t,"aria-valuenow",t.input.value)},_getClosest:function(e){var t=this;return t.rangeSlider?(e=e-t._helpers.track.offset()[t._getSetting("left")]-t._helpers.left[t._getSetting("size")]()/2,Math.abs(parseInt(t._slider.left.style[t._getSetting("left")],10)-e)<Math.abs(parseInt(t._slider.right.style[t._getSetting("left")],10)-e)?t._slider.left:t._slider.right):t._slider.right},_removeEventHandlers:function(){var e=this;e.removeHandler(e._slider.right,e._getEvent("mousedown"),e._startDrag),e.removeHandler(e._slider.left,e._getEvent("mousedown"),e._startDrag),e.removeHandler(B(document),e._getEvent("mouseup")+"."+e.host.attr("id"),e._stopDrag),e.removeHandler(B(document),e._getEvent("mousemove")+"."+e.host.attr("id"),e._performDrag),e.removeHandler(e._leftButton,e._getEvent("click"),e._leftButtonHandler),e.removeHandler(e._rightButton,e._getEvent("click"),e._rightButtonHandler),e.removeHandler(e._track,e._getEvent("mousedown"),e._trackMouseDownHandler),e.element.onselectstart=null,e.removeHandler(e.host,e._getEvent("mousewheel")),e.removeHandler(e.host,e._getEvent("keydown"))},_rightButtonClick:function(){this.changeType="mouse","horizontal"!==this.orientation||this.rtl?this.decrementValue():this.incrementValue()},_leftButtonClick:function(){this.changeType="mouse","horizontal"!==this.orientation||this.rtl?this.incrementValue():this.decrementValue()},_rightButtonHandler:function(e){var t=e.data.that;return"normal"===t.layout?t._rightButtonClick():t._leftButtonClick(),!1},_leftButtonHandler:function(e){var t=e.data.that;return"normal"===t.layout?t._leftButtonClick():t._rightButtonClick(),!1},_startDrag:function(e){var t=e.data.that;t.changeType="mouse",t._capturedElement=e.target;var i=new jqxHelper(e.target).offset();t._startX=i.left,t._startY=i.top;var s=B.jqx.position(e);if(t._mouseStartX=s.left,t._mouseStartY=s.top,t._mouseDown=!0,e.stopPropagation(),t.tooltip&&t._showTooltip(t._capturedElement,t.value),t._isTouchDevice)return!1},_stopDrag:function(){var e=this;e._slideStarted&&e._raiseEvent(2,{value:e.getValue()}),e._slideStarted&&null!==e._capturedElement?(e.input&&B.jqx.aria(this,"aria-valuenow",e.input.value),e._helpers.left.removeClass(e.toThemeProperty("jqx-fill-state-pressed")),e._helpers.right.removeClass(e.toThemeProperty("jqx-fill-state-pressed")),e._slideStarted=!1,e._capturedElement=null,e.sliderTooltip&&e.sliderTooltipObj.fadeOut("fast")):e._capturedElement=null},_performDrag:function(e){var t=e.data.that;if(null!==t._capturedElement){if(0===e.which&&B.jqx.browser.msie&&B.jqx.browser.version<9)return t._stopDrag(),!1;var i=B.jqx.position(e),s="horizontal"===t.orientation?i.left:i.top;if(t._isDragged(s),t._slideStarted||t._isTouchDevice)return t._dragHandler(s)}},_isDragged:function(e){2<Math.abs(e-this[this._getSetting("mouse")])&&!this._slideStarted?(this._slideStarted=!0,this._valueChanged(3)&&this._raiseEvent(3,{value:this.getValue()})):null==this._capturedElement&&(this._slideStarted=!1)},_dragHandler:function(e){e=e-this[this._getSetting("mouse")]+this[this._getSetting("start")];var t=this._getValueByPosition(e);if(this.rangeSlider){var i=this._helpers.right,s=this._helpers.left,r=this._getSetting("left");this._capturedElement===s?parseFloat(e)>i.offset()[r]&&(e=i.offset()[r]):parseFloat(e)<s.offset()[r]&&(e=s.offset()[r])}return this._setValue(t,this._capturedElement,e),!1},_getValueByPosition:function(e){return"default"===this.mode?this._getFloatingValueByPosition(e):this._getFixedValueByPosition(e)},_getFloatingValueByPosition:function(e){var t,i,s,r,n=this,o=e-n._helpers.track.offset()[n._getSetting("left")]+n._slider.left.offsetWidth/2,a=o/n._helpers.track[n._getSetting("size")]();return o<0&&(o=0),!1===n.int64?t=(n.max-n.min)*a+n.min:"s"===n.int64?(r=(new B.jqx.math).fromNumber(n._helpers.track[n._getSetting("size")](),10),i=n._max64.subtract(n._min64),s=n._divide64(i,r)*o,t=(new B.jqx.math).fromNumber(s,10).add(n._min64)):"u"===n.int64&&(r=new BigNumber(n._helpers.track[n._getSetting("size")]()),i=n._max64.subtract(n._min64),s=n._divide64(i,r)*o,t=new BigNumber(s).add(n._min64)),"normal"===n.layout?"horizontal"!==n.orientation||n.rtl?!1===n.int64?n.max+n.min-t:n._max64.add(n._min64).subtract(t):t:"horizontal"===n.orientation?!1===n.int64?n.max+n.min-t:n._max64.add(n._min64).subtract(t):t},_getThumbSize:function(){if(this.__thumbSize)return this.__thumbSize;var e=this._helpers.left[this._getSetting("size")]();return this.__thumbSize=e},_getTrackSize:function(){if(this.__trackSize)return this.__trackSize;var e=parseInt(this._helpers.track[this._getSetting("size")](),10);return this.__trackSize=e},_getFixedValueByPosition:function(e){var t,i,s,r,n,o,a,l=this,d=l._getTrackSize(),h=l._getThumbSize(),c={number:-1,distance:Number.MAX_VALUE};if(!1===l.int64)for(r=l.step,n=d/(o=(l.max-l.min)/r),a=l._helpers.track.offset()[l._getSetting("left")]-h/2,i=l.max+l.step,"fixedRange"===l.mode&&(i=l.max),s=l.min;s<=i;s+=l.step)Math.abs(c.distance-e)>Math.abs(a-e)&&(c.distance=a,c.number=s),a+=n;else if("s"===l.int64)for(r=l._step64,o=l._max64.subtract(l._min64).div(l._step64),n=l._divide64((new B.jqx.math).fromNumber(d,10),o),a=l._helpers.track.offset()[l._getSetting("left")]-h/2,c={number:(new B.jqx.math).fromString(l._min64.toString(),10),distance:a},t=(new B.jqx.math).fromString(l._min64.toString(),10);"fixedRange"!==l.mode?t.lessThanOrEqual(l._max64.add(l._step64)):t.lessThanOrEqual(l._max64);t=t.add(l._step64))Math.abs(c.distance-e)>Math.abs(a-e)&&(c.distance=a,c.number=(new B.jqx.math).fromString(t.toString(),10)),a+=n;else if("u"===l.int64){r=l._step64,o=l._max64.subtract(l._min64).divide(l._step64),n=parseFloat(new BigNumber(d).divide(o).toString()),a=l._helpers.track.offset()[l._getSetting("left")]-h/2,c={number:new BigNumber(l._min64.toString()),distance:a};var u="fixedRange"!==l.mode?l._max64.add(l._step64):l._max64;for(t=new BigNumber(l._min64.toString());1!==t.compare(u);t=t.add(l._step64))Math.abs(c.distance-e)>Math.abs(a-e)&&(c.distance=a,c.number=new BigNumber(t.toString())),a+=n}return"normal"===l.layout?"horizontal"!==l.orientation||l.rtl?!1===l.int64?l.max+l.min-c.number:l._max64.add(l._min64).subtract(c.number):c.number:"horizontal"===l.orientation?!1===l.int64?l.max+l.min-c.number:l._max64.add(l._min64).subtract(c.number):c.number},_setValue:function(e,t,i){var s=this;if(!s._slideEvent||!s._slideEvent.args.cancel){if(e=s._handleValue(e,t),s._setSliderPosition(e,t,i),s._fixZIndexes(),s._valueChanged(1)&&s._raiseEvent(1,{value:s.getValue()}),s._valueChanged(0)&&s._raiseEvent(0,{value:s.getValue()}),!s.input)return;s.rangeSlider?s.values&&void 0!==s.value.rangeEnd&&void 0!==s.value.rangeStart&&(s.input.value=s.value.rangeStart.toString()+"-"+s.value.rangeEnd.toString()):s.input.value=s.value.toString()}},_valueChanged:function(e){var t=this.getValue();return!this.rangeSlider&&this._lastValue[e]!==t||this.rangeSlider&&("object"!=typeof this._lastValue[e]||parseFloat(this._lastValue[e].rangeEnd)!==parseFloat(t.rangeEnd)||parseFloat(this._lastValue[e].rangeStart)!==parseFloat(t.rangeStart))},_handleValue:function(e,t){var i=this;return e=i._validateValue(e,t),t===i._slider.left&&(!1===i.int64?i.values[0]=e:(i.values[0]=e.toString(),i._value64[0]=e)),t===i._slider.right&&(!1===i.int64?i.values[1]=e:(i.values[1]=e.toString(),i._values64[1]=e)),i.rangeSlider?!(i.value={rangeStart:i.values[0],rangeEnd:i.values[1]})!==i.int64&&(i._value64={rangeStart:i._values64[0],rangeEnd:i._values64[1]}):!1===i.int64?i.value=e:(i.value=e.toString(),i._value64=e),e},_fixZIndexes:function(){this.values[1]-this.values[0]<.5&&this.max-this.values[0]<.5?(this._slider.left.style.zIndex=20,this._slider.right.style.zIndex=15):(this._slider.left.style.zIndex=15,this._slider.right.style.zIndex=20)},_refreshRangeBar:function(){var e,t=this._helpers.left,i=this._helpers.right,s=this._helpers.track,r=this._getSetting("left"),n=this._getSetting("size"),o=this.rtl&&"horizontal"===this.orientation;if("normal"===this.layout){e=t.position()[r];B(t[0]).position()[r];("vertical"===this.orientation||o)&&(e=i.position()[r])}else e=i.position()[r],"vertical"===this.orientation&&(e=t.position()[r]);this.rangeSlider?this._rangeBar.style[r]=e+"px":"horizontal"!==this.orientation||!o&&"normal"===this.layout?"vertical"===this.orientation&&(this._rangeBar.style[r]=e-s.position().top+t.innerHeight()/2+"px"):this._rangeBar.style[r]=e-s.position().left+t.innerWidth()/2+"px",this._rangeBar.style[n]=Math.abs(i.position()[r]-t.position()[r])+"px"},_validateValue:function(e,t){return!1===this.int64?(e>this.max&&(e=this.max),e<this.min&&(e=this.min),this.rangeSlider&&(t===this._slider.left?e>=this.values[1]&&(e=this.values[1]):e<=this.values[0]&&(e=this.values[0]))):"s"===this.int64?(e.greaterThan(this._max64)&&(e=this._max64),e.lessThan(this._min64)&&(e=this._min64)):"u"===this.int64&&(1===e.compare(this._max64)&&(e=this._max64),-1===e.compare(this._min64)&&(e=this._min64)),e},_setSliderPosition:function(e,t,i){var s,r,n,o,a=parseInt(this._helpers.track[this._getSetting("size")](),10);i&&(i-=this._helpers.track.offset()[this._getSetting("left")]);var l=parseInt(this._helpers.left[this._getSetting("size")](),10);isNaN(l)&&(l=0),"s"===this.int64?("number"==typeof e?e=(new B.jqx.math).fromNumber(e,10):"string"==typeof e&&(e=(new B.jqx.math).fromString(e,10)),e.greaterThan(this._max64)&&(e=(new B.jqx.math).fromString(this._max64.toString(),10)),e.lessThan(this._min64)&&(e=(new B.jqx.math).fromString(this._min64.toString(),10)),o=1-(n=this._divide64(e.subtract(this._min64),this._max64.subtract(this._min64))),"normal"===this.layout?(s=n,("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(s=o)):(s=o,"horizontal"!==this.orientation&&(s=n)),r=a*s-l/2,t.style[this._getSetting("left")]=r+"px"):"u"===this.int64?("number"!=typeof e&&"string"!=typeof e||(e=new BigNumber(e)),1===e.compare(this._max64)&&(e=new BigNumber(this._max64)),-1===e.compare(this._min64)&&(e=new BigNumber(this._min64)),o=1-(n=this._divide64(e.subtract(this._min64),this._max64.subtract(this._min64))),"normal"===this.layout?(s=n,("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(s=o)):(s=o,"horizontal"!==this.orientation&&(s=n)),r=a*s-l/2,t.style[this._getSetting("left")]=r+"px"):!1===this.int64&&("normal"===this.layout?(s=(e-this.min)/(this.max-this.min),("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(s=1-(e-this.min)/(this.max-this.min))):(s=1-(e-this.min)/(this.max-this.min),"horizontal"!==this.orientation&&(s=(e-this.min)/(this.max-this.min))),r=a*s-l/2,t.style[this._getSetting("left")]=r+"px"),this.tooltip&&this._showTooltip(t,this.value),this._refreshRangeBar()},_divide64:function(e,t){var i,s,r,n;if(i=e.toString(),15<(r=t.toString()).length){var o=r.length-15;if(r=r.slice(0,15)+"."+r.slice(15),n=parseFloat(r),i.length>o){var a=i.length-o;i=i.slice(0,a)+"."+i.slice(a)}else if(i.length===o)i="0."+i;else{for(var l="0.",d=0;d<o-i.length;d++)l+="0";i=l+""+i}s=parseFloat(i)}else"s"===this.int64?(s=e.toNumber(),n=t.toNumber()):(s=parseFloat(e.toString()),n=parseFloat(t.toString()));return s/n},_showTooltip:function(e,t){var i=this;if(i._slideStarted||null!=i._capturedElement||i._mouseDown){if(t=i._formatLabel(t,!0),!i.toolTipCreated){var s="tooltip"+i.element.id,r=document.createElement("div");r.style.display="none",r.style.position="absolute",r.style.visibility="hidden",r.style.boxShadow="none",r.style.top="0px",r.style.left="0px",r.style.zIndex=99999,r.setAttribute("id",s),document.body.appendChild(r);var n=document.createElement("div");n.setAttribute("id",s+"Main"),r.appendChild(n);var o=document.createElement("div");o.setAttribute("id",s+"Text"),n.appendChild(o);var a=document.createElement("div");a.setAttribute("id",s+"Arrow"),a.style.top="0px",a.style.left="0px",r.appendChild(a),i.sliderTooltip=r,i.sliderTooltipObj=new jqxHelper(i.sliderTooltip),i.sliderTooltipObj.initAnimate&&i.sliderTooltipObj.initAnimate(),o.innerHTML=t,i.sliderTooltip.className=i.toThemeProperty("jqx-tooltip jqx-popup"),n.className=i.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-main"),o.className=i.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-text"),a.className=i.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-arrow"),i.sliderTooltipContent=o,i.sliderTooltipArrow=a,i.sliderTooltipMain=n,i.sliderTooltipArrowObj=new jqxHelper(i.sliderTooltipArrow),i.arrowSize=5,i.toolTipCreated=!0,i.rangeSlider&&(i.sliderTooltipArrow.style.visibility="hidden")}var l=new jqxHelper(e).offset();i.sliderTooltip.style.display="block",i.sliderTooltip.style.visibility="visible";var d=i.sliderButtonSize+i.tickSize;if(i.rangeSlider){var h=i.value?i.value.rangeStart:"",c=i.value?i.value.rangeEnd:"";""!==h?i.sliderTooltipContent.innerHTML=h+" - "+c:(i.sliderTooltip.style.display="none",i.sliderTooltip.style.visibility="hidden")}else i.sliderTooltipContent.innerHTML=t.toString();var u,p,m,f=i.sliderTooltip.offsetWidth;if("horizontal"===i.orientation)switch(p=l.left+i.sliderButtonSize/2-f/2,i.rangeSlider&&(m=(i._helpers.right.offset().left-i._helpers.left.offset().left-i._thumbSize)/2,p=i._helpers.left.offset().left-f/2+m+i._thumbSize),i.tooltipPosition){case"far":u=l.top+d+i.arrowSize,i.sliderTooltipObj.offset({top:u,left:p}),i.sliderTooltipArrowObj.addClass(i.toThemeProperty("jqx-tooltip-arrow-t-b")),i.sliderTooltipArrow.style.borderTopWidth="0px",i.sliderTooltipArrow.style.borderRightWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderBottomWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderLeftWidth=i.arrowSize+"px",i.sliderTooltipArrowObj.offset({top:u-i.arrowSize,left:p-i.arrowSize/2-1+f/2});break;case"near":u=l.top-i.arrowSize-i.sliderTooltipObj.innerHeight()-1,i.sliderTooltipObj.offset({top:u,left:p}),i.sliderTooltipArrowObj.addClass(i.toThemeProperty("jqx-tooltip-arrow-t-b")),i.sliderTooltipArrow.style.borderTopWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderRightWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderBottomWidth="0px",i.sliderTooltipArrow.style.borderLeftWidth=i.arrowSize+"px",i.sliderTooltipArrowObj.offset({top:u+i.sliderTooltipObj.innerHeight(),left:p-i.arrowSize/2-1+f/2})}else{var g=i.sliderTooltipObj.innerHeight();switch(p=l.left-f-i.arrowSize-i.tickSize,u=l.top+i._thumbSize/2-g/2-1,i.rangeSlider&&(m=(i._helpers.right.offset().top-i._helpers.left.offset().top-i._thumbSize)/2,u=i._helpers.left.offset().top-g/2+m+i._thumbSize),i.tooltipPosition){case"far":p=l.left+i._thumbSize+i.arrowSize+i.tickSize,i.sliderTooltipObj.offset({top:u,left:p}),i.sliderTooltipArrowObj.addClass(i.toThemeProperty("jqx-tooltip-arrow-l-r")),i.sliderTooltipArrow.style.borderTopWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderRightWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderBottomWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderLeftWidth="0px",i.sliderTooltipArrowObj.offset({top:u+i.sliderTooltipObj.innerHeight()/2-i.arrowSize/2-2,left:p-i.arrowSize});break;case"near":i.sliderTooltipObj.offset({top:u,left:p}),i.sliderTooltipArrowObj.addClass(i.toThemeProperty("jqx-tooltip-arrow-l-r")),i.sliderTooltipArrow.style.borderTopWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderRightWidth="0px",i.sliderTooltipArrow.style.borderBottomWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderLeftWidth=i.arrowSize+"px",i.sliderTooltipArrowObj.offset({top:u+i.sliderTooltipObj.innerHeight()/2-i.arrowSize/2-2,left:p+f+2})}}}},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2===Object.keys(i).length&&(e.__trackSize=null,e.__thumbSize=null,e._performLayout(),e._initialSettings())},propertyChangedHandler:function(e,t,i,s){if(e.__trackSize=null,e.__thumbSize=null,!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2===Object.keys(e.batchUpdate).length))switch(t){case"template":e.template&&(e._helpers.left.removeClass(e.toThemeProperty("jqx-"+i)),e._helpers.right.removeClass(e.toThemeProperty("jqx-"+i)),e._helpers.rangeBar.removeClass(e.toThemeProperty("jqx-"+i)),e._helpers.left.addClass(e.toThemeProperty("jqx-"+e.template)),e._helpers.right.addClass(e.toThemeProperty("jqx-"+e.template)),B(e._leftButton).jqxRepeatButton({template:s}),B(e._rightButton).jqxRepeatButton({template:s}),e._helpers.rangeBar.addClass(e.toThemeProperty("jqx-"+e.template)));break;case"theme":B.jqx.utilities.setTheme(i,s,e.host),B(e._leftButton).jqxRepeatButton({theme:s}),B(e._rightButton).jqxRepeatButton({theme:s});break;case"disabled":s?(e.disabled=!0,e.disable()):(e.disabled=!1,e.enable());break;case"width":case"height":e.__trackSize=null,e.__thumbSize=null,e._performLayout(),e._initialSettings();break;case"min":case"max":"s"===e.int64?e["_"+t+"64"]=(new B.jqx.math).fromString(s.toString(),10):"u"===e.int64&&(e["_"+t+"64"]=new BigNumber(s)),e._performLayout(),e.__trackSize=null,e.__thumbSize=null,e._initialSettings();break;case"showTicks":case"ticksPosition":case"tickSize":case"tickMode":case"tickNumber":case"minorTickNumber":e._performLayout(),e._initialSettings();break;case"ticksFrequency":case"minorTicksFrequency":"s"===e.int64?e["_"+t+"64"]=(new B.jqx.math).fromString(s.toString(),10):"u"===e.int64&&(e["_"+t+"64"]=new BigNumber(s)),e._performLayout(),e._initialSettings();break;case"showRange":case"showButtons":case"orientation":case"rtl":e._render(),e._performLayout(),e._initialSettings(),"orientation"===t&&(e.element.style.minWidth="vertical"===s?"96px":"");break;case"buttonsPosition":e._refresh();break;case"rangeSlider":e.value=s?{rangeEnd:e.value,rangeStart:e.value}:e.value.rangeEnd,e._render(),e._performLayout(),e._initialSettings();break;case"value":var r=s;"s"===e.int64?(r=(new B.jqx.math).fromString(s.toString(),10),e._value64=r):"u"===e.int64?(r=new BigNumber(s),e._value64=r):!1===e.int64&&(e.rangeSlider||(e.value=parseFloat(s))),e.setValue(r);break;case"values":var n=s;"s"===e.int64?(n=[(new B.jqx.math).fromString(s[0].toString(),10),(new B.jqx.math).fromString(s[1].toString(),10)],e._values64=n):"u"===e.int64&&(n=[new BigNumber(s[0]),new BigNumber(s[1])],e._values64=n),e.setValue(n);break;case"tooltip":break;case"step":"s"===e.int64?e._step64=(new B.jqx.math).fromString(s.toString(),10):"u"===e.int64&&(e._step64=new BigNumber(s));break;case"editableLabels":e._performLayout(),e._initialSettings();break;case"tickLabelStyleSettings":e._setPaddingValues(!0),e._performLayout(),e._initialSettings();break;default:e._refresh()}},incrementValue:function(e){var t,i=this;!1===i.int64?((void 0===e||isNaN(parseFloat(e)))&&(e=i.step),i.rangeSlider?i.values[1]<i.max&&i._setValue(i.values[1]+e,i._slider.right):i.values[1]>=i.min&&i.values[1]<i.max&&i._setValue(i.values[1]+e,i._slider.right)):"s"===i.int64?(e=void 0===e||isNaN(parseFloat(e))?i._step64:(new B.jqx.math).fromString(e.toString(),10),(t=i._values64[1].add(e)).lessThan(i._values64[1])&&(t=i._max64),i.rangeSlider?i._values64[1].lessThan(i._max64)&&i._setValue(t,i._slider.right):i._values64[1].greaterThanOrEqual(i._min64)&&i._values64[1].lessThan(i._max64)&&i._setValue(t,i._slider.right)):"u"===i.int64&&(e=void 0===e||isNaN(parseFloat(e))?i._step64:new BigNumber(e),-1===(t=i._values64[1].add(e)).compare(i._values64[1])&&(t=i._max64),i.rangeSlider?-1===i._values64[1].compare(i._max64)&&i._setValue(t,i._slider.right):-1!==i._values64[1].compare(i._min64)&&-1===i._values64[1].compare(i._max64)&&i._setValue(t,i._slider.right)),i.input&&B.jqx.aria(this,"aria-valuenow",i.input.value)},decrementValue:function(e){var t,i=this;!1===i.int64?((void 0===e||isNaN(parseFloat(e)))&&(e=i.step),i.rangeSlider?i.values[0]>i.min&&i._setValue(i.values[0]-e,i._slider.left):i.values[1]<=i.max&&i.values[1]>i.min&&i._setValue(i.values[1]-e,i._slider.right)):"s"===i.int64?(e=void 0===e||isNaN(parseFloat(e))?i._step64:(new B.jqx.math).fromString(e.toString(),10),i.rangeSlider?((t=i._values64[0].subtract(e)).greaterThan(i._values64[0])&&(t=i._min64),i._values64[0].greaterThan(i._min64)&&i._setValue(t,i._slider.left)):((t=i._values64[1].subtract(e)).greaterThan(i._values64[1])&&(t=i._min64),i._values64[1].lessThanOrEqual(i._max64)&&i._values64[1].greaterThan(i._min64)&&i._setValue(t,i._slider.right))):"u"===i.int64&&(e=void 0===e||isNaN(parseFloat(e))?i._step64:new BigNumber(e),i.rangeSlider?(1===(t=i._values64[0].subtract(e)).compare(i._values64[0])&&(t=i._min64),1===i._values64[0].compare(i._min64)&&i._setValue(t,i._slider.left)):(1===(t=i._values64[1].subtract(e)).compare(i._values64[1])&&(t=i._min64),1!==i._values64[1].compare(i._max64)&&1===i._values64[1].compare(i._min64)&&i._setValue(t,i._slider.right))),i.input&&B.jqx.aria(this,"aria-valuenow",i.input.value)},val:function(e){var t;if(0===arguments.length||!B.isArray(e)&&"object"==typeof e)return this.getValue();!1===this.int64?this.setValue(e):"s"===this.int64?(t=(new B.jqx.math).fromString(e.toString(),10),this.setValue(t)):"u"===this.int64&&(t=new BigNumber(e),this.setValue(t))},setValue:function(e){var t,i,s,r=this;(!1===r.int64||"string"!=typeof e&&"number"!=typeof e||("s"===r.int64?"string"==typeof e?e=(new B.jqx.math).fromString(e,10):"number"==typeof e&&(e=(new B.jqx.math).fromNumber(e,10)):"u"===r.int64&&(e=new BigNumber(e))),r.rangeSlider)?(arguments.length<2?e instanceof Array?(t=e[0],i=e[1]):"object"==typeof e&&void 0!==e.rangeStart&&void 0!==e.rangeEnd&&(t=e.rangeStart,i=e.rangeEnd):(t=e,i=arguments[1]),r._triggerEvents=!1,r._setValue(i,r._slider.right),r._triggerEvents=!0,r._setValue(t,r._slider.left)):(s=(r._triggerEvents=!1)===r.int64?r.min:r._min64,r._setValue(s,r._slider.left),r._triggerEvents=!0,r._setValue(e,r._slider.right));r.input&&B.jqx.aria(this,"aria-valuenow",r.input.value)},getValue:function(){var e=this.value;return!1!==this.int64&&(e=this._value64.toString()),e},_enable:function(e){e?(this._addEventHandlers(),this.disabled=!1,this._helpers.element.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))):(this._removeEventHandlers(),this.disabled=!0,this._helpers.element.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),B(this._leftButton).jqxRepeatButton({disabled:this.disabled}),B(this._rightButton).jqxRepeatButton({disabled:this.disabled})},disable:function(){this._enable(!1),B.jqx.aria(this,"aria-disabled",!0)},enable:function(){this._enable(!0),B.jqx.aria(this,"aria-disabled",!1)},_setPaddingValues:function(e){var t,i,r=this,s=document.createElement("span");if(s.className=r.toThemeProperty("jqx-widget jqx-slider-label"),s.style.position="absolute",s.visibility="hidden",r.tickLabelStyleSettings){var n=r.tickLabelStyleSettings;s.style.fontSize=n.fontSize,s.style.fontFamily=n.fontFamily,s.style.fontWeight=n.fontWeight,s.style.fontStyle=n.fontStyle}"normal"===r.layout?(t=r._formatLabel(r.min),i=r._formatLabel(r.max)):(t=r._formatLabel(r.max),i=r._formatLabel(r.min)),document.body.appendChild(s),s.innerHTML=t;var o="horizontal"===r.orientation?s.offsetWidth:s.offsetHeight;s.innerHTML=i;var a="horizontal"===r.orientation?s.offsetWidth:s.offsetHeight;function l(e){var t,i,s;return!0===r.showButtons?(t=27,i=0):(t=0,i=8),s=Math.ceil(e/2)+1-t,s=Math.max(s,i)}s.parentNode.removeChild(s),(!0===e||!0!==e&&(void 0===r.padding||B.isEmptyObject(r.padding)))&&("horizontal"===r.orientation?r.padding={left:l(o),right:l(a)}:r.padding={bottom:l(o),top:l(a)})},_editableLabels:function(){var o=this;function e(e,t){if(!o.disabled){var i=function(e){var t=document.createElement("span");t.className=o.toThemeProperty("jqx-widget jqx-slider-label"),t.style.position="absolute",t.style.visibility="hidden",document.body.appendChild(t),t.innerHTML=e;var i={width:t.scrollWidth,height:t.scrollHeight};return t.parentNode.removeChild(t),i}(o._formatLabel(t));r.offset(B(e).offset()),s.style.width=i.width+10+"px",s.style.height=i.height+"px",s.style.visibility="visible",s.value=t,s.select(),o._editingLabels=!0}}function t(e,t,i,s){if(e===o[t].toString())return!1;if("s"===o.int64){var r=(new B.jqx.math).fromString(e,10);if("min"===t&&-1!==r.compare(o["_"+s+"64"])||"max"===t&&1!==r.compare(o["_"+s+"64"]))return!1;o[i]=r,o[t]=e}else if("u"===o.int64){var n=new BigNumber(e);if(-1===n.compare(0)||"min"===t&&-1!==n.compare(o["_"+s+"64"])||"max"===t&&1!==n.compare(o["_"+s+"64"]))return!1;o[i]=n,o[t]=e}else{if("min"===t&&e>=o[s]||"max"===t&&e<=o[s])return!1;o[t]=parseFloat(e)}}if(o.showTickLabels&&o.editableLabels){var s,r,i=o.element.id,n=o.element.getElementsByClassName("jqx-slider-label-top"),a=o.element.getElementsByClassName("jqx-slider-label-bottom"),l=o.ticksPosition,d=/^-?\d+\.?\d*$/;if("both"===l||"top"===l){var h,c,u=n[0],p=n[n.length-1];"horizontal"===o.orientation&&"normal"===o.layout&&!1===o.rtl||"vertical"===o.orientation&&"reverse"===o.layout?(h=u,c=p):(h=p,c=u),o.addHandler(B(h),"dblclick.jqxSlider"+i,function(){e(this,o.min),o._editedProperty="min"}),o.addHandler(B(c),"dblclick.jqxSlider"+i,function(){e(this,o.max),o._editedProperty="max"})}if("both"===l||"bottom"===l){var m,f,g=a[0],v=a[a.length-1];"horizontal"===o.orientation&&"normal"===o.layout&&!1===o.rtl||"vertical"===o.orientation&&"reverse"===o.layout?(m=g,f=v):(m=v,f=g),o.addHandler(B(m),"dblclick.jqxSlider"+i,function(){e(this,o.min),o._editedProperty="min"}),o.addHandler(B(f),"dblclick.jqxSlider"+i,function(){e(this,o.max),o._editedProperty="max"})}!0!==o._labelInputCreated?((s=document.createElement("input")).className="jqx-slider-label-input",o.element.appendChild(s)):s=o.element.querySelector(".jqx-slider-label-input"),r=B(s),!0!==o._labelInputCreated&&(o.addHandler(r,"blur.jqxGauge"+o.element.id,function(){var e=this.value;if(s.style.visibility="hidden",d.test(e)){if("min"===o._editedProperty){if(!1===t(e,"min","_min64","max"))return}else if(!1===t(e,"max","_max64","min"))return;o._refresh(),o._editingLabels=!1}}),o._labelInputCreated=!0)}}})}(jqxBaseFramework),function(m){m.extend(m.expr[":"],{data:m.expr.createPseudo?m.expr.createPseudo(function(t){return function(e){return!!m.data(e,t)}}):function(e,t,i){return!!m.data(e,i[3])}}),m.jqx.jqxWidget("jqxSortable","",{}),m.extend(m.jqx._jqxSortable.prototype,{defineInstance:function(){var e={appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,maxItems:9999,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholderShow:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:999999,element:null,defaultElement:"<div>",mouseHandled:!1,cancel:"input,textarea,button,select,option",distance:1,delay:0,widgetName:"widget",widgetEventPrefix:"",disabled:!1,create:null,_touchEvents:{mousedown:m.jqx.mobile.getTouchEventName("touchstart"),click:m.jqx.mobile.getTouchEventName("touchstart"),mouseup:m.jqx.mobile.getTouchEventName("touchend"),mousemove:m.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_events:["activate","beforeStop","change","deactivate","out","over","receive","remove","sort","start","stop","update","create"]};return this===m.jqx._jqxSortable.prototype||m.extend(!0,this,e),e},createInstance:function(){this._render()},_render:function(){var e=this;this._isTouchDevice=m.jqx.mobile.isTouchDevice(),this.containerCache={};var t=m(t||e.defaultElement||this)[0];e.document=m(t.style?t.ownerDocument:t.document||t),e.window=m(e.document[0].defaultView||e.document[0].parentWindow),e.host.addClass(e.toThemeProperty("jqx-widget jqx-sortable")),e.refresh(),e.floating=!!e.itemsArray.length&&("x"===e.axis||e._isFloating(e.itemsArray[0].item)),e.offset=e.host.offset(),e._handleMouse(),e._cancelSelect(),e.ready=!0},_isOverAxis:function(e,t,i){return t<=e&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]+".jqxSortable"+this.element.id:e+".jqxSortable"+this.element.id},_handleMouse:function(){var t=this;t.addHandler(this.host,this._getEvent("mousedown"),function(e){return t._mouseDown(e)}),t.addHandler(t.host,this._getEvent("click"),function(e){if(!0===m.data(e.target,t.widgetName+".preventClickEvent"))return m.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),t.started=!1},widget:function(){return this.host},_mouseDestroy:function(){this.host.off("."+this.widgetName),this._mouseMoveDelegate&&(this.removeHandler(m(document),this._getEvent("mousemove")),this.removeHandler(m(document),this._getEvent("mouseup")))},_mouseDown:function(e){var t=this;if(!t.mouseHandled){if(t._mouseMoved=!1,t._isTouchDevice){var i=m.jqx.position(e);e.pageX=i.left,e.pageY=i.top}t._mouseStarted&&t._mouseUp(e),t._mouseDownEvent=e,this._isTouchDevice&&(e.which=1);var s=1===e.which,r=!("string"!=typeof this.cancel||!e.target.nodeName)&&m(e.target).closest(this.cancel).length;if(this._isTouchDevice&&(s=!0),!s||r||!this._mouseCapture(e))return!0;if(t.mouseDelayMet=!t.delay,t.mouseDelayMet||(t._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},t.delay)),t._mouseDistanceMet(e)&&t._mouseDelayMet(e)&&(t._mouseStarted=!1!==t._mouseStart(e),!t._mouseStarted))return e.preventDefault(),!0;!0===m.data(e.target,this.widgetName+".preventClickEvent")&&m.removeData(e.target,this.widgetName+".preventClickEvent"),t._mouseMoveDelegate=function(e){return t._mouseMove(e)},t._mouseUpDelegate=function(e){return t._mouseUp(e)},t.addHandler(m(document),this._getEvent("mousemove"),t._mouseMoveDelegate),t.addHandler(m(document),this._getEvent("mouseup"),t._mouseUpDelegate);try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var n=function(e){t._mouseUp(e)},o=null;window.parent&&document.referrer&&(o=document.referrer),o&&-1!=o.indexOf(document.location.host)&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",n,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",n))}}catch(e){}return e.preventDefault(),mouseHandled=!0}},_mouseMove:function(e){var t=this;if(this._isTouchDevice){e.which=1;var i=m.jqx.position(e);e.pageX=i.left,e.pageY=i.top}if(t._mouseMoved)if(m.jqx.browser.msie&&11<m.jqx.browser.version){if(!e.which)return t._mouseUp(e)}else{if(m.jqx.browser.msie&&(!document.documentMode||document.documentMode<9)&&!e.button)return t._mouseUp(e);if(!e.which)return t._mouseUp(e)}return(e.which||e.button)&&(t._mouseMoved=!0),t._mouseStarted?(t._mouseDrag(e),e.preventDefault()):(t._mouseDistanceMet(e)&&t._mouseDelayMet(e)&&(t._mouseStarted=!1!==t._mouseStart(t._mouseDownEvent,e),t._mouseStarted?t._mouseDrag(e):t._mouseUp(e)),!t._mouseStarted)},_mouseUp:function(e){try{this.removeHandler(m(document),this._getEvent("mousemove")),this.removeHandler(m(document),this._getEvent("mouseup")),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&m.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),mouseHandled=!1}catch(e){}return!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.distance},_mouseDelayMet:function(){return this.mouseDelayMet},scrollParent:function(e){var t=this.css("position"),i="absolute"===t,s=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var e=m(this);return(!i||"static"!==e.css("position"))&&s.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&r.length?r:m(this[0].ownerDocument||document)},destroy:function(){this.host.removeClass("jqx-sortable jqx-sortable-disabled").find(".jqx-sortable-handle").removeClass("jqx-sortable-handle"),this._mouseDestroy();for(var e=this.itemsArray.length-1;0<=e;e--)this.itemsArray[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,t){var i=null,s=!1,r=this;return!r.reverting&&(!r.disabled&&"static"!==r.type&&(r._refreshItems(e),m(e.target).parents().each(function(){if(m.data(this,r.widgetName+"-item")===r)return i=m(this),!1}),m.data(e.target,r.widgetName+"-item")===r&&(i=m(e.target)),!!i&&(!(r.handle&&!t&&(m(r.handle,i).find("*").addBack().each(function(){this===e.target&&(s=!0)}),!s))&&(r.currentItem=i,r._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,t,i){var s,r,n=this;if(n.currentContainer=this,n._currentContainer=this,n.refreshPositions(),n.helper=n._utility(e),n._cacheHelperProportions(),n._storeMargins(),n.scrollParent=n.helper.scrollParent(),n.offset=n.currentItem.offset(),n.offset={top:n.offset.top-n.margins.top,left:n.offset.left-n.margins.left},m.extend(n.offset,{click:{left:e.pageX-n.offset.left,top:e.pageY-n.offset.top},parent:n._getParentOffset(),relative:n._getRelativeOffset()}),n.helper.css("position","absolute"),n.cssPosition=n.helper.css("position"),n.originalPosition=n._generatePosition(e),n.originalPageX=e.pageX,n.originalPageY=e.pageY,n.cursorAt&&n._adjustOffsetFromHelper(n.cursorAt),n.domPosition={prev:n.currentItem.prev()[0],parent:n.currentItem.parent()[0]},n.helper[0]!==n.currentItem[0]&&n.currentItem.hide(),n._createPlaceholder(),n.containment&&n._setContainment(),n.cursor&&"auto"!==n.cursor&&(r=n.document.find("body"),n.storedCursor=r.css("cursor"),r.css("cursor",n.cursor),n.storedStylesheet=m("<style>*{ cursor: "+n.cursor+" !important; }</style>").appendTo(r)),n.opacity&&(n.helper.css("opacity")&&(n._storedOpacity=n.helper.css("opacity")),n.helper.css("opacity",n.opacity)),n.zIndex&&(n.helper.css("zIndex")&&(n._storedZIndex=n.helper.css("zIndex")),n.helper.css("zIndex",n.zIndex)),n.scrollParent[0]!==n.document[0]&&"HTML"!==n.scrollParent[0].tagName&&(n.overflowOffset=n.scrollParent.offset()),n._raiseEvent("9",n._uiHash()),n._preserveHelperProportions||n._cacheHelperProportions(),!i)for(s=n.owners.length-1;0<=s;s--)n.owners[s]._raiseEvent("0",n._uiHash(this));return m.jqx.ddmanager&&(m.jqx.ddmanager.current=this),m.jqx.ddmanager&&!n.dropBehaviour&&m.jqx.ddmanager.prepareOffsets(this,e),n.dragging=!0,n.helper.addClass("jqx-sortable-helper"),n._mouseDrag(e),!0},_mouseDrag:function(e){var t,i,s,r,n=this,o=!1,a=this;for(a.position=a._generatePosition(e),a.positionAbs=a._convertPositionTo("absolute"),a.lastPositionAbs||(a.lastPositionAbs=a.positionAbs),a.scroll&&(a.scrollParent[0]!==a.document[0]&&"HTML"!==a.scrollParent[0].tagName?(a.overflowOffset.top+a.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?a.scrollParent[0].scrollTop=o=a.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-a.overflowOffset.top<n.scrollSensitivity&&(a.scrollParent[0].scrollTop=o=a.scrollParent[0].scrollTop-n.scrollSpeed),a.overflowOffset.left+a.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?a.scrollParent[0].scrollLeft=o=a.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-a.overflowOffset.left<n.scrollSensitivity&&(a.scrollParent[0].scrollLeft=o=a.scrollParent[0].scrollLeft-n.scrollSpeed)):(e.pageY-a.document.scrollTop()<n.scrollSensitivity?o=a.document.scrollTop(a.document.scrollTop()-n.scrollSpeed):a.window.height()-(e.pageY-a.document.scrollTop())<n.scrollSensitivity&&(o=a.document.scrollTop(a.document.scrollTop()+n.scrollSpeed)),e.pageX-a.document.scrollLeft()<n.scrollSensitivity?o=a.document.scrollLeft(a.document.scrollLeft()-n.scrollSpeed):a.window.width()-(e.pageX-a.document.scrollLeft())<n.scrollSensitivity&&(o=a.document.scrollLeft(a.document.scrollLeft()+n.scrollSpeed))),!1!==o&&m.jqx.ddmanager&&!n.dropBehaviour&&m.jqx.ddmanager.prepareOffsets(this,e)),a.positionAbs=a._convertPositionTo("absolute"),a.axis&&"y"===a.axis||(a.helper[0].style.left=a.position.left+"px"),a.axis&&"x"===a.axis||(a.helper[0].style.top=a.position.top+"px"),t=a.itemsArray.length-1;0<=t;t--)if(s=(i=a.itemsArray[t]).item[0],(r=a._intersectsWithPointer(i))&&i.instance===a.currentContainer&&!(s===a.currentItem[0]||a.placeholder[1===r?"next":"prev"]()[0]===s||m.contains(a.placeholder[0],s)||"semi-dynamic"===a.type&&m.contains(a.host[0],s))){if(a.direction=1===r?"down":"up","pointer"!==a.tolerance&&!a._intersectsWithSides(i))break;a._rearrange(e,i),a._raiseEvent("2",a._uiHash());break}return a._contactOwners(e),m.jqx.ddmanager&&m.jqx.ddmanager.drag(this,e),a._raiseEvent("8",a._uiHash()),a.lastPositionAbs=a.positionAbs,!1},_mouseStop:function(e,t){var i=this;if(e){if(m.jqx.ddmanager&&!this.dropBehaviour&&m.jqx.ddmanager.drop(this,e),i.revert){var s=(i=this).placeholder.offset(),r=i.axis,n={};r&&"x"!==r||(n.left=s.left-i.offset.parent.left-i.margins.left+(i.offsetParent[0]===i.document[0].body?0:i.offsetParent[0].scrollLeft)),r&&"y"!==r||(n.top=s.top-i.offset.parent.top-i.margins.top+(i.offsetParent[0]===i.document[0].body?0:i.offsetParent[0].scrollTop)),i.reverting=!0,m(this.helper).animate(n,parseInt(this.revert,10)||500,function(){i._clear(e)})}else i._clear(e,t);return!1}},cancelSort:function(){var e=this;if(e.dragging){e._mouseUp({target:null}),"original"===e.helper?e.currentItem.css(e._storedCSS).removeClass("jqx-sortable-helper"):e.currentItem.show();for(var t=e.owners.length-1;0<=t;t--)e.owners[t]._raiseEvent("3",e._uiHash(this)),e.owners[t].containerCache.over&&(e.owners[t]._raiseEvent("4",e._uiHash(this)),e.owners[t].containerCache.over=0)}return e.placeholder&&(e.placeholder[0].parentNode&&e.placeholder[0].parentNode.removeChild(e.placeholder[0]),"original"!==e.helper&&e.helper&&e.helper[0].parentNode&&e.helper.remove(),m.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),e.domPosition.prev?m(e.domPosition.prev).after(e.currentItem):m(e.domPosition.parent).prepend(e.currentItem)),this},serialize:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},m(e).each(function(){var e=(m(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);e&&i.push((t.key||e[1]+"[]")+"="+(t.key&&t.expression?e[1]:e[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(e){var t=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t.each(function(){i.push(m(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,s=this.positionAbs.top,r=s+this.helperProportions.height,n=e.left,o=n+e.width,a=e.top,l=a+e.height,d=this.offset.click.top,h=this.offset.click.left,c="x"===this.axis||a<s+d&&s+d<l,u="y"===this.axis||n<t+h&&t+h<o,p=c&&u;return"pointer"===this.tolerance||this.forcePointerForowners||"pointer"!==this.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:n<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&a<s+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=t&&i,r=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return!!s&&(this.floating?n&&"right"===n||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),s=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&i||"left"===r&&!i:s&&("down"===s&&t||"up"===s&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(0<e?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(0<e?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){return this.connectWith.constructor===String?[this.connectWith]:this.connectWith},_getItemsAsjQuery:function(e){var t,i,s,r,n=[],o=[],a=this._connectWith();if(a&&e)for(t=a.length-1;0<=t;t--)for(i=(s=m(a[t],this.document[0])).length-1;0<=i;i--)(r=m.data(s[i],this.widgetFullName).instance)&&r!==this&&!r.disabled&&o.push([m.isFunction(r.items)?r.items.call(r.host):m(r.items,r.host).not(".jqx-sortable-helper").not(".jqx-sortable-placeholder"),r]);function l(){n.push(this)}for(o.push([m.isFunction(this.items)?this.items.call(this.host,null,{options:this,item:this.currentItem}):m(this.items,this.host).not(".jqx-sortable-helper").not(".jqx-sortable-placeholder"),this]),t=o.length-1;0<=t;t--)o[t][0].each(l);return m(n)},_removeCurrentsFromItems:function(){var i=this.currentItem.find(":data("+this.widgetName+"-item)");this.itemsArray=m.grep(this.itemsArray,function(e){for(var t=0;t<i.length;t++)if(i[t]===e.item[0])return!1;return!0})},_refreshItems:function(e){this.itemsArray=[],this.owners=[this];var t,i,s,r,n,o,a,l,d=this.itemsArray,h=[[m.isFunction(this.items)?this.items.call(this.host[0],e,{item:this.currentItem}):m(this.items,this.host),this]],c=this._connectWith();if(c&&this.ready)for(t=c.length-1;0<=t;t--)for(i=(s=m(c[t],this.document[0])).length-1;0<=i;i--)(r=m.data(s[i],this.widgetName))&&r!==this&&!r.instance.disabled&&(h.push([m.isFunction(r.instance.items)?r.items.call(r.instance.host[0],e,{item:this.currentItem}):m(r.instance.items,r.instance.host),r.instance]),this.owners.push(r.instance));for(t=h.length-1;0<=t;t--)for(n=h[t][1],i=0,l=(o=h[t][0]).length;i<l;i++)(a=m(o[i])).data(this.widgetName+"-item",n),d.push({item:a,instance:n,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var t,i,s,r;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),t=this.itemsArray.length-1;0<=t;t--)(i=this.itemsArray[t]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(s=this.toleranceElement?m(this.toleranceElement,i.item):i.item,e||(i.width=s.outerWidth(),i.height=s.outerHeight()),r=s.offset(),i.left=r.left,i.top=r.top);if(this.custom&&this.custom.refreshowners)this.custom.refreshowners.call(this);else for(t=this.owners.length-1;0<=t;t--)r=this.owners[t].host.offset(),this.owners[t].containerCache.left=r.left,this.owners[t].containerCache.top=r.top,this.owners[t].containerCache.width=this.owners[t].host.outerWidth(),this.owners[t].containerCache.height=this.owners[t].host.outerHeight();return this},_cancelSelect:function(){that=this,that.host.addClass("jqx-disableselect")},_createPlaceholder:function(i){var s,r=i=i||this;r.placeholderShow&&r.placeholderShow.constructor!==String||(s=r.placeholderShow,r.placeholderShow={element:function(){var e=i.currentItem[0].nodeName.toLowerCase(),t=m("<"+e+">",i.document[0]).addClass(s||i.currentItem[0].className+" jqx-sortable-placeholder").removeClass("jqx-sortable-helper");return"tr"===e?i.currentItem.children().each(function(){m("<td>&#160;</td>",i.document[0]).attr("colspan",m(this).attr("colspan")||1).appendTo(t)}):"img"===e&&t.attr("src",i.currentItem.attr("src")),s||t.css("visibility","hidden"),t},update:function(e,t){s&&!r.forcePlaceholderSize||(t.height()||t.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}),i.placeholder=m(r.placeholderShow.element.call(i.host,i.currentItem)),i.currentItem.after(i.placeholder),i.placeholderShow.update(i,i.placeholder)},_contactOwners:function(e){var t,i,s,r,n,o,a,l,d,h,c=null,u=null;for(t=this.owners.length-1;0<=t;t--)if(!m.contains(this.currentItem[0],this.owners[t].host[0]))if(this._intersectsWith(this.owners[t].containerCache)){if(c&&m.contains(this.owners[t].host[0],c.host[0]))continue;c=this.owners[t],u=t}else this.owners[t].containerCache.over&&(this.owners[t]._raiseEvent("4",this._uiHash(this)),this.owners[t].containerCache.over=0);if(c)if(1===this.owners.length)this.owners[u].containerCache.over||(this.owners[u]._raiseEvent("5",this._uiHash(this)),this.owners[u].containerCache.over=1);else{s=1e4,r=null,n=(d=c.floating||this._isFloating(this.currentItem))?"left":"top",o=d?"width":"height",h=d?"clientX":"clientY";var p=this.itemsArray;for(i=p.length-1;0<=i;i--)m.contains(this.owners[u].host[0],p[i].item[0])&&p[i].item[0]!==this.currentItem[0]&&(a=p[i].item.offset()[n],l=!1,e[h]-a>p[i][o]/2&&(l=!0),Math.abs(e[h]-a)<s&&(s=Math.abs(e[h]-a),r=p[i],this.direction=l?"up":"down"));if(!r&&!this.dropOnEmpty)return;if(this.currentContainer===this.owners[u])return void(this.currentContainer.containerCache.over||(this.owners[u]._raiseEvent("5",this._uiHash()),this.currentContainer.containerCache.over=1));if(this.owners[u].host.children().length+1>this.owners[u].maxItems)return this.currentContainer=this._currentContainer,r=this._rearrange(e,null,this.currentContainer.host,!0),this._currentContainer.containerCache.over=1,void this.placeholderShow.update(this.currentContainer,this.placeholder);r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.owners[u].host,!0),this._raiseEvent("2",this._uiHash()),this.owners[u]._raiseEvent("2",this._uiHash(this)),this.currentContainer=this.owners[u],this.placeholderShow.update(this.currentContainer,this.placeholder),this.owners[u]._raiseEvent("5",this._uiHash(this)),this.owners[u].containerCache.over=1}},_utility:function(e){var t=m.isFunction(this.helper)?m(this.helper.apply(this.host[0],[e,this.currentItem])):"clone"===this.helper?this.currentItem.clone():this.currentItem;return t.parents("body").length||m("parent"!==this.appendTo?this.appendTo:this.currentItem[0].parentNode)[0].appendChild(t[0]),t[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),t[0].style.width&&!this.forceHelperSize||t.width(this.currentItem.width()),t[0].style.height&&!this.forceHelperSize||t.height(this.currentItem.height()),t.scrollParent=function(e){var t=this.css("position"),i="absolute"===t,s=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var e=m(this);return(!i||"static"!==e.css("position"))&&s.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&r.length?r:m(this[0].ownerDocument||document)},t},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),m.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&m.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&m.jqx.browser.msie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_storeMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){"parent"===this.containment&&(this.containment=this.helper[0].parentNode),"document"!==this.containment&&"window"!==this.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===this.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===this.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&m.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(s[0].tagName);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:s.scrollTop())*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:s.scrollLeft())*i}},_generatePosition:function(e){var t,i,s=e.pageX,r=e.pageY,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&m.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),this.grid&&(t=this.originalPageY+Math.round((r-this.originalPageY)/this.grid[1])*this.grid[1],r=this.containment?t-this.offset.click.top>=this.containment[1]&&t-this.offset.click.top<=this.containment[3]?t:t-this.offset.click.top>=this.containment[1]?t-this.grid[1]:t+this.grid[1]:t,i=this.originalPageX+Math.round((s-this.originalPageX)/this.grid[0])*this.grid[0],s=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-this.grid[0]:i+this.grid[0]:i)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())}},_rearrange:function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!s)})},_delay:function(e,t){var i=this;return setTimeout(function(){return("string"==typeof e?i[e]:e).apply(i,arguments)},t||0)},_clear:function(e,t){this.reverting=!1;var i,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("jqx-sortable-helper")}else this.currentItem.show();function r(i,s,r){return function(e){var t=this._events.indexOf(i);r._raiseEvent(t,s._uiHash(s))}}for(this.fromOutside&&!t&&s.push(function(e){this._raiseEvent("6",this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".jqx-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||s.push(function(e){this._raiseEvent("11",this._uiHash())}),this!==this.currentContainer&&(t||(s.push(function(e){this._raiseEvent("7",this._uiHash())}),s.push(function(t){return function(e){t._raiseEvent("6",this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(t){return function(e){t._raiseEvent("11",this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.owners.length-1;0<=i;i--)t||s.push(r("deactivate",this,this.owners[i])),this.owners[i].containerCache.over&&(s.push(r("out",this,this.owners[i])),this.owners[i].containerCache.over=0);return this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._raiseEvent("1",this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),t||this._raiseEvent("10",this._uiHash()),this.fromOutside=!1,!this.cancelHelperRemoval},disable:function(){that=this,that.disabled=!0},enable:function(){that=this,that.disabled=!1},instance:function(){return that=this,that},_uiHash:function(e){var t=e||this;return{helper:t.helper,placeholder:t.placeholder||m([]),position:t.position,originalPosition:t.originalPosition,offset:t.positionAbs,item:t.currentItem,sender:e?e.host:null}},_raiseEvent:function(e,t){that=this;var i=m.Event(that._events[e]);return i.args=t,that.host.trigger(i)},propertyChangedHandler:function(e,t,i,s){if(that=this,s!==i)switch(t){case"disabled":that.disabled=s}}})}(jqxBaseFramework),function(c){c.jqx.jqxWidget("jqxSplitter","",{}),c.extend(c.jqx._jqxSplitter.prototype,{defineInstance:function(){var e={width:300,height:300,panels:[],orientation:"vertical",disabled:!1,splitBarSize:5,touchSplitBarSize:15,panel1:null,panel2:null,_eventsMap:{mousedown:c.jqx.mobile.getTouchEventName("touchstart"),mouseup:c.jqx.mobile.getTouchEventName("touchend"),mousemove:c.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_isTouchDevice:!1,_isNested:!1,resizable:!0,touchMode:"auto",showSplitBar:!0,initContent:null,_events:["resize","expanded","collapsed","resizeStart","layout"]};return this===c.jqx._jqxSplitter.prototype||c.extend(!0,this,e),e},createInstance:function(){this.render()},_initOverlay:function(e){if(this.overlay||"undefined"==e)this.overlay.remove(),this.overlay=null;else if(1==e){this.overlay=c("<div style='z-index: 100; background: #fff;'></div>"),this.overlay.css("opacity",.01),this.overlay.css("position","absolute"),this.overlay.appendTo(c(document.body));this.host.coord();this.overlay.css("left","0px"),this.overlay.css("top","0px"),this.overlay.width(c(window).width()),this.overlay.height(c(window).height()),this.overlay.addClass("jqx-disableselect"),"horizontal"==this.orientation?this.overlay.css("cursor","row-resize"):this.overlay.css("cursor","col-resize")}},_startDrag:function(e){return!(e.target!=this.splitBarButton[0]&&!this.disabled)||(!(!this.panels[0].collapsed&&!this.panels[1].collapsed&&this.resizable)||(null!=this.overlay||(this._dragging=!0,this._initOverlay(!0),this._dragStart=c.jqx.position(e),!1)))},_drag:function(e){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;if(!this._dragging)return!0;var t="horizontal"==this.orientation?"top":"left",i="vertical"==this.orientation?"width":"height";if(this._position=c.jqx.position(e),this.overlay&&!this._splitBarClone&&3<=Math.abs(this._position[t]-this._dragStart[t])){var s=this.splitBar.coord();return this._cloneStart={left:s.left,top:s.top},this._splitBarClone=this._createSplitBarClone(),void this._raiseEvent(3,{panels:this.panels})}if(this._splitBarClone){var r,n,o=this.host[i](),a=o/100,l=this._splitBarClone[i]()+2,d=parseInt(this.host.coord()[t]),h=this._position[t]-this._dragStart[t]+this._cloneStart[t]-d;return h<0&&(h=0),o+0-l<h&&(h=o+0-l),r=this.panels[0].min,-1!=(n=this.panels[1].min).toString().indexOf("%")&&(n=parseFloat(n)*a),-1!=r.toString().indexOf("%")&&(r=parseFloat(r)*a),this._splitBarClone.removeClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),h<r&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),h=r),o+0-l-n<h&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),h=o+0-l-n),this._splitBarClone.css(t,h),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1}return!0},resize:function(e,t){this.width=e,this.height=t,this._arrange()},_resize:function(){var e="horizontal"==this.orientation?"height":"width",t="horizontal"==this.orientation?"top":"left",i=this._splitBarClone.css(t),s=this.host[e](),r=1/(s/100);-1!=this.panels[0].size.toString().indexOf("%")?(this.panels[0].size=parseFloat(i)*r+"%",this.panels[1].size=100-parseFloat(i)*r+"%"):(this.panels[0].size=parseFloat(i),this.panels[1].size=s-parseFloat(i)),this._layoutPanels(),this._raiseEvent(0,{panels:this.panels})},_stopDrag:function(){if(this._dragging&&this._initOverlay(),this._dragging=!1,this._splitBarClone){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;this._resize(),this._splitBarClone.remove(),this._splitBarClone=null}},_createSplitBarClone:function(){var e=this.splitBar.clone();return e.fadeTo(0,.7),e.css("z-index",99999),"vertical"==this.orientation?e.css("cursor","col-resize"):e.css("cursor","row-resize"),this.host.append(e),e},_eventName:function(e){return this._isTouchDevice?this._eventsMap[e]:e},_addHandlers:function(){var t=this;if(c.jqx.utilities.resize(this.host,function(){t._layoutPanels()}),this.addHandler(this.splitBar,"dragstart."+this.element.id,function(e){return!1}),this.splitBarButton&&(this.addHandler(this.splitBarButton,"click."+this.element.id,function(){var e=function(e){e.collapsed?t.expand():t.collapse()};t.panels[0].collapsible?e(t.panels[0]):t.panels[1].collapsible&&e(t.panels[1])}),this.addHandler(this.splitBarButton,this._eventName("mouseenter"),function(){t.splitBarButton.addClass(t.toThemeProperty("jqx-splitter-collapse-button-hover")),t.splitBarButton.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this.splitBarButton,this._eventName("mouseleave"),function(){t.splitBarButton.removeClass(t.toThemeProperty("jqx-splitter-collapse-button-hover")),t.splitBarButton.removeClass(t.toThemeProperty("jqx-fill-state-hover"))})),this.addHandler(c(document),this._eventName("mousemove")+"."+this.element.id,function(e){return t._drag(e)}),this.addHandler(c(document),this._eventName("mouseup")+"."+this.element.id,function(){return t._stopDrag()}),this.addHandler(this.splitBar,this._eventName("mousedown"),function(e){return t._startDrag(e)}),this.addHandler(this.splitBar,this._eventName("mouseenter"),function(){t.resizable&&!t.disabled&&(t.splitBar.addClass(t.toThemeProperty("jqx-splitter-splitbar-hover")),t.splitBar.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.splitBar,this._eventName("mouseleave"),function(){t.resizable&&!t.disabled&&(t.splitBar.removeClass(t.toThemeProperty("jqx-splitter-splitbar-hover")),t.splitBar.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}),(""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var e=null;if(window.parent&&document.referrer&&(e=document.referrer),e&&-1!=e.indexOf(document.location.host)){var i=function(e){t._stopDrag()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",i,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",i)}}},_removeHandlers:function(){this.removeHandler(c(window),"resize."+this.element.id),this.splitBarButton&&(this.removeHandler(this.splitBarButton,"click."+this.element.id),this.removeHandler(this.splitBarButton,this._eventName("mouseenter")),this.removeHandler(this.splitBarButton,this._eventName("mouseleave"))),this.removeHandler(c(document),this._eventName("mousemove")+"."+this.element.id),this.removeHandler(c(document),this._eventName("mouseup")+"."+this.element.id),this.splitBar&&(this.removeHandler(this.splitBar,"dragstart."+this.element.id),this.removeHandler(this.splitBar,this._eventName("mousedown")),this.removeHandler(this.splitBar,this._eventName("mouseenter")),this.removeHandler(this.splitBar,this._eventName("mouseleave")))},render:function(){this.splitBar&&this.splitBar.remove();var e=this.host.children();if(2!=e.length)throw"Invalid HTML Structure! jqxSplitter requires 1 container DIV tag and 2 nested DIV tags.";if(2==e.length){var t=e[0].className.split(" "),i=e[1].className.split(" ");if(-1!=t.indexOf("jqx-reset")&&-1!=t.indexOf("jqx-splitter")&&-1!=t.indexOf("jqx-widget"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";if(-1!=i.indexOf("jqx-reset")&&-1!=i.indexOf("jqx-splitter")&&-1!=i.indexOf("jqx-widget"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!"}if(0<this.host.parent().length&&-1!=this.host.parent()[0].className.indexOf("jqx-splitter")){if(-1!=this.element.className.indexOf("jqx-splitter-panel"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";this._isNested=!0,300==this.width&&(this.width="100%"),300==this.height&&(this.height="100%"),"100%"==this.width&&"100%"==this.height&&(this.host.addClass("jqx-splitter-nested"),-1!=this.host.parent()[0].className.indexOf("jqx-splitter-panel")&&this.host.parent().addClass("jqx-splitter-panel-nested"))}this._hasBorder=0==this.host.hasClass("jqx-hideborder")||""!=this.element.style.borderTopWidth,this._removeHandlers(),this._isTouchDevice=c.jqx.mobile.isTouchDevice(),this._validate(),this.panel1.css("left","0px"),this.panel1.css("top","0px"),this.panel2.css("left","0px"),this.panel2.css("top","0px"),this.splitBar=c("<div><div></div></div>"),this.resizable||this.splitBar.css("cursor","default"),this.splitBarButton=this.splitBar.find("div:last"),this._setTheme(),this.splitBar.insertAfter(this.panel1),this._arrange(),0==this.panels[0].collapsible&&0==this.panels[1].collapsible&&this.splitBarButton.hide();this._addHandlers(),this.initContent&&this.initContent(),this.disabled&&this.disable()},_hiddenParent:function(){return c.jqx.isHidden(this.host)},_setTheme:function(){this.panel1.addClass(this.toThemeProperty("jqx-widget-content")),this.panel2.addClass(this.toThemeProperty("jqx-widget-content")),this.panel1.addClass(this.toThemeProperty("jqx-splitter-panel")),this.panel2.addClass(this.toThemeProperty("jqx-splitter-panel")),this.panel1.addClass(this.toThemeProperty("jqx-reset")),this.panel2.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-splitter")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-"+this.orientation)),this.splitBar.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-collapse-button-"+this.orientation)),this.splitBarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_validate:function(){if(2!=(e=this.host.children()).length)throw"Invalid HTML Structure! jqxSplitter requires two nested DIV tags!";this.panels&&!this.panels[1]?this.panels[0]?this.panels[1]={}:this.panels=[{size:"50%"},{size:"50%"}]:null==this.panels&&(this.panels=[{size:"50%"},{size:"50%"}]);var e=this.host.children();this.panel1=this.panels[0].element=c(e[0]),this.panel2=this.panels[1].element=c(e[1]),this.panel1[0].style.minWidth="",this.panel1[0].style.maxWidth="",this.panel2[0].style.minWidth="",this.panel2[0].style.maxWidth="",c.each(this.panels,function(){null==this.min&&(this.min=0),null==this.size&&(this.size=0),this.size<0&&(this.size=0),this.min<0&&(this.min=0),null==this.collapsible&&(this.collapsible=!0),null==this.collapsed&&(this.collapsed=!1),0!=this.size&&(-1!=this.size.toString().indexOf("px")&&(this.size=parseInt(this.size)),-1==this.size.toString().indexOf("%")?parseInt(this.min)>parseInt(this.size)&&(this.min=this.size):-1!=this.min.toString().indexOf("%")&&parseInt(this.min)>parseInt(this.size)&&(this.min=this.size))})},_arrange:function(){if(null!=this.width){var e=this.width;"string"!=typeof e&&(e=parseInt(this.width)+"px"),this.host.css("width",e)}if(null!=this.height){var t=this.height;"string"!=typeof t&&(t=parseInt(this.height)+"px"),this.host.css("height",t)}this._splitBarSize=this._isTouchDevice?this.touchSplitBarSize:this.splitBarSize,this.showSplitBar||(this._splitBarSize=0,this.splitBar.hide());var i="horizontal"==this.orientation?"width":"height";this.splitBar.css(i,"100%"),this.panel1.css(i,"100%"),this.panel2.css(i,"100%"),"horizontal"==this.orientation?this.splitBar.height(this._splitBarSize):this.splitBar.width(this._splitBarSize),"vertical"===this.orientation?(this.splitBarButton.width(this._splitBarSize),this.splitBarButton.height(45)):(this.splitBarButton.height(this._splitBarSize),this.splitBarButton.width(45)),this.splitBarButton.css("position","relative"),"vertical"===this.orientation?(this.splitBarButton.css("top","50%"),this.splitBarButton.css("left","0"),this.splitBarButton.css("margin-top","-23px"),this.splitBarButton.css("margin-left","-0px")):(this.splitBarButton.css("left","50%"),this.splitBarButton.css("top","0"),this.splitBarButton.css("margin-left","-23px"),this.splitBarButton.css("margin-top","-0px")),this._layoutPanels()},collapse:function(){if(!this.disabled){var e=-1;this.panels[0].collapsed=this.panels[1].collapsed=!1,this.panels[0].element[0].style.visibility="inherit",this.panels[1].element[0].style.visibility="inherit",this.panels[0].collapsible?e=0:this.panels[1].collapsible&&(e=1),-1!=e&&(this.panels[e].collapsed=!0,this.panels[e].element[0].style.visibility="hidden",this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(2,{index:e,panels:this.panels}),this._raiseEvent(0,{panels:this.panels}))}},expand:function(){if(!this.disabled){var e=-1;this.panels[0].collapsed=this.panels[1].collapsed=!1,this.panels[0].element[0].style.visibility="inherit",this.panels[1].element[0].style.visibility="inherit",this.panels[0].collapsible?e=0:this.panels[1].collapsible&&(e=1),-1!=e&&(this.panels[e].collapsed=!1,this.panels[e].element[0].style.visibility="inherit",this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(1,{index:e,panels:this.panels}),this._raiseEvent(0,{panels:this.panels}))}},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this.splitBarButton.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},refresh:function(e){1!=e&&this._arrange()},propertyChangedHandler:function(e,t,i,s){"panels"!==t&&"orientation"!==t&&"showSplitBar"!==t?("touchMode"===t&&(e._isTouchDevice=s),"disabled"===t?s?e.disable():e.enable():"theme"===t?c.jqx.utilities.setTheme(i,s,e.host):e.refresh()):e.render()},_layoutPanels:function(){var e,t,i,s,r=this,n="horizontal"==this.orientation?"height":"width",o="horizontal"==this.orientation?"top":"left",a=parseInt(this._splitBarSize)+2;this.showSplitBar||(a=0);var l=this.host[n](),d=l/100,h=1/d,c=h*a,u=this.panel1,p=this.panel2,m=this.panels[0].size;this.panels[0].collapsed&&(i=!0),this.panels[1].collapsed&&(s=!0),e=this.panels[0].min,-1!=(t=this.panels[1].min).toString().indexOf("%")&&(t=parseFloat(t)*d),-1!=e.toString().indexOf("%")&&(e=parseFloat(e)*d),this._isNested&&this._isTouchDevice&&("horizontal"==this.orientation?(u.width(this.host.width()),p.width(this.host.width())):(u.height(this.host.height()),p.height(this.host.height())));if(i){var f=Math.max(t,l-a);u[n](0),p[n](f)}else if(s){f=Math.max(e,l-a);p[n](0),u[n](f)}else if(-1!=m.toString().indexOf("%")){var g=100-parseFloat(m);if(u.css(n,parseFloat(m)+"%"),g-=c,p.css(n,g+"%"),(x=p[n]())<t){var v=(f=x-t)*h;m=parseFloat(m)+parseFloat(v);g=100-parseFloat(m);u.css(n,parseFloat(m)+"%"),g-=c,p.css(n,g+"%")}if(u[n]()<e){v=e*h;u.css(n,parseFloat(v)+"%")}}else{var x=l-m-a;u[0].style[n]!=m+"px"&&u[n](m),p[0].style[n]!=x+"px"&&p[n](x),x<t&&(m+=x-t,p[n](t),u[n](m)),m<e&&u[n](e)}!function(){var e=r.panel1[n]();if(r.splitBar[0].style[o]!=e+"px"){var t=e;"vertical"==r.orientation?(r.splitBar[0].style.borderLeftColor="",r.splitBar[0].style.borderRightColor="",r.splitBarButton[0].style.width=parseInt(r._splitBarSize)+"px",r.splitBarButton[0].style.left="0px"):(r.splitBar[0].style.borderTopColor="",r.splitBar[0].style.borderBottomColor="",r.splitBarButton[0].style.height=parseInt(r._splitBarSize)+"px",r.splitBarButton[0].style.top="0px"),r._hasBorder&&(l-a==e?"vertical"==r.orientation?(r.splitBar[0].style.borderRightColor="transparent",r.splitBarButton[0].style.width=parseInt(r._splitBarSize+1)+"px"):(r.splitBar[0].style.borderBottomColor="transparent",r.splitBarButton[0].style.height=parseInt(r._splitBarSize+1)+"px"):0==e&&("vertical"==r.orientation?(r.splitBar[0].style.borderLeftColor="transparent",r.splitBarButton[0].style.width=parseInt(r._splitBarSize+1)+"px",r.splitBarButton[0].style.left="-1px"):(r.splitBar[0].style.borderTopColor="transparent",r.splitBarButton[0].style.height=parseInt(r._splitBarSize+1)+"px",r.splitBarButton[0].style.top="-1px"))),r.splitBar[0].style[o]=t+"px"}r.panel2[0].style[o]!=e+a+"px"&&(r.panel2[0].style[o]=e+a+"px")}(),this._raiseEvent(4,{panels:this.panels})},destroy:function(){this._removeHandlers(),c.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_raiseEvent:function(e,t){var i=new c.Event(this._events[e]);i.owner=this,i.args=t;this.orientation;var s=new Array;return s[0]={},s[1]={},s[0].size="vertical"==this.orientation?this.panel1[0].offsetWidth:this.panel1[0].offsetHeight,s[1].size="vertical"==this.orientation?this.panel2[0].offsetWidth:this.panel2[0].offsetHeight,s[0].min=this.panels[0].min,s[1].min=this.panels[1].min,s[0].collapsible=this.panels[0].collapsible,s[1].collapsible=this.panels[1].collapsible,s[0].collapsed=this.panels[0].collapsed,s[1].collapsed=this.panels[1].collapsed,i.args.panels=s,this.host.trigger(i)}})}(jqxBaseFramework),function(l){l.jqx.jqxWidget("jqxSwitchButton","",{}),l.extend(l.jqx._jqxSwitchButton.prototype,{defineInstance:function(){var e={disabled:!1,checked:!1,onLabel:"On",offLabel:"Off",toggleMode:"default",animationDuration:250,width:90,height:30,animationEnabled:!0,thumbSize:"40%",orientation:"horizontal",switchRatio:"50%",metroMode:!1,_isMouseDown:!1,rtl:!1,_dimensions:{horizontal:{size:"width",opSize:"height",oSize:"outerWidth",opOSize:"outerHeight",pos:"left",oPos:"top",opposite:"vertical"},vertical:{size:"height",opSize:"width",oSize:"outerHeight",opOSize:"outerWidth",pos:"top",oPos:"left",opposite:"horizontal"}},_touchEvents:{mousedown:"touchstart",click:"touchend",mouseup:"touchend",mousemove:"touchmove",mouseenter:"mouseenter",mouseleave:"mouseleave"},_borders:{},_isTouchDevice:!1,_distanceRequired:3,_isDistanceTraveled:!1,_thumb:void 0,_onLabel:void 0,_offLabel:void 0,_wrapper:void 0,_animationActive:!1,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},_events:["checked","unchecked","change"]};return this===l.jqx._jqxSwitchButton.prototype||l.extend(!0,this,e),e},createInstance:function(e){if(this._createFromInput(),this.element.nodeName&&("INPUT"==this.element.nodeName||"BUTTON"==this.element.nodeName))throw"jqxSwitchButton can be rendered only from a DIV tag.";this.host.attr("role","checkbox"),l.jqx.aria(this),this.render();var t=this;t.element.tabIndex||t.host.attr("tabindex",0),l.jqx.utilities.resize(this.host,function(){t.element.innerHTML="",t.render()})},_createFromInput:function(){var e=this;if("input"==e.element.nodeName.toLowerCase()){e.field=e.element,e.field.className&&(e._className=e.field.className);var t={title:e.field.title};e.field.value&&(t.value=e.field.value),e.field.checked&&(t.checked=!0),e.field.id.length?t.id=e.field.id.replace(/[^\w]/g,"_")+"_jqxSwitchButton":t.id=l.jqx.utilities.createId()+"_jqxSwitchButton";var i=l("<div></div>",t);i[0].style.cssText=e.field.style.cssText,e.width||(e.width=l(e.field).width()),e.height||(e.height=l(e.field).outerHeight()),l(e.field).hide().after(i);var s=e.host.data();if(e.host=i,e.host.data(s),e.element=i[0],e.element.id=e.field.id,e.field.id=t.id,e._className&&(e.host.addClass(e._className),l(e.field).removeClass(e._className)),e.field.tabIndex){var r=e.field.tabIndex;e.field.tabIndex=-1,e.element.tabIndex=r}}},resize:function(e,t){this.width=e,this.height=t,this.render()},render:function(){this.innerHTML="",!this.theme||""==this.theme||-1==this.theme.indexOf("metro")&&-1==this.theme.indexOf("windowsphone")&&-1==this.theme.indexOf("office")||("40%"==this.thumbSize&&(this.thumbSize=12),this.metroMode=!0);var e=l.data(document.body,"jqx-switchbutton")||1;this._idHandler(e),l.data(document.body,"jqx-draggables",++e),this._isTouchDevice=l.jqx.mobile.isTouchDevice(),this.switchRatio=parseInt(this.switchRatio,10),this._render(),this._addClasses(),this._performLayout(),this._removeEventHandlers(),this._addEventHandles(),this._disableSelection();this.checked||this._switchButton(!1,0,!0),this.disabled&&(this.element.disabled=!0)},setOnLabel:function(e){this._onLabel.html('<div style="display: inline-block;">'+e+"</div>"),this._centerLabels()},setOffLabel:function(e){this._offLabel.html('<div style="display: inline-block;">'+e+"</div>"),this._centerLabels()},toggle:function(){this.checked?this.uncheck():this.check()},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e||("string"==typeof e?("true"==e&&this.check(),"false"==e&&this.uncheck(),""==e&&this.indeterminate()):(1==e&&this.check(),0==e&&this.uncheck(),null==e&&this.indeterminate())),this.checked},uncheck:function(){this._switchButton(!1),l.jqx.aria(this,"aria-checked",this.checked)},check:function(){this._switchButton(!0),l.jqx.aria(this,"aria-checked",this.checked)},_idHandler:function(e){if(!this.element.id){var t="jqx-switchbutton-"+e;this.element.id=t}},_dir:function(e){return this._dimensions[this.orientation][e]},_getEvent:function(e){if(this._isTouchDevice){var t=this._touchEvents[e];return l.jqx.mobile.getTouchEventName(t)}return e},_render:function(){this._thumb=l("<div/>"),this._onLabel=l("<div/>"),this._offLabel=l("<div/>"),this._wrapper=l("<div/>"),this._onLabel.appendTo(this.host),this._thumb.appendTo(this.host),this._offLabel.appendTo(this.host),this.host.wrapInner(this._wrapper),this._wrapper=this.host.children(),this.setOnLabel(this.onLabel),this.setOffLabel(this.offLabel)},_addClasses:function(){var e=this._thumb,t=this._onLabel,i=this._offLabel;this.host.addClass(this.toThemeProperty("jqx-switchbutton")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._wrapper.addClass(this.toThemeProperty("jqx-switchbutton-wrapper")),e.addClass(this.toThemeProperty("jqx-fill-state-normal")),e.addClass(this.toThemeProperty("jqx-switchbutton-thumb")),t.addClass(this.toThemeProperty("jqx-switchbutton-label-on")),t.addClass(this.toThemeProperty("jqx-switchbutton-label")),i.addClass(this.toThemeProperty("jqx-switchbutton-label-off")),i.addClass(this.toThemeProperty("jqx-switchbutton-label")),this.checked?this.host.addClass(this.toThemeProperty("jqx-switchbutton-on")):this.host.removeClass(this.toThemeProperty("jqx-switchbutton-on"))},_performLayout:function(){var e,t=this.host,i=this._dir("opSize"),s=this._dir("size"),r=this._wrapper;if(t.css({width:this.width,height:this.height}),r.css(i,t[i]()),this._thumbLayout(),this._labelsLayout(),e=this._borders[this._dir("opposite")],r.css(s,t[s]()+this._offLabel[this._dir("oSize")]()+e),r.css(i,t[i]()),this.metroMode||this.theme&&""!=this.theme&&(-1!=this.theme.indexOf("metro")||-1!=this.theme.indexOf("office"))){this._thumb;var n=this._onLabel,o=this._offLabel;n.css("position","relative"),n.css("top","1px"),n.css("margin-left","1px"),o.css("position","relative"),o.css("top","1px"),o.css("left","-2px"),o.css("margin-right","1px"),o.height(n.height()-2),o.width(n.width()-3),n.height(n.height()-2),n.width(n.width()-3),this._thumb[this._dir("size")](this.thumbSize+3),this._thumb.css("top","-1px"),this._thumb[this._dir("opSize")](t[this._dir("opSize")]()+2),this._thumb.css("position","relative"),this.host.css("overflow","hidden"),this.checked?(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","hidden"),this._thumb.css("left","0px")):(this._onLabel.css("visibility","hidden"),this._offLabel.css("visibility","visible"),this._thumb.css("left","-2px"))}},_thumbLayout:function(){var e=this.thumbSize,t=this.host;0<=e.toString().indexOf("%")&&(e=t[this._dir("size")]()*parseInt(e,10)/100),this._thumb[this._dir("size")](e),this._thumb[this._dir("opSize")](t[this._dir("opSize")]()),this._handleThumbBorders()},_handleThumbBorders:function(){this._borders.horizontal=parseInt(this._thumb.css("border-left-width"),10)||0,this._borders.horizontal+=parseInt(this._thumb.css("border-right-width"),10)||0,this._borders.vertical=parseInt(this._thumb.css("border-top-width"),10)||0,this._borders.vertical+=parseInt(this._thumb.css("border-bottom-width"),10)||0;var e=this._borders[this._dir("opposite")];"horizontal"===this.orientation?(this._thumb.css("margin-top",-e/2),this._thumb.css("margin-left",0)):(this._thumb.css("margin-left",-e/2),this._thumb.css("margin-top",0))},_labelsLayout:function(){var e=this.host,t=this._thumb,i=this._dir("opSize"),s=this._dir("size"),r=this._dir("oSize"),n=e[s]()-t[r](),o=this._borders[this._dir("opposite")]/2;this._onLabel[s](n+o),this._offLabel[s](n+o),this.rtl&&this._onLabel[s](n+2*o),this._onLabel[i](e[i]()),this._offLabel[i](e[i]()),this._orderLabels(),this._centerLabels()},_orderLabels:function(){if("horizontal"===this.orientation){var e="left";this.rtl&&(e="right"),this._onLabel.css("float",e),this._thumb.css("float",e),this._offLabel.css("float",e)}else this._onLabel.css("display","block"),this._offLabel.css("display","block")},_centerLabels:function(){var e=this._onLabel.children("div"),t=this._offLabel.children("div"),i=e.parent().height(),s=e.outerHeight(),r=this._borders[this.orientation]/2||0;0==s&&(s=14);var n=Math.floor((i-s)/2)+r;e.css("margin-top",n),t.css("margin-top",n)},_removeEventHandlers:function(){var e="."+this.element.id;this.removeHandler(this._wrapper,this._getEvent("click")+e,this._clickHandle),this.removeHandler(this._thumb,this._getEvent("mousedown")+e,this._mouseDown),this.removeHandler(l(document),this._getEvent("mouseup")+e,this._mouseUp),this.removeHandler(l(document),this._getEvent("mousemove")+e,this._mouseMove),this.removeHandler(this._thumb,"mouseenter"+e),this.removeHandler(this._thumb,"mouseleave"+e),this.removeHandler(this._wrapper,"focus"+e),this.removeHandler(this._wrapper,"blur"+e)},_addEventHandles:function(){var e="."+this.element.id,t=this;this.addHandler(this.host,"focus"+e,function(e){return t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),!1}),this.addHandler(this.host,"blur"+e,function(){t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._thumb,"mouseenter"+e,function(){t._thumb.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._thumb,"mouseleave"+e,function(){t._thumb.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._wrapper,this._getEvent("click")+e,this._clickHandle,{self:this}),this.addHandler(this._thumb,this._getEvent("mousedown")+e,this._mouseDown,{self:this}),this.addHandler(l(document),this._getEvent("mouseup")+e,this._mouseUp,{self:this}),this.addHandler(l(document),this._getEvent("mousemove")+e,this._mouseMove,{self:this})},enable:function(){this.disabled=!1,this.element.disabled=!1,l.jqx.aria(this,"aria-disabled",this.disabled)},disable:function(){this.disabled=!0,this.element.disabled=!0,l.jqx.aria(this,"aria-disabled",this.disabled)},_clickHandle:function(e){var t=e.data.self;"click"!==t.toggleMode&&"default"!==t.toggleMode||t.disabled||t._isDistanceTraveled||t._dragged||(t._wrapper.stop(),t.toggle()),t._thumb.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))},_mouseDown:function(e){var t=e.data.self,i=t._wrapper;t.metroMode&&(t.host.css("overflow","hidden"),t._onLabel.css("visibility","visible"),t._offLabel.css("visibility","visible")),t._mouseStartPosition=t._getMouseCoordinates(e),t._buttonStartPosition={left:parseInt(i.css("margin-left"),10)||0,top:parseInt(i.css("margin-top"),10)||0},t.disabled||"slide"!==t.toggleMode&&"default"!==t.toggleMode||(t._wrapper.stop(),t._isMouseDown=!0,t._isDistanceTraveled=!1,t._dragged=!1),t._thumb.addClass(t.toThemeProperty("jqx-fill-state-pressed"))},_mouseUp:function(e){var t=e.data.self;if(t.metroMode,t._isMouseDown=!1,t._thumb.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._isDistanceTraveled){var i=t._wrapper,s=parseInt(i.css("margin-"+t._dir("pos")),10)||0;t._dropHandler(s)?t._switchButton(!t.checked):t._switchButton(t.checked,null,!0),t._isDistanceTraveled=!1}},_mouseMove:function(e){var t=e.data.self,i=t._getMouseCoordinates(e);if(t._isMouseDown&&t._distanceTraveled(i)){var s=t._dir("pos"),r=t._wrapper,n=t._buttonStartPosition[s]+i[s]-t._mouseStartPosition[s];n=t._validatePosition(n);return t._dragged=!0,r.css("margin-"+t._dir("pos"),n),t._onLabel.css("visibility","visible"),t._offLabel.css("visibility","visible"),!1}},_distanceTraveled:function(e){if(this._isDistanceTraveled)return!0;if(this._isMouseDown){var t=this._mouseStartPosition,i=this._distanceRequired;return this._isDistanceTraveled=Math.abs(e.left-t.left)>=i||Math.abs(e.top-t.top)>=i,this._isDistanceTraveled}return!1},_validatePosition:function(e){var t=this._borders[this._dir("opposite")],i=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]())-t;return 0<e?0:e<i?i:e},_dropHandler:function(e){var t=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()),i=Math.abs(t-0),s=Math.abs(e-this._buttonStartPosition[this._dir("pos")]);return i*(this.switchRatio/100)<=s},_switchButton:function(e,t,i){this.metroMode?(this.host.css("overflow","hidden"),this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"),e?this._thumb.css("left","0px"):this._thumb.css("left","-2px")):(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"));var s=this._wrapper,r=this,n={},o=this._borders[this._dir("opposite")],a=0;void 0===t&&(t=this.animationEnabled?this.animationDuration:0),this.rtl?e?(a=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+o,this.metroMode&&(a+=5)):this.metroMode&&(a-=3):e||(a=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+o),n["margin-"+this._dir("pos")]=-a,e?r.host.addClass(r.toThemeProperty("jqx-switchbutton-on")):r.host.removeClass(r.toThemeProperty("jqx-switchbutton-on")),s.animate(n,t,function(){e?(r._onLabel.css("visibility","visible"),r._offLabel.css("visibility","hidden")):(r._onLabel.css("visibility","hidden"),r._offLabel.css("visibility","visible")),r.checked=e,i||r._handleEvent(!e)})},_handleEvent:function(e){e!==this.checked&&this._raiseEvent(2,{check:this.checked,checked:this.checked}),e?this._raiseEvent(0,{checked:this.checked}):this._raiseEvent(1,{checked:this.checked})},_disableSelection:function(){var e=this.host.find("*");l.each(e,function(e,t){t.onselectstart=function(){return!1},l(t).addClass("jqx-disableselect")})},_getMouseCoordinates:function(e){return this._isTouchDevice&&e.originalEvent.touches?{left:e.originalEvent.touches[0].pageX,top:e.originalEvent.touches[0].pageY}:{left:e.pageX,top:e.pageY}},destroy:function(){this._removeEventHandlers(),this.host.removeClass(this.toThemeProperty("jqx-switchbutton")),this._wrapper.remove()},_raiseEvent:function(e,t){var i=l.Event(this._events[e]);return i.args=t,this.host.trigger(i)},_themeChanger:function(e,t,i){if(e){void 0===i&&(i=this.host);for(var s=i[0].className.split(" "),r=[],n=[],o=i.children(),a=0;a<s.length;a+=1)0<=s[a].indexOf(e)&&(r.push(s[a]),n.push(s[a].replace(e,t)));this._removeOldClasses(r,i),this._addNewClasses(n,i);for(a=0;a<o.length;a+=1)this._themeChanger(e,t,l(o[a]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e._wrapper.css("margin-left","0px"),e._wrapper.css("margin-top","0px"),e._performLayout(),e._wrapper.css("left","0px"),e._wrapper.css("top","0px"),e._switchButton(this.checked,0,!0))},propertyChangedHandler:function(e,t,i,s){if(!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length))switch(t){case"disabled":s?e.disable():e.enable();break;case"switchRatio":e.switchRatio=parseInt(e.switchRatio,10);break;case"checked":s?e.check():e.uncheck();break;case"onLabel":e.setOnLabel(s);break;case"offLabel":e.setOffLabel(s);break;case"theme":l.jqx.utilities.setTheme(i,s,e.host);break;case"width":case"height":case"thumbSize":case"orientation":e._wrapper.css("margin-left","0px"),e._wrapper.css("margin-top","0px"),e._performLayout(),e._wrapper.css("left","0px"),e._wrapper.css("top","0px"),e._switchButton(this.checked,0,!0)}}})}(jqxBaseFramework),function(f){f.jqx.jqxWidget("jqxTabs","",{}),f.extend(f.jqx._jqxTabs.prototype,{defineInstance:function(){var e={scrollAnimationDuration:200,enabledHover:!0,disabled:!1,collapsible:!1,animationType:"none",enableScrollAnimation:!0,contentTransitionDuration:450,toggleMode:"click",selectedItem:0,height:"auto",width:"auto",position:"top",selectionTracker:!1,scrollable:!0,scrollPosition:"right",scrollStep:70,autoHeight:!0,headerHeight:null,showCloseButtons:!1,canCloseAllTabs:!0,closeButtonSize:16,arrowButtonSize:16,keyboardNavigation:!0,reorder:!1,selectionTrackerAnimationDuration:300,_isTouchDevice:!1,roundedCorners:!0,_headerExpandingBalance:0,_dragStarted:!1,_tabCaptured:!1,_lastUnorderedListPosition:0,_selectedItem:0,_titleList:[],_contentList:[],_contentWrapper:null,_unorderedList:null,_scrollTimeout:null,isCollapsed:!1,touchMode:!1,initTabContent:null,enableDropAnimation:!1,_currentEvent:null,_needScroll:!0,_isAnimated:{},_events:["created","selected","add","removed","enabled","disabled","selecting","unselecting","unselected","dragStart","dragEnd","locked","unlocked","collapsed","expanded","tabclick"],_initTabContentList:[],_invalidArgumentExceptions:{invalidScrollAnimationDuration:"The scroll animation duration is not valid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidAnimationType:"You've entered invalid animation type!",invalidcontentTransitionDuration:"You've entered invalid value for contentTransitionDuration!",invalidToggleMode:"You've entered invalid value for toggleMode!",invalidPosition:"You've entered invalid position!",invalidScrollPosition:"You've entered invalid scroll position!",invalidScrollStep:"You've entered invalid scroll step!",invalidStructure:"Invalid structure!",invalidArrowSize:"Invalid scroll button size!",invalidCloseSize:"Invalid close button size!"},aria:{"aria-disabled":{name:"disabled",type:"boolean"}},rtl:!1};return this===f.jqx._jqxTabs.prototype||f.extend(!0,this,e),e},createInstance:function(){this._IE8=f.jqx.browser.msie&&f.jqx.browser.version<9,f.jqx.aria(this),this.element.className+=" "+this.toThemeProperty("jqx-tabs jqx-widget jqx-widget-content"),this.element.setAttribute("role","tablist");for(var e=this.host.children(),t=0;t<e.length;t++){var i=e[t];"ul"===i.nodeName.toLowerCase()?this._unorderedList=i:"div"===i.nodeName.toLowerCase()&&this._contentList.push(i)}this._unorderedListHelper=f(this._unorderedList),this._unorderedListHelper.initAnimate&&this._unorderedListHelper.initAnimate(),this._closeButtonList=[],this._selectedItem=this.selectedItem,this._isTouchDevice=f.jqx.mobile.isTouchDevice(),this._needScroll=this.scrollable,this.selectionTracker&&(this.selectionTracker=this._seletionTrackerBrowserCheck()),this._isTouchDevice&&(this.reorder=!1,this.keyboardNavigation=!1),this._titleList=this._unorderedListHelper.children();for(var s=this._titleList.length;s;)s--,this._titleList[s].setAttribute("role","tab"),this._titleList[s].getAttribute("id")||this._titleList[s].setAttribute("id",this.element.id+"Tab"+s),this._contentList[s].setAttribute("role","tabpanel");this._validateProperties(),this._refresh(),this._moveSelectionTrack(this._selectedItem,0),this.disabled&&this.disable(),this.element.tabIndex=0,this._raiseEvent(0),this._enableWindowResize()},_hiddenParent:function(){if("none"===this.host.css("display"))return!0;var e=!1;return f.each(this.host.parents(),function(){if("none"===f(this).css("display"))return!(e=!0)}),e},_enableWindowResize:function(){var e=this,t=f.jqx.isHidden(e.host);f.jqx.utilities.resize(this.host,function(){t?(e._uiRefresh(!0),t=!1):e.refresh()})},resize:function(e,t){this.width=e,this.height=t;var i=f.jqx.isHidden(this.host);i?(this._uiRefresh(!0),i=!1):this.refresh()},refresh:function(e){!0===e&&void 0!==e||this._setSize()},_seletionTrackerBrowserCheck:function(){var e="Browser CodeName: "+navigator.appCodeName;return e+="Browser Name: "+navigator.appName,e+="Browser Version: "+navigator.appVersion,e+="Platform: "+navigator.platform,-1===(e+="User-agent header: "+navigator.userAgent).indexOf("IEMobile")&&(-1===e.indexOf("Windows Phone OS")&&!(f.jqx.browser.msie&&f.jqx.browser.version<=7))},render:function(){this._refresh()},_uiRefresh:function(e){if(this._unorderedListLeftBackup=this._unorderedListHelper.css("left"),e&&this._render(),this._addStyles(),this._performLayout(),this._prepareTabs(),this._removeEventHandlers(),this._addEventHandlers(),"auto"===this._unorderedListLeftBackup&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()),this._unorderedList.style.left=this._toPx(this._unorderedListLeftBackup),this.rtl&&this.scrollable&&this._rightArrow&&"hidden"!==f(this._rightArrow).css("visibility")){var t=2*this.arrowButtonSize,i=this._width(this.element)-parseInt(this._width(this._unorderedList)+t+parseInt(this._unorderedListHelper.css("margin-left"),10),10);this._unorderedList.style.left=i+"px"}},_refresh:function(){f.jqx.isHidden(this.host)||this._uiRefresh(!0)},_addStyles:function(){this._unorderedList.className+=" "+this.toThemeProperty("jqx-tabs-title-container"),this._unorderedList.style.outline="none",this._unorderedList.style.whiteSpace="nowrap",this._unorderedList.style.marginTop="0px",this._unorderedList.style.marginBottom="0px",this._unorderedList.style.padding="0px",this._unorderedList.style.background="transparent",this._unorderedList.style.border="none",this._unorderedList.style.borderStyle="none",this._unorderedList.style.textIndent="0px";for(var e=this.length();e;){e--;var t=this._titleList[e],i="jqx-tabs-title jqx-item";switch(t.style.padding="","bottom"===this.position&&(i+=" jqx-tabs-title-bottom"),t.disabled&&(i+=" jqx-tabs-title-disable jqx-fill-state-disabled"),this.position){case"top":i+=" jqx-rc-t",this._removeClass(this._contentList[e],this.toThemeProperty("jqx-rc-t")),this._contentList[e].className+=" "+this.toThemeProperty("jqx-rc-b");break;case"bottom":i+=" jqx-rc-b",this._removeClass(this._contentList[e],this.toThemeProperty("jqx-rc-b")),this._contentList[e].className+=" "+this.toThemeProperty("jqx-rc-t")}t.className="jqx-reset jqx-disableselect "+this.toThemeProperty(i)}if(this.selectionTracker)switch(this.position){case"top":this._removeClass(this._selectionTracker,this.toThemeProperty("jqx-rc-b")),this._selectionTracker.className+=" "+this.toThemeProperty("jqx-rc-t");break;case"bottom":this._removeClass(this._selectionTracker,this.toThemeProperty("jqx-rc-t")),this._selectionTracker.className+=" "+this.toThemeProperty("jqx-rc-b")}},_raiseEvent:function(e,t){var i=new f.Event(this._events[e]);i.owner=this,i.args=t,6!==e&&7!==e||(i.cancel=!1,this._currentEvent=i);var s="";try{if(s=this.host.trigger(i),1===e){var r=this;if(this.selectionTracker||"none"!==this.animationType)setTimeout(function(){r._initTabContentList[r.selectedItem]||r.initTabContent&&(r.initTabContent(r.selectedItem),r._initTabContentList[r.selectedItem]=!0);var e=new f.Event("loadContent");e.owner=this,0<r._contentList.length&&r._contentList[r.selectedItem]&&f(r._contentList[r.selectedItem]).trigger(e)},50+r.selectionTrackerAnimationDuration);else{var n=new f.Event("loadContent");r._initTabContentList[r.selectedItem]||r.initTabContent&&(r.initTabContent(r.selectedItem),r._initTabContentList[r.selectedItem]=!0),n.owner=this;var o=new f.Event("resize");this.host.trigger(o)}}}catch(e){e&&console&&console.log(e)}return s},_getArrowsDisplacement:function(){if(!this._needScroll)return 0;var e=this.arrowButtonSize,t=this.arrowButtonSize;return"left"===this.scrollPosition?e+t:"both"===this.scrollPosition?e:0},_scrollRight:function(e){this._stop(this._unorderedListHelper),this._unlockAnimation("unorderedList");var t,i,s,r=parseInt(this._width(this._unorderedList)+parseInt(this._unorderedListHelper.css("margin-left"),10),10),n=this._width(this.element),o=parseInt(this._unorderedListHelper.css("left"),10),a=this._getArrowsDisplacement(),l=0;this.scrollable?(t=this._leftArrow.offsetWidth,i=this._rightArrow.offsetWidth):i=t=0,e=this.enableScrollAnimation?e:0,this._width(this._headerWrapper)>parseInt(this._unorderedListHelper.css("margin-left"),10)+this._width(this._unorderedList)?l=a:Math.abs(o)+this.scrollStep<Math.abs(n-r)+t+i+a?(l=o-this.scrollStep,s=o-this.scrollStep+parseInt(f(this._titleList[this._selectedItem]).position().left,10)):(l=n-r-(2*this.arrowButtonSize-a))<parseInt(this._unorderedListHelper.css("left"),10)-4&&l>parseInt(this._unorderedListHelper.css("left"),10)+4&&(s=n-r-t-i+parseInt(f(this._titleList[this._selectedItem]).position().left,10)),this._performScrollAnimation(l,s,e)},_scrollLeft:function(e){this._stop(this._unorderedListHelper),this._unlockAnimation("unorderedList");var t,i=parseInt(this._unorderedListHelper.css("left"),10),s=this._getArrowsDisplacement(),r=0;e=this.enableScrollAnimation?e:0,this._width(this._headerWrapper)>=this._width(this._unorderedList)?r=s:i+this.scrollStep<s?(r=i+this.scrollStep,t=i+this.scrollStep+parseInt(f(this._titleList[this._selectedItem]).position().left,10)):(r=s)<parseInt(this._unorderedListHelper.css("left"),10)-4&&r>parseInt(this._unorderedListHelper.css("left"),10)+4&&(t=parseInt(f(this._titleList[this._selectedItem]).position().left,10)),this._performScrollAnimation(r,t,e)},_performScrollAnimation:function(e,t,i){var s=this;void 0!==t&&this._moveSelectionTrack(this._selectedItem,0,t),this._lockAnimation("unorderedList"),this._unorderedListHelper.animate({left:e},i,function(){s._moveSelectionTrack(s.selectedItem,0),s._unlockAnimation("unorderedList")})},_addKeyboardHandlers:function(){var r=this;this.keyboardNavigation&&this.addHandler(this.host,"keydown",function(e){if(!r._activeAnimation()){var t=r._selectedItem,i=r.selectionTracker,s=r.getContentAt(t);if(f(e.target).ischildof(s))return!0;if(f(document.activeElement).ischildof(f(s)))return!0;switch(e.keyCode){case 37:return r.rtl?r.next():r.previous(),!1;case 39:return r.rtl?r.previous():r.next(),!1;case 36:return r.first(),!1;case 35:return r.last(),!1;case 27:r._tabCaptured&&(r._cancelClick=!0,r._uncapture(null,r.selectedItem),r._tabCaptured=!1)}r.selectionTracker=i}return!0})},_addScrollHandlers:function(){var e=this;this.addHandler(this._leftArrow,"mousedown",function(){e._startScrollRepeat(!0,e.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mousedown",function(){e._startScrollRepeat(!1,e.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mouseleave",function(){clearTimeout(e._scrollTimeout)}),this.addHandler(this._leftArrow,"mouseleave",function(){clearTimeout(e._scrollTimeout)}),this.addHandler(f(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler,this),this.addHandler(f(document),"mouseleave.tab"+this.element.id,this._mouseLeaveScrollDocumentHandler,this)},_mouseLeaveScrollDocumentHandler:function(e){var t=e.data;t._scrollTimeout&&clearTimeout(t._scrollTimeout)},_mouseUpScrollDocumentHandler:function(e){var t=e.data;clearTimeout(t._scrollTimeout)},_mouseUpDragDocumentHandler:function(e){var t=e.data;t._tabCaptured&&t._dragStarted&&t._uncapture(e),t._tabCaptured=!1},_addReorderHandlers:function(){this.addHandler(f(document),"mousemove.tab"+this.element.id,this._moveElement,this),this.addHandler(f(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler,this)},_addEventHandlers:function(){for(var e=this.length();e;)e--,this._addEventListenerAt(e);this.keyboardNavigation&&this._addKeyboardHandlers(),this.scrollable&&this._addScrollHandlers(),this.reorder&&!this._isTouchDevice&&this._addReorderHandlers();var t=this;try{if((""!==document.referrer||window.frameElement)&&null!==window.top&&window.top!==window.self){var i=null;window.parent&&document.referrer&&(i=document.referrer),i&&-1!==i.indexOf(document.location.host)&&window.top.document&&this.addHandler(f(window.top.document),"mouseup.tabs"+this.element.id,function(){t._tabCaptured&&(t._cancelClick=!0,t._uncapture(null,t.selectedItem),t._tabCaptured=!1)})}}catch(e){}},focus:function(){try{this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25)}catch(e){}},_getFocusedItem:function(e){for(var t=this.length();t;){t--;var i=this._titleList[t],s=this._outerWidth(i,!0),r=parseInt(f(i).offset().left,10);if(r<=e&&e<=r+s&&i!==this._capturedElement&&!this._titleList[t].locked&&!0!==this._titleList[t].disabled)return t}return-1},_uncapture:function(e){var t=this.selectionTracker;this._unorderedListLeftBackup=this._unorderedListHelper.css("left"),this._dragStarted=!1,this._tabCaptured=!1;var i=this._indexOf(this._capturedElement);if(this._capturedElement){switch(this.position){case"top":this._capturedElement.style.bottom="0px";break;case"bottom":this._capturedElement.style.top="0px"}var s;e&&(s=this._getFocusedItem(e.clientX)),-1!==s&&e?(this._raiseEvent(10,{item:i,dropIndex:s}),this._reorderItems(s,i)):this._capturedElement.style.left="0px";for(var r=0;r<this._titleList.length;r++)this._titleList[r].style.position="static";this._reorderHeaderElements(),this._unorderedList.style.position="relative",this._unorderedList.style.top="0px",this._prepareTabs(),-1!==s&&e?this._moveSelectionTrack(this._selectedItem,0):(this._selectedItem=i,this._moveSelectionTrack(i,0)),this._addSelectStyle(this._selectedItem,!0),document.selection&&document.selection.clear(),this._unorderedList.style.left=this._toPx(this._unorderedListLeftBackup),this.selectionTracker=t}},_reorderItems:function(e,t){var i=this._titleList[this.selectedItem],s=this._titleList[t];void 0===this._capturedElement&&(this._capturedElement=s),f(s).remove(),t<e?this._titleList[e+1]?this._unorderedList.insertBefore(s,this._titleList[e+1]):this._unorderedList.appendChild(s):this._unorderedList.insertBefore(s,this._titleList[e]),this._reorderElementArrays(e,t),this._getSelectedItem(i),this._removeEventHandlers(),this._addEventHandlers()},_reorderElementArrays:function(e,t){var i=this._contentList[t];if(t<e){for(var s=t;s<=e;s++)this._titleList[s]=this._titleList[s+1],this._contentList[s]=this._contentList[s+1];this._contentList[e]=i,this._titleList[e]=this._capturedElement}else{for(var r=t;e<=r;r--)this._titleList[r]=this._titleList[r-1],this._contentList[r]=this._contentList[r-1];this._contentList[e]=i,this._titleList[e]=this._capturedElement}},getSelectedItem:function(){return this.selectedItem},_getSelectedItem:function(e){for(var t=this.length();t;)if(t--,this._titleList[t]===e){this._selectedItem=this.selectedItem=t;break}},_moveElement:function(e){var t=e.data;if(t._tabCaptured)if(document.selection&&document.selection.clear(),t._dragStarted)t._performDrag(e),clearTimeout(t._scrollTimeout);else{var i=-parseInt(t._unorderedListHelper.css("left"),10);(e.clientX+i>t._startX+3||e.clientX+i<t._startX-3)&&(t._prepareTabForDragging(),t._dragStarted=!0)}},_performDrag:function(e){var t=this.getZoomFactor(),i=-parseInt(this._unorderedListHelper.css("left"),10);this._capturedElement.style.left=this._toPx(i+e.clientX/t-this._startX/t),this._lastX=e.clientX/t,this._moveSelectionTrack(this.selectedItem,0)},getZoomFactor:function(){var e=1;if(document.body.getBoundingClientRect){var t=document.body.getBoundingClientRect(),i=t.right-t.left,s=document.body.offsetWidth;e=Math.round(i/s*100)/100}return e},_prepareTabForDragging:function(){switch(this._capturedElement.style.position="relative",this._capturedElement.style.left="0px",this._capturedElement.style.top="0px",this._capturedElement.style.zIndex=300,this.selectedItem=this._indexOf(this._capturedElement),this.position){case"top":this._capturedElement.style.bottom=this._toPx(f(this._capturedElement).css("top"));break;case"bottom":this._capturedElement.style.top=this._toPx(f(this._capturedElement).css("top"))}this._raiseEvent(9,{item:this._indexOf(this._capturedElement)})},_dragScroll:function(e){var t=parseInt(this._unorderedListHelper.css("left"),10),i=this,s=f(i._headerWrapper);e.clientX<=s.offset().left?(this._scrollLeft(this.scrollAnimationDuration),this._capturedElement.style.left=parseInt(f(this._capturedElement).css("left"),10)+this._lastUnorderedListPosition-t):e.clientX>s.offset().left+i._width(this._headerWrapper)?(this._scrollRight(this.scrollAnimationDuration),this._capturedElement.style.left=parseInt(f(this._capturedElement).css("left"),10)+this._lastUnorderedListPosition-t):(i._stop(i._unorderedListHelper),this._unlockAnimation("unorderedList"),clearTimeout(this._scrollTimeout)),this._scrollTimeout=setTimeout(function(){i._dragScroll(e)},this.scrollAnimationDuration),this._lastUnorderedListPosition=t},_captureElement:function(e,t){if(!this._tabCaptured&&!this._titleList[t].locked&&!0!==this._titleList[t].disabled&&!this._activeAnimation()){var i=-parseInt(this._unorderedListHelper.css("left"),10);this._startX=i+e.clientX,this._startY=e.clientY,this._lastX=e.clientX,this._lastY=e.clientY,this._tabCaptured=!0,this._capturedElement=this._titleList[t]}},_titleInteractionTrigger:function(e){0<this._headerExpandingBalance&&this._removeOppositeBorder(),this._selectedItem!==e?(this.select(this._titleList[e],"toggle"),this._titleList[e].collapsed=!1,this.collapsible||("auto"!==this.height?this._contentWrapper.style.visibility="visible":this._contentWrapper.style.display="block")):this.collapsible&&(this.isCollapsed?this.expand():this.collapse())},collapse:function(){var e=this._selectedItem;this.isCollapsed=!0,"auto"!==this.height?this._contentWrapper.style.visibility="hidden":this._contentWrapper.style.display="none",this._raiseEvent(13,{item:e}),"top"===this.position?(this._headerWrapper.className+=" "+this.toThemeProperty("jqx-tabs-header-collapsed"),this.element.className+=" "+this.toThemeProperty("jqx-tabs-collapsed")):(this._headerWrapper.className+=" "+this.toThemeProperty("jqx-tabs-header-collapsed-bottom"),this.element.className+=" "+this.toThemeProperty("jqx-tabs-collapsed-bottom"))},expand:function(){var e=this._selectedItem,t=this;this.isCollapsed=!1,this._select(e,t.contentTransitionDuration,null,!1,!0),"auto"!==t.height?t._contentWrapper.style.visibility="visible":t._contentWrapper.style.display="block",t._raiseEvent(14,{item:e}),"top"===this.position?(t._removeClass(t._headerWrapper,t.toThemeProperty("jqx-tabs-header-collapsed")),t._removeClass(t.element,t.toThemeProperty("jqx-tabs-collapsed"))):(t._removeClass(t._headerWrapper,t.toThemeProperty("jqx-tabs-header-collapsed-bottom")),t._removeClass(t.element,t.toThemeProperty("jqx-tabs-collapsed-bottom")))},_addSelectHandler:function(e){var t,i=this;this.addHandler(this._titleList[e],"selectstart",function(){return!1}),this.addHandler(this._titleList[e],this.toggleMode,(t=e,function(){return i._raiseEvent("15",{item:t}),i._tabCaptured||i._cancelClick||i._titleInteractionTrigger(t),!0}))},_addDragDropHandlers:function(t){var i=this;this.addHandler(this._titleList[t],"mousedown",function(e){i._captureElement(e,t)}),this.addHandler(this._titleList[t],"mouseup",function(e){return i._tabCaptured&&i._dragStarted?(i._cancelClick=!0,i._uncapture(e,t)):i._cancelClick=!1,i._tabCaptured=!1})},_removeHoverStates:function(){var e=this;f.each(this._titleList,function(){e._removeClass(this,e.toThemeProperty("jqx-tabs-title-hover-top jqx-tabs-title-hover-bottom"))})},_addHoverHandlers:function(s){var r=this,n=this._titleList[s];this.addHandler(n,"mouseenter mouseleave",function(e){if(s!==r._selectedItem){var t="jqx-fill-state-hover";if("top"===r.position?t+=" jqx-tabs-title-hover-top":t+=" jqx-tabs-title-hover-bottom","mouseenter"===e.type?n.className+=" "+r.toThemeProperty(t):r._removeClass(n,r.toThemeProperty(t)),r.showCloseButtons){var i=r._closeButtonList[s];"mouseenter"===e.type?i.className+=" "+r.toThemeProperty("jqx-tabs-close-button-hover",!0):r._removeClass(i,r.toThemeProperty("jqx-tabs-close-button-hover",!0))}}})},_addEventListenerAt:function(e){var t=this;if(!this._titleList[e].disabled){this.reorder&&!this._isTouchDevice&&this._addDragDropHandlers(e),this._addSelectHandler(e),this.enabledHover&&this._addHoverHandlers(e);var i=t._closeButtonList[e];this.removeHandler(i,"click"),this.addHandler(i,"click",function(){return t.removeAt(e),!1})}},_removeEventHandlers:function(){for(var e=this,t=e.length();t;)t--,e._removeEventListenerAt(t);e.scrollable&&(e.removeHandler(e._leftArrow,"mousedown"),e.removeHandler(e._rightArrow,"mousedown")),e.removeHandler(f(document),"mousemove.tab"+e.element.id,e._moveElement),e.removeHandler(f(document),"mouseup.tab"+e.element.id,e._mouseUpScrollDocumentHandler),e.removeHandler(f(document),"mouseup.tab"+e.element.id,e._mouseUpDragDocumentHandler),e.removeHandler(e.host,"keydown")},_removeEventListenerAt:function(e){var t=this;t.removeHandler(t._titleList[e],t.toggleMode),t.removeHandler(t._titleList[e],"mouseenter"),t.removeHandler(t._titleList[e],"mouseleave"),t.removeHandler(t._titleList[e],"mousedown"),t.removeHandler(t._titleList[e],"mouseup"),t.removeHandler(t._closeButtonList[e],"click")},_moveSelectionTrack:function(e,t,i){var s=this;if(-1!==e&&0!==this._titleList.length&&!(e>=this._titleList.length)){var r=this._titleList[e],n=f(r);if(this.selectionTracker&&this._selectionTracker){var o;s._stop(s._selectionTrackerHelper),this._unlockAnimation("selectionTracker"),void 0===i?(o=parseInt(n.position().left,10),isNaN(parseInt(this._unorderedListHelper.css("left"),10))||(o+=parseInt(this._unorderedListHelper.css("left"),10)),isNaN(parseInt(this._unorderedListHelper.css("margin-left"),10))||(o+=parseInt(this._unorderedListHelper.css("margin-left"),10)),isNaN(parseInt(n.css("margin-left"),10))||(o+=parseInt(n.css("margin-left"),10)),isNaN(parseInt(n.css("margin-right"),10))):o=i;"top"===this.position&&(this._height(s._headerWrapper)-r.offsetHeight,this.autoHeight||parseInt(n.css("margin-top"),10)),this._lockAnimation("selectionTracker");var a=parseInt(n.css("padding-left"),10)+parseInt(n.css("padding-right"),10),l="top"===this.position?0:1,d=parseInt(f(this._headerWrapper).css("padding-top"),10),h=parseInt(n.css("padding-top"),10)+parseInt(n.css("padding-bottom"),10);this._selectionTracker.style.visibility="visible",this._moveSelectionTrackerContainer.style.visibility="visible";var c=parseInt(n.css("margin-top"),10);isNaN(c)&&(c=0),s._selectionTrackerHelper.animate({top:d+c-l,left:o+"px",height:parseInt(this._height(r)+h,10),width:s._width(r)+a},t,function(){s._unlockAnimation("selectionTracker"),s._selectionTracker.style.visibility="hidden",s._addSelectStyle(e,!0),s._moveSelectionTrackerContainer.style.visibility="hidden"})}}},destroy:function(){f.jqx.utilities.resize(this.host,null,!0),(""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self&&this.removeHandler(f(window.top.document),"mouseup.tabs"+this.element.id),this.host.remove()},_switchTabs:function(e,t){if(e!==t&&!this._activeAnimation()&&!this._tabCaptured){return this._raiseEvent(7,{item:t}),this._raiseEvent(6,{item:e}),this._currentEvent&&this._currentEvent.cancel?void(this._currentEvent=null):(this._unselect(t,null,!0),this._select(e,this.contentTransitionDuration,null,!0),!0)}return!1},_activeAnimation:function(){for(var e in this._isAnimated)if(this._isAnimated.hasOwnProperty(e)&&this._isAnimated[e])return!0;return!1},_indexOf:function(e){for(var t=this.length();t;)if(t--,this._titleList[t]===e||this._contentList[t]===e)return t;return-1},_validateProperties:function(){try{if(this.scrollAnimationDuration<0||isNaN(this.scrollAnimationDuration))throw new Error(this._invalidArgumentExceptions.invalidScrollAnimationDuration);if(parseInt(this.width,10)<0&&"auto"!==this.width)throw new Error(this._invalidArgumentExceptions.invalidWidth);if(parseInt(this.height,10)<0&&"auto"!==this.height)throw new Error(this._invalidArgumentExceptions.invalidHeight);if("none"!==this.animationType&&"fade"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(this.contentTransitionDuration<0||isNaN(this.contentTransitionDuration))throw new Error(this._invalidArgumentExceptions.invalidcontentTransitionDuration);if("click"!==this.toggleMode&&"dblclick"!==this.toggleMode&&"mouseenter"!==this.toggleMode&&"none"!==this.toggleMode)throw new Error(this._invalidArgumentExceptions.invalidToggleMode);if("top"!==this.position&&"bottom"!==this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if("left"!==this.scrollPosition&&"right"!==this.scrollPosition&&"both"!==this.scrollPosition)throw new Error(this._invalidArgumentExceptions.invalidScrollPosition);if(this.scrollStep<0||isNaN(this.scrollStep))throw new Error(this._invalidArgumentExceptions.invalidScrollStep);if(this._titleList.length!==this._contentList.length||0===this._titleList.length)throw new Error(this._invalidArgumentExceptions.invalidStructure);if(this.arrowButtonSize<0||isNaN(this.arrowButtonSize))throw new Error(this._invalidArgumentExceptions.invalidArrowSize);if(this.closeButtonSize<0||isNaN(this.closeButtonSize))throw new Error(this._invalidArgumentExceptions.invalidCloseSize)}catch(e){try{console.log(e)}catch(e){}}},_startScrollRepeat:function(e,t){var i=this;e?this._scrollLeft(t):this._scrollRight(t),this._scrollTimeout&&clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout(function(){i._startScrollRepeat(e,i.scrollAnimationDuration)},t)},_performLayout:function(){for(var e=this.length();e;)e--,"top"!==this.position&&"bottom"!==this.position||(this.rtl?this._titleList[e].style.float="right":this._titleList[e].style.float="left");this._fitToSize(),this._performHeaderLayout(),this._fitToSize()},updatetabsheader:function(){this._performHeaderLayout()},_setSize:function(){var e=this;e._fitToSize(),e._positionArrows(e._totalItemsWidth),e._totalItemsWidth>e.element.offsetWidth?e._unorderedList.style.width=e._toPx(e._totalItemsWidth):e._unorderedList.style.width=e.element.offsetWidth-2+"px",e._fitToSize()},_addArrows:function(){this._leftArrow&&this._rightArrow&&(f(this._leftArrow).remove(),f(this._rightArrow).remove()),this._leftArrow=document.createElement("div"),this._leftArrow.innerHTML='<span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-left")+'"></span>',this._leftArrow.className=this.toThemeProperty("jqx-tabs-arrow-background jqx-widget-header"),this._leftArrow.style.zIndex=30,this._leftArrow.style.display="none",this._leftArrow.style.width=this._toPx(this.arrowButtonSize),this._leftArrow.style.height="100%",this._rightArrow=document.createElement("div"),this._rightArrow.innerHTML='<span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-right")+'"></span>',this._rightArrow.className=this.toThemeProperty("jqx-tabs-arrow-background jqx-widget-header"),this._rightArrow.style.zIndex=30,this._rightArrow.style.display="none",this._rightArrow.style.width=this._toPx(this.arrowButtonSize),this._rightArrow.style.height="100%",this._headerWrapper.appendChild(this._leftArrow),this._headerWrapper.appendChild(this._rightArrow)},_tabsWithVisibleCloseButtons:function(){if(!this.showCloseButtons)return 0;var t=this.length();return f.each(this._titleList,function(){var e=this.attr("hasclosebutton");null!=e&&("false"!==e&&!1!==e||t--)}),t},_calculateTitlesSize:function(){function e(e,t){e&&(e.style.display=t?"block":"none")}var t=0,i=0,s=this.length();for(this.rtl&&f.jqx.browser.msie&&f.jqx.browser.version<8&&(this._measureItem=document.createElement("span"),this._measureItem.style.position="relative",this._measureItem.style.visibility="hidden",document.body.appendChild(this._measureItem));s;){s--;var r=this._titleList[s],n=this._closeButtonList[s];this._measureItem&&(this._measureItem.innerHTML=r.innerHTML,this._measureItem.html(this._titleList[s].html()),r.style.width=this._toPx(this._width(this._measureItem))),e(n,!(r.style.position="static")),i+=this._outerWidth(r,!0);var o=this._outerHeight(r,!0);if(t<o&&(t=o),0===this._height(r)){var a=r.cloneNode(!0);document.body.appendChild(a),t=this._outerHeight(a,!0),document.body.removeChild(a)}var l,d=r.getAttribute("hasCloseButton");null!=d?(l=!1,this.hiddenCloseButtons&&1===this.hiddenCloseButtons[s]&&(e(n,!1),l=!0),l||("true"===d||!0===d?(i+=this.closeButtonSize,e(n,!0)):"false"!==d&&!1!==d||e(n,!1))):this.showCloseButtons&&(this.canCloseAllTabs||1<this._tabsWithVisibleCloseButtons())&&(l=!1,this.hiddenCloseButtons&&1===this.hiddenCloseButtons[s]&&(e(n,!1),l=!0),l||(i+=this.closeButtonSize,e(n,!0))),r.style.height=this._toPx(this._height(r))}return this._measureItem&&f(this._measureItem).remove(),{height:t,width:10+i}},_reorderHeaderElements:function(){if(this.selectionTracker&&(this._moveSelectionTrackerContainer.style.position="absolute",this._moveSelectionTrackerContainer.style.height="100%",this._moveSelectionTrackerContainer.style.top="0px",this._moveSelectionTrackerContainer.style.left="0px",this._moveSelectionTrackerContainer.style.width="100%"),this._headerWrapper.style.position="relative",this._headerWrapper.style.left="0px",this._headerWrapper.style.top="0px",this.scrollable){this._rightArrow.style.width=this._toPx(this.arrowButtonSize),this._rightArrow.style.position="absolute",this._rightArrow.style.top="0px",this._leftArrow.style.width=this._toPx(this.arrowButtonSize),this._leftArrow.style.position="absolute",this._leftArrow.style.top="0px";var e=this.theme&&-1!==this.theme.indexOf("ui-")?3:0;0<e&&(this._rightArrow.className+=" "+this.toThemeProperty("jqx-rc-r"),this._leftArrow.className+=" "+this.toThemeProperty("jqx-rc-l"));var t=this.scrollPosition;switch(this.rtl&&("left"===t&&(t="right"),"right"===t&&(t="left")),t){case"both":this._rightArrow.style.right="0px",this._leftArrow.style.left="0px";break;case"left":this._rightArrow.style.left=this._toPx(this.arrowButtonSize),this._leftArrow.style.left="0px";break;case"right":this._rightArrow.style.right=this._toPx(-e),this._leftArrow.style.right=this._toPx(parseInt(this.arrowButtonSize,10)-e)}}},_positionArrows:function(e){e>=this._headerWrapper.offsetWidth&&this.scrollable?(this._needScroll=!0,0===this._unorderedListHelper.position().left&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()+"px"),this._leftArrow.style.display="block",this._rightArrow.style.display="block"):(this._needScroll=!1,this._leftArrow.style.display="none",this._rightArrow.style.display="none",this._unorderedList.style.left="0px")},_performHeaderLayout:function(){this._removeSelectStyle();var e=this._calculateTitlesSize(),t=e.height,i=e.width;this._headerWrapper.style.height=this._toPx(t),this._unorderedList.style.height=this._toPx(t),null!==this.headerHeight&&"auto"!==this.headerHeight&&(this._headerWrapper.style.height=this._toPx(this.headerHeight),this._unorderedList.style.height=this._toPx(this.headerHeight));var s=this._width(this.element);this._unorderedList.style.width=s<i?this._toPx(i):this._toPx(s),f.jqx.browser.msie&&f.jqx.browser.version<8&&(this._unorderedList.style.position="relative",this._unorderedList.style.overflow="hidden"),this._reorderHeaderElements(),i+=parseInt(this._unorderedListHelper.css("margin-left"),10),this._totalItemsWidth=i,this._positionArrows(i),this._unorderedList.style.position="relative",this._unorderedList.style.top="0px",this._verticalAlignElements(),this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this.selectedItem)},_verticalAlignElements:function(){for(var e=this.length();e;){e--;var t=this._titleList[e],i=f(t),s=i.children()[0],r=this._closeButtonList[e],n=parseInt(i.css("padding-top"),10);if(n||(n=0),this.autoHeight){var o=parseInt(i.css("padding-top"),10),a=parseInt(i.css("padding-bottom"),10),l=i.css("border-top-width"),d=i.css("border-bottom-width");l=-1===l.indexOf("px")?1:parseInt(l,10),d=-1===d.indexOf("px")?1:parseInt(d,10),t.style.height=this._toPx(this._outerHeight(this._unorderedList,!0)-(o+a+l+d))}else if("top"===this.position){var h=this._height(this._unorderedList)-parseInt(this._outerHeight(t,!0),10);parseInt(i.css("margin-top"),10)!==h&&0!==h&&(t.style.marginTop=this._toPx(h))}else t.style.height=this._toPx(this._height(t));s.style.height="100%";var c=this._height(t);if(r){var u=c/2-this._height(r)/2;r.style.marginTop=this._toPx(1+u)}var p=c/2-this._height(s)/2;s.style.marginTop=this._toPx(p)}if(this.scrollable){var m=(parseInt(this._headerWrapper.offsetHeight,10)-this.arrowButtonSize)/2;f(this._rightArrow).children()[0].style.marginTop=this._toPx(m),this._rightArrow.style.height="100%",f(this._leftArrow).children()[0].style.marginTop=this._toPx(m),this._leftArrow.style.height="100%"}},_getImageUrl:function(e){var t=e.css("background-image");return t=(t=(t=(t=t.replace('url("',"")).replace('")',"")).replace("url(","")).replace(")","")},_fitToSize:function(){var e,t=!1,i=!1,s=this;null!==s.width&&-1!==s.width.toString().indexOf("%")&&(t=!0),null!==s.height&&-1!==s.height.toString().indexOf("%")&&(i=!0),t?(this.element.style.width=this.width,this._contentWrapper.style.width="100%"):(s.element.style.width=s._toPx(s.width),"auto"!==this.width&&(this._contentWrapper.style.width="100%")),i?(this.element.style.height=this.height,this._contentWrapper.style.width="100%",this._contentWrapper.style.height="auto",e=this.element.offsetHeight-this._headerWrapper.offsetHeight,this._contentWrapper.style.height=e+"px"):"auto"!==this.height?(s.element.style.height=s._toPx(s.height),e=this._height(s.element)-this._headerWrapper.offsetHeight,this._contentWrapper.style.height=s._toPx(e)):this._contentWrapper.style.height="auto"},_maxHeightTab:function(){for(var e=this.length(),t=-1;e;)e--,-1<this._outerHeight(this._titleList[e],!0)&&(t=e);return t},_addSelectionTracker:function(){this._moveSelectionTrackerContainer&&f(this._moveSelectionTrackerContainer).remove(),this._moveSelectionTrackerContainer=document.createElement("div"),this._moveSelectionTrackerContainer.className=this.toThemeProperty("jqx-tabs-selection-tracker-container"),this._selectionTracker=document.createElement("div"),this._selectionTracker.className=this.toThemeProperty("jqx-tabs-selection-tracker-"+this.position),this._selectionTracker.style.color="inherit",this._selectionTracker.style.position="absolute",this._selectionTracker.style.zIndex=10,this._selectionTracker.style.left="0px",this._selectionTracker.style.top="0px",this._selectionTracker.style.display="inline-block",this._moveSelectionTrackerContainer.appendChild(this._selectionTracker),this._headerWrapper.appendChild(this._moveSelectionTrackerContainer),this._selectionTrackerHelper=f(this._selectionTracker),this._selectionTrackerHelper.initAnimate&&this._selectionTrackerHelper.initAnimate()},_addContentWrapper:function(){var e=null===this._contentWrapper;e&&(this._contentWrapper=document.createElement("div"),this._contentWrapper.className=this.toThemeProperty("jqx-tabs-content jqx-widget-content"),this._contentWrapper.style.float="none");for(var t=this.length();t;)t--,this._contentList[t].className+=" "+this.toThemeProperty("jqx-tabs-content-element");if(e){"top"===this.position?this.element.appendChild(this._contentWrapper):this.element.insertBefore(this._contentWrapper,this.element.firstChild);for(var i=0;i<this._contentList.length;i++)this._contentWrapper.appendChild(this._contentList[i])}this.roundedCorners&&("top"===this.position?this._contentWrapper.className+=" "+this.toThemeProperty("jqx-rc-b"):this._contentWrapper.className+=" "+this.toThemeProperty("jqx-rc-t"),this.element.className+=" "+this.toThemeProperty("jqx-rc-all"))},_addHeaderWrappers:function(){var e=this.length();void 0!==this._headerWrapper&&f(this._headerWrapper).remove(),this._headerWrapper=document.createElement("div"),this._headerWrapper.style.outline="none","top"===this.position?this.element.insertBefore(this._headerWrapper,this.element.firstChild):this.element.appendChild(this._headerWrapper),this._headerWrapper.appendChild(this._unorderedList);var t="jqx-tabs-headerWrapper jqx-tabs-header jqx-widget-header";for("bottom"===this.position&&(t+=" jqx-tabs-header-bottom"),this.roundedCorners&&("top"===this.position?t+=" jqx-rc-t":t+=" jqx-rc-b"),this._headerWrapper.className=this.toThemeProperty(t);e;){e--;var i=this._titleList[e];if(null===i.querySelector(".jqx-tabs-titleWrapper")){var s=document.createElement("div");s.className="jqx-tabs-titleWrapper",s.style.outline="none",s.style.position="relative",s.style.zIndex=15;var r=f(i).children();s.appendChild(r[0]),s.appendChild(r[1]),i.appendChild(s)}}},_render:function(){this._addCloseButtons(),this._addHeaderWrappers(),this._addContentWrapper(),this.selectionTracker&&this._addSelectionTracker(),this._addArrows()},_addCloseButton:function(e,t){var i=document.createElement("div"),s=this._titleList[e];i.className="jqx-tabs-titleContentWrapper jqx-disableselect";var r="left";this.rtl&&(r="right"),0<f(s).find(".jqx-tabs-close-button").length&&f(s).find(".jqx-tabs-close-button").remove(),i.style.float=r,i.innerHTML=s.innerHTML,s.innerHTML="";var n=document.createElement("div");n.className=this.toThemeProperty("jqx-tabs-close-button"),n.style.height=this._toPx(this.closeButtonSize),n.style.width=this._toPx(this.closeButtonSize),n.style.float=r,n.style.fontSize="1px",s.appendChild(i),s.appendChild(n),!0===t?this._closeButtonList[e]=n:this._closeButtonList.splice(e,0,n),this.showCloseButtons?this.hiddenCloseButtons&&1===this.hiddenCloseButtons[e]&&(n.style.display="none"):n.style.display="none"},_addCloseButtons:function(){for(var e=this.length();e;)e--,this._addCloseButton(e,!0)},_prepareTabs:function(){var e=this.length(),t=this.selectionTracker;for(this.selectionTracker=!1;e;)e--,this._selectedItem!==e&&this._unselect(e,null,!1);this._select(this._selectedItem,0,null,!1),this.selectionTracker=t,this.initTabContent&&(this._initTabContentList[this.selectedItem]||this._hiddenParent()||(this.initTabContent(this.selectedItem),this._initTabContentList[this.selectedItem]=!0))},_isValidIndex:function(e){return 0<=e&&e<this.length()},_removeSelectStyle:function(){for(var e=this.length();e;){e--;var t=this._titleList[e];if(this.showCloseButtons){var i=this._closeButtonList[e];this._removeClass(i,this.toThemeProperty("jqx-tabs-close-button-selected"))}var s="jqx-fill-state-pressed";"top"===this.position?s+=" jqx-tabs-title-selected-top":s+=" jqx-tabs-title-selected-bottom",this._removeClass(t,this.toThemeProperty(s))}},_addSelectStyle:function(e,t){if(this._removeSelectStyle(),!this.selectionTracker||void 0!==t&&t){var i=this._titleList[e];if(0<=e&&void 0!==i){var s=null;this.showCloseButtons&&(s=this._closeButtonList[e],this.hiddenCloseButtons&&1===this.hiddenCloseButtons[e]&&(s=null));var r="jqx-fill-state-hover",n=" jqx-fill-state-pressed";"top"===this.position?(r+=" jqx-tabs-title-hover-top",n+=" jqx-tabs-title-selected-top"):(r+=" jqx-tabs-title-hover-bottom",n+=" jqx-tabs-title-selected-bottom"),this._removeClass(i,this.toThemeProperty(r)),i.className+=this.toThemeProperty(n),null!==s&&(s.className+=" "+this.toThemeProperty("jqx-tabs-close-button-selected"))}}},_addItemTo:function(e,t,i){if(t<e.length){for(var s,r,n=t;n+1<e.length;n++)void 0===s?(s=e[n+1],e[n+1]=e[n]):(r=e[n+1],e[n+1]=s,s=r);void 0===s&&(s=e[t]),e[t]=i,e.push(s)}else e.push(i)},_select:function(e,t,i,s,r){if(!this._tabCaptured){this.host.attr("hideFocus","true");var n=this;void 0===r?this._addSelectStyle(e):this._addSelectStyle(e,r);var o=f(n._titleList[e]),a=n._titleList[e].getAttribute("id"),l=f(n._contentList[e]);if(this.isCollapsed&&this.collapsible)return l[0].style.display="none",void this._selectCallback(e,i,s);switch(this.animationType){case"none":if(n.selectionTracker)setTimeout(function(){l[0].style.display="block",f.jqx.aria(o,"aria-selected",!0),f.jqx.aria(l,"aria-hidden",!1),f.jqx.aria(n,"aria-activedescendant",a)},this.selectionTrackerAnimationDuration);else{for(var d=0;d<this._contentList.length;d++)e!==d&&"block"===f(n._contentList[d]).css("display")&&(n._contentList[d].style.display="none",f.jqx.aria(f(n._titleList[d]),"aria-selected",!1),f.jqx.aria(f(n._contentList[d]),"aria-hidden",!0));l[0].style.display="block",f.jqx.aria(o,"aria-selected",!0),f.jqx.aria(l,"aria-hidden",!1),f.jqx.aria(this,"aria-activedescendant",a)}this._selectCallback(e,i,s);break;case"fade":this._lockAnimation("contentListSelect"),n._selectCallback(e,i,s),l.initAnimate&&void 0===l.fadeIn&&l.initAnimate(),l.fadeIn({duration:1e3,complete:function(){n._unlockAnimation("contentListSelect"),f.jqx.aria(o,"aria-selected",!0),f.jqx.aria(l,"aria-hidden",!1),f.jqx.aria(n,"aria-activedescendant",a)}})}}},_selectCallback:function(e,t,i){this._selectedItem=e,this.selectedItem=this._selectedItem,t&&t(),i&&this._raiseEvent(1,{item:e})},_unselect:function(e,t,i){if(0<=e&&!this._tabCaptured){var s=this._contentList[e],r=f(s),n=this._titleList[e],o=f(n);r.initAnimate&&void 0===r.animate&&r.initAnimate(),this._stop(r),"fade"===this.animationType?(s.style.display="none",f.jqx.aria(o,"aria-selected",!1),f.jqx.aria(r,"aria-hidden",!0)):this.selectionTracker?setTimeout(function(){s.style.display="none",f.jqx.aria(o,"aria-selected",!1),f.jqx.aria(r,"aria-hidden",!0)},this.selectionTrackerAnimationDuration):(s.style.display="none",f.jqx.aria(o,"aria-selected",!1),f.jqx.aria(r,"aria-hidden",!0)),this._unselectCallback(e,t,i),this.selectionTracker||this._removeClass(n,this.toThemeProperty("jqx-tabs-title-selected jqx-fill-state-pressed"))}},_unselectCallback:function(e,t,i){i&&this._raiseEvent(8,{item:e}),t&&t()},disable:function(){for(var e=this.length();e;)e--,this.disableAt(e)},enable:function(){for(var e=this.length();e;)e--,this.enableAt(e)},getEnabledTabsCount:function(){var e=0;return f.each(this._titleList,function(){this.disabled||e++}),e},getDisabledTabsCount:function(){var e=0;return f.each(this._titleList,function(){this.disabled&&e++}),e},removeAt:function(e){if(this._isValidIndex(e)&&(this.canCloseAllTabs||1<this.length())){this._removeHoverStates();var t,i=this,s=i._outerWidth(this._titleList[e],!0),r=this.getTitleAt(e);if(this._unorderedList.style.width=i._toPx(i._width(this._unorderedList)-s),f(this._titleList[e]).remove(),f(this._contentList[e]).remove(),this._titleList.splice(e,1),this._contentList.splice(e,1),i._closeButtonList.splice(e,1),this._addStyles(),this._performHeaderLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._raiseEvent(3,{item:e,title:r}),this._isAnimated={},0<this.selectedItem?(this._selectedItem=-1,this.selectedItem>=e?(t=this._getPreviousIndex(this.selectedItem),this.select(t)):this.select(i.selectedItem)):(this._selectedItem=-1,t=this._getNextIndex(this.selectedItem),this.select(t)),parseInt(this._unorderedListHelper.css("left"),10)>this._getArrowsDisplacement()&&(this._unorderedList.style.left=i._toPx(this._getArrowsDisplacement())),i._width(this._unorderedList)<=i._width(this._headerWrapper)){var n=this.enableScrollAnimation?this.scrollAnimationDuration:0;this._lockAnimation("unorderedList"),this._unorderedListHelper.animate({left:0},n,function(){i._unlockAnimation("unorderedList")})}}},removeFirst:function(){this.removeAt(0)},removeLast:function(){this.removeAt(this.length()-1)},disableAt:function(e){var t=this._titleList[e];if(!t.disabled||void 0===t.disabled){if(this.selectedItem===e){var i=this.next();i||(i=this.previous())}t.disabled=!0,this.removeHandler(t,this.toggleMode),this.enabledHover&&f(t).off("mouseenter").off("mouseleave"),this._removeEventListenerAt(e),t.className+=" "+this.toThemeProperty("jqx-tabs-title-disable jqx-fill-state-disabled"),this._raiseEvent(5,{item:e})}},enableAt:function(e){var t=this._titleList[e];t.disabled&&(t.disabled=!1,this._addEventListenerAt(e),this._removeClass(t,this.toThemeProperty("jqx-tabs-title-disable jqx-fill-state-disabled")),this._raiseEvent(4,{item:e}))},addAt:function(e,t,i){if(0<=e&&e<=this.length()){this._removeHoverStates();var s=document.createElement("li");s.innerHTML=t,s.className=this.toThemeProperty("jqx-tabs-title jqx-item");var r=document.createElement("div");r.innerHTML=i,r.className=this.toThemeProperty("jqx-tabs-content-element"),"bottom"===this.position&&(s.className+=" "+this.toThemeProperty("jqx-tabs-title-bottom"));0===this._titleList.length?this._unorderedList.appendChild(s):e<this.length()&&0<=e?this._unorderedList.insertBefore(s,this._titleList[e]):this._unorderedList.appendChild(s),this._contentWrapper.appendChild(r),this._addItemTo(this._titleList,e,s),this._addItemTo(this._contentList,e,r),this._addCloseButton(e),this._selectedItem>e&&this._selectedItem++,this._switchTabs(e,this._selectedItem),this._selectedItem=e,this._uiRefresh(!1),this._raiseEvent(2,{item:e}),this._moveSelectionTrack(this._selectedItem,0)}},addFirst:function(e,t){this.addAt(0,e,t)},addLast:function(e,t){this.addAt(this.length(),e,t)},val:function(e){return 0===arguments.length||"object"==typeof e||this.select(e),this._selectedItem},select:function(e){"object"==typeof e&&(e=this._indexOf(e));var t=!(0<=e&&e<this._titleList.length)||this._titleList[e].getAttribute("canselect");null!=t&&"true"!==t&&!0!==t||e!==this._selectedItem&&this._isValidIndex(e)&&(this._activeAnimation()||this._titleList[e].disabled||this._switchTabs(e,this._selectedItem)&&this.ensureVisible(e))},previous:function(e){var t=this._selectedItem;for(void 0===e||isNaN(e)||(t=e);0<t&&t<this._titleList.length;)if(t--,!this._titleList[t].disabled)return this.select(t),!0;return!1},_getPreviousIndex:function(e){if(void 0===e||isNaN(e))return 0;for(var t=e;0<e&&e<=this._titleList.length;)if(e--,!this._titleList[e].disabled)return e;return t},_getNextIndex:function(e){if(void 0===e||isNaN(e))return 0;for(var t=e;0<=e&&e<this._titleList.length;){if(!this._titleList[e].disabled)return e;e++}return t},next:function(e){var t=this._selectedItem;for(void 0===e||isNaN(e)||(t=e);0<=t&&t<this._titleList.length-1;)if(t++,!this._titleList[t].disabled)return this.select(t),!0;return!1},first:function(){this._titleList[0].disabled?this.next(0):this.select(0)},last:function(){var e=this._titleList.length-1;this._titleList[e].disabled?this.previous(e):this.select(e)},length:function(){return this._titleList.length},lockAt:function(e){!this._isValidIndex(e)||this._titleList[e].locked&&void 0!==this._titleList[e].locked||(this._titleList[e].locked=!0,this._raiseEvent(11,{item:e}))},unlockAt:function(e){this._isValidIndex(e)&&this._titleList[e].locked&&(this._titleList[e].locked=!1,this._raiseEvent(12,{item:e}))},lockAll:function(){for(var e=this.length();e;)e--,this.lockAt(e)},unlockAll:function(){for(var e=this.length();e;)e--,this.unlockAt(e)},showCloseButtonAt:function(e){this._isValidIndex(e)&&(this.showCloseButtons||(this.showCloseButtons=!0,this.updatetabsheader()),this._closeButtonList[e].style.display="block",this.hiddenCloseButtons||(this.hiddenCloseButtons=[]),this.hiddenCloseButtons[e]=0)},hideCloseButtonAt:function(e){this._isValidIndex(e)&&(this._closeButtonList[e].style.display="none",this.hiddenCloseButtons||(this.hiddenCloseButtons=[]),this.hiddenCloseButtons[e]=1)},hideAllCloseButtons:function(){for(var e=this.length();e;)e--,this.hideCloseButtonAt(e)},showAllCloseButtons:function(){for(var e=this.length();e;)e--,this.showCloseButtonAt(e)},getTitleAt:function(e){return this._titleList[e]?f(this._titleList[e]).text():null},getContentAt:function(e){return this._contentList[e]?this._contentList[e]:null},setTitleAt:function(e,t){this._titleList[e]&&(f(this._titleList[e]).text(t),this.showCloseButtons&&(this._addCloseButton(e),this._removeEventHandlers(),this._addEventHandlers()),this.render(),this.refresh())},setContentAt:function(e,t){this._contentList[e]&&f(this._contentList[e]).html(t)},ensureVisible:function(e){var t=this;if(void 0!==e&&-1!==e&&null!==e||(e=this.selectedItem),!this._isValidIndex(e))return!1;var i,s,r=this._titleList[e],n=parseInt(f(r).position().left,10)+parseInt(this._unorderedListHelper.css("margin-left"),10),o=parseInt(this._unorderedListHelper.css("left"),10),a=this._outerWidth(this._headerWrapper,!0),l=this._outerWidth(r,!0),d=o-this._getArrowsDisplacement(),h=a-this._getArrowsDisplacement()-d;if(n<-d)i=-n+this._getArrowsDisplacement(),s=this._getArrowsDisplacement();else{if(!(n+l>h-this._getArrowsDisplacement()))return this._moveSelectionTrack(e,this.selectionTrackerAnimationDuration),!0;i=-n+a-l-(this.scrollable?2*this.arrowButtonSize-this._getArrowsDisplacement():0),s=a-l-this._getArrowsDisplacement()}return this._lockAnimation("unorderedList"),this._unorderedListHelper.animate({left:i},this.scrollAnimationDuration,function(){return t._unlockAnimation("unorderedList"),t._moveSelectionTrack(t._selectedItem,0),!0}),this._moveSelectionTrack(e,this.selectionTrackerAnimationDuration,s),!0},isVisibleAt:function(e){var t=this;if(void 0!==e&&-1!==e&&null!==e||(e=t.selectedItem),!t._isValidIndex(e))return!1;var i=t._titleList[e],s=parseInt(f(i).position().left,10)+parseInt(t._unorderedListHelper.css("margin-left"),10),r=parseInt(t._unorderedListHelper.css("left"),10),n=t._outerWidth(t._headerWrapper,!0),o=t._outerWidth(i,!0),a=r-t._getArrowsDisplacement(),l=n-t._getArrowsDisplacement()-a;return!(s<-a)&&!(l<s+o)},isDisabled:function(e){return this._titleList[e].disabled},_lockAnimation:function(e){this._isAnimated&&(this._isAnimated[e]=!0)},_unlockAnimation:function(e){this._isAnimated&&(this._isAnimated[e]=!1)},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2===Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(e,t,i,s){if(!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2===Object.keys(e.batchUpdate).length)){switch(this._validateProperties(),t){case"touchMode":s&&(e.enabledHover=!1,e.keyboardNavigation=!1);break;case"width":case"height":return void e._setSize();case"disabled":return void(s?this.disable():this.enable());case"showCloseButtons":return s?this.showAllCloseButtons():this.hideAllCloseButtons(),void this._performHeaderLayout();case"selectedItem":return void(this._isValidIndex(s)&&this.select(s));case"scrollStep":case"contentTransitionDuration":case"scrollAnimationDuration":case"enableScrollAnimation":return;case"selectionTracker":return void(s?(this._refresh(),this.select(this._selectedItem)):this._selectionTracker&&this._selectionTrackerHelper.remove());case"scrollable":return void(s?(this._refresh(),this.select(this._selectedItem)):(f(this._leftArrow).remove(),f(this._rightArrow).remove(),this._performHeaderLayout()));case"autoHeight":return void this._performHeaderLayout();case"theme":return void f.jqx.utilities.setTheme(i,s,this.host)}this._unorderedList.style.left="0px",this._refresh(),this.select(this._selectedItem),this._addSelectStyle(this._selectedItem,!0)}},_toPx:function(e){return"number"==typeof e?e+"px":e},_removeClass:function(e,t){f(e).removeClass(t)},_width:function(e){var t=f(e),i=t.css("border-left-width"),s=t.css("border-right-width"),r=parseInt(t.css("padding-left"),10),n=parseInt(t.css("padding-right"),10);return i=-1===i.indexOf("px")?1:parseInt(i,10),s=-1===s.indexOf("px")?1:parseInt(s,10),e.offsetWidth-(i+s+r+n)},_outerWidth:function(e,t){var i=e.offsetWidth;if(t){var s=f(e);i+=parseInt(s.css("margin-left"),10)+parseInt(s.css("margin-right"),10)}return i},_height:function(e){var t=f(e),i=t.css("border-top-width"),s=t.css("border-bottom-width"),r=parseInt(t.css("padding-top"),10),n=parseInt(t.css("padding-bottom"),10);return i=-1===i.indexOf("px")?1:parseInt(i,10),s=-1===s.indexOf("px")?1:parseInt(s,10),e.offsetHeight-(i+s+r+n)},_outerHeight:function(e,t){var i=e.offsetHeight;if(t){var s=f(e);i+=parseInt(s.css("margin-top"),10)+parseInt(s.css("margin-bottom"),10)}return i},_stop:function(e){e.stop?e.stop():e.animate("stop",!0)}})}(jqxBaseFramework),function(v){v.jqx.jqxWidget("jqxTagCloud","",{}),v.extend(v.jqx._jqxTagCloud.prototype,{defineInstance:function(){var e={width:null,height:null,source:null,disabled:!1,rtl:!1,valueMember:"value",displayMember:"label",urlMember:"url",urlBase:"",autoBind:!0,takeTopWeightedItems:!1,displayLimit:null,minValueToDisplay:0,maxValueToDisplay:0,minFontSize:10,maxFontSize:24,fontSizeUnit:"px",displayValue:!1,sortBy:"none",alterTextCase:"none",sortOrder:"ascending",textColor:null,minColor:null,maxColor:null,tagRenderer:null};return this===v.jqx._jqxTagCloud.prototype||v.extend(!0,this,e),e},createInstance:function(){this.render(),this.dataBind(this.source,!0)},dataBind:function(e,t){var i,s=this;s.records=[],!!e._source?e=(i=e)._source:(e.datafields=[{name:s.displayMember},{name:s.valueMember},{name:s.urlMember}],i=new v.jqx.dataAdapter(e,{autoBind:!0}));var r=function(e){e._setSourceData(i),e._raiseEvent(1,{records:e.records}),e._renderTags()};switch(void 0!==e.type&&(i._options.type=e.type),void 0!==e.formatdata&&(i._options.formatData=e.formatdata),void 0!==e.contenttype&&(i._options.contentType=e.contenttype),void 0!==e.async&&(i._options.async=e.async),e.datatype){case"local":case"array":default:(null!=e.localdata||v.isArray(e))&&(i.unbindBindingUpdate(s.element.id),(s.autoBind||!s.autoBind&&!t)&&i.dataBind(),r(s),i.bindBindingUpdate(s.element.id,function(e){r(s)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=e.localdata)return i.unbindBindingUpdate(s.element.id),(s.autoBind||!s.autoBind&&!t)&&i.dataBind(),r(s),void i.bindBindingUpdate(s.element.id,function(){r(s)});var n={};i._options.data?v.extend(i._options.data,n):(e.data&&v.extend(n,e.data),i._options.data=n);i.unbindDownloadComplete(s.element.id),i.bindDownloadComplete(s.element.id,function(){r(s)}),(s.autoBind||!s.autoBind&&!t)&&i.dataBind()}s._raiseEvent(2,{records:s.records})},destroy:function(){this.removeHandler(this._el,"keydown"),this.removeHandler(this._el,"click"),this.host.empty(),this.host.remove()},findTagIndex:function(e){for(var t=0;t<this.records.length;t++)if(this.records[t][this.displayMember]===e)return this.records[t].index;return-1},getHiddenTagsList:function(){return this.hiddenList.slice()},getRenderedTags:function(){return this.renderedData.slice()},getTagsList:function(){return this.records.slice()},insertAt:function(i,s){var r=this;if(s.index=i,void 0===s[this.displayMember])throw new Error("jqxTagCloud: Insert tag requires a valid displayMember field to be supplied in the parameter");var e=void 0!==s[r.valueMember]?parseFloat(s[r.valueMember]):0;if(s[r.valueMember]=isNaN(e)?0:e,r.source.insertTag&&"function"==typeof r.source.insertTag)r.source.insertTag(i,s,function(e){if(e){r.records.splice(i,0,s);for(var t=i+1;t<r.records.length;t++)r.records[t].index+=1;for(t=0;t<r.hiddenList.length;t++)r.hiddenList[t]>=i&&r.hiddenList[t]++;r._renderTags()}});else{r.records.splice(i,0,s);for(var t=i+1;t<r.records.length;t++)r.records[t].index+=1;for(t=0;t<r.hiddenList.length;t++)r.hiddenList[t]>=i&&r.hiddenList[t]++;r._renderTags()}},updateAt:function(i,t){var s=this;if(void 0===t[this.displayMember])throw new Error("jqxTagCloud: Update tag requires a valid displayMember field to be supplied in the parameter");t.index=i,t.uid=s.records[i].uid,s.source.updateTag&&"function"==typeof s.source.updateTag?s.source.updateTag(i,t,function(e){e&&(v.each(t,function(e,t){s.records[i][e]=t}),s._renderTags())}):(v.each(t,function(e,t){s.records[i][e]=t}),s._renderTags())},removeAt:function(i){var s=this;if(s.source.deleteTag&&"function"==typeof s.source.deleteTag)s.source.deleteTag(i,function(e){if(e){s.records.splice(i,1);for(var t=i;t<s.records.length;t++)s.records[t].index-=1;for(t=0;t<s.hiddenList.length;t++)s.hiddenList[t]>i?s.hiddenList[t]--:s.hiddenList[t]===i&&s.hiddentList.splice(i,1)}});else{s.records.splice(i,1);for(var e=i;e<s.records.length;e++)s.records[e].index-=1;for(e=0;e<s.hiddenList.length;e++)s.hiddenList[e]>i?s.hiddenList[e]--:s.hiddenList[e]===i&&s.hiddentList.splice(i,1)}s._renderTags()},hideItem:function(e){if("number"==typeof e&&-1===this.hiddenList.indexOf(e)){this.hiddenList.push(e);for(var t=-1,i=0;i<this.renderedData.length;i++)this.renderedData[i].index===e&&(t=i);-1!==t&&(v(this._el).find("li")[t].style.display="none")}},showItem:function(e){if(-1!==this.hiddenList.indexOf(e)){for(var t=-1,i=0;i<this.renderedData.length;i++)this.renderedData[i].index===e&&(t=i);-1!==t&&(v(this._el).find("li")[t].style.display=""),this.hiddenList.splice(this.hiddenList.indexOf(e),1)}},render:function(){var i=this;i._updateSize(),i.renderedData=[],i._el=v("<ul>"),i.host.addClass(i.toThemeProperty("jqx-widget jqx-tag-cloud")),i._setRtl(),i.host.append(i._el),i.focusedItem=null,i.minColor=i._parseColor(i.minColor),i.maxColor=i._parseColor(i.maxColor),i.displayLimit=parseInt(i.displayLimit),i.disabled&&i.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")),i.addHandler(i._el,"click",function(e){v(document.activeElement).parents("#"+i._el[0].parentElement.id).length||(null!=i.focusedItem?v(i.focusedItem).focus():(v(i._el).find("a")[0].focus(),i.focusedItem=document.activeElement)),i.disabled&&e.preventDefault(),"a"===e.target.tagName.toLowerCase()&&(e.target.focus(),i.focusedItem=document.activeElement),"li"===e.target.tagName.toLowerCase()&&(v(e.target).find("a").focus(),i.focusedItem=document.activeElement);var t=v(e.target).closest("li").index();-1!==t&&i._raiseEvent(0,{label:i.renderedData[t][i.displayMember],url:i.renderedData[t][i.urlMember],value:i.renderedData[t][i.valueMember],visibleIndex:t,index:i.renderedData[t].index,target:v(e.target).closest("li")[0],originalEvent:e})}),i._addKeyboardSupport()},resize:function(e,t){this.width=e,this.height=t,this._updateSize()},propertyChangedHandler:function(e,t,i,s){var r=this;"source"===t&&r.dataBind(e.source),"displayLimit"===t&&(r[t]=parseInt(s)),"minColor"!==t&&"maxColor"!==t||(r[t]=r._parseColor(s)),"rtl"!==t?"width"!==t&&"height"!==t?"textColor"!==t||r.minColor&&r.maxColor?r._renderTags():r._updateColor():r._updateSize():r._setRtl()},_alterCase:function(e){var t=this;if("none"!==t.alterTextCase)switch(t.alterTextCase){case"allLower":for(var i=0;i<e.length;i++)e[i][t.displayMember]=e[i][t.displayMember].toString().toLowerCase();break;case"allUpper":for(i=0;i<e.length;i++)e[i][t.displayMember]=e[i][t.displayMember].toString().toUpperCase();break;case"firstUpper":for(i=0;i<e.length;i++)e[i][t.displayMember]=e[i][t.displayMember].toString().toLowerCase(),e[i][t.displayMember]=e[i][t.displayMember].substr(0,1).toUpperCase()+e[i][t.displayMember].substr(1);break;case"titleCase":for(i=0;i<e.length;i++)e[i][t.displayMember]=e[i][t.displayMember].toString().replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()});break;default:throw new Error("jqxTagCloud: Invalid alterTextCase value. Possible values: 'none', 'allLower', 'allUpper', 'firstUpper', 'titleCase'")}return e},_addKeyboardSupport:function(){var t=this;t.addHandler(t._el,"keydown",function(e){39==e.keyCode&&(v("a:focus").closest("li").next().find("a").focus(),t.focusedItem=document.activeElement),37==e.keyCode&&(v("a:focus").closest("li").prev().find("a").focus(),t.focusedItem=document.activeElement)})},_renderTags:function(){var i=this,e=i.records.slice();if(v.each(i.records,function(e,t){if(void 0===t[i.displayMember])throw new Error("jqxTagCloud: 'label' property must be specified for every element.")}),e=i._filter(e),e=i._sort(e),e=i._alterCase(e),i._el.empty(),0!==e.length){for(var t=i._getMaxValue(e),s=i._getMinValue(e),r=t-s,n=0;n<e.length;n++){var o=i._prepareTag(e[n],s,r);i._el.append(o),-1!=i.hiddenList.indexOf(e[n].index)&&(o[0].style.display="none")}i.renderedData=e,i.focusedItem=null}},_prepareTag:function(e,t,i){var s=this;i||(i=1);var r=v("<li>"),n="";n=null!==s.tagRenderer&&"function"==typeof s.tagRenderer?s.tagRenderer.apply(s,arguments):e[s.displayMember]+(s.displayValue?"("+e[s.valueMember]+")":""),n=v('<a rel="tag">').append(n);var o="javascript:void(0)";void 0!==e[s.urlMember]&&(o=(null!=s.urlBase?s.urlBase:"")+e[s.urlMember]),n.attr("href",o),r.append(n),r.addClass(s.toThemeProperty("jqx-tag-cloud-item"));var a=+s.minFontSize+(s.maxFontSize-s.minFontSize)*((e[s.valueMember]-t)/i);if(r[0].style.fontSize=a+s.fontSizeUnit,s.minColor&&s.maxColor){var l=s.minColor.split("(")[1].split(")")[0];l=l.split(",");var d=parseInt(l[0]),h=parseInt(l[1]),c=parseInt(l[2]),u=parseFloat(l[3]);l=(l=s.maxColor.split("(")[1].split(")")[0]).split(",");var p=parseInt(l[0]),m=parseInt(l[1]),f=parseInt(l[2]),g=parseFloat(l[3]);d+=Math.floor((e[s.valueMember]-t)/i*(p-d)),h+=Math.floor((e[s.valueMember]-t)/i*(m-h)),c+=Math.floor((e[s.valueMember]-t)/i*(f-c)),u+=(e[s.valueMember]-t)/i*(g-u),r[0].style.color="rgba("+d+","+h+","+c+","+u+")",r.find("a")[0].style.color="inherit"}else null!==s.textColor&&(r[0].style.color=s.textColor,r.find("a")[0].style.color="inherit");return r},_parseColor:function(e){var t,i;if("rgba"===(e=v("<span>").css("color",e).css("color")).substr(0,4))return e;if("rgb"===e.substr(0,3)){var s=e.split("(")[1].split(")")[0];return s=s.split(","),"rgba("+parseInt(s[0])+","+parseInt(s[1])+","+parseInt(s[2])+",1)"}return"#"===e.substr(0,1)&&7===e.length?"rgba("+parseInt(e.substr(1,2),16)+","+parseInt(e.substr(3,2),16)+","+parseInt(e.substr(5,2),16)+",1)":"#"===e.substr(0,1)&&4===e.length?"rgba("+parseInt(e.substr(1,1)+e.substr(1,1),16)+","+parseInt(e.substr(2,1)+e.substr(2,1),16)+","+parseInt(e.substr(3,1)+e.substr(3,1),16)+",1)":(e=void 0!==(i={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"})[(t=e).toLowerCase()]&&i[t.toLowerCase()])?"rgba("+parseInt(e.substr(1,2),16)+","+parseInt(e.substr(3,2),16)+","+parseInt(e.substr(5,2),16)+",1)":e},_events:["itemClick","bindingUpdateComplete","bindingComplete"],_raiseEvent:function(e,t){var i=this._events[e],s=v.Event(i);return s.args=t,this.host.trigger(s)},_filter:function(e){var i=this;if(0!=i.minValueToDisplay)for(var t=0;t<e.length;)e[t][i.valueMember]<i.minValueToDisplay?e.splice(t,1):t++;if(0!=i.maxValueToDisplay)for(t=0;t<e.length;)e[t][i.valueMember]>i.maxValueToDisplay?e.splice(t,1):t++;return null==i.displayLimit||isNaN(i.displayLimit)||(!0===i.takeTopWeightedItems?(e.sort(function(e,t){return e[i.valueMember]<t[i.valueMember]?1:e[i.valueMember]>t[i.valueMember]?-1:0}),(e=e.slice(0,i.displayLimit)).sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0})):e=e.slice(0,i.displayLimit)),e},_sort:function(e){var i=this;if("none"!==i.sortBy){if("label"===i.sortBy)e.sort(function(e,t){return e[i.displayMember]<t[i.displayMember]?-1:e[i.displayMember]>t[i.displayMember]?1:0});else{if("value"!==i.sortBy)throw new Error("jqxTagCloud: sortBy option needs to be either 'none' or 'label' or 'value'");e.sort(function(e,t){return e[i.valueMember]<t[i.valueMember]?-1:e[i.valueMember]>t[i.valueMember]?1:0})}if("ascending"===i.sortOrder)return e;if("descending"===i.sortOrder)return e.reverse();throw new Error("jqxTagCloud: sortOrder option needs to be either 'ascending' or 'descending'")}return e},_getMaxValue:function(e){for(var t=e[0][this.valueMember],i=0;i<e.length;i++)t<e[i][this.valueMember]&&(t=e[i][this.valueMember]);return t},_getMinValue:function(e){for(var t=e[0][this.valueMember],i=0;i<e.length;i++)t>e[i][this.valueMember]&&(t=e[i][this.valueMember]);return t},_setSourceData:function(e){var t=this;t.records=e.records;for(var i=0;i<t.records.length;i++){var s=void 0!==t.records[i][t.valueMember]?parseFloat(t.records[i][t.valueMember]):0;t.records[i][t.valueMember]=isNaN(s)?0:s,t.records[i].index=i}t.hiddenList=[]},_updateColor:function(){this.textColor&&v(this._el).find("li").css("color",this.textColor)},_updateSize:function(){this.width&&this.host.width(this.width),this.height&&this.host.height(this.height)},_setRtl:function(){this.rtl?this.host.addClass(this.toThemeProperty("jqx-rtl")):this.host.removeClass(this.toThemeProperty("jqx-rtl"))}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxTextArea","",{}),a.extend(a.jqx._jqxTextArea.prototype,{defineInstance:function(){var e={disabled:!1,filter:this._filter,sort:this._sort,highlight:this._highlight,dropDownWidth:null,renderer:this._renderer,opened:!1,$popup:document.createElement("ul"),source:[],roundedCorners:!0,searchMode:"default",placeHolder:"",width:null,height:null,rtl:!1,displayMember:"",valueMember:"",popupZIndex:1e3,items:8,minLength:1,maxLength:null,scrollBarSize:a.jqx.utilities.scrollBarSize,query:"",changeType:null,events:["change","select","open","close"]};return this===a.jqx._jqxTextArea.prototype||a.extend(!0,this,e),e},createInstance:function(){this._textareaWidthFix=0,a.jqx.browser.chrome?this._textareaWidthFix=6:a.jqx.browser.msie&&(this._textareaWidthFix=3),!1===document.body.contains(this.element)&&(this._notInDOM=!0),this._popupHelper=a(this.$popup),this.render(),this.isInitialized=!0},render:function(){var e=this;if(!0!==e.isInitialized){15!==a.jqx.utilities.scrollBarSize&&(e.scrollBarSize=a.jqx.utilities.scrollBarSize);var t=document.createElement("div");t.style.overflow="hidden",t.style.width="100%",t.style.height="100%",t.style.backgroundColor="transparent",t.style["-webkit-appearance"]="none",t.style.outline="none",t.style.align="left",t.style.border="0px",t.style.padding="0px",t.style.margin="0px",t.style.left="0px",t.style.top="0px",t.style.valign="top",t.style.position="relative";var i=document.createElement("div");if(i.style.align="left",i.style.valign="top",i.style.left="0px",i.style.top="0px",i.style.position="absolute",e._baseHost=e.host,a.jqx.utilities.resize(e._baseHost,function(){if(e._notInDOM)return e._notInDOM=!1,void("textarea"===e.element.nodeName.toLowerCase()&&(e.isInitialized=!1,e.render()));e._ttimer=setTimeout(function(){e.textarea.style.width="",e._arrange()},100)},!1,!0),"div"===e.element.tagName.toLowerCase()){e.element.appendChild(t);var s=document.createElement("textarea");s.className=e.toThemeProperty("jqx-text-area-element"),e.textarea=s,t.appendChild(s),t.appendChild(i),e.wrapper=e.element}else if("textarea"===e.element.tagName.toLowerCase()){if(e._notInDOM)return;e.textarea=e.element;var r=document.createElement("div");e.element.parentNode.insertBefore(r,e.element),r.appendChild(t),t.appendChild(e.element),t.appendChild(i);var n=e.host.data();e.host=a(r),e.host.data(n),r.style.cssText=e.element.style.cssText,e.element.style.cssText="",e.element.className=e.toThemeProperty("jqx-text-area-element"),(e.wrapper=r).setAttribute("id",e.element.id),e.element=r,e.textarea.setAttribute("id",e.element.id+"TextArea")}var o=e.host;if(e._addClasses(),!o.jqxButton)throw new Error("jqxTextArea: Missing reference to jqxbuttons.js.");if(!o.jqxScrollBar)throw new Error("jqxTextArea: Missing reference to jqxscrollbar.js.");null===e.width&&e.element.style&&null!==e.element.style.width&&(e.width=e.element.style.width),null===e.height&&e.element.style&&null!==e.element.style.height&&(e.height=e.element.style.height),e._setSize(),e.vScrollBar=a(i),e.vScrollBar.jqxScrollBar({vertical:!0,width:15,height:"100%",max:e.height,theme:e.theme}),""===a.trim(e.textarea.value)&&(e.textarea.value=""),e.textarea.setAttribute("placeholder",e.placeHolder),null!==e.maxLength&&e.textarea.setAttribute("maxlength",e.maxLength),a.jqx.browser.msie&&a.jqx.browser.version<10&&""===e.textarea.value&&(e.textarea.value=e.placeHolder),(e.source instanceof Array&&e.source.length||e.source._source||a.isFunction(e.source))&&(e._oldsource=e.source,e._updateSource(),e._addPopupClasses(),a.jqx.aria(e,"aria-haspopup",!0)),e._arrange(),e._addHandlers()}else e.refresh()},refresh:function(e){if(!0!==e){this._setSize(),this._arrange(),this._removeHandlers(),this._addHandlers(),!0===this.opened&&this.open()}},_arrange:function(){var e=this,t=e.textarea,i=t.scrollHeight-e._height(t),s=Math.max(0,i);e.vScrollBar.jqxScrollBar({max:s,value:t.scrollTop}),i<5?(t.style.width=this._toPx(e._width(e.element)),e.vScrollBar[0].style.visibility="hidden"):(t.style.width=this._toPx(e._width(e.element)-e.scrollBarSize-e._textareaWidthFix),e.vScrollBar[0].style.visibility="visible",e._arrangeScrollbars(e.scrollBarSize))},val:function(e){var t,i=this,s=i.textarea,r=s.value;if(a.jqx.browser.msie&&a.jqx.browser.version<10&&r===i.placeHolder&&(r=""),0===arguments.length||"object"==typeof e&&!0===a.isEmptyObject(e))return""!==i.displayMember&&""!==i.valueMember&&i.selectedItem?""===r?"":i.selectedItem:r;if(e&&e.label){if(i.selectedItem&&e.label===i.selectedItem.label&&e.value===i.selectedItem.value)return e.label;i.selectedItem={label:e.label,value:e.value},i.element.setAttribute("data-value",e.value),i.element.setAttribute("data-label",e.label),s.value=e.label,t=e.label}else{if(r===e)return e;s.value=e,i.element.setAttribute("data-value",e),i.element.setAttribute("data-label",e),t=e}return i._arrange(),i._raiseEvent("0"),t},focus:function(){this.textarea.focus()},selectAll:function(){var t=this.textarea;setTimeout(function(){if("selectionStart"in t)t.focus(),t.setSelectionRange(0,t.value.length);else{var e=t.createTextRange();e.collapse(!0),e.moveEnd("character",t.value.length),e.moveStart("character",0),e.select()}},10)},_arrangeScrollbars:function(e){var t=this,i=t._width(t.element),s=t._height(t.element),r=t.vScrollBar,n=r[0],o="hidden"!==n.style.visibility;r.jqxScrollBar({width:e,height:parseInt(s,10)-2}),n.style.left=i-e-2-2+"px",n.style.top="0px";var a=t._width(t.element)-t.vScrollBar.outerWidth();if(t.rtl){n.style.left="0px";var l=o?parseInt(e,10)+3+"px":0;t.textarea.style.paddingLeft=t._toPx(l),t.textarea.style.width=t._toPx(a-4)}else"hidden"!==r.css("visibility")&&(t.textarea.style.width=this._toPx(a-t._textareaWidthFix));r.jqxScrollBar("refresh")},destroy:function(){this._popupHelper.remove(),this.vScrollBar.jqxScrollBar("destroy"),this._removeHandlers(),this.host.remove()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.element.style.width=e._toPx(e.width),e.element.style.height=e._toPx(e.height),e._arrange())},propertyChangedHandler:function(e,t,i,s){if(void 0!==e.isInitialized&&!1!==e.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)&&s!==i)switch(t){case"theme":e.vScrollBar.jqxScrollBar({theme:e.theme});break;case"width":case"height":e.element.style[t]=e._toPx(s),e._arrange();break;case"source":e._oldsource=s,e._updateSource();break;case"displayMember":case"valueMember":e.source=e._oldsource,e._updateSource();break;case"opened":!0===s?e.open():e.close();break;case"maxLength":e.textarea.setAttribute("maxlength",s);break;case"placeHolder":e.textarea.setAttribute("placeholder",s),a.jqx.browser.msie&&a.jqx.browser.version<10&&e.textarea.value===i&&(e.textarea.value=s);break;case"scrollBarSize":e._arrange();break;case"dropDownWidth":e.$popup.style.width=e._toPx(s);break;case"roundedCorners":!0===s?(e.element.className+=" "+e.toThemeProperty("jqx-rc-all"),e.$popup.className+=" "+e.toThemeProperty("jqx-rc-all")):(e.host.removeClass(e.toThemeProperty("jqx-rc-all")),e._popupHelper.removeClass(e.toThemeProperty("jqx-rc-all")));break;case"disabled":e.vScrollBar.jqxScrollBar({disabled:s}),!0===s?(e.element.className+=" "+e.toThemeProperty("jqx-fill-state-disabled"),e.textarea.setAttribute("disabled","disabled")):(e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e.textarea.removeAttribute("disabled")),a.jqx.aria(e,"aria-disabled",s);break;case"rtl":!0===s?e.textarea.className+=" "+e.toThemeProperty("jqx-text-area-element-rtl"):a(e.textarea).removeClass(e.toThemeProperty("jqx-text-area-element-rtl")),e._arrange();break;default:e.refresh()}},_raiseEvent:function(e,t){void 0===t&&(t={owner:null});var i=this.events[e];t.owner=this;var s=new a.Event(i);return s.owner=this,0===e&&(t.type=this.changeType,this.changeType=null),s.args=t,s.preventDefault&&s.preventDefault(),("change"===i||"div"===this._baseHost[0].tagName.toLowerCase()?this.host:this._baseHost).trigger(s)},_addHandlers:function(){var t=this,e=t.element.id,i=t.host,s=t.textarea,r=a.jqx.browser.mozilla?"wheel":"mousewheel";t.addHandler(i,r+".jqxTextArea"+e,function(e){t.wheel(e,t)}),t.addHandler(i,"mouseenter.jqxTextArea"+e,function(){t.focused=!0}),t.addHandler(i,"mouseleave.jqxTextArea"+e,function(){t.focused=!1}),t.addHandler(i,"focus.jqxTextArea"+e,function(){t.focused=!0}),t.addHandler(i,"blur.jqxTextArea"+e,function(){t.focused=!1}),t.addHandler(t.wrapper,"scroll.jqxTextArea"+e,function(){0!==t.wrapper.scrollTop&&(t.wrapper.scrollTop=0),0!==t.wrapper.scrollLeft&&(t.wrapper.scrollLeft=0)}),t.addHandler(s,"change.jqxTextArea"+e,function(e){e.stopPropagation(),e.preventDefault(),t._arrange(),t._raiseEvent("0")}),t.addHandler(s,"select.jqxTextArea"+e,function(e){e.stopPropagation(),e.preventDefault()}),t.addHandler(s,"scroll.jqxTextArea"+e,function(){var e=Math.max(0,s.scrollHeight-t._height(s));t.vScrollBar.jqxScrollBar({max:e,value:s.scrollTop})}),t.addHandler(s,"focus.jqxTextArea"+e,function(){t.element.className+=" "+t.toThemeProperty("jqx-fill-state-focus"),a.jqx.browser.msie&&a.jqx.browser.version<10&&s.value===t.placeHolder&&(s.value="")}),t.addHandler(s,"blur.jqxTextArea"+e,function(){if(t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),a.jqx.browser.msie&&a.jqx.browser.version<10){var e=t.textarea.value;""===e?t.textarea.value=t.placeHolder:null!==t.maxLength&&e.length>t.maxLength&&(t.textarea.value=e.substr(0,t.maxLength))}}),t.addHandler(s,"keydown.jqxTextArea"+e,function(e){t._suppressKeyPressRepeat=~a.inArray(e.keyCode,[40,38,9,13,27]),t.changeType="keyboard",t._move(e)}),t.addHandler(s,"keypress.jqxTextArea"+e,function(e){if(null!==t.maxLength&&a.jqx.browser.msie&&a.jqx.browser.version<10&&s.value.length>t.maxLength)return!1;t._suppressKeyPressRepeat||t._move(e)}),t.addHandler(s,"keyup.jqxTextArea"+e,function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!t.opened)return;t._select();break;case 27:if(!t.opened)return;t.close();break;default:t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){t._suggest()},300)}e.preventDefault(),t._arrange()}),t.addHandler(t.vScrollBar,"valueChanged.jqxTextArea"+e,function(e){s.scrollTop=e.currentValue}),t.addHandler(t.$popup,"mousedown.jqxTextArea"+e,function(e){e.stopPropagation(),e.preventDefault(),t.changeType="mouse",t._select()})},_removeHandlers:function(){var e=this,t=e.element.id,i=e.host,s=e.textarea;a.jqx.utilities.resize(e._baseHost,null,!0),e.removeHandler(i,"mousewheel.jqxTextArea"+t),e.removeHandler(i,"mouseenter.jqxTextArea"+t),e.removeHandler(i,"mouseleave.jqxTextArea"+t),e.removeHandler(i,"focus.jqxTextArea"+t),e.removeHandler(i,"blur.jqxTextArea"+t),e.removeHandler(e.wrapper,"scroll.jqxTextArea"+t),e.removeHandler(s,"change.jqxTextArea"+t),e.removeHandler(s,"select.jqxTextArea"+t),e.removeHandler(s,"scroll.jqxTextArea"+t),e.removeHandler(s,"focus.jqxTextArea"+t),e.removeHandler(s,"blur.jqxTextArea"+t),e.removeHandler(s,"keydown.jqxTextArea"+t),e.removeHandler(s,"keypress.jqxTextArea"+t),e.removeHandler(s,"keyup.jqxTextArea"+t),e.removeHandler(e.vScrollBar,"valueChanged.jqxTextArea"+t),e.removeHandler(e.$popup,"mousedown.jqxTextArea"+t)},_itemHandler:function(e){a(this._find("jqx-fill-state-pressed",this._popupHelper)).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),e.currentTarget.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},wheel:function(e,t){var i=0;if(e.originalEvent&&a.jqx.browser.msie&&e.originalEvent.wheelDelta&&(i=e.originalEvent.wheelDelta/120),e||(e=window.event),e.wheelDelta?i=e.wheelDelta/120:e.detail?i=-e.detail/3:e.originalEvent.wheelDelta?i=e.originalEvent.wheelDelta/120:e.originalEvent.detail?i=-e.originalEvent.detail/3:e.originalEvent.deltaY&&(i=-e.originalEvent.deltaY/3),i){var s=t._handleDelta(i);return s||e.preventDefault&&e.preventDefault(),!s&&s}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){var t=this.vScrollBar.jqxScrollBar("getInstance");if(this.focused){var i=t.value;if(e<0?this.scrollDown():this.scrollUp(),i!==t.value)return!1}return!0},scrollDown:function(){if("hidden"===this.vScrollBar.css("visibility"))return!1;var e=this.vScrollBar.jqxScrollBar("getInstance"),t=Math.min(e.value+e.largestep,e.max);return e.setPosition(t),this._arrange(),!0},scrollUp:function(){if("hidden"===this.vScrollBar.css("visibility"))return!1;var e=this.vScrollBar.jqxScrollBar("getInstance"),t=Math.max(e.value-e.largestep,e.min);return e.setPosition(t),this._arrange(),!0},_setSize:function(){this.element.style.width=this._toPx(this.width),this.element.style.height=this._toPx(this.height)},_addClasses:function(){var e=this,t="jqx-panel jqx-widget jqx-widget-content jqx-text-area";e.textarea.className+=" "+e.toThemeProperty("jqx-widget jqx-widget-content"),!0===e.roundedCorners&&(t+=" jqx-rc-all"),!0===e.disabled?(t+=" jqx-fill-state-disabled",e.textarea.setAttribute("disabled","disabled"),a.jqx.aria(e,"aria-disabled",!0)):a.jqx.aria(e,"aria-disabled",!1),!0===e.rtl&&(e.textarea.className+=" "+e.toThemeProperty("jqx-text-area-element-rtl")),e.element.className+=" "+e.toThemeProperty(t)},_addPopupClasses:function(){var e="jqx-popup jqx-input-popup jqx-menu jqx-menu-vertical jqx-menu-dropdown jqx-widget jqx-widget-content";a.jqx.browser.msie&&(e+=" jqx-noshadow"),this.roundedCorners&&(e+=" jqx-rc-all"),this.$popup.className+=" "+this.toThemeProperty(e)},_updateSource:function(){var s=this,r=function(e){if(void 0===e)return null;if("string"==typeof e||e instanceof String)return{label:e,value:e};if("string"!=typeof e&&e instanceof String==!1){var t="",i="";return""!==s.displayMember&&void 0!==s.displayMember&&e[s.displayMember]&&(t=e[s.displayMember]),""!==s.valueMember&&void 0!==s.valueMember&&(i=e[s.valueMember]),""===t&&(t=e.label),""===i&&(i=e.value),{label:t,value:i}}return e},e=function(e){for(var t=[],i=0;i<e.length;i++)t[i]=r(e[i]);return t};if(this.source&&this.source._source){if(this.adapter=this.source,null!=this.adapter._source.localdata)this.adapter.unbindBindingUpdate(this.element.id),this.adapter.bindBindingUpdate(this.element.id,function(){s.source=e(s.adapter.records)});else{var t={};this.adapter._options.data?a.extend(s.adapter._options.data,t):(this.source._source.data&&a.extend(t,this.source._source.data),this.adapter._options.data=t),this.adapter.unbindDownloadComplete(this.element.id),this.adapter.bindDownloadComplete(this.element.id,function(){s.source=e(s.adapter.records)})}this.source.dataBind()}else a.isFunction(this.source)||(this.source=e(this.source))},open:function(){if(!a.jqx.isHidden(this.host)){var e=a.extend({},this.host.coord(!0),{height:this.element.offsetHeight});if(this.$popup.parentNode!==document.body){var t=this.element.id+"_popup";this.$popup.id=t,a.jqx.aria(this,"aria-owns",t),document.body.appendChild(this.$popup)}this.$popup.style.position="absolute",this.$popup.style.zIndex=this.popupZIndex,this.$popup.style.top=this._toPx(e.top+e.height),this.$popup.style.left=this._toPx(e.left),this.$popup.style.display="block";var i=0,s=this._popupHelper.children();return a.each(s,function(){i+=a(this).outerHeight()+1}),this.$popup.style.height=this._toPx(i),this.opened=!0,this._raiseEvent("2",{popup:this.$popup}),a.jqx.aria(this,"aria-expanded",!0),this}},close:function(){return this.$popup.style.display="none",this.opened=!1,this._raiseEvent("3",{popup:this.$popup}),a.jqx.aria(this,"aria-expanded",!1),this},_suggest:function(){var e,t=this;return t.query=t.textarea.value,!t.query||t.query.length<t.minLength?t.opened?t.close():t:(e=a.isFunction(t.source)?t.source(t.query,a.proxy(t._load,this)):t.source)?t._load(e):t},_load:function(e){var t=this;return e=a.grep(e,function(e){return t.filter(e)}),(e=t.sort(e)).length?t._render(e.slice(0,t.items)).open():t.opened?t.close():t},_filter:function(e){var t=this.query,i=e;switch(void 0!==e.label?i=e.label:this.displayMember&&(i=e[this.displayMember]),this.searchMode){case"none":break;case"contains":return a.jqx.string.contains(i,t);case"equals":return a.jqx.string.equals(i,t);case"equalsignorecase":return a.jqx.string.equalsIgnoreCase(i,t);case"startswith":return a.jqx.string.startsWith(i,t);case"startswithignorecase":return a.jqx.string.startsWithIgnoreCase(i,t);case"endswith":return a.jqx.string.endsWith(i,t);case"endswithignorecase":return a.jqx.string.endsWithIgnoreCase(i,t);default:return a.jqx.string.containsIgnoreCase(i,t)}},_sort:function(e){for(var t=[],i=[],s=[],r=0;r<e.length;r++){var n=e[r],o=n;n.label?o=n.label:this.displayMember&&(o=n[this.displayMember]),0===o.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())?t.push(n):0<=o.toString().indexOf(this.query)?i.push(n):0<=o.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())&&s.push(n)}return t.concat(i,s)},_render:function(e){var l=this,t=l._popupHelper.children();if(0<t.length)for(var i=0;i<t.length;i++)a(t[i]).remove();var s=function(e,t){var i,s,r=e,n=document.createElement("li"),o=document.createElement("a");o.setAttribute("href","#"),n.appendChild(o),void 0!==e.value&&null!==e.value?(i=void 0!==e.label&&null!==e.label?e.label:e.value,s=e.value):void 0!==e.label&&null!==e.label?(i=e.label,s=e.label):void 0!==l.displayMember&&""!==l.displayMember?(i=e[l.displayMember],s=e[l.valueMember]):s=i=e,n.setAttribute("data-value",s),n.setAttribute("data-name",i),e.label?r=e.label:l.displayMember&&(r=e[l.displayMember]),o.innerHTML=l.highlight(r);var a="";l.rtl&&(a=" jqx-rtl"),0===t&&(a+=" jqx-fill-state-pressed"),n.className=l.toThemeProperty("jqx-item jqx-menu-item jqx-rc-all"+a),l.$popup.appendChild(n),l.addHandler(n,"mouseenter",function(e){l._itemHandler(e)})};return function(e){for(var t=0;t<e.length;t++)s(e[t],t)}(e),this.dropDownWidth?this.$popup.style.width=l._toPx(l.dropDownWidth):this.$popup.style.width=l._toPx(l.element.offsetWidth-6),this},_highlight:function(e){var t=this.query;t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var i=new RegExp("("+t+")","ig");return e.replace(i,function(e,t){return"<b>"+t+"</b>"})},_select:function(){var e=this._find("jqx-fill-state-pressed",this._popupHelper),t=e.getAttribute("data-value"),i=e.getAttribute("data-name");return this.textarea.value=this.renderer(i,this.textarea.value),this.selectedItem={label:i,value:t},this.element.setAttribute("data-value",t),this.element.setAttribute("data-label",i),this._raiseEvent("1",{item:{label:i,value:t}}),this._arrange(),this.textarea.scrollTop=this.textarea.scrollHeight,this._raiseEvent("0"),this.close()},_renderer:function(e){return e},_move:function(e){if(this.opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.shiftKey||(e.preventDefault(),this._prev());break;case 40:e.shiftKey||(e.preventDefault(),this._next())}e.stopPropagation()}},_next:function(){var e=this._find("jqx-fill-state-pressed",this._popupHelper),t=e.nextSibling;a(e).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),t||(t=this.$popup.firstChild),t.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},_prev:function(){var e=this._find("jqx-fill-state-pressed",this._popupHelper),t=e.previousSibling;a(e).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),t||(t=this.$popup.lastChild),t.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},_toPx:function(e){return"number"==typeof e?e+"px":e},_find:function(e,t){for(var i=t.children(),s=0;s<i.length;s++){var r=i[s];if(-1!==r.className.indexOf(e))return r}},_width:function(e){var t=a(e),i=t.css("border-left-width"),s=t.css("border-right-width"),r=parseInt(t.css("padding-left"),10),n=parseInt(t.css("padding-right"),10);i=-1===i.indexOf("px")?1:parseInt(i,10),s=-1===s.indexOf("px")?1:parseInt(s,10);var o=e.offsetWidth-(i+s+r+n);return 0<o?o:""},_height:function(e){var t=a(e),i=t.css("border-top-width"),s=t.css("border-bottom-width"),r=parseInt(t.css("padding-top"),10),n=parseInt(t.css("padding-bottom"),10);i=-1===i.indexOf("px")?1:parseInt(i,10),s=-1===s.indexOf("px")?1:parseInt(s,10);var o=e.offsetHeight-(i+s+r+n);return 0<o?o:""}})}(jqxBaseFramework),function(p){p.jqx.jqxWidget("jqxToolBar","",{}),p.extend(p.jqx._jqxToolBar.prototype,{defineInstance:function(){var e={width:"100%",minWidth:null,maxWidth:null,height:35,tools:"",initTools:null,minimizeWidth:200,disabled:!1,rtl:!1,events:["open","close"]};return this===p.jqx._jqxToolBar.prototype||p.extend(!0,this,e),e},createInstance:function(){"none"!==this.host.css("display")&&!1!==document.body.contains(this.element)||(this._initiallyHidden=!0),this._toolToWidgetMapping={button:"jqxButton",toggleButton:"jqxToggleButton",dropdownlist:"jqxDropDownList",combobox:"jqxComboBox",input:"jqxInput"},this._toolChanges=[],this.render()},render:function(){var e=this,t=!0;e.element.innerHTML="",0<e.element.className.length&&e._removeClass(e.element,e.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-rc-all jqx-toolbar jqx-fill-state-disabled")),e._setSize(),e._destroyTools(!1),e._toolWidgets&&(t=!1,p(e._minimizeButton).remove(),p(e._minimizePopup).remove()),e._appendMinimizeButton(),e._addClasses(),e._initiallyHidden||e._createTools(),!0===e.disabled&&(e.element.className+=" "+e.toThemeProperty("jqx-fill-state-disabled"),e._disableTools(!0)),e._initiallyHidden||e._minimize(),e._removeHandlers(),e._addHandlers(),!1===t&&0<e._toolChanges.length&&e._restoreChanges()},refresh:function(e){!0!==e&&this.render()},getTools:function(){return this._toolWidgets},destroy:function(){this._removeHandlers(),this._destroyTools(),this.host.remove()},_destroyTools:function(e){if(!1!==e&&(e=!0),this._toolWidgets)for(var t=this._toolWidgets.length-1;0<=t;t--)this._destroyTool(t,e,!0)},_destroyTool:function(e,t,i){e=parseInt(e,10);var s=this._toolWidgets[e];if(s){var r=s.type,n=s.tool,o=s.menuTool;"custom"!==r?(n[this._toolToWidgetMapping[r]]("destroy"),o&&o[this._toolToWidgetMapping[r]]("destroy")):(n.remove(),o&&o.remove()),s.menuSeparator&&p(s.menuSeparator).remove(),this._toolWidgets.splice(e,1),this._checkType(r)&&this._refreshButtonGroups(),!0!==i&&this._minimize(),!1!==t&&this._toolChanges.push({action:"destroyTool",index:e})}},destroyTool:function(e){this._destroyTool(e,!0)},addTool:function(e,t,i,s){var r,n,o,a,l=this;r="first"===t?0:l._toolWidgets.length,l._toolWidgets[r-1]&&(n=l._toolWidgets[r-1].tool,o=l._toolWidgets[r-1].separatorAfterWidget?"|":l._toolWidgets[r-1].type),!0===i?a="|":l._toolWidgets[r+1]&&(a=l._toolWidgets[r+1].type);var d=l._initializeTool(r,e,n,o,a,s,!1);"first"===t?l._toolWidgets.splice(0,0,d):l._toolWidgets.push(d),l._removeHandlers(),l._addHandlers(),l._checkType(e)&&l._refreshButtonGroups(),"first"!==t&&0<l._minimizedTools?l._minimizeTool(!0):l._minimize(),l._toolChanges.push({action:"addTool",type:e,position:t,separator:i,initCallback:s})},_disableTools:function(e){for(var t=0;t<this._toolWidgets.length;t++)this.disableTool(t,e)},disableTool:function(e,t){e=parseInt(e,10);var i=this._toolWidgets[e];if(i){var s=i.type;"custom"!==s&&(i.tool[this._toolToWidgetMapping[s]]({disabled:t}),i.menuTool[this._toolToWidgetMapping[s]]({disabled:t})),this._toolChanges.push({action:"disableTool",index:e,disable:t})}},propertyChangedHandler:function(e,t,i,s){if("initTools"!==t&&s!==i)switch(t){case"theme":""!==i&&(e._removeClass(e.element,e.toThemeProperty("jqx-widget-"+i+" jqx-fill-state-normal-"+i+" jqx-rc-all-"+i+" jqx-toolbar-"+i)),e._removeClass(e._minimizePopup,"jqx-popup-"+i+" jqx-fill-state-normal-"+i+" jqx-rc-b-"+i+" jqx-toolbar-minimized-popup-"+i)),e._addClasses(),e._minimizePopup.className+=" "+e.toThemeProperty("jqx-popup jqx-fill-state-normal jqx-rc-b jqx-toolbar-minimized-popup");for(var r=0;r<e._toolWidgets.length;r++){var n=e._toolWidgets[r];"custom"!==n.type&&(n.menuTool&&(n.menuSeparator&&(""!==i&&e._removeClass(n.menuSeparator,"jqx-fill-state-pressed-"+i+" jqx-toolbar-minimized-popup-separator-"+i),n.menuSeparator.className+=" jqx-fill-state-pressed-"+s+" jqx-toolbar-minimized-popup-separator-"+s),n.menuTool[e._toolToWidgetMapping[e._toolWidgets[r].type]]({theme:s})),n.tool[e._toolToWidgetMapping[e._toolWidgets[r].type]]({theme:s}))}p.jqx.utilities.setTheme(i,s,e.host);break;case"width":e.element.style.width=e._toPx(s),e._minimize();break;case"minWidth":e.element.style.minWidth=e._toPx(s),e._minimize();break;case"maxWidth":e.element.style.maxWidth=e._toPx(s),e._minimize();break;case"height":var o,a=!1;if(e.element.style.height=e._toPx(s),"string"==typeof s&&-1!==s.indexOf("%")){if("string"==typeof i&&-1!==i.indexOf("%"))return void e.host.trigger("resize");a=!0}else o=parseInt(s,10),o-=e._getComputedStyle(e.element,"paddingTop")+e._getComputedStyle(e.element,"paddingBottom")+e._getComputedStyle(e.element,"borderTopWidth")+e._getComputedStyle(e.element,"borderBottomWidth");for(var l=0;l<e._toolWidgets.length;l++){var d=e._toolWidgets[l],h=d.type;"button"===h||"toggleButton"===h||"repeatButton"===h||"linkButton"===h?(d.tool[0].style.height=a?"100%":e._toPx(o),d.menuTool&&(d.menuTool[0].style.height=a?"100%":e._toPx(o))):"dropdownlist"!==h&&"combobox"!==h&&"input"!==h||(d.tool[e._toolToWidgetMapping[h]]({height:a?"100%":o-2}),d.menuTool&&d.menuTool[e._toolToWidgetMapping[h]]({height:a?"100%":o-2}))}break;case"tools":e._removeHandlers(),e._destroyTools(),e._createTools(),e._addHandlers(),e._minimize();break;case"minimizeWidth":if(!0===e._isOpen){var c=e._getComputedStyle(e._minimizePopup,"left")-(s-i);e._minimizePopup.style.width=e._toPx(s),e._minimizePopup.style.left=e._toPx(c)}else e._minimizePopup.style.width=e._toPx(s);break;case"rtl":e.render();break;case"disabled":!0===s?(e.element.className+=" "+e.toThemeProperty("jqx-fill-state-disabled"),e._disableTools(!0)):(e._removeClass(e.element,e.toThemeProperty("jqx-fill-state-disabled")),e._disableTools(!1))}},_raiseEvent:function(e,t){void 0===t&&(t={owner:null});var i=this.events[e];t.owner=this;var s=new p.Event(i);return s.owner=this,s.args=t,s.preventDefault&&s.preventDefault(),this.host.trigger(s)},_addClasses:function(){var e="jqx-widget jqx-fill-state-normal jqx-rc-all jqx-toolbar";!0===this.rtl&&(e+=" jqx-toolbar-rtl"),this.element.className+=" "+this.toThemeProperty(e)},_checkType:function(e){return"button"===e||"toggleButton"===e||"repeatButton"===e||"linkButton"===e},_refreshButtonGroups:function(){var d=this;function e(e,t,i,s,r,n){var o=e.tool[0],a=e.menuTool[0],l={add:"",remove:""};l[t]+=" jqx-toolbar-tool-inner-button",l[i]+=" jqx-rc-all",l[s]+=" jqx-rc-l",l[r]+=" jqx-rc-r",""!==l.add&&(o.className+=" "+d.toThemeProperty(p.trim(l.add)),a&&(a.className+=" "+d.toThemeProperty(p.trim(l.add)))),""!==l.remove&&(d._removeClass(o,d.toThemeProperty(p.trim(l.remove))),a&&d._removeClass(a,d.toThemeProperty(p.trim(l.remove)))),o.style.borderLeftWidth=n+"px",a&&(a.style.borderLeftWidth=n+"px")}for(var t=0;t<d._toolWidgets.length;t++){var i=d._toolWidgets[t];if(d._checkType(i.type)){var s,r,n=i.tool,o=i.menuTool;0<t&&(s=d._toolWidgets[t-1].separatorAfterWidget?"|":d._toolWidgets[t-1]),i.separatorAfterWidget?r="|":t<d._toolWidgets.length-1&&(r=d._toolWidgets[t+1]);var a=s&&d._checkType(s.type),l=!1===i.separatorAfterWidget&&r&&d._checkType(r.type);a||l?!a&&l?e(i,"remove","remove","add","remove",1):a&&l?e(i,"add","remove","remove","remove",0):a&&!l&&e(i,"remove","remove","remove","add",0):e(i,"remove","add","remove","remove",1);var h=d.rtl?"rtl":"ltr";l?(d._removeClass(n[0],d.toThemeProperty("jqx-toolbar-tool-separator-"+h)),d._removeClass(n[0],d.toThemeProperty("jqx-toolbar-tool-no-separator-"+h)),o&&(d._removeClass(o[0],d.toThemeProperty("jqx-toolbar-tool-separator-"+h)),d._removeClass(o[0],d.toThemeProperty("jqx-toolbar-tool-no-separator-"+h)))):i.separatorAfterWidget?(d._removeClass(n[0],d.toThemeProperty("jqx-toolbar-tool-no-separator-"+h)),n[0].className+=" "+d.toThemeProperty("jqx-toolbar-tool-separator-"+h),o&&(d._removeClass(o[0],d.toThemeProperty("jqx-toolbar-tool-no-separator-"+h)),o[0].className+=" "+d.toThemeProperty("jqx-toolbar-tool-separator-"+h))):(d._removeClass(n[0],d.toThemeProperty("jqx-toolbar-tool-separator-"+h)),n[0].className+=" "+d.toThemeProperty("jqx-toolbar-tool-no-separator-"+h),o&&(d._removeClass(o[0],d.toThemeProperty("jqx-toolbar-tool-separator-"+h)),o[0].className+=" "+d.toThemeProperty("jqx-toolbar-tool-no-separator-"+h)))}}},_addHandlers:function(){var t=this,e=t.element.id;p.jqx.utilities.resize(t.host,function(){if(t._initiallyHidden)return t._createTools(),t._minimize(),void(t._initiallyHidden=!1);!0===t._isOpen&&(t._minimizePopup.style.display="none",t._isOpen=!1,t._raiseEvent("1")),t._minimize()}),t.addHandler(document,"click.jqxToolbar"+e,function(){!0===t._isOpen&&t._openMinimizePopup()}),t.addHandler(t._minimizeButton,"click.jqxToolbar"+e,function(e){e.stopPropagation(),t._openMinimizePopup()}),t.addHandler(p(".jqx-popup"),"click.jqxToolbar"+e,function(e){-1===e.target.className.indexOf("jqx-window-content")&&e.stopPropagation()})},_removeHandlers:function(){var e=this.element.id;this.removeHandler(document,"click.jqxToolbar"+e),this.removeHandler(this._minimizeButton,"click.jqxToolbar"+e),this.removeHandler(p(".jqx-popup"),"click.jqxToolbar"+e)},_setSize:function(){var e=this,t=e.element.style;t.width=e._toPx(e.width),t.height=e._toPx(e.height),e.minWidth&&(t.minWidth=e._toPx(e.minWidth)),e.maxWidth&&(t.maxWidth=e._toPx(e.maxWidth))},_createTools:function(){var e=this,t=e.tools.split(" "),i=p.trim(e.tools.replace(/\|/g,""));i=(i=i.replace(/\s+/g," ")).split(" "),e._toolWidgets=[];for(var s=0,r=0;r<i.length;r++){i[r]!==t[r+s]&&s++;var n,o=r+s;e._toolWidgets[r-1]&&(n=e._toolWidgets[r-1].tool);var a=t[o],l=t[o-1],d=t[o+1],h=e.initTools;if(""===a)return!0;var c=e._initializeTool(r,a,n,l,d,h,!0);e._toolWidgets.push(c)}e._minimizePopup.style.display="none",e._minimizePopup.style.visibility="visible"},_initializeTool:function(e,t,i,s,r,n,o){var a,l,d=this,h=d._initializeWidget(t,a,l,i);a=h.tool,l=h.menuTool;var c,u,p=a[0],m="jqx-toolbar-tool",f=l[0],g=!0;(!0===d.rtl&&(m+=" jqx-toolbar-tool-rtl"),d.initTools)&&(!(u=!0===o?d.initTools(t,e,a,!1):n(t,a,!1))||!1!==u.minimizable&&!1!==u.menuTool?(!0===o?d.initTools(t,e,l,!0):n(t,l,!0),l&&(c="jqx-toolbar-tool-minimized")):("custom"!==t?l[d._toolToWidgetMapping[t]]("destroy"):l.remove(),!1===u.minimizable&&(g=!1),l=!1));var v,x=!1;l&&(f.style.display="none");var w=d.rtl?"rtl":"ltr",y=["button","toggleButton","repeatButton","linkButton"],b={button:"jqxButton",toggleButton:"jqxToggleButton",repeatButton:"jqxRepeatButton",linkButton:"jqxRepeatButton"};return"|"===r?(x=!0,m+=" jqx-toolbar-tool-separator-"+w,l&&(c+=" jqx-toolbar-tool-separator-"+w),l&&((v=document.createElement("div")).className=d.toThemeProperty("jqx-fill-state-pressed jqx-toolbar-minimized-popup-separator"),d._minimizePopup.appendChild(v))):(-1===y.indexOf(t)||-1!==y.indexOf(t)&&-1===y.indexOf(r))&&(m+=" jqx-toolbar-tool-no-separator-"+w,l&&(c+=" jqx-toolbar-tool-no-separator-"+w)),-1===y.indexOf(s)&&-1!==y.indexOf(t)&&-1!==y.indexOf(r)?!1===d.rtl?(a[b[t]]({roundedCorners:"left"}),l&&l[b[t]]({roundedCorners:"left"})):(a[b[t]]({roundedCorners:"left"}),p.style.borderLeftWidth="0px",l&&(l[b[t]]({roundedCorners:"left"}),f.style.borderLeftWidth="0px")):-1!==y.indexOf(s)&&-1!==y.indexOf(t)&&-1!==y.indexOf(r)?(m+=" jqx-toolbar-tool-inner-button",p.style.borderLeftWidth="0px",l&&(c+=" jqx-toolbar-tool-inner-button",f.style.borderLeftWidth="0px")):-1!==y.indexOf(s)&&-1!==y.indexOf(t)&&-1===y.indexOf(r)&&(!1===d.rtl?(a[b[t]]({roundedCorners:"right"}),p.style.borderLeftWidth="0px",l&&(l[b[t]]({roundedCorners:"right"}),f.style.borderLeftWidth="0px")):(a[b[t]]({roundedCorners:"left"}),l&&l[b[t]]({roundedCorners:"left"}))),p.className+=" "+d.toThemeProperty(m),l&&(f.className+=" "+d.toThemeProperty(c)),{type:t,tool:a,separatorAfterWidget:x,minimizable:g,minimized:!1,menuTool:l,menuSeparator:v}},_initializeWidget:function(e,t,i,s){var r,n,o,a,l=this,d=l._toolToWidgetMapping[e],h=!1;if("string"==typeof l.height&&-1!==l.height.indexOf("%"))h=!0;else{var c=window.getComputedStyle?window.getComputedStyle(l.element):l.element.currentStyle;n=l.element.offsetHeight-(parseInt(c.paddingTop,10)+parseInt(c.paddingBottom,10)+parseInt(c.borderTopWidth,10)+parseInt(c.borderBottomWidth,10))}if("custom"!==e&&void 0===l.host[d]){var u=l._toolToWidgetMapping[e].toLowerCase();throw new Error("jqxToolBar: Missing reference to "+u+".js")}switch(e){case"button":case"toggleButton":t=document.createElement("button"),i=document.createElement("button"),r={theme:l.theme,height:h?"100%":n,disabled:l.disabled,rtl:l.rtl};break;case"dropdownlist":case"combobox":t=document.createElement("div"),i=document.createElement("div"),r={theme:l.theme,autoDropDownHeight:!0,height:h?"100%":n-2,disabled:l.disabled,rtl:l.rtl};break;case"input":(t=document.createElement("input")).setAttribute("type","text"),(i=document.createElement("input")).setAttribute("type","text"),r={theme:l.theme,height:h?"100%":n-2,disabled:l.disabled,rtl:l.rtl};break;case"custom":t=document.createElement("div"),i=document.createElement("div")}return o=l.host.children(),a=p(l._minimizePopup).children(),s||1===o.length&&0===a.length?(l.element.appendChild(t),l._minimizePopup.appendChild(i)):(l.element.insertBefore(t,o[1]),l._minimizePopup.insertBefore(i,a[0])),t=p(t),i=p(i),"custom"!==e&&(t[d](r),i[d](r)),{tool:t,menuTool:i}},_appendMinimizeButton:function(){var e=this;e._minimizedTools=0;var t=document.createElement("div"),i="jqx-menu-minimized-button jqx-toolbar-minimized-button",s=document.createElement("div"),r="jqx-popup jqx-fill-state-normal jqx-rc-b jqx-toolbar-minimized-popup";s.setAttribute("id",e.element.id+"Popup"),!0===e.rtl&&(i+=" jqx-toolbar-minimized-button-rtl",r+=" jqx-toolbar-minimized-popup-rtl"),t.className=e.toThemeProperty(i),s.className=e.toThemeProperty(r),e.element.appendChild(t),document.body.appendChild(s),e._isOpen=!1,s.style.width=e._toPx(e.minimizeWidth),e._minimizeButton=t,e._minimizePopup=s},_openMinimizePopup:function(){var e=this;if(!1===e._isOpen){var t=e.host.offset(),i=t.left;!1===e.rtl&&(i+=e.element.offsetWidth-parseInt(e.minimizeWidth,10)-(e._getComputedStyle(e._minimizePopup,"paddingLeft")+e._getComputedStyle(e._minimizePopup,"paddingRight")+e._getComputedStyle(e._minimizePopup,"borderLeftWidth")+e._getComputedStyle(e._minimizePopup,"borderRightWidth")));var s=t.top+e.element.offsetHeight-1;e._minimizePopup.style.left=i+"px",e._minimizePopup.style.top=s+"px",p(e._minimizePopup).slideDown("fast",function(){e._isOpen=!0,e._raiseEvent("0")})}else p(e._minimizePopup).slideUp("fast"),e._isOpen=!1,e._raiseEvent("1")},_minimize:function(){var e=this,t=0;0<e._minimizedTools&&(t=e._minimizeButton.offsetWidth+e._getComputedStyle(e._minimizeButton,"marginLeft"));var i=e.element.offsetWidth-e._getComputedStyle(e.element,"paddingLeft")-e._getComputedStyle(e.element,"paddingRight")-t-10;if(!(i<0)){for(var s,r,n,o,a=0,l=0;l<e._toolWidgets.length;l++){var d=e._toolWidgets[l].tool;if(!1===e._toolWidgets[l].minimized)a+=d[0].offsetWidth+e._getComputedStyle(d[0],"marginLeft")+e._getComputedStyle(d[0],"marginRight");else void 0===s&&(r=d[0],o=n=void 0,(o=r.cloneNode(!0)).style.visibility="hidden",o.style.display="block",o.style.position="absolute",document.body.appendChild(o),n=o.offsetWidth+e._getComputedStyle(o,"marginLeft")+e._getComputedStyle(o,"marginRight"),p(o).remove(),s=n)}i<a?(e._minimizeTool(!0),e._minimize()):void 0!==s&&a+s<i&&(e._minimizeTool(!1),e._minimize())}},_minimizeTool:function(e){var t,i,s=this;if(!0===e){for(var r=s._toolWidgets.length-1;0<=r;r--)if(!1!==(t=s._toolWidgets[r]).minimizable&&!1===t.minimized){i=s._getToolValue(t.tool,t.type),t.tool[0].style.display="none",t.menuTool&&(t.menuTool[0].style.display="block",s._setToolValue(i,t.menuTool,t.type)),t.menuSeparator&&(t.menuSeparator.style.display="block"),s._toolWidgets[r].minimized=!0,s._minimizedTools++,1===s._minimizedTools&&(s._minimizeButton.style.display="block");break}}else for(var n=0;n<s._toolWidgets.length;n++)if(!0===(t=s._toolWidgets[n]).minimized){t.menuTool&&(i=s._getToolValue(t.menuTool,t.type),t.menuTool[0].style.display="none"),t.menuSeparator&&(t.menuSeparator.style.display="none"),t.tool.show(),t.menuTool&&s._setToolValue(i,t.tool,t.type),s._toolWidgets[n].minimized=!1,s._minimizedTools--,0===s._minimizedTools&&(s._minimizeButton.style.display="none");break}},_getToolValue:function(e,t){var i;switch(t){case"button":case"custom":i=void 0;break;case"toggleButton":var s=-1!==e[0].className.indexOf("jqx-fill-state-pressed");i={text:e[0].innerHTML,toggled:s};break;case"dropdownlist":case"combobox":var r=this._toolToWidgetMapping[t];i=e[r]("checkboxes")?e[r]("val"):e[r]("getSelectedIndex");break;case"input":i=e.val()}return i},_setToolValue:function(e,t,i){if(void 0!==e)switch(i){case"button":case"custom":break;case"toggleButton":t[0].innerHTML=e.text,-1!==t[0].className.indexOf("jqx-fill-state-pressed")!==e.toggled&&t.jqxToggleButton("toggle");break;case"dropdownlist":case"combobox":var s=this._toolToWidgetMapping[i];if(t[s]("checkboxes")){if(t[s]("uncheckAll"),""===e)return;for(var r=e.split(","),n=0;n<r.length;n++)t[s]("checkItem",r[n])}else e=t[s]("selectIndex",e);break;case"input":t.val(e)}},_restoreChanges:function(){var i=this;p.each(i._toolChanges,function(e,t){"addTool"===t.action?i.addTool(t.type,t.position,t.separator,t.initCallback):"destroyTool"===t.action?i._destroyTool(t.index):"disableTool"===t.action&&i.disableTool(t.index,t.disable)})},_removeClass:function(e,t){p(e).removeClass(t)},_toPx:function(e){return"number"==typeof e?e+"px":e},_getComputedStyle:function(e,t){var i;return window.getComputedStyle?i=window.getComputedStyle(e):e.currentStyle&&(i=e.currentStyle),"string"==typeof i[t]&&-1===i[t].indexOf("px")?0:parseInt(i[t],10)}})}(jqxBaseFramework),function(f){f.jqx.jqxWidget("jqxTooltip","",{}),f.extend(f.jqx._jqxTooltip.prototype,{defineInstance:function(){var e={width:"auto",height:"auto",position:"default",enableBrowserBoundsDetection:!0,content:"",left:0,top:0,absolutePositionX:0,absolutePositionY:0,trigger:"hover",showDelay:100,autoHide:!0,autoHideDelay:3e3,closeOnClick:!0,disabled:!1,animationShowDelay:200,animationHideDelay:"fast",showArrow:!0,name:"",opacity:.9,rtl:!1,_isOpen:!1,selector:null,opening:null,value:null,_eventsMap:{mousedown:f.jqx.mobile.getTouchEventName("touchstart"),mouseup:f.jqx.mobile.getTouchEventName("touchend")},events:["open","close","opening","closing"]};return this===f.jqx._jqxTooltip.prototype||f.extend(!0,this,e),e},createInstance:function(){this._isTouchDevice=f.jqx.mobile.isTouchDevice();var e=f.data(document.body,"_tooltipIDArray"+this.name);e?this.IDArray=e:(this.IDArray=[],f.data(document.body,"_tooltipIDArray"+this.name,this.IDArray));var t="jqxtooltip"+this._generatekey();this.IDArray.push({tooltipID:t,tooltipHost:this.host});var i=document.createElement("div");i.setAttribute("id",t),i.innerHTML='<div id="'+t+'Main"><div id="'+t+'Text"></div></div><div id="'+t+'Arrow"></div>',f.jqx.browser.msie&&(i.className=this.toThemeProperty("jqx-noshadow")),document.body.appendChild(i),this._tooltip=i,this._tooltipHelper=f(i),this._tooltipHelper.initAnimate&&this._tooltipHelper.initAnimate(),i.style.visibility="hidden",i.style.display="none",i.style.opacity=0,i.style.zIndex=99999;var s=document.getElementById(t+"Arrow");this._arrow=s,!1===this.showArrow&&(s.style.visibility="hidden",s.style.display="none"),this._main=document.getElementById(t+"Main"),this._text=document.getElementById(t+"Text"),this._setTheme(),this._setSize(),this._setContent(),!1===this.disabled&&(this._trigger(),!0===this.closeOnClick&&this._clickHide())},open:function(){if(arguments&&arguments.length&&2===arguments.length&&(this.position="absolute",this.left=arguments[0],this.top=arguments[1],this.absolutePositionX=arguments[0],this.absolutePositionY=arguments[1]),!1===this.disabled&&"removed"!==this._id())if("mouse"===this.position||"mouseenter"===this.position){var e=this.position;this.position="default",this._raiseEvent("2"),this._setPosition(),this._animateShow(),this.position=e}else this._raiseEvent("2"),this._setPosition(),this._animateShow()},close:function(e){var t=this,i=f.jqx.browser.msie&&f.jqx.browser.version<9;"object"==typeof e&&f.isEmptyObject(e)&&(e=this.animationHideDelay);var s=parseFloat(t._tooltip.style.opacity),r=function(){clearTimeout(t.autoHideTimeout),t._raiseEvent("3"),t._tooltipHelper.animate({opacity:0},e,function(){t._tooltip.style.visibility="hidden",t._tooltip.style.display="none",t._raiseEvent("1"),t._isOpen=!1})};!1!==this._isOpen||0===s?!0===this._isOpen&&(!i&&s===this.opacity||i)&&r():r()},destroy:function(){var e=this.IDArray.length;this._removeHandlers(),this._tooltipHelper.remove();for(var t=0;t<e;t++)if(this.IDArray[t].tooltipHost===this.host){this.IDArray.splice(t,1);break}this.host.removeData("jqxTooltip")},refresh:function(e){if(!0!==e){var t=this;this.rtl&&(t._text.className+=" "+t.toThemeProperty("jqx-rtl"),t._text.style.direction="rtl");var i=parseFloat(t._tooltip.style.opacity);"removed"!==this._id()&&(!0===this.disabled&&!0===this._isOpen&&i===this.opacity&&(clearTimeout(this.autoHideTimeout),this._tooltipHelper.animate({opacity:0},this.animationHideDelay,function(){t._tooltip.style.visibility="hidden",t._tooltip.style.display="none",t._isOpen=!1})),this._setTheme(),this._setContent(),this._setSize(),"mouse"!==this.position&&"mouseenter"!==this.position&&this._setPosition(),this._removeHandlers(),!1===this.disabled&&(this._trigger(),!0===this.closeOnClick&&this._clickHide()))}},propertyChangedHandler:function(e,t,i,s){"content"===t&&(this.changeContentFlag=!0),e.refresh()},_raiseEvent:function(e,t){var i,s=this.events[e],r=new f.Event(s);r.owner=this,r.args=t;try{i=this.host.trigger(r)}catch(e){}return i},_generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()},_id:function(){for(var e,t=this.IDArray.length,i=0;i<t;i++)if(this.IDArray[i].tooltipHost===this.host){e="#"+this.IDArray[i].tooltipID;break}return void 0===e&&(e="removed"),e},_setPosition:function(e){var t=this,i=t._tooltip;if(!1===this._isOpen&&0===parseFloat(i.style.opacity)||!0===this.changeContentFlag){if(!e&&("mouse"===this.position||"mouseenter"===this.position))return;i.style.display="block",this.changeContentFlag=!1,this.documentTop=document.documentElement.scrollTop,this.documentLeft=document.documentElement.scrollLeft,this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.hostWidth=t.element.offsetWidth,this.hostHeight=t.element.offsetHeight,this.tooltipWidth=i.offsetWidth,this.tooltipHeight=i.offsetHeight,this.hostOffset=this.host.offset(),this.tooltipOffset=t._tooltipHelper.offset(),this.defaultOffset=30,this.offsetHorizontal=parseInt(this.left,10),this.offsetVertical=parseInt(this.top,10);var s,r=t._arrow,n=f(r),o=t._main,a=f(o),l=o.offsetWidth,d=o.offsetHeight;switch(this.arrowSize=5,this.tooltipMainOffset=a.offset(),this.tooltipArrowOffset={},this.position){case"top":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth/2-this.tooltipWidth/2+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=a.offset(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(l/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth/2-this.tooltipWidth/2+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=a.offset(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(l/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"left":s=window.getComputedStyle?window.getComputedStyle(o):o.currentStyle,this.tooltipOffset.left=this.hostOffset.left-this.tooltipWidth-this.arrowSize+this.offsetHorizontal-(parseInt(s.borderLeftWidth,10)+parseInt(s.borderRightWidth,10)),this.tooltipOffset.top=this.hostOffset.top+this.hostHeight/2-this.tooltipHeight/2+this.offsetVertical,this._detectBrowserBounds(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-t-b")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-l-r"),r.style.borderWidth=this.arrowSize+"px 0px "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipMainOffset=a.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left+l,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d/2-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth+this.arrowSize+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight/2-this.tooltipHeight/2+this.offsetVertical,this.tooltipOffset.top=parseInt(this.tooltipOffset.top,10),this._detectBrowserBounds(),this.tooltipMainOffset=a.offset(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-t-b")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-l-r"),r.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left-this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+o.offsetHeight/2-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"top-left":this.tooltipOffset.left=this.hostOffset.left+this.defaultOffset-this.tooltipWidth+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=a.offset(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+l-6*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom-left":this.tooltipOffset.left=this.hostOffset.left+this.defaultOffset-this.tooltipWidth+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=a.offset(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+l-6*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"top-right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=a.offset(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom-right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=a.offset(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"absolute":t._tooltipHelper.offset({top:this.absolutePositionY,left:this.absolutePositionX}),r.style.borderWidth="0px";break;case"mouse":if(!1===this._isTouchDevice)switch(this.trigger){case"hover":this.mouseHoverTimeout&&clearTimeout(this.mouseHoverTimeout),this.mouseHoverTimeout=setTimeout(function(){t.tooltipOffset.left=e.pageX+10,t.tooltipOffset.top=e.pageY+10,t._detectBrowserBounds()},this.showDelay);break;case"click":this.tooltipOffset.left=e.pageX+10,this.tooltipOffset.top=e.pageY+10,this._detectBrowserBounds()}else{var h,c=e.pageX,u=e.pageY;if(e.originalEvent)e.originalEvent.touches&&e.originalEvent.touches.length?h=e.originalEvent.touches[0]:e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length&&(h=e.originalEvent.changedTouches[0]),void 0!==h&&(c=h.pageX,u=h.pageY);this.tooltipOffset.left=c+10,this.tooltipOffset.top=u+10,this._detectBrowserBounds()}r.style.borderWidth="0px";break;case"mouseenter":var p=e.pageY,m=e.pageX;p<this.hostOffset.top+10&&p>this.hostOffset.top-10?(this.tooltipOffset.left=m-this.tooltipWidth/2,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=a.offset(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(l/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):p<this.hostOffset.top+this.hostHeight+10&&p>this.hostOffset.top+this.hostHeight-10?(this.tooltipOffset.left=m-this.tooltipWidth/2,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=a.offset(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(l/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):m<this.hostOffset.left+10&&m>this.hostOffset.left-10?(s=window.getComputedStyle?window.getComputedStyle(o):o.currentStyle,this.tooltipOffset.left=this.hostOffset.left-this.tooltipWidth-this.arrowSize-(parseInt(s.borderLeftWidth,10)+parseInt(s.borderRightWidth,10)),this.tooltipOffset.top=p-this.tooltipHeight/2,this._detectBrowserBounds(),this.tooltipMainOffset=a.offset(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-t-b")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-l-r"),r.style.borderWidth=this.arrowSize+"px 0px "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipMainOffset=a.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left+l,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d/2-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):m<this.hostOffset.left+this.hostWidth+10&&m>this.hostOffset.left+this.hostWidth-10&&(this.tooltipOffset.left=this.hostOffset.left+this.hostWidth+this.arrowSize,this.tooltipOffset.top=p-this.tooltipHeight/2,this._detectBrowserBounds(),this.tooltipMainOffset=a.offset(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-t-b")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-l-r"),r.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipMainOffset=a.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left-this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d/2-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left}));break;case"default":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=a.offset(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})}}},_setContent:function(){this._text.innerHTML=this.content},opened:function(){return this._isOpen&&"block"==this.host.css("display")&&"visible"==this.host.css("visibility")},_animateShow:function(){this._closeAll(),clearTimeout(this.autoHideTimeout);var e=parseFloat(this._tooltip.style.opacity);if(!1===this._isOpen&&0===e){var t=this;if(t._tooltip.style.visibility="visible",t._tooltip.style.display="block",t._tooltip.style.opacity=0,this.opening)if(!1===this.opening(this))return;t._tooltipHelper.animate({opacity:this.opacity},this.animationShowDelay,function(){t._raiseEvent("0"),t._isOpen=!0,t.openedTooltip=t,f.data(document.body,"_openedTooltip"+t.name,t),t.autoHideTimeout&&clearTimeout(t.autoHideTimeout),0<t.autoHideDelay&&!0===t.autoHide&&(t.autoHideTimeout=setTimeout(function(){t._autoHide()},t.autoHideDelay))})}},_trigger:function(){if("removed"!==this._id()){var l=this,e=this.host;if(this.selector&&(e=f("#"+this.selector)),!1===this._isTouchDevice)switch(this.trigger){case"hover":"mouse"===this.position?(this.addHandler(e,"mousemove.tooltip",function(e){1===l._enterFlag&&(l._raiseEvent("2"),l._setPosition(e),clearTimeout(l.hoverShowTimeout),l.hoverShowTimeout=setTimeout(function(){l._animateShow(),l._enterFlag=0},l.showDelay))}),this.addHandler(e,"mouseenter.tooltip",function(){0!==l._leaveFlag&&(l._enterFlag=1)}),this.addHandler(e,"mouseleave.tooltip",function(e){l._leaveFlag=1,clearTimeout(l.hoverShowTimeout);var t=l._tooltipHelper.offset(),i=l._tooltip.offsetWidth,s=l._tooltip.offsetHeight;(parseInt(e.pageX,10)<parseInt(t.left,10)||parseInt(e.pageX,10)>parseInt(t.left,10)+i)&&l.close(),(parseInt(e.pageY,10)<parseInt(t.top,10)||parseInt(e.pageY,10)>parseInt(t.top,10)+s)&&l.close()}),this.addHandler(l._tooltipHelper,"mouseleave.tooltip",function(e){l._checkBoundariesAuto(e),0!==l._clickFlag&&0!==l._autoFlag?l._leaveFlag=0:(l._leaveFlag=1,l.close())})):(this.addHandler(e,"mouseenter.tooltip",function(e){clearTimeout(l.hoverShowTimeout),l.hoverShowTimeout=setTimeout(function(){l._raiseEvent("2"),l._setPosition(e),l._animateShow()},l.showDelay)}),this.addHandler(e,"mouseleave.tooltip",function(e){if(l._leaveFlag=1,clearTimeout(l.hoverShowTimeout),l.autoHide){var t=e.pageX,i=e.pageY,s=l._tooltipHelper.offset(),r=s.left,n=s.top,o=l._tooltip.offsetWidth,a=l._tooltip.offsetHeight;(parseInt(t,10)<parseInt(r,10)||parseInt(t,10)>parseInt(r,10)+o||parseInt(i,10)<parseInt(n,10)||parseInt(i,10)>parseInt(n,10)+a)&&l.close()}}),this.addHandler(l._tooltipHelper,"mouseleave.tooltip",function(e){l._checkBoundariesAuto(e),0!==l._clickFlag&&0!==l._autoFlag?l._leaveFlag=0:(l._leaveFlag=1,l.autoHide&&l.close())}));break;case"click":this.addHandler(e,"click.tooltip",function(e){"mouseenter"===l.position&&(l.position="mouse"),l._raiseEvent("2"),l._setPosition(e),l._animateShow()})}else"none"!==this.trigger&&this.addHandler(e,"touchstart.tooltip",function(e){"mouseenter"===l.position&&(l.position="mouse"),l._raiseEvent("2"),l._setPosition(e),l._animateShow()})}},_autoHide:function(){var e=this,t=parseFloat(e._tooltip.style.opacity);!0===this.autoHide&&!0===this._isOpen&&t>=this.opacity&&(e._raiseEvent("3"),e._tooltipHelper.animate({opacity:0},e.animationHideDelay,function(){e._tooltip.style.visibility="hidden",e._tooltip.style.display="none",e._raiseEvent("1"),e._isOpen=!1}))},_clickHide:function(){var t=this;this.addHandler(t._tooltipHelper,"click.tooltip",function(e){t._checkBoundariesClick(e),t.close()})},_setSize:function(){this._tooltip.style.width=this._toPx(this.width),this._tooltip.style.height=this._toPx(this.height)},resize:function(){this._setSize()},_setTheme:function(){var e=this;-1===e._tooltip.className.indexOf("jqx-tooltip")&&(e._tooltip.className+=" "+e.toThemeProperty("jqx-tooltip jqx-popup"),e._main.className+=" "+e.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-main"),e._text.className+=" "+e.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-text"),e._arrow&&(e._arrow.className+=" "+e.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-arrow")))},_initialPosition:function(){var e=this.position;this.position="default",this._setPosition(),this.position=e},_detectBrowserBounds:function(){var e=this._tooltipHelper;this.enableBrowserBoundsDetection?this.tooltipOffset.top<this.documentTop&&this.tooltipOffset.left<0?e.offset({top:this.documentTop,left:this.documentLeft}):this.tooltipOffset.top<this.documentTop&&this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?e.offset({top:this.documentTop,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):this.tooltipOffset.top<this.documentTop?e.offset({top:this.documentTop,left:this.tooltipOffset.left}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop&&this.tooltipOffset.left<0?e.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.documentLeft}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop&&this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?e.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop?e.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.tooltipOffset.left}):this.tooltipOffset.left<0?e.offset({top:this.tooltipOffset.top,left:this.documentLeft}):this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?e.offset({top:this.tooltipOffset.top,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):e.offset({top:this.tooltipOffset.top,left:this.tooltipOffset.left}):e.offset({top:this.tooltipOffset.top,left:this.tooltipOffset.left})},_checkBoundaries:function(e){return e.pageX>=this.hostOffset.left&&e.pageX<=this.hostOffset.left+this.hostWidth&&e.pageY>=this.hostOffset.top&&e.pageY<=this.hostOffset.top+this.hostHeight},_checkBoundariesClick:function(e){this._checkBoundaries(e)?this._clickFlag=1:this._clickFlag=0},_checkBoundariesAuto:function(e){this._checkBoundaries(e)?this._autoFlag=1:this._autoFlag=0},_removeHandlers:function(){this.removeHandler(this.host,"mouseenter.tooltip"),this.removeHandler(this.host,"mousemove.tooltip"),this.removeHandler(this.host,"mouseleave.tooltip"),this.removeHandler(this.host,"click.tooltip"),this.removeHandler(this.host,"touchstart.tooltip"),this.removeHandler(this._tooltipHelper,"click.tooltip"),this.removeHandler(this._tooltipHelper,"mouseleave.tooltip")},_closeAll:function(){for(var e=0;e<this.IDArray.length;e++){var t=this.IDArray[e].tooltipID,i=document.getElementById(t);i!==this._tooltip&&(i.style.opacity=0,i.style.visibility="hidden",i.style.display="none",this._isOpen=!1)}},_toPx:function(e){return"number"==typeof e?e+"px":e},_removeClass:function(e,t){f(e).removeClass(t)}})}(jqxBaseFramework),function(I){I.jqx.jqxWidget("jqxTree","",{}),I.extend(I.jqx._jqxTree.prototype,{defineInstance:function(){var e={items:new Array,width:null,height:null,easing:"easeInOutCirc",animationShowDuration:"fast",animationHideDuration:"fast",treeElements:new Array,disabled:!1,itemsMember:"",displayMember:"",valueMember:"",enableHover:!0,keyboardNavigation:!0,enableKeyboardNavigation:!0,toggleMode:"dblclick",source:null,checkboxes:!1,checkSize:13,toggleIndicatorSize:16,hasThreeStates:!1,selectedItem:null,touchMode:"auto",allowDrag:!0,allowDrop:!0,searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,animationHideDelay:0,submitCheckedItems:!1,dragStart:null,dragEnd:null,rtl:!1,dropAction:"default",events:["expand","collapse","select","initialized","added","removed","checkChange","dragEnd","dragStart","itemClick"],aria:{"aria-activedescendant":{name:"getActiveDescendant",type:"string"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===I.jqx._jqxTree.prototype||I.extend(!0,this,e),e},createInstance:function(e){var r=this;(this.host.attr("role","tree"),this.host.attr("data-role","treeview"),this.enableKeyboardNavigation=this.keyboardNavigation,this.propertyChangeMap.disabled=function(e,t,i,s){r.disabled?r.host.addClass(r.toThemeProperty("jqx-tree-disabled")):r.host.removeClass(r.toThemeProperty("jqx-tree-disabled")),I.jqx.aria(r,"aria-disabled",s)},null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.height(this.height),this.host.attr("tabindex")||this.host.attr("tabIndex",1),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-tree-disabled")),I.jqx.aria(this,"aria-disabled",!0)),this.host.jqxDragDrop&&jqxTreeDragDrop(),this.originalInnerHTML=this.element.innerHTML,this.createdTree=!1,this.element.innerHTML.indexOf("UL"))&&(0<(t=this.host.find("ul:first")).length&&(this.createTree(t[0]),this.createdTree=!0));if(null!=this.source){var t,i=this.loadItems(this.source);this.element.innerHTML=i,0<(t=this.host.find("ul:first")).length&&(this.createTree(t[0]),this.createdTree=!0)}(this._itemslength=this.items.length,this.createdTree)||0==this.host.find("ul").length&&(this.host.append(I("<ul></ul>")),0<(t=this.host.find("ul:first")).length&&(this.createTree(t[0]),this.createdTree=!0),this.createdTree=!0);1==this.createdTree&&(this._render(),this._handleKeys()),this._updateCheckLayout()},checkItems:function(e,t){var i=this;if(null!=e){var s,r=0;if(s=(o=I(e.element).find("li")).length,I.each(o,function(e){var t=i.itemMapping["id"+this.id].item;0!=t.checked&&(null==t.checked&&!0,r++)}),e!=t)r==s?this.checkItem(e.element,!0,"tree"):0<r?this.checkItem(e.element,null,"tree"):this.checkItem(e.element,!1,"tree");else{var n=t.checked,o=I(t.element).find("li");I.each(o,function(){i.itemMapping["id"+this.id].item;i.checkItem(this,n,"tree")})}this.checkItems(this._parentItem(e),t)}else{n=t.checked,o=I(t.element).find("li");I.each(o,function(){i.itemMapping["id"+this.id].item;i.checkItem(this,n,"tree")})}},_getMatches:function(i,e){if(null==i||0==i.length)return-1;for(var t=this.items,s=new Array,r=0;r<t.length;r++)this._isVisible(t[r])&&!t[r].disabled&&s.push(t[r]);t=s,null!=e&&(t=t.slice(e));var n=new Array;return I.each(t,function(e){var t=this.label;t||(t=""),I.jqx.string.startsWithIgnoreCase(t.toString(),i)&&n.push({id:this.id,element:this.element})}),n},_handleKeys:function(){var f=this;this.addHandler(this.host,"keydown",function(e){var t=e.keyCode;if((f.keyboardNavigation||f.enableKeyboardNavigation)&&null!=f.selectedItem){var i=f.selectedItem.element;if(f.incrementalSearch&&!(33<=t&&t<=40)){f._searchString||(f._searchString=""),(8==t||46==t)&&1<=f._searchString.length&&(f._searchString=f._searchString.substr(0,f._searchString.length-1));var s=String.fromCharCode(t),r=!isNaN(parseInt(s));if(65<=t&&t<=97||r||8==t||32==t||46==t){if(e.shiftKey||(s=s.toLocaleLowerCase()),8!=t&&32!=t&&46!=t&&(0<f._searchString.length&&f._searchString.substr(0,1)==s||(f._searchString+=s)),32==t&&(f._searchString+=" "),f._searchTime=new Date,d=f.selectedItem){for(var n=d.id,o=-1,a=0;a<f.items.length;a++)if(f.items[a].id==n){o=a+1;break}if(0==(l=f._getMatches(f._searchString,o)).length||0<l.length&&l[0].id==n)var l=f._getMatches(f._searchString)}else l=f._getMatches(f._searchString);if(0<l.length){var d=f.selectedItem;f.selectedItem&&f.selectedItem.id!=l[0].id&&(f.clearSelection(),f.selectItem(l[0].element,"keyboard")),f._lastSearchString=f._searchString}}null!=f._searchTimer&&clearTimeout(f._searchTimer),27!=t&&13!=t||(f._searchString="",f._lastSearchString=""),f._searchTimer=setTimeout(function(){f._searchString="",f._lastSearchString=""},500)}switch(t){case 32:if(f.checkboxes){f.fromKey=!0;var h=I(f.selectedItem.checkBoxElement).jqxCheckBox("checked");return f.checkItem(f.selectedItem.element,!h,"tree"),f.hasThreeStates&&f.checkItems(f.selectedItem,f.selectedItem),!1}return!0;case 33:var c=f._getItemsOnPage(),u=f.selectedItem;for(a=0;a<c;a++)u=f._prevVisibleItem(u);return null!=u?(f.selectItem(u.element,"keyboard"),f.ensureVisible(u.element)):(f.selectItem(f._firstItem().element,"keyboard"),f.ensureVisible(f._firstItem().element)),!1;case 34:c=f._getItemsOnPage();var p=f.selectedItem;for(a=0;a<c;a++)p=f._nextVisibleItem(p);return null!=p?(f.selectItem(p.element,"keyboard"),f.ensureVisible(p.element)):(f.selectItem(f._lastItem().element,"keyboard"),f.ensureVisible(f._lastItem().element)),!1;case 37:case 39:if(37==t&&!f.rtl||39==t&&f.rtl)if(f.selectedItem.hasItems&&f.selectedItem.isExpanded)f.collapseItem(i);else{var m=f._parentItem(f.selectedItem);null!=m&&(f.selectItem(m.element,"keyboard"),f.ensureVisible(m.element))}if(39==t&&!f.rtl||37==t&&f.rtl)if(f.selectedItem.hasItems)if(f.selectedItem.isExpanded)null!=(p=f._nextVisibleItem(f.selectedItem))&&(f.selectItem(p.element,"keyboard"),f.ensureVisible(p.element));else f.expandItem(i);return!1;case 13:return f.selectedItem.hasItems&&(f.selectedItem.isExpanded?f.collapseItem(i):f.expandItem(i)),!1;case 36:return f.selectItem(f._firstItem().element,"keyboard"),f.ensureVisible(f._firstItem().element),!1;case 35:return f.selectItem(f._lastItem().element,"keyboard"),f.ensureVisible(f._lastItem().element),!1;case 38:return null!=(u=f._prevVisibleItem(f.selectedItem))&&(f.selectItem(u.element,"keyboard"),f.ensureVisible(u.element)),!1;case 40:return null!=(p=f._nextVisibleItem(f.selectedItem))&&(f.selectItem(p.element,"keyboard"),f.ensureVisible(p.element)),!1}}})},_firstItem:function(){var e=null,t=this.host.find("ul:first"),s=I(t).find("li");for(i=0;i<=s.length-1;i++){var r=s[i];if(e=this.itemMapping["id"+r.id].item,this._isVisible(e))return e}return null},_lastItem:function(){var e=null,t=this.host.find("ul:first"),s=I(t).find("li");for(i=s.length-1;0<=i;i--){var r=s[i];if(e=this.itemMapping["id"+r.id].item,this._isVisible(e))return e}return null},_parentItem:function(e){if(null==e||null==e)return null;var t=e.parentElement;if(!t)return null;var i=null;return I.each(this.items,function(){if(this.element==t)return i=this,!1}),i},_nextVisibleItem:function(e){if(null==e||null==e)return null;for(var t=e;null!=t;)if(t=t.nextItem,this._isVisible(t)&&!t.disabled)return t;return null},_prevVisibleItem:function(e){if(null==e||null==e)return null;for(var t=e;null!=t;)if(t=t.prevItem,this._isVisible(t)&&!t.disabled)return t;return null},_isVisible:function(e){if(null==e||null==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isExpanded)return!1;for(;null!=t;){if(null!=(t=this._parentItem(t))&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isExpanded)return!1}}return!0},_getItemsOnPage:function(){var e=0,t=(this.panel.jqxPanel("getVScrollPosition"),parseInt(this.host.height())),i=0,s=this._firstItem();if(0<parseInt(I(s.element).height()))for(;i<=t;)i+=parseInt(I(s.element).outerHeight()),e++;return e},_isElementVisible:function(e){return null!=e&&("none"!=I(e).css("display")&&"hidden"!=I(e).css("visibility"))},refresh:function(e){if(null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height),this.panel){if(null!=this.width&&-1!=this.width.toString().indexOf("%")){var t=this;this.panel.jqxPanel("width","100%"),t.removeHandler(I(window),"resize.jqxtree"+t.element.id),t.addHandler(I(window),"resize.jqxtree"+t.element.id,function(){t._calculateWidth()})}else this.panel.jqxPanel("width",this.host.width());this.panel.jqxPanel("_arrange")}if(this._calculateWidth(),I.jqx.isHidden(this.host)){t=this;this._hiddenTimer&&clearInterval(this._hiddenTimer),this._hiddenTimer=setInterval(function(){I.jqx.isHidden(t.host)||(clearInterval(t._hiddenTimer),t._calculateWidth())},100)}1!=e&&this.checkboxes&&this._updateCheckLayout(null)},resize:function(e,t){this.width=e,this.height=t,this.refresh()},loadItems:function(e){if(null!=e){var t=this;this.items=new Array;var i="<ul>";return I.map(e,function(e){if(null==e)return null;i+=t._parseItem(e)}),i+="</ul>"}},_parseItem:function(e){var t="";if(null==e)return null;var i=e.label,s=e.value;!e.label&&e.html&&(i=e.html),null!=this.displayMember&&""!=this.displayMember&&(i=e[this.displayMember]),null!=this.valueMember&&""!=this.valueMember&&(s=e[this.valueMember]),i||(i="Item"),"string"==typeof e&&(i=e);var r=!1;null!=e.expanded&&e.expanded&&(r=!0);var n=!1;null!=e.locked&&e.locked&&(n=!0);var o=!1;null!=e.selected&&e.selected&&(o=!0);var a=!1;null!=e.disabled&&e.disabled&&(a=!0);var l=!1;null!=e.checked&&e.checked&&(l=!0);var d=e.icon;t+="<li",r&&(t+=' item-expanded="true" '),n&&(t+=' item-locked="true" '),a&&(t+=' item-disabled="true" '),o&&(t+=' item-selected="true" '),e.iconsize&&(t+=' item-iconsize="'+e.iconsize+'" '),null!=d&&null!=d&&(t+=' item-icon="'+d+'" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=s&&(t+=' item-value="'+s+'" '),null!=e.checked&&(t+=' item-checked="'+l+'" ');var h="";return null!=e.id?t+=' id="'+(h=e.id)+'" ':t+=' id="'+(h=this.createID())+'" ',t+=">"+i,e.items?t+=this.loadItems(e.items):null!=this.itemsMember&&""!=this.itemsMember&&e[this.itemsMember]&&(t+=this.loadItems(e[this.itemsMember])),this._valueList||(this._valueList=new Array),this._valueList[h]=e.value,t+="</li>"},ensureVisible:function(e){if(null!=e&&null!=e&&this.panel){var t=this.panel.jqxPanel("getVScrollPosition"),i=this.panel.jqxPanel("getHScrollPosition"),s=parseInt(this.host.height()),r=I(e).position().top;if(0===t&&0===r)return;(r<=t||s+t<=r)&&this.panel.jqxPanel("scrollTo",i,r-s+I(e).outerHeight())}},_syncItems:function(e){this._visibleItems=new Array;var s=this;I.each(e,function(){var e=I(this);if("none"!=e.css("display")){var t=e.outerHeight();if(0<e.height()){var i=parseInt(e.offset().top);s._visibleItems[s._visibleItems.length]={element:this,top:i,height:t,bottom:i+t}}}})},hitTest:function(i,s){var r=this,n=null,e=this.host.find(".jqx-item");if(this._syncItems(e),r._visibleItems){var o=parseInt(r.host.offset().left),a=r.host.outerWidth();I.each(r._visibleItems,function(e){if(o<=i&&i<o+a&&this.top+5<s&&s<this.top+this.height){var t=I(this.element).parents("li:first");if(0<t.length&&null!=(n=r.getItem(t[0])))return n.height=this.height,n.top=this.top,!1}})}return n},addBefore:function(e,t,i){return this.addBeforeAfter(e,t,!0,i)},addAfter:function(e,t,i){return this.addBeforeAfter(e,t,!1,i)},addBeforeAfter:function(e,t,i,s){var r=new Array;t&&null!=t.treeInstance&&(t=t.element),I.isArray(e)?r=e:r[0]=e;var n="",o=this;I.each(r,function(){n+=o._parseItem(this)});var a=I(n);if(this.element.innerHTML.indexOf("UL"))var l=this.host.find("ul:first");null==t&&null==t?l.append(a):i?I(t).before(a):I(t).after(a);for(var d=a,h=0;h<d.length;h++){this._createItem(d[h]);var c=I(d[h]).find("li");if(0<c.length)for(var u=0;u<c.length;u++)this._createItem(c[u])}var p=function(e){o._refreshMapping(!1),o._updateItemsNavigation(),e&&o.allowDrag&&o._enableDragDrop&&o._enableDragDrop(),null!=o.selectedItem&&(I(o.selectedItem.titleElement).addClass(o.toThemeProperty("jqx-fill-state-pressed")),I(o.selectedItem.titleElement).addClass(o.toThemeProperty("jqx-tree-item-selected")))};if(0==s)return p(!0),void this._raiseEvent("4",{items:this.getItems()});p(!1),o._render(),this._raiseEvent("4",{items:this.getItems()}),o.checkboxes&&o._updateCheckLayout(null)},addTo:function(e,t,i){var s=new Array;t&&null!=t.treeInstance&&(t=t.element),I.isArray(e)?s=e:s[0]=e;var r="",n=this;I.each(s,function(){r+=n._parseItem(this)});var o=I(r);if(this.element.innerHTML.indexOf("UL"))var a=this.host.find("ul:first");if(null==t&&null==t)a.append(o);else{var l=(t=I(t)).find("ul:first");if(0==l.length){ulElement=I("<ul></ul>"),I(t).append(ulElement),l=t.find("ul:first");var d=this.itemMapping["id"+t[0].id].item;d.subtreeElement=l[0],d.hasItems=!0,l.addClass(this.toThemeProperty("jqx-tree-dropdown")),n.rtl&&l.addClass(this.toThemeProperty("jqx-tree-dropdown-rtl")),l.append(o);var h=l.find("li:first");d.parentElement=h}else l.append(o)}for(var c=o,u=0;u<c.length;u++){this._createItem(c[u]);var p=I(c[u]).find("li");if(0<p.length)for(var m=0;m<p.length;m++)this._createItem(p[m])}var f=function(e){n._refreshMapping(!1),n._updateItemsNavigation(),e&&n.allowDrag&&n._enableDragDrop&&n._enableDragDrop(),null!=n.selectedItem&&(I(n.selectedItem.titleElement).addClass(n.toThemeProperty("jqx-fill-state-pressed")),I(n.selectedItem.titleElement).addClass(n.toThemeProperty("jqx-tree-item-selected")))};if(0==i)return f(!0),void this._raiseEvent("4",{items:this.getItems()});f(!1),n._render(),n.checkboxes&&n._updateCheckLayout(null),this._raiseEvent("4",{items:this.getItems()})},updateItem:function(e,t){if(!(s=null!=e.treeInstance?e:this.getItem(e))){var i=e;e=t,t=i;var s=null!=e.treeInstance?e:this.getItem(e)}if(s){if("string"==typeof t&&(t={label:t}),t.value&&(s.value=t.value),t.label)if(s.label=t.label,I.jqx.utilities.html(I(s.titleElement),t.label),I.jqx.browser.msie&&I.jqx.browser.version<8){I(document.body).append(this._measureItem),this._measureItem.html(I(s.titleElement).text());var r=this._measureItem.width();s.icon&&(r+=20),0<I(I(s.titleElement).find("img")).length&&(r+=20),I(s.titleElement).css("max-width",r+"px"),this._measureItem.remove()}if(t.icon)if(0<I(s.element).children(".itemicon").length)I(s.element).find(".itemicon")[0].src=t.icon;else{var n=t.iconsize;n||(n=16);var o=I('<img width="'+n+'" height="'+n+'" style="float: left;" class="itemicon" src="'+t.icon+'"/>');I(s.titleElement).prepend(o),o.css("margin-right","4px"),this.rtl&&(o.css("margin-right","0px"),o.css("margin-left","4px"),o.css("float","right"))}return t.expanded&&this.expandItem(s),t.disabled&&this.disableItem(s),t.selected&&this.selectItem(s),!0}return!1},removeItem:function(e,t){if(null!=e&&null!=e){null!=e.treeInstance&&(e=e.element);var i=this,s=(e.id,this.getItem(e));s&&-1!=this.items.indexOf(s)&&function e(t){var i;-1!=(i=this.items.indexOf(t))&&this.items.splice(i,1);var s=I(t.element).find("li"),r=s.length,n=this,o=new Array;if(0<r){I.each(s,function(e){var t=n.itemMapping["id"+this.id].item;o.push(t)});for(var a=0;a<o.length;a++)e.apply(this,[o[a]])}}.apply(this,[s]),0<this.host.find("#"+e.id).length&&I(e).remove(),0!=t?(i._updateItemsNavigation(),i.allowDrag&&i._enableDragDrop?i._render(!0,!1):i._render(),null!=i.selectedItem&&i.selectedItem.element==e&&(I(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-fill-state-pressed")),I(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-tree-item-selected")),i.selectedItem=null),this._raiseEvent("5"),i.checkboxes&&i._updateCheckLayout(null)):this._raiseEvent("5")}},clear:function(){this.items=new Array,this.itemMapping=new Array;var e=this.host.find("ul:first");0<e.length&&(e[0].innerHTML=""),this.selectedItem=null},disableItem:function(e){if(null==e)return!1;null!=e.treeInstance&&(e=e.element);var t=this;I.each(t.items,function(){if(this.element==e)return this.disabled=!0,I(this.titleElement).addClass(t.toThemeProperty("jqx-fill-state-disabled")),I(this.titleElement).addClass(t.toThemeProperty("jqx-tree-item-disabled")),t.checkboxes&&this.checkBoxElement&&I(this.checkBoxElement).jqxCheckBox({disabled:!0}),!1})},_updateInputSelection:function(){if(this.input){if(null==this.selectedItem)this.input.val("");else{var e=this.selectItem.value;null==e&&(e=this.selectedItem.label),this.input.val(e)}if(this.checkboxes){var t=this.getCheckedItems();if(this.submitCheckedItems){for(var i="",s=0;s<t.length;s++){var r=t[s].value;null==r&&(r=t[s].label),s==t.length-1?i+=r:i+=r+","}this.input.val(i)}}}},getCheckedItems:function(){var e=new Array;return I.each(this.items,function(){this.checked&&e.push(this)}),e},getUncheckedItems:function(){var e=new Array;return I.each(this.items,function(){this.checked||e.push(this)}),e},checkAll:function(){I.each(this.items,function(){this.disabled||(this.checked=!0,I(this.checkBoxElement).jqxCheckBox("_setState",!0))}),this._raiseEvent("6",{element:this,checked:!0})},uncheckAll:function(){I.each(this.items,function(){this.disabled||(this.checked=!1,I(this.checkBoxElement).jqxCheckBox("_setState",!1))}),this._raiseEvent("6",{element:this,checked:!1})},checkItem:function(e,t,i){if(null==e)return!1;void 0===t&&(t=!0),null!=e.treeInstance&&(e=e.element);var s=!1,r=null;I.each(this.items,function(){if(this.element==e&&!this.disabled)return s=!0,this.checked=t,I((r=this).checkBoxElement).jqxCheckBox({checked:t}),!1}),s&&(this._raiseEvent("6",{element:e,checked:t}),this._updateInputSelection()),null==i&&r&&this.hasThreeStates&&this.checkItems(r,r)},uncheckItem:function(e){this.checkItem(e,!1)},enableItem:function(e){if(null==e)return!1;null!=e.treeInstance&&(e=e.element);var t=this;I.each(t.items,function(){if(this.element==e)return this.disabled=!1,I(this.titleElement).removeClass(t.toThemeProperty("jqx-fill-state-disabled")),I(this.titleElement).removeClass(t.toThemeProperty("jqx-tree-item-disabled")),t.checkboxes&&this.checkBoxElement&&I(this.checkBoxElement).jqxCheckBox({disabled:!1}),!1})},enableAll:function(){var e=this;I.each(e.items,function(){this.disabled=!1,I(this.titleElement).removeClass(e.toThemeProperty("jqx-tree-item-disabled")),I(this.titleElement).removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e.checkboxes&&this.checkBoxElement&&I(this.checkBoxElement).jqxCheckBox({disabled:!1})})},lockItem:function(e){if(null==e)return!1;I.each(this.items,function(){if(this.element==e)return!(this.locked=!0)})},unlockItem:function(e){if(null==e)return!1;I.each(this.items,function(){if(this.element==e)return this.locked=!1})},getItems:function(){return this.items},getItem:function(e){return null==e||null==e?null:this.itemMapping["id"+e.id]?this.itemMapping["id"+e.id].item:null},isExpanded:function(e){if(null==e||null==e)return!1;var t=this.itemMapping["id"+e.id].item;return null!=t&&t.isExpanded},isSelected:function(e){if(null==e||null==e)return!1;var t=this.itemMapping["id"+e.id].item;return null!=t&&t==this.selectedItem},getPrevItem:function(e){var t=this.getItem(e);return null!=e.treeInstance&&(t=e),this._prevVisibleItem(t)},getNextItem:function(e){var t=this.getItem(e);return null!=e.treeInstance&&(t=e),this._nextVisibleItem(t)},getSelectedItem:function(e){return this.selectedItem},val:function(e){if(0==arguments.length||"object"==typeof e)return this.selectedItem;if("string"==typeof e){var t=this.host.find("#"+e);if(0<t.length){var i=this.getItem(t[0]);this.selectItem(i)}}else{i=this.getItem(e);this.selectItem(i)}},getActiveDescendant:function(){return this.selectedItem?this.selectedItem.element.id:""},clearSelection:function(){this.selectItem(null)},selectItem:function(e,t){if(!this.disabled){var i=this;if(e&&null!=e.treeInstance&&(e=e.element),null!=e&&null!=e){if(null==this.selectedItem||this.selectedItem.element!=e){var s=null!=this.selectedItem?this.selectedItem.element:null;s&&I(s).removeAttr("aria-selected"),I.each(i.items,function(){this.selected=!1,this.disabled||this.element==e&&(null==i.selectedItem||null!=i.selectedItem&&i.selectedItem.titleElement!=this.titleElement)&&(null!=i.selectedItem&&(I(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-fill-state-pressed")),I(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-tree-item-selected"))),I(this.titleElement).addClass(i.toThemeProperty("jqx-fill-state-pressed")),I(this.titleElement).addClass(i.toThemeProperty("jqx-tree-item-selected")),(i.selectedItem=this).selected=!0,I(this.element).attr("aria-selected","true"),I.jqx.aria(i,"aria-activedescendant",this.element.id))}),this._updateInputSelection(),t||(t=null),this._raiseEvent("2",{element:e,prevElement:s,type:t})}}else null!=i.selectedItem&&(I(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-fill-state-pressed")),I(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-tree-item-selected")),i.selectedItem=null)}},collapseAll:function(){this.isUpdating=!0;var e=this,t=e.items,i=this.animationHideDuration;this.animationHideDuration=0,I.each(t,function(){1==this.isExpanded&&e._collapseItem(e,this)}),setTimeout(function(){e.isUpdating=!1,e._calculateWidth()},this.animationHideDuration),this.animationHideDuration=i},expandAll:function(){var e=this;this.isUpdating=!0;var t=this.animationShowDuration;this.animationShowDuration=0,I.each(this.items,function(){this.hasItems&&e._expandItem(e,this)}),setTimeout(function(){e.isUpdating=!1,e._calculateWidth()},this.animationShowDuration),this.animationShowDuration=t},collapseItem:function(e){if(null==e)return!1;null!=e.treeInstance&&(e=e.element);var t=this;return I.each(this.items,function(){if(1==this.isExpanded&&this.element==e)return t._collapseItem(t,this),!1}),!0},expandItem:function(e){if(null==e)return!1;null!=e.treeInstance&&(e=e.element);var t=this;return I.each(t.items,function(){0!=this.isExpanded||this.element!=e||this.disabled||this.locked||(t._expandItem(t,this),this.parentElement&&t.expandItem(this.parentElement))}),!0},_getClosedSubtreeOffset:function(e){var t=I(e.subtreeElement),i=-t.outerHeight();t.outerWidth();return{left:0,top:i}},_collapseItem:function(i,s,e,t){if(null==i||null==s)return!1;if(s.disabled)return!1;if(i.disabled)return!1;if(i.locked)return!1;var r=I(s.subtreeElement),n=this._getClosedSubtreeOffset(s);n.top,n.left;$treeElement=I(s.element);i.animationHideDelay;null!=r.data("timer").show&&(clearTimeout(r.data("timer").show),r.data("timer").show=null);var o=function(){if(s.isExpanded=!1,i.checkboxes){var e=r.find(".chkbox");e.stop(),e.css("opacity",1),r.find(".chkbox").animate({opacity:0},50)}var t=I(s.arrow);i._arrowStyle(t,"",s.isExpanded),r.slideUp(i.animationHideDuration,function(){s.isCollapsing=!1,i._calculateWidth();var e=I(s.arrow);i._arrowStyle(e,"",s.isExpanded),r.hide(),i._raiseEvent("1",{element:s.element})})};o()},_expandItem:function(t,i){if(null==t||null==i)return!1;if(i.isExpanded)return!1;if(i.locked)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var e=I(i.subtreeElement);null!=e.data("timer")&&null!=e.data("timer").hide&&clearTimeout(e.data("timer").hide);I(i.element);if(0!=parseInt(e.css("top"))){var s=I(i.arrow);if(t._arrowStyle(s,"",i.isExpanded),t.checkboxes){var r=e.find(".chkbox");r.stop(),r.css("opacity",0),r.animate({opacity:1},t.animationShowDuration)}if(e.slideDown(t.animationShowDuration,t.easing,function(){var e=I(i.arrow);i.isExpanded=!0,t._arrowStyle(e,"",i.isExpanded),i.isExpanding=!1,t._raiseEvent("0",{element:i.element}),t._calculateWidth()}),t.checkboxes&&(t._updateCheckItemLayout(i),i.subtreeElement)){var n=I(i.subtreeElement).find("li");I.each(n,function(){var e=t.getItem(this);null!=e&&t._updateCheckItemLayout(e)})}}else i.isExpanded=!0},_calculateWidth:function(){var s=this.checkboxes?20:0,r=0;if(!this.isUpdating){if(I.each(this.items,function(){if(0!=I(this.element).height()){var e=I(this.titleElement).outerWidth()+10+s+20*(1+this.level);if(r=Math.max(r,e),this.hasItems){var t=parseInt(I(this.titleElement).css("padding-top"));isNaN(t)&&(t=0),t*=2;var i=((t+=2)+I(this.titleElement).height())/2-8.5;I.jqx.browser.msie&&I.jqx.browser.version<9?I(this.arrow).css("margin-top","3px"):0<=parseInt(i)&&I(this.arrow).css("margin-top",parseInt(i)+"px")}}}),16<this.toggleIndicatorSize&&(r=r+this.toggleIndicatorSize-16),this.panel)if(r>this.host.width()){var e=r-this.host.width();e+="hidden"!==this.panel.jqxPanel("vScrollBar").css("visibility")?10:0,this.panel.jqxPanel({horizontalScrollBarMax:e})}else this.panel.jqxPanel({horizontalScrollBarMax:0});this.host.find("ul:first").width(r);var t=this.host.width()-30;0<t&&this.host.find("ul:first").css("min-width",t),this.panel&&this.panel.jqxPanel("_arrange")}},_arrowStyle:function(e,t,i){if(0<e.length){e.removeClass();var s="";"hover"==t&&(s="-"+t);var r="jqx-tree-item-arrow"+(n=i?"-expand":"-collapse")+s;if(e.addClass(this.toThemeProperty(r)),!this.rtl){var n=i?"-down":"-right";e.addClass(this.toThemeProperty("jqx-icon-arrow"+n))}if(this.rtl){e.addClass(this.toThemeProperty(r+"-rtl"));n=i?"-down":"-left";e.addClass(this.toThemeProperty("jqx-icon-arrow"+n))}}},_initialize:function(e,t){var a=this;this.host.addClass(a.toThemeProperty("jqx-widget")),this.host.addClass(a.toThemeProperty("jqx-widget-content")),this.host.addClass(a.toThemeProperty("jqx-tree")),this._updateDisabledState();var l=I.jqx.browser.msie&&I.jqx.browser.version<8;I.each(this.items,function(){var e=this;$element=I(e.element);var t=null;if(a.checkboxes&&!e.hasItems&&e.checkBoxElement&&I(e.checkBoxElement).css("margin-left","0px"),l)!e.hasItems&&0<I(e.element).find("ul").length&&I(e.element).find("ul").remove();else{var i;if(!e.hasItems)return a.rtl?e.element.style.marginRight=parseInt(a.toggleIndicatorSize)+"px":e.element.style.marginLeft=parseInt(a.toggleIndicatorSize)+"px",0<(i=I(e.arrow)).length&&(i.remove(),e.arrow=null),!0;a.rtl?e.element.style.marginRight="0px":e.element.style.marginLeft="0px"}0<(i=I(e.arrow)).length&&i.remove(),(t=I('<span style="height: 17px; border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>')).prependTo($element),a.rtl?t.css("float","right"):t.css("float","left"),t.css("clear","both"),t.width(a.toggleIndicatorSize),a._arrowStyle(t,"",e.isExpanded);var s=parseInt(I(this.titleElement).css("padding-top"));isNaN(s)&&(s=0),s*=2;var r=((s+=2)+I(this.titleElement).height())/2-8.5;I.jqx.browser.msie&&I.jqx.browser.version<9?t.css("margin-top","3px"):0<=parseInt(r)&&t.css("margin-top",parseInt(r)+"px"),$element.addClass(a.toThemeProperty("jqx-disableselect")),t.addClass(a.toThemeProperty("jqx-disableselect"));var n="click",o=a.isTouchDevice();o&&(n=I.jqx.mobile.getTouchEventName("touchend")),a.addHandler(t,n,function(){return e.isExpanded?a._collapseItem(a,e):a._expandItem(a,e),!1}),a.addHandler(t,"selectstart",function(){return!1}),a.addHandler(t,"mouseup",function(){if(!o)return!1}),e.hasItems=0<I(e.element).find("li").length,e.arrow=t[0],e.hasItems||t.css("visibility","hidden"),$element.css("float","none")})},_getOffset:function(e){var t=I(window).scrollTop(),i=I(window).scrollLeft(),s=I.jqx.mobile.isSafariMobileBrowser(),r=I(e).offset(),n=r.top,o=r.left;return null!=s&&s?{left:o-i,top:n-t}:I(e).offset()},_renderHover:function(e,t,i){var s=this;if(!i){var r=I(t.titleElement);s.addHandler(r,"mouseenter",function(){t.disabled||!s.enableHover||s.disabled||(r.addClass(s.toThemeProperty("jqx-fill-state-hover")),r.addClass(s.toThemeProperty("jqx-tree-item-hover")))}),s.addHandler(r,"mouseleave",function(){t.disabled||!s.enableHover||s.disabled||(r.removeClass(s.toThemeProperty("jqx-fill-state-hover")),r.removeClass(s.toThemeProperty("jqx-tree-item-hover")))})}},_updateDisabledState:function(){this.disabled?this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},_addInput:function(){if(null==this.input){var e=this.host.attr("name");e&&this.host.attr("name",""),this.input=I("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",e),this._updateInputSelection()}},render:function(){this._updateItemsNavigation(),this._render()},_render:function(e,t){if(I.jqx.browser.msie&&I.jqx.browser.version<8){var i=this;I.each(this.items,function(){var e=I(this.element),t=e.parent(),i=parseInt(this.titleElement.css("margin-left"))+this.titleElement[0].scrollWidth+13;e.css("min-width",i);var s=parseInt(t.css("min-width"));isNaN(s)&&(s=0);var r=e.css("min-width");s<parseInt(e.css("min-width"))&&t.css("min-width",r),this.titleElement[0].style.width=null})}i=this;if(I.data(i.element,"animationHideDelay",i.animationHideDelay),I.data(document.body,"treeel",this),this._initialize(),this.isTouchDevice()&&"dblclick"==this.toggleMode&&(this.toggleMode="click"),null!=e&&1!=e||I.each(this.items,function(){i._updateItemEvents(i,this)}),this.allowDrag&&this._enableDragDrop&&(null==t||1==t)&&this._enableDragDrop(),this._addInput(),this.host.jqxPanel){if(0<this.host.find("#panel"+this.element.id).length)return this.panel.jqxPanel({touchMode:this.touchMode}),void this.panel.jqxPanel("refresh");this.host.find("ul:first").wrap('<div style="background-color: transparent; overflow: hidden; width: 100%; height: 100%;" id="panel'+this.element.id+'"></div>');var s=this.host.find("div:first"),r="fixed";null!=this.height&&"auto"!=this.height||(r="verticalwrap"),null!=this.width&&"auto"!=this.width||(r="fixed"==r?"horizontalwrap":"wrap"),s.jqxPanel({rtl:this.rtl,theme:this.theme,width:"100%",height:"100%",touchMode:this.touchMode,sizeMode:r}),I.jqx.browser.msie&&I.jqx.browser.version<8&&s.jqxPanel("content").css("left","0px"),s.data({nestedWidget:!0}),(null==this.height||null!=this.height&&-1!=this.height.toString().indexOf("%"))&&this.isTouchDevice()&&(this.removeHandler(s,I.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll"),this.removeHandler(s,I.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(s,I.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"));var n=I.data(s[0],"jqxPanel").instance;null!=n&&(this.vScrollInstance=n.vScrollInstance,this.hScrollInstance=n.hScrollInstance),this.panelInstance=n,I.jqx.browser.msie&&I.jqx.browser.version<8&&(this.host.attr("hideFocus",!0),this.host.find("div").attr("hideFocus",!0),this.host.find("ul").attr("hideFocus",!0)),s[0].className="",this.panel=s}this._raiseEvent("3",this)},focus:function(){try{this.host.focus()}catch(e){}},_updateItemEvents:function(t,i){var e=this.isTouchDevice();e&&(this.toggleMode=I.jqx.mobile.getTouchEventName("touchend"));var s=I(i.element);t.enableRoundedCorners&&s.addClass(t.toThemeProperty("jqx-rc-all"));var r=e?I.jqx.mobile.getTouchEventName("touchend"):"mousedown";!0===t.touchMode&&t.removeHandler(I(i.checkBoxElement),"mousedown"),t.removeHandler(I(i.checkBoxElement),r),t.addHandler(I(i.checkBoxElement),r,function(e){return t.disabled||this.treeItem.disabled||(this.treeItem.checked=!this.treeItem.checked,t.checkItem(this.treeItem.element,this.treeItem.checked,"tree"),t.hasThreeStates&&t.checkItems(this.treeItem,this.treeItem)),!1});var n=I(i.titleElement);t.removeHandler(s),this.allowDrag&&this._enableDragDrop?(t.removeHandler(n,"mousedown.item"),t.removeHandler(n,"click"),t.removeHandler(n,"dblclick"),t.removeHandler(n,"mouseenter"),t.removeHandler(n,"mouseleave")):t.removeHandler(n),t._renderHover(s,i,e);var o=I(i.subtreeElement);if(0<o.length){var a=i.isExpanded?"block":"none";o.css({overflow:"hidden",display:a}),o.data("timer",{})}t.addHandler(n,"selectstart",function(e){return!1}),I.jqx.browser.opera&&t.addHandler(n,"mousedown.item",function(e){return!1}),"click"!=t.toggleMode&&t.addHandler(n,"click",function(e){t.selectItem(i.element,"mouse"),null!=t.panel&&t.panel.jqxPanel({focused:!0}),n.focus(),t._raiseEvent("9",{element:i.element})}),t.addHandler(n,t.toggleMode,function(e){if(0<o.length&&clearTimeout(o.data("timer").hide),null!=t.panel&&t.panel.jqxPanel({focused:!0}),t.selectItem(i.element,"mouse"),null==i.isExpanding&&(i.isExpanding=!1),null==i.isCollapsing&&(i.isCollapsing=!1),0<o.length)return i.isExpanded?0==i.isCollapsing&&(i.isCollapsing=!0,t._collapseItem(t,i,!0)):0==i.isExpanding&&(i.isExpanding=!0,t._expandItem(t,i)),!1})},isTouchDevice:function(){if(null!=this._isTouchDevice)return this._isTouchDevice;var e=I.jqx.mobile.isTouchDevice();return 1==this.touchMode?e=!0:0==this.touchMode&&(e=!1),this._isTouchDevice=e},createID:function(){return I.jqx.utilities.createId()},createTree:function(e){if(null!=e){var t=I(e).find("li");this.items=new Array,this.itemMapping=new Array,I(e).addClass(this.toThemeProperty("jqx-tree-dropdown-root")),this.rtl&&I(e).addClass(this.toThemeProperty("jqx-tree-dropdown-root-rtl")),(this.rtl||I.jqx.browser.msie&&I.jqx.browser.version<8)&&(this._measureItem=I("<span style='position: relative; visibility: hidden;'></span>"),this._measureItem.addClass(this.toThemeProperty("jqx-widget")),this._measureItem.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._measureItem.addClass(this.toThemeProperty("jqx-tree-item")),this._measureItem.addClass(this.toThemeProperty("jqx-item")),I(document.body).append(this._measureItem)),I.jqx.browser.msie&&I.jqx.browser.version;for(var i=0;i<t.length;i++)this._createItem(t[i]);(this.rtl||I.jqx.browser.msie&&I.jqx.browser.version<8)&&this._measureItem.remove(),this._updateItemsNavigation(),this._updateCheckStates()}},_updateCheckLayout:function(e){var t=this;this.checkboxes&&I.each(this.items,function(){this.level!=e&&null!=e||t._updateCheckItemLayout(this)})},_updateCheckItemLayout:function(e){if(this.checkboxes&&"none"!=I(e.titleElement).css("display")){var t=I(e.checkBoxElement),i=I(e.titleElement).outerHeight()/2-1-parseInt(this.checkSize)/2;t.css("margin-top",i),this.rtl||(I.jqx.browser.msie&&I.jqx.browser.version<8?e.titleElement.css("margin-left",parseInt(this.checkSize)+25):e.hasItems&&t.css("margin-left",this.toggleIndicatorSize))}},_updateCheckStates:function(){var e=this;e.hasThreeStates?I.each(this.items,function(){e._updateCheckState(this)}):I.each(this.items,function(){null==this.checked&&e.checkItem(this.element,!1,"tree")})},_updateCheckState:function(e){if(null!=e&&null!=e){var t,s=this,i=0,r=I(e.element).find("li");t=r.length,e.checked&&0<t&&I.each(r,function(e){var t=s.itemMapping["id"+this.id].item,i=t.element.getAttribute("item-checked");null!=i&&null!=i&&"true"!=i&&1!=i||s.checkItem(t.element,!0,"tree")}),I.each(r,function(e){var t=s.itemMapping["id"+this.id].item;0!=t.checked&&(null==t.checked&&!0,i++)}),0<t&&(i==t?this.checkItem(e.element,!0,"tree"):0<i?this.checkItem(e.element,null,"tree"):this.checkItem(e.element,!1,"tree"))}},_updateItemsNavigation:function(){for(var e=this.host.find("ul:first"),t=I(e).find("li"),i=0;i<t.length;i++){var s=t[i];if(this.itemMapping["id"+s.id]){var r=this.itemMapping["id"+s.id].item;if(!r)continue;r.prevItem=null,r.nextItem=null,0<i&&this.itemMapping["id"+t[i-1].id]&&(r.prevItem=this.itemMapping["id"+t[i-1].id].item),i<t.length-1&&this.itemMapping["id"+t[i+1].id]&&(r.nextItem=this.itemMapping["id"+t[i+1].id].item)}}},_applyTheme:function(i,s){var r=this;this.host.removeClass("jqx-tree-"+i),this.host.removeClass("jqx-widget-"+i),this.host.removeClass("jqx-widget-content-"+i),this.host.addClass(r.toThemeProperty("jqx-tree")),this.host.addClass(r.toThemeProperty("jqx-widget"));var e=this.host.find("ul:first");I(e).removeClass(r.toThemeProperty("jqx-tree-dropdown-root-"+i)),I(e).addClass(r.toThemeProperty("jqx-tree-dropdown-root")),this.rtl&&(I(e).removeClass(r.toThemeProperty("jqx-tree-dropdown-root-rtl-"+i)),I(e).addClass(r.toThemeProperty("jqx-tree-dropdown-root-rtl")));for(var t=I(e).find("li"),n=0;n<t.length;n++){var o=t[n];I(o).children().each(function(){if("ul"==this.tagName||"UL"==this.tagName)return I(this).removeClass(r.toThemeProperty("jqx-tree-dropdown-"+i)),I(this).addClass(r.toThemeProperty("jqx-tree-dropdown")),r.rtl&&(I(this).removeClass(r.toThemeProperty("jqx-tree-dropdown-rtl-"+i)),I(this).addClass(r.toThemeProperty("jqx-tree-dropdown-rtl"))),!1})}I.each(this.items,function(){var e=I(this.element);e.removeClass(r.toThemeProperty("jqx-tree-item-li-"+i)),e.addClass(r.toThemeProperty("jqx-tree-item-li")),this.rtl&&(e.removeClass(r.toThemeProperty("jqx-tree-item-li-"+i)),e.addClass(r.toThemeProperty("jqx-tree-item-li"))),I(this.titleElement).removeClass(r.toThemeProperty("jqx-tree-item-"+i)),I(this.titleElement).addClass(r.toThemeProperty("jqx-tree-item")),I(this.titleElement).removeClass("jqx-item-"+i),I(this.titleElement).addClass(r.toThemeProperty("jqx-item"));var t=I(this.arrow);0<t.length&&r._arrowStyle(t,"",this.isExpanded),this.checkBoxElement&&I(this.checkBoxElement).jqxCheckBox({theme:s}),r.enableRoundedCorners&&(e.removeClass("jqx-rc-all-"+i),e.addClass(r.toThemeProperty("jqx-rc-all")))}),this.host.jqxPanel&&this.panel.jqxPanel({theme:s})},_refreshMapping:function(e,t){for(var i=this.host.find("li"),s=new Array,r=new Array,n=I.data(document.body,"treeItemsStorage"),o=this,a=0;a<i.length;a++){var l=i[a],d=I(l),h=n[l.id];if(null!=h){r[r.length]=h,null!=e&&1!=e||this._updateItemEvents(this,h),h.level=d.parents("li").length,h.treeInstance=this;var c=null,u=null;-1!=h.titleElement[0].className.indexOf("jqx-fill-state-pressed")&&(I(h.titleElement).removeClass(o.toThemeProperty("jqx-fill-state-pressed")),I(h.titleElement).removeClass(o.toThemeProperty("jqx-tree-item-selected"))),d.children().each(function(){if("ul"==this.tagName||"UL"==this.tagName)return h.subtreeElement=this,I(this).addClass(o.toThemeProperty("jqx-tree-dropdown")),o.rtl&&I(this).addClass(o.toThemeProperty("jqx-tree-dropdown-rtl")),!1}),d.parents().each(function(){if("li"==this.tagName||"LI"==this.tagName)return u=this.id,c=this,!1}),h.parentElement=c,h.parentId=u,h.hasItems=0<I(h.element).find("li").length,null!=h&&(s[a]={element:l,item:h},s["id"+l.id]=s[a])}}this.itemMapping=s,this.items=r},_createItem:function(e){if(null!=e&&null!=e){var t=e.id;t||(t=this.createID());var i=e,s=I(e);i.id=t;var r=I.data(document.body,"treeItemsStorage");null==r&&(r=new Array);var n=this.items.length;this.items[n]=new I.jqx._jqxTree.jqxTreeItem,this.treeElements[t]=this.items[n],r[i.id]=this.items[n],I.data(document.body,"treeItemsStorage",r),n=this.items.length;var o=0,a=this,l=null;s.attr("role","treeitem"),s.children().each(function(){if("ul"==this.tagName||"UL"==this.tagName)return a.items[n-1].subtreeElement=this,I(this).addClass(a.toThemeProperty("jqx-tree-dropdown")),a.rtl&&(I(this).addClass(a.toThemeProperty("jqx-tree-dropdown-rtl")),I(this).css("clear","both")),!1}),s.parents().each(function(){if("li"==this.tagName||"LI"==this.tagName)return o=this.id,l=this,!1});var d=e.getAttribute("item-expanded");d=null!=d&&null!=d&&("true"==d||1==d),i.removeAttribute("item-expanded");var h=e.getAttribute("item-locked");h=null!=h&&null!=h&&("true"==h||1==h),i.removeAttribute("item-locked");var c=e.getAttribute("item-selected");c=null!=c&&null!=c&&("true"==c||1==c),i.removeAttribute("item-selected");var u=e.getAttribute("item-disabled");u=null!=u&&null!=u&&("true"==u||1==u),i.removeAttribute("item-disabled");var p=e.getAttribute("item-checked");p=null!=p&&null!=p&&("true"==p||1==p);var m=e.getAttribute("item-title");(null==m||null==m||"true"!=m&&1!=m)&&(m=!1),i.removeAttribute("item-title");var f=e.getAttribute("item-icon"),g=e.getAttribute("item-iconsize"),v=e.getAttribute("item-label"),x=e.getAttribute("item-value");i.removeAttribute("item-icon"),i.removeAttribute("item-iconsize"),i.removeAttribute("item-label"),i.removeAttribute("item-value");var w=this.items[n-1];w.id=t,null==w.value&&(this._valueList&&this._valueList[t]?w.value=this._valueList[t]:w.value=x),w.icon=f,w.iconsize=g,w.parentId=o,w.disabled=u,w.parentElement=l,w.element=e,w.locked=h,w.selected=c,w.checked=p,w.isExpanded=d,(w.treeInstance=this).itemMapping[n-1]={element:i,item:w},this.itemMapping["id"+i.id]=this.itemMapping[n-1];if(!1,this.rtl&&(I(w.element).css("float","right"),I(w.element).css("clear","both")),0<I(i.firstChild).length){if(w.icon){(g=w.iconsize)||(g=16);f=I('<img width="'+g+'" height="'+g+'" style="float: left;" class="itemicon" src="'+w.icon+'"/>');I(i).prepend(f),f.css("margin-right","4px"),this.rtl&&(f.css("margin-right","0px"),f.css("margin-left","4px"),f.css("float","right"))}var y=i.innerHTML.indexOf("<ul");if(-1==y&&(y=i.innerHTML.indexOf("<UL")),-1==y)w.originalTitle=i.innerHTML,i.innerHTML='<div style="display: inline-block;">'+i.innerHTML+"</div>",w.titleElement=I(I(i)[0].firstChild);else{var b=i.innerHTML.substring(0,y);b=I.trim(b),w.originalTitle=b,b=I('<div style="display: inline-block;">'+b+"</div>");var _=I(i).find("ul:first");_.remove(),i.innerHTML="",I(i).prepend(b),I(i).append(_),w.titleElement=b,this.rtl&&(b.css("float","right"),_.css("padding-right","10px"))}if(I.jqx.browser.msie&&I.jqx.browser.version<8){I(I(i)[0].firstChild).css("display","inline-block");var j=!1;0==this._measureItem.parents().length&&(I(document.body).append(this._measureItem),j=!0),this._measureItem.css("min-width","20px"),this._measureItem[0].innerHTML=I(w.titleElement).text();var q=this._measureItem.width();w.icon&&(q+=20),0<I(I(item.titleElement).find("img")).length&&(q+=20),I(I(i)[0].firstChild).css("max-width",q+"px"),j&&this._measureItem.remove()}}else w.originalTitle="Item",I(i).append(I("<span>Item</span>")),I(i.firstChild).wrap("<span/>"),w.titleElement=I(i)[0].firstChild,I.jqx.browser.msie&&I.jqx.browser.version<8&&I(i.firstChild).css("display","inline-block");var T=I(w.titleElement),C=this.toThemeProperty("jqx-rc-all");if(this.allowDrag&&T.addClass("draggable"),null==v||null==v?(v=w.titleElement,w.label=I.trim(T.text())):w.label=v,I(i).addClass(this.toThemeProperty("jqx-tree-item-li")),this.rtl&&I(i).addClass(this.toThemeProperty("jqx-tree-item-li-rtl")),C+=" "+this.toThemeProperty("jqx-tree-item")+" "+this.toThemeProperty("jqx-item"),this.rtl&&(C+=" "+this.toThemeProperty("jqx-tree-item-rtl")),T[0].className=T[0].className+" "+C,w.level=I(e).parents("li").length,w.hasItems=0<I(e).find("li").length,this.rtl&&w.parentElement&&this.checkboxes,this.checkboxes){if(!this.host.jqxCheckBox)throw new Error("jqxTree: Missing reference to jqxcheckbox.js.");var S=I('<div style="overflow: visible; position: absolute; width: 18px; height: 18px;" tabIndex=0 class="chkbox"/>');if(S.width(parseInt(this.checkSize)),S.height(parseInt(this.checkSize)),I(i).prepend(S),this.rtl&&(S.css("float","right"),S.css("position","static")),S.jqxCheckBox({hasInput:!1,checked:w.checked,boxSize:this.checkSize,animationShowDelay:0,animationHideDelay:0,disabled:u,theme:this.theme}),this.rtl){w.parentElement?S.css("margin-right","10px"):S.css("margin-right","5px")}else T.css("margin-left",parseInt(this.checkSize)+6);w.checkBoxElement=S[0],S[0].treeItem=w;var k=T.outerHeight()/2-1-parseInt(this.checkSize)/2;S.css("margin-top",k),I.jqx.browser.msie&&I.jqx.browser.version<8?(T.css("width","1%"),T.css("margin-left",parseInt(this.checkSize)+25)):w.hasItems&&(this.rtl||S.css("margin-left",this.toggleIndicatorSize))}else I.jqx.browser.msie&&I.jqx.browser.version<8&&T.css("width","1%");u&&this.disableItem(w.element),c&&this.selectItem(w.element),I.jqx.browser.msie&&I.jqx.browser.version<8&&(I(i).css("margin","0px"),I(i).css("padding","0px"))}},destroy:function(){this.removeHandler(I(window),"resize.jqxtree"+this.element.id),this.host.removeClass(),this.isTouchDevice()&&(this.removeHandler(this.panel,I.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll"),this.removeHandler(this.panel,I.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(this.panel,I.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"));var s=this,r=this.isTouchDevice();I.each(this.items,function(){var e=I(this.element),t=r?I.jqx.mobile.getTouchEventName("touchend"):"click";s.removeHandler(I(this.checkBoxElement),t);var i=I(this.titleElement);s.removeHandler(e),s.allowDrag&&s._enableDragDrop?(s.removeHandler(i,"mousedown.item"),s.removeHandler(i,"click"),s.removeHandler(i,"dblclick"),s.removeHandler(i,"mouseenter"),s.removeHandler(i,"mouseleave")):s.removeHandler(i),$arrowSpan=I(this.arrow),0<$arrowSpan.length&&(s.removeHandler($arrowSpan,t),s.removeHandler($arrowSpan,"selectstart"),s.removeHandler($arrowSpan,"mouseup"),r||(s.removeHandler($arrowSpan,"mouseenter"),s.removeHandler($arrowSpan,"mouseleave")),s.removeHandler(i,"selectstart")),I.jqx.browser.opera&&s.removeHandler(i,"mousedown.item"),"click"!=s.toggleMode&&s.removeHandler(i,"click"),s.removeHandler(i,s.toggleMode)}),this.panel&&(this.panel.jqxPanel("destroy"),this.panel=null),this.host.remove()},_raiseEvent:function(e,t){null==t&&(t={owner:null});var i=this.events[e];args=t,args.owner=this;var s=new I.Event(i);return s.owner=this,s.args=args,this.host.trigger(s)},propertyChangedHandler:function(e,t,i,s){if(null!=this.isInitialized&&0!=this.isInitialized){if("submitCheckedItems"==t&&e._updateInputSelection(),"disabled"==t&&e._updateDisabledState(),"theme"==t&&e._applyTheme(i,s),"keyboardNavigation"==t&&(e.enableKeyboardNavigation=s),("width"==t||"height"==t)&&(e.refresh(),e._initialize(),e._calculateWidth(),e.host.jqxPanel)){var r="fixed";null!=this.height&&"auto"!=this.height||(r="verticalwrap"),null!=this.width&&"auto"!=this.width||(r="fixed"==r?"horizontalwrap":"wrap"),e.panel.jqxPanel({sizeMode:r})}if("touchMode"==t&&(e._isTouchDevice=null,s&&(e.enableHover=!1),e._render()),("source"==t||"checkboxes"==t)&&null!=this.source){var n=[];I.each(e.items,function(){this.isExpanded&&(n[n.length]={label:this.label,level:this.level})});var o=e.loadItems(e.source);e.host.jqxPanel?e.panel.jqxPanel("setcontent",o):e.element.innerHTML=o;var a=e.disabled,l=e.host.find("ul:first");0<l.length&&(e.createTree(l[0]),e._render());var d=e,h=d.animationShowDuration;d.animationShowDuration=0,e.disabled=!1,0<n.length&&I.each(e.items,function(){for(var e=0;e<n.length;e++)if(n[e].label==this.label&&n[e].level==this.level){var t=d.getItem(this.element);d._expandItem(d,t)}}),e.disabled=a,d.animationShowDuration=h}"hasThreeStates"==t&&(e._render(),e._updateCheckStates()),"toggleIndicatorSize"==t&&(e._updateCheckLayout(),e._render())}}})}(jqxBaseFramework),jqxBaseFramework.jqx._jqxTree.jqxTreeItem=function(e,t,i){return{label:null,id:e,parentId:t,parentElement:null,parentItem:null,disabled:!1,selected:!1,locked:!1,checked:!1,level:0,isExpanded:!1,hasItems:!1,element:null,subtreeElement:null,checkBoxElement:null,titleElement:null,arrow:null,prevItem:null,nextItem:null}},function(_e){_e.jqx.jqxWidget("jqxTreeGrid","jqxDataTable",{}),_e.extend(_e.jqx._jqxTreeGrid.prototype,{defineInstance:function(){this.base&&((this.base.treeGrid=this).base.exportSettings={recordsInView:!1,columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,fileName:"jqxTreeGrid"});var e={pageSizeMode:"default",checkboxes:!1,hierarchicalCheckboxes:!1,icons:!1,showSubAggregates:!1,rowDetailsRenderer:null,virtualModeCreateRecords:null,virtualModeRecordCreating:null,loadingFailed:!1};return this===_e.jqx._jqxTreeGrid.prototype||_e.extend(!0,this,e),e},createInstance:function(e){this.theme=this.base.theme},deleteRow:function(e){this.base.deleterowbykey(e)},updateRow:function(e,t){this.base.updaterowbykey(e,t)},setCellValue:function(e,t,i){this.base.setCellValueByKey(e,t,i)},getCellValue:function(e,t){return this.base.getCellValueByKey(e,t)},lockRow:function(e){this.base.lockrowbykey(e)},unlockRow:function(e){this.base.unlockrowbykey(e)},selectRow:function(e){this.base.selectrowbykey(e)},unselectRow:function(e){this.base.unselectrowbykey(e)},ensureRowVisible:function(e){this.base.ensurerowvisiblebykey(e)},beginCellEdit:function(e,t){var i=this.base,s=i.getColumn(t);i.beginroweditbykey(e,s)},beginRowEdit:function(e){this.base.beginroweditbykey(e)},endCellEdit:function(e,t,i){this.base.endroweditbykey(e,i)},endRowEdit:function(e,t){this.base.endroweditbykey(e,t)},_showLoadElement:function(){var e=this.base;"block"==e.host.css("display")&&e.autoShowLoadElement&&(_e(e.dataloadelement).css("visibility","visible"),_e(e.dataloadelement).css("display","block"),e.dataloadelement.width(e.host.width()),e.dataloadelement.height(e.host.height()))},_hideLoadElement:function(){var e=this.base;"block"==e.host.css("display")&&e.autoShowLoadElement&&(_e(e.dataloadelement).css("visibility","hidden"),_e(e.dataloadelement).css("display","none"),e.dataloadelement.width(e.host.width()),e.dataloadelement.height(e.host.height()))},getKey:function(e){if(e)return e.uid},getRows:function(){var e=this.base;return e.source.hierarchy&&0!=e.source.hierarchy.length?e.source.hierarchy:e.source.records},getCheckedRows:function(){var n=this.base,o=n._names(),a=new Array,l=function(e,t){if(t)for(var i=0;i<t.length;i++)if(t[i]){var s=_e.extend({},t[i]),r=n.rowinfo[t[i].uid];r&&r[o.checked]?e.push(s):s[o.checked]&&e.push(s),l(a,t[i].records)}};return l(a,n.dataViewRecords),a},getRow:function(s){var e=this.base,t=e.source.records;if(e.source.hierarchy){var r=function(e){for(var t=0;t<e.length;t++)if(e[t]){if(e[t].uid==s)return e[t];if(e[t].records){var i=r(e[t].records);if(i)return i}}};return r(e.source.hierarchy)}for(var i=0;i<t.length;i++)if(t[i]&&t[i].uid==s)return t[i]},_renderrows:function(){var a=this.base,i=this;if(!a._loading&&!a._updating){var l=a._names();if(0===a.source.hierarchy.length&&!a.loadingFailed&&this.virtualModeCreateRecords){a._loading=!0,this.virtualModeCreateRecords(null,function(e){if(!1===e||e&&0==e.length)return a._loading=!1,a.loadingFailed=!0,a.source.hierarchy=new Array,i._hideLoadElement(),a._renderrows(),a._updateScrollbars(),void a._arrange();for(var t=0;t<e.length;t++)e[t].level=0,i.virtualModeRecordCreating(e[t]),a.rowsByKey[e[t].uid]=e[t];a.source.hierarchy=e,a.source._source.hierarchy||(a.source._source.hierarchy={}),a._loading=!1,i._hideLoadElement(),a._renderrows(),a._updateScrollbars(),a._arrange()}),this._showLoadElement()}a.rendering&&a.rendering();var e=0;a.table[0].rows=new Array;var t=a.toTP("jqx-cell")+" "+a.toTP("jqx-widget-content")+" "+a.toTP("jqx-item");a.rtl&&(t+=" "+a.toTP("jqx-cell-rtl"));var s=a.columns.records.length,r=_e.jqx.browser.msie&&_e.jqx.browser.version<8;r&&a.host.attr("hideFocus","true");var n=new Array,d=function(e,t){for(var i=0;i<e.length;i++){var s=e[i];if(s){var r=a.rowinfo[s.uid]?a.rowinfo[s.uid].expanded:s.expanded;if(0==a.dataview.filters.length&&(s._visible=!0),!1!==s._visible)if(r||s[l.leaf]){if(t.push(s),s.records&&0<s.records.length)for(var n=d(s.records,new Array),o=0;o<n.length;o++)t.push(n[o])}else t.push(s)}}return t},o=0===a.source.hierarchy.length?a.source.records:a.source.hierarchy;if(o=a.dataview.evaluate(o),a.dataViewRecords=o,this.showSubAggregates){var h=function(e,t){0!=e&&0<t.length&&(t[t.length-1]?t[t.length-1].aggregate||t.push({_visible:!0,level:e,siblings:t,aggregate:!0,leaf:!0}):_e.jqx.browser.msie&&_e.jqx.browser.version<9&&t[t.length-2]&&(t[t.length-2].aggregate||t.push({_visible:!0,level:e,siblings:t,aggregate:!0,leaf:!0})));for(var i=0;i<t.length;i++)t[i]&&t[i].records&&h(e+1,t[i].records)};h(0,o)}var c=function(e){for(var t=0,i=new Array,s=0;s<e.length;s++){var r=e[s];if(0==r[l.level]&&t++,t>a.dataview.pagesize*a.dataview.pagenum&&t<=a.dataview.pagesize*a.dataview.pagenum+a.dataview.pagesize&&i.push(r),t>a.dataview.pagesize*a.dataview.pagenum+a.dataview.pagesize)break}return i};if(0===a.source.hierarchy.length){if("all"==a.dataview.pagesize||!a.pageable||a.serverProcessing){var u=o;if(a.pageable&&a.serverProcessing&&o.length>a.dataview.pagesize)u=o.slice(a.dataview.pagesize*a.dataview.pagenum,a.dataview.pagesize*a.dataview.pagenum+a.dataview.pagesize)}else u=o.slice(a.dataview.pagesize*a.dataview.pagenum,a.dataview.pagesize*a.dataview.pagenum+a.dataview.pagesize);n=u}else{o=d.call(a,o,new Array);if("all"!=a.dataview.pagesize&&a.pageable){u=o.slice(a.dataview.pagesize*a.dataview.pagenum,a.dataview.pagesize*a.dataview.pagenum+a.dataview.pagesize);"root"==this.pageSizeMode&&(u=c(o))}else var u=o;n=u;var p=a.dataview.pagenum;if(a.updatepagerdetails(),a.dataview.pagenum!=p){if("all"!=a.dataview.pagesize&&a.pageable){u=o.slice(a.dataview.pagesize*a.dataview.pagenum,a.dataview.pagesize*a.dataview.pagenum+a.dataview.pagesize);"root"==this.pageSizeMode&&(u=c(o))}else u=o;n=u}}var m=(a.renderedRecords=n).length,f=a.tableZIndex,g=0,v=0;if(r)for(var x=0;x<s;x++){(A=(T=a.columns.records[x]).width)<T.minwidth&&(A=T.minwidth),A>T.maxwidth&&(A=T.maxwidth);var w=_e('<table><tr><td role="gridcell" style="max-width: '+A+"px; width:"+A+'px;" class="'+t+'"></td></tr></table>');_e(document.body).append(w);var y=w.find("td");g=1+parseInt(y.css("padding-left"))+parseInt(y.css("padding-right")),w.remove();break}var b=a.rtl?" "+a.toTP("jqx-grid-table-rtl"):"",_="<table cellspacing='0' class='"+a.toTP("jqx-grid-table")+b+"' id='table"+a.element.id+"'><colgroup>",j="<table cellspacing='0' class='"+a.toTP("jqx-grid-table")+b+"' id='pinnedtable"+a.element.id+"'><colgroup>",q=null;for(x=0;x<s;x++){var T;if(!(T=a.columns.records[x]).hidden){if((A=(q=T).width)<T.minwidth&&(A=T.minwidth),A>T.maxwidth&&(A=T.maxwidth),(A-=g)<0&&(A=0),r){var C=A;0==x&&C++,j+="<col style='max-width: "+A+"px; width: "+C+"px;'>",_+="<col style='max-width: "+A+"px; width: "+C+"px;'>"}else j+="<col style='max-width: "+A+"px; width: "+A+"px;'>",_+="<col style='max-width: "+A+"px; width: "+A+"px;'>";v+=A}}_+="</colgroup>",j+="</colgroup>";var S=a._hiddencolumns=!1;if(0===m){var k='<tr role="row">',I=a.host.height();if(a.pageable&&(I-=a.pagerHeight,"both"===a.pagerPosition&&(I-=a.pagerHeight)),I-=a.columnsHeight,a.filterable){var D=a.filter.find(".filterrow"),P=1;0<a.filter.find(".filterrow-hidden").length&&(P=0),I-=a.filterHeight+a.filterHeight*D.length*P}a.showstatusbar&&(I-=a.statusBarHeight),a.showAggregates&&(I-=a.aggregatesHeight),I<25&&(I=25),"hidden"!=a.hScrollBar[0].style.visibility&&(I-=a.hScrollBar.outerHeight()),("auto"===a.height||null===a.height||a.autoheight)&&(I=100);var A=a.host.width()+2;w='<td colspan="'+a.columns.records.length+'" role="gridcell" style="border-right-color: transparent; min-height: '+I+"px; height: "+I+"px;  min-width:"+v+"px; max-width:"+v+"px; width:"+v+"px;",t=a.toTP("jqx-cell")+" "+a.toTP("jqx-grid-cell")+" "+a.toTP("jqx-item");w+='" class="'+(t+=" "+a.toTP("jqx-center-align"))+'">',a._loading||(w+=a.gridlocalization.emptydatastring),_+=k+=w+="</td>",j+=k,a.table[0].style.width=v+2+"px",e=v}for(var M=a.source._source.hierarchy&&a.source._source.hierarchy.groupingDataFields?a.source._source.hierarchy.groupingDataFields.length:0,B=0;B<n.length;B++){var H=n[B],z=H.uid;0<M&&H[l.level]<M&&(z=H.uid),void 0===H.uid&&(H.uid=a.dataview.generatekey());k='<tr data-key="'+z+'" role="row" id="row'+B+a.element.id+'">';var E='<tr data-key="'+z+'" role="row" id="row'+B+a.element.id+'">';if(H.aggregate)k='<tr data-role="summaryrow" role="row" id="row'+B+a.element.id+'">',E='<tr data-role="summaryrow" role="row" id="row'+B+a.element.id+'">';var O=0;if(a.rowinfo[z])void 0===a.rowinfo[z].checked&&(a.rowinfo[z].checked=H[l.checked]),void 0===a.rowinfo[z].icon&&(a.rowinfo[z].icon=H[l.icon]),void 0===a.rowinfo[z].aggregate&&(a.rowinfo[z].aggregate=H[l.aggregate]),void 0===a.rowinfo[z].row&&(a.rowinfo[z].row=H),void 0===a.rowinfo[z].leaf&&(a.rowinfo[z].leaf=H[l.leaf]),void 0===a.rowinfo[z].expanded&&(a.rowinfo[z].expanded=H[l.expanded]);else{var N=H[l.checked];void 0===N&&(N=!1),a.rowinfo[z]={selected:H[l.selected],checked:N,icon:H[l.icon],aggregate:H.aggregate,row:H,leaf:H[l.leaf],expanded:H[l.expanded]}}var L=a.rowinfo[z];(L.row=H).originalRecord&&(L.originalRecord=H.originalRecord);var R=0;for(x=0;x<s;x++){var F=a.columns.records[x];(F.pinned||a.rtl&&a.columns.records[s-1].pinned)&&(S=!0),(A=F.width)<F.minwidth&&(A=F.minwidth),A>F.maxwidth&&(A=F.maxwidth),(A-=g)<0&&(A=0);t=a.toTP("jqx-cell")+" "+a.toTP("jqx-grid-cell")+" "+a.toTP("jqx-item");F.pinned&&(t+=" "+a.toTP("jqx-grid-cell-pinned")),a.sortcolumn===F.displayfield&&(t+=" "+a.toTP("jqx-grid-cell-sort")),a.altRows&&B%2!=0&&(t+=" "+a.toTP("jqx-grid-cell-alt")),a.rtl&&(t+=" "+a.toTP("jqx-cell-rtl"));var W="";if(0<M&&!r&&!H.aggregate&&H[l.level]<M){W+=' colspan="'+s+'"';C=0;for(var V=0;V<s;V++){var G=a.columns.records[V];if(!G.hidden){var U=G.width;U<G.minwidth&&(A=G.minwidth),U>G.maxwidth&&(A=G.maxwidth),(U-=g)<0&&(U=0),C+=U}}A=C}w='<td role="gridcell"'+W+' style="max-width:'+A+"px; width:"+A+"px;";var Y='<td role="gridcell"'+W+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+A+"px; width:"+A+"px;";x==s-1&&1==s&&(w+="border-right-color: transparent;",Y+="border-right-color: transparent;"),0<M&&H[l.level]<M&&!H.aggregate?a.rtl&&(t+=" "+a.toTP("jqx-right-align")):"left"!=F.cellsalign&&("right"===F.cellsalign?t+=" "+a.toTP("jqx-right-align"):t+=" "+a.toTP("jqx-center-align")),L&&(L.selected&&a.editKey!==z&&"none"!==a.selectionMode&&(t+=" "+a.toTP("jqx-grid-cell-selected"),t+=" "+a.toTP("jqx-fill-state-pressed")),L.locked&&(t+=" "+a.toTP("jqx-grid-cell-locked")),L.aggregate&&(t+=" "+a.toTP("jqx-grid-cell-pinned"))),F.hidden?(w+="display: none;",Y+="display: none;",a._hiddencolumns=!0):(0!=R||a.rtl?(w+="border-right-width: 0px;",Y+="border-right-width: 0px;"):(w+="border-left-width: 0px;",Y+="border-left-width: 0px;"),R++,O+=g+A),F.pinned&&(w+="pointer-events: auto;",Y+="pointer-events: auto;");var K="";if(0!=a.source.hierarchy.length&&H.records&&(!H.records||0!==H.records.length)||this.virtualModeCreateRecords||(L.leaf=!0),H.records&&0<H.records.length&&(L.leaf=!1),0<a.dataview.filters.length&&H.records&&0<H.records.length){for(var X=!1,$=0;$<H.records.length;$++)if(!1!==H.records[$]._visible&&null==H.records[$].aggregate){X=!0;break}L.leaf=!X}L&&!L.leaf&&(L.expanded?(K+=a.toTP("jqx-tree-grid-expand-button")+" ",a.rtl?K+=a.toTP("jqx-grid-group-expand-rtl"):K+=a.toTP("jqx-grid-group-expand"),K+=" "+a.toTP("jqx-icon-arrow-down")):(K+=a.toTP("jqx-tree-grid-collapse-button")+" ",a.rtl?(K+=a.toTP("jqx-grid-group-collapse-rtl"),K+=" "+a.toTP("jqx-icon-arrow-left")):(K+=a.toTP("jqx-grid-group-collapse"),K+=" "+a.toTP("jqx-icon-arrow-right")))),(!a.autoRowHeight||1===R||a.autoRowHeight&&!F.autoCellHeight)&&(t+=" "+a.toTP("jqx-grid-cell-nowrap"));var Z=a._getcellvalue(F,L.row);if(0<M&&!H.aggregate&&H[l.level]<M&&(Z=H.label),""!=F.cellsFormat&&_e.jqx.dataFormat&&(_e.jqx.dataFormat.isDate(Z)?Z=_e.jqx.dataFormat.formatdate(Z,F.cellsFormat,a.gridlocalization):(_e.jqx.dataFormat.isNumber(Z)||!isNaN(parseFloat(Z))&&isFinite(Z))&&(Z=_e.jqx.dataFormat.formatnumber(Z,F.cellsFormat,a.gridlocalization))),""!=F.cellclassname&&F.cellclassname)if("string"==typeof F.cellclassname)t+=" "+F.cellclassname;else{var J=F.cellclassname(B,F.datafield,a._getcellvalue(F,L.row),L.row,Z);J&&(t+=" "+J)}if(""!=F.cellsRenderer&&F.cellsRenderer){var Q=F.cellsRenderer(z,F.datafield,a._getcellvalue(F,L.row),L.row,Z);void 0!==Q&&(Z=Q)}if(L.aggregate&&F.aggregates){var ee=H.siblings.slice(0,H.siblings.length-1),te=a._calculateaggregate(F,null,!0,ee);if(H[F.displayfield]="",te)if(F.aggregatesRenderer){if(te){var ie=F.aggregatesRenderer(te[F.datafield],F,null,a.getcolumnaggregateddata(F.datafield,F.aggregates,!1,ee),"subAggregates");Z=ie,H[F.displayfield]+=name+":"+te[F.datafield]+"\n"}}else Z="",H[F.displayfield]="",_e.each(te,function(){for(obj in this){var e=obj,t='<div style="position: relative; margin: 0px; overflow: hidden;">'+(e=a._getaggregatename(e))+":"+this[obj]+"</div>";Z+=t,H[F.displayfield]+=e+":"+this[obj]+"\n"}});else Z=""}if(1===R&&!a.rtl||F==q&&a.rtl||0<M&&H[l.level]<M){for(var se="",re=a.toThemeProperty("jqx-tree-grid-indent"),ne=L.leaf?1:0,oe=0;oe<H[l.level]+ne;oe++)se+="<span class='"+re+"'></span>";var ae="<span class='"+K+"'></span>",le="",de="";if(this.checkboxes&&!H.aggregate){var he=a.toThemeProperty("jqx-tree-grid-checkbox")+" "+re+" "+a.toThemeProperty("jqx-checkbox-default")+" "+a.toThemeProperty("jqx-fill-state-normal")+" "+a.toThemeProperty("jqx-rc-all"),ce=!0;if(_e.isFunction(this.checkboxes)&&null==(ce=this.checkboxes(z,H))&&(ce=!1),ce)if(L){var ue=L.checked;0==this.hierarchicalCheckboxes&&null===ue&&(ue=!1),le+=ue?"<span class='"+he+"'><div class='"+a.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+a.toThemeProperty("jqx-checkbox-check-checked")+"'></div></span>":!1===ue?"<span class='"+he+"'></span>":"<span class='"+he+"'><div class='"+a.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+a.toThemeProperty("jqx-checkbox-check-indeterminate")+"'></div></span>"}else le+="<span class='"+he+"'></span>"}if(this.icons&&!H.aggregate){var pe=a.toThemeProperty("jqx-tree-grid-icon")+" "+re;if(a.rtl)pe=a.toThemeProperty("jqx-tree-grid-icon")+" "+a.toThemeProperty("jqx-tree-grid-icon-rtl")+" "+re;var me=a.toThemeProperty("jqx-tree-grid-icon-size")+" "+re,fe=L.icon;_e.isFunction(this.icons)&&(L.icon=this.icons(z,H),L.icon&&(fe=!0)),fe&&(L.icon?de+="<span class='"+pe+"'><img class='"+me+"' src='"+L.icon+"'/></span>":de+="<span class='"+pe+"'></span>")}var ge=a.autoRowHeight&&1===R&&F.autoCellHeight?" "+a.toTP("jqx-grid-cell-wrap"):"",ve=se+ae+le+de+"<span class='"+a.toThemeProperty("jqx-tree-grid-title")+ge+"'>"+Z+"</span>";Z=a.rtl?"<span class='"+a.toThemeProperty("jqx-tree-grid-title")+ge+"'>"+Z+"</span>"+de+le+ae+se:ve}if(0<M&&r&&M<=x&&H[l.level]<M&&(w+="padding-left: 5px; border-left-width: 0px;",Y+="padding-left: 5px; border-left-width: 0px;",Z="<span style='visibility: hidden;'>-</span>"),w+='" class="'+t+'">',w+=Z,w+="</td>",Y+='" class="'+t+'">',Y+=Z,Y+="</td>",F.pinned?(E+=w,k+=w):(k+=w,S&&(E+=Y)),0<M&&!r&&H[l.level]<M&&!H.aggregate)break}if(0==e&&(a.table[0].style.width=O+2+"px",e=O),_+=k+="</tr>",j+=E+="</tr>",a.rowDetails&&!H.aggregate&&this.rowDetailsRenderer){var xe='<tr data-role="row-details"><td valign="top" align="left" style="pointer-events: auto; max-width:'+A+"px; width:"+A+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+a.columns.records.length+'" role="gridcell"';t=a.toTP("jqx-cell")+" "+a.toTP("jqx-grid-cell")+" "+a.toTP("jqx-item");t+=" "+a.toTP("jqx-details"),t+=" "+a.toTP("jqx-reset");var we=this.rowDetailsRenderer(z,H);we&&(_+=xe+='" class="'+t+'"><div style="pointer-events: auto; overflow: hidden;"><div data-role="details">'+we+"</div></div></td></tr>",j+=xe)}}if(_+="</table>",j+="</table>",S){a.WinJS?MSApp.execUnsafeLocalFunction(function(){a.table.html(j+_)}):a.table[0].innerHTML=j+_;var ye=a.table.find("#table"+a.element.id),be=a.table.find("#pinnedtable"+a.element.id);be.css("float","left"),be.css("pointer-events","none"),ye.css("float","left"),be[0].style.position="absolute",ye[0].style.position="relative",ye[0].style.zIndex=f-10,be[0].style.zIndex=f+10,a._table=ye,a._table[0].style.left="0px",a._pinnedTable=be,r&&(be[0].style.left="0px"),a._table[0].style.width=e+"px",a._pinnedTable[0].style.width=e+"px",a.rtl&&a._haspinned&&(a._pinnedTable[0].style.left=3-e+parseInt(a.element.style.width)+"px")}else{a.WinJS?MSApp.execUnsafeLocalFunction(function(){a.table.html(_)}):a.table[0].innerHTML=_;V=a.table.find("#table"+a.element.id);a._table=V,_e.jqx.browser.msie&&_e.jqx.browser.version<10&&(a._table[0].style.width=e+"px"),0===m&&(a._table[0].style.width=2+e+"px")}0===m&&(a._table[0].style.tableLayout="auto",a._pinnedTable&&(a._pinnedTable[0].style.tableLayout="auto")),a.showAggregates&&a._updatecolumnsaggregates(),a._loading&&0==m&&(a._arrange(),this._showLoadElement()),a.rendered&&a.rendered()}},propertyChangedHandler:function(e,t,i,s){if(null!=e.isInitialized&&0!=e.isInitialized){var r=e.base;if("pageSizeMode"==t||"hierarchicalCheckboxes"==t)e._renderrows();else if("filterable"==t)r._render();else if("height"===t)r.host.height(e.height),r.host.width(e.width),r._updatesize(!1,!0);else if("width"===t)r.host.height(e.height),r.host.width(e.width),r._updatesize(!0,!1);else if("source"===t)r.updateBoundData();else if("columns"===t||"columnGroups"===t)r._columns=null,r._render();else if("rtl"===t)r.content.css("left",""),e.columns=e._columns,r.vScrollBar.jqxScrollBar({rtl:s}),r.hScrollBar.jqxScrollBar({rtl:s}),r._render();else if("pagerMode"===t)e.pagerMode=s,r._initpager();else if("pageSizeOptions"==t){r._initpager();for(var n=!1,o=0;o<s.length;o++)if(parseInt(s[o])==e.pageSize){n=!0;break}n||_e.jqx.set(e,[{pageSize:s[0]}])}else if("pageSize"==t){var a=r.dataview.pagenum*r.dataview.pagesize;r.dataview.pagesize=r.pageSize;var l=Math.floor(a/r.dataview.pagesize);if(l!==r.dataview.pagenum||parseInt(s)!==parseInt(i))e._raiseEvent("pageSizeChanged",{pagenum:s,oldpageSize:i,pageSize:r.dataview.pagesize}),e.goToPage(l)||r.refresh()}else if("pagerPosition"===t)r.refresh();else if("selectionMode"===t)r.selectionMode=s.toLowerCase();else if("touchmode"==t)r.touchDevice=null,r._removeHandlers(),r.touchDevice=null,r.vScrollBar.jqxScrollBar({touchMode:s}),r.hScrollBar.jqxScrollBar({touchMode:s}),r._updateTouchScrolling(),r._arrange(),r._updatecolumnwidths(),r._renderrows(),r._addHandlers();else{if("enableHover"==t)return;if("disabled"==t)s?r.base.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):r.base.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),r.pageable&&(r.pagernexttop&&(r.pagernexttop.jqxButton({disabled:s}),r.pagerprevioustop.jqxButton({disabled:s}),r.pagernextbottom.jqxButton({disabled:s}),r.pagerpreviousbottom.jqxButton({disabled:s}),r.pagerfirsttop.jqxButton({disabled:s}),r.pagerfirstbottom.jqxButton({disabled:s}),r.pagerlasttop.jqxButton({disabled:s}),r.pagerlastbottom.jqxButton({disabled:s}),r.pagershowrowscombotop.jqxDropDownList&&"advanced"==r.pagerMode&&(r.pagershowrowscombotop.jqxDropDownList({disabled:!1}),r.pagershowrowscombobottom.jqxDropDownList({disabled:!1}))),r.base.host.find(".jqx-grid-pager-number").css("cursor",s?"default":"pointer")),r.base.host.find(".jqx-grid-group-collapse").css("cursor",s?"default":"pointer"),r.base.host.find(".jqx-grid-group-expand").css("cursor",s?"default":"pointer");else if("columnsHeight"==t)r._render();else if("theme"==t){if(_e.jqx.utilities.setTheme(i,s,r.base.host),r.vScrollBar.jqxScrollBar({theme:r.theme}),r.hScrollBar.jqxScrollBar({theme:r.theme}),r.pageable&&r.pagernexttop&&(r.pagernexttop.jqxButton({theme:r.theme}),r.pagerprevioustop.jqxButton({theme:r.theme}),r.pagernextbottom.jqxButton({theme:r.theme}),r.pagerpreviousbottom.jqxButton({theme:r.theme}),r.pagerfirsttop.jqxButton({theme:r.theme}),r.pagerfirstbottom.jqxButton({theme:r.theme}),r.pagerlasttop.jqxButton({theme:r.theme}),r.pagerlastbottom.jqxButton({theme:r.theme}),r.pagershowrowscombotop.jqxDropDownList&&"advanced"==r.pagerMode&&(r.pagershowrowscombotop.jqxDropDownList({theme:r.theme}),r.pagershowrowscombobottom.jqxDropDownList({theme:r.theme}))),r.filterable){var d=_e(".filterconditions");0<d.length&&d.jqxDropDownList({theme:r.theme}),r.filtercolumnsList&&r.filtercolumnsList.jqxDropDownList({theme:r.theme})}r.refresh()}else r.refresh()}}},checkRow:function(e,t,i){var s=this.base,r=s._names();if(!s._loading){var n=s.rowinfo[e];if(n)n.checked=!0,n.row[r.checked]=!0,n.originalRecord&&(n.originalRecord[r.checked]=!0),null==i&&this.hierarchicalCheckboxes&&this.checkRows(n.row,n.row),!1!==t&&s._renderrows(),s._raiseEvent("rowCheck",{key:e,row:n.row});else{var o=this.getRow(e);o&&(s.rowinfo[e]={row:o,checked:!0},s.rowinfo[e].row[r.checked]=!0,o.originalRecord&&(s.rowinfo[e].originalRecord=o.originalRecord),s._raiseEvent("rowCheck",{key:e,row:o}),null==i&&this.hierarchicalCheckboxes&&this.checkRows(o,o),!1!==t&&s._renderrows())}}},checkRows:function(e,t){var i=this.base,s=this,r=i._names(),n=function(e){var i=new Array,s=function(e){for(var t=0;t<e.length;t++)i.push(e[t]),e[t]&&e[t].records&&s(e[t].records)};return e.records&&s(e.records),i};if(null!=e){var o=0,a=0,l=function(e){for(var t=0;t<e.length;t++)if(e[t]){var i=e[t][r.checked];void 0===i&&(i=!1),0!=i&&(null==e[t][r.checked]&&!0,e[t].records&&l(e[t].records),o++),a++}};if(e.records&&l(e.records),e!=t)o==a?this.checkRow(e.uid,!1,"tree"):0<o?this.indeterminateRow(e.uid,!1,"tree"):this.uncheckRow(e.uid,!1,"tree");else{var d=t[r.checked],h=n(t);_e.each(h,function(){!0===d?s.checkRow(this.uid,!1,"tree"):!1===d?s.uncheckRow(this.uid,!1,"tree"):s.indeterminateRow(this.uid,!1,"tree")})}var c=e[r.parent]?e[r.parent]:null;this.checkRows(c,t)}else{d=t[r.checked],h=n(t);_e.each(h,function(){!0===d?s.checkRow(this.uid,!1,"tree"):!1===d?s.uncheckRow(this.uid,!1,"tree"):s.indeterminateRow(this.uid,!1,"tree")})}},indeterminateRow:function(e,t,i){var s=this.base,r=s._names();if(!s._loading){var n=s.rowinfo[e];if(n)n.checked=null,n.row[r.checked]=null,n.originalRecord&&(n.originalRecord[r.checked]=null),null==i&&this.hierarchicalCheckboxes&&this.checkRows(n.row,n.row),!1!==t&&s._renderrows();else{var o=this.getRow(e);o&&(s.rowinfo[e]={row:o,checked:null},s.rowinfo[e].row[r.checked]=null,o.originalRecord&&(s.rowinfo[e].originalRecord=o.originalRecord),null==i&&this.hierarchicalCheckboxes&&this.checkRows(o,o),!1!==t&&s._renderrows())}}},uncheckRow:function(e,t,i){var s=this.base,r=s._names();if(!s._loading){var n=s.rowinfo[e];if(n)n.checked=!1,n.row[r.checked]=!1,n.originalRecord&&(n.originalRecord[r.checked]=!1),null==i&&this.hierarchicalCheckboxes&&this.checkRows(n.row,n.row),!1!==t&&s._renderrows(),s._raiseEvent("rowUncheck",{key:e,row:n.row});else{var o=this.getRow(e);o&&(s.rowinfo[e]={row:o,checked:!1},s.rowinfo[e].row[r.checked]=!1,o.originalRecord&&(s.rowinfo[e].originalRecord=o.originalRecord),s._raiseEvent("rowUncheck",{key:e,row:o}),null==i&&this.hierarchicalCheckboxes&&this.checkRows(o,o),!1!==t&&s._renderrows())}}},expandRows:function(e){var t=this;if(e)if(t.virtualModeCreateRecords)_e.each(e,function(){var e=this;t.base._loading=!1,t.expandRow(e.uid,function(){t.base._loading=!1,t.expandRows(e.records)})});else for(var i=0;i<e.length;i++){var s=e[i];t.expandRow(s.uid),t.expandRows(s.records)}},collapseRows:function(e){if(e)for(var t=0;t<e.length;t++)this.collapseRow(e[t].uid),this.collapseRows(e[t].records)},expandAll:function(){var e=this.base;e.beginUpdate(),this.expandRows(this.getRows()),e.endUpdate()},collapseAll:function(){var e=this.base;e.beginUpdate(),this.collapseRows(this.getRows()),e.endUpdate()},expandRow:function(e,r){var n=this.base;if(!n._loading){var o=n._names(),a=this,l=n.rowinfo[e];if(!l){var t=this.getRow(e);t&&(n.rowinfo[e]={row:t},t.originalRecord&&(n.rowinfo[e].originalRecord=t.originalRecord),l=n.rowinfo[e])}if(l){if(l.expanded)return void(l.row[o.expanded]=!0);if(l.expanded=!0,l.row[o.expanded]=!0,l.originalRecord&&(l.originalRecord[o.expanded]=!0),this.virtualModeCreateRecords&&!l.row._loadedOnDemand){if(!l.row[o.leaf])return n._loading=!0,this._showLoadElement(),void this.virtualModeCreateRecords(l.row,function(e){if(!(l.row._loadedOnDemand=!0)===e)return n._loading=!1,a._hideLoadElement(),l.leaf=!0,l.row[o.leaf]=!0,n._renderrows(),void(r&&r());for(var t=0;t<e.length;t++){if(e[t][o.level]=l.row[o.level]+1,e[t][o.parent]=l.row,n.rowsByKey[e[t].uid])throw n._loading=!1,a._hideLoadElement(),l.leaf=!0,l.row[o.leaf]=!0,n._renderrows(),r&&r(),new Error("Please, check whether you Add Records with unique ID/Key. ");n.rowsByKey[e[t].uid]=e[t],a.virtualModeRecordCreating(e[t])}l.row.records?l.row.records=l.row.records.concat(e):l.row.records=e,(!e||e&&0==e.length)&&(l.leaf=!0,l.row[o.leaf]=!0),l.originalRecord&&(l.originalRecord.records=e,l.originalRecord[o.expanded]=!0,0==e.length&&(l.originalRecord[o.leaf]=!0)),n._loading=!1,a._hideLoadElement();var i=n.vScrollBar.css("visibility");n._renderrows(),n._updateScrollbars();var s=i!=n.vScrollBar.css("visibility");("auto"===n.height||null===n.height||n.autoheight||s)&&n._arrange(),n._renderhorizontalscroll(),r&&r()})}if(!n.updating()){var i=n.vScrollBar.css("visibility");n._renderrows(),n._updateScrollbars();var s=i!=n.vScrollBar.css("visibility");("auto"===n.height||null===n.height||n.autoheight||s)&&n._arrange(),n._renderhorizontalscroll(),n._raiseEvent("rowExpand",{row:l.row,key:e})}}}},collapseRow:function(e){var t=this.base,i=t._names();if(!t._loading){var s=t.rowinfo[e];if(!s){var r=this.getRow(e);r&&(t.rowinfo[e]={row:r},r.originalRecord&&(t.rowinfo[e].originalRecord=r.originalRecord),s=t.rowinfo[e])}if(s){if(!s.expanded)return void(s.row[i.expanded]=!1);if(s.expanded=!1,s.row[i.expanded]=!1,s.originalRecord&&(s.originalRecord[i.expanded]=!1),!t.updating()){var n=t.vScrollBar.css("visibility");t._renderrows(),t._updateScrollbars();var o=n!=t.vScrollBar.css("visibility");("auto"===t.height||null===t.height||t.autoheight||o)&&t._arrange(),t._renderhorizontalscroll(),t._raiseEvent("rowCollapse",{row:s.row,key:e})}}}}})}(jqxBaseFramework),function(u){u.jqx.jqxWidget("jqxTreeMap","",{});var d={};function l(e,t,i,s,r,n,o,a){this.label=e,this.value=t,this.parent=i,this.children=s,this.area=r||null,this.color=n,this.data=o,this.record=a}d.default=function(){function o(e,t,i,s){this.height=s,this.width=i,this.xoffset=e,this.yoffset=t,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(e){var t=[],i=this.xoffset,s=this.yoffset,r=d(e)/this.height,n=d(e)/this.width;if(this.width>=this.height)for(var o=0;o<e.length;o+=1)t.push([i,s,i+r,s+e[o]/r]),s+=e[o]/r;else for(o=0;o<e.length;o+=1)t.push([i,s,i+e[o]/n,s+n]),i+=e[o]/n;return t},this.cutArea=function(e){var t;if(this.width>=this.height){var i=e/this.height,s=this.width-i;t=new o(this.xoffset+i,this.yoffset,s,this.height)}else{var r=e/this.width,n=this.height-r;t=new o(this.xoffset,this.yoffset+r,this.width,n)}return t}}function h(e,t,i,s,r){return s=void 0===s?0:s,r=void 0===r?0:r,function(e){for(var t=[],i=0;i<e.length;i+=1)for(var s=0;s<e[i].length;s+=1)t.push(e[i][s]);return t}(function e(t,i,s,r){var n,o,a;if(0===t.length)return void r.push(s.getCoordinates(i));n=s.shortestEdge();o=t[0];!function(e,t,i){var s;if(0===e.length)return!0;(s=e.slice()).push(t);var r=l(e,i),n=l(s,i);return n<=r}(i,o,n)?(a=s.cutArea(d(i),r),r.push(s.getCoordinates(i)),e(t,[],a,r)):(i.push(o),e(t.slice(1),i,s,r));return r}(function(e,t){for(var i=[],s=t/d(e),r=0;r<e.length;r+=1)i[r]=e[r]*s;return i}(e,t*i),[],new o(s,r,t,i),[]))}function l(e,t){var i=Math.min.apply(Math,e),s=Math.max.apply(Math,e),r=d(e);return Math.max(Math.pow(t,2)*s/Math.pow(r,2),Math.pow(r,2)/(Math.pow(t,2)*i))}function c(e){return e&&e.constructor===Array}function d(e){for(var t=0,i=0;i<e.length;i+=1)t+=e[i];return t}function u(e){var t=0;if(c(e[0]))for(var i=0;i<e.length;i+=1)t+=u(e[i]);else t=d(e);return t}return function e(t,i,s,r,n){r=void 0===r?0:r,n=void 0===n?0:n;var o,a=[],l=[];if(c(t[0])){for(var d=0;d<t.length;d+=1)a[d]=u(t[d]);for(o=h(a,i,s,r,n),d=0;d<t.length;d+=1)l.push(e(t[d],o[d][2]-o[d][0],o[d][3]-o[d][1],o[d][0],o[d][1]))}else l=h(t,i,s,r,n);return l}}();var s=0,r=1,n=2;u.extend(u.jqx._jqxTreeMap.prototype,{defineInstance:function(){var e={width:600,height:600,renderCallbacks:{},legendScaleCallback:function(e){return e},hoverEnabled:!1,selectionEnabled:!0,singleSelection:!0,showLegend:!0,legendLabel:"Legend",headerHeight:25,colorRange:100,layout:"default",source:[],displayMember:null,valueMember:null,colorMode:"parent",baseColor:"#C2EEFF",legendPosition:{x:0,y:0},colorRanges:[{color:"#aa9988",min:0,max:10},{color:"#ccbbcc",min:11,max:50},{color:"#000",min:50,max:100}],_root:[]};return this===u.jqx._jqxTreeMap.prototype||u.extend(!0,this,e),e},createInstance:function(){this.render()},render:function(){this.host.addClass(this.toThemeProperty("jqx-widget")),this._destroy(),this._root=new l(void 0,0,null,[],this.host);var e=function(e,t){for(var i,s={},r=null,n=0;n<e.length;n+=1)if(e[n].items){r=!0;break}var a=new Array;if(r){var l=function(e,t){for(var i=0;i<e.length;i+=1){if(e[i].parent=t,e[i].data||(e[i].data=e[i].value),null==e[i].value&&(e[i].value=0),isNaN(parseFloat(e[i].value))){for(var s=e[i].value.toString(),r="",n=0;n<s.length;n++){var o=s.substring(n,n+1);null==o.match(/^[0-9]+$/)&&"."!=o||(r+=o)}e[i].value=new Number(r)}else e[i].value=parseFloat(e[i].value);a.push(e[i]),e[i].items&&l(e[i].items,e[i].label)}};l(e,null),e=a}for(n=0;n<e.length;n+=1)(i=e[n]).value&&null!=i.parent&&(s[i.parent]||(s[i.parent]=0),s[i.parent]+=i.value);for(n=0;n<e.length;n+=1)void 0!==s[(i=e[n]).label]&&(i.value=s[i.label]);t._buildTree(e,t._root),t._dataList=t._buildList(),t._setStyles();var o=d.default;"simple"===t.layout&&(o=d.simple),t._render(t._root,o),t._renderLegend()};u.jqx.dataAdapter&&null!=this.source&&this.source._source?this.dataBind(this.source,e):(e(this.source,this),this._trigger("bindingComplete"))},dataBind:function(e,n){this.records=new Array;var t=!!e._source,o=new u.jqx.dataAdapter(e,{autoBind:!1});t&&(e=(o=e)._source);var i=function(e,t){e.records=o.records;for(var i=new Array,s=0;s<e.records.length;s++){var r=e.records[s];e.displayMember&&(r.label=r[e.displayMember]),e.valueMember&&(r.value=r[e.valueMember]),r.record=r,i.push(r)}e._trigger("bindingComplete"),n(i,e)};null!=e.type&&(o._options.type=e.type),null!=e.formatdata&&(o._options.formatData=e.formatdata),null!=e.contenttype&&(o._options.contentType=e.contenttype),null!=e.async&&(o._options.async=e.async);var s=this;switch(e.datatype){case"local":case"array":default:null!=e.localdata&&(o.unbindBindingUpdate(this.element.id),o.dataBind(),i(this),o.bindBindingUpdate(this.element.id,function(e){i(s)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=e.localdata)return o.unbindBindingUpdate(this.element.id),o.dataBind(),i(this),void o.bindBindingUpdate(this.element.id,function(){i(s)});var r={};o._options.data?u.extend(o._options.data,r):(e.data&&u.extend(r,e.data),o._options.data=r);o.unbindDownloadComplete(s.element.id),o.bindDownloadComplete(s.element.id,function(){i(s)}),o.dataBind()}},_destroy:function(){this.host.children().remove()},destroy:function(){this.host.remove()},refresh:function(e){e||this._refresh()},_refresh:function(){this.render()},_setStyles:function(){this.host.css({position:"relative",width:this.width,height:this.height});null!=this.width&&this.width.toString().indexOf("%"),null!=this.height&&this.height.toString().indexOf("%");var e=this;u.jqx.utilities.resize(this.host,function(){e.resizeTimer&&clearTimeout(e.resizeTimer),e.resizeTimer=setTimeout(function(){e.performLayout()},50)})},resize:function(e,t){this.width=e,this.height=t,this.performLayout()},performLayout:function(){var e=d.default;this.clearSelection(),this._layout(this._root,e)},_getValues:function(e){for(var t=[],i=0;i<e.length;i+=1)t.push(e[i].value);return t},_isColor:function(e){if(!e)return!1;var t=this._colorEvaluator;return!(!t._isRgb(e)&&!t._isHex(e))},_colorEvaluator:{_toRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},_toHex:function(e){var t=e.r.toString(16),i=e.g.toString(16),s=e.b.toString(16);return"#"+(t=1===t.length?"0"+t:t)+(i=1===i.length?"0"+i:i)+(s=1===s.length?"0"+s:s)},_isRgb:function(e){return/(rgb|rgba)\s*\(\s*\d+\s*(,\s*\d+\s*){2}(,\d+\.\d+)?\)(;?)/i.test(e)},_isHex:function(e){return/^(#([0-9A-F]{3})([0-9A-F]{3})?)$/i.test(e)},getColorByValue:function(e,t,i){var s,r,n,o,a=this._colorEvaluator;a._isRgb(i)&&(i=a._toHex(i)),i=a._toRgb(i),n=t.length,s=-1/0;for(var l=0;l<n;l+=1)s<t[l].value&&(s=t[l].value);return r=e/s,o=Math.round(r*this.colorRange),a._toHex({r:Math.max(i.r-o,0),g:Math.max(i.g-o,0),b:Math.max(i.b-o,0)})},parent:function(e){var t=e.parent.color,i=this._colorEvaluator;return e.parent?(t||(t=this.baseColor),t=i.getColorByValue.call(this,e.value,e.parent.children,t),e.color=t):"#fff"},autoColors:function(e){var t=this.baseColor;return t=this._colorEvaluator.getColorByValue.call(this,e.value,this._dataList,t),e.color=t},rangeColors:function(e){for(var t,i=e.value,s=0;s<this.colorRanges.length;s+=1)if((t=this.colorRanges[s]).min<i&&t.max>=i)return t.color;return"#fff"}},_getColor:function(e){var t=e.color,i=this.colorMode;if(this._isColor(t))return t;if("function"==typeof this._colorEvaluator[i])return this._colorEvaluator[i].call(this,e);throw"Invalid colorMode"},_renderRect:function(e,t){var i=u("<div/>"),s=e[2]-e[0],r=e[3]-e[1],n=this._getColor(t);i.css({position:"absolute",left:e[0]-1,top:e[1]-1,width:s,height:r,backgroundColor:n}),i.addClass(this.toThemeProperty("jqx-treemap-rectangle"));var o=this._colorEvaluator,a={data:t.data,label:t.label,value:t.value,parent:t.parent,record:t.record,color:n,rgb:o._toRgb(n)};if((t.parent==this._root&&(a.parent=null),"function"==typeof this.renderCallbacks["*"])&&void 0!==this.renderCallbacks["*"](i,a))return i;if("function"==typeof this.renderCallbacks[t.label])this.renderCallbacks[t.label](i,a);else{s=i.width()-2;i.html('<span style="max-width:'+s+'px;" class="jqx-treemap-label">'+t.label+"</span>")}return i},_centerLabel:function(e,t){var i=e[0].firstChild;i.style.position="absolute",t!==s&&t!==n||(i.style.left=(e[0].offsetWidth-i.offsetWidth)/2+"px"),t!==r&&t!==n||(i.style.top=(e[0].offsetHeight-i.offsetHeight)/2+"px")},_trigger:function(e,t){var i=u.Event(e);return i.args=t,this.host.trigger(i)},_addHandlers:function(i,t){var s=this;i.on("mouseenter",function(e){s.hoverEnabled&&(s.host.find(".jqx-treemap-rectangle").removeClass("jqx-treemap-rectangle-hover"),i.addClass(s.toThemeProperty("jqx-treemap-rectangle-hover"))),s._trigger("mouseenterSector",t)}),i.on("mouseleave",function(e){s.hoverEnabled&&i.removeClass("jqx-treemap-rectangle-hover"),s._trigger("mouseleaveSector",t)}),i.on("click",function(e){if(s.selectionEnabled){var t=u.data(this,"jqx-treemap-selected")||!1;s.singleSelection&&s.host.find(".jqx-treemap-rectangle-hover").each(function(e,t){u.data(t,"jqx-treemap-selected",!1),u(t).removeClass("jqx-treemap-rectangle-hover")}),t?(i.removeClass("jqx-treemap-rectangle-hover"),t=!1):(i.addClass(s.toThemeProperty("jqx-treemap-rectangle-hover")),t=!0),u.data(this,"jqx-treemap-selected",t),e.stopImmediatePropagation()}})},clearSelection:function(){this.host.find(".jqx-treemap-rectangle-hover").removeClass(this.toThemeProperty("jqx-treemap-rectangle-hover")),u.data(this,"jqx-treemap-selected",!1)},_layoutArea:function(e,t){e.children.length&&0<e.children.length?(this._centerLabel(t,s),t.addClass(this.toThemeProperty("jqx-treemap-rectangle-parent"))):this._centerLabel(t,n)},_render:function(e,t){if(e.children.length){var i=0;e.value&&(i=this.headerHeight);for(var s,r,n=this._getValues(e.children),o=(e.area.offset(),t(n,e.area.width(),e.area.height()-i,0,i)),a=0;a<e.children.length;a+=1)s=e.children[a],r=this._renderRect(o[a],s),s.area=r,e.area.append(r),this._addHandlers(r,{label:s.label,value:s.value,color:s.color,sector:s.area,data:s.data}),this._layoutArea(s,r),this._render(s,t)}},_layout:function(e,t){if(e.children.length){var i=0;e.value&&(i=this.headerHeight);for(var s=this._getValues(e.children),r=(e.area.offset(),t(s,e.area.width(),e.area.height()-i,0,i)),n=0;n<e.children.length;n+=1){var o=e.children[n];this._layoutRect(r[n],o),this._layoutArea(o,o.area),this._layout(o,t)}this.showLegend&&(u(".jqx-treemap-legend").remove(),this._renderLegend())}},_layoutRect:function(e,t){var i=t.area,s=e[2]-e[0],r=e[3]-e[1];i.css({left:e[0]-1,top:e[1]-1,width:s,height:r});var n=this._colorEvaluator,o=this._getColor(t),a={data:t.data,label:t.label,value:t.value,parent:t.parent,record:t.record,color:o,rgb:n._toRgb(o)};if((t.parent==this._root&&(a.parent=null),"function"==typeof this.renderCallbacks["*"])&&void 0!==this.renderCallbacks["*"](i,a))return i;if("function"==typeof this.renderCallbacks[t.label])this.renderCallbacks[t.label](i,a);else{s=i.width()-2;i.find(".jqx-treemap-label:first").css("max-width",s)}},_getBoundValues:function(){var e,t=this._root,i=[],s={},r={};for(s.value=t.value||1/0,r.value=t.value||-1/0,i.push(t);i.length;){e=i.pop(),s.value>e.value&&(s=e),r.value<e.value&&(r=e);for(var n=0;n<e.children.length;n+=1)i.push(e.children[n])}return[s,r]},_getAutocolorRanges:function(){for(var e,t=this._getBoundValues(),i=t[1].value,s=t[0].value,r=(i-s)/5,n=[],o=s;o<i;o+=r)e=Math.round(o),n.push({min:e,max:o+r,color:this._colorEvaluator.getColorByValue.call(this,e,this._dataList,this.baseColor)});return n},_renderLegend:function(){if(/autoColors|rangeColors/.test(this.colorMode)&&this.showLegend){var e=this.colorRanges;"autoColors"===this.colorMode&&(e=this._getAutocolorRanges());var t=this._renderColorLegend(e);this._renderLegendLabel(t)}},_renderLegendLabel:function(e){var t=u('<tr><td colspan="'+e.find("td").length/2+'"/></tr>'),i=u('<div class="'+this.toThemeProperty("jqx-treemap-legend-label")+'" />');i.text(this.legendLabel),t.children().append(i),e.prepend(t)},_renderColorLegend:function(e){var t,i,s=u('<div class="'+this.toThemeProperty("jqx-treemap-legend")+'"/>'),r=function(e){return e};"function"==typeof this.legendScaleCallback&&(r=this.legendScaleCallback);var n=u('<table class="'+this.toThemeProperty("jqx-treemap-legend-table")+'"/>');s.append(n),n.append("<tr/>"),s.append("<div/>"),this.host.append(s),t=u(s.find("tr")[0]),(i=u(s.find("div")[0])).addClass(this.toThemeProperty("jqx-treemap-legend-values"));e.sort(function(e,t){try{if(e.min<t.min)return-1;if(e.min>t.min)return 1}catch(e){}return 0});for(var o=Math.round(s.width()/e.length),a=-2,l=0,d=0;d<e.length;d+=1){var h,c=u('<td class="'+this.toThemeProperty("jqx-treemap-legend-color")+'"/>');if(c.css("backgroundColor",e[d].color),t.append(c),0===d)(h=u('<span class="'+this.toThemeProperty("jqx-treemap-legend-max-value")+" "+this.toThemeProperty("jqx-treemap-legend-value")+'"/>')).text(r(e[d].min)),i.append(h),n.css("margin-left",h.width()/2),l=a+=h.width()/2;a+=o,(h=u('<span class="'+this.toThemeProperty("jqx-treemap-legend-max-value")+" "+this.toThemeProperty("jqx-treemap-legend-value")+'"/>')).text(r(e[d].max)),i.append(h),d==e.length-1&&(l+=h.width()/2,s.css("padding-right",l+5),a-=2),a-=h.width()/2,h.css("left",a),a+=h.width()/2}return s.css({position:"absolute",left:this.legendPosition.x,bottom:this.legendPosition.y,visibility:this.showLegend?"visible":"hidden"}),s},_buildTree:function(e,t){var i,s,r=null,n=[];for(n.push(t);n.length;){r=n.pop();for(var o=0;o<e.length;o+=1)if((s=e[o]).parent===r.label||!s.parent&&!r.label){var a=r;i=new l(s.label,parseFloat(s.value,10),a,[],null,s.color,s.data,s.record),r.children.push(i),n.push(i)}}return t},_buildList:function(){var e,t=[],i=[];for(i.push(this._root);i.length;){(e=i.pop())!==this._root&&t.push(e);for(var s=0;s<e.children.length;s+=1)i.push(e.children[s])}return t},propertyChangedHandler:function(e,t,i){"renderCallbacks"!==t&&(/hoverEnabled|selectionEnabled/.test(t)?i||this.host.find("jqx-treemap-rectangle-hover"):"showLegend"===t?this.host.find("jqx-treemap-legend").toggle():this._refresh())}})}(jqxBaseFramework),function(p){p.jqx.jqxWidget("jqxValidator","",{}),p.extend(p.jqx._jqxValidator.prototype,{defineInstance:function(){var e={rules:null,scroll:!0,focus:!0,scrollDuration:300,scrollCallback:null,position:"right",arrow:!0,animation:"fade",animationDuration:150,closeOnClick:!0,onError:null,onSuccess:null,ownerElement:null,_events:["validationError","validationSuccess"],hintPositionOffset:5,_inputHint:[],rtl:!1,hintType:"tooltip"};return this===p.jqx._jqxValidator.prototype||p.extend(!0,this,e),e},createInstance:function(){"label"==this.hintType&&150==this.animationDuration&&(this.animationDuration=0),this._configureInputs(),this._removeEventListeners(),this._addEventListeners()},destroy:function(){this._removeEventListeners(),this.hide()},validate:function(s){var r,n,o,a,l=!0,d=1/0,h=[];this.updatePosition();for(var c=this,u=0,e=0;e<this.rules.length;e+=1)"function"==typeof this.rules[e].rule&&u++;this.positions=new Array;for(e=0;e<this.rules.length;e+=1){p(this.rules[e].input);if("function"==typeof this.rules[e].rule){this._validateRule(this.rules[e],function(e,t){if(0==(r=e)){l=!1,p(t.input),a=p(t.input),h.push(a);var i=a.offset();i&&(n=i.top)<d&&(d=n,o=a)}0==--u&&"function"==typeof s&&(c._handleValidation(l,d,o,h),s&&s(l))})}else r=this._validateRule(this.rules[e]);if(0==r){l=!1,a=p(this.rules[e].input),h.push(a);var t=a.offset();t&&(n=t.top)<d&&(d=n,o=a)}}return 0==u?(this._handleValidation(l,d,o,h),l):void 0},validateInput:function(e){for(var t=this._getRulesForInput(e),i=!0,s=0;s<t.length;s+=1)this._validateRule(t[s])||(i=!1);return i},hideHint:function(e){for(var t=this._getRulesForInput(e),i=0;i<t.length;i+=1)this._hideHintByRule(t[i])},hide:function(){for(var e=0;e<this.rules.length;e+=1)this.rules[e],this._hideHintByRule(this.rules[e])},updatePosition:function(){var e;this.positions=new Array;for(var t=0;t<this.rules.length;t+=1)(e=this.rules[t]).hint&&this._hintLayout(e.hint,p(e.input),e.position,e)},_getRulesForInput:function(e){for(var t=[],i=0;i<this.rules.length;i+=1)this.rules[i].input===e&&t.push(this.rules[i]);return t},_validateRule:function(i,s){var r,n=p(i.input),e=!0,o=this,t=!1;return"function"==typeof i.rule&&1==(t=i.rule.call(this,n,function(e){if(e)o._hideHintByRule(i),s&&s(!0,i);else{var t=o.animation;if(o.animation=null,i.hint&&o._hideHintByRule(i),"none"==p(n).css("display"))return void o._hideHintByRule(i);if(0==p(n).parents().length)return void o._hideHintByRule(i);r=i.hintRender.apply(o,[i.message,n]),o._hintLayout(r,n,i.position,i),o._showHint(r),i.hint=r,o._removeLowPriorityHints(i),s&&s(!1,i),o.animation=t}}))&&s&&s(!0,i),"function"==typeof i.rule&&0==t?("function"!=typeof i.hintRender||i.hint||this._higherPriorityActive(i)||!n.is(":visible")||(r=i.hintRender.apply(this,[i.message,n]),this._removeLowPriorityHints(i),this._hintLayout(r,n,i.position,i),this._showHint(r),i.hint=r),e=!1,s&&s(!1,i)):this._hideHintByRule(i),e},_hideHintByRule:function(e){var t,i=p(e.input),s=this,r=function(){if("label"==s.hintType){var e=s;if("top"==e.position||"left"==e.position){if(i.prev().hasClass(".jqx-validator-error-label"))return}else if(i.next().hasClass(".jqx-validator-error-label"))return;"input"!=i[0].nodeName.toLowerCase()&&0<i.find("input").length?(0<i.find(".jqx-input").length?i.find(".jqx-input").removeClass(e.toThemeProperty("jqx-validator-error-element")):0<i.find(".jqx-text-area").length?i.find(".jqx-text-area").removeClass(e.toThemeProperty("jqx-validator-error-element")):i.is(".jqx-checkbox")&&i.find(".jqx-checkbox-default").removeClass(e.toThemeProperty("jqx-validator-error-element")),i.is(".jqx-radiobutton")?i.find(".jqx-radiobutton-default").removeClass(e.toThemeProperty("jqx-validator-error-element")):i.removeClass(e.toThemeProperty("jqx-validator-error-element"))):i.removeClass(e.toThemeProperty("jqx-validator-error-element"))}};e&&((t=e.hint)&&(this.positions&&this.positions[Math.round(t.offset().top)+"_"+Math.round(t.offset().left)]&&(this.positions[Math.round(t.offset().top)+"_"+Math.round(t.offset().left)]=null),"fade"===this.animation?t.fadeOut(this.animationDuration,function(){t.remove(),r()}):(t.remove(),r())),e.hint=null)},_handleValidation:function(e,t,i,s){e?(this._raiseEvent(1),"function"==typeof this.onSuccess&&this.onSuccess()):(this._scrollHandler(t),this.focus&&i.focus(),this._raiseEvent(0,{invalidInputs:s}),"function"==typeof this.onError&&this.onError(s))},_scrollHandler:function(e){if(this.scroll){var t=this;p("html,body").animate({scrollTop:e},this.scrollDuration,function(){"function"==typeof t.scrollCallback&&t.scrollCallback.call(t)})}},_higherPriorityActive:function(e){for(var t,i=!1,s=this.rules.length-1;0<=s;s-=1){if(t=this.rules[s],i&&t.input===e.input&&t.hint)return!0;t===e&&(i=!0)}return!1},_removeLowPriorityHints:function(e){for(var t,i=!1,s=0;s<this.rules.length;s+=1)t=this.rules[s],i&&t.input===e.input&&this._hideHintByRule(t),t===e&&(i=!0)},_getHintRuleByInput:function(e){for(var t,i=0;i<this.rules.length;i+=1)if(t=this.rules[i],p(t.input)[0]===e[0]&&t.hint)return t;return null},_removeEventListeners:function(){for(var e,t,i,s=0;s<this.rules.length;s+=1){i=(e=this.rules[s]).action.split(","),t=p(e.input);for(var r=0;r<i.length;r+=1)this.removeHandler(t,p.trim(i[r])+".jqx-validator")}},_addEventListeners:function(){var e,t;if(0<this.host.parents(".jqx-window").length){var i=this,s=function(){i.updatePosition()},r=this.host.parents(".jqx-window");this.addHandler(r,"closed",function(){i.hide()}),this.addHandler(r,"moved",s),this.addHandler(r,"moving",s),this.addHandler(r,"resized",s),this.addHandler(r,"resizing",s),this.addHandler(p(document.parentWindow),"scroll",function(){i.scroll&&s()})}for(var n=0;n<this.rules.length;n+=1)e=this.rules[n],t=p(e.input),this._addListenerTo(t,e)},_addListenerTo:function(e,t){var i=this,s=t.action.split(","),r=!1;this._isjQWidget(e)&&(r=!0);for(var n=0;n<s.length;n+=1){var o=p.trim(s[n]);!r||"blur"!=o&&"focus"!=o||e&&"input"!=e[0].nodeName.toLowerCase()&&(e=e.find("input")),this.addHandler(e,o+".jqx-validator",function(e){i._validateRule(t)})}},_configureInputs:function(){this.rules=this.rules||[];for(var e=0;e<this.rules.length;e+=1)this._handleInput(e)},_handleInput:function(e){var t=this.rules[e];t.position||(t.position=this.position),t.message||(t.message="Validation Failed!"),t.action||(t.action="blur"),t.hintRender||(t.hintRender=this._hintRender),t.rule?this._handleRule(t):t.rule=null},_handleRule:function(e){var i,s,t=e.rule,r=!1;if("string"==typeof t?(0<=t.indexOf("=")&&(t=t.split("="),s=t[1].split(","),t=t[0]),(i=this["_"+t])?e.rule=function(e,t){return i.apply(this,[e].concat(s))}:r=!0):"function"!=typeof t?r=!0:e.rule=t,r)throw new Error("Wrong parameter!")},_required:function(e){switch(this._getType(e)){case"jqx-input-inner":if(0<e.find("input").length)return""!==p.trim(e.find("input").val());break;case"textarea":case"password":case"jqx-input":case"jqx-text-area":case"text":var t=p.data(e[0]);if(t.jqxMaskedInput){var i=e.jqxMaskedInput("promptChar");return(s=e.jqxMaskedInput("value"))&&s.indexOf(i)<0}return t.jqxNumberInput?""!==e.jqxNumberInput("inputValue"):!!t.jqxDateTimeInput||""!==p.trim(e.val());case"checkbox":case"radio":return e.is(":checked");case"jqx-check-box":case"jqx-radio-button":return e[0].val();case"jqxCheckBox":case"jqxcheckbox":case"jqxradiobutton":case"jqxRadioButton":var s;return!0===(s=e.find("input").val())||1===s||"true"===s;case"div":return e.is(".jqx-checkbox")?e.jqxCheckBox("checked"):!!e.is(".jqx-radiobutton")&&e.jqxRadioButton("checked")}return!1},_notNumber:function(e){return this._validateText(e,function(e){if(""==e)return!0;return!/\d/.test(e)})},_startWithLetter:function(e){return this._validateText(e,function(e){if(""==e)return!0;return!/\d/.test(e.substring(0,1))})},_number:function(e){return this._validateText(e,function(e){if(""==e)return!0;var t=new Number(e);return!isNaN(t)&&isFinite(t)})},_phone:function(e){return this._validateText(e,function(e){if(""==e)return!0;return/^\(\d{3}\)(\d){3}-(\d){4}$/.test(e)})},_length:function(e,t,i){return this._minLength(e,t)&&this._maxLength(e,i)},_maxLength:function(e,t){return t=parseInt(t,10),this._validateText(e,function(e){return e.length<=t})},_minLength:function(e,t){return t=parseInt(t,10),this._validateText(e,function(e){return e.length>=t})},_email:function(e){return this._validateText(e,function(e){if(""==e)return!0;return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)})},_zipCode:function(e){return this._validateText(e,function(e){if(""==e)return!0;return/^(^\d{5}$)|(^\d{5}-\d{4}$)|(\d{3}-\d{2}-\d{4})$/.test(e)})},_ssn:function(e){return this._validateText(e,function(e){if(""==e)return!0;return/\d{3}-\d{2}-\d{4}/.test(e)})},_validateText:function(e,t){return!!this._isTextInput(e)&&t(this._isjQWidget(e)&&0<e.find("input").length?e.find("input").val():e.val())},_isjQWidget:function(e){var t=p.data(e[0]);return!!(t.jqxMaskedInput||t.jqxNumberInput||t.jqxDateTimeInput)||(0<=e[0].tagName.toLowerCase().indexOf("jqx")||(0<=e[0].tagName.toLowerCase().indexOf("jqx-input")||(0<=e[0].tagName.toLowerCase().indexOf("jqx-password-input")||(0<=e[0].tagName.toLowerCase().indexOf("jqx-complex-input")||(0<=e[0].tagName.toLowerCase().indexOf("jqx-formatted-input")||(0<=e[0].tagName.toLowerCase().indexOf("jqx-masked-input")||(0<=e[0].tagName.toLowerCase().indexOf("jqx-date-time-input")||(0<=e[0].tagName.toLowerCase().indexOf("jqx-number-input")||(0<=e[0].tagName.toLowerCase().indexOf("jqx-check-box")||(0<=e[0].tagName.toLowerCase().indexOf("jqx-radio-button")||(0<=e[0].tagName.toLowerCase().indexOf("jqxcheckbox")||0<=e[0].tagName.toLowerCase().indexOf("angular"))))))))))))},_isTextInput:function(e){var t=this._getType(e);return"text"===t||"textarea"===t||"password"===t||"jqx-input-inner"===t||e.is(".jqx-input")||e.is(".jqx-text-area")},_getType:function(e){if(e[0]){var t=e[0].tagName.toLowerCase();return"textarea"===t?"textarea":e.is(".jqx-input")?"jqx-input":e.is(".jqx-text-area")?"jqx-text-area":0<e.find(".jqx-input").length?"jqx-input-inner":"input"===t?p(e).attr("type")?p(e).attr("type").toLowerCase():"text":"jqx-password-input"===t?"password":"jqx-check-box"===t?"jqx-check-box":"jqx-radio-button"===t?"jqx-radio-button":t}},_hintRender:function(e,t){if("label"==this.hintType){(s=p('<label class="'+this.toThemeProperty("jqx-validator-error-label")+'"></label>')).html(e);var i=this;return this.closeOnClick&&s.click(function(){i.hideHint(t.selector)}),"left"==this.position||"top"==this.position?s.insertBefore(p(t)):s.insertAfter(p(t)),s}var s=p('<div class="'+this.toThemeProperty("jqx-validator-hint")+' jqx-rc-all"></div>'),r=this;return s.html(e),this.closeOnClick&&s.click(function(){r.hideHint(t.selector)}),null==this.ownerElement?s.appendTo(document.body):this.ownerElement.innerHTML?s.appendTo(p(this.ownerElement)):s.appendTo(this.ownerElement),s},_hintLayout:function(e,t,i,s){if(this._hintRender===s.hintRender){var r;if(r=this._getPosition(t,i,e,s),"label"==this.hintType){var n="2px";"left"!=this.position&&"top"!=this.position||(n="-2px"),"input"!=t[0].nodeName.toLowerCase()&&"textarea"!=t[0].nodeName.toLowerCase()?(0<t.find(".jqx-text-area").length&&t.find(".jqx-text-area").addClass(this.toThemeProperty("jqx-validator-error-element")),0<t.find("input").length&&(0<t.find(".jqx-input").length?t.find(".jqx-input").addClass(this.toThemeProperty("jqx-validator-error-element")):0<t.find(".jqx-text-area").length?t.find(".jqx-text-area").addClass(this.toThemeProperty("jqx-validator-error-element")):t.is(".jqx-checkbox")&&t.find(".jqx-checkbox-default").addClass(this.toThemeProperty("jqx-validator-error-element")),t.is(".jqx-radiobutton")?t.find(".jqx-radiobutton-default").addClass(this.toThemeProperty("jqx-validator-error-element")):t.addClass(this.toThemeProperty("jqx-validator-error-element")))):t.addClass(this.toThemeProperty("jqx-validator-error-element"));var o=p("<span></span>");o.addClass(this.toThemeProperty("jqx-validator-hint")),o.html(e.text()),o.appendTo(p(document.body));var a=o.outerWidth();return o.remove(),e.css({position:"relative",left:p(t).css("margin-left"),width:p(t).width(),top:n}),void("center"==i&&(e.css("width",a),e.css("left","0px"),e.css("margin-left","auto"),e.css("margin-right","auto")))}e.css({position:"absolute",left:r.left,top:r.top}),this.arrow&&this._addArrow(t,e,i,r)}},_showHint:function(e){e&&"fade"===this.animation&&(e.fadeOut(0),e.fadeIn(this.animationDuration))},_getPosition:function(e,t,i,s){var r,n,o=e.offset(),a=e.outerWidth(),l=e.outerHeight();if(this.rtl&&0<=t.indexOf("left")&&(t="right"),this.rtl&&0<=t.indexOf("right")&&(t="left"),null!=this.ownerElement&&((o={left:0,top:0}).top=parseInt(o.top)+e.position().top,o.left=parseInt(o.left)+e.position().left),s&&s.hintPositionRelativeElement){var d=p(s.hintPositionRelativeElement);o=d.offset(),a=d.width(),l=d.height()}return r=0<=t.indexOf("top")?o.top-l:0<=t.indexOf("bottom")?o.top+i.outerHeight()+this.hintPositionOffset+5:o.top,n=0<=t.indexOf("center")?o.left+this.hintPositionOffset+(a-i.outerWidth())/2:0<=t.indexOf("left")?o.left-i.outerWidth()-this.hintPositionOffset:0<=t.indexOf("right")?o.left+a+this.hintPositionOffset:o.left+this.hintPositionOffset,0<=t.indexOf(":")&&(t=t.split(":")[1].split(","),n+=parseInt(t[0],10),r+=parseInt(t[1],10)),this.positions||(this.positions=new Array),this.positions[Math.round(r)+"_"+Math.round(n)]&&this.positions[Math.round(r)+"_"+Math.round(n)].top==r&&(r+=e.outerHeight()),this.positions[Math.round(r)+"_"+Math.round(n)]={left:n,top:r},{left:n,top:r}},_addArrow:function(e,t,i,s){var r,n,o=p('<div class="'+this.toThemeProperty("jqx-validator-hint-arrow")+'"></div>');this.rtl&&0<=i.indexOf("left")&&(i="right"),this.rtl&&0<=i.indexOf("right")&&(i="left"),t.children(".jqx-validator-hint-arrow").remove(),t.append(o);var a=o.outerHeight(),l=o.outerWidth(),d=t.outerHeight(),h=t.outerWidth();this._addImage(o),n=0<=i.indexOf("top")?d-a:0<=i.indexOf("bottom")?-a:(d-a)/2-a/2,0<=i.indexOf("center")?r=(h-l)/2:0<=i.indexOf("left")?r=h-l/2-1:0<=i.indexOf("right")&&(r=-l/2),(0<=i.indexOf("topright")||0<=i.indexOf("bottomright"))&&(r=0),(0<=i.indexOf("topleft")||0<=i.indexOf("bottomleft"))&&(r=h-l),o.css({position:"absolute",left:r,top:n})},_addImage:function(e){var t=e.css("background-image");t=(t=(t=(t=t.replace('url("',"")).replace('")',"")).replace("url(","")).replace(")",""),e.css("background-image","none"),e.append('<img src="'+t+'" alt="Arrow" style="position: relative; top: 0px; left: 0px; width: '+e.width()+"px; height: "+e.height()+'px;" />')},_raiseEvent:function(e,t){var i=p.Event(this._events[e]);return i.args=t,this.host.trigger(i)},propertyChangedHandler:function(e,t,i,s){"rules"===t&&(this._configureInputs(),this._removeEventListeners(),this._addEventListeners())}})}(jqxBaseFramework),function(h){function o(e){var t=h(e);return"none"!==t.css("display")&&"hidden"!==t.css("visibility")}h.jqx.jqxWidget("jqxWindow","",{}),h.extend(h.jqx._jqxWindow.prototype,{defineInstance:function(){var e={height:"auto",width:200,minHeight:50,maxHeight:1200,minWidth:50,maxWidth:1200,showCloseButton:!0,disabled:!1,autoOpen:!0,keyboardCloseKey:"esc",title:"",content:"",draggable:!0,resizable:!0,animationType:"fade",closeAnimationDuration:250,showAnimationDuration:250,isModal:!1,position:"center",closeButtonSize:16,closeButtonAction:"hide",modalOpacity:.3,dragArea:null,okButton:null,cancelButton:null,dialogResult:{OK:!1,Cancel:!1,None:!0},collapsed:!1,showCollapseButton:!1,collapseAnimationDuration:150,collapseButtonSize:16,rtl:!1,keyboardNavigation:!0,headerHeight:null,_events:["created","closed","moving","moved","open","collapse","expand","open","close","resize"],initContent:null,enableResize:!0,restricter:null,autoFocus:!0,closing:null,_invalidArgumentExceptions:{invalidHeight:"Invalid height!",invalidWidth:"Invalid width!",invalidMinHeight:"Invalid minHeight!",invalidMaxHeight:"Invalid maxHeight!",invalidMinWidth:"Invalid minWidth!",invalidMaxWidth:"Invalid maxWidth",invalidKeyCode:"Invalid keyCode!",invalidAnimationType:"Invalid animationType!",invalidCloseAnimationDuration:"Invalid closeAnimationDuration!",invalidShowAnimationDuration:"Invalid showAnimationDuration!",invalidPosition:"Invalid position!",invalidCloseButtonSize:"Invalid closeButtonSize!",invalidCollapseButtonSize:"Invalid collapseButtonSize!",invalidCloseButtonAction:"Invalid cluseButtonAction!",invalidModalOpacity:"Invalid modalOpacity!",invalidDragArea:"Invalid dragArea!",invalidDialogResult:"Invalid dialogResult!",invalidIsModal:"You can have just one modal window!"},_enableResizeCollapseBackup:null,_enableResizeBackup:void 0,_heightBeforeCollapse:null,_minHeightBeforeCollapse:null,_mouseDown:!1,_isDragging:!1,_rightContentWrapper:null,_leftContentWrapper:null,_headerContentWrapper:null,_closeButton:null,_collapseButton:null,_title:null,_content:null,_mousePosition:{},_windowPosition:{},_modalBackground:null,_SCROLL_WIDTH:21,_visible:!0,modalBackgroundZIndex:1299,modalZIndex:1800,zIndex:1e3,_touchEvents:{mousedown:h.jqx.mobile.getTouchEventName("touchstart"),mouseup:h.jqx.mobile.getTouchEventName("touchend"),mousemove:h.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:h.jqx.mobile.getTouchEventName("touchstart")}};return this===h.jqx._jqxWindow.prototype||h.extend(!0,this,e),e},createInstance:function(){this.host.initAnimate&&this.host.initAnimate(),this.host.attr("role","dialog"),this.host.removeAttr("data-bind"),this.host.appendTo(document.body);var n=this;!function(e){for(var t=0;t<e.length;t++){var i=e[t];n[i]&&0<=n[i].toString().indexOf("px")&&(n[i]=parseInt(n[i],10))}}(["minWidth","minHeight","maxWidth","maxHeight","width","height"]);var e=function(){var e=parseInt(h(n.restricter).css("padding-top"),10),t=parseInt(h(n.restricter).css("padding-left"),10),i=parseInt(h(n.restricter).css("padding-bottom"),10),s=parseInt(h(n.restricter).css("padding-right"),10),r=h(n.restricter).coord();n.dragArea={left:t+r.left,top:e+r.top,width:1+s+h(n.restricter).width(),height:1+i+h(n.restricter).height()}};if(this.restricter&&e(),this.restricter&&(this.addHandler(h(window),"resize."+this.element.id,function(){e()}),this.addHandler(h(window),"orientationchanged."+this.element.id,function(){e()}),this.addHandler(h(window),"orientationchange."+this.element.id,function(){e()})),this._isTouchDevice=h.jqx.mobile.isTouchDevice(),this._validateProperties(),this._createStructure(),this._refresh(),this.autoOpen||(this.element.style.display="none"),h.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.isModal||this._fixWindowZIndex(),this._setStartupSettings(),this._positionWindow(),this._raiseEvent(0),this.autoOpen){this._performLayout();this.isModal&&this._fixWindowZIndex("modal-show"),this.initContent&&(this.initContent(),this._contentInitialized=!0),this._raiseEvent(7),this._raiseEvent(9)}},refresh:function(){this._performLayout()},_setStartupSettings:function(){this.disabled&&this.disable(),this.collapsed&&(this.collapsed=!1,this.collapse(0)),this.autoOpen||(this.hide(null,.001,!0),this._visible=!1),null!==this.title&&""!==this.title&&this.setTitle(this.title),null!==this.content&&""!==this.content&&this.setContent(this.content),this.title=this._headerContentWrapper.html(),this.content=this._content.html()},_fixWindowZIndex:function(e){var t=h.data(document.body,"jqxwindows-list")||[],i=this.zIndex;if(this.isModal){t&&(t=this._removeFromArray(this.host,t),h.data(document.body,"jqxwindows-list",t));var s=h.data(document.body,"jqxwindows-modallist");if(s)if("modal-show"==e)s.push(this.host);else{var r=s.indexOf(this.host);-1!=r&&s.splice(r,1)}else if("modal-show"==e){var n=[];n.push(this.host),h.data(document.body,"jqxwindows-modallist",n),s=n}else h.data(document.body,"jqxwindows-modallist",[]),s=[];return i=this.modalZIndex,h.each(s,function(){if(this.data()&&this.data().jqxWindow){var e=this.data().jqxWindow.instance;e._modalBackground.style.zIndex=i,e.element.style.zIndex=i+1,i+=2}}),void h.data(document.body,"jqxwindow-modal",this.host)}if(this._indexOf(this.host,t)<0&&t.push(this.host),h.data(document.body,"jqxwindows-list",t),1<t.length){var o=t[t.length-2];if("auto"==o.css("z-index"))i=this.zIndex+t.length+1;else{var a=this.zIndex;(i=parseInt(o.css("z-index"),10)+1)<a&&(i=a)}}this.element.style.zIndex=i,this._sortByStyle("z-index",t)},_validateProperties:function(){try{if(this._validateSize(),this._validateAnimationProperties(),this._validateInteractionProperties(),this._validateModalProperties(),!this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if(isNaN(this.closeButtonSize)||parseInt(this.closeButtonSize,10)<0)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonSize);if(isNaN(this.collapseButtonSize)||parseInt(this.collapseButtonSize,10)<0)throw new Error(this._invalidArgumentExceptions.invalidCollapseButtonSize)}catch(e){throw new Error(e)}},_validateModalProperties:function(){if(this.modalOpacity<0||1<this.modalOpacity)throw new Error(this._invalidArgumentExceptions.invalidModalOpacity);if(this.isModal&&!this._singleModalCheck())throw new Error(this._invalidArgumentExceptions.invalidIsModal)},_validateSize:function(){if(this._validateSizeLimits(),"auto"!==this.height&&isNaN(parseInt(this.height,10)))throw new Error(this._invalidArgumentExceptions.invalidHeight);if("auto"!==this.width&&isNaN(parseInt(this.width,10)))throw new Error(this._invalidArgumentExceptions.invalidWidth);"auto"!==this.height&&this.height<this.minHeight&&(this.height=this.minHeight),this.width<this.minWidth&&(this.width=this.minWidth),"auto"!==this.height&&this.height>this.maxHeight&&(this.height=this.maxHeight),this.width>this.maxWidth&&(this.width=this.maxWidth),null!==this.dragArea&&(this.dragArea&&(null!==this.dragArea.height&&this.host.height()>this.dragArea.height||parseInt(this.height,10)>this.dragArea.height)||null!==this.dragArea.width&&this.width>this.dragArea.width||this.maxHeight>this.dragArea.height||(this.maxWidth,this.dragArea.width))},_validateSizeLimits:function(){if(null==this.maxHeight&&(this.maxHeight=9999),null==this.minWidth&&(this.minWidth=0),null==this.maxWidth&&(this.maxWidth=9999),null==this.minHeight&&(this.minHeight=0),isNaN(parseInt(this.minHeight,10)))throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(isNaN(parseInt(this.maxHeight,10)))throw new Error(this._invalidArgumentExceptions.invalidMaxHeight);if(isNaN(parseInt(this.minWidth,10)))throw new Error(this._invalidArgumentExceptions.invalidMinWidth);if(isNaN(parseInt(this.maxWidth,10)))throw new Error(this._invalidArgumentExceptions.invalidMaxWidth);if(this.minHeight&&this.maxHeight&&parseInt(this.minHeight,10)>parseInt(this.maxHeight,10)&&this.maxHeight!=Number.MAX_VALUE)throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(this.minWidth&&this.maxWidth&&parseInt(this.minWidth,10)>parseInt(this.maxWidth,10)&&this.maxWidth!=Number.MAX_VALUE)throw new Error(this._invalidArgumentExceptions.invalidMinWidth)},_validateAnimationProperties:function(){if("fade"!==this.animationType&&"slide"!==this.animationType&&"combined"!==this.animationType&&"none"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(isNaN(parseInt(this.closeAnimationDuration,10))||this.closeAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidCloseAnimationDuration);if(isNaN(parseInt(this.showAnimationDuration,10))||this.showAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidShowAnimationDuration)},_validateInteractionProperties:function(){if(parseInt(this.keyCode,10)<0||130<parseInt(this.keyCode,10)&&"esc"!==this.keyCode)throw new Error(this._invalidArgumentExceptions.invalidKeyCode);if(null!==this.dragArea&&(void 0===this.dragArea.width||void 0===this.dragArea.height||void 0===this.dragArea.left||void 0===this.dragArea.top))throw new Error(this._invalidArgumentExceptions.invalidDragArea);if(!this.dialogResult||!this.dialogResult.OK&&!this.dialogResult.Cancel&&!this.dialogResult.None)throw new Error(this._invalidArgumentExceptions.invalidDialogResult);if("hide"!==this.closeButtonAction&&"close"!==this.closeButtonAction)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonAction)},_singleModalCheck:function(){for(var e=h.data(document.body,"jqxwindows-list")||[],t=e.length;t;)if(0<h(e[t-=1].attr("id")).length&&h(e[t].attr("id")).jqxWindow("isModal"))return!1;return!0},_createStructure:function(){var e=this.host.children();if(1===e.length)this._content=e[0],this._header=document.createElement("div"),this._header.innerHTML=this.host.attr("caption"),this.element.insertBefore(this._header,this._content),this.host.attr("caption",""),this._header=h(this._header),this._content=h(this._content);else{if(2!==e.length)throw new Error("Invalid structure!");this._header=h(e[0]),this._content=h(e[1])}},_refresh:function(){this._render(),this._addStyles(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._initializeResize()},_render:function(){this._addHeaderWrapper(),this._addCloseButton(),this._addCollapseButton(),this._removeModal(),this._makeModal()},_addHeaderWrapper:function(){this._headerContentWrapper||(this._header[0].innerHTML='<div style="float:left;">'+this._header[0].innerHTML+"</div>",this._headerContentWrapper=h(this._header.children()[0]),null!==this.headerHeight&&this._header.height(this.headerHeight))},_addCloseButton:function(){this._closeButton||(this._closeButtonWrapper=document.createElement("div"),this._closeButtonWrapper.className=this.toThemeProperty("jqx-window-close-button-background"),this._closeButton=document.createElement("div"),this._closeButton.className=this.toThemeProperty("jqx-window-close-button jqx-icon-close"),this._closeButton.style.width="100%",this._closeButton.style.height="100%",this._closeButtonWrapper.appendChild(this._closeButton),this._header[0].appendChild(this._closeButtonWrapper),this._closeButtonWrapper=h(this._closeButtonWrapper),this._closeButton=h(this._closeButton))},_addCollapseButton:function(){this._collapseButton||(this._collapseButtonWrapper=document.createElement("div"),this._collapseButtonWrapper.className=this.toThemeProperty("jqx-window-collapse-button-background"),this._collapseButton=document.createElement("div"),this._collapseButton.className=this.toThemeProperty("jqx-window-collapse-button jqx-icon-arrow-up"),this._collapseButton.style.width="100%",this._collapseButton.style.height="100%",this._collapseButtonWrapper.appendChild(this._collapseButton),this._header[0].appendChild(this._collapseButtonWrapper),this._collapseButtonWrapper=h(this._collapseButtonWrapper),this._collapseButton=h(this._collapseButton))},_removeModal:function(){this.isModal||"object"!=typeof this._modalBackground||null===this._modalBackground||(h("."+this.toThemeProperty("jqx-window-modal")).remove(),this._modalBackground=null)},focus:function(){try{this.host.focus();var e=this;setTimeout(function(){e.host.focus()},10)}catch(e){}},_makeModal:function(){if(this.isModal&&!this._modalBackground){var e=h.data(document.body,"jqxwindows-list");e&&(this._removeFromArray(this.host,e),h.data(document.body,"jqxwindows-list",e)),this._modalBackground=document.createElement("div"),this._modalBackground.className=this.toThemeProperty("jqx-window-modal"),this._setModalBackgroundStyles(),document.body.appendChild(this._modalBackground),this.addHandler(this._modalBackground,this._getEvent("click"),function(){return!1});var o=this;this.addHandler(this._modalBackground,"mouseup",function(e){o._stopResizing(o),e.preventDefault()}),this.addHandler(this._modalBackground,"mousedown",function(e){var t=o._getTabbables();return 0<t.length&&(t[0].focus(1),setTimeout(function(){t[0].focus(1)},100)),e.preventDefault(),!1}),this.addHandler(h(document),"keydown.window"+this.element.id,function(e){if(9===e.keyCode){var t=h.data(document.body,"jqxwindows-modallist");if(!(1<t.length&&t[t.length-1][0]!=o.element)){var i,s=o._getTabbables(),r=null,n=null;if(0!==o.element.offsetWidth&&0!==o.element.offsetHeight)if(0<s.length&&(r=s[0],n=s[s.length-1]),e.target!=o.element)if(null!=r)return i=e.target,o.element.contains(i)&&(e.target!==n||e.shiftKey)?e.target===r&&e.shiftKey?(n.focus(1),!1):void 0:(r.focus(1),!1)}}})}},_addStyles:function(){this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-window")),this.host.addClass(this.toThemeProperty("jqx-popup")),h.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-window-header")),this._content.addClass(this.toThemeProperty("jqx-window-content")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._content.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-disableselect")),this._header.addClass(this.toThemeProperty("jqx-rc-t")),this._content.addClass(this.toThemeProperty("jqx-rc-b")),this.host.attr("tabindex")||(this.element.tabIndex=0,this._header[0].tabIndex=0,this._content[0].tabIndex=0),this.element.setAttribute("hideFocus","true"),this.element.style.outline="none"},_performHeaderLayout:function(){this._handleHeaderButtons(),this._header[0].style.position="relative",this.rtl?(this._headerContentWrapper[0].style.direction="rtl",this._headerContentWrapper[0].style.float="right"):(this._headerContentWrapper[0].style.direction="ltr",this._headerContentWrapper[0].style.float="left"),this._performHeaderCloseButtonLayout(),this._performHeaderCollapseButtonLayout(),this._centerElement(this._headerContentWrapper,this._header,"y","margin"),this.headerHeight&&(this._centerElement(this._closeButtonWrapper,this._header,"y","margin"),this._centerElement(this._collapseButtonWrapper,this._header,"y","margin"))},_handleHeaderButtons:function(){if(this._closeButtonWrapper){if(this.showCloseButton){this._closeButtonWrapper[0].style.visibility="visible";var e=this._toPx(this.closeButtonSize);this._closeButtonWrapper[0].style.width=e,this._closeButtonWrapper[0].style.height=e}else this._closeButtonWrapper[0].style.visibility="hidden";if(this.showCollapseButton){this._collapseButtonWrapper[0].style.visibility="visible";var t=this._toPx(this.collapseButtonSize);this._collapseButtonWrapper[0].style.width=t,this._collapseButtonWrapper[0].style.height=t}else this._collapseButtonWrapper[0].style.visibility="hidden"}},_performHeaderCloseButtonLayout:function(){if(this._closeButtonWrapper){var e=parseInt(this._header.css("padding-right"),10);isNaN(e)||(this._closeButtonWrapper.width(this._closeButton.width()),this.rtl?(this._closeButtonWrapper[0].style.marginRight="0px",this._closeButtonWrapper[0].style.marginLeft=this._toPx(e)):(this._closeButtonWrapper[0].style.marginRight=this._toPx(e),this._closeButtonWrapper[0].style.marginLeft="0px")),this._closeButtonWrapper[0].style.position="absolute",this.rtl?(this._closeButtonWrapper[0].style.right="",this._closeButtonWrapper[0].style.left="0px"):(this._closeButtonWrapper[0].style.right="0px",this._closeButtonWrapper[0].style.left="")}},_performHeaderCollapseButtonLayout:function(){if(this._closeButtonWrapper){var e=parseInt(this._header.css("padding-right"),10);if(!isNaN(e)){var t=this._toPx(this.collapseButtonSize);this._collapseButtonWrapper[0].style.width=t,this._collapseButtonWrapper[0].style.height=t,this.rtl?(this._collapseButtonWrapper[0].style.marginRight="0px",this._collapseButtonWrapper[0].style.marginLeft=this._toPx(e)):(this._collapseButtonWrapper[0].style.marginRight=this._toPx(e),this._collapseButtonWrapper[0].style.marginLeft="0px")}this._collapseButtonWrapper[0].style.position="absolute";var i=this._toPx(this.showCloseButton?this._closeButton.outerWidth(!0):0);this.rtl?(this._collapseButtonWrapper[0].style.right="",this._collapseButtonWrapper[0].style.left=i):(this._collapseButtonWrapper[0].style.right=i,this._collapseButtonWrapper[0].style.left=""),this._centerElement(this._collapseButton,h(this._collapseButton[0].parentElement),"y")}},_performWidgetLayout:function(){var e;"auto"!==this.width&&(this.width&&0<=this.width.toString().indexOf("%")?this.element.style.width=this.width:this.element.style.width=this._toPx(this.width)),this.collapsed||("auto"!==this.height?this.height&&0<=this.height.toString().indexOf("%")?this.element.style.height=this.height:this.element.style.height=this._toPx(this.height):this.element.style.height=this.host.height()+"px",this.element.style.minHeight=this._toPx(this.minHeight)),this._setChildrenLayout(),e=this._validateMinSize(),this.element.style.maxHeight=this._toPx(this.maxHeight),this.element.style.minWidth=this._toPx(this.minWidth),this.element.style.maxWidth=this._toPx(this.maxWidth),e||this._setChildrenLayout()},_setChildrenLayout:function(){this._header.width(this.host.width()-(this._header.outerWidth(!0)-this._header.width())),this._content.width(this.host.width()-(this._content.outerWidth(!0)-this._content.width())),this._content.height(this.host.height()-this._header.outerHeight(!0)-(this._content.outerHeight(!0)-this._content.height()))},_validateMinSize:function(){var e=!0;this.minHeight<this._header.height()&&(this.minHeight=this._header.height(),e=!1);var t=h(this._header.children()[0]).outerWidth()+(this._header.children()[1]?h(this._header.children()[1]).outerWidth():0);return this.minWidth<100&&(this.minWidth=Math.min(t,100),e=!1),e},_centerElement:function(e,t,i,s){"number"==typeof t.left&&"number"==typeof t.top&&"number"==typeof t.height&&"number"==typeof t.width?this._centerElementInArea(e,t,i):this._centerElementInParent(e,t,i,s)},_centerElementInParent:function(e,t,i,s){var r,n,o="none"===e.css("display");if(s?(r=s+"Top",n=s+"Left"):(r="top",n="left"),0<=(i=i.toLowerCase()).indexOf("y")){o&&(e[0].style.display="block");var a,l=e.outerHeight(!0);o&&(e[0].style.display="none"),a=t.height();var d=Math.max(0,a-l)/2;e[0].style[r]=d+"px"}if(0<=i.indexOf("x")){o&&(e[0].style.display="block");var h,c=e.outerWidth(!0);o&&(e[0].style.display="none"),h=t.width();var u=Math.max(0,h-c)/2;e[0].style[n]=u+"px"}},_centerElementInArea:function(e,t,i){if(0<=(i=i.toLowerCase()).indexOf("y")){var s=e.outerHeight(!0),r=(t.height-s)/2;e[0].style.top=r+t.top+"px"}if(0<=i.indexOf("x")){var n=e.outerWidth(!0),o=(t.width-n)/2;e[0].style.left=o+t.left+"px"}},_removeEventHandlers:function(){this.removeHandler(this._header,this._getEvent("mousedown")),this.removeHandler(this._header,this._getEvent("mousemove")),this.removeHandler(this._header,"focus"),this.removeHandler(h(document),this._getEvent("mousemove")+"."+this.host.attr("id")),this.removeHandler(h(document),this._getEvent("mouseup")+"."+this.host.attr("id")),this.removeHandler(this.host,"keydown"),this.removeHandler(this._closeButton,this._getEvent("click")),this.removeHandler(this._closeButton,this._getEvent("mouseenter")),this.removeHandler(this._closeButton,this._getEvent("mouseleave")),this.removeHandler(this._collapseButton,this._getEvent("click")),this.removeHandler(this._collapseButton,this._getEvent("mouseenter")),this.removeHandler(this._collapseButton,this._getEvent("mouseleave")),this.removeHandler(this.host,this._getEvent("mousedown")),this.okButton&&this.removeHandler(h(this.okButton),this._getEvent("click"),this._setDialogResultHandler),this.cancelButton&&this.removeHandler(h(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler),this.removeHandler(this._header,this._getEvent("mouseenter")),this.removeHandler(this._header,this._getEvent("mouseleave")),this.removeHandler(this.host,"resizing",this._windowResizeHandler)},_removeFromArray:function(e,t){return 0<=this._indexOf(e,t)?t.splice(this._indexOf(e,t),1):t},_sortByStyle:function(e,t){for(var i=0;i<t.length;i++)for(var s=t.length-1;i<s;s--){var r,n=t[s],o=t[s-1];parseInt(n.css(e),10)<parseInt(o.css(e),10)&&(r=n,t[s]=o,t[s-1]=r)}},_initializeResize:function(){if(this.resizable){this.initResize({target:this.host,alsoResize:this._content,maxWidth:this.maxWidth,minWidth:this.minWidth,maxHeight:this.maxHeight,minHeight:this.minHeight,indicatorSize:10,resizeParent:this.dragArea})}},_removeResize:function(){this.removeResize()},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},_addEventHandlers:function(){this._addDragDropHandlers(),this._addCloseHandlers(),this._addCollapseHandlers(),this._addFocusHandlers(),this._documentResizeHandlers(),this._closeButtonHover(),this._collapseButtonHover(),this._addDialogButtonsHandlers(),this._addHeaderHoverEffect(),this._addResizeHandlers();var e=this;this.addHandler(this._header,this._getEvent("mousemove"),function(){e._addHeaderCursorHandlers(e)})},_addResizeHandlers:function(){var e=this;e.addHandler(e.host,"resizing",e._windowResizeHandler,{self:e}),this.addHandler(h(window),"orientationchanged."+this.element.id,function(){e._performLayout()}),this.addHandler(h(window),"orientationchange."+this.element.id,function(){e._performLayout()})},_windowResizeHandler:function(e){var t=e.data.self;if(t._header.width(t.host.width()-(t._header.outerWidth(!0)-t._header.width())),t.width&&0<=t.width.toString().indexOf("%")){var i=1/(h(document.body).width()/100);t.width=i*e.args.width+"%"}else t.width=e.args.width;if(t.height&&0<=t.height.toString().indexOf("%")){i=1/(h(document.body).height()/100);t.height=i*e.args.height+"%"}else t.height=e.args.height},_addHeaderHoverEffect:function(){var e=this;this.addHandler(this._header,this._getEvent("mouseenter"),function(){h(this).addClass(e.toThemeProperty("jqx-window-header-hover"))}),this.addHandler(this._header,this._getEvent("mouseleave"),function(){h(this).removeClass(e.toThemeProperty("jqx-window-header-hover"))})},_addDialogButtonsHandlers:function(){this.okButton&&this.addHandler(h(this.okButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"ok"}),this.cancelButton&&this.addHandler(h(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"cancel"})},_documentResizeHandlers:function(){var t=this;this.isModal&&this.addHandler(h(window),"resize.window"+this.element.id,function(){if("object"==typeof t._modalBackground&&null!==t._modalBackground){if(t.isOpen()&&(t._modalBackground.style.display="none"),t.restricter)t._modalBackground.style.left=t._toPx(t.dragArea.left),t._modalBackground.style.top=t._toPx(t.dragArea.top),t._modalBackground.style.width=t._toPx(t.dragArea.width),t._modalBackground.style.height=t._toPx(t.dragArea.height);else{var e=t._getDocumentSize();t._modalBackground.style.width=e.width+"px",t._modalBackground.style.height=e.height+"px"}t.isOpen()&&(t._modalBackground.style.display="block")}})},_setDialogResultHandler:function(e){var t=e.data.self;t._setDialogResult(e.data.result),t.closeWindow()},_setDialogResult:function(e){switch(this.dialogResult.OK=!1,this.dialogResult.None=!1,this.dialogResult.Cancel=!1,e=e.toLowerCase()){case"ok":this.dialogResult.OK=!0;break;case"cancel":this.dialogResult.Cancel=!0;break;default:this.dialogResult.None=!0}},_getDocumentSize:function(){var e=h.jqx.browser.msie&&h.jqx.browser.version<9,t=e?4:0,i=t;return document.body.scrollHeight>document.body.clientHeight&&e&&(t=this._SCROLL_WIDTH),document.body.scrollWidth>document.body.clientWidth&&e&&(i=this._SCROLL_WIDTH),{width:h(document).width()-t,height:h(document).height()-i}},_closeButtonHover:function(){var e=this;this.addHandler(this._closeButton,this._getEvent("mouseenter"),function(){e._closeButton.addClass(e.toThemeProperty("jqx-window-close-button-hover"))}),this.addHandler(this._closeButton,this._getEvent("mouseleave"),function(){e._closeButton.removeClass(e.toThemeProperty("jqx-window-close-button-hover"))})},_collapseButtonHover:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("mouseenter"),function(){e._collapseButton.addClass(e.toThemeProperty("jqx-window-collapse-button-hover"))}),this.addHandler(this._collapseButton,this._getEvent("mouseleave"),function(){e._collapseButton.removeClass(e.toThemeProperty("jqx-window-collapse-button-hover"))})},_setModalBackgroundStyles:function(){if(this.isModal){var e=this._getDocumentSize();h.jqx.browser.msie&&h.jqx.browser.version<9?this._modalBackground.style.filter="alpha(opacity="+100*this.modalOpacity+")":this._modalBackground.style.opacity=this.modalOpacity,this._modalBackground.style.position="absolute",this._modalBackground.style.top="0px",this._modalBackground.style.left="0px",this._modalBackground.style.width=e.width,this._modalBackground.style.height=e.height,this._modalBackground.style.zIndex=this.modalBackgroundZIndex,this.autoOpen||(this._modalBackground.style.display="none")}},_addFocusHandlers:function(){var e=this;this.addHandler(this.host,this._getEvent("mousedown"),function(){e.isModal||e.bringToFront()})},_indexOf:function(e,t){for(var i=0;i<t.length;i++)if(t[i][0]===e[0])return i;return-1},_addCloseHandlers:function(){var s=this;this.addHandler(this._closeButton,this._getEvent("click"),function(e){return s._closeWindow(e)}),"none"!==this.keyboardCloseKey&&"number"!=typeof this.keyboardCloseKey&&"esc"===this.keyboardCloseKey.toLowerCase()&&(this.keyboardCloseKey=27),this.addHandler(this.host,"keydown",function(e){e.keyCode===s.keyboardCloseKey&&null!=s.keyboardCloseKey&&"none"!=s.keyboardCloseKey?s._closeWindow(e):s._handleKeys(e)},{self:this}),this.addHandler(this.host,"keyup",function(){if(s.keyboardNavigation&&s._moved){var e=s.host.coord(),t=e.left,i=e.top;s._raiseEvent(3,t,i,t,i),s._moved=!1}})},_handleKeys:function(e){if(this.keyboardNavigation&&this._headerFocused&&!h(document.activeElement).ischildof(this._content)){var t=e.ctrlKey,i=e.keyCode,s=this.host.coord(),r=s.left,n=s.top,o=this._getDraggingArea(),a=this.host.width(),l=this.host.height(),d=!0;switch(i){case 37:t?this.resizable&&this.resize(a-10,l):this.draggable&&0<=r-10&&this.move(r-10,n),d=!1;break;case 38:t?this.resizable&&this.resize(a,l-10):this.draggable&&0<=n-10&&this.move(r,n-10),d=!1;break;case 39:t?this.resizable&&this.resize(a+10,l):this.draggable&&r+a+10<=o.width&&this.move(r+10,n),d=!1;break;case 40:t?this.resizable&&this.resize(a,l+10):this.draggable&&n+l+10<=o.height&&this.move(r,n+10),d=!1}return d||(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),d}},_addCollapseHandlers:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("click"),function(){e.collapsed?e.expand():e.collapse()})},_closeWindow:function(){return this.closeWindow(),!1},_addHeaderCursorHandlers:function(e){e.resizeArea&&e.resizable&&!e.collapsed?e._header[0].style.cursor=e._resizeWrapper.style.cursor:e.draggable?e._header[0].style.cursor="move":(e._header[0].style.cursor="default",e._resizeWrapper&&(e._resizeWrapper.style.cursor="default"))},_addDragDropHandlers:function(){if(this.draggable){var s=this;this.addHandler(this.host,"focus",function(){s._headerFocused=!0}),this.addHandler(this.host,"blur",function(){s._headerFocused=!1}),this.addHandler(this._header,"focus",function(){return!(s._headerFocused=!0)}),this.addHandler(this._header,this._getEvent("mousedown"),function(e,t,i){return t&&(e.pageX=t),i&&(e.pageY=i),s._headerMouseDownHandler(s,e),!0}),this.addHandler(this._header,"dragstart",function(e){return e.preventDefault&&e.preventDefault(),!1}),this.addHandler(this._header,this._getEvent("mousemove"),function(e){return s._headerMouseMoveHandler(s,e)}),this.addHandler(h(document),this._getEvent("mousemove")+"."+this.host.attr("id"),function(e){return s._dragHandler(s,e)}),this.addHandler(h(document),this._getEvent("mouseup")+"."+this.host.attr("id"),function(e){return s._dropHandler(s,e)});try{if(""!==document.referrer||window.frameElement){var e=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(e=document.referrer),e&&-1!=e.indexOf(document.location.host)){var t=function(e){s._dropHandler(s,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",t,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",t)}}}catch(e){}}},_headerMouseDownHandler:function(e,t){if(e.isModal||e.bringToFront(),null==e._resizeDirection){var i=h.jqx.position(t);e._mousePosition.x=i.left,e._mousePosition.y=i.top,e._mouseDown=!0,e._isDragging=!1}},_headerMouseMoveHandler:function(e,t){if(e._mouseDown&&!e._isDragging){var i=h.jqx.mobile.getTouches(t)[0],s=i.pageX,r=i.pageY,n=h.jqx.position(t);return s=n.left,r=n.top,(s+3<e._mousePosition.x||s-3>e._mousePosition.x||r+3<e._mousePosition.y||r-3>e._mousePosition.y)&&(e._isDragging=!0,e._mousePosition={x:s,y:r},e._windowPosition={x:e.host.coord().left,y:e.host.coord().top},h(document.body).addClass(e.toThemeProperty("jqx-disableselect"))),!!e._isTouchDevice&&(t.preventDefault(),!0)}return!e._isDragging||!!e._isTouchDevice&&(t.preventDefault(),!0)},_dropHandler:function(e,t){var i=!0;if(e._isDragging&&!e.isResizing&&!e._resizeDirection){var s=parseInt(e.host.css("left"),10),r=parseInt(e.host.css("top"),10),n=e._isTouchDevice?0:t.pageX,o=e._isTouchDevice?0:t.pageY;e.enableResize=e._enableResizeBackup,e._enableResizeBackup="undefined",e._raiseEvent(3,s,r,n,o),i=!1,"undefined"!=t.preventDefault&&t.preventDefault(),null!=t.originalEvent&&(t.originalEvent.mouseHandled=!0),"undefined"!=t.stopPropagation&&t.stopPropagation()}return e._isDragging=!1,e._mouseDown=!1,h(document.body).removeClass(e.toThemeProperty("jqx-disableselect")),i},_dragHandler:function(e,t){if(e._isDragging&&!e.isResizing&&!e._resizeDirection){var i=e._isTouchDevice?t.originalEvent.which:t.which;if(void 0===e._enableResizeBackup&&(e._enableResizeBackup=e.enableResize),e.enableResize=!1,0===i&&h.jqx.browser.msie&&h.jqx.browser.version<8)return e._dropHandler(e,t);var s=h.jqx.position(t),r=s.left,n=s.top,o=r-e._mousePosition.x,a=n-e._mousePosition.y,l=e._windowPosition.x+o,d=e._windowPosition.y+a;return e.move(l,d,t),t.preventDefault(),!1}return!0},_validateCoordinates:function(e,t,i,s){var r=this._getDraggingArea();e=e<r.left?r.left:e,t=t<r.top?r.top:t;var n=this.host.outerWidth(!0),o=this.host.outerHeight(!0);return e+n>=r.width+r.left-2*s&&(e=r.width+r.left-n-s),t+o>=r.height+r.top-i&&(t=r.height+r.top-o-i),{x:e,y:t}},_performLayout:function(){this._performHeaderLayout(),this._performWidgetLayout()},_parseDragAreaAttributes:function(){null!==this.dragArea&&(this.dragArea.height=parseInt(this.dragArea.height,10),this.dragArea.width=parseInt(this.dragArea.width,10),this.dragArea.top=parseInt(this.dragArea.top,10),this.dragArea.left=parseInt(this.dragArea.left,10))},_positionWindow:function(){if(this._parseDragAreaAttributes(),this.position instanceof Array&&2===this.position.length&&"number"==typeof this.position[0]&&"number"==typeof this.position[1])this.element.style.left=this._toPx(this.position[0]),this.element.style.top=this._toPx(this.position[1]);else if(this.position instanceof Object){if(this.position.left)this.host.offset(this.position);else if(void 0!==this.position.x&&void 0!==this.position.y)this.element.style.left=this._toPx(this.position.x),this.element.style.top=this._toPx(this.position.y);else if(this.position.center){this._centerElement(this.host,this.position.center,"xy");var e=this.position.center.coord(),t=parseInt(this.host.css("left"),10),i=parseInt(this.host.css("top"),10);this.element.style.left=this._toPx(t+e.left),this.element.style.top=this._toPx(i+e.top)}}else this._positionFromLiteral()},_getDraggingArea:function(){var e={};return e.left=this.dragArea&&this.dragArea.left?this.dragArea.left:0,e.top=this.dragArea&&this.dragArea.top?this.dragArea.top:0,e.width=this.dragArea&&this.dragArea.width?this.dragArea.width:this._getDocumentSize().width,e.height=this.dragArea&&this.dragArea.height?this.dragArea.height:this._getDocumentSize().height,e},_positionFromLiteral:function(){this.position instanceof Array||(this.position=this.position.split(","));for(var e=this.position.length,t=this._getDraggingArea();e;)switch(e-=1,this.position[e]=this.position[e].replace(/ /g,""),this.position[e]){case"top":this.element.style.top=this._toPx(t.top);break;case"left":this.element.style.left=this._toPx(t.left);break;case"bottom":this.element.style.top=this._toPx(t.height-this.host.height()+t.top);break;case"right":this.element.style.left=this._toPx(t.left+t.width-this.host.width());break;default:this.dragArea||(t=h(window)),this._centerElement(this.host,t,"xy")}},_raiseEvent:function(e){var t=this._events[e],i=h.Event(t),s={};return 2!==e&&3!==e||(s.x=arguments[1],s.y=arguments[2],s.pageX=arguments[3],s.pageY=arguments[4]),"closed"!==t&&"close"!==t||(s.dialogResult=this.dialogResult),i.args=s,this.host.trigger(i)},destroy:function(){this.removeHandler(h(window),"resize.window"+this.element.id),this._removeEventHandlers(),this._destroy()},_destroy:function(){this.isModal&&(null!==this._modalBackground&&h(this._modalBackground).remove(),this.host.jqxWindow({isModal:!1})),this.restricter&&(this.removeHandler(h(window),"resize."+this.element.id),this.removeHandler(h(window),"orientationchanged."+this.element.id),this.removeHandler(h(window),"orientationchange."+this.element.id)),this.host.remove(),null!==this._modalBackground&&h(this._modalBackground).remove()},_toClose:function(e,t){return e&&t[0]===this.element||t[0]!==this.element&&"object"==typeof t[0]},propertyChangedHandler:function(e,t,i,s){switch(this._validateProperties(),t){case"rtl":this._performLayout();break;case"dragArea":this._positionWindow();break;case"collapseButtonSize":case"closeButtonSize":this._performLayout();break;case"isModal":if(this._refresh(),this._fixWindowZIndex(),!1===s)for(var r=h.data(document.body,"jqxwindows-modallist"),n=[],o=0;o<r.length;o++){r[o][0]!==this.element&&n.push(r[o])}h.data(document.body,"jqxwindows-modallist",n);break;case"keyboardCloseKey":this._removeEventHandlers(),this._addEventHandlers();break;case"disabled":s?this.disable():(this.disabled=!0,this.enable());break;case"showCloseButton":case"showCollapseButton":case"height":case"width":this._performLayout();break;case"title":this.setTitle(s),this.title=s;break;case"content":this.setContent(s);break;case"draggable":this._removeEventHandlers(),this._addEventHandlers(),this._removeResize(),this._initializeResize();break;case"resizable":(this.enableResize=s)?this._initializeResize():this._removeResize();break;case"position":this._positionWindow();break;case"modalOpacity":this._setModalBackgroundStyles();break;case"okButton":s?this._addDialogButtonsHandlers():this.removeHandler(this.okButton);break;case"cancelButton":s?this._addDialogButtonsHandlers():this.removeHandler(this.cancelButton);break;case"collapsed":s?i||(this.collapsed=!1,this.collapse(0)):i&&(this.collapsed=!0,this.expand(0));break;case"theme":h.jqx.utilities.setTheme(i,s,this.host);break;case"enableResize":return;case"maxWidth":case"maxHeight":case"minWidth":case"minHeight":return e._performLayout(),e._removeResize(),void e._initializeResize();default:return}},collapse:function(e){if(!this.collapsed&&!0!==this._animationInProgress){if("none"==this.host.css("display"))return;var t=this,i=this._header.outerHeight(!0),s=parseInt(this._header.css("border-bottom-width"),10),r=parseInt(this._header.css("margin-bottom"),10);e=isNaN(parseInt(e,10))?this.collapseAnimationDuration:e,isNaN(s)||(i-=2*s),isNaN(r)||(i+=r),this._heightBeforeCollapse=this.host.height(),this._minHeightBeforeCollapse=this.host.css("min-height"),this.element.style.minHeight=this._toPx(i),t._animationInProgress=!0,this.host.animate({height:i},{duration:e,complete:function(){t._animationInProgress=!1,t.collapsed=!0,t._collapseButton.addClass(t.toThemeProperty("jqx-window-collapse-button-collapsed")),t._collapseButton.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t._content[0].style.display="none",t._raiseEvent(5),t._raiseEvent(9),h.jqx.aria(t,"aria-expanded",!1)}})}},expand:function(e){if(this.collapsed&&!0!==this._animationInProgress){var t=this;e=isNaN(parseInt(e,10))?this.collapseAnimationDuration:e,t._animationInProgress=!0,this.host.animate({height:this._heightBeforeCollapse},{duration:e,complete:function(){t._animationInProgress=!1,t.collapsed=!1,t.element.style.minHeight=t._toPx(t._minHeightBeforeCollapse),t._collapseButton.removeClass(t.toThemeProperty("jqx-window-collapse-button-collapsed")),t._collapseButton.removeClass(t.toThemeProperty("jqx-icon-arrow-down")),t._content[0].style.display="block",t._raiseEvent(6),t._performWidgetLayout(),t._raiseEvent(9),h.jqx.aria(t,"aria-expanded",!0)}})}},closeAll:function(e){for(var t=h.data(document.body,"jqxwindows-list"),i=t.length,s=h.data(document.body,"jqxwindow-modal")||[];i;)i-=1,this._toClose(!0,t[i])&&(t[i].jqxWindow("closeWindow","close"),t.splice(i,1));this._toClose(!0,s)&&(s.jqxWindow("closeWindow","close"),h.data(document.body,"jqxwindow-modal",[])),h.data(document.body,"jqxwindows-list",t)},setTitle:function(e){if("string"==typeof e)this._headerContentWrapper.html(e);else if("object"==typeof e)try{this._headerContentWrapper[0].innerHTML="",e instanceof HTMLElement?this._headerContentWrapper[0].appendChild(e):e.appendTo&&e.appendTo(this._headerContentWrapper)}catch(e){throw new Error(e)}this.title=e,this._performLayout()},setContent:function(e){this._contentInitialized=!1;for(var t=this._content,i=!1;!i;)t[0].style.width="auto",t[0].style.height="auto",t.hasClass("jqx-window")?i=!0:t=h(t[0].parentNode);if(h.isArray(e))for(var s=0;s<e.length;s++)e[s].appendTo(this._content);else if("string"==typeof e)h(this._content[0]).html(e);else if("object"==typeof e)try{this._content[0].innerHTML="",e instanceof HTMLElement?this._content[0].appendChild(e):e.appendTo&&e.appendTo(this._content)}catch(e){throw new Error(e)}this.content=e,this._performLayout()},disable:function(){this.disabled=!0,this._removeEventHandlers(),this._header.addClass(this.toThemeProperty("jqx-window-header-disabled")),this._closeButton.addClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.addClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this._content.addClass(this.toThemeProperty("jqx-window-content-disabled")),this.host.addClass(this.toThemeProperty("jqx-window-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._removeResize()},enable:function(){this.disabled&&(this._addEventHandlers(),this._header.removeClass(this.toThemeProperty("jqx-window-header-disabled")),this._content.removeClass(this.toThemeProperty("jqx-window-content-disabled")),this._closeButton.removeClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.removeClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this.host.removeClass(this.toThemeProperty("jqx-window-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1,this._initializeResize())},isOpen:function(){return this._visible},closeWindow:function(e){var t=this;e=void 0===e?this.closeButtonAction:e,this.hide(function(){"close"===e&&t._destroy()})},bringToFront:function(){var e=h.data(document.body,"jqxwindows-list");if(this.isModal)return e=h.data(document.body,"jqxwindows-modallist"),this._fixWindowZIndex("modal-hide"),void this._fixWindowZIndex("modal-show");for(var t=e[e.length-1],i=parseInt(t.css("z-index"),10),s=this._indexOf(this.host,e),r=e.length-1;s<r;r-=1){var n=parseInt(e[r].css("z-index"),10)-1;e[r][0].style.zIndex=n}this.element.style.zIndex=i,this._sortByStyle("z-index",e)},hide:function(e,t,i){var s=this;if(this.closing&&!1===this.closing())return;switch(t=t||this.closeAnimationDuration,this.animationType){case"none":this.element.style.display="none";break;case"fade":s._animationInProgress=!0,this.host.fadeOut({duration:t,callback:function(){s._animationInProgress=!1,e instanceof Function&&e()}});break;case"slide":s._animationInProgress=!0,this.host.slideUp({duration:t,callback:function(){s._animationInProgress=!1,e instanceof Function&&e()}});break;case"combined":s._animationInProgress=!0,this.host.animate({opacity:0,width:"0px",height:"0px"},{duration:t,complete:function(){s._animationInProgress=!1,s.element.style.display="none",e instanceof Function&&e()}})}this._visible=!1,this.isModal&&(h(this._modalBackground).hide(),this._fixWindowZIndex("modal-hide")),!0!==i&&(this._raiseEvent(1),this._raiseEvent(8))},open:function(e,t){this.show(e,t)},close:function(e,t,i){this.hide(e,t,i)},show:function(e,t){var i=this;switch(this._setDialogResult("none"),t=t||this.showAnimationDuration,this.animationType){case"none":this.element.style.display="block";break;case"fade":i._animationInProgress=!0,this.host.fadeIn({duration:t,complete:function(){i._animationInProgress=!1,e instanceof Function&&e()}});break;case"slide":i._animationInProgress=!0,this.host.slideDown({duration:t,callback:function(){i._animationInProgress=!1,e instanceof Function&&e()}});break;case"combined":this.element.style.display="block";var s=i.host.width(),r=i.host.height();this.element.style.minWidth="0px",this.element.style.minHeight="0px",this.element.style.opacity=0,this.element.style.width="0px",this.element.style.height="0px",i._animationInProgress=!0,this.host.animate({opacity:1,width:s+"px",height:r+"px"},{duration:t,complete:function(){i._animationInProgress=!1,i._performLayout(),e instanceof Function&&e()}})}this.isModal&&(h(this._modalBackground).show(),this._fixWindowZIndex("modal-show"));var n=this;if(this._visible||(150<t&&"none"!=this.animationType?setTimeout(function(){n._contentInitialized||n.initContent&&(n.initContent(),n._contentInitialized=!0),n._raiseEvent(7),n._raiseEvent(9)},t-150):(n._contentInitialized||n.initContent&&(n.initContent(),n._contentInitialized=!0),this._raiseEvent(7),n._raiseEvent(9))),this._visible=!0,"combined"!==i.animationType&&this._performLayout(),this.autoFocus){var o=function(){n._isTouchDevice||n._content[0].focus()};o(),setTimeout(function(){o()},100)}},_getTabbables:function(){var e;e=h.jqx.browser.msie&&h.jqx.browser.version<9?this._content.find("*"):this._content[0].querySelectorAll("*");var s=[];return h.each(e,function(){var e,t,i;t=(e=this).getAttribute("tabindex"),((i=null===t)||0<=t)&&function(e,t){var i=e.nodeName.toLowerCase();if("area"===i){var s,r=e.parentNode,n=r.name;return!(!e.href||!n||"map"!==r.nodeName.toLowerCase())&&!!(s=h("img[usemap=#"+n+"]")[0])&&o(s)}return(/input|select|textarea|button|object/.test(i)?!e.disabled:"a"==i&&e.href||t)&&o(e)}(e,!i)&&(s[s.length]=this)}),s},move:function(e,t,i,s){var r,n,o,a=0,l=0;if(e=parseInt(e,10),t=parseInt(t,10),h.jqx.browser.msie&&(h(window).width()>h(document).width()&&!this.dragArea&&(l=this._SCROLL_WIDTH),h(window).height()<h(document).height()&&document.documentElement.clientWidth>document.documentElement.scrollWidth&&!this.dragArea&&(a=this._SCROLL_WIDTH)),r=this._validateCoordinates(e,t,l,a),parseInt(this.host.css("left"),10)!==r.x||parseInt(this.host.css("top"),10)!==r.y){if(i){var d=h.jqx.position(i);n=d.left,o=d.top}void 0===n&&(n=e),void 0===o&&(o=t),!1!==s&&this._raiseEvent(2,r.x,r.y,n,o)}this.element.style.left=r.x+"px",this.element.style.top=r.y+"px",this._moved=!0},_toPx:function(e){return"number"==typeof e?e+"px":e}})}(jqxBaseFramework),function(e){var o,t=(o=jqxBaseFramework,{resizeConfig:function(){this.resizeTarget=null,this.resizeIndicatorSize=5,this.resizeTargetChildren=null,this.isResizing=!1,this.resizeArea=!1,this.minWidth=1,this.maxWidth=100,this.minHeight=1,this.maxHeight=100,this.resizeParent=null,this.enableResize=!0,this._resizeEvents=["resizing","resized","resize"],this._resizeMouseDown=!1,this._resizeCurrentMode=null,this._mouseResizePosition={},this._resizeMethods=null,this._SCROLL_WIDTH=21},_resizeExceptions:{invalidTarget:"Invalid target!",invalidMinHeight:"Invalid minimal height!",invalidMaxHeight:"Invalid maximum height!",invalidMinWidth:"Invalid minimum width!",invalidMaxWidth:"Invalid maximum width!",invalidIndicatorSize:"Invalid indicator size!",invalidSize:"Invalid size!"},removeResize:function(){if(this.resizeTarget){var e=o(this.resizeTarget.children(".jqx-resize"));e.detach();var t=e.children();this._removeResizeEventListeners();for(var i=0;i<t.length;i+=1)o(t[i]).detach(),this.resizeTarget.append(t[i]);e.remove()}this._resizeDirection=null},initResize:function(e){this.resizeConfig(),this.resizeTarget=o(e.target),this.resizeIndicatorSize=e.indicatorSize||10,this.maxWidth=e.maxWidth||100,this.minWidth=e.minWidth||1,this.maxHeight=e.maxHeight||100,this.minHeight=e.minHeight||1,this.resizeParent=e.resizeParent,this._parseResizeParentProperties(),this._validateResizeProperties(),this._validateResizeTargetDimensions(),this._getChildren(this.resizeTarget.maxWidth,this.resizeTarget.minWidth,this.resizeTarget.maxHeight,this.resizeTarget.minHeight,e.alsoResize),this._refreshResize(),this._cursorBackup=this.resizeTarget.css("cursor"),"auto"===this._cursorBackup&&(this._cursorBackup="default")},_validateResizeTargetDimensions:function(){this.resizeTarget.maxWidth=this.maxWidth,this.resizeTarget.minWidth=3*this.resizeIndicatorSize>this.minWidth?3*this.resizeIndicatorSize:this.minWidth,this.resizeTarget.maxHeight=this.maxHeight,this.resizeTarget.minHeight=3*this.resizeIndicatorSize>this.minHeight?3*this.resizeIndicatorSize:this.minHeight},_parseResizeParentProperties:function(){this.resizeParent&&(this.resizeParent.left=parseInt(this.resizeParent.left,10),this.resizeParent.top=parseInt(this.resizeParent.top,10),this.resizeParent.width=parseInt(this.resizeParent.width,10),this.resizeParent.height=parseInt(this.resizeParent.height,10))},_getChildren:function(e,t,i,s,r){this.resizeTargetChildren=o(r),this.resizeTargetChildren=this.resizeTargetChildren.toArray();for(var n=this.resizeTargetChildren.length;n;)n-=1,this.resizeTargetChildren[n]=o(this.resizeTargetChildren[n])},_refreshResize:function(){this._renderResize(),this._performResizeLayout(),this._removeResizeEventListeners(),this._addResizeEventHandlers()},_renderResize:function(){if(!(void 0!==this._resizeWrapper&&0<o(this._resizeWrapper).parents().length)){var e=document.createElement("div");e.className="jqx-resize jqx-rc-all",e.style.zIndex=8e3,e.appendChild(this._header[0]),e.appendChild(this._content[0]),this.resizeTarget[0].appendChild(e),this._resizeWrapper=e}},_performResizeLayout:function(){this._resizeWrapper.style.height=this.resizeTarget.height()+"px",this._resizeWrapper.style.width=this.resizeTarget.width()+"px"},_removeResizeEventListeners:function(){var e=this.resizeTarget.attr("id");this.removeHandler(this._resizeWrapper,"mousemove.resize"+e),this.removeHandler(this._resizeWrapper,"mousedown.resize"+e),this.removeHandler(o(document),"mousemove.resize"+e),this.removeHandler(o(document),"mouseup.resize"+e)},_addResizeEventHandlers:function(){var e=this.resizeTarget.attr("id"),t=this;t._isTouchDevice?(this.addHandler(this._resizeWrapper,"touchmove.resize."+e,function(e){t._resizeCursorChangeHandler(t,e)}),this.addHandler(this._resizeWrapper,"touchstart.resize."+e,function(e){t._resizeCursorChangeHandler(t,e),t._resizeMouseDownHandler(t,e)}),this.addHandler(o(document),"touchmove.resize."+e,function(e){return t._resizeHandler(t,e)}),this.addHandler(o(document),"touchend.resize."+e,function(e){t._stopResizing(t,e)})):(this.addHandler(this._resizeWrapper,"mousemove.resize."+e,function(e){t._resizeCursorChangeHandler(t,e)}),this.addHandler(this._resizeWrapper,"mousedown.resize."+e,function(e){t._resizeMouseDownHandler(t,e)}),this.addHandler(o(document),"mousemove.resize."+e,function(e){return t._resizeHandler(t,e)}),this.addHandler(o(document),"mouseup.resize."+e,function(e){t._stopResizing(t,e)}));try{if(""!==document.referrer||window.frameElement){var i=function(e){t._stopResizing(t,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",i,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",i)}}catch(e){}},_stopResizing:function(e){e.enableResize&&(e.isResizing&&e._raiseResizeEvent(1),e._resizeMouseDown=!1,e.isResizing=!1,e._resizeDirection=null,e.resizeTarget&&e.resizeTarget.removeClass("jqx-disableselect")),"undefined"==e._cursorBackup&&(e._cursorBackup="default"),e._resizeWrapper&&(e._resizeWrapper.style.cursor=e._cursorBackup)},_resizeHandler:function(e,t){if(e.enableResize&&!e.collapsed){if(e.isResizing&&e._resizeDirection){if(0===t.which&&o.jqx.browser.msie&&o.jqx.browser.version<9&&e._stopResizing(t),e._isTouchDevice){var i=o.jqx.position(t);return e._performResize(i.left,i.top),!1}return e._performResize(t.pageX,t.pageY),!1}return e._isTouchDevice?(i=o.jqx.position(t),e._resizeCaptureCursor(i.left,i.top)):e._resizeCaptureCursor(t.pageX,t.pageY)}},_resizeCaptureCursor:function(e,t){if(this._resizeMouseDown&&!this.isResizing&&this._resizeDirection){if(this._isTouchDevice)return this._changeCursor(e-parseInt(this.resizeTarget.css("left"),10),t-parseInt(this.resizeTarget.css("top"),10)),this._mouseResizePosition={x:e,y:t},this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this.resizeTarget.addClass("jqx-disableselect"),!1;if(e+3<this._mouseResizePosition.x||e-3>this._mouseResizePosition.x||t+3<this._mouseResizePosition.y||t-3>this._mouseResizePosition.y)return this._changeCursor(e-parseInt(this.resizeTarget.css("left"),10),t-parseInt(this.resizeTarget.css("top"),10)),this._mouseResizePosition={x:e,y:t},this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this.resizeTarget.addClass("jqx-disableselect"),!1}},_resizeBackupData:function(){this.resizeTarget.lastWidth=this.resizeTarget.width(),this.resizeTarget.lastHeight=this.resizeTarget.height(),this.resizeTarget.x=parseInt(this.resizeTarget.css("left"),10),this.resizeTarget.y=parseInt(this.resizeTarget.css("top"),10),this._resizeBackupChildrenSize()},_resizeBackupChildrenSize:function(){for(var e,t=this.resizeTargetChildren.length;t;)t-=1,e=this.resizeTargetChildren[t],this.resizeTargetChildren[t].lastWidth=e.width(),this.resizeTargetChildren[t].lastHeight=e.height()},_performResize:function(e,t){var i=e-this._mouseResizePosition.x,s=t-this._mouseResizePosition.y;this._resizeDirection&&this._resize(this.resizeTarget,i,s)},_resizeCursorChangeHandler:function(e,t){if(e.enableResize&&!e.collapsed&&!e.isResizing){if(e._isTouchDevice){var i=o.jqx.position(t);return void e._changeCursor(i.left-parseInt(e.resizeTarget.css("left"),10),i.top-parseInt(e.resizeTarget.css("top"),10))}e._changeCursor(t.pageX-parseInt(e.resizeTarget.css("left"),10),t.pageY-parseInt(e.resizeTarget.css("top"),10))}},_resizeMouseDownHandler:function(e,t){if(e.enableResize&&null!==e._resizeDirection){if(e._resizeMouseDown=!0,e._isTouchDevice){var i=o.jqx.position(t);e._mouseResizePosition.x=i.left,e._mouseResizePosition.y=i.top}else e._mouseResizePosition.x=t.pageX,e._mouseResizePosition.y=t.pageY;t.preventDefault()}},_validateResizeProperties:function(){try{if(!this.resizeTarget||1!==this.resizeTarget.length)throw new Error(this._resizeExceptions.invalidTarget);if(this.minHeight<0||isNaN(parseInt(this.minHeight,10)))throw new Error(this._resizeExceptions.invalidMinHeight);if(this.maxHeight<=0||isNaN(parseInt(this.maxHeight,10)))throw new Error(this._resizeExceptions.invalidMaxHeight);if(this.minWidth<0||isNaN(parseInt(this.minWidth,10)))throw new Error(this._resizeExceptions.invalidMinWidth);if(this.maxWidth<0||isNaN(parseInt(this.maxWidth,10)))throw new Error(this._resizeExceptions.invalidMaxWidth);if(this.resizeIndicatorSize<0||isNaN(parseInt(this.resizeIndicatorSize,10)))throw new Error(this._resizeExceptions.invalidIndicatorSize);if(this.minHeight>this.maxHeight||this.minWidth>this.maxWidth)throw new Error(this._resizeExceptions.invalidSize)}catch(e){throw new Error(e)}},_changeCursor:function(e,t){this.isResizing||this._resizeMouseDown||(this.resizeArea=!0,e<=this.resizeIndicatorSize&&0<=e&&t<=this.resizeIndicatorSize&&0<t?(this._resizeWrapper.style.cursor="nw-resize",this._resizeDirection="topleft"):t<=this.resizeIndicatorSize&&0<t&&e>=this.resizeTarget.width()-this.resizeIndicatorSize?(this._resizeWrapper.style.cursor="ne-resize",this._resizeDirection="topright"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()&&e<=this.resizeIndicatorSize&&0<=e?(this._resizeWrapper.style.cursor="sw-resize",this._resizeDirection="bottomleft"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()&&e>=this.resizeTarget.width()-this.resizeIndicatorSize&&e<this.resizeTarget.width()?(this._resizeWrapper.style.cursor="se-resize",this._resizeDirection="bottomright"):e<=this.resizeIndicatorSize&&0<=e?(this._resizeWrapper.style.cursor="e-resize",this._resizeDirection="left"):t<=this.resizeIndicatorSize&&0<t?(this._resizeWrapper.style.cursor="n-resize",this._resizeDirection="top"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()?(this._resizeWrapper.style.cursor="n-resize",this._resizeDirection="bottom"):e>=this.resizeTarget.width()-this.resizeIndicatorSize&&e<this.resizeTarget.width()?(this._resizeWrapper.style.cursor="e-resize",this._resizeDirection="right"):(this._resizeWrapper.style.cursor=this._cursorBackup,this._resizeDirection=null,this.resizeArea=!1))},_prepareResizeMethods:function(e){this._resizeMethods=[],0<=e.indexOf("left")&&this._resizeMethods.push(this._resizeLeft),0<=e.indexOf("top")&&this._resizeMethods.push(this._resizeTop),0<=e.indexOf("right")&&this._resizeMethods.push(this._resizeRight),0<=e.indexOf("bottom")&&this._resizeMethods.push(this._resizeBottom)},_validateResize:function(e,t,i,s,r){return"horizontal"===i||"both"===i?this._validateWidth(e,s,r):"vertical"===i||"both"===i?this._validateHeight(t,s,r):{result:!1,fix:0}},_getParent:function(){return null!==this.resizeParent&&"undefined"!==this.resizeParent&&this.resizeParent.height&&this.resizeParent.width&&this.resizeParent.top&&this.resizeParent.left?this.resizeParent:{left:0,top:0,width:o(document).width(),height:o(document).height()}},_validateHeight:function(e,t,i){var s=0,r=this._getParent();return o(window).width()>o(document).width()&&o.jqx.browser.msie&&r.height===o(document).height()&&(s=this._SCROLL_WIDTH),"bottom"===i&&e+t.position().top+s+2>r.height+r.top?{fix:r.height-t.position().top-s-2+r.top,result:!1}:"top"===i&&t.lastHeight-e+t.y<r.top?{fix:e+(t.lastHeight-e+t.y)-r.top,result:!1}:e<t.minHeight?{fix:t.minHeight,result:!1}:e>t.maxHeight?{fix:t.maxHeight,result:!1}:{result:!0,fix:e}},_validateWidth:function(e,t,i){var s=0,r=this._getParent();return o(window).height()<o(document).height()&&o.jqx.browser.msie&&document.documentElement.clientWidth>=document.documentElement.scrollWidth&&r.width===o(document).width()&&(s=this._SCROLL_WIDTH),"right"===i&&e+t.position().left+s+2>r.width+r.left?{fix:r.width-t.position().left-s-2+r.left,result:!1}:"left"===i&&t.lastWidth-e+t.x<r.left?{fix:e+(t.lastWidth-e+t.x)-r.left,result:!1}:e<t.minWidth?{fix:t.minWidth,result:!1}:e>t.maxWidth?{fix:t.maxWidth,result:!1}:{result:!0,fix:e}},_resize:function(e,t,i){for(var s=this._resizeMethods.length,r=0;r<s;r++)if(this._resizeMethods[r]instanceof Function){var n={element:e,x:t,y:i,self:this};this._resizeMethods[r](n)}this._performResizeLayout()},resize:function(e,t){if(this.resizable){var i=e-this.host.width(),s=t-this.host.height(),r="right";0!==s&&(r="bottom"),this._resizeDirection=r,this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this._resize(this.resizeTarget,i,s),this.isResizing=!1}},_setResizeChildrenSize:function(e,t){for(var i=this.resizeTargetChildren.length;i;)if(i--,"width"===t){var s=this.resizeTargetChildren[i].lastWidth-(this.resizeTarget.lastWidth-e);s<this.resizeTarget.maxWidth&&0<s&&this.resizeTargetChildren[i].width(s)}else{var r=this.resizeTargetChildren[i].lastHeight-(this.resizeTarget.lastHeight-e);r<this.resizeTarget.maxHeight&&0<r&&this.resizeTargetChildren[i].height(r)}},_resizeRight:function(e){var t=e.element.lastWidth+e.x,i=e.self._validateResize(t,0,"horizontal",e.element,"right");if(i.result||(t=i.fix),e.element.width()!==t){if(e.self._setResizeChildrenSize(t,"width"),e.element.width(t),0<=e.self.width.toString().indexOf("%")){var s=1/(o(document.body).width()/100);e.element[0].style.width=s*t+"%",e.self._setChildrenLayout()}e.self._raiseResizeEvent(0)}return t},_resizeLeft:function(e){var t=e.element.lastWidth-e.x,i=e.self._validateResize(t,0,"horizontal",e.element,"left"),s=e.element.x+e.x;if(!i.result)return s=e.element.x+(e.element.lastWidth-i.fix),void(t=i.fix);if(e.element.width()!==t){if(e.self._setResizeChildrenSize(t,"width"),e.element.width(t),0<=e.self.width.toString().indexOf("%")){var r=1/(o(document.body).width()/100);e.element[0].style.width=r*t+"%",e.self._setChildrenLayout()}e.element[0].style.left=e.self._toPx(s),e.self._raiseResizeEvent(0)}return t},_resizeBottom:function(e){var t=e.element.lastHeight+e.y,i=e.self._validateResize(0,t,"vertical",e.element,"bottom");if(i.result||(t=i.fix),e.element.height()!==t){if(e.self._setResizeChildrenSize(t,"height"),e.element.height(t),0<=e.self.height.toString().indexOf("%")){var s=1/(o(document.body).height()/100);e.element[0].style.height=s*t+"%",e.self._setChildrenLayout()}e.self._raiseResizeEvent(0)}return t},_resizeTop:function(e){var t=e.element.lastHeight-e.y,i=e.self._validateResize(0,t,"vertical",e.element,"top"),s=e.element.y+e.y;if(!i.result)return s=e.element.y+(e.element.lastHeight-i.fix),void(t=i.fix);if(e.element.height()!==t){if(e.self._setResizeChildrenSize(t,"height"),e.element.height(t),0<=e.self.height.toString().indexOf("%")){var r=1/(o(document.body).height()/100);e.element[0].style.height=r*t+"%",e.self._setChildrenLayout()}e.element[0].style.top=e.self._toPx(s),e.self._raiseResizeEvent(0)}return t},_raiseResizeEvent:function(e){var t=this._resizeEvents[e],i=o.Event(t),s={};if(s.width=parseInt(this.resizeTarget[0].style.width,10),s.height=parseInt(this.resizeTarget[0].style.height,10),i.args=s,0===e){t=this._resizeEvents[2];var r=o.Event(t);r.args=s,this.resizeTarget.trigger(r)}return this.resizeTarget.trigger(i)}});e.extend(e.jqx._jqxWindow.prototype,t)}(jqxBaseFramework),function(x,w,y){if(w){x.jqx=x.jqx||{},x.jqx.AMD=!1;var e=w.module("jqwidgets",[]),b=(w.module("jqwidgets-amd",[],function(){x.jqx.AMD=!0}),null),v=null,_=null,j=null,q=new Array,T=new Array,C=new Array,S=new Array,k=new Array,I=new Array,D={},P=!1,A=function(){var e,t,i,s=document.getElementsByTagName("script");for(e=0;t=s[e];e++)if(0<=(i=t.src).indexOf("jqxcore.js")){var r=i.substring(0,i.indexOf("jqxcore.js"));break}return r}();x.jqx.angularCompile=function(e,s){0<e.length&&(e=e[0]);var r=w.element(e),t=r.injector();s==y&&(s=e.innerHTML),t.invoke(["$compile","$rootScope",function(e,t){var i=r.html(s).scope();e(r)(i||t),/^\$(digest|apply)$/.test(t.$$phase)?/^\$(digest|apply)$/.test(i.$$phase)||i.$digest():t.$digest()}])},t("jqxBulletChart"),t("jqxButtonGroup"),t("jqxButton"),t("jqxBarGauge"),t("jqxRepeatButton"),t("jqxToggleButton"),t("jqxLinkButton"),t("jqxCalendar"),t("jqxChart"),t("jqxCheckBox"),t("jqxComplexInput"),t("jqxColorPicker"),t("jqxComboBox"),t("jqxDataTable"),t("jqxDateTimeInput"),t("jqxDocking"),t("jqxDockPanel"),t("jqxDragDrop"),t("jqxDraw"),t("jqxDropDownButton"),t("jqxDropDownList"),t("jqxEditor"),t("jqxExpander"),t("jqxFormattedInput"),t("jqxFileUpload"),t("jqxGauge"),t("jqxLinearGauge"),t("jqxGrid"),t("jqxInput"),t("jqxListBox"),t("jqxListMenu"),t("jqxMaskedInput"),t("jqxMenu"),t("jqxNavigationBar"),t("jqxNavBar"),t("jqxNotification"),t("jqxNumberInput"),t("jqxPanel"),t("jqxPasswordInput"),t("jqxProgressBar"),t("jqxRadioButton"),t("jqxRangeSelector"),t("jqxRating"),t("jqxRibbon"),t("jqxScrollBar"),t("jqxScrollView"),t("jqxSlider"),t("jqxSplitter"),t("jqxSwitchButton"),t("jqxTabs"),t("jqxToolBar"),t("jqxTooltip"),t("jqxTouch"),t("jqxTree"),t("jqxTreeGrid"),t("jqxTreeMap"),t("jqxValidator"),t("jqxWindow"),t("jqxTagCloud"),t("jqxPopover"),t("jqxKanban"),t("jqxKnob"),t("jqxSortablePlugin"),t("jqxScheduler"),t("jqxTextArea"),t("jqxLayout"),t("jqxDockingLayout"),t("jqxResponsivePanel"),t("jqxLoader")}function M(e,s,t,i,r){if(i&&r)switch(e){case"jqxGrid":case"jqxDataTable":case"jqxTreeGrid":if(t.columns){var n=i.columns||i,o=r.columns||r;if(n.length!=o.length)return!1;var a={};if(x.each(n,function(e,t){for(var i in this)if(this[i]!=o[e][i]){var s=this.datafield||this.dataField;a[s]||(a[s]={}),a[s][i]=this[i]}}),!x.isEmptyObject(a))return x.each(a,function(e,t){for(var i in t){x(s).jqxProxy("getcolumnproperty",e,i)!==t[i]&&x(s).jqxProxy("setcolumnproperty",e,i,t[i])}}),!0}}return!1}function B(n,o,a,e,t,r,i){var l=function(e){if("jqxTree"===r||"jqxMenu"===r)return e;if("object"==typeof e&&e&&null!=e._bindingUpdate)return e;var t={},i=!1;if(x.isArray(e)||e instanceof Object&&!e.url&&!e.localdata&&!e.localData){if("jqxChart"===r)return e;if(i=!0,t.localData=e,t.type="array",e[0]){var s=new Array;"object"==x.type(e[0])&&(x.each(e[0],function(e,t){var i={name:e,type:x.type(t)};s.push(i)}),t.datafields=s)}}else e&&e.url?t=e:e&&(e.localdata||e.localData)&&(t=e);return x.jqx.dataAdapter?new x.jqx.dataAdapter(t):i?e:null};if(a.jqxSource!=y){var s=n.$watchCollection(a.jqxSource,function(e,t){if(e!=t){if(w.equals(e,t))return;if(e&&t&&e._source&&t._source&&w.equals(e._source,t._source))return;var i=l(e);x(o).jqxProxy({source:i});var s=w.extend({},n.$eval(a.jqxSettings));a.jqxSettings&&s&&s.propertyChanged&&s.propertyChanged("source",t,e)}});i.push(s)}else if(a.jqxSettings!=y){var d={},h=null,c=b(a.jqxSettings)(n),u=o.controller();for(var p in u)if(c&&u[p]==c.source){h=p;break}if(!h)for(var p in n)if(c&&n[p]==c.source){h=p;break}if(h){var m="";for(var p in n)if(n[p]==u){m=p;break}""!=m&&(h=m+"."+h);s=t.$watchCollection(h,function(e,t){if(e!=t){if(w.equals(e,t))return;if(e&&t&&e._source&&t._source&&w.equals(e._source,t._source))return;var i=x.isArray(e)||"array"===x.type(e);if(1e3<new Date-d["jqxSettings.source"]||d=={}||!d["jqxSettings.source"]||i){var s=l(e);x(o).jqxProxy({source:s});var r=w.extend({},n.$eval(a.jqxSettings));a.jqxSettings&&r&&r.propertyChanged&&r.propertyChanged("source",t,e),d.property=new Date}}});i.push(s)}s=n.$watchCollection(a.jqxSettings+".source",function(e,t){if(e!=t){if(w.equals(e,t))return;if(e&&t&&e._source&&t._source&&w.equals(e._source,t._source))return;if(1e3<new Date-d.property||!d["jqxSettings.property"]||d=={}){var i=l(e);x(o).jqxProxy({source:i});var s=w.extend({},n.$eval(a.jqxSettings));a.jqxSettings&&s&&s.propertyChanged&&s.propertyChanged("source",t,e),d["jqxSettings.source"]=new Date}}});i.push(s);s=n.$watchCollection(a.jqxSettings,function(e,t){if(e)if(t){if(e.source!=t.source){if(w.equals(e.source,t.source))return;if(e&&t&&e.source&&t.source&&e.source._source&&t.source._source&&w.equals(e.source._source,t.source._source))return;if(e.source&&t.source&&x.isArray(e.source)&&x.isArray(t.source)&&H(e.source)==H(t.source))return;if(1e3<new Date-d.property||!d["jqxSettings.source"]||d=={}){s=l(e.source);x(o).jqxProxy({source:s});var i=w.extend({},n.$eval(a.jqxSettings));a.jqxSettings&&i&&i.propertyChanged&&i.propertyChanged("source",t.source,e.source),d["jqxSettings.source"]=new Date}}}else{var s=l(e.source);x(o).jqxProxy({source:s})}});i.push(s)}return l(e)}function H(e){if(null==e)return"";var s="";return x.each(e,function(e){0<e&&(s+=", "),s+="[";var t=0;if("object"==x.type(this))for(var i in this)0<t&&(s+=", "),s+="{"+i+":"+this[i]+"}",t++;else 0<t&&(s+=", "),s+="{"+e+":"+this+"}",t++;s+="]"}),s}function z(d,h,c,u,e){var a=new Array,t=w.extend({},d.$eval(c.jqxSettings));!function(e,s,t,i,r,n,o){if(t.jqxSettings&&n&&n.source===y&&t.jqxSource===y&&i.match(/(jqxGrid|jqxTree|jqxMenu|jqxDataTable|jqxTreeGrid|jqxListBox|jqxTreeMap|jqxComboBox|jqxDropDownList|jqxChart)/gi)&&(i.match(/(jqxTree|jqxMenu)/gi)?-1===s[0].innerHTML.toLowerCase().indexOf("ul")&&(n.source=[]):n.source=[]),n.source!==y&&t.jqxSettings)n.source=B(e,s,t,n.source,r,i,o);else if(t.jqxSource!==y){var a=w.extend({},e.$eval(t.jqxSource)),l=!(!t.jqxSource||!t.jqxSource.dataBind);n.source=B(e,s,t,l?t.jqxSource:a,r,i,o)}var d=e.$watch(t.ngDisabled,function(e,t){if(e!=y&&(e!=t||x(s).jqxProxy("disabled")!==e)){var i={};i.disabled=e,0<x(s).length&&x(s).jqxProxy(i)}});o.push(d)}(d,h,c,u,e,t,a);var l,i,p,s,r,m,f={},g={};if(D[h[0].id]&&x.each(D[h[0].id],function(){var e=this.label,r=this.value,t=x.camelCase(r.substring("4"));if(void 0!==c[e]){var i=d.$eval(c[e]);if(i===y&&"string"===x.type(c[e])&&(i=c[e]),"instance"==t)return!0;"array"===x.type(i)&&"source"!==u?i=i.slice(0):"object"===x.type(i)&&"source"!==u&&(i=x.extend({},i));var s=/(columnmenuopening|columnmenuclosing|aggregatesrenderer|tooltipFormatFunction|labelsFormatFunction|rendergridrows|draw|renderFiles|initTools|initFeedBack|onTargetDrop|drawBefore|dragStart|dragEnd|onDropTargetEnter|onDropTargetLeave|onDrag|createCommand|ready|render|initrowdetails|initTabContent|initContent|renderer|renderToolbar|renderStatusBar|groupsrenderer|pagerrenderer|groupcolumnrenderer|updatefilterconditions|handlekeyboardnavigation|updatefilterpanel|rendered|virtualModeCreateRecords|virtualModeRecordCreating|search|selectionRenderer)/gi,n=/(ready|aggregatesrenderer|initrowdetails|initTabContent|initContent|renderToolbar|renderStatusBar|pagerRenderer)/gi;if(x.isFunction(i)&&!t.match(s))g[index]=i;else{if(t.match(s)&&!t.match(/(searchMode)/gi)){return f[t]=function(){var e=i.apply(this,arguments);return t.match(n)&&!/^\$(digest|apply)$/.test(d.$root.$$phase)&&d.$digest(),e},!0}f[t]=i}var o=function(o,a){if(o!=a){if(w.equals(o,a))return;var l=x.camelCase(r.substring("4"));if("watch"==l){if(0<=c.jqxWatch.indexOf(",")||0<=c.jqxWatch.indexOf("["))return e=(e=(e=(e=(e=c.jqxWatch).replace("[","")).replace("]","")).trim()).split(","),void x.each(e,function(e,t){for(var i=this.split("."),s=0;s<i.length;s++){if(i[s]in x(h).data().jqxWidget){l=i[s];break}if(i[s].toLowerCase()in x(h).data().jqxWidget){l=i[s].toLowerCase();break}}var r={};if(r[l]=o[e],!M(u,x(h),r,o,a)){x(h).jqxProxy(r);var n=w.extend({},d.$eval(c.jqxSettings));c.jqxSettings&&n&&n.propertyChanged&&n.propertyChanged(l,a,o)}});for(var e=c.jqxWatch.split("."),t=0;t<e.length;t++){if(e[t]in x(h).data().jqxWidget){l=e[t];break}if(e[t].toLowerCase()in x(h).data().jqxWidget){l=e[t].toLowerCase();break}}}var i={};if(i[l]=o,!M(u,x(h),i,o,a)){x(h).jqxProxy(i);var s=w.extend({},d.$eval(c.jqxSettings));c.jqxSettings&&s&&s.propertyChanged&&s.propertyChanged(l,a,o)}}};if("watch"==t){delete f[t];o=d.$watch(c[e],o,!0);a.push(o)}else{o=d.$watch(c[e],o);a.push(o)}}}),""==h[0].id?(y==q[u]&&(q[u]=0),h[0].id=u+q[u]++):""!=h[0].id&&h[0].id==u+"0"&&(y==q[u]&&(q[u]=0),h[0].id=u+q[u]++),!x(h)[u])throw new Error("Missing required JavaScript references for: "+u);x.each(t,function(t,i){if("data"===t||"created"===t||"propertyChanged"===t)return!0;var e=/(columnmenuopening|columnmenuclosing|aggregatesrenderer|tooltipFormatFunction|labelsFormatFunction|rendergridrows|renderFiles|initTools|draw|drawBefore|dragStart|dragEnd|initFeedBack|onTargetDrop|onDropTargetEnter|onDropTargetLeave|onDrag|createCommand|ready|render|initrowdetails|initTabContent|initContent|renderer|renderToolbar|renderStatusBar|groupsrenderer|pagerrenderer|groupcolumnrenderer|updatefilterconditions|handlekeyboardnavigation|updatefilterpanel|rendered|virtualModeCreateRecords|virtualModeRecordCreating|search|selectionRenderer)/gi,s=/(ready|aggregatesrenderer|initrowdetails|initTabContent|initContent|renderToolbar|renderStatusBar|pagerRenderer)/gi;if(x.isFunction(i)&&!t.match(e))g[t]=i;else{if(t.match(e)&&!t.match(/(searchMode)/gi)){return f[t]=function(){var e=i.apply(this,arguments);return t.match(s)&&!/^\$(digest|apply)$/.test(d.$root.$$phase)&&d.$digest(),e},!0}"array"===x.type(i)&&"source"!==t?i=i.slice(0):"object"===x.type(i)&&"source"!==t&&(i=x.extend({},i)),f[t]=i}}),l=d,i=h,p=c,s=u,r=e,m=g,x.extend(x.jqx["_"+s].prototype,{definedInstance:function(){if(this.element&&this.element!==i[0])return!0;if(this.base&&this.base.element!==i[0])return!0;var a=this,e=function(n){x.each(m,function(e,t){a.addHandler(x(n),e,function(e){l.$parent?x.proxy(t,r)(e):t(e),"$apply"!=l.$root.$$phase&&"$digest"!=l.$root.$$phase&&l.$apply()})});var o=p.$attr;if(x.each(p,function(e,t){if(0<=e.indexOf("jqxOn")){var i=o[e].substring(7),s=x.camelCase(i),r=t;a.addHandler(x(n),s,function(e){if(e.data=p.data||p.jqxData,0<=r.indexOf("(")){var t=r.indexOf("("),i=b(r.substring(0,t))(l);i?i(e):l.$emit(s,e)}else l.$emit(r,e);"$apply"!=l.$root.$$phase&&"$digest"!=l.$root.$$phase&&l.$apply()})}}),p.jqxInstance){var e=b(p.jqxInstance).assign;e&&e(l,a),"$apply"!=l.$root.$$phase&&"$digest"!=l.$root.$$phase&&l.$apply()}};e(i),"jqxPopover"==s&&setTimeout(function(){e(a.host)})}});var n=h[0];!function(a,i,l,d,h,e){if(l.jqxSettings){var n=b(l.jqxSettings)(a);n&&(n.apply?T[h.$id+d+l.jqxSettings]||(T[h.$id+d+l.jqxSettings]=new Array):(n.apply=n[d]=function(){var i=arguments,s=new Array;return 0==i.length||(x.each(T[h.$id+d+l.jqxSettings],function(e,t){s.push({widgetName:d,element:this,result:x.jqx.jqxWidgetProxy(d,this,i)})}),1==s.length?s[0].result:s)},n.digest=function(){/^\$(digest|apply)$/.test(a.$root.$$phase)||a.$digest()},n.refresh=function(s,t){var r={},o=x(i)[d]("getInstance");if(x.each(n,function(e,t){if("created"===e||"propertyChanged"===e||"data"==e||"refresh"==e||e==d||"apply"==e)return!0;var i=o.events||o._events;return!!(i&&0<=i.indexOf(e)||e.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g))||s!=y&&-1===s.indexOf(e)||void(r[e]=t)}),r!=={})if(t)x.each(r,function(e,t){n[e]=o[e]}),"$apply"!=a.$root.$$phase&&"$digest"!=a.$root.$$phase&&a.$apply();else if(x.each(T[h.$id+d+l.jqxSettings],function(e,t){x(this).jqxProxy(r)}),l.jqxWatchSettings!=y&&h){var e=b(l.jqxSettings)(h);x.each(e,function(e,t){if(e.match(/(source|propertyChanged|created|data|apply|refresh)/g))return!0;var i=o.events||o._events;if(i&&0<=i.indexOf(e)||e.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g))return!0;if(e===d)return!0;if(!C[l.jqxSettings+"."+e]){var n=e,s=h.$watch(l.jqxSettings+"."+e,function(i,s){if(i!=s){if(w.equals(i,s))return;var r={};r[n]=i,x.each(T[h.$id+d+l.jqxSettings],function(e,t){M(d,x(this),r,i,s)||x(this).jqxProxy(r)});var e=w.extend({},a.$eval(l.jqxSettings));l.jqxSettings&&e&&e.propertyChanged&&e.propertyChanged(n,s,i)}},!0);C[l.jqxSettings+"."+e]=s}})}D[i[0].id]&&(r={},x.each(D[i[0].id],function(){if(s!=y&&-1===s.indexOf(x.camelCase(this.value.substring(4))))return!0;if(r[x.camelCase(this.value.substring(4))]=a.$eval(this.label),t){var e=x.parse(this.label)(a).assign;e&&e(a,o[x.camelCase(this.value.substring(4))])}}),t?"$apply"!=a.$root.$$phase&&"$digest"!=a.$root.$$phase&&a.$apply():x.each(T[h.$id+d+l.jqxSettings],function(e,t){x(this).jqxProxy(r)}))},T[h.$id+d+l.jqxSettings]=new Array),T[h.$id+d+l.jqxSettings].push(e))}}(d,h,c,u,e,n);x(h)[u](f);var o=x(h)[u]("getInstance");!function(l,d,h,c,u,e,t,p,r,m){if(h.jqxSettings){if(h.jqxWatchSettings!=y&&u){var i=b(h.jqxSettings)(u);x.each(i,function(e,t){if(e.match(/(source|created|propertyChanged|data|apply|refresh)/g))return!0;var i=p.events||p._events;if(i&&0<=i.indexOf(e)||e.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g))return!0;if(e===c)return!0;if(r.hasOwnProperty(e)){var n=e,s=u.$watch(h.jqxSettings+"."+e,function(e,t){if(e!=t){if(w.equals(e,t))return;var i={};i[n]=e;var s=M(c,x(d),i,e,t);if(!s){x(d).jqxProxy(i);var r=w.extend({},l.$eval(h.jqxSettings));h.jqxSettings&&r&&r.propertyChanged&&r.propertyChanged(n,t,e)}}},!0);C[h.jqxSettings+"."+e]=s,m.push(s)}})}var s=l.$watch(h.jqxSettings,function(e,n){var o={},a=!1;if(e!=n){if(w.equals(e,n))return;if(x.each(e,function(t,e){if("source"===t){if(null!=n.source)return!0;var i=B(l,d,h,e,u,m);o[t]=i}if("created"===t)return!0;if("propertyChanged"===t)return!0;if("data"===t)return l.$apply(),!0;var s=p.events||p._events;if(s&&0<=s.indexOf(t)||t.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g))return!0;var r=function(n){if(h.jqxWatchSettings!=y&&u&&!C[h.jqxSettings+"."+n]){var n=t,e=u.$watch(h.jqxSettings+"."+n,function(e,t){if(e!=t){if(w.equals(e,t))return;var i={};i[n]=e;var s=M(c,x(d),i,e,t);if(!s){x(d).jqxProxy(i);var r=w.extend({},l.$eval(h.jqxSettings));h.jqxSettings&&r&&r.propertyChanged&&r.propertyChanged(n,t,e)}}},!0);C[h.jqxSettings+"."+n]=e,m.push(e)}};e instanceof Object||null!=n&&e===n[t]?t!==c&&"apply"!==t&&"created"!==t&&"propertyChanged"!==t&&e instanceof Object&&(null==n||H(e)!==H(n[t])||""==H(e)&&""==H(n[t]))&&(o[t]=e,r(t),a=!0):(o[t]=e,r(t),a=!0)}),o!=={}&&a){var t=M(c,x(d),o,e,n);if(!t){x(d).jqxProxy(o);var i=w.extend({},l.$eval(h.jqxSettings));h.jqxSettings&&i&&i.propertyChanged&&i.propertyChanged(index,n,e)}}}});m.push(s)}}(d,h,c,u,e,0,0,o,f,a);var v=d.$on("$destroy",function(){o&&o.destroy&&!o.isDestroyed?(o.isDestroyed=!0,0<x(h).parents().length&&x(h)[u]("destroy")):x(h).remove(),o=null;for(var e=0;e<a.length;e++)a[e]();f=[],g=[],v()});return o}function E(e,t,i,s){var r=e[0].nodeName.toLowerCase(),n=x(e).parent(),o=x(e).html(),a=!(!n||!n[0]||"ng-include"!=n[0].nodeName.toLowerCase());if(0<x(e).parents("[ui-view]").length&&(a=!0),!a||t){var l='<div id="jqx-ngwidget">'+o+"</div>";if(0<=r.indexOf("jqx")){var d=e[0].attributes,h=e;if(0<=r.indexOf("input"))0<=r.indexOf("date")||0<=r.indexOf("number")?x(e).replaceWith('<div id="jqx-ngwidget"></div>'):0<=r.indexOf("password")?x(e).replaceWith('<input id="jqx-ngwidget" type="password"/>'):x(e).replaceWith('<input id="jqx-ngwidget"/>');else if(0<=r.indexOf("jqx-button")&&-1==r.indexOf("jqx-button-group"))x(e).replaceWith('<button id="jqx-ngwidget">'+o+"</button>");else if(0<=r.indexOf("jqx-toggle-button"))x(e).replaceWith('<button id="jqx-ngwidget">'+o+"</button>");else if(0<=r.indexOf("jqx-link-button"))if(0<x(e).find("a").length){var c=x(e).find("a");c.attr("id","jqx-ngwidget"),x(e).replaceWith(c)}else x(e).replaceWith('<a id="jqx-ngwidget">'+o+"</a>");else if(0<=r.indexOf("jqx-data-table")||0<=r.indexOf("jqx-grid"))0<x(e).find("tr").length?x(e).replaceWith('<div id="jqx-ngwidget">'+o+"</div>"):x(e).replaceWith('<div id="jqx-ngwidget"></div>');else if(0<=r.indexOf("jqx-list-box")||0<=r.indexOf("jqx-drop-down-list")||0<=r.indexOf("jqx-combo-box"))0<x(e).find("option").length?x(e).replaceWith('<select id="jqx-ngwidget">'+o+"</select>"):0<x(e).find("li").length?x(e).replaceWith('<ul id="jqx-ngwidget">'+o+"</ul>"):x(e).replaceWith('<div id="jqx-ngwidget"></div>');else if(0<=r.indexOf("jqx-list-menu"))x(e).replaceWith('<ul id="jqx-ngwidget" data-role="listmenu">'+o+"</ul>");else if(0<=r.indexOf("jqx-tooltip")){var u=x(e).children();u.detach(),x(u).insertAfter(x(e)),x.each(d,function(){x(u)[0]&&x(u)[0].setAttribute(this.name,this.value)}),x(e).remove(),e=u}else x(e).replaceWith(l);h=n.find("#jqx-ngwidget").removeAttr("id"),x.each(d,function(){x(h)[0]&&x(h)[0].setAttribute(this.name,this.value)})}var p=e[0];h&&h.length&&(p=h[0]);return""==p.id&&(y==q[s]&&(q[s]=0),p.id=s+q[s]++),x.each(i,function(e,t){e!==s&&"jqxNgModel"!=e&&-1==e.indexOf("jqxOn")&&"jqxData"!=e&&"jqxWatchSettings"!=e&&"jqxCreated"!=e&&"jqxSource"!=e&&"jqxCreate"!=e&&"jqxSettings"!=e&&0<=e.indexOf("jqx")&&(D[p.id]||(D[p.id]=new Array),D[p.id].push({label:e,value:i.$attr[e]}))}),x(p)}x(e).attr("data-jqx-ng-include",!0)}function t(g){var n=function(a,l,d,h,e){if(x(l).attr("data-jqx-ng-include")){x(l).removeAttr("data-jqx-ng-include");var t=x(l.children()).detach();(l=E(l,!0,d,g)).append(t),j(l)(a);var i=!0;for(var s in d)if(-1!=s.toString().indexOf("jqx")&&(a[d[s]]!=y&&(i=!1),1<d[s].split(".").length))for(var r=d[s].split("."),n=0;n<r.length;n++)a[r[n]]!=y&&(i=!1);i&&d.jqxSettings&&(b(d.jqxSettings)(a)||(i=!1)),i&&(a=a.$parent)}if(x.jqx.AMD){var o={};I[g]=!1,o.documentReady=!1,c=o,function(e){c.filesCount=0;var h=e.length;if(e.scripts){var t=e.scripts.length;for(var i in e.deps)t++,t+=e.deps[i].length;h=t}var s=function(n,o){var a=0,l=0,d=function(){var e=n[a];if(0===x('script[src*="'+e+'"]').length){var t=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript";var s=function(){if(c.filesCount++,l++,k[e]=!1,S[e]!=y&&x.each(S[e],function(){this.documentReady=!0,this.scriptsLoaded&&this.scriptsLoaded()}),S[e]=!0,c.filesCount==h)return c.documentReady=!0,void(c.scriptsLoaded&&c.scriptsLoaded());l===n.length&&o&&o()};i.addEventListener?i.addEventListener("load",s,!1):window.attachEvent&&i.attachEvent("onreadystatechange",function(){"complete"!=i.readyState&&"loaded"!=i.readyState||s()}),k[e]=!0;var r=A;"globalize.js"==e&&(r=A+"globalization/"),i.src=r+e,t.appendChild(i),++a<n.length&&d()}else{if(c.filesCount++,c.filesCount==h)return!0===S[e]||k[e]===y?(c.documentReady=!0,void(c.scriptsLoaded&&c.scriptsLoaded())):(S[e]==y&&(S[e]=new Array),void S[e].push(c));++a<n.length&&d(),++l===n.length&&o&&o()}};d()};e.scripts?(s(e.scripts),x.each(e.deps,function(e,t){var i=new Array;i.push(e),s(i,function(){s(t)})})):s(e)}({jqxCalendar:["jqxdatetimeinput.js","jqxcalendar.js","jqxtooltip.js","globalize.js","jqxbuttons.js"],jqxDateTimeInput:["jqxdatetimeinput.js","jqxcalendar.js","jqxtooltip.js","globalize.js","jqxbuttons.js"],jqxScheduler:["jqxscheduler.js","jqxscheduler.api.js","jqxdate.js","jqxmenu.js","jqxwindow.js","jqxcheckbox.js","jqxnumberinput.js","jqxscrollbar.js","jqxlistbox.js","jqxdropdownlist.js","jqxinput.js","jqxradiobutton.js","jqxdatetimeinput.js","jqxcalendar.js","jqxtooltip.js","globalize.js","jqxbuttons.js"],jqxListBox:["jqxlistbox.js","jqxdata.js","jqxbuttons.js","jqxscrollbar.js"],jqxComboBox:["jqxlistbox.js","jqxdata.js","jqxbuttons.js","jqxscrollbar.js","jqxcombobox.js"],jqxDropDownList:["jqxlistbox.js","jqxdata.js","jqxbuttons.js","jqxscrollbar.js","jqxdropdownlist.js"],jqxKanban:["jqxkanban.js","jqxsortable.js"],jqxSortable:["jqxsortable.js"],jqxKnob:["jqxdraw.js","jqxknob.js"],jqxGrid:{scripts:["jqxdatetimeinput.js","jqxcalendar.js","jqxmenu.js","jqxtooltip.js","jqxscrollbar.js","jqxbuttons.js","jqxlistbox.js","jqxdropdownlist.js","jqxcombobox.js","jqxcheckbox.js","globalize.js"],deps:{"jqxgrid.js":["jqxgrid.selection.js","jqxgrid.filter.js","jqxgrid.sort.js","jqxgrid.storage.js","jqxgrid.grouping.js","jqxgrid.pager.js","jqxgrid.columnsresize.js","jqxgrid.columnsreorder.js","jqxgrid.edit.js","jqxgrid.export.js","jqxgrid.aggregates.js"],"jqxdata.js":["jqxdata.export.js"]}},jqxDataTable:{scripts:["jqxdatatable.js","jqxdatetimeinput.js","jqxcalendar.js","jqxmenu.js","jqxtooltip.js","jqxscrollbar.js","jqxbuttons.js","jqxlistbox.js","jqxdropdownlist.js","jqxcombobox.js","jqxcheckbox.js","globalize.js","jqxinput.js"],deps:{"jqxdata.js":["jqxdata.export.js"]}},jqxTreeGrid:{scripts:["jqxdatetimeinput.js","jqxcalendar.js","jqxmenu.js","jqxtooltip.js","jqxscrollbar.js","jqxbuttons.js","jqxlistbox.js","jqxdropdownlist.js","jqxcombobox.js","jqxcheckbox.js","globalize.js","jqxinput.js"],deps:{"jqxdatatable.js":["jqxtreegrid.js"],"jqxdata.js":["jqxdata.export.js"]}},jqxDockingLayout:{scripts:["jqxmenu.js"],deps:{"jqxlayout.js":["jqxdockinglayout.js"]}},jqxCheckBox:["jqxcheckbox.js"],jqxRadioButton:["jqxradiobutton.js"],jqxBulletChart:["jqxbulletchart.js","jqxtooltip.js"],jqxRangeSelector:["jqxrangeselector.js"],jqxScrollView:["jqxbuttons.js","jqxscrollview.js"],jqxSwitchButton:["jqxswitchbutton.js"],jqxTouch:["jqxtouch.js"],jqxColorPicker:["jqxcolorpicker.js"],jqxInput:["jqxinput.js"],jqxTextArea:["jqxtextarea.js","jqxbuttons.js","jqxscrollbar.js"],jqxTagCloud:["jqxtagcloud.js"],jqxPopover:["jqxpopover.js"],jqxLayout:["jqxlayout.js","jqxmenu.js","jqxwindow.js"],jqxLoader:["jqxloader.js"],jqxResponsivePanel:["jqxresponsivepanel.js"],jqxEditor:["jqxeditor.js"],jqxNumberInput:["jqxbuttons.js","jqxnumberinput.js"],jqxMaskedInput:["jqxmaskedinput.js"],jqxSlider:["jqxbuttons.js","jqxslider.js"],jqxPanel:["jqxbuttons.js","jqxscrollbar.js","jqxpanel.js"],jqxButton:["jqxbuttons.js"],jqxLinkButton:["jqxbuttons.js"],jqxToggleButton:["jqxbuttons.js"],jqxRepeatButton:["jqxbuttons.js"],jqxDropDownButton:["jqxdropdownbutton.js"],jqxNotification:["jqxnotification.js"],jqxDockPanel:["jqxdockpanel.js"],jqxProgressBar:["jqxprogressbar.js"],jqxListMenu:["jqxbuttons.js","jqxscrollbar.js","jqxpanel.js","jqxlistmenu.js"],jqxTree:["jqxbuttons.js","jqxscrollbar.js","jqxpanel.js","jqxtree.js","jqxdata.js"],jqxMenu:["jqxmenu.js","jqxdata.js"],jqxTabs:["jqxtabs.js","jqxbuttons.js"],jqxDragDrop:["jqxdragdrop.js"],jqxDraw:["jqxdraw.js"],jqxWindow:["jqxwindow.js"],jqxDocking:["jqxwindow.js","jqxdocking.js"],jqxButtonGroup:["jqxbuttons.js","jqxbuttongroup.js"],jqxChart:["jqxdata.js","jqxchart.js"],jqxNavigationBar:["jqxnavigationbar.js"],jqxExpander:["jqxexpander.js"],jqxResponse:["jqxresponse.js"],jqxPasswordInput:["jqxpasswordinput.js"],jqxRating:["jqxrating.js"],jqxSplitter:["jqxbuttons.js","jqxsplitter.js"],jqxValidator:["jqxvalidator.js"],jqxTooltip:["jqxtooltip.js"],jqxGauge:["jqxdraw.js","jqxgauge.js"],jqxLinearGauge:["jqxdraw.js","jqxgauge.js"],jqxTreeMap:["jqxtreemap.js"],jqxRibbon:["jqxbuttons.js","jqxribbon.js"],jqxFormattedInput:["jqxbuttons.js","jqxformattedinput.js"],jqxComplexInput:["jqxbuttons.js","jqxcomplexinput.js"],jqxToolBar:["jqxtoolbar.js"],jqxFileUpload:["jqxfileupload.js"],jqxNavBar:["jqxnavbar.js"]}[g])}var c,u=l[0].style.visibility,p=l[0].style.display;l[0].style.visibility="hidden",l[0].style.display="none";var m=a,f=_(function(){_.cancel(f),f=y;var s=function(){var r=h[0];l[0].style.visibility=u,l[0].style.display=p;var n=z(a,l,d,g,m),o=(g.toLowerCase(),g.match(/(input|list|radio|checkbox|combobox|rating|slider|scrollbar|progress|range|editor|picker|range|gauge|textarea|calendar|switch|button)/gi)),e={element:l[0],name:g,instance:x(l).data().jqxWidget,id:l[0].id,scope:a},t=function(){a.$emit(g+"Created",e),d.jqxSettings&&b(d.jqxSettings)(a)&&b(d.jqxSettings)(a).created&&v(function(){(0,b(d.jqxSettings)(a).created)(e)}),d.jqxCreated&&v(function(){b(d.jqxCreated)(a)(e)})};if("jqxGrid"===g||"jqxDataTable"===g)var i=0,s=_(function(){x(l).data().jqxWidget?(x(l).data().jqxWidget.initializedcall||25==i)&&(_.cancel(s),s=y,t()):(_.cancel(s),s=y),i++},100);else t();v(function(){if(r){if(r.$render=function(){var e=r.$viewValue;if(e===y&&(e=r.$modelValue),"jqxRadioButton"!==g)return"jqxCheckBox"===g?(a.$eval(x(l).attr("ng-true-value"))==r.$viewValue&&x(l).val(!0),void(a.$eval(x(l).attr("ng-false-value"))==r.$viewValue?x(l).val(!1):x(l).val(r.$viewValue))):void(e!=x(l).val()&&v(function(){x(l).val(e)}));a.$eval(x(l).attr("value"))==r.$viewValue?x(l).val(!0):"true"==a.$eval(x(l).attr("value"))&&1==r.$viewValue?x(l).val(!0):x(l).val(!1)},"jqxRadioButton"===g)a.$eval(x(l).attr("value"))==r.$viewValue?x(l).val(!0):"true"==a.$eval(x(l).attr("value"))&&1==r.$viewValue?x(l).val(!0):x(l).val(!1);else if("jqxCheckBox"===g)a.$eval(x(l).attr("ng-true-value"))==r.$viewValue&&x(l).val(!0),a.$eval(x(l).attr("ng-false-value"))==r.$viewValue?x(l).val(!1):x(l).val(r.$viewValue);else if("jqxDropDownList"===g||"jqxComboBox"===g||"jqxListBox"===g||"jqxInput"===g||"jqxTextArea"===g)if(d.jqxNgModel!=y){var e=x(l).data().jqxWidget;"jqxInput"!=g?e.valueMember?e.selectItem(r.$viewValue[e.valueMember]):e.displayMember?e.selectItem(r.$viewValue[e.displayMember]):x(l).val(r.$viewValue):x(l).val(r.$viewValue)}else x(l).val(r.$viewValue);else if("jqxDateTimeInput"===g||"jqxCalendar"===g)if(d.jqxNgModel!=y)"range"==(e=x(l).data().jqxWidget).selectionMode?e.setRange(r.$viewValue):e.setDate(r.$viewValue);else x(l).val(r.$viewValue);else if("jqxToggleButton"==g)(e=x(l).data().jqxWidget).toggled=!0,e.refresh();else x(l).val(r.$viewValue);if(o){var t,i="keyup change";"jqxScrollBar"==g&&(i="valueChanged"),"jqxToggleButton"==g&&(i="keyup click"),"jqxInput"==g&&(i="keyup change select");var s=n.host;!s&&n.base&&(s=n.base.host),x(s).on(i,function(e){var i=e.args;t&&v.cancel(t),t=v(function(){if("jqxRadioButton"===g)i&&"api"!=i.type&&r.$setViewValue(a.$eval(x(l).attr("value")));else if("jqxCheckBox"===g)x(l).attr("ng-true-value")!=y&&i.checked?r.$setViewValue(x(l).attr("ng-true-value")):x(l).attr("ng-false-value")==y||i.checked?r.$setViewValue(x(l).val()):r.$setViewValue(x(l).attr("ng-false-value"));else if("jqxDropDownList"===g||"jqxComboBox"===g||"jqxListBox"===g||"jqxInput"===g||"jqxTextArea"===g){var e=x(l).val();if(d.jqxNgModel!=y)(t=x(l).data().jqxWidget).getSelectedItem&&(e=t.getSelectedItem()).originalItem&&(e=e.originalItem),"jqxInput"!==g&&"jqxTextArea"!==g||(e=t.selectedItem),r.$setViewValue(e);else r.$setViewValue(e)}else{if("jqxDateTimeInput"===g||"jqxCalendar"===g)if(d.jqxNgModel!=y)"range"==(t=x(l).data().jqxWidget).selectionMode?r.$setViewValue(t.getRange()):r.$setViewValue(t.getDate());else if("date"===x.type(r.$viewValue))"range"==(t=x(l).data().jqxWidget).selectionMode?r.$setViewValue(t.getRange()):r.$setViewValue(t.getDate());else r.$setViewValue(x(l).val());else if("jqxToggleButton"==g){var t=x(l).data().jqxWidget;r.$setViewValue(t.toggled)}else r.$setViewValue(x(l).val())}a.$emit(g+"ModelChange",r.$viewValue)})})}}})};if(d.ngShow===y||d.jqxCreate!==y){var t=function(){if(null!=d.jqxCreate||null!=d.jqxCreate)if(!0===d.jqxCreate||null!==d.jqxCreate&&"object"==x.type(d.jqxCreate))s();else var i=a.$watch(d.jqxCreate,function(e,t){"number"==typeof e?(v(s,e),i()):e&&(s(),i())});else s()};if(x.jqx.AMD){var i=function(){var e=!0;for(var t in I)if(!I[t]){e=!1;break}if(e)for(var t in P||(a.$emit("jQWidgetsScriptsLoaded"),P=!0),I)x.each(I[t],function(){this()}),I[t]=new Array};if(o.documentReady){var e={element:l[0],name:g,scope:a};a.$emit(g+"ScriptsLoaded",e),I[g]||(I[g]=new Array),I[g].push(t),i()}else o.scriptsLoaded=function(){var e={element:l[0],name:g,scope:a};a.$emit(g+"ScriptsLoaded",e),I[g]||(I[g]=new Array),I[g].push(t),i()}}else t()}else var r=a.$watch(d.ngShow,function(e,t){e&&(s(),r())})})};e.directive(g,["$timeout","$interval","$parse","$compile","$log",function(e,t,i,s,r){return v=e,_=t,b=i,j=s,r,{restrict:"ACE",require:["?ngModel"],scope:!1,template:function(e,t){E(e,!1,t,g),this.scope},controller:["$scope","$attrs","$element","$transclude",function(e,t,i,s){}],compile:function(e,t,i){return{pre:function(e,t,i,s,r){},post:function(e,t,i,s,r){n(e,t,i,s)}}},link:n}}])}}(jqxBaseFramework,window.angular);try{!function(u,p){p.jqwidgets=p.jqwidgets||{},p.jqwidgets.knockout=function(l){var e={},d=l.name;e.init=function(n,o,e,t){var a=p.utils.unwrapObservable(o()),s=p.toJS(a);if(l.reset&&l.reset(),null==u.data(n)[d]){var r=[];u(n)[d](),widget=u.data(n)[d].instance,u.each(l,function(t,e){if(widget.hasOwnProperty(t)&&s.hasOwnProperty(t)&&!widget.koupdating){widget.koupdatingFromObservable=!0;try{var i=!1;l.serialize&&l.serialize(widget,t)&&(p.toJSON(s[t])!=p.toJSON(l.serialize(widget,t))&&l.setProperty(widget,t,widget[t],s[t]),i=!0),i||p.toJSON(s[t])!=p.toJSON(widget[t])&&l.setProperty(widget,t,widget[t],s[t])}catch(e){l.setProperty(widget,t,widget[t],s[t])}r[t]=t,widget.koupdatingFromObservable=!1}});var i={};u.each(s,function(e,t){null==r[e]&&(i[e]=s[e])}),widget.host[d](i)}widget=u.data(n)[d].instance,widget.koupdatingFromObservable=!1,widget.koupdating=!1,l.events&&u.each(l.events,function(){var r=this;u(n).on(r+"."+n.id,function(e){if(widget=u.data(n)[d].instance,!widget.koupdatingFromObservable){var t=widget;t.koupdating=!0;var i=o(),s=l.getProperty(widget,e,r,a);null!=s&&(i.hasOwnProperty(s.name)&&u.isFunction(i[s.name])?p.isObservable(i[s.name])&&i[s.name].push?o(s.value):i[s.name](s.value):i[s.name]&&o(s.value)),t.koupdating=!1}})})},e.update=function(e,t,i,s,r){var n=p.utils.unwrapObservable(t()),o=p.toJS(n);widget=u.data(e)[d].instance,widget.koupdating||u.each(l,function(e,t){if(widget.hasOwnProperty(e)&&o.hasOwnProperty(e)&&!widget.koupdating){var i=!(widget.koupdatingFromObservable=!0);l.serialize&&l.serialize(widget,e)&&(p.toJSON(o[e])!=p.toJSON(l.serialize(widget,e))&&l.setProperty(widget,e,widget[e],o[e]),i=!0),i||p.toJSON(o[e])!=p.toJSON(widget[e])&&l.setProperty(widget,e,widget[e],o[e]),widget.koupdatingFromObservable=!1}})},p.bindingHandlers[l.name]=e};new p.jqwidgets.knockout({name:"jqxGauge",disabled:!1,min:0,max:220,value:0,reset:function(){this.value=0,this.max=220,this.min=0,this.disabled=!1},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxGauge({disabled:s}),"min"==t&&e.host.jqxGauge({min:s}),"max"==t&&e.host.jqxGauge({max:s}),"value"==t&&e.host.jqxGauge({value:s})}}),new p.jqwidgets.knockout({name:"jqxLinearGauge",disabled:!1,min:0,max:220,value:0,reset:function(){this.value=0,this.max=220,this.min=0,this.disabled=!1},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxLinearGauge({disabled:s}),"min"==t&&e.host.jqxLinearGauge({min:s}),"max"==t&&e.host.jqxLinearGauge({max:s}),"value"==t&&e.host.jqxLinearGauge({value:s})}}),new p.jqwidgets.knockout({name:"jqxSlider",disabled:!1,min:0,max:10,value:0,reset:function(){this.value=0,this.max=10,this.min=0,this.disabled=!1},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"value",value:t.args.value}},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxSlider({disabled:s}),"min"==t&&e.host.jqxSlider({min:parseFloat(s)}),"max"==t&&e.host.jqxSlider({max:parseFloat(s)}),"value"==t&&e.host.jqxSlider({value:parseFloat(s)})}}),new p.jqwidgets.knockout({name:"jqxScrollBar",disabled:!1,min:0,max:10,value:0,reset:function(){this.value=0,this.max=10,this.min=0,this.disabled=!1},events:["valueChanged"],getProperty:function(e,t,i){if("valueChanged"==i)return{name:"value",value:parseInt(t.currentValue)}},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxScrollBar({disabled:s}),"min"==t&&e.host.jqxScrollBar({min:parseFloat(s)}),"max"==t&&e.host.jqxScrollBar({max:parseFloat(s)}),"value"==t&&e.host.jqxScrollBar({value:parseFloat(s)})}}),new p.jqwidgets.knockout({name:"jqxProgressBar",disabled:!1,value:0,reset:function(){this.value=0,this.disabled=!1},events:["valueChanged"],getProperty:function(e,t,i){if("valueChanged"==i)return{name:"value",value:parseInt(t.currentValue)}},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxProgressBar({disabled:s}),"value"==t&&e.host.jqxProgressBar({value:parseFloat(s)})}}),new p.jqwidgets.knockout({name:"jqxButton",disabled:!1,reset:function(){this.disabled=!1},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxButton({disabled:s})}}),new p.jqwidgets.knockout({name:"jqxCheckBox",checked:!1,disabled:!1,reset:function(){this.checked=!1,this.disabled=!1},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"checked",value:t.args.checked}},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxCheckBox({disabled:s}),"checked"==t&&i!=s&&e.host.jqxCheckBox({checked:s})}}),new p.jqwidgets.knockout({name:"jqxRadioButton",checked:!1,disabled:!1,reset:function(){this.checked=!1,this.disabled=!1},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"checked",value:t.args.checked}},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxRadioButton({disabled:s}),"checked"==t&&i!=s&&e.host.jqxRadioButton({checked:s})}}),new p.jqwidgets.knockout({name:"jqxDateTimeInput",value:null,disabled:!1,reset:function(){this.value=null,this.disabled=!1},events:["valueChanged"],getProperty:function(e,t,i){if("valueChanged"==i)return{name:"value",value:t.args.date}},setProperty:function(e,t,i,s){"value"==t&&e.setDate(s),"disabled"==t&&e.host.jqxDateTimeInput({disabled:s})}}),new p.jqwidgets.knockout({name:"jqxCalendar",value:null,disabled:!1,reset:function(){this.value=null,this.disabled=!1},events:["valueChanged"],getProperty:function(e,t,i){if("valueChanged"==i)return{name:"value",value:t.args.date}},setProperty:function(e,t,i,s){"value"==t&&e.setDate(s),"disabled"==t&&e.host.jqxCalendar({disabled:s})}}),new p.jqwidgets.knockout({name:"jqxNumberInput",value:null,events:["valueChanged"],disabled:!1,reset:function(){this.value=null,this.disabled=!1},getProperty:function(e,t,i){if("valueChanged"==i)return{name:"value",value:e.val()}},setProperty:function(e,t,i,s){"value"==t&&e.host.jqxNumberInput("val",s),"disabled"==t&&e.host.jqxNumberInput({disabled:s})}}),new p.jqwidgets.knockout({name:"jqxMaskedInput",value:null,events:["valueChanged"],disabled:!1,reset:function(){this.value=null,this.disabled=!1},getProperty:function(e,t,i){if("valueChanged"==i)return{name:"value",value:e.val()}},setProperty:function(e,t,i,s){"value"==t&&e.host.jqxMaskedInput("val",s),"disabled"==t&&e.host.jqxMaskedInput({disabled:s})}}),new p.jqwidgets.knockout({name:"jqxListBox",source:null,disabled:!1,selectedIndex:-1,reset:function(){this.disabled=!1,this.selectedIndex=-1,this.source=null},events:["change"],getProperty:function(e,t,i){if("change"==i)return this.selectedIndex=e.selectedIndex,{name:"selectedIndex",value:e.selectedIndex}},setProperty:function(e,t,i,s){if("source"==t&&(e.source=s,e.refresh()),"disabled"==t&&(e.disabled=s,e._renderItems()),"selectedIndex"==t){var r=e.disabled;e.disabled=!1,e.selectIndex(s),(e.disabled=r)&&e._renderItems()}}}),new p.jqwidgets.knockout({name:"jqxDropDownList",source:null,disabled:!1,selectedIndex:-1,reset:function(){this.disabled=!1,this.selectedIndex=-1,this.source=null},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"selectedIndex",value:e.selectedIndex}},setProperty:function(e,t,i,s){"source"==t&&e.host.jqxDropDownList({source:s}),"disabled"==t&&e.host.jqxDropDownList({disabled:s}),"selectedIndex"==t&&e.host.jqxDropDownList({selectedIndex:s})}}),new p.jqwidgets.knockout({name:"jqxComboBox",source:null,disabled:!1,selectedIndex:-1,reset:function(){this.disabled=!1,this.selectedIndex=-1,this.source=null},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"selectedIndex",value:e.selectedIndex}},setProperty:function(e,t,i,s){"source"==t&&e.host.jqxComboBox({source:s}),"disabled"==t&&e.host.jqxComboBox({disabled:s}),"selectedIndex"==t&&e.host.jqxComboBox({selectedIndex:s})}}),new p.jqwidgets.knockout({name:"jqxInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"value",value:e.host.val()}},setProperty:function(e,t,i,s){"source"==t&&e.host.jqxInput({source:s}),"disabled"==t&&e.host.jqxInput({disabled:s}),"value"==t&&e.host.jqxInput({value:s})}}),new p.jqwidgets.knockout({name:"jqxComplexInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"value",value:e.host.val()}},setProperty:function(e,t,i,s){"source"==t&&e.host.jqxComplexInput({source:s}),"disabled"==t&&e.host.jqxComplexInput({disabled:s}),"value"==t&&e.host.jqxComplexInput({value:s})}}),new p.jqwidgets.knockout({name:"jqxFormattedInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"value",value:e.host.val()}},setProperty:function(e,t,i,s){"source"==t&&e.host.jqxFormattedInput({source:s}),"disabled"==t&&e.host.jqxFormattedInput({disabled:s}),"value"==t&&e.host.jqxFormattedInput({value:s})}}),new p.jqwidgets.knockout({name:"jqxPasswordInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"value",value:e.host.val()}},setProperty:function(e,t,i,s){"source"==t&&e.host.jqxPasswordInput({source:s}),"disabled"==t&&e.host.jqxPasswordInput({disabled:s}),"value"==t&&e.host.jqxPasswordInput({value:s})}}),new p.jqwidgets.knockout({name:"jqxTree",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"source"==t&&e.host.jqxTree({source:s}),"disabled"==t&&e.host.jqxTree({disabled:s})}}),new p.jqwidgets.knockout({name:"jqxTabs",disabled:!1,reset:function(){this.disabled=!1},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxTabs({disabled:s})}}),new p.jqwidgets.knockout({name:"jqxWindow",disabled:!1,content:"",title:"",reset:function(){this.disabled=!1,this.title="",this.content=""},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"disabled"==t?e.host.jqxWindow({disabled:s}):"content"==t?e.host.jqxWindow("setContent",s):"title"==t&&e.host.jqxWindow({title:s})}}),new p.jqwidgets.knockout({name:"jqxNavigationBar",disabled:!1,reset:function(){this.disabled=!1},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"disabled"==t&&s!=this.disabled&&(this.disabled=s,e.host.jqxNavigationBar({disabled:s}))}}),new p.jqwidgets.knockout({name:"jqxMenu",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"source"==t&&e.host.jqxMenu({source:s}),"disabled"==t&&e.host.jqxMenu({disabled:s})}}),new p.jqwidgets.knockout({name:"jqxChart",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"source"==t&&(this.source=s,e.host.jqxChart({source:s})),"disabled"==t&&(this.disabled=s,e.host.jqxChart({disabled:s}))}}),new p.jqwidgets.knockout({name:"jqxDataTable",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"source"==t&&(this.source=s,e.host.jqxDataTable({source:s})),"disabled"==t&&(this.disabled=s,e.host.jqxDataTable({disabled:s}))}}),new p.jqwidgets.knockout({name:"jqxTreeGrid",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"source"==t&&(this.source=s,e.host.jqxTreeGrid({source:s})),"disabled"==t&&(this.disabled=s,e.host.jqxTreeGrid({disabled:s}))}}),new p.jqwidgets.knockout({name:"jqxKnob",value:0,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"value"==t&&(this.value=s,e.host.jqxKnob({value:s})),"disabled"==t&&(this.disabled=s,e.host.jqxKnob({disabled:s}))}}),new p.jqwidgets.knockout({name:"jqxScheduler",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"source"==t&&(this.source=s,e.host.jqxScheduler({source:s})),"disabled"==t&&(this.disabled=s,e.host.jqxScheduler({disabled:s}))}}),new p.jqwidgets.knockout({name:"jqxKanban",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"source"==t&&(this.source=s,e.host.jqxKanban({source:s})),"disabled"==t&&(this.disabled=s,e.host.jqxKanban({disabled:s}))}}),new p.jqwidgets.knockout({name:"jqxGrid",source:null,disabled:!1,selectedRowIndex:-1,reset:function(){this.disabled=!1,this.source=null,this.selectedRowIndex=-1},serialize:function(e,t){return!("source"!=t||!e.source||!e.source._source)&&e.source.records},events:["cellvaluechanged","cellselect","rowselect"],getProperty:function(e,t,i,s){if("cellvaluechanged"==i){var r=e.host.jqxGrid("getrowid",t.args.rowindex),n=e.host.jqxGrid("getrowdata",r),o=s.source;if(null!=o){var a={},l={},d=!1,h=!1;return o()[r]&&u.each(o()[r],function(e,t){a[e]=t,l[e]="",p.isObservable(t)&&!p.isComputed(t)&&(d=!0,t(n[e])),p.isObservable(t)&&p.isComputed(t)&&(h=!0)}),d?(a=n,o.replace&&o.replace(o()[r],a)):(a=n,o.replace&&(o.replace(o()[r],l),o.replace(o()[r],a))),h&&e.host.jqxGrid("updaterow",r,p.toJS(o)[r]),{name:"source",value:o}}}},setProperty:function(e,t,i,s){if("selectedRowIndex"==t&&e.host.jqxGrid("selectrow",s),"source"==t)if(null==this.source||null==s){if(this.source!=s){var r={localdata:this.source=s,datatype:"local"},n=new u.jqx.dataAdapter(r);e.host.jqxGrid({source:n})}}else{r={localdata:s,datatype:"local"};if((n=new u.jqx.dataAdapter(r)).dataBind(),!i.records||!n.records)return;var o=Math.max(i.records.length,n.records.length),a=Math.abs(i.records.length-n.records.length);if(0==a&&10<o)return void e.host.jqxGrid({source:n});1<a&&e.host.jqxGrid("beginupdate");for(var l=new Array,d=0;d<o;d++){var h=n.records[d];if(null==h){var c=e.host.jqxGrid("getrowid",d);l.push(c)}else{if(null!=i.records[d]){if(p.toJSON(h)!=p.toJSON(i.records[d])){if(null!=i.records[d].uid&&(h.uid=i.records[d].uid,p.toJSON(h)==p.toJSON(i.records[d])))continue;c=e.host.jqxGrid("getrowid",d);e.host.jqxGrid("updaterow",c,h)}}else e.host.jqxGrid("addrow",null,h)}}0<l.length&&e.host.jqxGrid("deleterow",l),1<a&&e.host.jqxGrid("endupdate")}"disabled"==t&&e.host.jqxGrid({disabled:s})}}),new p.jqwidgets.knockout({name:"jqxBulletChart",pointer:{value:0},target:{value:0},disabled:!1,reset:function(){this.pointer.value=0,this.target.value=0,this.disabled=!1},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"pointer"==t&&e.host.jqxBulletChart({pointer:s}),"target"==t&&e.host.jqxBulletChart({target:s}),"disabled"==t&&e.host.jqxBulletChart({disabled:s})}})}(jqxBaseFramework,ko)}catch(e){var er=e}